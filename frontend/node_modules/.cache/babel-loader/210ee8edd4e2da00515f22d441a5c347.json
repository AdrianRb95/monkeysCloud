{"ast":null,"code":"var _jsxFileName = \"/Users/yorch/development/Monkeys-frontend/src/pages/subscription/stripe/index.js\";\nimport React, { memo, useEffect, useState } from 'react';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport Modal from 'react-modal';\nimport './style.scss';\nimport axios from 'axios';\nconst CARD_STYLE = {\n  style: {\n    base: {\n      fontSize: '16px',\n      color: '#424770',\n      fontFamily: 'Open Sans, sans-serif',\n      letterSpacing: '0.025em',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#c23d4b'\n    }\n  }\n};\nconst customStyles = {\n  content: {\n    border: 'none',\n    height: 500,\n    maxWidth: 500,\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    background: 'transparent'\n  },\n  overlay: {\n    margin: '0 auto',\n    backgroundColor: ' rgba(255,255,255,0.5)'\n  }\n};\n\nconst Stripe = ({\n  openModal = false,\n  closeModal,\n  name,\n  price\n}) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  useEffect(() => {\n    Modal.setAppElement('body');\n  }, []);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(elements.getElement(CardElement));\n    const {\n      error,\n      paymentMethod\n    } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement)\n    });\n    /*     if (!error) {\n      // console.log(paymentMethod)\n      const { id } = paymentMethod;\n      try {\n        const { data } = await axios.post(\n          'http://localhost:3001/api/checkout',\n          {\n            id,\n            amount: 10000, //cents\n          }\n        );\n        console.log(data);\n         elements.getElement(CardElement).clear();\n      } catch (error) {\n        console.log(error);\n      }\n      setLoading(false);\n    } */\n  };\n\n  return /*#__PURE__*/React.createElement(Modal, {\n    onRequestClose: closeModal,\n    isOpen: openModal,\n    style: customStyles,\n    ariaHideApp: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"stripe-form-card monkeys-p-3\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, \"Card details\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"monkeys-my-2 stripe-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardElement, {\n    options: CARD_STYLE,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"monkeys-py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Details :\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, name), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"plan-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 31\n    }\n  }, \"$\", price)), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: !stripe,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Pay\")));\n};\n\nexport default memo(Stripe);","map":{"version":3,"sources":["/Users/yorch/development/Monkeys-frontend/src/pages/subscription/stripe/index.js"],"names":["React","memo","useEffect","useState","CardElement","useStripe","useElements","Modal","axios","CARD_STYLE","style","base","fontSize","color","fontFamily","letterSpacing","invalid","customStyles","content","border","height","maxWidth","margin","display","justifyContent","background","overlay","backgroundColor","Stripe","openModal","closeModal","name","price","stripe","elements","setAppElement","loading","setLoading","handleSubmit","e","preventDefault","console","log","getElement","error","paymentMethod","createPaymentMethod","type","card"],"mappings":"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","sourcesContent":["import React, { memo, useEffect, useState } from 'react';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport Modal from 'react-modal';\n\nimport './style.scss';\nimport axios from 'axios';\n\nconst CARD_STYLE = {\n  style: {\n    base: {\n      fontSize: '16px',\n      color: '#424770',\n      fontFamily: 'Open Sans, sans-serif',\n      letterSpacing: '0.025em',\n      '::placeholder': {\n        color: '#aab7c4',\n      },\n    },\n    invalid: {\n      color: '#c23d4b',\n    },\n  },\n};\n\nconst customStyles = {\n  content: {\n    border: 'none',\n    height: 500,\n    maxWidth: 500,\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    background: 'transparent',\n  },\n  overlay: {\n    margin: '0 auto',\n    backgroundColor: ' rgba(255,255,255,0.5)',\n  },\n};\n\nconst Stripe = ({ openModal = false, closeModal, name, price }) => {\n  const stripe = useStripe();\n  const elements = useElements();\n  useEffect(() => {\n    Modal.setAppElement('body');\n  }, []);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    console.log(elements.getElement(CardElement));\n\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement),\n    });\n\n    /*     if (!error) {\n      // console.log(paymentMethod)\n      const { id } = paymentMethod;\n      try {\n        const { data } = await axios.post(\n          'http://localhost:3001/api/checkout',\n          {\n            id,\n            amount: 10000, //cents\n          }\n        );\n        console.log(data);\n\n        elements.getElement(CardElement).clear();\n      } catch (error) {\n        console.log(error);\n      }\n      setLoading(false);\n    } */\n  };\n\n  return (\n    <Modal\n      onRequestClose={closeModal}\n      isOpen={openModal}\n      style={customStyles}\n      ariaHideApp={false}\n    >\n      <form className='stripe-form-card monkeys-p-3' onSubmit={handleSubmit}>\n        <h3 className=''>Card details</h3>\n        <div className='monkeys-my-2 stripe-form'>\n          <CardElement options={CARD_STYLE} />\n        </div>\n        <h4 className='monkeys-py-2'>Details :</h4>\n        <p>\n          <span>{name}</span> <span className='plan-price'>${price}</span>\n        </p>\n        <button disabled={!stripe}>Pay</button>\n      </form>\n    </Modal>\n  );\n};\n\nexport default memo(Stripe);\n"]},"metadata":{},"sourceType":"module"}