{"ast":null,"code":"import { NotificationManager } from 'react-notifications';\nimport actions from './constants';\nimport axios from '../../api/axios';\nimport { UserDetailsStore } from './store';\nexport default function useActions() {\n  const [state, dispatch] = UserDetailsStore.useUserDetails();\n\n  const baseUrl = (action, id) => `user/${action}${id && '/' + id}`;\n\n  const getData = async id => {\n    try {\n      const {\n        data\n      } = await axios.get(baseUrl('read', id));\n      dispatch({\n        type: actions.SET_USER,\n        payload: data.user\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const updateUser = async values => {\n    delete values.id;\n\n    try {\n      await axios.patch(baseUrl('update', state.user.id), values);\n      NotificationManager.success('Profile updated successfully');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const changePassword = async values => {\n    delete values.confirmPassword;\n\n    try {\n      await axios.patch(baseUrl('changePassword', state.user.id), values);\n      NotificationManager.success('Profile updated successfully');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return {\n    changePassword,\n    getData,\n    state,\n    updateUser\n  };\n}","map":{"version":3,"sources":["C:/Users/PC/Desktop/colibricode/monkeysCloud/frontend/src/store/userDetails/actions.js"],"names":["NotificationManager","actions","axios","UserDetailsStore","useActions","state","dispatch","useUserDetails","baseUrl","action","id","getData","data","get","type","SET_USER","payload","user","error","console","log","updateUser","values","patch","success","changePassword","confirmPassword"],"mappings":"AAAA,SAASA,mBAAT,QAAoC,qBAApC;AAEA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAOC,KAAP,MAAkB,iBAAlB;AACA,SAASC,gBAAT,QAAiC,SAAjC;AAEA,eAAe,SAASC,UAAT,GAAsB;AACnC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBH,gBAAgB,CAACI,cAAjB,EAA1B;;AAEA,QAAMC,OAAO,GAAG,CAACC,MAAD,EAASC,EAAT,KAAiB,QAAOD,MAAO,GAAEC,EAAE,IAAI,MAAMA,EAAG,EAAhE;;AAEA,QAAMC,OAAO,GAAG,MAAMD,EAAN,IAAY;AAC1B,QAAI;AACF,YAAM;AAAEE,QAAAA;AAAF,UAAW,MAAMV,KAAK,CAACW,GAAN,CAAUL,OAAO,CAAC,MAAD,EAASE,EAAT,CAAjB,CAAvB;AACAJ,MAAAA,QAAQ,CAAC;AACPQ,QAAAA,IAAI,EAAEb,OAAO,CAACc,QADP;AAEPC,QAAAA,OAAO,EAAEJ,IAAI,CAACK;AAFP,OAAD,CAAR;AAID,KAND,CAME,OAAOC,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GAVD;;AAYA,QAAMG,UAAU,GAAG,MAAMC,MAAN,IAAgB;AACjC,WAAOA,MAAM,CAACZ,EAAd;;AACA,QAAI;AACF,YAAMR,KAAK,CAACqB,KAAN,CAAYf,OAAO,CAAC,QAAD,EAAWH,KAAK,CAACY,IAAN,CAAWP,EAAtB,CAAnB,EAA8CY,MAA9C,CAAN;AACAtB,MAAAA,mBAAmB,CAACwB,OAApB,CAA4B,8BAA5B;AACD,KAHD,CAGE,OAAON,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GARD;;AAUA,QAAMO,cAAc,GAAG,MAAMH,MAAN,IAAgB;AACrC,WAAOA,MAAM,CAACI,eAAd;;AACA,QAAI;AACF,YAAMxB,KAAK,CAACqB,KAAN,CAAYf,OAAO,CAAC,gBAAD,EAAmBH,KAAK,CAACY,IAAN,CAAWP,EAA9B,CAAnB,EAAsDY,MAAtD,CAAN;AACAtB,MAAAA,mBAAmB,CAACwB,OAApB,CAA4B,8BAA5B;AACD,KAHD,CAGE,OAAON,KAAP,EAAc;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD;AACF,GARD;;AAUA,SAAO;AACLO,IAAAA,cADK;AAELd,IAAAA,OAFK;AAGLN,IAAAA,KAHK;AAILgB,IAAAA;AAJK,GAAP;AAMD","sourcesContent":["import { NotificationManager } from 'react-notifications';\r\n\r\nimport actions from './constants';\r\nimport axios from '../../api/axios';\r\nimport { UserDetailsStore } from './store';\r\n\r\nexport default function useActions() {\r\n  const [state, dispatch] = UserDetailsStore.useUserDetails();\r\n\r\n  const baseUrl = (action, id) => `user/${action}${id && '/' + id}`;\r\n\r\n  const getData = async id => {\r\n    try {\r\n      const { data } = await axios.get(baseUrl('read', id));\r\n      dispatch({\r\n        type: actions.SET_USER,\r\n        payload: data.user,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const updateUser = async values => {\r\n    delete values.id;\r\n    try {\r\n      await axios.patch(baseUrl('update', state.user.id), values);\r\n      NotificationManager.success('Profile updated successfully');\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const changePassword = async values => {\r\n    delete values.confirmPassword;\r\n    try {\r\n      await axios.patch(baseUrl('changePassword', state.user.id), values);\r\n      NotificationManager.success('Profile updated successfully');\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return {\r\n    changePassword,\r\n    getData,\r\n    state,\r\n    updateUser,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}