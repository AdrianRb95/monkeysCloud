{"ast":null,"code":"import React, { memo, useEffect, useState } from 'react'; // import { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\n\nimport Modal from 'react-modal';\nimport './style.scss';\nimport axios from 'axios';\nconst CARD_STYLE = {\n  style: {\n    base: {\n      fontSize: '16px',\n      color: '#424770',\n      fontFamily: 'Open Sans, sans-serif',\n      letterSpacing: '0.025em',\n      '::placeholder': {\n        color: '#aab7c4'\n      }\n    },\n    invalid: {\n      color: '#c23d4b'\n    }\n  }\n};\nconst customStyles = {\n  content: {\n    border: 'none',\n    height: 500,\n    maxWidth: 500,\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    background: 'transparent'\n  },\n  overlay: {\n    margin: '0 auto',\n    backgroundColor: ' rgba(255,255,255,0.5)'\n  }\n}; // const Stripe = ({ openModal = false, closeModal, name, price }) => {\n//   const stripe = useStripe();\n//   const elements = useElements();\n//   useEffect(() => {\n//     Modal.setAppElement('body');\n//   }, []);\n//   const [loading, setLoading] = useState(false);\n//   const handleSubmit = async e => {\n//     e.preventDefault();\n//     console.log(elements.getElement(CardElement));\n//     const { error, paymentMethod } = await stripe.createPaymentMethod({\n//       type: 'card',\n//       card: elements.getElement(CardElement),\n//     });\n//     /*     if (!error) {\n//       // console.log(paymentMethod)\n//       const { id } = paymentMethod;\n//       try {\n//         const { data } = await axios.post(\n//           'http://localhost:3001/api/checkout',\n//           {\n//             id,\n//             amount: 10000, //cents\n//           }\n//         );\n//         console.log(data);\n//         elements.getElement(CardElement).clear();\n//       } catch (error) {\n//         console.log(error);\n//       }\n//       setLoading(false);\n//     } */\n//   };\n//   return (\n//     <Modal\n//       onRequestClose={closeModal}\n//       isOpen={openModal}\n//       style={customStyles}\n//       ariaHideApp={false}\n//     >\n//       <form className='stripe-form-card monkeys-p-3' onSubmit={handleSubmit}>\n//         <h3 className=''>Card details</h3>\n//         <div className='monkeys-my-2 stripe-form'>\n//           <CardElement options={CARD_STYLE} />\n//         </div>\n//         <h4 className='monkeys-py-2'>Details :</h4>\n//         <p>\n//           <span>{name}</span> <span className='plan-price'>${price}</span>\n//         </p>\n//         <button disabled={!stripe}>Pay</button>\n//       </form>\n//     </Modal>\n//   );\n// };\n\nexport default memo(Stripe);","map":{"version":3,"sources":["/Users/yorch/development/monkeysCloud/frontend/src/pages/subscription/stripe/index.js"],"names":["React","memo","useEffect","useState","Modal","axios","CARD_STYLE","style","base","fontSize","color","fontFamily","letterSpacing","invalid","customStyles","content","border","height","maxWidth","margin","display","justifyContent","background","overlay","backgroundColor","Stripe"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD,C,CACA;;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAO,cAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,UAAU,GAAG;AACjBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,IAAI,EAAE;AACJC,MAAAA,QAAQ,EAAE,MADN;AAEJC,MAAAA,KAAK,EAAE,SAFH;AAGJC,MAAAA,UAAU,EAAE,uBAHR;AAIJC,MAAAA,aAAa,EAAE,SAJX;AAKJ,uBAAiB;AACfF,QAAAA,KAAK,EAAE;AADQ;AALb,KADD;AAULG,IAAAA,OAAO,EAAE;AACPH,MAAAA,KAAK,EAAE;AADA;AAVJ;AADU,CAAnB;AAiBA,MAAMI,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE,MADD;AAEPC,IAAAA,MAAM,EAAE,GAFD;AAGPC,IAAAA,QAAQ,EAAE,GAHH;AAIPC,IAAAA,MAAM,EAAE,QAJD;AAKPC,IAAAA,OAAO,EAAE,MALF;AAMPC,IAAAA,cAAc,EAAE,QANT;AAOPC,IAAAA,UAAU,EAAE;AAPL,GADU;AAUnBC,EAAAA,OAAO,EAAE;AACPJ,IAAAA,MAAM,EAAE,QADD;AAEPK,IAAAA,eAAe,EAAE;AAFV;AAVU,CAArB,C,CAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAevB,IAAI,CAACwB,MAAD,CAAnB","sourcesContent":["import React, { memo, useEffect, useState } from 'react';\n// import { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport Modal from 'react-modal';\n\nimport './style.scss';\nimport axios from 'axios';\n\nconst CARD_STYLE = {\n  style: {\n    base: {\n      fontSize: '16px',\n      color: '#424770',\n      fontFamily: 'Open Sans, sans-serif',\n      letterSpacing: '0.025em',\n      '::placeholder': {\n        color: '#aab7c4',\n      },\n    },\n    invalid: {\n      color: '#c23d4b',\n    },\n  },\n};\n\nconst customStyles = {\n  content: {\n    border: 'none',\n    height: 500,\n    maxWidth: 500,\n    margin: '0 auto',\n    display: 'flex',\n    justifyContent: 'center',\n    background: 'transparent',\n  },\n  overlay: {\n    margin: '0 auto',\n    backgroundColor: ' rgba(255,255,255,0.5)',\n  },\n};\n\n// const Stripe = ({ openModal = false, closeModal, name, price }) => {\n//   const stripe = useStripe();\n//   const elements = useElements();\n//   useEffect(() => {\n//     Modal.setAppElement('body');\n//   }, []);\n//   const [loading, setLoading] = useState(false);\n\n//   const handleSubmit = async e => {\n//     e.preventDefault();\n\n//     console.log(elements.getElement(CardElement));\n\n//     const { error, paymentMethod } = await stripe.createPaymentMethod({\n//       type: 'card',\n//       card: elements.getElement(CardElement),\n//     });\n\n//     /*     if (!error) {\n//       // console.log(paymentMethod)\n//       const { id } = paymentMethod;\n//       try {\n//         const { data } = await axios.post(\n//           'http://localhost:3001/api/checkout',\n//           {\n//             id,\n//             amount: 10000, //cents\n//           }\n//         );\n//         console.log(data);\n\n//         elements.getElement(CardElement).clear();\n//       } catch (error) {\n//         console.log(error);\n//       }\n//       setLoading(false);\n//     } */\n//   };\n\n//   return (\n//     <Modal\n//       onRequestClose={closeModal}\n//       isOpen={openModal}\n//       style={customStyles}\n//       ariaHideApp={false}\n//     >\n//       <form className='stripe-form-card monkeys-p-3' onSubmit={handleSubmit}>\n//         <h3 className=''>Card details</h3>\n//         <div className='monkeys-my-2 stripe-form'>\n//           <CardElement options={CARD_STYLE} />\n//         </div>\n//         <h4 className='monkeys-py-2'>Details :</h4>\n//         <p>\n//           <span>{name}</span> <span className='plan-price'>${price}</span>\n//         </p>\n//         <button disabled={!stripe}>Pay</button>\n//       </form>\n//     </Modal>\n//   );\n// };\n\nexport default memo(Stripe);\n"]},"metadata":{},"sourceType":"module"}