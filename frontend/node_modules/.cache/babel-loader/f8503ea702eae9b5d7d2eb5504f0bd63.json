{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 45);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (false) {\n    var throwOnDirectAccess, ReactIs;\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = __webpack_require__(43)();\n  }\n  /***/\n\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n      name: 'dialog',\n\n      /**\r\n       * @description Constructor\r\n       * @param {Object} core Core object \r\n       */\n      add: function (core) {\n        const context = core.context;\n        context.dialog = {\n          kind: '',\n          updateModal: false,\n          _closeSignal: false\n        };\n        /** dialog */\n\n        let dialog_div = core.util.createElement('DIV');\n        dialog_div.className = 'se-dialog sun-editor-common';\n        let dialog_back = core.util.createElement('DIV');\n        dialog_back.className = 'se-dialog-back';\n        dialog_back.style.display = 'none';\n        let dialog_area = core.util.createElement('DIV');\n        dialog_area.className = 'se-dialog-inner';\n        dialog_area.style.display = 'none';\n        dialog_div.appendChild(dialog_back);\n        dialog_div.appendChild(dialog_area);\n        context.dialog.modalArea = dialog_div;\n        context.dialog.back = dialog_back;\n        context.dialog.modal = dialog_area;\n        /** add event listeners */\n\n        context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n        context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(dialog_div);\n        /** empty memory */\n\n        dialog_div = null, dialog_back = null, dialog_area = null;\n      },\n\n      /**\r\n       * @description Event to control the behavior of closing the dialog\r\n       * @param {MouseEvent} e Event object\r\n       * @private\r\n       */\n      _onMouseDown_dialog: function (e) {\n        if (/se-dialog-inner/.test(e.target.className)) {\n          this.context.dialog._closeSignal = true;\n        } else {\n          this.context.dialog._closeSignal = false;\n        }\n      },\n\n      /**\r\n       * @description Event to close the window when the outside area of the dialog or close button is click\r\n       * @param {MouseEvent} e Event object\r\n       * @private\r\n       */\n      _onClick_dialog: function (e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n          this.plugins.dialog.close.call(this);\n        }\n      },\n\n      /**\r\n       * @description Open a Dialog plugin\r\n       * @param {String} kind Dialog plugin name\r\n       * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\r\n       */\n      open: function (kind, update) {\n        if (this.modalForm) return false;\n\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        this.plugins.dialog._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.dialog.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.context.dialog.updateModal = update;\n\n        if (this.context.option.popupDisplay === 'full') {\n          this.context.dialog.modalArea.style.position = 'fixed';\n        } else {\n          this.context.dialog.modalArea.style.position = 'absolute';\n        }\n\n        this.context.dialog.kind = kind;\n        this.modalForm = this.context[kind].modal;\n        const focusElement = this.context[kind].focusElement;\n        if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n        this.context.dialog.modalArea.style.display = 'block';\n        this.context.dialog.back.style.display = 'block';\n        this.context.dialog.modal.style.display = 'block';\n        this.modalForm.style.display = 'block';\n        if (focusElement) focusElement.focus();\n      },\n      _bindClose: null,\n\n      /**\r\n       * @description Close a Dialog plugin\r\n       * The plugin's \"init\" method is called.\r\n       */\n      close: function () {\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        const kind = this.context.dialog.kind;\n        this.modalForm.style.display = 'none';\n        this.context.dialog.back.style.display = 'none';\n        this.context.dialog.modalArea.style.display = 'none';\n        this.context.dialog.updateModal = false;\n        if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n        this.context.dialog.kind = '';\n        this.modalForm = null;\n        this.focus();\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: dialog\n      });\n    }\n\n    return dialog;\n  });\n  /***/\n\n},\n/* 2 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const component = {\n      name: 'component',\n\n      /**\r\n       * @description Create a container for the resizing component and insert the element.\r\n       * @param {Element} cover Cover element (FIGURE)\r\n       * @param {String} className Class name of container (fixed: se-component)\r\n       * @returns {Element} Created container element\r\n       */\n      set_container: function (cover, className) {\n        const container = this.util.createElement('DIV');\n        container.className = 'se-component ' + className;\n        container.setAttribute('contenteditable', false);\n        container.appendChild(cover);\n        return container;\n      },\n\n      /**\r\n       * @description Cover the target element with a FIGURE element.\r\n       * @param {Element} element Target element\r\n       */\n      set_cover: function (element) {\n        const cover = this.util.createElement('FIGURE');\n        cover.appendChild(element);\n        return cover;\n      },\n\n      /**\r\n       * @description Return HTML string of caption(FIGCAPTION) element\r\n       * @returns {String}\r\n       */\n      create_caption: function () {\n        const caption = this.util.createElement('FIGCAPTION');\n        caption.setAttribute('contenteditable', true);\n        caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n        return caption;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: component\n      });\n    }\n\n    return component;\n  });\n  /***/\n\n},\n/* 3 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileManager = {\n      name: 'fileManager',\n      _xmlHttp: null,\n\n      /**\r\n       * @description Upload the file to the server.\r\n       * @param {String} uploadUrl Upload server url\r\n       * @param {Object|null} uploadHeader Request header\r\n       * @param {FormData} formData FormData in body\r\n       * @param {Function|null} callBack Success call back function\r\n       * @param {Function|null} errorCallBack Error call back function\r\n       * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n       */\n      upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n        this.showLoading();\n        const filePlugin = this.plugins.fileManager;\n        const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n        xmlHttp.open('post', uploadUrl, true);\n\n        if (uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0) {\n          for (let key in uploadHeader) {\n            xmlHttp.setRequestHeader(key, uploadHeader[key]);\n          }\n        }\n\n        xmlHttp.send(formData);\n      },\n      _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\n        if (xmlHttp.readyState === 4) {\n          if (xmlHttp.status === 200) {\n            try {\n              callBack(xmlHttp);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.closeLoading();\n            }\n          } else {\n            // exception\n            this.closeLoading();\n            const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n            if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\n              const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              this.functions.noticeOpen(err);\n              throw Error(err);\n            }\n          }\n        }\n      },\n\n      /**\r\n       * @description Checke the file's information and modify the tag that does not fit the format.\r\n       * @param {String} pluginName Plugin name\r\n       * @param {Array} tagNames Tag array to check\r\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n       * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n       * @param {Boolean} resizing True if the plugin is using a resizing module\r\n       * @example \r\n       * const modifyHandler = function (tag) {\r\n       *      imagePlugin.onModifyMode.call(this, tag, null);\r\n       *      imagePlugin.openModify.call(this, true);\r\n       *      imagePlugin.update_image.call(this, true, false, true);\r\n       *  }.bind(this);\r\n       *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n       */\n      checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n        let tags = [];\n\n        for (let i = 0, len = tagNames.length; i < len; i++) {\n          tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n        }\n\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        const setFileInfo = this.plugins.fileManager.setInfo.bind(this);\n\n        if (tags.length === infoList.length) {\n          // reset\n          if (this._componentsInfoReset) {\n            for (let i = 0, len = tags.length; i < len; i++) {\n              setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\n            }\n\n            return;\n          } else {\n            let infoUpdate = false;\n\n            for (let i = 0, len = infoList.length, info; i < len; i++) {\n              info = infoList[i];\n\n              if (tags.filter(function (t) {\n                return info.src === t.src && info.index.toString() === t.getAttribute('data-index');\n              }).length === 0) {\n                infoUpdate = true;\n                break;\n              }\n            } // pass\n\n\n            if (!infoUpdate) return;\n          }\n        } // check\n\n\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const currentTags = [];\n        const infoIndex = [];\n\n        for (let i = 0, len = infoList.length; i < len; i++) {\n          infoIndex[i] = infoList[i].index;\n        }\n\n        for (let i = 0, len = tags.length, tag; i < len; i++) {\n          tag = tags[i];\n\n          if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !/FIGURE/i.test(tag.parentElement.nodeName)) {\n            currentTags.push(context._infoIndex);\n            modifyHandler(tag);\n          } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\n            currentTags.push(context._infoIndex);\n            tag.removeAttribute('data-index');\n            setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n          } else {\n            currentTags.push(tag.getAttribute('data-index') * 1);\n          }\n        }\n\n        for (let i = 0, dataIndex; i < infoList.length; i++) {\n          dataIndex = infoList[i].index;\n          if (currentTags.indexOf(dataIndex) > -1) continue;\n          infoList.splice(i, 1);\n          if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\n          i--;\n        }\n\n        if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\n      },\n\n      /**\r\n       * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n       * @param {String} pluginName Plugin name \r\n       * @param {Element} element \r\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n       * @param {Object|null} file \r\n       * @param {Boolean} resizing True if the plugin is using a resizing module\r\n       * @example \r\n       * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n       * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n       */\n      setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const plguin = this.plugins[pluginName];\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        let dataIndex = element.getAttribute('data-index');\n        let info = null;\n        let state = '';\n\n        if (!file) {\n          file = {\n            'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\n            'size': element.getAttribute('data-file-size') || 0\n          };\n        } // create\n\n\n        if (!dataIndex || this._componentsInfoInit) {\n          state = 'create';\n          dataIndex = context._infoIndex++;\n          element.setAttribute('data-index', dataIndex);\n          element.setAttribute('data-file-name', file.name);\n          element.setAttribute('data-file-size', file.size);\n          info = {\n            src: element.src,\n            index: dataIndex * 1,\n            name: file.name,\n            size: file.size\n          };\n          infoList.push(info);\n        } else {\n          // update\n          state = 'update';\n          dataIndex *= 1;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (dataIndex === infoList[i].index) {\n              info = infoList[i];\n              break;\n            }\n          }\n\n          if (!info) {\n            dataIndex = context._infoIndex++;\n            info = {\n              index: dataIndex\n            };\n            infoList.push(info);\n          }\n\n          info.src = element.src;\n          info.name = element.getAttribute(\"data-file-name\");\n          info.size = element.getAttribute(\"data-file-size\") * 1;\n        } // method bind\n\n\n        info.element = element;\n        info.delete = plguin.destroy.bind(this, element);\n\n        info.select = function (element) {\n          element.scrollIntoView(true);\n\n          this._w.setTimeout(plguin.select.bind(this, element));\n        }.bind(this, element);\n\n        if (resizing) {\n          if (!element.getAttribute('origin-size') && element.naturalWidth) {\n            element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\n          }\n\n          if (!element.getAttribute('data-origin')) {\n            const container = this.util.getParentElement(element, this.util.isMediaComponent);\n            const cover = this.util.getParentElement(element, 'FIGURE');\n\n            const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n            const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n            element.setAttribute('data-origin', w + ',' + h);\n            element.setAttribute('data-size', w + ',' + h);\n          }\n\n          if (!element.style.width) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            plguin.onModifyMode.call(this, element, null);\n            plguin.applySize.call(this, size[0], size[1]);\n          }\n\n          this.context.resizing._resize_plugin = _resize_plugin;\n        }\n\n        if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      },\n\n      /**\r\n       * @description Delete info object at \"_infoList\"\r\n       * @param {String} pluginName Plugin name \r\n       * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n       */\n      deleteInfo: function (pluginName, index, uploadEventHandler) {\n        if (index >= 0) {\n          const infoList = this.context[pluginName]._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (index === infoList[i].index) {\n              infoList.splice(i, 1);\n              if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\n              return;\n            }\n          }\n        }\n      },\n\n      /**\r\n       * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n       * @param {String} pluginName Plugin name \r\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n       */\n      resetInfo: function (pluginName, uploadEventHandler) {\n        const context = this.context[pluginName];\n\n        if (typeof uploadEventHandler === 'function') {\n          const infoList = context._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\n          }\n        }\n\n        context._infoList = [];\n        context._infoIndex = 0;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileManager\n      });\n    }\n\n    return fileManager;\n  });\n  /***/\n\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'en',\n      toolbar: {\n        default: 'Default',\n        save: 'Save',\n        font: 'Font',\n        formats: 'Formats',\n        fontSize: 'Size',\n        bold: 'Bold',\n        underline: 'Underline',\n        italic: 'Italic',\n        strike: 'Strike',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Remove Format',\n        fontColor: 'Font Color',\n        hiliteColor: 'Highlight Color',\n        indent: 'Indent',\n        outdent: 'Outdent',\n        align: 'Align',\n        alignLeft: 'Align left',\n        alignRight: 'Align right',\n        alignCenter: 'Align center',\n        alignJustify: 'Align justify',\n        list: 'List',\n        orderList: 'Ordered list',\n        unorderList: 'Unordered list',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Solid',\n        hr_dotted: 'Dotted',\n        hr_dashed: 'Dashed',\n        table: 'Table',\n        link: 'Link',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Full screen',\n        showBlocks: 'Show blocks',\n        codeView: 'Code view',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Line height',\n        paragraphStyle: 'Paragraph style',\n        textStyle: 'Text style',\n        imageGallery: 'Image gallery'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insert Link',\n          url: 'URL to link',\n          text: 'Text to display',\n          newWindowCheck: 'Open in new window'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Mathematical Notation',\n          fontSizeLabel: 'Font Size',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Insert image',\n          file: 'Select from files',\n          url: 'Image URL',\n          altText: 'Alternative text'\n        },\n        videoBox: {\n          title: 'Insert Video',\n          file: 'Select from files',\n          url: 'Media embed URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insert Audio',\n          file: 'Select from files',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Search'\n        },\n        caption: 'Insert description',\n        close: 'Close',\n        submitButton: 'Submit',\n        revertButton: 'Revert',\n        proportion: 'Constrain proportions',\n        basic: 'Basic',\n        left: 'Left',\n        right: 'Right',\n        center: 'Center',\n        width: 'Width',\n        height: 'Height',\n        size: 'Size',\n        ratio: 'Ratio'\n      },\n      controller: {\n        edit: 'Edit',\n        unlink: 'Unlink',\n        remove: 'Remove',\n        insertRowAbove: 'Insert row above',\n        insertRowBelow: 'Insert row below',\n        deleteRow: 'Delete row',\n        insertColumnBefore: 'Insert column before',\n        insertColumnAfter: 'Insert column after',\n        deleteColumn: 'Delete column',\n        fixedColumnWidth: 'Fixed column width',\n        resize100: 'Resize 100%',\n        resize75: 'Resize 75%',\n        resize50: 'Resize 50%',\n        resize25: 'Resize 25%',\n        autoSize: 'Auto size',\n        mirrorHorizontal: 'Mirror, Horizontal',\n        mirrorVertical: 'Mirror, Vertical',\n        rotateLeft: 'Rotate left',\n        rotateRight: 'Rotate right',\n        maxSize: 'Max size',\n        minSize: 'Min size',\n        tableHeader: 'Table header',\n        mergeCells: 'Merge cells',\n        splitCells: 'Split Cells',\n        HorizontalSplit: 'Horizontal split',\n        VerticalSplit: 'Vertical split'\n      },\n      menu: {\n        spaced: 'Spaced',\n        bordered: 'Bordered',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Shadow',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 5 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2018 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  __webpack_exports__[\"a\"] = {\n    name: 'colorPicker',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function (core) {\n      const context = core.context;\n      context.colorPicker = {\n        colorListHTML: '',\n        _colorInput: '',\n        _defaultColor: '#000',\n        _styleProperty: 'color',\n        _currentColor: '',\n        _colorList: []\n      };\n      /** set submenu */\n\n      let listDiv = this.createColorList(core, this._makeColorList);\n      /** caching */\n\n      context.colorPicker.colorListHTML = listDiv;\n      /** empty memory */\n\n      listDiv = null;\n    },\n\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\n    createColorList: function (core, makeColor) {\n      const option = core.context.option;\n      const lang = core.lang;\n      const colorList = !option.colorList || option.colorList.length === 0 ? ['#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c', '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'] : option.colorList;\n      let colorArr = [];\n      let list = '<div class=\"se-list-inner\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n        if (!color) continue;\n\n        if (typeof color === 'string') {\n          colorArr.push(color);\n          if (i < len - 1) continue;\n        }\n\n        if (colorArr.length > 0) {\n          list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\n          colorArr = [];\n        }\n\n        if (typeof color === 'object') {\n          list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\n        }\n      }\n\n      list += '' + '<form class=\"se-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' + '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + '</button>' + '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + '</button>' + '</form>' + '</div>';\n      return list;\n    },\n\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\n    _makeColorList: function (colorList) {\n      let list = '';\n      list += '<ul class=\"se-color-pallet\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n\n        if (typeof color === 'string') {\n          list += '<li>' + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n        }\n      }\n\n      list += '</ul>';\n      return list;\n    },\n\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\n    init: function (node, color) {\n      const colorPicker = this.plugins.colorPicker;\n      let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n      fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n      const colorList = this.context.colorPicker._colorList;\n\n      if (colorList) {\n        for (let i = 0, len = colorList.length; i < len; i++) {\n          if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\n            this.util.addClass(colorList[i], 'active');\n          } else {\n            this.util.removeClass(colorList[i], 'active');\n          }\n        }\n      }\n\n      colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n    },\n\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setCurrentColor: function (hexColorStr) {\n      this.context.colorPicker._currentColor = hexColorStr;\n      this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n    },\n\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setInputText: function (hexColorStr) {\n      hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\n      this.context.colorPicker._colorInput.value = hexColorStr;\n      this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n    },\n\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\n    getColorInNode: function (node) {\n      let findColor = '';\n      const styleProperty = this.context.colorPicker._styleProperty;\n\n      while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n        if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\n        node = node.parentNode;\n      }\n\n      return findColor;\n    },\n\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\n    isHexColor: function (str) {\n      return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n    },\n\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\n    rgb2hex: function (rgb) {\n      const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : '';\n    },\n\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\n    colorName2hex: function (colorName) {\n      if (/^#/.test(colorName)) return colorName;\n      var temp = this.util.createElement('div');\n      temp.style.display = 'none';\n      temp.style.color = colorName;\n\n      var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n        return parseInt(a, 10);\n      });\n\n      this.util.removeItem(temp);\n      return colors.length >= 3 ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n    }\n  };\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n      name: 'resizing',\n\n      /**\r\n       * @description Constructor\r\n       * Require context properties when resizing module\r\n          inputX: Element,\r\n          inputY: Element,\r\n          _container: null,\r\n          _cover: null,\r\n          _element: null,\r\n          _element_w: 1,\r\n          _element_h: 1,\r\n          _element_l: 0,\r\n          _element_t: 0,\r\n          _defaultSizeX: 'auto',\r\n          _defaultSizeY: 'auto',\r\n          _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\r\n          _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\r\n          _proportionChecked: true,\r\n          // -- select function --\r\n          _resizing: context.option.imageResizing,\r\n          _resizeDotHide: !context.option.imageHeightShow,\r\n          _rotation: context.option.imageRotation,\r\n          _onlyPercentage: context.option.imageSizeOnlyPercentage,\r\n          _ratio: false,\r\n          _ratioX: 1,\r\n          _ratioY: 1\r\n          _captionShow: true,\r\n          // -- when used caption (_captionShow: true) --\r\n          _caption: null,\r\n          _captionChecked: false,\r\n          captionCheckEl: null,\r\n       * @param {Object} core Core object \r\n       */\n      add: function (core) {\n        const icons = core.icons;\n        const context = core.context;\n        context.resizing = {\n          _resizeClientX: 0,\n          _resizeClientY: 0,\n          _resize_plugin: '',\n          _resize_w: 0,\n          _resize_h: 0,\n          _origin_w: 0,\n          _origin_h: 0,\n          _rotateVertical: false,\n          _resize_direction: '',\n          _move_path: null,\n          _isChange: false,\n          alignIcons: {\n            basic: icons.align_justify,\n            left: icons.align_left,\n            right: icons.align_right,\n            center: icons.align_center\n          }\n        };\n        /** resize controller, button */\n\n        let resize_div_container = this.setController_resize.call(core);\n        context.resizing.resizeContainer = resize_div_container;\n        context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n        context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n        context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n        let resize_button = this.setController_button.call(core);\n        context.resizing.resizeButton = resize_button;\n        let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n        context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n        context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n        context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n        context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n        context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n        context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n        context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n        context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n        /** add event listeners */\n\n        resize_div_container.addEventListener('mousedown', function (e) {\n          e.preventDefault();\n        });\n        resize_button.addEventListener('mousedown', core.eventStop);\n        resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(resize_div_container);\n        context.element.relative.appendChild(resize_button);\n        /** empty memory */\n\n        resize_div_container = null, resize_button = null, resize_handles = null;\n      },\n\n      /** resize controller, button (image, iframe, video) */\n      setController_resize: function () {\n        const resize_container = this.util.createElement('DIV');\n        resize_container.className = 'se-controller se-resizing-container';\n        resize_container.style.display = 'none';\n        resize_container.innerHTML = '' + '<div class=\"se-modal-resize\"></div>' + '<div class=\"se-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"se-resize-display\"></div>' + '</div>';\n        return resize_container;\n      },\n      setController_button: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const resize_button = this.util.createElement(\"DIV\");\n        resize_button.className = \"se-controller se-controller-resizing\";\n        resize_button.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"se-btn-group _se_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' + '<span>100%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' + '<span>75%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' + '<span>50%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' + icons.auto_size + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' + icons.mirror_horizontal + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' + icons.mirror_vertical + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' + '</button></li>' + '</ul>' + '</div>' + '</div>' + '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' + icons.caption + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' + icons.revert + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' + icons.modify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>';\n        return resize_button;\n      },\n\n      /**\r\n       * @description Gets the width size\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       * @param {Element} element Target element\r\n       * @param {Element} cover Cover element (FIGURE)\r\n       * @param {Element} container Container element (DIV.se-component)\r\n       * @returns {String}\r\n       */\n      _module_getSizeX: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!element) return '';\n        return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + '%';\n      },\n\n      /**\r\n       * @description Gets the height size\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       * @param {Element} element Target element\r\n       * @param {Element} cover Cover element (FIGURE)\r\n       * @param {Element} container Container element (DIV.se-component)\r\n       * @returns {String}\r\n       */\n      _module_getSizeY: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!container || !cover) return element && element.style.height || '';\n        return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + '%';\n      },\n\n      /**\r\n       * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       * @param {Object} pluginObj Plugin object\r\n       */\n      _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n        const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n        contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n        let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n        if (x === contextPlugin._defaultSizeX) x = '';\n        if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n        contextPlugin.inputX.value = x;\n        pluginObj.setInputSize.call(this, 'x');\n\n        if (!contextPlugin._onlyPercentage) {\n          let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n          if (y === contextPlugin._defaultSizeY) y = '';\n          if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n          contextPlugin.inputY.value = y;\n        }\n\n        contextPlugin.inputX.disabled = percentageRotation ? true : false;\n        contextPlugin.inputY.disabled = percentageRotation ? true : false;\n        contextPlugin.proportion.disabled = percentageRotation ? true : false;\n        pluginObj.setRatio.call(this);\n      },\n\n      /**\r\n       * @description It is called in \"setInputSize\" (input tag keyupEvent), \r\n       * checks the value entered in the input tag, \r\n       * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       * @param {String} xy 'x': width, 'y': height\r\n       */\n      _module_setInputSize: function (contextPlugin, xy) {\n        if (contextPlugin._onlyPercentage) {\n          if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n          return;\n        }\n\n        if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n          const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          if (xUnit !== yUnit) return;\n          const dec = xUnit === '%' ? 2 : 0;\n\n          if (xy === 'x') {\n            contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n          } else {\n            contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n          }\n        }\n      },\n\n      /**\r\n       * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \r\n       * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       */\n      _module_setRatio: function (contextPlugin) {\n        const xValue = contextPlugin.inputX.value;\n        const yValue = contextPlugin.inputY.value;\n\n        if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n          const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n\n          if (xUnit !== yUnit) {\n            contextPlugin._ratio = false;\n          } else if (!contextPlugin._ratio) {\n            const x = this.util.getNumber(xValue, 0);\n            const y = this.util.getNumber(yValue, 0);\n            contextPlugin._ratio = true;\n            contextPlugin._ratioX = x / y;\n            contextPlugin._ratioY = y / x;\n          }\n        } else {\n          contextPlugin._ratio = false;\n        }\n      },\n\n      /**\r\n       * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       */\n      _module_sizeRevert: function (contextPlugin) {\n        if (contextPlugin._onlyPercentage) {\n          contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n        } else {\n          contextPlugin.inputX.value = contextPlugin._origin_w;\n          contextPlugin.inputY.value = contextPlugin._origin_h;\n        }\n      },\n\n      /**\r\n       * @description Save the size data (element.setAttribute(\"data-size\"))\r\n       * Used at the \"setSize\" method\r\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n       */\n      _module_saveCurrentSize: function (contextPlugin) {\n        const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n        const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        contextPlugin._element.setAttribute('data-size', x + ',' + y);\n\n        if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n      },\n\n      /**\r\n       * @description Call the resizing module\r\n       * @param {Element} targetElement Resizing target element\r\n       * @param {string} plugin Plugin name\r\n       * @returns {Object} Size of resizing div {w, h, t, l}\r\n       */\n      call_controller_resize: function (targetElement, plugin) {\n        const contextResizing = this.context.resizing;\n        const contextPlugin = this.context[plugin];\n        contextResizing._resize_plugin = plugin;\n        const resizeContainer = contextResizing.resizeContainer;\n        const resizeDiv = contextResizing.resizeDiv;\n        const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n        const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n        const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n        const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n        const t = offset.top;\n        const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n        resizeContainer.style.top = t + 'px';\n        resizeContainer.style.left = l + 'px';\n        resizeContainer.style.width = w + 'px';\n        resizeContainer.style.height = h + 'px';\n        resizeDiv.style.top = '0px';\n        resizeDiv.style.left = '0px';\n        resizeDiv.style.width = w + 'px';\n        resizeDiv.style.height = h + 'px';\n        let align = targetElement.getAttribute('data-align') || 'basic';\n        align = align === 'none' ? 'basic' : align; // text\n\n        const container = this.util.getParentElement(targetElement, this.util.isComponent);\n        const cover = this.util.getParentElement(targetElement, 'FIGURE');\n        const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n        const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n        this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')'); // resizing display\n\n        contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n        const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n        const resizeHandles = contextResizing.resizeHandles;\n\n        for (let i = 0, len = resizeHandles.length; i < len; i++) {\n          resizeHandles[i].style.display = resizeDotShow;\n        }\n\n        if (contextPlugin._resizing) {\n          const rotations = contextResizing.rotationButtons;\n          rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n        } // align icon\n\n\n        const alignList = contextResizing.alignMenuList;\n        this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');else this.util.removeClass(alignList[i], 'on');\n        } // percentage active\n\n\n        const pButtons = contextResizing.percentageButtons;\n        const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + '' : '';\n\n        for (let i = 0, len = pButtons.length; i < len; i++) {\n          if (pButtons[i].getAttribute('data-value') === value) {\n            this.util.addClass(pButtons[i], 'active');\n          } else {\n            this.util.removeClass(pButtons[i], 'active');\n          }\n        } // caption display, active\n\n\n        if (!contextPlugin._captionShow) {\n          contextResizing.captionButton.style.display = 'none';\n        } else {\n          contextResizing.captionButton.style.display = '';\n\n          if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n            this.util.addClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = true;\n          } else {\n            this.util.removeClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = false;\n          }\n        }\n\n        if (this.currentControllerName !== plugin) {\n          this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n          this.controllersOn(contextResizing.resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n        } // button group\n\n\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - l - contextResizing.resizeButton.offsetWidth;\n        contextResizing.resizeButton.style.top = h + t + 60 + 'px';\n        contextResizing.resizeButton.style.left = l + (overLeft < 0 ? overLeft : 0) + 'px';\n\n        if (overLeft < 0) {\n          contextResizing.resizeButton.firstElementChild.style.left = 20 - overLeft + 'px';\n        } else {\n          contextResizing.resizeButton.firstElementChild.style.left = '20px';\n        }\n\n        contextResizing._resize_w = w;\n        contextResizing._resize_h = h;\n        const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n        contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n        contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n        return {\n          w: w,\n          h: h,\n          t: t,\n          l: l\n        };\n      },\n      _closeAlignMenu: null,\n\n      /**\r\n       * @description Open align submenu of module\r\n       */\n      openAlignMenu: function () {\n        this.util.addClass(this.context.resizing.alignButton, 'on');\n        this.context.resizing.alignMenu.style.display = 'block';\n\n        this.plugins.resizing._closeAlignMenu = function () {\n          this.util.removeClass(this.context.resizing.alignButton, 'on');\n          this.context.resizing.alignMenu.style.display = 'none';\n          this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n          this.plugins.resizing._closeAlignMenu = null;\n        }.bind(this);\n\n        this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n      },\n\n      /**\r\n       * @description Click event of resizing toolbar\r\n       * Performs the action of the clicked toolbar button.\r\n       * @param {MouseEvent} e Event object\r\n       */\n      onClick_resizeButton: function (e) {\n        e.stopPropagation();\n        const target = e.target;\n        const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n        if (!command) return;\n        const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        const pluginName = this.context.resizing._resize_plugin;\n        const currentContext = this.context[pluginName];\n        const contextEl = currentContext._element;\n        const currentModule = this.plugins[pluginName];\n        e.preventDefault();\n\n        if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n          this.plugins.resizing._closeAlignMenu();\n\n          if (command === 'onalign') return;\n        }\n\n        switch (command) {\n          case 'auto':\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setAutoSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'percent':\n            let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n            if (this.context.resizing._rotateVertical) {\n              const percentage = contextEl.getAttribute('data-percentage');\n              if (percentage) percentY = percentage.split(',')[1];\n            }\n\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? '' : percentY);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'mirror':\n            const r = contextEl.getAttribute('data-rotate') || '0';\n            let x = contextEl.getAttribute('data-rotateX') || '';\n            let y = contextEl.getAttribute('data-rotateY') || '';\n\n            if (value === 'h' && !this.context.resizing._rotateVertical || value === 'v' && this.context.resizing._rotateVertical) {\n              y = y ? '' : '180';\n            } else {\n              x = x ? '' : '180';\n            }\n\n            contextEl.setAttribute('data-rotateX', x);\n            contextEl.setAttribute('data-rotateY', y);\n\n            this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n            break;\n\n          case 'rotate':\n            const contextResizing = this.context.resizing;\n            const slope = contextEl.getAttribute('data-rotate') * 1 + value * 1;\n            const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n            contextEl.setAttribute('data-rotate', deg);\n            contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n            this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'onalign':\n            this.plugins.resizing.openAlignMenu.call(this);\n            return;\n\n          case 'align':\n            const alignValue = value === 'basic' ? 'none' : value;\n            currentModule.setAlign.call(this, alignValue, null, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'caption':\n            const caption = !currentContext._captionChecked;\n            currentModule.openModify.call(this, true);\n            currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n            currentModule.update_image.call(this, false, false, false);\n\n            if (caption) {\n              const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                return current.nodeType === 3;\n              });\n\n              if (!captionText) {\n                currentContext._caption.focus();\n              } else {\n                this.setRange(captionText, 0, captionText, captionText.textContent.length);\n              }\n\n              this.controllersOff();\n            } else {\n              this.selectComponent(contextEl, pluginName);\n              currentModule.openModify.call(this, true);\n            }\n\n            break;\n\n          case 'revert':\n            currentModule.setOriginSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'update':\n            currentModule.openModify.call(this);\n            this.controllersOff();\n            break;\n\n          case 'delete':\n            currentModule.destroy.call(this);\n            break;\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Initialize the transform style (rotation) of the element.\r\n       * @param {Element} element Target element\r\n       */\n      resetTransform: function (element) {\n        const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n        this.context.resizing._rotateVertical = false;\n        element.style.maxWidth = '';\n        element.style.transform = '';\n        element.style.transformOrigin = '';\n        element.setAttribute('data-rotate', '');\n        element.setAttribute('data-rotateX', '');\n        element.setAttribute('data-rotateY', '');\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n      },\n\n      /**\r\n       * @description Set the transform style (rotation) of the element.\r\n       * @param {Element} element Target element\r\n       * @param {Number|null} width Element's width size\r\n       * @param {Number|null} height Element's height size\r\n       */\n      setTransformSize: function (element, width, height) {\n        let percentage = element.getAttribute('data-percentage');\n        const isVertical = this.context.resizing._rotateVertical;\n        const deg = element.getAttribute('data-rotate') * 1;\n        let transOrigin = '';\n\n        if (percentage && !isVertical) {\n          percentage = percentage.split(',');\n\n          if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n            this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n          } else {\n            this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n          }\n        } else {\n          const cover = this.util.getParentElement(element, 'FIGURE');\n          const offsetW = width || element.offsetWidth;\n          const offsetH = height || element.offsetHeight;\n          const w = (isVertical ? offsetH : offsetW) + 'px';\n          const h = (isVertical ? offsetW : offsetH) + 'px';\n\n          this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n          this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n\n          cover.style.width = w;\n          cover.style.height = !!this.context[this.context.resizing._resize_plugin]._caption ? '' : h;\n\n          if (isVertical) {\n            let transW = offsetW / 2 + 'px ' + offsetW / 2 + 'px 0';\n            let transH = offsetH / 2 + 'px ' + offsetH / 2 + 'px 0';\n            transOrigin = deg === 90 || deg === -270 ? transH : transW;\n          }\n        }\n\n        element.style.transformOrigin = transOrigin;\n\n        this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n\n        if (isVertical) element.style.maxWidth = 'none';else element.style.maxWidth = '';\n        this.plugins.resizing.setCaptionPosition.call(this, element);\n      },\n      _setTransForm: function (element, r, x, y) {\n        let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n        let translate = '';\n\n        if (/[1-9]/.test(r) && (x || y)) {\n          translate = x ? 'Y' : 'X';\n\n          switch (r) {\n            case '90':\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            case '270':\n              width *= -1;\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-90':\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-270':\n              width *= -1;\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            default:\n              translate = '';\n          }\n        }\n\n        if (r % 180 === 0) {\n          element.style.maxWidth = '';\n        }\n\n        element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n      },\n\n      /**\r\n       * @description The position of the caption is set automatically.\r\n       * @param {Element} element Target element (not caption element)\r\n       */\n      setCaptionPosition: function (element) {\n        const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n\n        if (figcaption) {\n          figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n        }\n      },\n\n      /**\r\n       * @description Mouse down event of resize handles\r\n       * @param {MouseEvent} e Event object \r\n       */\n      onMouseDown_resize_handle: function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const contextResizing = this.context.resizing;\n        const direction = contextResizing._resize_direction = e.target.classList[0];\n        contextResizing._resizeClientX = e.clientX;\n        contextResizing._resizeClientY = e.clientY;\n        this.context.element.resizeBackground.style.display = 'block';\n        contextResizing.resizeButton.style.display = 'none';\n        contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n        const closureFunc_bind = function closureFunc(e) {\n          if (e.type === 'keydown' && e.keyCode !== 27) return;\n          const change = contextResizing._isChange;\n          contextResizing._isChange = false;\n          this.removeDocEvent('mousemove', resizing_element_bind);\n          this.removeDocEvent('mouseup', closureFunc_bind);\n          this.removeDocEvent('keydown', closureFunc_bind);\n\n          if (e.type === 'keydown') {\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n\n            this.plugins[this.context.resizing._resize_plugin].init.call(this);\n          } else {\n            // element resize\n            this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n            if (change) this.history.push(false);\n          }\n        }.bind(this);\n\n        const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n        this.addDocEvent('mousemove', resizing_element_bind);\n        this.addDocEvent('mouseup', closureFunc_bind);\n        this.addDocEvent('keydown', closureFunc_bind);\n      },\n\n      /**\r\n       * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n       * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n       * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n       * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n       * @param {MouseEvent} e Event object\r\n       */\n      resizing_element: function (contextResizing, direction, plugin, e) {\n        const clientX = e.clientX;\n        const clientY = e.clientY;\n        let resultW = plugin._element_w;\n        let resultH = plugin._element_h;\n        const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n        const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n        const wh = plugin._element_h / plugin._element_w * w;\n        if (/t/.test(direction)) contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + 'px';\n        if (/l/.test(direction)) contextResizing.resizeDiv.style.left = plugin._element_w - w + 'px';\n\n        if (/r|l/.test(direction)) {\n          contextResizing.resizeDiv.style.width = w + 'px';\n          resultW = w;\n        }\n\n        if (/^(t|b)[^h]$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = wh + 'px';\n          resultH = wh;\n        } else if (/^(t|b)h$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = h + 'px';\n          resultH = h;\n        }\n\n        contextResizing._resize_w = resultW;\n        contextResizing._resize_h = resultH;\n        this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n        contextResizing._isChange = true;\n      },\n\n      /**\r\n       * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n       * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n       */\n      cancel_controller_resize: function (direction) {\n        const isVertical = this.context.resizing._rotateVertical;\n        this.controllersOff();\n        this.context.element.resizeBackground.style.display = 'none';\n\n        let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n        let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n        if (!isVertical && !/%$/.test(w)) {\n          const padding = 16;\n          const limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n          if (this.util.getNumber(w, 0) > limit) {\n            h = this._w.Math.round(h / w * limit);\n            w = limit;\n          }\n        }\n\n        const pluginName = this.context.resizing._resize_plugin;\n        this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n        this.selectComponent(this.context[pluginName]._element, pluginName);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: resizing\n      });\n    }\n\n    return resizing;\n  });\n  /***/\n\n},\n/* 7 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n      name: 'fileBrowser',\n      _xmlHttp: null,\n      _loading: null,\n\n      /**\r\n       * @description Constructor\r\n       * @param {Object} core Core object \r\n       */\n      add: function (core) {\n        const context = core.context;\n        context.fileBrowser = {\n          _closeSignal: false,\n          area: null,\n          header: null,\n          tagArea: null,\n          body: null,\n          list: null,\n          tagElements: null,\n          items: [],\n          selectedTags: [],\n          selectorHandler: null,\n          contextPlugin: '',\n          columnSize: 4\n        };\n        /** fileBrowser */\n\n        let browser_div = core.util.createElement('DIV');\n        browser_div.className = 'se-file-browser sun-editor-common';\n        let back = core.util.createElement('DIV');\n        back.className = 'se-file-browser-back';\n        let content = core.util.createElement('DIV');\n        content.className = 'se-file-browser-inner';\n        content.innerHTML = this.set_browser(core);\n        browser_div.appendChild(back);\n        browser_div.appendChild(content);\n        this._loading = browser_div.querySelector('.se-loading-box');\n        context.fileBrowser.area = browser_div;\n        context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n        context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n        context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n        context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n        context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n        /** add event listeners */\n\n        context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n        context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n        content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n        content.addEventListener('click', this._onClick_browser.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(browser_div);\n        /** empty memory */\n\n        browser_div = null, back = null, content = null;\n      },\n      set_browser: function (core) {\n        const lang = core.lang;\n        return '<div class=\"se-file-browser-content\">' + '<div class=\"se-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-file-browser-title\"></span>' + '<div class=\"se-file-browser-tags\"></div>' + '</div>' + '<div class=\"se-file-browser-body\">' + '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' + '<div class=\"se-file-browser-list\"></div>' + '</div>' + '</div>';\n      },\n\n      /**\r\n       * @description Event to control the behavior of closing the browser\r\n       * @param {MouseEvent} e Event object\r\n       * @private\r\n       */\n      _onMouseDown_browser: function (e) {\n        if (/se-file-browser-inner/.test(e.target.className)) {\n          this.context.fileBrowser._closeSignal = true;\n        } else {\n          this.context.fileBrowser._closeSignal = false;\n        }\n      },\n\n      /**\r\n       * @description Event to close the window when the outside area of the browser or close button is click\r\n       * @param {MouseEvent} e Event object\r\n       * @private\r\n       */\n      _onClick_browser: function (e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n          this.plugins.fileBrowser.close.call(this);\n        }\n      },\n\n      /**\r\n       * @description Open a file browser plugin\r\n       * @param {String} pluginName Plugin name using the file browser\r\n       * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n       */\n      open: function (pluginName, selectorHandler) {\n        if (this.plugins.fileBrowser._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n          this.plugins.fileBrowser._bindClose = null;\n        }\n\n        this.plugins.fileBrowser._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.fileBrowser.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.contextPlugin = pluginName;\n        fileBrowserContext.selectorHandler = selectorHandler;\n        const pluginContext = this.context[pluginName];\n        const listClassName = pluginContext.listClass;\n\n        if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n          fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n        }\n\n        if (this.context.option.popupDisplay === 'full') {\n          fileBrowserContext.area.style.position = 'fixed';\n        } else {\n          fileBrowserContext.area.style.position = 'absolute';\n        }\n\n        fileBrowserContext.titleArea.textContent = pluginContext.title;\n        fileBrowserContext.area.style.display = 'block';\n\n        this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url);\n      },\n      _bindClose: null,\n\n      /**\r\n       * @description Close a fileBrowser plugin\r\n       * The plugin's \"init\" method is called.\r\n       */\n      close: function () {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n\n        if (fileBrowserPlugin._xmlHttp) {\n          fileBrowserPlugin._xmlHttp.abort();\n        }\n\n        if (fileBrowserPlugin._bindClose) {\n          this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n\n          fileBrowserPlugin._bindClose = null;\n        }\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.area.style.display = 'none';\n        fileBrowserContext.selectorHandler = null;\n        fileBrowserContext.selectedTags = [];\n        fileBrowserContext.items = [];\n        fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n        if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n        fileBrowserContext.contextPlugin = '';\n      },\n\n      /**\r\n       * @description Show file browser loading box\r\n       */\n      showBrowserLoading: function () {\n        this._loading.style.display = 'block';\n      },\n\n      /**\r\n       * @description Close file browser loading box\r\n       */\n      closeBrowserLoading: function () {\n        this._loading.style.display = 'none';\n      },\n      _drawFileList: function (url) {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n        xmlHttp.open('get', url, true);\n        xmlHttp.send(null);\n        this.plugins.fileBrowser.showBrowserLoading();\n      },\n      _callBackGet: function (xmlHttp) {\n        if (xmlHttp.readyState === 4) {\n          this.plugins.fileBrowser._xmlHttp = null;\n\n          if (xmlHttp.status === 200) {\n            try {\n              this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.plugins.fileBrowser.closeBrowserLoading();\n              this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + 'px';\n            }\n          } else {\n            // exception\n            this.plugins.fileBrowser.closeBrowserLoading();\n\n            if (xmlHttp.status !== 0) {\n              const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n              const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              throw Error(err);\n            }\n          }\n        }\n      },\n      _drawListItem: function (items, update) {\n        const fileBrowserContext = this.context.fileBrowser;\n        const pluginContext = this.context[fileBrowserContext.contextPlugin];\n        const _tags = [];\n        const len = items.length;\n        const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n        const splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n        const drawItemHandler = pluginContext.itemTemplateHandler;\n        let tagsHTML = '';\n        let listHTML = '<div class=\"se-file-item-column\">';\n        let columns = 1;\n\n        for (let i = 0, item, tags; i < len; i++) {\n          item = items[i];\n          tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n          tags = item.tag = tags.map(function (v) {\n            return v.trim();\n          });\n          listHTML += drawItemHandler(item);\n\n          if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n            columns++;\n            listHTML += '</div><div class=\"se-file-item-column\">';\n          }\n\n          if (update && tags.length > 0) {\n            for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n              tag = tags[t];\n\n              if (tag && _tags.indexOf(tag) === -1) {\n                _tags.push(tag);\n\n                tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\n              }\n            }\n          }\n        }\n\n        listHTML += '</div>';\n        fileBrowserContext.list.innerHTML = listHTML;\n\n        if (update) {\n          fileBrowserContext.items = items;\n          fileBrowserContext.tagArea.innerHTML = tagsHTML;\n          fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n        }\n      },\n      onClickTag: function (e) {\n        const target = e.target;\n        if (!this.util.isAnchor(target)) return;\n        const tagName = target.textContent;\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const fileBrowserContext = this.context.fileBrowser;\n        const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n        const selectedTags = fileBrowserContext.selectedTags;\n        const sTagIndex = selectedTags.indexOf(tagName);\n\n        if (sTagIndex > -1) {\n          selectedTags.splice(sTagIndex, 1);\n          this.util.removeClass(selectTag, 'on');\n        } else {\n          selectedTags.push(tagName);\n          this.util.addClass(selectTag, 'on');\n        }\n\n        fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n          return item.tag.some(function (tag) {\n            return selectedTags.indexOf(tag) > -1;\n          });\n        }), false);\n      },\n      onClickFile: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const fileBrowserContext = this.context.fileBrowser;\n        const listEl = fileBrowserContext.list;\n        let target = e.target;\n        let command = null;\n        if (target === listEl) return;\n\n        while (listEl !== target.parentNode) {\n          command = target.getAttribute('data-command');\n          if (command) break;\n          target = target.parentNode;\n        }\n\n        if (!command) return;\n        const handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n        this.plugins.fileBrowser.close.call(this);\n        handler(target);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileBrowser\n      });\n    }\n\n    return fileBrowser;\n  });\n  /***/\n\n},\n/* 9 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const icons = core.icons;\n      const context = core.context;\n      context.align = {\n        targetButton: targetElement,\n        _alignList: null,\n        currentAlign: '',\n        icons: {\n          justify: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.align._alignList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-align';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"se-list-icon\">' + icons.align_right + '</span>' + lang.toolbar.alignRight + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\r\n     * @Override core\r\n     */\n    active: function (element) {\n      const targetButton = this.context.align.targetButton;\n      const target = targetButton.firstElementChild;\n\n      if (!element) {\n        this.util.changeElement(target, this.context.align.icons.left);\n        targetButton.removeAttribute('data-focus');\n      } else if (this.util.isFormatElement(element)) {\n        const textAlign = element.style.textAlign;\n\n        if (textAlign) {\n          this.util.changeElement(target, this.context.align.icons[textAlign]);\n          targetButton.setAttribute('data-focus', textAlign);\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override submenu\r\n     */\n    on: function () {\n      const alignContext = this.context.align;\n      const alignList = alignContext._alignList;\n      const currentAlign = alignContext.targetButton.getAttribute('data-focus') || 'left';\n\n      if (currentAlign !== alignContext.currentAlign) {\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (currentAlign === alignList[i].getAttribute('data-value')) {\n            this.util.addClass(alignList[i], 'active');\n          } else {\n            this.util.removeClass(alignList[i], 'active');\n          }\n        }\n\n        alignContext.currentAlign = currentAlign;\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const selectedFormsts = this.getSelectedElements();\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        this.util.setStyle(selectedFormsts[i], 'textAlign', value === 'left' ? '' : value);\n      }\n\n      this.effectNode = null;\n      this.submenuOff();\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.math = {\n        focusElement: null,\n        previewElement: null,\n        fontSizeElement: null,\n        _mathExp: null\n      };\n      /** math dialog */\n\n      let math_dialog = this.setDialog.call(core);\n      context.math.modal = math_dialog;\n      context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n      context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n      context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n      context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\n      context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\n      context.math.fontSizeElement.addEventListener('change', function (e) {\n        this.fontSize = e.target.value;\n      }.bind(context.math.previewElement.style), false);\n      /** math controller */\n\n      let math_controller = this.setController_MathButton.call(core);\n      context.math.mathController = math_controller;\n      context.math._mathExp = null;\n      math_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\n      math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n      /** append html */\n\n      context.dialog.modal.appendChild(math_dialog);\n      context.element.relative.appendChild(math_controller);\n      /** empty memory */\n\n      math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' + '<select class=\"se-input-select se-math-size\">' + '<option value=\"1em\">1</option>' + '<option value=\"1.5em\">1.5</option>' + '<option value=\"2em\">2</option>' + '<option value=\"2.5em\">2.5</option>' + '</select>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' + '<p class=\"se-math-preview\"></p>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function () {\n      const lang = this.lang;\n      const math_btn = this.util.createElement('DIV');\n      math_btn.className = 'se-controller se-controller-link';\n      math_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>' + '';\n      return math_btn;\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\r\n     * @Override core - managedTagsInfo\r\n     */\n    managedTags: function () {\n      return {\n        className: 'katex',\n        method: function (element) {\n          if (!element.getAttribute('data-exp')) return;\n\n          const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n\n          element.innerHTML = dom.querySelector('.katex').innerHTML;\n        }\n      };\n    },\n    _renderer: function (exp) {\n      const katex = this.context.option.katex;\n      return katex.src.renderToString(exp, katex.options);\n    },\n    _renderMathExp: function (contextMath, e) {\n      contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      const submitAction = function () {\n        if (this.context.math.focusElement.value.trim().length === 0) return false;\n        const contextMath = this.context.math;\n        const mathExp = contextMath.focusElement.value;\n        const katexEl = contextMath.previewElement.querySelector('.katex');\n        if (!katexEl) return false;\n        katexEl.className = '__se__katex ' + katexEl.className;\n        katexEl.setAttribute('contenteditable', false);\n        katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n        katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n        katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n        if (!this.context.dialog.updateModal) {\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(katexEl);\n            if (!this.insertNode(oFormat, null, true)) return false;\n          } else {\n            if (!this.insertNode(katexEl, null, true)) return false;\n          }\n\n          const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n          katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n          this.setRange(katexEl, 0, katexEl, 1);\n        } else {\n          const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n          containerEl.parentNode.replaceChild(katexEl, containerEl);\n          this.setRange(katexEl, 0, katexEl, 1);\n        }\n\n        contextMath.focusElement.value = '';\n        contextMath.fontSizeElement.value = '1em';\n        contextMath.previewElement.style.fontSize = '1em';\n        contextMath.previewElement.innerHTML = '';\n        return true;\n      }.bind(this);\n\n      try {\n        if (submitAction()) {\n          this.plugins.dialog.close.call(this); // history stack\n\n          this.history.push(false);\n        }\n      } catch (e) {\n        this.plugins.dialog.close.call(this);\n      } finally {\n        this.closeLoading();\n      }\n\n      return false;\n    },\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n          this.controllersOff();\n        }\n      } else if (element.getAttribute('data-exp')) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n          this.setRange(element, 0, element, 1);\n          this.plugins.math.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    on: function (update) {\n      if (!update) {\n        this.plugins.math.init.call(this);\n      } else {\n        const contextMath = this.context.math;\n\n        if (contextMath._mathExp) {\n          const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n          const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n          this.context.dialog.updateModal = true;\n          contextMath.focusElement.value = exp;\n          contextMath.fontSizeElement.value = fontSize;\n          contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n          contextMath.previewElement.style.fontSize = fontSize;\n        }\n      }\n    },\n    call_controller: function (mathTag) {\n      this.context.math._mathExp = mathTag;\n      const mathBtn = this.context.math.mathController;\n      const offset = this.util.getOffset(mathTag, this.context.element.wysiwygFrame);\n      mathBtn.style.top = offset.top + mathTag.offsetHeight + 10 + 'px';\n      mathBtn.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      mathBtn.style.display = 'block';\n      const overLeft = this.context.element.wysiwygFrame.offsetWidth - (mathBtn.offsetLeft + mathBtn.offsetWidth);\n\n      if (overLeft < 0) {\n        mathBtn.style.left = mathBtn.offsetLeft + overLeft + 'px';\n        mathBtn.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        mathBtn.firstElementChild.style.left = '20px';\n      }\n\n      this.controllersOn(mathBtn, mathTag, 'math');\n    },\n    onClick_mathController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n        this.plugins.dialog.open.call(this, 'math', true);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.math._mathExp);\n        this.context.math._mathExp = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n    init: function () {\n      const contextMath = this.context.math;\n      contextMath.mathController.style.display = 'none';\n      contextMath._mathExp = null;\n      contextMath.focusElement.value = '';\n      contextMath.previewElement.innerHTML = '';\n    }\n  };\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'imageGallery',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function (core) {\n      core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.imageGallery = {\n        title: core.lang.toolbar.imageGallery,\n        // @Required @Override fileBrowser - File browser window title.\n        url: context.options.imageGalleryUrl,\n        // @Required @Override fileBrowser - File server url.\n        listClass: 'se-image-list',\n        // @Required @Override fileBrowser - Class name of list div.\n        itemTemplateHandler: this.drawItems,\n        // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n        selectorHandler: this.setImage.bind(core),\n        // @Required @Override fileBrowser - Function that action when item click.\n        columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n\n      };\n    },\n\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Open a file browser.\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\n    open: function (selectorHandler) {\n      this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\r\n     * Format: [\r\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n     * ]\r\n     * @param {Object} item Item of the response data's array\r\n     */\n    drawItems: function (item) {\n      const srcName = item.src.split('/').pop();\n      return '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"se-file-img-name se-file-name-back\"></div>' + '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' + '</div>';\n    },\n    setImage: function (target) {\n      this.callPlugin('image', function () {\n        const file = {\n          name: target.parentNode.querySelector('.__se__img_name').textContent,\n          size: 0\n        };\n        this.context.image._altText = target.alt;\n        this.plugins.image.create_image.call(this, target.src, '', false, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\n      }.bind(this), null);\n    }\n  };\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.blockquote = {\n        targetButton: targetElement,\n        tag: core.util.createElement('BLOCKQUOTE')\n      };\n    },\n\n    /**\r\n     * @Override core\r\n     */\n    active: function (element) {\n      if (!element) {\n        this.util.removeClass(this.context.blockquote.targetButton, 'active');\n      } else if (/blockquote/i.test(element.nodeName)) {\n        this.util.addClass(this.context.blockquote.targetButton, 'active');\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override core\r\n     */\n    action: function () {\n      const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n      if (currentBlockquote) {\n        this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n      } else {\n        this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n      }\n    }\n  };\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.font = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _fontList: null,\n        currentFont: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n      context.font._fontList = listDiv.querySelectorAll('ul li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n      let font, text, i, len;\n      let fontList = !option.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : option.font;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (i = 0, len = fontList.length; i < len; i++) {\n        font = fontList[i];\n        text = font.split(',')[0];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override core\r\n    */\n    active: function (element) {\n      const target = this.context.font.targetText;\n      const tooltip = this.context.font.targetTooltip;\n\n      if (!element) {\n        const font = this.lang.toolbar.font;\n        this.util.changeTxt(target, font);\n        this.util.changeTxt(tooltip, font);\n      } else if (element.style && element.style.fontFamily.length > 0) {\n        const selectFont = element.style.fontFamily.replace(/[\"']/g, '');\n        this.util.changeTxt(target, selectFont);\n        this.util.changeTxt(tooltip, selectFont);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const fontContext = this.context.font;\n      const fontList = fontContext._fontList;\n      const currentFont = fontContext.targetText.textContent;\n\n      if (currentFont !== fontContext.currentFont) {\n        for (let i = 0, len = fontList.length; i < len; i++) {\n          if (currentFont === fontList[i].getAttribute('data-value')) {\n            this.util.addClass(fontList[i], 'active');\n          } else {\n            this.util.removeClass(fontList[i], 'active');\n          }\n        }\n\n        fontContext.currentFont = currentFont;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontFamily = value;\n        this.nodeChange(newNode, ['font-family'], null, null);\n      } else {\n        this.nodeChange(null, ['font-family'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 14 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.fontColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.fontColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const colorArea = this.context.colorPicker.colorListHTML;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextFontColor = this.context.fontColor;\n      contextPicker._colorInput = contextFontColor.colorInput;\n      contextPicker._defaultColor = '#333333';\n      contextPicker._styleProperty = 'color';\n      contextPicker._colorList = contextFontColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.color = color;\n      this.nodeChange(newNode, ['color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.fontSize = {\n        targetText: targetElement.querySelector('.txt'),\n        _sizeList: null,\n        currentSize: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.fontSize._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-size';\n      const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override core\r\n    */\n    active: function (element) {\n      if (!element) {\n        this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n      } else if (element.style && element.style.fontSize.length > 0) {\n        this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const fontSizeContext = this.context.fontSize;\n      const sizeList = fontSizeContext._sizeList;\n      const currentSize = fontSizeContext.targetText.textContent;\n\n      if (currentSize !== fontSizeContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        fontSizeContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontSize = value;\n        this.nodeChange(newNode, ['font-size'], null, null);\n      } else {\n        this.nodeChange(null, ['font-size'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.formatBlock = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _formatList: null,\n        currentFormat: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang_toolbar = this.lang.toolbar;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n      const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n        format = formatList[i];\n\n        if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n          tagName = format.toLowerCase();\n          command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n          h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n          name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n          className = '';\n          attrs = '';\n        } else {\n          tagName = format.tag.toLowerCase();\n          command = format.command;\n          name = format.name || tagName;\n          className = format.class;\n          attrs = className ? ' class=\"' + className + '\"' : '';\n        }\n\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + '<' + tagName + attrs + '>' + name + '</' + tagName + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override core\r\n    */\n    active: function (element) {\n      let formatTitle = this.lang.toolbar.formats;\n      const target = this.context.formatBlock.targetText;\n      const tooltip = this.context.formatBlock.targetTooltip;\n\n      if (!element) {\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n      } else if (this.util.isFormatElement(element)) {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const nodeName = element.nodeName.toLowerCase();\n        const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n            formatTitle = f.title;\n            break;\n          }\n        }\n\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n        target.setAttribute('data-value', nodeName);\n        target.setAttribute('data-class', className);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const formatContext = this.context.formatBlock;\n      const formatList = formatContext._formatList;\n      const target = formatContext.targetText;\n      const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n      if (currentFormat !== formatContext.currentFormat) {\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n            this.util.addClass(f, 'active');\n          } else {\n            this.util.removeClass(f, 'active');\n          }\n        }\n\n        formatContext.currentFormat = currentFormat;\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          value = null,\n          tag = null,\n          className = '';\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        value = target.getAttribute('data-value');\n        className = target.getAttribute('data-class');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return; // blockquote\n\n      if (command === 'range') {\n        const rangeElement = tag.cloneNode(false);\n        this.applyRangeFormatElement(rangeElement);\n      } // free, replace\n      else {\n          let range = this.getRange();\n          let selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n          if (selectedFormsts.length === 0) {\n            range = this.getRange_addLine(range);\n            selectedFormsts = this.getSelectedElementsAndComponents(false);\n            if (selectedFormsts.length === 0) return;\n          }\n\n          const startOffset = range.startOffset;\n          const endOffset = range.endOffset;\n          const util = this.util;\n          let first = selectedFormsts[0];\n          let last = selectedFormsts[selectedFormsts.length - 1];\n          const firstPath = util.getNodePath(range.startContainer, first, null, null);\n          const lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n          const rlist = this.detachList(selectedFormsts, false);\n          if (rlist.sc) first = rlist.sc;\n          if (rlist.ec) last = rlist.ec; // change format tag\n\n          this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n          const modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n          if (command === 'free') {\n            const len = modifiedFormsts.length - 1;\n            let parentNode = modifiedFormsts[len].parentNode;\n            let freeElement = tag.cloneNode(false);\n            const focusElement = freeElement;\n\n            for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n              f = modifiedFormsts[i];\n              if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n              isComp = util.isComponent(f);\n              html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n              before = util.getParentElement(f, function (current) {\n                return current.parentNode === parentNode;\n              });\n\n              if (parentNode !== f.parentNode || isComp) {\n                if (util.isFormatElement(parentNode)) {\n                  parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                  parentNode = parentNode.parentNode;\n                } else {\n                  parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                  parentNode = f.parentNode;\n                }\n\n                next = freeElement.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                freeElement = tag.cloneNode(false);\n                first = true;\n              }\n\n              inner = freeElement.innerHTML;\n              freeElement.innerHTML = (first || !html || !inner || /<br>$/i.test(html) ? html : html + '<BR>') + inner;\n\n              if (i === 0) {\n                parentNode.insertBefore(freeElement, f);\n                next = f.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                const prev = freeElement.previousSibling;\n\n                if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                  prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                  util.removeItem(freeElement);\n                }\n              }\n\n              if (!isComp) util.removeItem(f);\n              if (!!html) first = false;\n            }\n\n            this.setRange(focusElement, 0, focusElement, 0);\n          } // replace format\n          else {\n              for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                node = modifiedFormsts[i];\n\n                if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                  newFormat = tag.cloneNode(false);\n                  util.copyFormatAttributes(newFormat, node);\n                  newFormat.innerHTML = node.innerHTML;\n                  node.parentNode.replaceChild(newFormat, node);\n                }\n\n                if (i === 0) first = newFormat || node;\n                if (i === len - 1) last = newFormat || node;\n                newFormat = null;\n              }\n\n              this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            } // history stack\n\n\n          this.history.push(false);\n        }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'hiliteColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.hiliteColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const colorArea = this.context.colorPicker.colorListHTML;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextHiliteColor = this.context.hiliteColor;\n      contextPicker._colorInput = contextHiliteColor.colorInput;\n      contextPicker._defaultColor = '#FFFFFF';\n      contextPicker._styleProperty = 'backgroundColor';\n      contextPicker._colorList = contextHiliteColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['background-color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.backgroundColor = color;\n      this.nodeChange(newNode, ['background-color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      /** set submenu */\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-line';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n    appendHr: function (className) {\n      const oHr = this.util.createElement('HR');\n      oHr.className = className;\n      this.focus();\n      return this.insertComponent(oHr, false, true, false);\n    },\n    horizontalRulePick: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n\n      if (oNode) {\n        this.setRange(oNode, 0, oNode, 0);\n        this.submenuOff();\n      }\n    }\n  };\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 20197 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.lineHeight = {\n        _sizeList: null,\n        currentSize: -1\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      const sizeList = !option.lineHeights ? [{\n        text: '1',\n        value: 1\n      }, {\n        text: '1.15',\n        value: 1.15\n      }, {\n        text: '1.5',\n        value: 1.5\n      }, {\n        text: '2',\n        value: 2\n      }] : option.lineHeights;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const lineHeightContext = this.context.lineHeight;\n      const sizeList = lineHeightContext._sizeList;\n      const format = this.util.getFormatElement(this.getSelectionNode());\n      const currentSize = !format ? '' : format.style.lineHeight + '';\n\n      if (currentSize !== lineHeightContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        lineHeightContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value') || '';\n      const formats = this.getSelectedElements();\n\n      for (let i = 0, len = formats.length; i < len; i++) {\n        formats[i].style.lineHeight = value;\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.list = {\n        targetButton: targetElement,\n        _list: null,\n        currentList: '',\n        icons: {\n          bullets: core.icons.list_bullets,\n          number: core.icons.list_number\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.list._list = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + this.icons.list_number + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + this.icons.list_bullets + '</button></li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\r\n    * @Override core\r\n    */\n    active: function (element) {\n      const button = this.context.list.targetButton;\n      const icon = button.firstElementChild;\n      const util = this.util;\n\n      if (!element) {\n        button.removeAttribute('data-focus');\n        util.changeElement(icon, this.context.list.icons.number);\n        util.removeClass(button, 'active');\n      } else if (util.isList(element)) {\n        const nodeName = element.nodeName;\n        button.setAttribute('data-focus', nodeName);\n        util.addClass(button, 'active');\n\n        if (/UL/i.test(nodeName)) {\n          util.changeElement(icon, this.context.list.icons.bullets);\n        } else {\n          util.changeElement(icon, this.context.list.icons.number);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const listContext = this.context.list;\n      const list = listContext._list;\n      const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n      if (currentList !== listContext.currentList) {\n        for (let i = 0, len = list.length; i < len; i++) {\n          if (currentList === list[i].getAttribute('data-command')) {\n            this.util.addClass(list[i], 'active');\n          } else {\n            this.util.removeClass(list[i], 'active');\n          }\n        }\n\n        listContext.currentList = currentList;\n      }\n    },\n    editList: function (command, selectedCells, detach) {\n      let range = this.getRange();\n      let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n      if (selectedFormats.length === 0) {\n        if (selectedCells) return;\n        range = this.getRange_addLine(range);\n        selectedFormats = this.getSelectedElementsAndComponents(false);\n        if (selectedFormats.length === 0) return;\n      }\n\n      const util = this.util;\n      util.sortByDepth(selectedFormats, true); // merge\n\n      let firstSel = selectedFormats[0];\n      let lastSel = selectedFormats[selectedFormats.length - 1];\n      let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n      let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n      const originRange = {\n        sc: range.startContainer,\n        so: range.startOffset,\n        ec: range.endContainer,\n        eo: range.endOffset\n      };\n      let isRemove = true;\n\n      for (let i = 0, len = selectedFormats.length; i < len; i++) {\n        if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n          return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n        }.bind(util)))) {\n          isRemove = false;\n          break;\n        }\n      }\n\n      if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n        if (detach) {\n          for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedFormats[j].contains(selectedFormats[i])) {\n                selectedFormats.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        const currentFormat = util.getRangeFormatElement(firstSel);\n        const cancel = currentFormat && currentFormat.tagName === command;\n        let rangeArr, tempList;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        if (!cancel) tempList = util.createElement(command);\n\n        for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          if (!o || !util.isList(o)) continue;\n\n          if (!r) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n          } else {\n            if (r !== o) {\n              if (detach && util.isListCell(o.parentNode)) {\n                this.plugins.list._detachNested.call(this, rangeArr.f);\n              } else {\n                this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n              }\n\n              o = selectedFormats[i].parentNode;\n              if (!cancel) tempList = util.createElement(command);\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[i], 'LI')]\n              };\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n            }\n          }\n\n          if (i === len - 1) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n          }\n        }\n      } else {\n        const topElParent = topEl ? topEl.parentNode : topEl;\n        const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n        topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n        bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n        const mergeTop = topEl && topEl.tagName === command;\n        const mergeBottom = bottomEl && bottomEl.tagName === command;\n        let list = mergeTop ? topEl : util.createElement(command);\n        let firstList = null;\n        let lastList = null;\n        let topNumber = null;\n        let bottomNumber = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current) && !this.isList(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n          fTag = selectedFormats[i];\n\n          if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n            util.removeItem(fTag);\n            continue;\n          }\n\n          next = selectedFormats[i + 1];\n          originParent = fTag.parentNode;\n          nextParent = next ? next.parentNode : null;\n          isCell = util.isListCell(fTag);\n          rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n          parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n          siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n          newCell = util.createElement('LI');\n          util.copyFormatAttributes(newCell, fTag);\n\n          if (util.isComponent(fTag)) {\n            const isHR = /^HR$/i.test(fTag.nodeName);\n            if (!isHR) newCell.innerHTML = '<br>';\n            newCell.innerHTML += fTag.outerHTML;\n            if (isHR) newCell.innerHTML += '<br>';\n          } else {\n            const fChildren = fTag.childNodes;\n\n            while (fChildren[0]) {\n              newCell.appendChild(fChildren[0]);\n            }\n          }\n\n          list.appendChild(newCell);\n          if (!next) lastList = list;\n\n          if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n            if (!firstList) firstList = list;\n\n            if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n              if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n            }\n          }\n\n          util.removeItem(fTag);\n          if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n\n          if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n            list = util.createElement(command);\n          }\n\n          if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n        }\n\n        if (topNumber) {\n          firstList = firstList.children[topNumber];\n        }\n\n        if (mergeBottom) {\n          bottomNumber = list.children.length - 1;\n          list.innerHTML += bottomEl.innerHTML;\n          lastList = list.children[bottomNumber];\n          util.removeItem(bottomEl);\n        }\n      }\n\n      this.effectNode = null;\n      return originRange;\n    },\n    _detachNested: function (cells) {\n      const first = cells[0];\n      const last = cells[cells.length - 1];\n      const next = last.nextElementSibling;\n      const originList = first.parentNode;\n      const sibling = originList.parentNode.nextElementSibling;\n      const parentNode = originList.parentNode.parentNode;\n\n      for (let c = 0, cLen = cells.length; c < cLen; c++) {\n        parentNode.insertBefore(cells[c], sibling);\n      }\n\n      if (next && originList.children.length > 0) {\n        const newList = originList.cloneNode(false);\n        const children = originList.childNodes;\n        const index = this.util.getPositionIndex(next);\n\n        while (children[index]) {\n          newList.appendChild(children[index]);\n        }\n\n        last.appendChild(newList);\n      }\n\n      if (originList.children.length === 0) this.util.removeItem(originList);\n      this.util.mergeSameTags(parentNode);\n      const edge = this.util.getEdgeChildNodes(first, last);\n      return {\n        cc: first.parentNode,\n        sc: edge.sc,\n        ec: edge.ec\n      };\n    },\n    editInsideList: function (remove, selectedCells) {\n      selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n        return this.isListCell(el);\n      }.bind(this.util)) : selectedCells;\n      const cellsLen = selectedCells.length;\n\n      if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n        return {\n          sc: selectedCells[0],\n          so: 0,\n          ec: selectedCells[cellsLen - 1],\n          eo: 1\n        };\n      }\n\n      let originList = selectedCells[0].parentNode;\n      let lastCell = selectedCells[cellsLen - 1];\n      let range = null;\n\n      if (remove) {\n        if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n          lastCell = lastCell.nextElementSibling;\n\n          while (lastCell) {\n            selectedCells.push(lastCell);\n            lastCell = lastCell.nextElementSibling;\n          }\n        }\n\n        range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n      } else {\n        let innerList = this.util.createElement(originList.nodeName);\n        let prev = selectedCells[0].previousElementSibling;\n        let next = lastCell.nextElementSibling;\n        const nodePath = {\n          s: null,\n          e: null,\n          sl: originList,\n          el: originList\n        };\n\n        for (let i = 0, len = cellsLen, c; i < len; i++) {\n          c = selectedCells[i];\n\n          if (c.parentNode !== originList) {\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            originList = c.parentNode;\n            innerList = this.util.createElement(originList.nodeName);\n          }\n\n          prev = c.previousElementSibling;\n          next = c.nextElementSibling;\n          innerList.appendChild(c);\n        }\n\n        this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n        const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n        const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n        range = {\n          sc: sc,\n          so: 0,\n          ec: ec,\n          eo: ec.textContent.length\n        };\n      }\n\n      return range;\n    },\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n      let insertPrev = false;\n\n      if (prev && innerList.tagName === prev.tagName) {\n        const children = innerList.children;\n\n        while (children[0]) {\n          prev.appendChild(children[0]);\n        }\n\n        innerList = prev;\n        insertPrev = true;\n      }\n\n      if (next && innerList.tagName === next.tagName) {\n        const children = next.children;\n\n        while (children[0]) {\n          innerList.appendChild(children[0]);\n        }\n\n        const temp = next.nextElementSibling;\n        next.parentNode.removeChild(next);\n        next = temp;\n      }\n\n      if (!insertPrev) {\n        if (this.util.isListCell(prev)) {\n          originList = prev;\n          next = null;\n        }\n\n        originList.insertBefore(innerList, next);\n\n        if (!nodePath.s) {\n          nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n          nodePath.sl = originList;\n        }\n\n        const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n        nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n        nodePath.el = originList;\n        this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n        this.util.mergeNestedTags(originList);\n        if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n\n      return innerList;\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = '';\n\n      while (!command && !/^UL$/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const range = this.plugins.list.editList.call(this, command, null, false);\n      if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.paragraphStyle = {\n        _classList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const menuLang = this.lang.menu;\n      const defaultList = {\n        spaced: {\n          name: menuLang.spaced,\n          class: '__se__p-spaced',\n          _class: ''\n        },\n        bordered: {\n          name: menuLang.bordered,\n          class: '__se__p-bordered',\n          _class: ''\n        },\n        neon: {\n          name: menuLang.neon,\n          class: '__se__p-neon',\n          _class: ''\n        }\n      };\n      const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n        p = paragraphStyles[i];\n\n        if (typeof p === 'string') {\n          const defaultStyle = defaultList[p.toLowerCase()];\n          if (!defaultStyle) continue;\n          p = defaultStyle;\n        }\n\n        name = p.name;\n        attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n        _class = p._class;\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + '<div' + attrs + '>' + name + '</div>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const paragraphContext = this.context.paragraphStyle;\n      const paragraphList = paragraphContext._classList;\n      const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n      for (let i = 0, len = paragraphList.length; i < len; i++) {\n        if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n          this.util.addClass(paragraphList[i], 'active');\n        } else {\n          this.util.removeClass(paragraphList[i], 'active');\n        }\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!/^UL$/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        if (value) break;\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      let selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        this.getRange_addLine(this.getRange());\n        selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) return;\n      } // change format class\n\n\n      const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        toggleClass(selectedFormsts[i], value);\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'table',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.table = {\n        _element: null,\n        _tdElement: null,\n        _trElement: null,\n        _trElements: null,\n        _tableXY: [],\n        _maxWidth: true,\n        _fixedColumn: false,\n        cellControllerTop: context.options.tableCellControllerPosition === 'top',\n        resizeText: null,\n        headerButton: null,\n        mergeButton: null,\n        splitButton: null,\n        splitMenu: null,\n        maxText: core.lang.controller.maxSize,\n        minText: core.lang.controller.minSize,\n        _physical_cellCnt: 0,\n        _logical_cellCnt: 0,\n        _rowCnt: 0,\n        _rowIndex: 0,\n        _physical_cellIndex: 0,\n        _logical_cellIndex: 0,\n        _current_colSpan: 0,\n        _current_rowSpan: 0,\n        icons: {\n          expansion: core.icons.expansion,\n          reduction: core.icons.reduction\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let tablePicker = listDiv.querySelector('.se-controller-table-picker');\n      context.table.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\n      context.table.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\n      context.table.tableDisplay = listDiv.querySelector('.se-table-size-display');\n      /** set table controller */\n\n      let tableController = this.setController_table.call(core);\n      context.table.tableController = tableController;\n      context.table.resizeButton = tableController.querySelector('._se_table_resize');\n      context.table.resizeText = tableController.querySelector('._se_table_resize > span > span');\n      context.table.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\n      context.table.headerButton = tableController.querySelector('._se_table_header');\n      tableController.addEventListener('mousedown', core.eventStop);\n      /** set resizing */\n\n      let resizeDiv = this.setController_tableEditor.call(core, context.table.cellControllerTop);\n      context.table.resizeDiv = resizeDiv;\n      context.table.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\n      context.table.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\n      context.table.splitButton = resizeDiv.querySelector('._se_table_split_button');\n      context.table.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\n      context.table.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\n      resizeDiv.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core));\n      tablePicker.addEventListener('click', this.appendTable.bind(core));\n      resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\n      tableController.addEventListener('click', this.onClick_tableController.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** append controller */\n\n      context.element.relative.appendChild(resizeDiv);\n      context.element.relative.appendChild(tableController);\n      /** empty memory */\n\n      listDiv = null, tablePicker = null, resizeDiv = null, tableController = null;\n    },\n    setSubmenu: function () {\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-selector-table';\n      listDiv.innerHTML = '' + '<div class=\"se-table-size\">' + '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' + '<div class=\"se-table-size-highlighted\"></div>' + '<div class=\"se-table-size-unhighlighted\"></div>' + '</div>' + '<div class=\"se-table-size-display\">1 x 1</div>';\n      return listDiv;\n    },\n    setController_table: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table';\n      tableResize.innerHTML = '' + '<div>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' + icons.expansion + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' + icons.table_header + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    setController_tableEditor: function (cellControllerTop) {\n      const lang = this.lang;\n      const icons = this.icons;\n      const tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table-cell';\n      tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' + icons.delete_row + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' + icons.merge_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' + icons.insert_column_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' + icons.insert_column_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' + icons.delete_column + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' + icons.split_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + '</li>' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + '</li>' + '</ul>' + '</div>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    appendTable: function () {\n      const oTable = this.util.createElement('TABLE');\n      const createCells = this.plugins.table.createCells;\n      const x = this.context.table._tableXY[0];\n      let y = this.context.table._tableXY[1];\n      let tableHTML = '<tbody>';\n\n      while (y > 0) {\n        tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\n        --y;\n      }\n\n      tableHTML += '</tbody>';\n      oTable.innerHTML = tableHTML;\n      const changed = this.insertComponent(oTable, false, true, false);\n\n      if (changed) {\n        const firstTd = oTable.querySelector('td div');\n        this.setRange(firstTd, 0, firstTd, 0);\n        this.plugins.table.reset_table_picker.call(this);\n      }\n    },\n    createCells: function (nodeName, cnt, returnElement) {\n      nodeName = nodeName.toLowerCase();\n\n      if (!returnElement) {\n        let cellsHTML = '';\n\n        while (cnt > 0) {\n          cellsHTML += '<' + nodeName + '><div><br></div></' + nodeName + '>';\n          cnt--;\n        }\n\n        return cellsHTML;\n      } else {\n        const cell = this.util.createElement(nodeName);\n        cell.innerHTML = '<div><br></div>';\n        return cell;\n      }\n    },\n    onMouseMove_tablePicker: function (e) {\n      e.stopPropagation();\n\n      let x = this._w.Math.ceil(e.offsetX / 18);\n\n      let y = this._w.Math.ceil(e.offsetY / 18);\n\n      x = x < 1 ? 1 : x;\n      y = y < 1 ? 1 : y;\n      this.context.table.tableHighlight.style.width = x + 'em';\n      this.context.table.tableHighlight.style.height = y + 'em';\n      let x_u = 10; // x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n\n      let y_u = 10; //y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n\n      this.context.table.tableUnHighlight.style.width = x_u + 'em';\n      this.context.table.tableUnHighlight.style.height = y_u + 'em';\n      this.util.changeTxt(this.context.table.tableDisplay, x + ' x ' + y);\n      this.context.table._tableXY = [x, y];\n    },\n    reset_table_picker: function () {\n      if (!this.context.table.tableHighlight) return;\n      const highlight = this.context.table.tableHighlight.style;\n      const unHighlight = this.context.table.tableUnHighlight.style;\n      highlight.width = '1em';\n      highlight.height = '1em';\n      unHighlight.width = '10em';\n      unHighlight.height = '10em';\n      this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\n      this.submenuOff();\n    },\n    init: function () {\n      const contextTable = this.context.table;\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      if (tablePlugin._selectedTable) {\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\n          this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n        }\n      }\n\n      tablePlugin._toggleEditor.call(this, true);\n\n      contextTable._element = null;\n      contextTable._tdElement = null;\n      contextTable._trElement = null;\n      contextTable._trElements = null;\n      contextTable._tableXY = [];\n      contextTable._maxWidth = true;\n      contextTable._fixedColumn = false;\n      contextTable._physical_cellCnt = 0;\n      contextTable._logical_cellCnt = 0;\n      contextTable._rowCnt = 0;\n      contextTable._rowIndex = 0;\n      contextTable._physical_cellIndex = 0;\n      contextTable._logical_cellIndex = 0;\n      contextTable._current_colSpan = 0;\n      contextTable._current_rowSpan = 0;\n      tablePlugin._shift = false;\n      tablePlugin._selectedCells = null;\n      tablePlugin._selectedTable = null;\n      tablePlugin._ref = null;\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    },\n\n    /** table edit controller */\n    call_controller_tableEdit: function (tdElement) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n\n      if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n        this.controllersOff();\n        this.util.removeClass(tdElement, 'se-table-selected-cell');\n        return;\n      }\n\n      const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n      tablePlugin.setPositionControllerTop.call(this, tableElement);\n      contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || !tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto');\n      contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\n      tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\n      tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n      if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\n    },\n    setPositionControllerTop: function (tableElement) {\n      const tableController = this.context.table.tableController;\n      const offset = this.util.getOffset(tableElement, this.context.element.wysiwygFrame);\n      tableController.style.left = offset.left + 'px';\n      tableController.style.display = 'block';\n      tableController.style.top = offset.top - tableController.offsetHeight - 2 + 'px';\n    },\n    setPositionControllerDiv: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const resizeDiv = contextTable.resizeDiv;\n      this.plugins.table.setCellInfo.call(this, tdElement, reset);\n      resizeDiv.style.visibility = 'hidden';\n      resizeDiv.style.display = 'block';\n\n      if (contextTable.cellControllerTop) {\n        const offset = this.util.getOffset(contextTable._element, this.context.element.wysiwygFrame);\n        resizeDiv.style.top = offset.top - resizeDiv.offsetHeight - 2 + 'px';\n        resizeDiv.style.left = offset.left + contextTable.tableController.offsetWidth + 'px';\n      } else {\n        const offset = this.util.getOffset(tdElement, this.context.element.wysiwygFrame);\n        resizeDiv.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n        resizeDiv.style.top = offset.top + tdElement.offsetHeight + 12 + 'px';\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (resizeDiv.offsetLeft + resizeDiv.offsetWidth);\n\n        if (overLeft < 0) {\n          resizeDiv.style.left = resizeDiv.offsetLeft + overLeft + 'px';\n          resizeDiv.firstElementChild.style.left = 20 - overLeft + 'px';\n        } else {\n          resizeDiv.firstElementChild.style.left = '20px';\n        }\n      }\n\n      resizeDiv.style.visibility = '';\n    },\n    setCellInfo: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n\n      if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n        this.util.addClass(contextTable.headerButton, 'active');\n      } else {\n        this.util.removeClass(contextTable.headerButton, 'active');\n      }\n\n      if (reset || contextTable._physical_cellCnt === 0) {\n        if (contextTable._tdElement !== tdElement) {\n          contextTable._tdElement = tdElement;\n          contextTable._trElement = tdElement.parentNode;\n        }\n\n        const rows = contextTable._trElements = table.rows;\n        const cellIndex = tdElement.cellIndex;\n        let cellCnt = 0;\n\n        for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n          cellCnt += cells[i].colSpan;\n        } // row cnt, row index\n\n\n        const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n        contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n        contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n        contextTable._logical_cellCnt = cellCnt;\n        contextTable._physical_cellIndex = cellIndex; // span\n\n        contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n        contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n        let rowSpanArr = [];\n        let spanIndex = [];\n\n        for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            } // logcal cell index\n\n\n            if (i === rowIndex && c === cellIndex) {\n              contextTable._logical_cellIndex = logcalIndex;\n              break;\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        rowSpanArr = null;\n        spanIndex = null;\n      }\n    },\n    editTable: function (type, option) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const table = contextTable._element;\n      const isRow = type === 'row';\n\n      if (isRow) {\n        const tableAttr = contextTable._trElement.parentNode;\n\n        if (/^THEAD$/i.test(tableAttr.nodeName)) {\n          if (option === 'up') {\n            return;\n          } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n            table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\n            return;\n          }\n        }\n      } // multi\n\n\n      if (tablePlugin._ref) {\n        const positionCell = contextTable._tdElement;\n        const selectedCells = tablePlugin._selectedCells; // multi - row\n\n        if (isRow) {\n          // remove row\n          if (!option) {\n            let row = selectedCells[0].parentNode;\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (row !== cell.parentNode) {\n                removeCells.push(cell);\n                row = cell.parentNode;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editRow.call(this, option);\n            }\n          } else {\n            // edit row\n            tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n            tablePlugin.editRow.call(this, option, positionCell);\n          }\n        } else {\n          // multi - cell\n          const firstRow = selectedCells[0].parentNode; // remove cell\n\n          if (!option) {\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (firstRow === cell.parentNode) {\n                removeCells.push(cell);\n              } else {\n                break;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editCell.call(this, option);\n            }\n          } else {\n            // edit cell\n            let rightCell = null;\n\n            for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\n              if (firstRow !== selectedCells[i + 1].parentNode) {\n                rightCell = selectedCells[i];\n                break;\n              }\n            }\n\n            tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\n            tablePlugin.editCell.call(this, option, positionCell);\n          }\n        }\n\n        if (!option) tablePlugin.init.call(this);\n      } // one\n      else {\n          tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\n        } // after remove\n\n\n      if (!option) {\n        const children = table.children;\n\n        for (let i = 0; i < children.length; i++) {\n          if (children[i].children.length === 0) {\n            this.util.removeItem(children[i]);\n            i--;\n          }\n        }\n\n        if (table.children.length === 0) this.util.removeItem(table);\n      }\n    },\n    editRow: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const remove = !option;\n      const up = option === 'up';\n      const originRowIndex = contextTable._rowIndex;\n      const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n      const sign = remove ? -1 : 1;\n      const rows = contextTable._trElements;\n      let cellCnt = contextTable._logical_cellCnt;\n\n      for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n        cell = rows[i].cells;\n        if (cell.length === 0) return;\n\n        for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n          rs = cell[c].rowSpan;\n          cs = cell[c].colSpan;\n          if (rs < 2 && cs < 2) continue;\n\n          if (rs + i > rowIndex && rowIndex > i) {\n            cell[c].rowSpan = rs + sign;\n            cellCnt -= cs;\n          }\n        }\n      }\n\n      if (remove) {\n        const next = rows[originRowIndex + 1];\n\n        if (next) {\n          const spanCells = [];\n          let cells = rows[originRowIndex].cells;\n          let colSpan = 0;\n\n          for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n            cell = cells[i];\n            logcalIndex = i + colSpan;\n            colSpan += cell.colSpan - 1;\n\n            if (cell.rowSpan > 1) {\n              cell.rowSpan -= 1;\n              spanCells.push({\n                cell: cell.cloneNode(false),\n                index: logcalIndex\n              });\n            }\n          }\n\n          if (spanCells.length > 0) {\n            let spanCell = spanCells.shift();\n            cells = next.cells;\n            colSpan = 0;\n\n            for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n              cell = cells[i];\n              logcalIndex = i + colSpan;\n              colSpan += cell.colSpan - 1;\n\n              if (logcalIndex >= spanCell.index) {\n                i--, colSpan--;\n                colSpan += spanCell.cell.colSpan - 1;\n                next.insertBefore(spanCell.cell, cell);\n                spanCell = spanCells.shift();\n                if (!spanCell) break;\n              }\n            }\n\n            if (spanCell) {\n              next.appendChild(spanCell.cell);\n\n              for (let i = 0, len = spanCells.length; i < len; i++) {\n                next.appendChild(spanCells[i].cell);\n              }\n            }\n          }\n        }\n\n        contextTable._element.deleteRow(rowIndex);\n      } else {\n        const newRow = contextTable._element.insertRow(rowIndex);\n\n        newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\n      }\n\n      if (!remove) {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      } else {\n        this.controllersOff();\n      }\n    },\n    editCell: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const util = this.util;\n      const remove = !option;\n      const left = option === 'left';\n      const colSpan = contextTable._current_colSpan;\n      const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n      const rows = contextTable._trElements;\n      let rowSpanArr = [];\n      let spanIndex = [];\n      let passCell = 0;\n      const removeCell = [];\n      const removeSpanArr = [];\n\n      for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n        row = rows[i];\n        insertIndex = cellIndex;\n        applySpan = false;\n        cells = row.cells;\n        cellColSpan = 0;\n\n        for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n          cell = cells[c];\n          if (!cell) break;\n          rs = cell.rowSpan - 1;\n          cs = cell.colSpan - 1;\n\n          if (!remove) {\n            if (c >= insertIndex) break;\n\n            if (cs > 0) {\n              if (passCell < 1 && cs + c >= insertIndex) {\n                cell.colSpan += 1;\n                insertIndex = null;\n                passCell = rs + 1;\n                break;\n              }\n\n              insertIndex -= cs;\n            }\n\n            if (!applySpan) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                insertIndex -= arr.cs;\n                arr.rs -= 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n\n              applySpan = true;\n            }\n          } else {\n            removeIndex = c + cellColSpan;\n\n            if (spanIndex.length > 0) {\n              const lastCell = !cells[c + 1];\n\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (removeIndex >= arr.index) {\n                  cellColSpan += arr.cs;\n                  removeIndex = c + cellColSpan;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (lastCell) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                rs: rs,\n                cs: cs + 1,\n                index: removeIndex,\n                row: -1\n              });\n            }\n\n            if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n              removeCell.push(cell);\n            } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n              cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n            } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n              removeSpanArr.push({\n                cell: cell,\n                i: i,\n                rs: i + rs\n              });\n            }\n\n            cellColSpan += cs;\n          }\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n\n        if (!remove) {\n          if (passCell > 0) {\n            passCell -= 1;\n            continue;\n          }\n\n          if (insertIndex !== null && cells.length > 0) {\n            newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n            newCell = row.insertBefore(newCell, cells[insertIndex]);\n          }\n        }\n      }\n\n      if (remove) {\n        let removeFirst, removeEnd;\n\n        for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\n          row = removeCell[r].parentNode;\n          util.removeItem(removeCell[r]);\n\n          if (row.cells.length === 0) {\n            if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\n            removeEnd = util.getArrayIndex(rows, row);\n            util.removeItem(row);\n          }\n        }\n\n        for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\n          rowSpanCell = removeSpanArr[c];\n          rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n        }\n\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      }\n    },\n    _closeSplitMenu: null,\n    openSplitMenu: function () {\n      this.util.addClass(this.context.table.splitButton, 'on');\n      this.context.table.splitMenu.style.display = 'inline-table';\n\n      this.plugins.table._closeSplitMenu = function () {\n        this.util.removeClass(this.context.table.splitButton, 'on');\n        this.context.table.splitMenu.style.display = 'none';\n        this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n        this.plugins.table._closeSplitMenu = null;\n      }.bind(this);\n\n      this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n    },\n    splitCells: function (direction) {\n      const util = this.util;\n      const vertical = direction === 'vertical';\n      const contextTable = this.context.table;\n      const currentCell = contextTable._tdElement;\n      const rows = contextTable._trElements;\n      const currentRow = contextTable._trElement;\n      const index = contextTable._logical_cellIndex;\n      const rowIndex = contextTable._rowIndex;\n      const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n      if (vertical) {\n        const currentColSpan = currentCell.colSpan;\n        newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n        if (currentColSpan > 1) {\n          newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n          currentCell.colSpan = currentColSpan - newCell.colSpan;\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        } else {\n          // colspan - 1\n          let rowSpanArr = [];\n          let spanIndex = [];\n\n          for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n              cell = cells[c];\n              cs = cell.colSpan - 1;\n              rs = cell.rowSpan - 1;\n              logcalIndex = c + colSpan;\n\n              if (spanIndex.length > 0) {\n                for (let r = 0, arr; r < spanIndex.length; r++) {\n                  arr = spanIndex[r];\n                  if (arr.row > i) continue;\n\n                  if (logcalIndex >= arr.index) {\n                    colSpan += arr.cs;\n                    logcalIndex += arr.cs;\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  } else if (c === cLen - 1) {\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  }\n                }\n              }\n\n              if (logcalIndex <= index && rs > 0) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cs + 1,\n                  rs: rs,\n                  row: -1\n                });\n              }\n\n              if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n                cell.colSpan += 1;\n                break;\n              }\n\n              if (logcalIndex > index) break;\n              colSpan += cs;\n            }\n\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n              return a.index - b.index;\n            });\n            rowSpanArr = [];\n          }\n\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        }\n      } else {\n        // horizontal\n        const currentRowSpan = currentCell.rowSpan;\n        newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n        if (currentRowSpan > 1) {\n          newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n          const newRowSpan = currentRowSpan - newCell.rowSpan;\n          const rowSpanArr = [];\n          const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n          for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\n              logcalIndex = c + colSpan;\n              if (logcalIndex >= index) break;\n              cell = cells[c];\n              cs = cell.rowSpan - 1;\n\n              if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cell.colSpan\n                });\n              }\n\n              colSpan += cell.colSpan - 1;\n            }\n          }\n\n          const nextRow = rows[nextRowIndex];\n          const nextCells = nextRow.cells;\n          let rs = rowSpanArr.shift();\n\n          for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\n            logcalIndex = c + colSpan;\n            cell = nextCells[c];\n            cs = cell.colSpan - 1;\n            insertIndex = logcalIndex + cs + 1;\n\n            if (rs && insertIndex >= rs.index) {\n              colSpan += rs.cs;\n              insertIndex += rs.cs;\n              rs = rowSpanArr.shift();\n            }\n\n            if (insertIndex >= index || c === cLen - 1) {\n              nextRow.insertBefore(newCell, cell.nextElementSibling);\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          currentCell.rowSpan = newRowSpan;\n        } else {\n          // rowspan - 1\n          newCell.rowSpan = currentCell.rowSpan;\n          const newRow = util.createElement('TR');\n          newRow.appendChild(newCell);\n\n          for (let i = 0, cells; i < rowIndex; i++) {\n            cells = rows[i].cells;\n            if (cells.length === 0) return;\n\n            for (let c = 0, cLen = cells.length; c < cLen; c++) {\n              if (i + cells[c].rowSpan - 1 >= rowIndex) {\n                cells[c].rowSpan += 1;\n              }\n            }\n          }\n\n          const physicalIndex = contextTable._physical_cellIndex;\n          const cells = currentRow.cells;\n\n          for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            if (c === physicalIndex) continue;\n            cells[c].rowSpan += 1;\n          }\n\n          currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n        }\n      }\n\n      this.focusEdge(currentCell);\n      this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n    },\n    mergeCells: function () {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const util = this.util;\n      const ref = tablePlugin._ref;\n      const selectedCells = tablePlugin._selectedCells;\n      const mergeCell = selectedCells[0];\n      let emptyRowFirst = null;\n      let emptyRowLast = null;\n      let cs = ref.ce - ref.cs + 1;\n      let rs = ref.re - ref.rs + 1;\n      let mergeHTML = '';\n      let row = null;\n\n      for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n        cell = selectedCells[i];\n        if (row !== cell.parentNode) row = cell.parentNode;\n        ch = cell.children;\n\n        for (let c = 0, cLen = ch.length; c < cLen; c++) {\n          if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n            util.removeItem(ch[c]);\n          }\n        }\n\n        mergeHTML += cell.innerHTML;\n        util.removeItem(cell);\n\n        if (row.cells.length === 0) {\n          if (!emptyRowFirst) emptyRowFirst = row;else emptyRowLast = row;\n          rs -= 1;\n        }\n      }\n\n      if (emptyRowFirst) {\n        const rows = contextTable._trElements;\n        const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n        const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n        const removeRows = [];\n\n        for (let i = 0, cells; i <= rowIndexLast; i++) {\n          cells = rows[i].cells;\n\n          if (cells.length === 0) {\n            removeRows.push(rows[i]);\n            continue;\n          }\n\n          for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\n            cell = cells[c];\n            rs = cell.rowSpan - 1;\n\n            if (rs > 0 && i + rs >= rowIndexFirst) {\n              cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\n            }\n          }\n        }\n\n        for (let i = 0, len = removeRows.length; i < len; i++) {\n          util.removeItem(removeRows[i]);\n        }\n      }\n\n      mergeCell.innerHTML += mergeHTML;\n      mergeCell.colSpan = cs;\n      mergeCell.rowSpan = rs;\n      this.controllersOff();\n      tablePlugin.setActiveButton.call(this, true, false);\n      tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n      util.addClass(mergeCell, 'se-table-selected-cell');\n      this.focusEdge(mergeCell);\n    },\n    toggleHeader: function () {\n      const util = this.util;\n      const headerButton = this.context.table.headerButton;\n      const active = util.hasClass(headerButton, 'active');\n      const table = this.context.table._element;\n\n      if (!active) {\n        const header = util.createElement('THEAD');\n        header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\n        table.insertBefore(header, table.firstElementChild);\n      } else {\n        util.removeItem(table.querySelector('thead'));\n      }\n\n      util.toggleClass(headerButton, 'active');\n\n      if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n      }\n    },\n    setTableStyle: function (styles) {\n      const contextTable = this.context.table;\n      const tableElement = contextTable._element;\n      let icon, span, sizeIcon, text;\n\n      if (styles.indexOf('width') > -1) {\n        icon = contextTable.resizeButton.firstElementChild;\n        span = contextTable.resizeText;\n\n        if (!contextTable._maxWidth) {\n          sizeIcon = contextTable.icons.expansion;\n          text = contextTable.maxText;\n          contextTable.columnFixedButton.style.display = 'none';\n          this.util.removeClass(tableElement, 'se-table-size-100');\n          this.util.addClass(tableElement, 'se-table-size-auto');\n        } else {\n          sizeIcon = contextTable.icons.reduction;\n          text = contextTable.minText;\n          contextTable.columnFixedButton.style.display = 'block';\n          this.util.removeClass(tableElement, 'se-table-size-auto');\n          this.util.addClass(tableElement, 'se-table-size-100');\n        }\n\n        this.util.changeElement(icon, sizeIcon);\n        this.util.changeTxt(span, text);\n      }\n\n      if (styles.indexOf('column') > -1) {\n        if (!contextTable._fixedColumn) {\n          this.util.removeClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(tableElement, 'se-table-layout-auto');\n          this.util.removeClass(contextTable.columnFixedButton, 'active');\n        } else {\n          this.util.removeClass(tableElement, 'se-table-layout-auto');\n          this.util.addClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(contextTable.columnFixedButton, 'active');\n        }\n      }\n    },\n    setActiveButton: function (fixedCell, selectedCell) {\n      const contextTable = this.context.table;\n\n      if (/^TH$/i.test(fixedCell.nodeName)) {\n        contextTable.insertRowAboveButton.setAttribute('disabled', true);\n        contextTable.insertRowBelowButton.setAttribute('disabled', true);\n      } else {\n        contextTable.insertRowAboveButton.removeAttribute('disabled');\n        contextTable.insertRowBelowButton.removeAttribute('disabled');\n      }\n\n      if (!selectedCell || fixedCell === selectedCell) {\n        contextTable.splitButton.removeAttribute('disabled');\n        contextTable.mergeButton.setAttribute('disabled', true);\n      } else {\n        contextTable.splitButton.setAttribute('disabled', true);\n        contextTable.mergeButton.removeAttribute('disabled');\n      }\n    },\n    // multi selecte\n    _bindOnSelect: null,\n    _bindOffSelect: null,\n    _bindOffShift: null,\n    _selectedCells: null,\n    _shift: false,\n    _fixedCell: null,\n    _fixedCellName: null,\n    _selectedCell: null,\n    _selectedTable: null,\n    _ref: null,\n    _toggleEditor: function (enabled) {\n      this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\n      if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\n    },\n    _offCellMultiSelect: function (e) {\n      e.stopPropagation();\n      const tablePlugin = this.plugins.table;\n\n      if (!tablePlugin._shift) {\n        tablePlugin._removeEvents.call(this);\n\n        tablePlugin._toggleEditor.call(this, true);\n      } else if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\n      tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n      tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n      tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n      if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\n\n      if (!tablePlugin._shift) {\n        tablePlugin._fixedCell = null;\n        tablePlugin._selectedCell = null;\n        tablePlugin._fixedCellName = null;\n      }\n    },\n    _onCellMultiSelect: function (e) {\n      this._antiBlur = true;\n      const tablePlugin = this.plugins.table;\n      const target = this.util.getParentElement(e.target, this.util.isCell);\n\n      if (tablePlugin._shift) {\n        if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);else tablePlugin._toggleEditor.call(this, false);\n      } else if (!tablePlugin._ref) {\n        if (target === tablePlugin._fixedCell) return;else tablePlugin._toggleEditor.call(this, false);\n      }\n\n      if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\n        return;\n      }\n\n      tablePlugin._selectedCell = target;\n\n      tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n    },\n    _setMultiCells: function (startCell, endCell) {\n      const tablePlugin = this.plugins.table;\n      const rows = tablePlugin._selectedTable.rows;\n      const util = this.util;\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      if (startCell === endCell) {\n        util.addClass(startCell, 'se-table-selected-cell');\n        if (!tablePlugin._shift) return;\n      }\n\n      let findSelectedCell = true;\n      let spanIndex = [];\n      let rowSpanArr = [];\n      const ref = tablePlugin._ref = {\n        _i: 0,\n        cs: null,\n        ce: null,\n        rs: null,\n        re: null\n      };\n\n      for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\n        cells = rows[i].cells;\n        colSpan = 0;\n\n        for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n          cell = cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (let r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              if (arr.row > i) continue;\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          }\n\n          if (findSelectedCell) {\n            if (cell === startCell || cell === endCell) {\n              ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n              ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n              ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\n              ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\n              ref._i += 1;\n            }\n\n            if (ref._i === 2) {\n              findSelectedCell = false;\n              spanIndex = [];\n              rowSpanArr = [];\n              i = -1;\n              break;\n            }\n          } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\n            const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            const newRs = ref.rs < i ? ref.rs : i;\n            const newRe = ref.re > i + rs ? ref.re : i + rs;\n\n            if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n              ref.cs = newCs;\n              ref.ce = newCe;\n              ref.rs = newRs;\n              ref.re = newRe;\n              i = -1;\n              spanIndex = [];\n              rowSpanArr = [];\n              break;\n            }\n\n            util.addClass(cell, 'se-table-selected-cell');\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cell.colSpan - 1;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n    },\n    _removeEvents: function () {\n      const tablePlugin = this.plugins.table;\n\n      if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (tablePlugin._bindOnSelect) {\n        this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\n\n        this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\n\n        tablePlugin._bindOnSelect = null;\n      }\n\n      if (tablePlugin._bindOffSelect) {\n        this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\n\n        tablePlugin._bindOffSelect = null;\n      }\n\n      if (tablePlugin._bindOffShift) {\n        this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\n\n        tablePlugin._bindOffShift = null;\n      }\n    },\n    _initBind: null,\n    onTableCellMultiSelect: function (tdElement, shift) {\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      this.controllersOff();\n      tablePlugin._shift = shift;\n      tablePlugin._fixedCell = tdElement;\n      tablePlugin._fixedCellName = tdElement.nodeName;\n      tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      this.util.addClass(tdElement, 'se-table-selected-cell');\n      tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n      tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n      if (!shift) {\n        this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\n      } else {\n        tablePlugin._bindOffShift = function () {\n          this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\n          if (!tablePlugin._ref) this.controllersOff();\n        }.bind(this);\n\n        this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\n\n        this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\n      }\n\n      this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\n\n      tablePlugin._initBind = tablePlugin.init.bind(this);\n\n      this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\n    },\n    onClick_tableController: function (e) {\n      e.stopPropagation();\n      const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\n      if (target.getAttribute('disabled')) return;\n      const command = target.getAttribute('data-command');\n      const value = target.getAttribute('data-value');\n      const option = target.getAttribute('data-option');\n      const tablePlugin = this.plugins.table;\n\n      if (typeof tablePlugin._closeSplitMenu === 'function') {\n        tablePlugin._closeSplitMenu();\n\n        if (command === 'onsplit') return;\n      }\n\n      if (!command) return;\n      e.preventDefault();\n      const contextTable = this.context.table;\n\n      switch (command) {\n        case 'insert':\n        case 'delete':\n          tablePlugin.editTable.call(this, value, option);\n          break;\n\n        case 'header':\n          tablePlugin.toggleHeader.call(this);\n          break;\n\n        case 'onsplit':\n          tablePlugin.openSplitMenu.call(this);\n          break;\n\n        case 'split':\n          tablePlugin.splitCells.call(this, value);\n          break;\n\n        case 'merge':\n          tablePlugin.mergeCells.call(this);\n          break;\n\n        case 'resize':\n          contextTable._maxWidth = !contextTable._maxWidth;\n          tablePlugin.setTableStyle.call(this, 'width');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'layout':\n          contextTable._fixedColumn = !contextTable._fixedColumn;\n          tablePlugin.setTableStyle.call(this, 'column');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'remove':\n          const emptyDiv = contextTable._element.parentNode;\n          this.util.removeItem(contextTable._element);\n          this.controllersOff();\n          if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n          this.focus();\n      } // history stack\n\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.template = {};\n      /** set submenu */\n\n      let templateDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, templateDiv);\n      /** empty memory */\n\n      templateDiv = null;\n    },\n    setSubmenu: function () {\n      const templateList = this.context.option.templates;\n\n      if (!templateList || templateList.length === 0) {\n        throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n      }\n\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      let list = '<div class=\"se-submenu se-list-inner\">' + '<ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = templateList.length, t; i < len; i++) {\n        t = templateList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const temp = this.context.option.templates[e.target.getAttribute('data-value')];\n\n      if (temp.html) {\n        this.setContents(temp.html);\n      } else {\n        this.submenuOff();\n        throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 24 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.textStyle = {\n        _styleList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.textStyle._styleList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultList = {\n        code: {\n          name: this.lang.menu.code,\n          class: '__se__t-code',\n          tag: 'code'\n        },\n        translucent: {\n          name: this.lang.menu.translucent,\n          style: 'opacity: 0.5;',\n          tag: 'span'\n        },\n        shadow: {\n          name: this.lang.menu.shadow,\n          class: '__se__t-shadow',\n          tag: 'span'\n        }\n      };\n      const styleList = !option.textStyles ? this._w.Object.keys(defaultList) : option.textStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n        t = styleList[i];\n        attrs = '', value = '', command = [];\n\n        if (typeof t === 'string') {\n          const defaultStyle = defaultList[t.toLowerCase()];\n          if (!defaultStyle) continue;\n          t = defaultStyle;\n        }\n\n        name = t.name;\n        tag = t.tag || 'span';\n        _class = t._class;\n\n        if (t.style) {\n          attrs += ' style=\"' + t.style + '\"';\n          value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n          command.push('style');\n        }\n\n        if (t.class) {\n          attrs += ' class=\"' + t.class + '\"';\n          value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n          command.push('class');\n        }\n\n        value = value.replace(/,$/, '');\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + '<' + tag + attrs + '>' + name + '</' + tag + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const util = this.util;\n      const textStyleContext = this.context.textStyle;\n      const styleButtonList = textStyleContext._styleList;\n      const selectionNode = this.getSelectionNode();\n\n      for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n        btn = styleButtonList[i];\n        data = btn.getAttribute('data-value').split(',');\n\n        for (let v = 0, node, value; v < data.length; v++) {\n          node = selectionNode;\n          active = false;\n\n          while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n            if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n              value = data[v];\n\n              if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                active = true;\n                break;\n              }\n            }\n\n            node = node.parentNode;\n          }\n\n          if (!active) break;\n        }\n\n        active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          tag = null;\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n      checkStyles.pop();\n      const classes = tag.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        checkStyles.push('.' + classes[i]);\n      }\n\n      const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n      const removeNodes = newNode ? null : [tag.nodeName];\n      this.nodeChange(newNode, checkStyles, removeNodes, true);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 25 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n      const context = core.context;\n      const contextImage = context.image = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        sizeUnit: context.option._imageSizeUnit,\n        _altText: '',\n        _linkElement: null,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _v_link: {\n          _linkValue: ''\n        },\n        _v_src: {\n          _linkValue: ''\n        },\n        svgDefaultSize: '30%',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: 'auto',\n        _defaultSizeY: 'auto',\n        _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n        _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n        _proportionChecked: true,\n        _resizing: context.option.imageResizing,\n        _resizeDotHide: !context.option.imageHeightShow,\n        _rotation: context.option.imageRotation,\n        _onlyPercentage: context.option.imageSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: true,\n        _captionChecked: false,\n        _caption: null,\n        captionCheckEl: null\n      };\n      /** image dialog */\n\n      let image_dialog = this.setDialog.call(core);\n      contextImage.modal = image_dialog;\n      contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n      contextImage.imgUrlFile = image_dialog.querySelector('.se-input-url');\n      contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n      contextImage.altText = image_dialog.querySelector('._se_image_alt');\n      contextImage.imgLink = image_dialog.querySelector('._se_image_link');\n      contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\n      contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n      contextImage.previewLink = image_dialog.querySelector('._se_tab_content_url .se-link-preview');\n      contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\n      /** add event listeners */\n\n      image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n      image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n      contextImage.imgLink.addEventListener('input', this._onLinkPreview.bind(contextImage.previewLink, contextImage._v_link, context.options.linkProtocol));\n      if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, context.options.linkProtocol));\n      const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\n      if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\n      contextImage.proportion = {};\n      contextImage.inputX = {};\n      contextImage.inputY = {};\n\n      if (context.option.imageResizing) {\n        contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n        contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n        contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n        contextImage.inputX.value = context.option.imageWidth;\n        contextImage.inputY.value = context.option.imageHeight;\n        contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n        image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(image_dialog);\n      /** empty memory */\n\n      image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-tabs\">' + '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' + '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' + '</div>' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_se_tab_content _se_tab_content_image\">' + '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n      if (option.imageFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.imageUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.url + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + (option.imageGalleryUrl && this.plugins.imageGallery ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + this.icons.image_gallery + '</button>' : '') + '</div>' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' + '</div>';\n\n      if (option.imageResizing) {\n        const onlyPercentage = option.imageSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n        html += '<div class=\"se-dialog-form\">';\n\n        if (onlyPercentage || !option.imageHeightShow) {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' + '</div>';\n        } else {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' + '</div>';\n        }\n\n        html += '' + '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' + '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>';\n      }\n\n      html += '' + '<div class=\"se-dialog-form se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' + '</div>' + '</div>' + '</div>' + '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form _se_image_link\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>' + '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.imgInputFile.value) {\n        this.imgUrlFile.removeAttribute('disabled');\n        this.previewSrc.style.textDecoration = '';\n      } else {\n        this.imgUrlFile.setAttribute('disabled', true);\n        this.previewSrc.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, previewSrc) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        previewSrc.style.textDecoration = '';\n      }\n    },\n    _openGallery: function () {\n      this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n    },\n    _setUrlInput: function (target) {\n      this.altText.value = target.alt;\n      this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n      this.imgUrlFile.focus();\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\r\n     * @Override @Required fileManager\r\n     */\n    fileTags: ['img'],\n\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\n    select: function (element) {\n      this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\n    },\n\n    /**\r\n     * @Override fileManager, resizing\r\n     */\n    destroy: function (element) {\n      const imageEl = element || this.context.image._element;\n      const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n      const dataIndex = imageEl.getAttribute('data-index') * 1;\n      let focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n      const emptyDiv = imageContainer.parentNode;\n      this.util.removeItem(imageContainer);\n      this.plugins.image.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    on: function (update) {\n      const contextImage = this.context.image;\n\n      if (!update) {\n        contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\n      }\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n    openTab: function (e) {\n      const modal = this.context.image.modal;\n      const targetElement = e === 'init' ? modal.querySelector('._se_tab_link') : e.target;\n\n      if (!/^BUTTON$/i.test(targetElement.tagName)) {\n        return false;\n      } // Declare all variables\n\n\n      const tabName = targetElement.getAttribute('data-tab-link');\n      const contentClassName = '_se_tab_content';\n      let i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n      tabContent = modal.getElementsByClassName(contentClassName);\n\n      for (i = 0; i < tabContent.length; i++) {\n        tabContent[i].style.display = 'none';\n      } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n      tabLinks = modal.getElementsByClassName('_se_tab_link');\n\n      for (i = 0; i < tabLinks.length; i++) {\n        this.util.removeClass(tabLinks[i], 'active');\n      } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n      modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n      this.util.addClass(targetElement, 'active'); // focus\n\n      if (tabName === 'image' && this.context.image.focusElement) {\n        this.context.image.focusElement.focus();\n      } else if (tabName === 'url' && this.context.image.imgLink) {\n        this.context.image.imgLink.focus();\n      }\n\n      return false;\n    },\n    submit: function (e) {\n      const contextImage = this.context.image;\n      const imagePlugin = this.plugins.image;\n      e.preventDefault();\n      e.stopPropagation();\n      contextImage._altText = contextImage.altText.value;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked;\n      if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n      try {\n        if (this.context.dialog.updateModal) {\n          imagePlugin.update_image.call(this, false, true, false);\n        }\n\n        if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n          this.showLoading();\n          imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n        } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n          this.showLoading();\n          imagePlugin.onRender_imgUrl.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/image/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.imageUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const imagesInfo = this.context.image._infoList;\n\n        for (let i = 0, len = imagesInfo.length; i < len; i++) {\n          infoSize += imagesInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextImage = this.context.image;\n      contextImage._uploadFileLength = files.length;\n      const info = {\n        linkValue: contextImage._v_link._linkValue,\n        linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\n        inputWidth: contextImage.inputX.value,\n        inputHeight: contextImage.inputY.value,\n        align: contextImage._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextImage._element\n      };\n\n      if (typeof this.functions.onImageUploadBefore === 'function') {\n        const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.image.register.call(this, info, data);\n          } else {\n            this.plugins.image.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (this._w.Array.isArray(result) && result.length > 0) files = result;\n      }\n\n      this.plugins.image.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.image.error.call(this, files, null);\n        return;\n      }\n\n      const imageUploadUrl = this.context.option.imageUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n      } else {\n        // base64\n        this.plugins.image.setup_reader.call(this, files, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, filesLen - 1, info.isUpdate);\n      }\n    },\n    callBack_imgUpload: function (info, xmlHttp) {\n      if (typeof this.functions.imageUploadHandler === 'function') {\n        this.functions.imageUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.image.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.image.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n\n        if (info.isUpdate) {\n          this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n          break;\n        } else {\n          this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\n        }\n      }\n\n      this.closeLoading();\n    },\n    setup_reader: function (files, imgLinkValue, newWindowCheck, width, height, align, filesLen, isUpdate) {\n      try {\n        const wFileReader = this._w.FileReader;\n\n        for (let i = 0, reader, file; i <= filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          if (isUpdate) {\n            this.context.image._element.setAttribute('data-file-name', file.name);\n\n            this.context.image._element.setAttribute('data-file-size', file.size);\n          }\n\n          reader.onload = function (update, updateElement, file, close) {\n            this.context.image.inputX.value = width;\n            this.context.image.inputY.value = height;\n            if (update) this.plugins.image.update_src.call(this, reader.result, updateElement, file);else this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, width, height, align, file);\n            if (close) this.closeLoading();\n          }.bind(this, isUpdate, this.context.image._element, file, i === filesLen);\n\n          reader.readAsDataURL(file);\n        }\n      } catch (e) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\n      }\n    },\n    onRender_imgUrl: function () {\n      const contextImage = this.context.image;\n      if (contextImage._v_src._linkValue.length === 0) return false;\n\n      try {\n        const file = {\n          name: contextImage._v_src._linkValue.split('/').pop(),\n          size: 0\n        };\n        if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, contextImage._v_link._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      } catch (e) {\n        throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n      if (imgLinkValue.trim().length > 0) {\n        const link = this.util.createElement('A');\n        link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n        link.target = newWindowCheck ? '_blank' : '';\n        link.setAttribute('data-image-link', 'image');\n        imgTag.setAttribute('data-image-link', imgLinkValue);\n        link.appendChild(imgTag);\n        return link;\n      }\n\n      return imgTag;\n    },\n\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    checkFileInfo: function () {\n      const imagePlugin = this.plugins.image;\n\n      const modifyHandler = function (tag) {\n        imagePlugin.onModifyMode.call(this, tag, null);\n        imagePlugin.openModify.call(this, true);\n        imagePlugin.update_image.call(this, true, false, true);\n      }.bind(this);\n\n      this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\n    },\n    create_image: function (src, linkValue, linkNewWindow, width, height, align, file) {\n      const imagePlugin = this.plugins.image;\n      const contextImage = this.context.image;\n      this.context.resizing._resize_plugin = 'image';\n      let oImg = this.util.createElement('IMG');\n      oImg.src = src;\n      oImg.alt = contextImage._altText;\n      oImg = imagePlugin.onRender_link.call(this, oImg, linkValue, linkNewWindow);\n      oImg.setAttribute('data-rotate', '0');\n\n      if (contextImage._resizing) {\n        oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n      }\n\n      const cover = this.plugins.component.set_cover.call(this, oImg);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-image-container'); // caption\n\n      if (contextImage._captionChecked) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n\n        contextImage._caption.setAttribute('contenteditable', false);\n\n        cover.appendChild(contextImage._caption);\n      }\n\n      contextImage._element = oImg;\n      contextImage._cover = cover;\n      contextImage._container = container; // set size\n\n      imagePlugin.applySize.call(this, width, height); // align\n\n      imagePlugin.setAlign.call(this, align, oImg, cover, container);\n      oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize);\n      if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n      this.context.resizing._resize_plugin = '';\n    },\n    _image_create_onload: function (oImg, svgDefaultSize) {\n      // svg exception handling\n      if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\n      this.selectComponent.call(this, oImg, 'image');\n    },\n    update_image: function (init, openController, notHistoryPush) {\n      const contextImage = this.context.image;\n      const linkValue = contextImage._v_link._linkValue;\n      let imageEl = contextImage._element;\n      let cover = contextImage._cover;\n      let container = contextImage._container;\n      let isNewContainer = false;\n\n      if (cover === null) {\n        isNewContainer = true;\n        imageEl = contextImage._element.cloneNode(true);\n        cover = this.plugins.component.set_cover.call(this, imageEl);\n      }\n\n      if (container === null) {\n        cover = cover.cloneNode(true);\n        imageEl = cover.querySelector('img');\n        isNewContainer = true;\n        container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n      } else if (isNewContainer) {\n        container.innerHTML = '';\n        container.appendChild(cover);\n        contextImage._cover = cover;\n        contextImage._element = imageEl;\n        isNewContainer = false;\n      } // check size\n\n\n      let changeSize;\n      const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n      const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n      if (/%$/.test(imageEl.style.width)) {\n        changeSize = x !== container.style.width || y !== container.style.height;\n      } else {\n        changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n      } // alt\n\n\n      imageEl.alt = contextImage._altText; // caption\n\n      let modifiedCaption = false;\n\n      if (contextImage._captionChecked) {\n        if (!contextImage._caption) {\n          contextImage._caption = this.plugins.component.create_caption.call(this);\n          cover.appendChild(contextImage._caption);\n          modifiedCaption = true;\n        }\n      } else {\n        if (contextImage._caption) {\n          this.util.removeItem(contextImage._caption);\n          contextImage._caption = null;\n          modifiedCaption = true;\n        }\n      } // link\n\n\n      if (linkValue.trim().length > 0) {\n        if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\n          contextImage._linkElement.href = linkValue;\n          contextImage._linkElement.target = contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '';\n          imageEl.setAttribute('data-image-link', linkValue);\n        } else {\n          let newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n          cover.insertBefore(newEl, contextImage._caption);\n        }\n      } else if (contextImage._linkElement !== null) {\n        const imageElement = imageEl;\n        imageElement.setAttribute('data-image-link', '');\n        let newEl = imageElement.cloneNode(true);\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(newEl, contextImage._caption);\n        imageEl = newEl;\n      }\n\n      if (isNewContainer) {\n        const existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n        existElement.parentNode.replaceChild(container, existElement);\n        imageEl = container.querySelector('img');\n        contextImage._element = imageEl;\n        contextImage._cover = cover;\n        contextImage._container = container;\n      } // transform\n\n\n      if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n        if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n          if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n            this.plugins.resizing.resetTransform.call(this, imageEl);\n          } else {\n            this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n          }\n        }\n      } // size\n\n\n      let isPercent = false;\n\n      if (contextImage._resizing) {\n        imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n\n        if (changeSize) {\n          this.plugins.image.applySize.call(this);\n        }\n      } // align\n\n\n      if (!(isPercent && contextImage._align === 'center')) {\n        this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n      } // set imagesInfo\n\n\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\n      }\n\n      if (openController) {\n        this.selectComponent(imageEl, 'image');\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(false);\n    },\n    update_src: function (src, element, file) {\n      element.src = src;\n\n      this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\n\n      this.selectComponent(element, 'image');\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    onModifyMode: function (element, size) {\n      if (!element) return;\n      const contextImage = this.context.image;\n      contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n      contextImage._element = element;\n      contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n      contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n      contextImage._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextImage._element_w = size.w;\n        contextImage._element_h = size.h;\n        contextImage._element_t = size.t;\n        contextImage._element_l = size.l;\n      }\n\n      let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n\n      if (userSize) {\n        userSize = userSize.split(',');\n        contextImage._origin_w = userSize[0];\n        contextImage._origin_h = userSize[1];\n      } else if (size) {\n        contextImage._origin_w = size.w;\n        contextImage._origin_h = size.h;\n      }\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    openModify: function (notOpen) {\n      const contextImage = this.context.image;\n\n      if (contextImage.imgUrlFile) {\n        contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n      }\n\n      contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n      contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n      contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n      if (contextImage._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    applySize: function (w, h) {\n      const contextImage = this.context.image;\n      if (!w) w = contextImage.inputX.value || this.context.option.imageWidth;\n      if (!h) h = contextImage.inputY.value || this.context.option.imageHeight;\n\n      if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.image.setAutoSize.call(this);\n      } else {\n        this.plugins.image.setSize.call(this, w, h, false);\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextImage = this.context.image;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n      this.plugins.image.cancelPercentAttr.call(this);\n      if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n      if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setAutoSize: function () {\n      const contextImage = this.context.image;\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      contextImage._element.style.maxWidth = '';\n      contextImage._element.style.width = '';\n      contextImage._element.style.height = '';\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', 'auto,auto'); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setOriginSize: function () {\n      const contextImage = this.context.image;\n\n      contextImage._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n      const w = originSize[0];\n      const h = originSize[1];\n\n      if (originSize) {\n        if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.image.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.image.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n      }\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setPercentSize: function (w, h) {\n      const contextImage = this.context.image;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || '';\n      const heightPercentage = /%$/.test(h);\n      contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextImage._container.style.height = '';\n      contextImage._cover.style.width = '100%';\n      contextImage._cover.style.height = !heightPercentage ? '' : h;\n      contextImage._element.style.width = '100%';\n      contextImage._element.style.height = heightPercentage ? '' : h;\n      contextImage._element.style.maxWidth = '';\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', w + ',' + h);\n\n      this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    cancelPercentAttr: function () {\n      const contextImage = this.context.image;\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      contextImage._container.style.width = '';\n      contextImage._container.style.height = '';\n      this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n      this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextImage = this.context.image;\n      if (!align) align = contextImage._align;\n      if (!element) element = contextImage._element;\n      if (!cover) cover = contextImage._cover;\n      if (!container) container = contextImage._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === 'auto' ? '' : element.style.width || '100%';\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextImage._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function () {\n      const contextImage = this.context.image;\n\n      contextImage._element.setAttribute('data-align', '');\n\n      contextImage._align = 'none';\n      contextImage._cover.style.margin = '0';\n      this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    /**\r\n     * @Override dialog\r\n     */\n    init: function () {\n      const contextImage = this.context.image;\n      if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n      if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\n\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n        contextImage.imgUrlFile.removeAttribute('disabled');\n        contextImage.previewSrc.style.textDecoration = '';\n      }\n\n      contextImage.altText.value = '';\n      contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = '';\n      contextImage.imgLinkNewWindowCheck.checked = false;\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n      contextImage.captionCheckEl.checked = false;\n      contextImage._element = null;\n      this.plugins.image.openTab.call(this, 'init');\n\n      if (contextImage._resizing) {\n        contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        contextImage.proportion.checked = true;\n        contextImage._ratio = false;\n        contextImage._ratioX = 1;\n        contextImage._ratioY = 1;\n      }\n    }\n  };\n  /***/\n},\n/* 26 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.link = {\n        focusElement: null,\n        linkNewWindowCheck: null,\n        linkAnchorText: null,\n        _linkAnchor: null,\n        _linkValue: ''\n      };\n      /** link dialog */\n\n      let link_dialog = this.setDialog.call(core);\n      context.link.modal = link_dialog;\n      context.link.focusElement = link_dialog.querySelector('._se_link_url');\n      context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\n      context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\n      context.link.preview = link_dialog.querySelector('.se-link-preview');\n      /** link controller */\n\n      let link_controller = this.setController_LinkButton.call(core);\n      context.link.linkController = link_controller;\n      context.link._linkAnchor = null;\n      link_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n      context.link.focusElement.addEventListener('input', this._onLinkPreview.bind(context.link.preview, context.link, context.options.linkProtocol));\n      /** append html */\n\n      context.dialog.modal.appendChild(link_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(link_controller);\n      /** empty memory */\n\n      link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form class=\"editor_link\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label>' + '<input class=\"se-input-form _se_link_url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' + '</div>' + '<div class=\"se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const link_btn = this.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.unlink + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n\n    /**\r\n     * @Override dialog\r\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      const submitAction = function () {\n        const contextLink = this.context.link;\n        if (contextLink._linkValue.length === 0) return false;\n        const url = contextLink._linkValue;\n        const anchor = contextLink.linkAnchorText;\n        const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n        if (!this.context.dialog.updateModal) {\n          const oA = this.util.createElement('A');\n          oA.href = url;\n          oA.textContent = anchorText;\n          oA.target = contextLink.linkNewWindowCheck.checked ? '_blank' : '';\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(oA);\n            if (!this.insertNode(oFormat, null, true)) return;\n          } else {\n            if (!this.insertNode(oA, null, true)) return;\n          }\n\n          this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n        } else {\n          contextLink._linkAnchor.href = url;\n          contextLink._linkAnchor.textContent = anchorText;\n          contextLink._linkAnchor.target = contextLink.linkNewWindowCheck.checked ? '_blank' : ''; // set range\n\n          const textNode = contextLink._linkAnchor.childNodes[0];\n          this.setRange(textNode, 0, textNode, textNode.textContent.length);\n        }\n\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink.linkAnchorText.value = '';\n      }.bind(this);\n\n      try {\n        submitAction();\n      } finally {\n        this.plugins.dialog.close.call(this);\n        this.closeLoading(); // history stack\n\n        this.history.push(false);\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override core\r\n     */\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n          this.controllersOff();\n        }\n      } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n          this.plugins.link.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override dialog\r\n     */\n    on: function (update) {\n      const contextLink = this.context.link;\n\n      if (!update) {\n        this.plugins.link.init.call(this);\n        contextLink.linkAnchorText.value = this.getSelection().toString();\n      } else if (contextLink._linkAnchor) {\n        this.context.dialog.updateModal = true;\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n        contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n        contextLink.linkNewWindowCheck.checked = /_blank/i.test(contextLink._linkAnchor.target) ? true : false;\n      }\n    },\n    call_controller: function (selectionATag) {\n      this.editLink = this.context.link._linkAnchor = selectionATag;\n      const linkBtn = this.context.link.linkController;\n      const link = linkBtn.querySelector('a');\n      link.href = selectionATag.href;\n      link.title = selectionATag.textContent;\n      link.textContent = selectionATag.textContent;\n      const offset = this.util.getOffset(selectionATag, this.context.element.wysiwygFrame);\n      linkBtn.style.top = offset.top + selectionATag.offsetHeight + 10 + 'px';\n      linkBtn.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      linkBtn.style.display = 'block';\n      const overLeft = this.context.element.wysiwygFrame.offsetWidth - (linkBtn.offsetLeft + linkBtn.offsetWidth);\n\n      if (overLeft < 0) {\n        linkBtn.style.left = linkBtn.offsetLeft + overLeft + 'px';\n        linkBtn.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        linkBtn.firstElementChild.style.left = '20px';\n      }\n\n      this.controllersOn(linkBtn, selectionATag, 'link');\n    },\n    onClick_linkController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        const contextLink = this.context.link;\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n        contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n        contextLink.linkNewWindowCheck.checked = /_blank/i.test(contextLink._linkAnchor.target) ? true : false;\n        this.plugins.dialog.open.call(this, 'link', true);\n      } else if (/unlink/.test(command)) {\n        const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n        const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        this.setRange(sc, 0, ec, ec.textContent.length);\n        this.nodeChange(null, null, ['A'], false);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.link._linkAnchor);\n        this.context.link._linkAnchor = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n\n    /**\r\n     * @Override dialog\r\n     */\n    init: function () {\n      const contextLink = this.context.link;\n      contextLink.linkController.style.display = 'none';\n      contextLink._linkAnchor = null;\n      contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = '';\n      contextLink.linkAnchorText.value = '';\n      contextLink.linkNewWindowCheck.checked = false;\n    }\n  };\n  /***/\n},\n/* 27 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n      const context = core.context;\n      const contextVideo = context.video = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        sizeUnit: context.option._videoSizeUnit,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _youtubeQuery: context.option.youtubeQuery,\n        _videoRatio: context.option.videoRatio * 100 + '%',\n        _defaultRatio: context.option.videoRatio * 100 + '%',\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: '100%',\n        _defaultSizeY: context.option.videoRatio * 100 + '%',\n        _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\n        _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\n        _proportionChecked: true,\n        _resizing: context.option.videoResizing,\n        _resizeDotHide: !context.option.videoHeightShow,\n        _rotation: context.option.videoRotation,\n        _onlyPercentage: context.option.videoSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: false\n      };\n      /** video dialog */\n\n      let video_dialog = this.setDialog.call(core);\n      contextVideo.modal = video_dialog;\n      contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\n      contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\n      contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n      contextVideo.preview = video_dialog.querySelector('.se-link-preview');\n      /** add event listeners */\n\n      video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\n      if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, context.options.linkProtocol));\n      contextVideo.proportion = {};\n      contextVideo.videoRatioOption = {};\n      contextVideo.inputX = {};\n      contextVideo.inputY = {};\n\n      if (context.option.videoResizing) {\n        contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n        contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n        contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n        contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n        contextVideo.inputX.value = context.option.videoWidth;\n        contextVideo.inputY.value = context.option.videoHeight;\n        contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n        video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(video_dialog);\n      /** empty memory */\n\n      video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.videoFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.videoUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      if (option.videoResizing) {\n        const ratioList = option.videoRatioList || [{\n          name: '16:9',\n          value: 0.5625\n        }, {\n          name: '4:3',\n          value: 0.75\n        }, {\n          name: '21:9',\n          value: 0.4285\n        }];\n        const ratio = option.videoRatio;\n        const onlyPercentage = option.videoSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n        const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        html += '' + '<div class=\"se-dialog-form\">' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' + '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' + '</div>' + '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' + '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n        if (!heightDisplay) html += '<option value=\"\"> - </option>';\n\n        for (let i = 0, len = ratioList.length; i < len; i++) {\n          html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n        }\n\n        html += '</select>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>' + '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.videoInputFile.value) {\n        this.videoUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.videoUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n\n      if (/^<iframe.*\\/iframe>$/.test(value)) {\n        context._linkValue = value;\n        this.textContent = '<IFrame :src=\"..\"></IFrame>';\n      } else {\n        context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n      }\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.context.options.videoTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createVideoTag: function () {\n      const videoTag = this.util.createElement('VIDEO');\n\n      this.plugins.video._setTagAttrs.call(this, videoTag);\n\n      return videoTag;\n    },\n    _setIframeAttrs: function (element) {\n      element.frameBorder = '0';\n      element.allowFullscreen = true;\n      const attrs = this.context.options.videoIframeAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createIframeTag: function () {\n      const iframeTag = this.util.createElement('IFRAME');\n\n      this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n      return iframeTag;\n    },\n\n    /**\r\n     * @Override @Required fileManager\r\n     */\n    fileTags: ['iframe', 'video'],\n\n    /**\r\n     * @Override core, resizing, fileManager\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\n    select: function (element) {\n      this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\n    },\n\n    /**\r\n     * @Override fileManager, resizing\r\n     */\n    destroy: function (element) {\n      const frame = element || this.context.video._element;\n      const container = this.context.video._container;\n      const dataIndex = frame.getAttribute('data-index') * 1;\n      let focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.video.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    on: function (update) {\n      const contextVideo = this.context.video;\n\n      if (!update) {\n        contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.disabled = true;\n        if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\n      }\n\n      if (contextVideo._resizing) {\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    setVideoRatio: function (e) {\n      const contextVideo = this.context.video;\n      const value = e.target.options[e.target.selectedIndex].value;\n      contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + '%';\n      contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n      contextVideo.inputY.value = '';\n    },\n\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      const contextVideo = this.context.video;\n\n      this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n      if (xy === 'y') {\n        this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n    submit: function (e) {\n      const contextVideo = this.context.video;\n      const videoPlugin = this.plugins.video;\n      e.preventDefault();\n      e.stopPropagation();\n      contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n      try {\n        if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n          this.showLoading();\n          videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n        } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n          this.showLoading();\n          videoPlugin.setup_url.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/video/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.videoUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const videosInfo = this.context.video._infoList;\n\n        for (let i = 0, len = videosInfo.length; i < len; i++) {\n          infoSize += videosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextVideo = this.context.video;\n      contextVideo._uploadFileLength = files.length;\n      const info = {\n        inputWidth: contextVideo.inputX.value,\n        inputHeight: contextVideo.inputY.value,\n        align: contextVideo._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextVideo._element\n      };\n\n      if (typeof this.functions.onVideoUploadBefore === 'function') {\n        const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.video.register.call(this, info, data);\n          } else {\n            this.plugins.video.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.video.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.video.error.call(this, files, null);\n        return;\n      }\n\n      const videoUploadUrl = this.context.option.videoUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, videoUploadUrl, this.context.option.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n      } else {\n        throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n      }\n    },\n    callBack_videoUpload: function (info, xmlHttp) {\n      if (typeof this.functions.videoUploadHandler === 'function') {\n        this.functions.videoUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.video.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.video.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n      const videoTag = this.plugins.video.createVideoTag.call(this);\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setup_url: function () {\n      try {\n        const contextVideo = this.context.video;\n        let url = contextVideo._linkValue;\n        if (url.length === 0) return false;\n        /** iframe source */\n\n        if (/^<iframe.*\\/iframe>$/.test(url)) {\n          const oIframe = new this._w.DOMParser().parseFromString(url, 'text/html').querySelector('iframe');\n          url = oIframe.src;\n          if (url.length === 0) return false;\n        }\n        /** youtube */\n\n\n        if (/youtu\\.?be/.test(url)) {\n          if (!/^http/.test(url)) url = 'https://' + url;\n          url = url.replace('watch?v=', '');\n\n          if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n            url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n          }\n\n          if (contextVideo._youtubeQuery.length > 0) {\n            if (/\\?/.test(url)) {\n              const splitUrl = url.split('?');\n              url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n            } else {\n              url += '?' + contextVideo._youtubeQuery;\n            }\n          }\n        } else if (/vimeo\\.com/.test(url)) {\n          if (url.endsWith('/')) {\n            url = url.slice(0, -1);\n          }\n\n          url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\n        }\n\n        this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\n      this.context.resizing._resize_plugin = 'video';\n      const contextVideo = this.context.video;\n      let cover = null;\n      let container = null;\n      let init = false;\n      /** update */\n\n      if (isUpdate) {\n        oFrame = contextVideo._element;\n\n        if (oFrame.src !== src) {\n          init = true;\n          const isYoutube = /youtu\\.?be/.test(src);\n          const isVimeo = /vimeo\\.com/.test(src);\n\n          if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createIframeTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createVideoTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else {\n            oFrame.src = src;\n          }\n        }\n\n        container = contextVideo._container;\n        cover = this.util.getParentElement(oFrame, 'FIGURE');\n      }\n      /** create */\n      else {\n          init = true;\n          oFrame.src = src;\n          contextVideo._element = oFrame;\n          cover = this.plugins.component.set_cover.call(this, oFrame);\n          container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n        }\n      /** rendering */\n\n\n      contextVideo._cover = cover;\n      contextVideo._container = container;\n\n      const inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n      const changeSize = !isUpdate || inputUpdate;\n\n      if (contextVideo._resizing) {\n        this.context.video._proportionChecked = contextVideo.proportion.checked;\n        oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\n      } // size\n\n\n      let isPercent = false;\n\n      if (changeSize) {\n        isPercent = this.plugins.video.applySize.call(this);\n      } // align\n\n\n      if (!(isPercent && align === 'center')) {\n        this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n      }\n\n      let changed = true;\n\n      if (!isUpdate) {\n        changed = this.insertComponent(container, false, true, false);\n      } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n        this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n      }\n\n      if (changed) {\n        if (init) {\n          this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\n        }\n\n        if (isUpdate) {\n          this.selectComponent(oFrame, 'video'); // history stack\n\n          this.history.push(false);\n        }\n      }\n\n      this.context.resizing._resize_plugin = '';\n    },\n    _update_videoCover: function (oFrame) {\n      if (!oFrame) return;\n      const contextVideo = this.context.video;\n      if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);else this.plugins.video._setIframeAttrs.call(this, oFrame);\n      const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util));\n      contextVideo._element = oFrame = oFrame.cloneNode(true);\n      const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n      const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n      const figcaption = existElement.querySelector('figcaption');\n      let caption = null;\n\n      if (!!figcaption) {\n        caption = this.util.createElement('DIV');\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      }\n\n      const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\n      this.plugins.video.applySize.call(this, size[0], size[1]);\n      existElement.parentNode.replaceChild(container, existElement);\n      if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    onModifyMode: function (element, size) {\n      const contextVideo = this.context.video;\n      contextVideo._element = element;\n      contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n      contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextVideo._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextVideo._element_w = size.w;\n        contextVideo._element_h = size.h;\n        contextVideo._element_t = size.t;\n        contextVideo._element_l = size.l;\n      }\n\n      let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n\n      if (origin) {\n        origin = origin.split(',');\n        contextVideo._origin_w = origin[0];\n        contextVideo._origin_h = origin[1];\n      } else if (size) {\n        contextVideo._origin_w = size.w;\n        contextVideo._origin_h = size.h;\n      }\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    openModify: function (notOpen) {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '';\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n        const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n        const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n        if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n    setVideoRatioSelect: function (value) {\n      let ratioSelected = false;\n      const contextVideo = this.context.video;\n      const ratioOptions = contextVideo.videoRatioOption.options;\n      if (/%$/.test(value) || contextVideo._onlyPercentage) value = this.util.getNumber(value, 2) / 100 + '';else if (!this.util.isNumber(value) || value * 1 >= 1) value = '';\n      contextVideo.inputY.placeholder = '';\n\n      for (let i = 0, len = ratioOptions.length; i < len; i++) {\n        if (ratioOptions[i].value === value) {\n          ratioSelected = ratioOptions[i].selected = true;\n          contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n        } else ratioOptions[i].selected = false;\n      }\n\n      return ratioSelected;\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    applySize: function (w, h) {\n      const contextVideo = this.context.video;\n      if (!w) w = contextVideo.inputX.value || this.context.option.videoWidth;\n      if (!h) h = contextVideo.inputY.value || this.context.option.videoHeight;\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n        this.plugins.video.setPercentSize.call(this, w || '100%', h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.video.setAutoSize.call(this);\n      } else {\n        this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n      }\n\n      return false;\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextVideo = this.context.video;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n      if (!onlyH) w = this.util.getNumber(w, 0);\n      if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n      if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n      if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n      if (!onlyH && !/%$/.test(w)) {\n        contextVideo._cover.style.width = '';\n        contextVideo._container.style.width = '';\n      }\n\n      if (!onlyW && !/%$/.test(h)) {\n        contextVideo._element.style.height = h;\n      } else {\n        contextVideo._element.style.height = '';\n      }\n\n      if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setAutoSize: function () {\n      this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setOriginSize: function (dataSize) {\n      const contextVideo = this.context.video;\n\n      contextVideo._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n      this.plugins.video.cancelPercentAttr.call(this);\n      const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n\n      if (originSize) {\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.video.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.video.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n      }\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setPercentSize: function (w, h) {\n      const contextVideo = this.context.video;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n      contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextVideo._container.style.height = '';\n      contextVideo._cover.style.width = '100%';\n      contextVideo._cover.style.height = h;\n      contextVideo._cover.style.paddingBottom = h;\n      contextVideo._element.style.width = '100%';\n      contextVideo._element.style.height = '100%';\n      contextVideo._element.style.maxWidth = '';\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n\n      contextVideo._element.setAttribute('data-percentage', w + ',' + h); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    cancelPercentAttr: function () {\n      const contextVideo = this.context.video;\n      contextVideo._cover.style.width = '';\n      contextVideo._cover.style.height = '';\n      contextVideo._cover.style.paddingBottom = '';\n      contextVideo._container.style.width = '';\n      contextVideo._container.style.height = '';\n      this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n      this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\r\n     * @Override resizing\r\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextVideo = this.context.video;\n      if (!align) align = contextVideo._align;\n      if (!element) element = contextVideo._element;\n      if (!cover) cover = contextVideo._cover;\n      if (!container) container = contextVideo._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n        cover.style.height = cover.style.height;\n        cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + '%';\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || '100%';\n        cover.style.paddingBottom = cover.style.height;\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextVideo._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function () {\n      const contextVideo = this.context.video;\n\n      contextVideo._element.setAttribute('data-align', '');\n\n      contextVideo._align = 'none';\n      contextVideo._cover.style.margin = '0';\n      this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    /**\r\n     * @Override dialog\r\n     */\n    init: function () {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\n\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n        contextVideo.videoUrlFile.removeAttribute('disabled');\n        contextVideo.preview.style.textDecoration = '';\n      }\n\n      contextVideo._origin_w = this.context.option.videoWidth;\n      contextVideo._origin_h = this.context.option.videoHeight;\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.checked = true;\n        contextVideo.proportion.disabled = true;\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n      }\n    }\n  };\n  /***/\n},\n/* 28 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'audio',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\n      const context = core.context;\n      const contextAudio = context.audio = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        focusElement: null,\n        // @Override // This element has focus when the dialog is opened.\n        targetSelect: null,\n        _origin_w: context.option.audioWidth,\n        _origin_h: context.option.audioHeight,\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null\n      };\n      /** dialog */\n\n      let audio_dialog = this.setDialog.call(core);\n      contextAudio.modal = audio_dialog;\n      contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\n      contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\n      contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n      contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\n      /** controller */\n\n      let audio_controller = this.setController.call(core);\n      contextAudio.controller = audio_controller;\n      audio_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      audio_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\n      audio_controller.addEventListener('click', this.onClick_controller.bind(core));\n      if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, context.options.linkProtocol));\n      /** append html */\n\n      context.dialog.modal.appendChild(audio_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(audio_controller);\n      /** empty memory */\n\n      audio_dialog = null, audio_controller = null;\n    },\n\n    /** HTML - dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.audioFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.audioUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /** HTML - controller */\n    setController: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const link_btn = this.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n    // Disable url input when uploading files\n    _fileInputChange: function () {\n      if (!this.audioInputFile.value) {\n        this.audioUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.audioUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    // Disable url input when uploading files\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    // create new audio tag\n    _createAudioTag: function () {\n      const oAudio = this.util.createElement('AUDIO');\n\n      this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n      const w = this.context.audio._origin_w;\n      const h = this.context.audio._origin_h;\n      oAudio.setAttribute('origin-size', w + ',' + h);\n      oAudio.style.cssText = (w ? 'width:' + w + '; ' : '') + (h ? 'height:' + h + ';' : '');\n      return oAudio;\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.context.options.audioTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\r\n     * @Required @Override fileManager\r\n     */\n    fileTags: ['audio'],\n\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\n    select: function (element) {\n      this.plugins.audio.onModifyMode.call(this, element);\n    },\n\n    /**\r\n     * @Override fileManager, resizing \r\n     */\n    destroy: function (element) {\n      element = element || this.context.audio._element;\n      const container = this.util.getParentElement(element, this.util.isComponent) || element;\n      const dataIndex = element.getAttribute('data-index') * 1;\n      const focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.audio.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // fileManager event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n    },\n\n    /**\r\n     * @Override fileManager\r\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    on: function (update) {\n      const contextAudio = this.context.audio;\n\n      if (!update) {\n        this.plugins.audio.init.call(this);\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\n      } else if (contextAudio._element) {\n        this.context.dialog.updateModal = true;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      } else {\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      }\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\n    },\n    submit: function (e) {\n      const contextAudio = this.context.audio;\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n          this.showLoading();\n          this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n        } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n          this.showLoading();\n          this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/audio/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.audioUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const audiosInfo = this.context.audio._infoList;\n\n        for (let i = 0, len = audiosInfo.length; i < len; i++) {\n          infoSize += audiosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextAudio = this.context.audio;\n      contextAudio._uploadFileLength = files.length;\n      const info = {\n        isUpdate: this.context.dialog.updateModal,\n        element: contextAudio._element\n      };\n\n      if (typeof this.functions.onAudioUploadBefore === 'function') {\n        const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.audio.register.call(this, info, data);\n          } else {\n            this.plugins.audio.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.audio.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.audio.error.call(this, files, null);\n        return;\n      }\n\n      const audioUploadUrl = this.context.option.audioUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n      const formData = new FormData();\n\n      for (let i = 0; i < filesLen; i++) {\n        formData.append('file-' + i, files[i]);\n      } // server upload\n\n\n      this.plugins.fileManager.upload.call(this, audioUploadUrl, this.context.option.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n    },\n    callBack_upload: function (info, xmlHttp) {\n      if (typeof this.functions.audioUploadHandler === 'function') {\n        this.functions.audioUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.audio.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.audio.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n        if (info.isUpdate) oAudio = info.element;else oAudio = this.plugins.audio._createAudioTag.call(this);\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setupUrl: function (src) {\n      try {\n        if (src.length === 0) return false;\n        this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_audio: function (element, src, file, isUpdate) {\n      const contextAudio = this.context.audio; // create new tag\n\n      if (!isUpdate) {\n        element.src = src;\n        const cover = this.plugins.component.set_cover.call(this, element);\n        const container = this.plugins.component.set_container.call(this, cover, '');\n\n        if (!this.insertComponent(container, false, true, false)) {\n          this.focus();\n          return;\n        }\n      } // update\n      else {\n          if (contextAudio._element) element = contextAudio._element;\n\n          if (element && element.src !== src) {\n            element.src = src;\n          } else {\n            this.selectComponent(element, 'audio');\n            return;\n          }\n        }\n\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\n      this.selectComponent(element, 'audio');\n      if (isUpdate) this.history.push(false);\n    },\n    updateCover: function (element) {\n      const contextAudio = this.context.audio;\n\n      this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n      const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util)); // clone element\n\n      contextAudio._element = element = element.cloneNode(false);\n      const cover = this.plugins.component.set_cover.call(this, element);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\n      existElement.parentNode.replaceChild(container, existElement);\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    onModifyMode: function (selectionTag) {\n      const contextAudio = this.context.audio;\n      const controller = contextAudio.controller;\n      const offset = this.util.getOffset(selectionTag, this.context.element.wysiwygFrame);\n      controller.style.top = offset.top + selectionTag.offsetHeight + 10 + 'px';\n      controller.style.left = offset.left - this.context.element.wysiwygFrame.scrollLeft + 'px';\n      controller.style.display = 'block';\n      const overLeft = this.context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controller.offsetWidth);\n\n      if (overLeft < 0) {\n        controller.style.left = controller.offsetLeft + overLeft + 'px';\n        controller.firstElementChild.style.left = 20 - overLeft + 'px';\n      } else {\n        controller.firstElementChild.style.left = '20px';\n      }\n\n      this.controllersOn(controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\n      this.util.addClass(selectionTag, 'active');\n      contextAudio._element = selectionTag;\n      contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\n      contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n    },\n\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\n    openModify: function (notOpen) {\n      if (this.context.audio.audioUrlFile) {\n        const contextAudio = this.context.audio;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\n    },\n    onClick_controller: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.plugins.audio.openModify.call(this, false);\n      } else {\n        /** delete */\n        this.plugins.audio.destroy.call(this, this.context.audio._element);\n      }\n\n      this.controllersOff();\n    },\n    onControllerOff: function (selectionTag) {\n      this.util.removeClass(selectionTag, 'active');\n      this.context.audio.controller.style.display = 'none';\n    },\n\n    /**\r\n     * @Required @Override dialog\r\n     */\n    init: function () {\n      if (this.context.dialog.updateModal) return;\n      const contextAudio = this.context.audio;\n      if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\n      if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\n\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n        contextAudio.audioUrlFile.removeAttribute('disabled');\n        contextAudio.preview.style.textDecoration = '';\n      }\n\n      contextAudio._element = null;\n    }\n  };\n  /***/\n},\n/* 29 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * \r\n   * Danish translation by davidkonrad at github or gmail\r\n   *\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'da',\n      toolbar: {\n        default: 'Default',\n        save: 'Gem',\n        font: 'Skrifttype',\n        formats: 'Format',\n        fontSize: 'Skriftstørrelse',\n        bold: 'Fed',\n        underline: 'Understreget',\n        italic: 'Skråskrift',\n        strike: 'Overstreget',\n        subscript: 'Sænket skrift',\n        superscript: 'Hævet skrift',\n        removeFormat: 'Fjern formatering',\n        fontColor: 'Skriftfarve',\n        hiliteColor: 'Baggrundsfarve',\n        indent: 'Ryk ind',\n        outdent: 'Ryk ud',\n        align: 'Justering',\n        alignLeft: 'Venstrejustering',\n        alignRight: 'Højrejustering',\n        alignCenter: 'Midterjustering',\n        alignJustify: 'Tilpas margin',\n        list: 'Lister',\n        orderList: 'Nummereret liste',\n        unorderList: 'Uordnet liste',\n        horizontalRule: 'Horisontal linie',\n        hr_solid: 'Almindelig',\n        hr_dotted: 'Punkteret',\n        hr_dashed: 'Streget',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Math',\n        image: 'Billede',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Fuld skærm',\n        showBlocks: 'Vis blokke',\n        codeView: 'Vis koder',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'Print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Overskrift',\n        tag_blockquote: 'Citer',\n        tag_pre: 'Code',\n        template: 'Schablone',\n        lineHeight: 'Linjehøjde',\n        paragraphStyle: 'Afsnitstil',\n        textStyle: 'Tekststil',\n        imageGallery: 'Billedgalleri'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Indsæt link',\n          url: 'URL til link',\n          text: 'Tekst for link',\n          newWindowCheck: 'Åben i nyt faneblad'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Matematisk notation',\n          fontSizeLabel: 'Skriftstørrelse',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Indsæt billede',\n          file: 'Indsæt fra fil',\n          url: 'Indsæt fra URL',\n          altText: 'Alternativ tekst'\n        },\n        videoBox: {\n          title: 'Indsæt Video',\n          file: 'Indsæt fra fil',\n          url: 'Indlejr video / YouTube,Vimeo'\n        },\n        audioBox: {\n          title: 'Indsæt Audio',\n          file: 'Indsæt fra fil',\n          url: 'Indsæt fra URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Søg'\n        },\n        caption: 'Indsæt beskrivelse',\n        close: 'Luk',\n        submitButton: 'Gennemfør',\n        revertButton: 'Gendan',\n        proportion: 'Bevar proportioner',\n        basic: 'Basis',\n        left: 'Venstre',\n        right: 'Højre',\n        center: 'Center',\n        width: 'Bredde',\n        height: 'Højde',\n        size: 'Størrelse',\n        ratio: 'Forhold'\n      },\n      controller: {\n        edit: 'Rediger',\n        unlink: 'Fjern link',\n        remove: 'Fjern',\n        insertRowAbove: 'Indsæt række foroven',\n        insertRowBelow: 'Indsæt række nedenfor',\n        deleteRow: 'Slet række',\n        insertColumnBefore: 'Indsæt kolonne før',\n        insertColumnAfter: 'Indsæt kolonne efter',\n        deleteColumn: 'Slet kolonne',\n        fixedColumnWidth: 'Fast søjlebredde',\n        resize100: 'Forstør 100%',\n        resize75: 'Forstør 75%',\n        resize50: 'Forstør 50%',\n        resize25: 'Forstør 25%',\n        autoSize: 'Auto størrelse',\n        mirrorHorizontal: 'Spejling, horisontal',\n        mirrorVertical: 'Spejling, vertikal',\n        rotateLeft: 'Roter til venstre',\n        rotateRight: 'Toter til højre',\n        maxSize: 'Max størrelse',\n        minSize: 'Min størrelse',\n        tableHeader: 'Tabel overskrift',\n        mergeCells: 'Sammenlæg celler (merge)',\n        splitCells: 'Opdel celler',\n        HorizontalSplit: 'Opdel horisontalt',\n        VerticalSplit: 'Opdel vertikalt'\n      },\n      menu: {\n        spaced: 'Brev Afstand',\n        bordered: 'Afgrænsningslinje',\n        neon: 'Neon',\n        translucent: 'Gennemsigtig',\n        shadow: 'Skygge',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 30 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2019 @Gundolf68\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'de',\n      toolbar: {\n        default: 'Standard',\n        save: 'Speichern',\n        font: 'Schriftart',\n        formats: 'Format',\n        fontSize: 'Schriftgröße',\n        bold: 'Fett',\n        underline: 'Unterstrichen',\n        italic: 'Kursiv',\n        strike: 'Durchgestrichen',\n        subscript: 'Tiefgestellt',\n        superscript: 'Hochgestellt',\n        removeFormat: 'Format entfernen',\n        fontColor: 'Schriftfarbe',\n        hiliteColor: 'Farbe für Hervorhebungen',\n        indent: 'Einzug vergrößern',\n        outdent: 'Einzug verkleinern',\n        align: 'Ausrichtung',\n        alignLeft: 'Links ausrichten',\n        alignRight: 'Rechts ausrichten',\n        alignCenter: 'Zentriert ausrichten',\n        alignJustify: 'Blocksatz',\n        list: 'Liste',\n        orderList: 'Nummerierte Liste',\n        unorderList: 'Aufzählung',\n        horizontalRule: 'Horizontale Linie',\n        hr_solid: 'Strich',\n        hr_dotted: 'Gepunktet',\n        hr_dashed: 'Gestrichelt',\n        table: 'Tabelle',\n        link: 'Link',\n        math: 'Mathematik',\n        image: 'Bild',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Vollbild',\n        showBlocks: 'Blockformatierungen anzeigen',\n        codeView: 'Quelltext anzeigen',\n        undo: 'Rückgängig',\n        redo: 'Wiederholen',\n        preview: 'Vorschau',\n        print: 'Drucken',\n        tag_p: 'Absatz',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Zitat',\n        tag_pre: 'Quellcode',\n        template: 'Vorlage',\n        lineHeight: 'Zeilenhöhe',\n        paragraphStyle: 'Absatzstil',\n        textStyle: 'Textstil',\n        imageGallery: 'Bildergalerie'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Link einfügen',\n          url: 'Link-URL',\n          text: 'Link-Text',\n          newWindowCheck: 'In neuem Fenster anzeigen'\n        },\n        mathBox: {\n          title: 'Mathematik',\n          inputLabel: 'Mathematische Notation',\n          fontSizeLabel: 'Schriftgröße',\n          previewLabel: 'Vorschau'\n        },\n        imageBox: {\n          title: 'Bild einfügen',\n          file: 'Datei auswählen',\n          url: 'Bild-URL',\n          altText: 'Alternativer Text'\n        },\n        videoBox: {\n          title: 'Video enfügen',\n          file: 'Datei auswählen',\n          url: 'Video-URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Audio enfügen',\n          file: 'Datei auswählen',\n          url: 'Audio-URL'\n        },\n        browser: {\n          tags: 'Stichworte',\n          search: 'Suche'\n        },\n        caption: 'Beschreibung eingeben',\n        close: 'Schließen',\n        submitButton: 'Übernehmen',\n        revertButton: 'Rückgängig',\n        proportion: 'Seitenverhältnis beibehalten',\n        basic: 'Standard',\n        left: 'Links',\n        right: 'Rechts',\n        center: 'Zentriert',\n        width: 'Breite',\n        height: 'Höhe',\n        size: 'Größe',\n        ratio: 'Verhältnis'\n      },\n      controller: {\n        edit: 'Bearbeiten',\n        unlink: 'Link entfernen',\n        remove: 'Löschen',\n        insertRowAbove: 'Zeile oberhalb einfügen',\n        insertRowBelow: 'Zeile unterhalb einfügen',\n        deleteRow: 'Zeile löschen',\n        insertColumnBefore: 'Spalte links einfügen',\n        insertColumnAfter: 'Spalte rechts einfügen',\n        deleteColumn: 'Spalte löschen',\n        fixedColumnWidth: 'Feste Spaltenbreite',\n        resize100: 'Zoom 100%',\n        resize75: 'Zoom 75%',\n        resize50: 'Zoom 50%',\n        resize25: 'Zoom 25%',\n        autoSize: 'Automatische Größenanpassung',\n        mirrorHorizontal: 'Horizontal spiegeln',\n        mirrorVertical: 'Vertikal spiegeln',\n        rotateLeft: 'Nach links drehen',\n        rotateRight: 'Nach rechts drehen',\n        maxSize: 'Maximale Größe',\n        minSize: 'Mindestgröße',\n        tableHeader: 'Tabellenüberschrift',\n        mergeCells: 'Zellen verbinden',\n        splitCells: 'Zellen teilen',\n        HorizontalSplit: 'Horizontal teilen',\n        VerticalSplit: 'Vertikal teilen'\n      },\n      menu: {\n        spaced: 'Buchstabenabstand',\n        bordered: 'Umrandet',\n        neon: 'Neon',\n        translucent: 'Durchscheinend',\n        shadow: 'Schatten',\n        code: 'Quellcode'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 31 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'es',\n      toolbar: {\n        default: 'Valor por defecto',\n        save: 'Guardar',\n        font: 'Fuente',\n        formats: 'Formato',\n        fontSize: 'Tamaño de fuente',\n        bold: 'Negrita',\n        underline: 'Subrayado',\n        italic: 'Cursiva',\n        strike: 'Tachado',\n        subscript: 'Subíndice',\n        superscript: 'Superíndice',\n        removeFormat: 'Eliminar formato',\n        fontColor: 'Color de fuente',\n        hiliteColor: 'Color de resaltado',\n        indent: 'Más tabulación',\n        outdent: 'Menos tabulación',\n        align: 'Alinear',\n        alignLeft: 'Alinear a la izquierda',\n        alignRight: 'Alinear a la derecha',\n        alignCenter: 'Alinear al centro',\n        alignJustify: 'Justificar',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Línea horizontal solida',\n        hr_dotted: 'Línea horizontal punteada',\n        hr_dashed: 'Línea horizontal discontinua',\n        table: 'Tabla',\n        link: 'Link',\n        math: 'Matemáticas',\n        image: 'Imagen',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pantalla completa',\n        showBlocks: 'Ver bloques',\n        codeView: 'Ver código fuente',\n        undo: 'UndoDeshacer última acción',\n        redo: 'Rehacer última acción',\n        preview: 'Vista previa',\n        print: 'Imprimir',\n        tag_p: 'Párrafo',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Cita',\n        tag_pre: 'Código',\n        template: 'Plantilla',\n        lineHeight: 'Altura de la línea',\n        paragraphStyle: 'Estilo del parrafo',\n        textStyle: 'Estilo del texto',\n        imageGallery: 'Galería de imágenes'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insertar Link',\n          url: '¿Hacia que URL lleva el link?',\n          text: 'Texto para mostrar',\n          newWindowCheck: 'Abrir en una nueva ventana'\n        },\n        mathBox: {\n          title: 'Matemáticas',\n          inputLabel: 'Notación Matemática',\n          fontSizeLabel: 'Tamaño de fuente',\n          previewLabel: 'Vista previa'\n        },\n        imageBox: {\n          title: 'Insertar imagen',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la imagen',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Insertar Video',\n          file: 'Seleccionar desde los archivos',\n          url: '¿URL del vídeo? Youtube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar Audio',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la audio'\n        },\n        browser: {\n          tags: 'Etiquetas',\n          search: 'Buscar'\n        },\n        caption: 'Insertar descripción',\n        close: 'Cerrar',\n        submitButton: 'Enviar',\n        revertButton: 'revertir',\n        proportion: 'Restringir las proporciones',\n        basic: 'Basico',\n        left: 'Izquierda',\n        right: 'derecha',\n        center: 'Centro',\n        width: 'Ancho',\n        height: 'Alto',\n        size: 'Tamaño',\n        ratio: 'Proporción'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Desvincular',\n        remove: 'RemoveQuitar',\n        insertRowAbove: 'Insertar fila arriba',\n        insertRowBelow: 'Insertar fila debajo',\n        deleteRow: 'Eliminar fila',\n        insertColumnBefore: 'Insertar columna antes',\n        insertColumnAfter: 'Insertar columna después',\n        deleteColumn: 'Eliminar columna',\n        fixedColumnWidth: 'Ancho de columna fijo',\n        resize100: 'Redimensionar 100%',\n        resize75: 'Redimensionar 75%',\n        resize50: 'Redimensionar 50%',\n        resize25: 'Redimensionar 25%',\n        autoSize: 'Tamaño automático',\n        mirrorHorizontal: 'Espejo, Horizontal',\n        mirrorVertical: 'Espejo, Vertical',\n        rotateLeft: 'Girar a la izquierda',\n        rotateRight: 'Girar a la derecha',\n        maxSize: 'Tamaño máximo',\n        minSize: 'Tamaño minímo',\n        tableHeader: 'Encabezado de tabla',\n        mergeCells: 'Combinar celdas',\n        splitCells: 'Dividir celdas',\n        HorizontalSplit: 'División horizontal',\n        VerticalSplit: 'División vertical'\n      },\n      menu: {\n        spaced: 'Espaciado',\n        bordered: 'Bordeado',\n        neon: 'Neón',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado',\n        code: 'Código'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 32 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2019 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'fr',\n      toolbar: {\n        default: 'Défaut',\n        save: 'Sauvegarder',\n        font: 'Police',\n        formats: 'Formats',\n        fontSize: 'Taille',\n        bold: 'Gras',\n        underline: 'Souligné',\n        italic: 'Italique',\n        strike: 'Barré',\n        subscript: 'Indice',\n        superscript: 'Exposant',\n        removeFormat: 'Éffacer  le Formatage',\n        fontColor: 'Couleur du texte',\n        hiliteColor: 'Couleur en arrière plan',\n        indent: 'Indenter',\n        outdent: 'Désindenter',\n        align: 'Alignenement',\n        alignLeft: 'À gauche',\n        alignRight: 'À droite',\n        alignCenter: 'Centré',\n        alignJustify: 'Justifié',\n        list: 'Liste',\n        orderList: 'Ordonnée',\n        unorderList: 'Non-ordonnée',\n        horizontalRule: 'Ligne horizontale',\n        hr_solid: 'Solide',\n        hr_dotted: 'Points',\n        hr_dashed: 'Tirets',\n        table: 'Table',\n        link: 'Lien',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'l\\'audio',\n        fullScreen: 'Plein écran',\n        showBlocks: 'Voir les blocs',\n        codeView: 'Voir le code',\n        undo: 'Annuler',\n        redo: 'Rétablir',\n        preview: 'Previsualiser',\n        print: 'Imprimer',\n        tag_p: 'Paragraphe',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Titre',\n        tag_blockquote: 'Citation',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Hauteur de la ligne',\n        paragraphStyle: 'Style de paragraphe',\n        textStyle: 'Style de texte',\n        imageGallery: 'Galerie d\\'images'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insérer un lien',\n          url: 'Adresse URL du lien',\n          text: 'Texte à afficher',\n          newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Notation mathématique',\n          fontSizeLabel: 'Taille',\n          previewLabel: 'Previsualiser'\n        },\n        imageBox: {\n          title: 'Insérer une image',\n          file: 'Sélectionner le fichier',\n          url: 'Adresse URL du fichier',\n          altText: 'Texte Alternatif'\n        },\n        videoBox: {\n          title: 'Insérer une Vidéo',\n          file: 'Sélectionner le fichier',\n          url: 'URL d’intégration du média, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar une l\\'audio',\n          file: 'Sélectionner le fichier',\n          url: 'Adresse URL du fichier'\n        },\n        browser: {\n          tags: 'Mots clés',\n          search: 'Chercher'\n        },\n        caption: 'Insérer une description',\n        close: 'Fermer',\n        submitButton: 'Appliquer',\n        revertButton: 'Revenir en arrière',\n        proportion: 'Maintenir le rapport hauteur/largeur',\n        basic: 'Basique',\n        left: 'Gauche',\n        right: 'Droite',\n        center: 'Centré',\n        width: 'Largeur',\n        height: 'Hauteur',\n        size: 'La taille',\n        ratio: 'Rapport'\n      },\n      controller: {\n        edit: 'Modifier',\n        unlink: 'Supprimer un lien',\n        remove: 'Effacer',\n        insertRowAbove: 'Insérer une ligne en dessous',\n        insertRowBelow: 'Insérer une ligne au dessus',\n        deleteRow: 'Effacer la ligne',\n        insertColumnBefore: 'Insérer une colonne avant',\n        insertColumnAfter: 'Insérer une colonne après',\n        deleteColumn: 'Effacer la colonne',\n        fixedColumnWidth: 'Largeur de colonne fixe',\n        resize100: 'Redimensionner à 100%',\n        resize75: 'Redimensionner à 75%',\n        resize50: 'Redimensionner à 50%',\n        resize25: 'Redimensionner à 25%',\n        autoSize: 'Taille automatique',\n        mirrorHorizontal: 'Mirroir, Horizontal',\n        mirrorVertical: 'Mirroir, Vertical',\n        rotateLeft: 'Rotation à gauche',\n        rotateRight: 'Rotation à droite',\n        maxSize: 'Taille max',\n        minSize: 'Taille min',\n        tableHeader: 'En-tête de table',\n        mergeCells: 'Fusionner les cellules',\n        splitCells: 'Diviser les Cellules',\n        HorizontalSplit: 'Scission horizontale',\n        VerticalSplit: 'Scission verticale'\n      },\n      menu: {\n        spaced: 'Espacement',\n        bordered: 'Ligne de démarcation',\n        neon: 'Néon',\n        translucent: 'Translucide',\n        shadow: 'L\\'ombre',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 33 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2019 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ja',\n      toolbar: {\n        default: 'デフォルト',\n        save: '保存',\n        font: 'フォント',\n        formats: '段落形式',\n        fontSize: 'サイズ',\n        bold: '太字',\n        underline: '下線',\n        italic: 'イタリック',\n        strike: '取り消し線',\n        subscript: '下付き',\n        superscript: '上付き',\n        removeFormat: '形式を削除',\n        fontColor: '文字色',\n        hiliteColor: '文字の背景色',\n        indent: 'インデント',\n        outdent: 'インデント',\n        align: 'ソート',\n        alignLeft: '左揃え',\n        alignRight: '右揃え',\n        alignCenter: '中央揃え',\n        alignJustify: '両端揃え',\n        list: 'リスト',\n        orderList: '数値ブリット',\n        unorderList: '円形ブリット',\n        horizontalRule: '水平線を挿入',\n        hr_solid: '実線',\n        hr_dotted: '点線',\n        hr_dashed: 'ダッシュ',\n        table: 'テーブル',\n        link: 'リンク',\n        math: '数学',\n        image: '画像',\n        video: '動画',\n        audio: 'オーディオ',\n        fullScreen: 'フルスクリーン',\n        showBlocks: 'ブロック表示',\n        codeView: 'HTMLの編集',\n        undo: '元に戻す',\n        redo: '再実行',\n        preview: 'プレビュー',\n        print: '印刷',\n        tag_p: '本文',\n        tag_div: '基本（DIV）',\n        tag_h: 'タイトル',\n        tag_blockquote: '引用',\n        tag_pre: 'コード',\n        template: 'テンプレート',\n        lineHeight: '行の高さ',\n        paragraphStyle: '段落スタイル',\n        textStyle: 'テキストスタイル',\n        imageGallery: 'イメージギャラリー'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'リンクの挿入',\n          url: 'インターネットアドレス',\n          text: '画面のテキスト',\n          newWindowCheck: '別ウィンドウで開く'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学表記',\n          fontSizeLabel: 'サイズ',\n          previewLabel: 'プレビュー'\n        },\n        imageBox: {\n          title: '画像の挿入',\n          file: 'ファイルの選択',\n          url: 'イメージアドレス',\n          altText: '置換文字列'\n        },\n        videoBox: {\n          title: '動画を挿入',\n          file: 'ファイルの選択',\n          url: 'メディア埋め込みアドレス, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'オーディオを挿入',\n          file: 'ファイルの選択',\n          url: 'オーディオアドレス'\n        },\n        browser: {\n          tags: 'タグ',\n          search: '探す'\n        },\n        caption: '説明付け',\n        close: '閉じる',\n        submitButton: '確認',\n        revertButton: '元に戻す',\n        proportion: 'の割合カスタマイズ',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '中央',\n        width: '横',\n        height: '縦',\n        size: 'サイズ',\n        ratio: '比率'\n      },\n      controller: {\n        edit: '編集',\n        unlink: 'リンク解除',\n        remove: '削除',\n        insertRowAbove: '上に行を挿入',\n        insertRowBelow: '下に行を挿入',\n        deleteRow: '行の削除',\n        insertColumnBefore: '左に列を挿入',\n        insertColumnAfter: '右に列を挿入',\n        deleteColumn: '列を削除する',\n        fixedColumnWidth: '固定列幅',\n        resize100: '100％ サイズ',\n        resize75: '75％ サイズ',\n        resize50: '50％ サイズ',\n        resize25: '25％ サイズ',\n        autoSize: '自動サイズ',\n        mirrorHorizontal: '左右反転',\n        mirrorVertical: '上下反転',\n        rotateLeft: '左に回転',\n        rotateRight: '右に回転',\n        maxSize: '最大サイズ',\n        minSize: '最小サイズ',\n        tableHeader: '表のヘッダー',\n        mergeCells: 'セルの結合',\n        splitCells: 'セルを分割',\n        HorizontalSplit: '横分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '文字間隔',\n        bordered: '境界線',\n        neon: 'ネオン',\n        translucent: '半透明',\n        shadow: '影',\n        code: 'コード'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 34 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ko',\n      toolbar: {\n        default: '기본값',\n        save: '저장',\n        font: '글꼴',\n        formats: '문단 형식',\n        fontSize: '크기',\n        bold: '굵게',\n        underline: '밑줄',\n        italic: '기울임',\n        strike: '취소선',\n        subscript: '아래 첨자',\n        superscript: '위 첨자',\n        removeFormat: '형식 제거',\n        fontColor: '글자색',\n        hiliteColor: '배경색',\n        indent: '들여쓰기',\n        outdent: '내어쓰기',\n        align: '정렬',\n        alignLeft: '왼쪽 정렬',\n        alignRight: '오른쪽 정렬',\n        alignCenter: '가운데 정렬',\n        alignJustify: '양쪽 정렬',\n        list: '리스트',\n        orderList: '숫자형 리스트',\n        unorderList: '원형 리스트',\n        horizontalRule: '가로 줄 삽입',\n        hr_solid: '실선',\n        hr_dotted: '점선',\n        hr_dashed: '대시',\n        table: '테이블',\n        link: '링크',\n        math: '수식',\n        image: '이미지',\n        video: '동영상',\n        audio: '오디오',\n        fullScreen: '전체 화면',\n        showBlocks: '블록 보기',\n        codeView: 'HTML 편집',\n        undo: '실행 취소',\n        redo: '다시 실행',\n        preview: '미리보기',\n        print: '인쇄',\n        tag_p: '본문',\n        tag_div: '기본 (DIV)',\n        tag_h: '제목',\n        tag_blockquote: '인용문',\n        tag_pre: '코드',\n        template: '템플릿',\n        lineHeight: '줄 높이',\n        paragraphStyle: '문단 스타일',\n        textStyle: '글자 스타일',\n        imageGallery: '이미지 갤러리'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '링크 삽입',\n          url: '인터넷 주소',\n          text: '화면 텍스트',\n          newWindowCheck: '새창으로 열기'\n        },\n        mathBox: {\n          title: '수식',\n          inputLabel: '수학적 표기법',\n          fontSizeLabel: '글자 크기',\n          previewLabel: '미리보기'\n        },\n        imageBox: {\n          title: '이미지 삽입',\n          file: '파일 선택',\n          url: '이미지 주소',\n          altText: '대체 문자열'\n        },\n        videoBox: {\n          title: '동영상 삽입',\n          file: '파일 선택',\n          url: '미디어 임베드 주소, 유튜브/비메오'\n        },\n        audioBox: {\n          title: '오디오 삽입',\n          file: '파일 선택',\n          url: '오디오 파일 주소'\n        },\n        browser: {\n          tags: '태그',\n          search: '검색'\n        },\n        caption: '설명 넣기',\n        close: '닫기',\n        submitButton: '확인',\n        revertButton: '되돌리기',\n        proportion: '비율 맞춤',\n        basic: '기본',\n        left: '왼쪽',\n        right: '오른쪽',\n        center: '가운데',\n        width: '가로',\n        height: '세로',\n        size: '크기',\n        ratio: '비율'\n      },\n      controller: {\n        edit: '편집',\n        unlink: '링크 해제',\n        remove: '삭제',\n        insertRowAbove: '위에 행 삽입',\n        insertRowBelow: '아래에 행 삽입',\n        deleteRow: '행 삭제',\n        insertColumnBefore: '왼쪽에 열 삽입',\n        insertColumnAfter: '오른쪽에 열 삽입',\n        deleteColumn: '열 삭제',\n        fixedColumnWidth: '고정 된 열 너비',\n        resize100: '100% 크기',\n        resize75: '75% 크기',\n        resize50: '50% 크기',\n        resize25: '25% 크기',\n        autoSize: '자동 크기',\n        mirrorHorizontal: '좌우 반전',\n        mirrorVertical: '상하 반전',\n        rotateLeft: '왼쪽으로 회전',\n        rotateRight: '오른쪽으로 회전',\n        maxSize: '최대화',\n        minSize: '최소화',\n        tableHeader: '테이블 제목',\n        mergeCells: '셀 병합',\n        splitCells: '셀 분할',\n        HorizontalSplit: '가로 분할',\n        VerticalSplit: '세로 분할'\n      },\n      menu: {\n        spaced: '글자 간격',\n        bordered: '경계선',\n        neon: '네온',\n        translucent: '반투명',\n        shadow: '그림자',\n        code: '코드'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 35 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * Brazilian Portuguese translation by lpeil github\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pt_br',\n      toolbar: {\n        default: 'Padrão',\n        save: 'Salvar',\n        font: 'Fonte',\n        formats: 'Formatos',\n        fontSize: 'Tamanho',\n        bold: 'Negrito',\n        underline: 'Sublinhado',\n        italic: 'Itálico',\n        strike: 'Riscado',\n        subscript: 'Subescrito',\n        superscript: 'Sobrescrito',\n        removeFormat: 'Remover Formatação',\n        fontColor: 'Cor da Fonte',\n        hiliteColor: 'Cor de destaque',\n        indent: 'Recuo',\n        outdent: 'Avançar',\n        align: 'Alinhar',\n        alignLeft: 'Alinhar à esquerda',\n        alignRight: 'Alinhar à direita',\n        alignCenter: 'Alinhar ao centro',\n        alignJustify: 'Alinhat justificado',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Linha horizontal',\n        hr_solid: 'solida',\n        hr_dotted: 'pontilhada',\n        hr_dashed: 'tracejada',\n        table: 'Tabela',\n        link: 'Link',\n        math: 'Matemática',\n        image: 'Imagem',\n        video: 'Vídeo',\n        audio: 'Áudio',\n        fullScreen: 'Tela cheia',\n        showBlocks: 'Mostrar blocos',\n        codeView: 'Mostrar códigos',\n        undo: 'Voltar',\n        redo: 'Refazer',\n        preview: 'Prever',\n        print: 'imprimir',\n        tag_p: 'Paragráfo',\n        tag_div: '(DIV) Normal',\n        tag_h: 'Cabeçalho',\n        tag_blockquote: 'Citar',\n        tag_pre: 'Código',\n        template: 'Modelo',\n        lineHeight: 'Altura da linha',\n        paragraphStyle: 'Estilo do parágrafo',\n        textStyle: 'Estilo do texto',\n        imageGallery: 'Galeria de imagens'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserir link',\n          url: 'URL para link',\n          text: 'Texto à mostrar',\n          newWindowCheck: 'Abrir em nova guia'\n        },\n        mathBox: {\n          title: 'Matemática',\n          inputLabel: 'Notação matemática',\n          fontSizeLabel: 'Tamanho',\n          previewLabel: 'Prever'\n        },\n        imageBox: {\n          title: 'Inserir imagens',\n          file: 'Selecionar arquivos',\n          url: 'URL da imagem',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Inserir vídeo',\n          file: 'Selecionar arquivos',\n          url: 'URL do YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Inserir audio',\n          file: 'Selecionar arquivos',\n          url: 'URL da audio'\n        },\n        browser: {\n          tags: 'Tag',\n          search: 'Procurar'\n        },\n        caption: 'Inserir descrição',\n        close: 'Fechar',\n        submitButton: 'Enviar',\n        revertButton: 'Reverter',\n        proportion: 'restringir proporções',\n        basic: 'Básico',\n        left: 'Esquerda',\n        right: 'Direita',\n        center: 'Centro',\n        width: 'Largura',\n        height: 'Altura',\n        size: 'Tamanho',\n        ratio: 'Proporções'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Retirar link',\n        remove: 'Remover',\n        insertRowAbove: 'Inserir linha acima',\n        insertRowBelow: 'Inserir linha abaixo',\n        deleteRow: 'Deletar linha',\n        insertColumnBefore: 'Inserir coluna antes',\n        insertColumnAfter: 'Inserir coluna depois',\n        deleteColumn: 'Deletar coluna',\n        fixedColumnWidth: 'Largura fixa da coluna',\n        resize100: 'Redimensionar para 100%',\n        resize75: 'Redimensionar para 75%',\n        resize50: 'Redimensionar para 50%',\n        resize25: 'Redimensionar para 25%',\n        autoSize: 'Tamanho automático',\n        mirrorHorizontal: 'Espelho, Horizontal',\n        mirrorVertical: 'Espelho, Vertical',\n        rotateLeft: 'Girar para esquerda',\n        rotateRight: 'Girar para direita',\n        maxSize: 'Tam max',\n        minSize: 'Tam min',\n        tableHeader: 'Cabeçalho da tabela',\n        mergeCells: 'Mesclar células',\n        splitCells: 'Dividir células',\n        HorizontalSplit: 'Divisão horizontal',\n        VerticalSplit: 'Divisão vertical'\n      },\n      menu: {\n        spaced: 'Espaçado',\n        bordered: 'Com borda',\n        neon: 'Néon',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado',\n        code: 'Código'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 36 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ru',\n      toolbar: {\n        default: 'По умолчанию',\n        save: 'Сохранить',\n        font: 'Шрифт',\n        formats: 'Стиль абзаца',\n        fontSize: 'Размер шрифта',\n        bold: 'Полужирный',\n        underline: 'Подчёркнутый',\n        italic: 'Курсив',\n        strike: 'Зачеркнутый',\n        subscript: 'Нижний индекс',\n        superscript: 'Верхний индекс',\n        removeFormat: 'Очистить форматирование',\n        fontColor: 'Цвет текста',\n        hiliteColor: 'Цвет фона',\n        indent: 'Увеличить отступ',\n        outdent: 'Уменьшить отступ',\n        align: 'Выравнивание',\n        alignLeft: 'Слева',\n        alignRight: 'Справа',\n        alignCenter: 'По центру',\n        alignJustify: 'По ширине',\n        list: 'Списки',\n        orderList: 'Нумерованный',\n        unorderList: 'Маркированный',\n        horizontalRule: 'Горизонтальная линия',\n        hr_solid: 'Сплошная',\n        hr_dotted: 'Пунктир',\n        hr_dashed: 'Штриховая',\n        table: 'Таблица',\n        link: 'Ссылка',\n        math: 'математический',\n        image: 'Изображение',\n        video: 'Видео',\n        audio: 'Аудио',\n        fullScreen: 'Полный экран',\n        showBlocks: 'Блочный вид',\n        codeView: 'Редактировать HTML',\n        undo: 'Отменить',\n        redo: 'Вернуть',\n        preview: 'Предварительный просмотр',\n        print: 'Печать',\n        tag_p: 'Текст',\n        tag_div: 'Базовый',\n        tag_h: 'Заголовок',\n        tag_blockquote: 'Цитата',\n        tag_pre: 'Код',\n        template: 'Шаблон',\n        lineHeight: 'Высота линии',\n        paragraphStyle: 'Стиль абзаца',\n        textStyle: 'Стиль текста',\n        imageGallery: 'Галерея'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Вставить ссылку',\n          url: 'Ссылка',\n          text: 'Текст',\n          newWindowCheck: 'Открывать в новом окне'\n        },\n        mathBox: {\n          title: 'математический',\n          inputLabel: 'Математическая запись',\n          fontSizeLabel: 'Кегль',\n          previewLabel: 'Предварительный просмотр'\n        },\n        imageBox: {\n          title: 'Вставить изображение',\n          file: 'Выберите файл',\n          url: 'Адрес изображения',\n          altText: 'Текстовое описание изображения'\n        },\n        videoBox: {\n          title: 'Вставить видео',\n          file: 'Выберите файл',\n          url: 'Ссылка на видео, Youtube,Vimeo'\n        },\n        audioBox: {\n          title: 'Вставить аудио',\n          file: 'Выберите файл',\n          url: 'Адрес аудио'\n        },\n        browser: {\n          tags: 'Теги',\n          search: 'Поиск'\n        },\n        caption: 'Добавить подпись',\n        close: 'Закрыть',\n        submitButton: 'Подтвердить',\n        revertButton: 'Сбросить',\n        proportion: 'Сохранить пропорции',\n        basic: 'Без обтекания',\n        left: 'Слева',\n        right: 'Справа',\n        center: 'По центру',\n        width: 'Ширина',\n        height: 'Высота',\n        size: 'Размер',\n        ratio: 'Соотношение'\n      },\n      controller: {\n        edit: 'Изменить',\n        unlink: 'Убрать ссылку',\n        remove: 'Удалить',\n        insertRowAbove: 'Вставить строку выше',\n        insertRowBelow: 'Вставить строку ниже',\n        deleteRow: 'Удалить строку',\n        insertColumnBefore: 'Вставить столбец слева',\n        insertColumnAfter: 'Вставить столбец справа',\n        deleteColumn: 'Удалить столбец',\n        fixedColumnWidth: 'Фиксированная ширина столбца',\n        resize100: 'Размер 100%',\n        resize75: 'Размер 75%',\n        resize50: 'Размер 50%',\n        resize25: 'Размер 25%',\n        autoSize: 'Авто размер',\n        mirrorHorizontal: 'Отразить по горизонтали',\n        mirrorVertical: 'Отразить по вертикали',\n        rotateLeft: 'Повернуть против часовой стрелки',\n        rotateRight: 'Повернуть по часовой стрелке',\n        maxSize: 'Ширина по размеру страницы',\n        minSize: 'Ширина по содержимому',\n        tableHeader: 'Строка заголовков',\n        mergeCells: 'Объединить ячейки',\n        splitCells: 'Разделить ячейку',\n        HorizontalSplit: 'Разделить горизонтально',\n        VerticalSplit: 'Разделить вертикально'\n      },\n      menu: {\n        spaced: 'интервал',\n        bordered: 'Граничная Линия',\n        neon: 'неон',\n        translucent: 'полупрозрачный',\n        shadow: 'Тень',\n        code: 'Код'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 37 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG una finestra con un documento');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'it',\n      toolbar: {\n        default: 'Predefinita',\n        save: 'Salva',\n        font: 'Font',\n        formats: 'Formato',\n        fontSize: 'Grandezza',\n        bold: 'Grassetto',\n        underline: 'Sottolineato',\n        italic: 'Italico',\n        strike: 'Cancellato',\n        subscript: 'Apice',\n        superscript: 'Pedice',\n        removeFormat: 'Rimuovi Formattazione',\n        fontColor: 'Colore Testo',\n        hiliteColor: 'Colore Sottolineatura',\n        indent: 'Aumenta rientro',\n        outdent: 'Riduci rientro',\n        align: 'Allinea',\n        alignLeft: 'Sinistra',\n        alignRight: 'Destra',\n        alignCenter: 'Centrato',\n        alignJustify: 'Giustificato',\n        list: 'Lista',\n        orderList: 'Lista numerata',\n        unorderList: 'Lista Puntata',\n        horizontalRule: 'Linea Orizzontale',\n        hr_solid: 'Linea',\n        hr_dotted: 'Puntinato',\n        hr_dashed: 'Tratteggiato',\n        table: 'Tabella',\n        link: 'Link',\n        math: 'Matematica',\n        image: 'Immagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Tutto Schermo',\n        showBlocks: 'Visualizza Blocchi',\n        codeView: 'Visualizza Codice',\n        undo: 'Annulla',\n        redo: 'Ripristina',\n        preview: 'Anteprima',\n        print: 'Stampa',\n        tag_p: 'Paragrafo',\n        tag_div: 'DIV Normale',\n        tag_h: 'Intestazione',\n        tag_blockquote: 'Citazione',\n        tag_pre: 'Codice',\n        template: 'Template',\n        lineHeight: 'Altezza linea',\n        paragraphStyle: 'Stile Paragrafo',\n        textStyle: 'Stile Testo',\n        imageGallery: 'Galleria di immagini'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserisci un Link',\n          url: 'Indirizzo in link',\n          text: 'Applica Testo da visualizzare',\n          newWindowCheck: 'Apri in una nuova finestra'\n        },\n        mathBox: {\n          title: 'Matematica',\n          inputLabel: 'Notazione matematica',\n          fontSizeLabel: 'Grandezza testo',\n          previewLabel: 'Anteprima'\n        },\n        imageBox: {\n          title: 'Inserisci Immagine',\n          file: 'Seleziona da file',\n          url: 'Indirizzo immagine',\n          altText: 'Testo alternativo (ALT)'\n        },\n        videoBox: {\n          title: 'Inserisci Video',\n          file: 'Seleziona da file',\n          url: 'Indirizzo video, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar Audio',\n          file: 'Seleziona da file',\n          url: 'Indirizzo audio'\n        },\n        browser: {\n          tags: 'tag',\n          search: 'Ricerca'\n        },\n        caption: 'Inserisci descrizione',\n        close: 'ClChiudiose',\n        submitButton: 'Invia',\n        revertButton: 'Annulla',\n        proportion: 'Proporzionale',\n        basic: 'Da impostazione',\n        left: 'Sinistra',\n        right: 'Destra',\n        center: 'Centrato',\n        width: 'Larghezza',\n        height: 'Altezza',\n        size: 'Peso',\n        ratio: 'Rapporto'\n      },\n      controller: {\n        edit: 'Modifica',\n        unlink: 'Elimina link',\n        remove: 'Rimuovi',\n        insertRowAbove: 'Inserisci linea sopra',\n        insertRowBelow: 'Inserisci linea sotto',\n        deleteRow: 'Cancella riga',\n        insertColumnBefore: 'Inserisci una colonna prima',\n        insertColumnAfter: 'Inserisci una colonna dopo',\n        deleteColumn: 'Cancella colonna',\n        fixedColumnWidth: 'Larghezza della colonna fissa',\n        resize100: 'Ridimensiona 100%',\n        resize75: 'Ridimensiona 75%',\n        resize50: 'Ridimensiona 50%',\n        resize25: 'Ridimensiona 25%',\n        autoSize: 'Ridimensione automatica',\n        mirrorHorizontal: 'Specchia, orizontale',\n        mirrorVertical: 'Specchia, verticale',\n        rotateLeft: 'Ruota a sinistra',\n        rotateRight: 'Ruota a destra',\n        maxSize: 'Dimensione massima',\n        minSize: 'Dimensione minima',\n        tableHeader: 'Intestazione Tabella',\n        mergeCells: 'Unisci celle',\n        splitCells: 'Dividi celle',\n        HorizontalSplit: 'Separa orizontale',\n        VerticalSplit: 'Separa verticale'\n      },\n      menu: {\n        spaced: 'Spaziatura',\n        bordered: 'Bordo',\n        neon: 'Luminoso',\n        translucent: 'Translucente',\n        shadow: 'Ombra',\n        code: 'Codice'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 38 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2019 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'zh_cn',\n      toolbar: {\n        default: '默认',\n        save: '保存',\n        font: '字体',\n        formats: '格式',\n        fontSize: '字号',\n        bold: '粗体',\n        underline: '下划线',\n        italic: '斜体',\n        strike: '删除线',\n        subscript: '下标',\n        superscript: '上标',\n        removeFormat: '清除格式',\n        fontColor: '字体颜色',\n        hiliteColor: '背景颜色',\n        indent: '增加缩进',\n        outdent: '减少缩进',\n        align: '对齐方式',\n        alignLeft: '左对齐',\n        alignRight: '右对齐',\n        alignCenter: '居中',\n        alignJustify: '两端对齐',\n        list: '列表',\n        orderList: '有序列表',\n        unorderList: '无序列表',\n        horizontalRule: '水平线',\n        hr_solid: '实线',\n        hr_dotted: '点线',\n        hr_dashed: '虚线',\n        table: '表格',\n        link: '超链接',\n        math: '数学',\n        image: '图片',\n        video: '视频',\n        audio: '音讯',\n        fullScreen: '全屏',\n        showBlocks: '显示块区域',\n        codeView: '代码视图',\n        undo: '撤消',\n        redo: '恢复',\n        preview: '预览',\n        print: '打印',\n        tag_p: '段落',\n        tag_div: '正文 (DIV)',\n        tag_h: '标题',\n        tag_blockquote: '引用',\n        tag_pre: '代码',\n        template: '模板',\n        lineHeight: '行高',\n        paragraphStyle: '段落样式',\n        textStyle: '文字样式',\n        imageGallery: '图片库'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '插入超链接',\n          url: '网址',\n          text: '字体',\n          newWindowCheck: '在新标签页中打开'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学符号',\n          fontSizeLabel: '字号',\n          previewLabel: '预览'\n        },\n        imageBox: {\n          title: '插入图片',\n          file: '上传图片',\n          url: '图片网址',\n          altText: '替换文字'\n        },\n        videoBox: {\n          title: '插入视频',\n          file: '上传图片',\n          url: '嵌入网址, Youtube,Vimeo'\n        },\n        audioBox: {\n          title: '插入音频',\n          file: '上传图片',\n          url: '音频网址'\n        },\n        browser: {\n          tags: '标签',\n          search: '搜索'\n        },\n        caption: '标题',\n        close: '取消',\n        submitButton: '确定',\n        revertButton: '恢复',\n        proportion: '比例',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '居中',\n        width: '宽度',\n        height: '高度',\n        size: '尺寸',\n        ratio: '比'\n      },\n      controller: {\n        edit: '编辑',\n        unlink: '去除链接',\n        remove: '删除',\n        insertRowAbove: '在上方插入',\n        insertRowBelow: '在下方插入',\n        deleteRow: '删除行',\n        insertColumnBefore: '在左侧插入',\n        insertColumnAfter: '在右侧插入',\n        deleteColumn: '删除列',\n        fixedColumnWidth: '固定列宽',\n        resize100: '放大 100%',\n        resize75: '放大 75%',\n        resize50: '放大 50%',\n        resize25: '放大 25%',\n        mirrorHorizontal: '翻转左右',\n        mirrorVertical: '翻转上下',\n        rotateLeft: '向左旋转',\n        rotateRight: '向右旋转',\n        maxSize: '最大尺寸',\n        minSize: '最小尺寸',\n        tableHeader: '表格标题',\n        mergeCells: '合并单元格',\n        splitCells: '分割单元格',\n        HorizontalSplit: '水平分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '间隔开',\n        bordered: '边界线',\n        neon: '霓虹灯',\n        translucent: '半透明',\n        shadow: '阴影',\n        code: '代码'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 39 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ro',\n      toolbar: {\n        default: 'Default',\n        save: 'Salvează',\n        font: 'Font',\n        formats: 'Format',\n        fontSize: 'Dimensiune',\n        bold: 'Îngroșat',\n        underline: 'Subliniat',\n        italic: 'Înclinat',\n        strike: 'Tăiat',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Șterge formatare',\n        fontColor: 'Culoare font',\n        hiliteColor: 'Culoare de evidențiere',\n        indent: 'Indentează',\n        outdent: 'Fără indentare',\n        align: 'Aliniere',\n        alignLeft: 'Aliniere la stânga',\n        alignRight: 'Aliniere la dreapta',\n        alignCenter: 'Aliniere la centru',\n        alignJustify: 'Aliniere stânga - dreapta',\n        list: 'Listă',\n        orderList: 'Listă ordonată',\n        unorderList: 'Listă neordonată',\n        horizontalRule: 'Linie orizontală',\n        hr_solid: 'Solid',\n        hr_dotted: 'Punctat',\n        hr_dashed: 'Punctate',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Matematică',\n        image: 'Imagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Tot ecranul',\n        showBlocks: 'Arată blocuri',\n        codeView: 'Vizualizare cod',\n        undo: 'Anulează',\n        redo: 'Refă',\n        preview: 'Previzualizare',\n        print: 'printează',\n        tag_p: 'Paragraf',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Antet',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Citat',\n        template: 'Template',\n        lineHeight: 'Înălțime linie',\n        paragraphStyle: 'Stil paragraf',\n        textStyle: 'Stil text',\n        imageGallery: 'Galerie de imagini'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserează Link',\n          url: 'Adresă link',\n          text: 'Text de afișat',\n          newWindowCheck: 'Deschide în fereastră nouă'\n        },\n        mathBox: {\n          title: 'Matematică',\n          inputLabel: 'Notație matematică',\n          fontSizeLabel: 'Dimensiune font',\n          previewLabel: 'Previzualizare'\n        },\n        imageBox: {\n          title: 'Inserează imagine',\n          file: 'Selectează',\n          url: 'URL imagine',\n          altText: 'text alternativ'\n        },\n        videoBox: {\n          title: 'Inserează video',\n          file: 'Selectează',\n          url: 'Include URL, youtube/vimeo'\n        },\n        audioBox: {\n          title: 'Inserează Audio',\n          file: 'Selectează',\n          url: 'URL Audio'\n        },\n        browser: {\n          tags: 'Etichete',\n          search: 'Căutareim'\n        },\n        caption: 'Inserează descriere',\n        close: 'Închide',\n        submitButton: 'Salvează',\n        revertButton: 'Revenire',\n        proportion: 'Constrânge proporțiile',\n        basic: 'De bază',\n        left: 'Stânga',\n        right: 'Dreapta',\n        center: 'Centru',\n        width: 'Lățime',\n        height: 'Înălțime',\n        size: 'Dimensiune',\n        ratio: 'Ratie'\n      },\n      controller: {\n        edit: 'Editează',\n        unlink: 'Scoate link',\n        remove: 'Elimină',\n        insertRowAbove: 'Inserează rând deasupra',\n        insertRowBelow: 'Inserează rând dedesupt',\n        deleteRow: 'Șterge linie',\n        insertColumnBefore: 'Inserează coloană înainte',\n        insertColumnAfter: 'Inserează coloană după',\n        deleteColumn: 'Șterge coloană',\n        fixedColumnWidth: 'Lățime fixă coloană',\n        resize100: 'Redimensionare 100%',\n        resize75: 'Redimensionare 75%',\n        resize50: 'Redimensionare 50%',\n        resize25: 'Redimensionare 25%',\n        autoSize: 'Dimensiune automată',\n        mirrorHorizontal: 'Oglindă, orizontal',\n        mirrorVertical: 'Oglindă, vertical',\n        rotateLeft: 'Rotește la stânga',\n        rotateRight: 'Rotește la dreapta',\n        maxSize: 'Dimensiune maximă',\n        minSize: 'Dimensiune minimă',\n        tableHeader: 'Antet tabel',\n        mergeCells: 'Îmbină celule',\n        splitCells: 'Divizează celule',\n        HorizontalSplit: 'Despicare orizontală',\n        VerticalSplit: 'Despicare verticală'\n      },\n      menu: {\n        spaced: 'Spațiat',\n        bordered: 'Mărginit',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Umbră',\n        code: 'Citat'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 40 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pl',\n      toolbar: {\n        default: 'Domyślne',\n        save: 'Zapisz',\n        font: 'Czcionka',\n        formats: 'Formaty',\n        fontSize: 'Rozmiar',\n        bold: 'Pogrubienie',\n        underline: 'Podkreślenie',\n        italic: 'Kursywa',\n        strike: 'Przekreślenie',\n        subscript: 'Indeks dolny',\n        superscript: 'Indeks górny',\n        removeFormat: 'Wyczyść formatowanie',\n        fontColor: 'Kolor tekstu',\n        hiliteColor: 'Kolor tła tekstu',\n        indent: 'Zwiększ wcięcie',\n        outdent: 'Zmniejsz wcięcie',\n        align: 'Wyrównaj',\n        alignLeft: 'Do lewej',\n        alignRight: 'Do prawej',\n        alignCenter: 'Do środka',\n        alignJustify: 'Wyjustuj',\n        list: 'Lista',\n        orderList: 'Lista numerowana',\n        unorderList: 'Lista wypunktowana',\n        horizontalRule: 'Pozioma linia',\n        hr_solid: 'Ciągła',\n        hr_dotted: 'Kropkowana',\n        hr_dashed: 'Przerywana',\n        table: 'Tabela',\n        link: 'Odnośnik',\n        math: 'Matematyczne',\n        image: 'Obraz',\n        video: 'Wideo',\n        audio: 'Audio',\n        fullScreen: 'Pełny ekran',\n        showBlocks: 'Pokaż bloki',\n        codeView: 'Widok kodu',\n        undo: 'Cofnij',\n        redo: 'Ponów',\n        preview: 'Podgląd',\n        print: 'Drukuj',\n        tag_p: 'Akapit',\n        tag_div: 'Blok (DIV)',\n        tag_h: 'Nagłówek H',\n        tag_blockquote: 'Cytat',\n        tag_pre: 'Kod',\n        template: 'Szablon',\n        lineHeight: 'Odstęp między wierszami',\n        paragraphStyle: 'Styl akapitu',\n        textStyle: 'Styl tekstu',\n        imageGallery: 'Galeria obrazów'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Wstaw odnośnik',\n          url: 'Adres URL',\n          text: 'Tekst do wyświetlenia',\n          newWindowCheck: 'Otwórz w nowym oknie'\n        },\n        mathBox: {\n          title: 'Matematyczne',\n          inputLabel: 'Zapis matematyczny',\n          fontSizeLabel: 'Rozmiar czcionki',\n          previewLabel: 'Podgląd'\n        },\n        imageBox: {\n          title: 'Wstaw obraz',\n          file: 'Wybierz plik',\n          url: 'Adres URL obrazka',\n          altText: 'Tekst alternatywny'\n        },\n        videoBox: {\n          title: 'Wstaw wideo',\n          file: 'Wybierz plik',\n          url: 'Adres URL video, np. YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Wstaw audio',\n          file: 'Wybierz plik',\n          url: 'Adres URL audio'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Szukaj'\n        },\n        caption: 'Wstaw opis',\n        close: 'Zamknij',\n        submitButton: 'Zatwierdź',\n        revertButton: 'Cofnij zmiany',\n        proportion: 'Ogranicz proporcje',\n        basic: 'Bez wyrównania',\n        left: 'Do lewej',\n        right: 'Do prawej',\n        center: 'Do środka',\n        width: 'Szerokość',\n        height: 'Wysokość',\n        size: 'Rozmiar',\n        ratio: 'Proporcje'\n      },\n      controller: {\n        edit: 'Edycja',\n        unlink: 'Usuń odnośnik',\n        remove: 'Usuń',\n        insertRowAbove: 'Wstaw wiersz powyżej',\n        insertRowBelow: 'Wstaw wiersz poniżej',\n        deleteRow: 'Usuń wiersz',\n        insertColumnBefore: 'Wstaw kolumnę z lewej',\n        insertColumnAfter: 'Wstaw kolumnę z prawej',\n        deleteColumn: 'Usuń kolumnę',\n        fixedColumnWidth: 'Stała szerokość kolumny',\n        resize100: 'Zmień rozmiar - 100%',\n        resize75: 'Zmień rozmiar - 75%',\n        resize50: 'Zmień rozmiar - 50%',\n        resize25: 'Zmień rozmiar - 25%',\n        autoSize: 'Rozmiar automatyczny',\n        mirrorHorizontal: 'Odbicie lustrzane w poziomie',\n        mirrorVertical: 'Odbicie lustrzane w pionie',\n        rotateLeft: 'Obróć w lewo',\n        rotateRight: 'Obróć w prawo',\n        maxSize: 'Maksymalny rozmiar',\n        minSize: 'Minimalny rozmiar',\n        tableHeader: 'Nagłówek tabeli',\n        mergeCells: 'Scal komórki',\n        splitCells: 'Podziel komórki',\n        HorizontalSplit: 'Podział poziomy',\n        VerticalSplit: 'Podział pionowy'\n      },\n      menu: {\n        spaced: 'Rozstawiony',\n        bordered: 'Z obwódką',\n        neon: 'Neon',\n        translucent: 'Półprzezroczysty',\n        shadow: 'Cień',\n        code: 'Kod'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 41 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ckb',\n      toolbar: {\n        default: 'بنه‌ڕه‌ت',\n        save: 'پاشه‌كه‌وتكردن',\n        font: 'فۆنت',\n        formats: 'Formats',\n        fontSize: 'قه‌باره‌',\n        bold: 'تۆخكردن',\n        underline: 'هێڵ به‌ژێردا بێنه‌',\n        italic: 'لار',\n        strike: 'هێڵ به‌ناودا بێنه‌',\n        subscript: 'ژێرسکریپت',\n        superscript: 'سەرنووس',\n        removeFormat: 'لابردنی فۆرمات',\n        fontColor: 'ره‌نگی فۆنت',\n        hiliteColor: 'ره‌نگی دیاركراو',\n        indent: 'بۆشایی بەجێهێشتن',\n        outdent: 'لابردنی بۆشایی',\n        align: 'ئاراسته‌',\n        alignLeft: 'لای چه‌پ',\n        alignRight: 'لای راست',\n        alignCenter: 'ناوه‌ند',\n        alignJustify: 'به‌رێكی دابه‌ش بكه‌',\n        list: 'لیست',\n        orderList: 'لیستی ریزكراو',\n        unorderList: 'لیستی ریزنه‌كراو',\n        horizontalRule: 'هێڵی ئاسۆیی',\n        hr_solid: 'پته‌و',\n        hr_dotted: 'نوكته‌ نوكته‌',\n        hr_dashed: 'داش داش',\n        table: 'خشته‌',\n        link: 'به‌سته‌ر',\n        math: 'بیركاری',\n        image: 'وێنه‌',\n        video: 'ڤیدیۆ',\n        audio: 'ده‌نگ',\n        fullScreen: 'پڕ به‌ شاشه‌',\n        showBlocks: 'بڵۆك نیشانبده',\n        codeView: 'بینینی كۆده‌كان',\n        undo: 'وەک خۆی لێ بکەوە',\n        redo: 'هەڵگەڕاندنەوە',\n        preview: 'پێشبینین',\n        print: 'پرینت',\n        tag_p: 'په‌ره‌گراف',\n        tag_div: 'ی ئاسایی (DIV)',\n        tag_h: 'سەرپەڕە',\n        tag_blockquote: 'ده‌ق',\n        tag_pre: 'كۆد',\n        template: 'قاڵب',\n        lineHeight: 'بڵندی دێر',\n        paragraphStyle: 'ستایلی په‌ره‌گراف',\n        textStyle: 'ستایلی نوسین',\n        imageGallery: 'گاله‌ری وێنه‌كان'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'به‌سته‌ر دابنێ',\n          url: 'به‌سته‌ر',\n          text: 'تێكستی به‌سته‌ر',\n          newWindowCheck: 'له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌'\n        },\n        mathBox: {\n          title: 'بیركاری',\n          inputLabel: 'نیشانه‌كانی بیركاری',\n          fontSizeLabel: 'قه‌باره‌ی فۆنت',\n          previewLabel: 'پێشبینین'\n        },\n        imageBox: {\n          title: 'وێنه‌یه‌ك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'به‌سته‌ری وێنه‌',\n          altText: 'نوسینی جێگره‌وه‌'\n        },\n        videoBox: {\n          title: 'ڤیدیۆیه‌ك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك '\n        },\n        audioBox: {\n          title: 'ده‌نگێك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'به‌سته‌ری ده‌نگ'\n        },\n        browser: {\n          tags: 'تاگه‌كان',\n          search: 'گه‌ران'\n        },\n        caption: 'پێناسه‌یه‌ك دابنێ',\n        close: 'داخستن',\n        submitButton: 'ناردن',\n        revertButton: 'بیگەڕێنەوە سەر باری سەرەتایی',\n        proportion: 'رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌',\n        basic: 'سه‌ره‌تایی',\n        left: 'چه‌پ',\n        right: 'راست',\n        center: 'ناوەڕاست',\n        width: 'پانی',\n        height: 'به‌رزی',\n        size: 'قه‌باره‌',\n        ratio: 'رێژه‌'\n      },\n      controller: {\n        edit: 'دەسکاریکردن',\n        unlink: 'سڕینەوەی بەستەر',\n        remove: 'سڕینه‌وه‌',\n        insertRowAbove: 'ریزك له‌ سه‌ره‌وه‌ زیادبكه‌',\n        insertRowBelow: 'ریزێك له‌ خواره‌وه‌ زیادبكه‌',\n        deleteRow: 'ریز بسره‌وه‌',\n        insertColumnBefore: 'ستونێك له‌ پێشه‌وه‌ زیادبكه‌',\n        insertColumnAfter: 'ستونێك له‌ دواوه‌ زیادبكه‌',\n        deleteColumn: 'ستونێك بسره‌وه‌',\n        fixedColumnWidth: 'پانی ستون نه‌گۆربكه‌',\n        resize100: 'قه‌باره‌ بگۆره‌ بۆ ١٠٠%',\n        resize75: 'قه‌باره‌ بگۆره‌ بۆ ٧٥%',\n        resize50: 'قه‌باره‌ بگۆره‌ بۆ ٥٠%',\n        resize25: 'قه‌باره‌ بگۆره‌ بۆ ٢٥%',\n        autoSize: 'قه‌باره‌ی خۆكارانه‌',\n        mirrorHorizontal: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی',\n        mirrorVertical: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی',\n        rotateLeft: 'بسوڕێنه‌ به‌لای چه‌پدا',\n        rotateRight: 'بسورێنه‌ به‌لای راستدا',\n        maxSize: 'گه‌وره‌ترین قه‌باره‌',\n        minSize: 'بچوكترین قه‌باره‌',\n        tableHeader: 'سه‌ردێری خشته‌ك',\n        mergeCells: 'خانه‌كان تێكه‌ڵبكه‌',\n        splitCells: 'خانه‌كان لێك جیابكه‌وه‌',\n        HorizontalSplit: 'جیاكردنه‌وه‌ی ئاسۆیی',\n        VerticalSplit: 'جیاكردنه‌وه‌ی ستونی'\n      },\n      menu: {\n        spaced: 'بۆشای هه‌بێت',\n        bordered: 'لێواری هه‌بێت',\n        neon: 'نیۆن',\n        translucent: 'كه‌مێك وه‌ك شووشه‌',\n        shadow: 'سێبه‌ر',\n        code: 'كۆد'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 42 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'lv',\n      toolbar: {\n        default: 'Noklusējuma',\n        save: 'Saglabāt',\n        font: 'Fonts',\n        formats: 'Formāti',\n        fontSize: 'Fonta lielums',\n        bold: 'Treknraksts',\n        underline: 'Pasvītrot',\n        italic: 'Slīpraksts',\n        strike: 'Pārsvītrojums',\n        subscript: 'Apakšraksts',\n        superscript: 'Augšraksts',\n        removeFormat: 'Noņemt formātu',\n        fontColor: 'Fonta krāsa',\n        hiliteColor: 'Teksta iezīmēšanas krāsa',\n        indent: 'Palielināt atkāpi',\n        outdent: 'Samazināt atkāpi',\n        align: 'Izlīdzināt',\n        alignLeft: 'Līdzināt pa kreisi',\n        alignRight: 'Līdzināt pa labi',\n        alignCenter: 'Centrēt',\n        alignJustify: 'Taisnot',\n        list: 'Saraksts',\n        orderList: 'Numerācija',\n        unorderList: 'Aizzimes',\n        horizontalRule: 'Horizontāla līnija',\n        hr_solid: 'Ciets',\n        hr_dotted: 'Punktiņš',\n        hr_dashed: 'Braša',\n        table: 'Tabula',\n        link: 'Saite',\n        math: 'Matemātika',\n        image: 'Attēls',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pilnekrāna režīms',\n        showBlocks: 'Parādit blokus',\n        codeView: 'Koda skats',\n        undo: 'Atsaukt',\n        redo: 'Atkārtot',\n        preview: 'Priekšskatījums',\n        print: 'Drukāt',\n        tag_p: 'Paragrāfs',\n        tag_div: 'Normāli (DIV)',\n        tag_h: 'Galvene',\n        tag_blockquote: 'Citāts',\n        tag_pre: 'Kods',\n        template: 'Veidne',\n        lineHeight: 'Līnijas augstums',\n        paragraphStyle: 'Paragrāfa stils',\n        textStyle: 'Teksta stils',\n        imageGallery: 'Attēlu galerija'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Ievietot saiti',\n          url: 'Saites URL',\n          text: 'Parādāmais teksts',\n          newWindowCheck: 'Atvērt jaunā logā'\n        },\n        mathBox: {\n          title: 'Matemātika',\n          inputLabel: 'Matemātiskā notācija',\n          fontSizeLabel: 'Fonta lielums',\n          previewLabel: 'Priekšskatījums'\n        },\n        imageBox: {\n          title: 'Ievietot attēlu',\n          file: 'Izvēlieties no failiem',\n          url: 'Attēla URL',\n          altText: 'Alternatīvs teksts'\n        },\n        videoBox: {\n          title: 'Ievietot video',\n          file: 'Izvēlieties no failiem',\n          url: 'Multivides iegulšanas URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Ievietot audio',\n          file: 'Izvēlieties no failiem',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Meklēt'\n        },\n        caption: 'Ievietot aprakstu',\n        close: 'Aizvērt',\n        submitButton: 'Iesniegt',\n        revertButton: 'Atjaunot',\n        proportion: 'Ierobežo proporcijas',\n        basic: 'Nav iesaiņojuma',\n        left: 'Pa kreisi',\n        right: 'Labajā pusē',\n        center: 'Centrs',\n        width: 'Platums',\n        height: 'Augstums',\n        size: 'Izmērs',\n        ratio: 'Attiecība'\n      },\n      controller: {\n        edit: 'Rediģēt',\n        unlink: 'Atsaistīt',\n        remove: 'Noņemt',\n        insertRowAbove: 'Ievietot rindu virs',\n        insertRowBelow: 'Ievietot rindu zemāk',\n        deleteRow: 'Dzēst rindu',\n        insertColumnBefore: 'Ievietot kolonnu pirms',\n        insertColumnAfter: 'Ievietot kolonnu aiz',\n        deleteColumn: 'Dzēst kolonnu',\n        fixColumnWidth: 'Fiksēts kolonnas platums',\n        resize100: 'Mainīt izmēru 100%',\n        resize75: 'Mainīt izmēru 75%',\n        resize50: 'Mainīt izmēru 50%',\n        resize25: 'Mainīt izmēru 25%',\n        autoSize: 'Automātiskais izmērs',\n        mirrorHorizontal: 'Spogulis, horizontāls',\n        mirrorVertical: 'Spogulis, vertikāls',\n        rotateLeft: 'Pagriezt pa kreisi',\n        rotateRight: 'Pagriezt pa labi',\n        maxSize: 'Maksimālais izmērs',\n        minSize: 'Minimālais izmērs',\n        tableHeader: 'Tabulas galvene',\n        mergeCells: 'Apvienot šūnas',\n        splitCells: 'Sadalīt šūnas',\n        HorizontalSplit: 'Horizontāls sadalījums',\n        VerticalSplit: 'Vertikāls sadalījums'\n      },\n      menu: {\n        spaced: 'Ar atstarpi',\n        bordered: 'Robežojās',\n        neon: 'Neona',\n        translucent: 'Caurspīdīgs',\n        shadow: 'Ēna',\n        code: 'Kods'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 43 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = __webpack_require__(44);\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  module.exports = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n\n    ;\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n\n    ; // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  /***/\n\n},\n/* 44 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  module.exports = ReactPropTypesSecret;\n  /***/\n},\n/* 45 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // ESM COMPAT FLAG\n\n  __webpack_require__.r(__webpack_exports__); // EXPORTS\n\n\n  __webpack_require__.d(__webpack_exports__, \"buttonList\", function () {\n    return (\n      /* reexport */\n      buttonList_namespaceObject\n    );\n  }); // NAMESPACE OBJECT: ./misc/buttonList.js\n\n\n  var buttonList_namespaceObject = {};\n\n  __webpack_require__.r(buttonList_namespaceObject);\n\n  __webpack_require__.d(buttonList_namespaceObject, \"basic\", function () {\n    return basic;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"complex\", function () {\n    return complex;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"formatting\", function () {\n    return formatting;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"default\", function () {\n    return misc_buttonList;\n  }); // CONCATENATED MODULE: ./misc/buttonList.js\n\n\n  var basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\n  var complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\n  var formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n  /* harmony default export */\n\n  var misc_buttonList = {\n    basic,\n    complex,\n    formatting\n  }; // EXTERNAL MODULE: external \"react\"\n\n  var external_react_ = __webpack_require__(7);\n\n  var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_); // CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2020 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  var defaultIcons = {\n    redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n    undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n    bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n    underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n    italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n    strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n    subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n    superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n    erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n    indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n    preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n    print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n    template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n    line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n    paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n    text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n    save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n    arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n    align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n    highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n    table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n    show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n    cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n    video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n    link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n    unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n    edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n    auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n    insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n    insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n    insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n    delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n    delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n    fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n    rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n    rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n    mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n    mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n    checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n    line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n    audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\n    image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n    // More icons\n    more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n    more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n    // Not currently used\n    attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n    map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n    magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n    empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n  }; // EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\n\n  var en = __webpack_require__(4);\n\n  var en_default = /*#__PURE__*/__webpack_require__.n(en); // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description utility function\r\n   */\n\n\n  const util_util = {\n    _d: null,\n    _w: null,\n    isIE: null,\n    isIE_Edge: null,\n    isOSX_IOS: null,\n    _propertiesInit: function () {\n      if (this._d) return;\n      this._d = document;\n      this._w = window;\n      this.isIE = navigator.userAgent.indexOf('Trident') > -1;\n      this.isIE_Edge = navigator.userAgent.indexOf('Trident') > -1 || navigator.appVersion.indexOf('Edge') > -1;\n      this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\n    },\n\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _HTMLConvertor: function (contents) {\n      const ec = {\n        '&': '&amp;',\n        '\\u00A0': '&nbsp;',\n        '\\'': '&apos;',\n        '\"': '&quot;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\n    zeroWidthSpace: String.fromCharCode(8203),\n\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\n\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\n\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\n    onlyZeroWidthSpace: function (text) {\n      if (typeof text !== 'string') text = text.textContent;\n      return text === '' || this.onlyZeroWidthRegExp.test(text);\n    },\n\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\n    getXMLHttpRequest: function () {\n      /** IE */\n      if (this._w.ActiveXObject) {\n        try {\n          return new ActiveXObject('Msxml2.XMLHTTP');\n        } catch (e) {\n          try {\n            return new ActiveXObject('Microsoft.XMLHTTP');\n          } catch (e1) {\n            return null;\n          }\n        }\n      }\n      /** netscape */\n      else if (this._w.XMLHttpRequest) {\n          return new XMLHttpRequest();\n        }\n        /** fail */\n        else {\n            return null;\n          }\n    },\n\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\n    createElement: function (elementName) {\n      return this._d.createElement(elementName);\n    },\n\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\n    createTextNode: function (text) {\n      return this._d.createTextNode(text || '');\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLEncoder: function (contents) {\n      const ec = {\n        '<': '$lt;',\n        '>': '$gt;'\n      };\n      return contents.replace(/<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLDecoder: function (contents) {\n      const ec = {\n        '$lt;': '<',\n        '$gt;': '>'\n      };\n      return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\n    hasOwn: function (obj, key) {\n      return this._hasOwn.call(obj, key);\n    },\n    _hasOwn: Object.prototype.hasOwnProperty,\n\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\n    getIncludePath: function (nameArray, extension) {\n      let path = '';\n      const pathList = [];\n      const tagName = extension === 'js' ? 'script' : 'link';\n      const src = extension === 'js' ? 'src' : 'href';\n      let fileName = '(?:';\n\n      for (let i = 0, len = nameArray.length; i < len; i++) {\n        fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\n      }\n\n      const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n      const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n\n      for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\n        if (extRegExp.test(c[i][src])) {\n          pathList.push(c[i]);\n        }\n      }\n\n      for (let i = 0; i < pathList.length; i++) {\n        let editorTag = pathList[i][src].match(regExp);\n\n        if (editorTag) {\n          path = editorTag[0];\n          break;\n        }\n      }\n\n      if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\n      -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n      if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\n      return path;\n    },\n\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\n    getPageStyle: function (doc) {\n      let cssText = '';\n      const sheets = (doc || this._d).styleSheets;\n\n      for (let i = 0, len = sheets.length, rules; i < len; i++) {\n        try {\n          rules = sheets[i].cssRules;\n        } catch (e) {\n          continue;\n        }\n\n        for (let c = 0, cLen = rules.length; c < cLen; c++) {\n          cssText += rules[c].cssText;\n        }\n      }\n\n      return cssText;\n    },\n\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\n    getIframeDocument: function (iframe) {\n      let wDocument = iframe.contentWindow || iframe.contentDocument;\n      if (wDocument.document) wDocument = wDocument.document;\n      return wDocument;\n    },\n\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\n    getAttributesToString: function (element, exceptAttrs) {\n      if (!element.attributes) return '';\n      const attrs = element.attributes;\n      let attrString = '';\n\n      for (let i = 0, len = attrs.length; i < len; i++) {\n        if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n        attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n      }\n\n      return attrString;\n    },\n\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\n    getByteLength: function (text) {\n      const encoder = this._w.encodeURIComponent;\n      let cr, cl;\n\n      if (this.isIE_Edge) {\n        cl = this._w.unescape(encoder(text.toString())).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      } else {\n        cl = new this._w.TextEncoder('utf-8').encode(text.toString()).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      }\n    },\n\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isWysiwygDiv: function (element) {\n      return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNonEditable: function (element) {\n      return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\n    },\n\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isTextStyleElement: function (element) {\n      return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe, video, audio] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isComponent: function (element) {\n      return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isMediaComponent: function (element) {\n      return element && /se-component/.test(element.className);\n    },\n\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNotCheckingNode: function (element) {\n      return element && /katex|__se__tag/.test(element.className);\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element)) element.firstElementChild;\n        if (this.isFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getRangeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getClosureFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyTagAttributes: function (originEl, copyEl) {\n      if (copyEl.style.cssText) {\n        originEl.style.cssText += copyEl.style.cssText;\n      }\n\n      const classes = copyEl.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        this.addClass(originEl, classes[i]);\n      }\n\n      if (!originEl.style.cssText) originEl.removeAttribute('style');\n      if (!originEl.className.trim()) originEl.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyFormatAttributes: function (originEl, copyEl) {\n      copyEl = copyEl.cloneNode(false);\n      copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\n      this.copyTagAttributes(originEl, copyEl);\n    },\n\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\n    getArrayItem: function (array, validation, multi) {\n      if (!array || array.length === 0) return null;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      const arr = [];\n\n      for (let i = 0, len = array.length, a; i < len; i++) {\n        a = array[i];\n\n        if (validation(a)) {\n          if (!multi) return a;else arr.push(a);\n        }\n      }\n\n      return !multi ? null : arr;\n    },\n\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\n    getArrayIndex: function (array, element) {\n      let idx = -1;\n\n      for (let i = 0, len = array.length; i < len; i++) {\n        if (array[i] === element) {\n          idx = i;\n          break;\n        }\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    nextIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx + 1;\n    },\n\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    prevIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx - 1;\n    },\n\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\n    getPositionIndex: function (node) {\n      let idx = 0;\n\n      while (node = node.previousSibling) {\n        idx += 1;\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\n    getNodePath: function (node, parentNode, _newOffsets) {\n      const path = [];\n      let finds = true;\n      this.getParentElement(node, function (el) {\n        if (el === parentNode) finds = false;\n\n        if (finds && !this.isWysiwygDiv(el)) {\n          // merge text nodes\n          if (_newOffsets && el.nodeType === 3) {\n            let temp = null,\n                tempText = null;\n            _newOffsets.s = _newOffsets.e = 0;\n            let previous = el.previousSibling;\n\n            while (previous && previous.nodeType === 3) {\n              tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.s += tempText.length;\n              el.textContent = tempText + el.textContent;\n              temp = previous;\n              previous = previous.previousSibling;\n              this.removeItem(temp);\n            }\n\n            let next = el.nextSibling;\n\n            while (next && next.nodeType === 3) {\n              tempText = next.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.e += tempText.length;\n              el.textContent += tempText;\n              temp = next;\n              next = next.nextSibling;\n              this.removeItem(temp);\n            }\n          } // index push\n\n\n          path.push(el);\n        }\n\n        return false;\n      }.bind(this));\n      return path.map(this.getPositionIndex).reverse();\n    },\n\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\n    getNodeFromPath: function (offsets, parentNode) {\n      let current = parentNode;\n      let nodes;\n\n      for (let i = 0, len = offsets.length; i < len; i++) {\n        nodes = current.childNodes;\n        if (nodes.length === 0) break;\n\n        if (nodes.length <= offsets[i]) {\n          current = nodes[nodes.length - 1];\n        } else {\n          current = nodes[offsets[i]];\n        }\n      }\n\n      return current;\n    },\n\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\n    isSameAttributes: function (a, b) {\n      if (a.nodeType === 3 && b.nodeType === 3) return true;\n      if (a.nodeType === 3 || b.nodeType === 3) return false;\n      const style_a = a.style;\n      const style_b = b.style;\n      let compStyle = 0;\n\n      for (let i = 0, len = style_a.length; i < len; i++) {\n        if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n      }\n\n      const class_a = a.classList;\n      const class_b = b.classList;\n      const reg = this._w.RegExp;\n      let compClass = 0;\n\n      for (let i = 0, len = class_a.length; i < len; i++) {\n        if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\n      }\n\n      return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n    },\n\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isList: function (node) {\n      return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isListCell: function (node) {\n      return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isTable: function (node) {\n      return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isCell: function (node) {\n      return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isBreak: function (node) {\n      return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isAnchor: function (node) {\n      return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isMedia: function (node) {\n      return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\n    isNumber: function (text) {\n      return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\n    },\n\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\n    getNumber: function (text, maxDec) {\n      if (!text) return 0;\n      let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\n      if (!number || !number[0]) return 0;\n      number = number[0];\n      return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n    },\n\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildren: function (element, validation) {\n      const children = [];\n      if (!element || !element.children || element.children.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (let i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildNodes: function (element, validation) {\n      const children = [];\n      if (!element || element.childNodes.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (let i = 0, len = current.childNodes.length; i < len; i++) {\n          recursionFunc(current.childNodes[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\n    getElementDepth: function (element) {\n      if (!element || this.isWysiwygDiv(element)) return -1;\n      let depth = 0;\n      element = element.parentNode;\n\n      while (element && !this.isWysiwygDiv(element)) {\n        depth += 1;\n        element = element.parentNode;\n      }\n\n      return depth;\n    },\n\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\n    compareElements: function (a, b) {\n      let aNode = a,\n          bNode = b;\n\n      while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\n        aNode = aNode.parentNode;\n        bNode = bNode.parentNode;\n      }\n\n      if (!aNode || !bNode) return {\n        ancestor: null,\n        a: a,\n        b: b,\n        result: 0\n      };\n      const children = aNode.parentNode.childNodes;\n      const aIndex = this.getArrayIndex(children, aNode);\n      const bIndex = this.getArrayIndex(children, bNode);\n      return {\n        ancestor: aNode.parentNode,\n        a: aNode,\n        b: bNode,\n        result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\n      };\n    },\n\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getParentElement: function (element, query) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + query + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      while (element && !check(element)) {\n        if (this.isWysiwygDiv(element)) {\n          return null;\n        }\n\n        element = element.parentNode;\n      }\n\n      return element;\n    },\n\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getChildElement: function (element, query, last) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + (query === 'text' ? '#' + query : query) + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      const childList = this.getListChildNodes(element, function (current) {\n        return check(current);\n      });\n      return childList[last ? childList.length - 1 : 0];\n    },\n\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\n    getEdgeChildNodes: function (first, last) {\n      if (!first) return;\n      if (!last) last = first;\n\n      while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\n\n      while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) last = last.lastChild;\n\n      return {\n        sc: first,\n        ec: last || first\n      };\n    },\n\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\n    getOffset: function (element, wysiwygFrame) {\n      let offsetLeft = 0;\n      let offsetTop = 0;\n      let offsetElement = element.nodeType === 3 ? element.parentElement : element;\n      const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n      while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\n        offsetLeft += offsetElement.offsetLeft;\n        offsetTop += offsetElement.offsetTop;\n        offsetElement = offsetElement.offsetParent;\n      }\n\n      const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n      return {\n        left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n        top: offsetTop - wysiwyg.scrollTop + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n      };\n    },\n\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\n      if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n      const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n      return (overlap < 0 ? overlap * -1 : overlap) + 1;\n    },\n\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\n    changeTxt: function (element, txt) {\n      if (!element || !txt) return;\n      element.textContent = txt;\n    },\n\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\n    changeElement: function (element, newElement) {\n      if (typeof newElement === 'string') {\n        if (element.outerHTML) {\n          element.outerHTML = newElement;\n        } else {\n          const doc = this.createElement('DIV');\n          doc.innerHTML = newElement;\n          newElement = doc.firstChild;\n          element.parentNode.replaceChild(newElement, element);\n        }\n      } else if (newElement.nodeType === 1) {\n        element.parentNode.replaceChild(newElement, element);\n      }\n    },\n\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\n    setStyle: function (element, styleName, value) {\n      element.style[styleName] = value;\n\n      if (!value && !element.style.cssText) {\n        element.removeAttribute('style');\n      }\n    },\n\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\n    hasClass: function (element, className) {\n      if (!element) return;\n      return new this._w.RegExp(className).test(element.className);\n    },\n\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\n    addClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      if (check.test(element.className)) return;\n      element.className += (element.className.length > 0 ? ' ' : '') + className;\n    },\n\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\n    removeClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      element.className = element.className.replace(check, ' ').trim();\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\n    toggleClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\n      if (check.test(element.className)) {\n        element.className = element.className.replace(check, ' ').trim();\n      } else {\n        element.className += ' ' + className;\n      }\n\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\n    setDisabledButtons: function (disabled, buttonList) {\n      for (let i = 0, len = buttonList.length; i < len; i++) {\n        buttonList[i].disabled = disabled;\n      }\n    },\n\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\n    removeItem: function (item) {\n      if (!item) return;\n\n      try {\n        item.remove();\n      } catch (e) {\n        if (item.parentNode) item.parentNode.removeChild(item);\n      }\n    },\n\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\n    removeItemAllParents: function (item, validation, stopParent) {\n      if (!item) return null;\n      let cc = null;\n\n      if (!validation) {\n        validation = function (current) {\n          if (current === stopParent || this.isComponent(current)) return false;\n          const text = current.textContent.trim();\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(this);\n      }\n\n      (function recursionFunc(element) {\n        if (!util_util.isWysiwygDiv(element)) {\n          const parent = element.parentNode;\n\n          if (parent && validation(element)) {\n            cc = {\n              sc: element.previousElementSibling,\n              ec: element.nextElementSibling\n            };\n            util_util.removeItem(element);\n            recursionFunc(parent);\n          }\n        }\n      })(item);\n\n      return cc;\n    },\n\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\n    detachNestedList: function (baseNode, all) {\n      const rNode = this._deleteNestedList(baseNode);\n\n      let rangeElement, cNodes;\n\n      if (rNode) {\n        rangeElement = rNode.cloneNode(false);\n        cNodes = rNode.childNodes;\n        const index = this.getPositionIndex(baseNode);\n\n        while (cNodes[index]) {\n          rangeElement.appendChild(cNodes[index]);\n        }\n      } else {\n        rangeElement = baseNode;\n      }\n\n      let rChildren;\n\n      if (!all) {\n        const depth = this.getElementDepth(baseNode) + 2;\n        rChildren = this.getListChildren(baseNode, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n        }.bind(this));\n      } else {\n        rChildren = this.getListChildren(rangeElement, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling;\n        }.bind(this));\n      }\n\n      for (let i = 0, len = rChildren.length; i < len; i++) {\n        this._deleteNestedList(rChildren[i]);\n      }\n\n      if (rNode) {\n        rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n        if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n      }\n\n      return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n    },\n\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\n    _deleteNestedList: function (baseNode) {\n      const baseParent = baseNode.parentNode;\n      let sibling = baseParent;\n      let parent = sibling.parentNode;\n      let liSibling, liParent, child, index, c;\n\n      while (this.isListCell(parent)) {\n        index = this.getPositionIndex(baseNode);\n        liSibling = parent.nextElementSibling;\n        liParent = parent.parentNode;\n        child = sibling;\n\n        while (child) {\n          sibling = sibling.nextSibling;\n\n          if (this.isList(child)) {\n            c = child.childNodes;\n\n            while (c[index]) {\n              liParent.insertBefore(c[index], liSibling);\n            }\n\n            if (c.length === 0) this.removeItem(child);\n          } else {\n            liParent.appendChild(child);\n          }\n\n          child = sibling;\n        }\n\n        sibling = liParent;\n        parent = liParent.parentNode;\n      }\n\n      if (baseParent.children.length === 0) this.removeItem(baseParent);\n      return liParent;\n    },\n\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\n    splitElement: function (baseNode, offset, depth) {\n      const bp = baseNode.parentNode;\n      let index = 0,\n          newEl,\n          children,\n          temp;\n      let next = true;\n      if (!depth || depth < 0) depth = 0;\n\n      if (baseNode.nodeType === 3) {\n        index = this.getPositionIndex(baseNode);\n\n        if (offset >= 0) {\n          baseNode.splitText(offset);\n          const after = this.getNodeFromPath([index + 1], bp);\n          if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n        }\n      } else if (baseNode.nodeType === 1) {\n        if (!baseNode.previousSibling) {\n          if (this.getElementDepth(baseNode) === depth) next = false;\n        } else {\n          baseNode = baseNode.previousSibling;\n        }\n      }\n\n      let depthEl = baseNode;\n\n      while (this.getElementDepth(depthEl) > depth) {\n        index = this.getPositionIndex(depthEl) + 1;\n        depthEl = depthEl.parentNode;\n        temp = newEl;\n        newEl = depthEl.cloneNode(false);\n        children = depthEl.childNodes;\n\n        if (temp) {\n          if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n            newEl.innerHTML = temp.firstElementChild.innerHTML;\n            util_util.removeItem(temp.firstElementChild);\n            if (temp.children.length > 0) newEl.appendChild(temp);\n          } else {\n            newEl.appendChild(temp);\n          }\n        }\n\n        while (children[index]) {\n          newEl.appendChild(children[index]);\n        }\n      }\n\n      if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\n      const pElement = depthEl.parentNode;\n      if (next) depthEl = depthEl.nextSibling;\n      if (!newEl) return depthEl;\n      this.mergeSameTags(newEl, null, false);\n      this.mergeNestedTags(newEl, function (current) {\n        return this.isList(current);\n      }.bind(this));\n      if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n      if (bp.childNodes.length === 0) this.removeItem(bp);\n      return newEl;\n    },\n\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\n    mergeSameTags: function (element, nodePathArray, onlyText) {\n      const inst = this;\n      const nodePathLen = nodePathArray ? nodePathArray.length : 0;\n      let offsets = null;\n\n      if (nodePathLen) {\n        offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\n      }\n\n      (function recursionFunc(current, depth, depthIndex) {\n        const children = current.childNodes;\n\n        for (let i = 0, len = children.length, child, next; i < len; i++) {\n          child = children[i];\n          next = children[i + 1];\n          if (!child) break;\n\n          if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n            if (inst.isTable(child) || inst.isListCell(child)) {\n              recursionFunc(child, depth + 1, i);\n            }\n\n            continue;\n          }\n\n          if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n            // update nodePath\n            if (nodePathLen) {\n              let path, c, p, cDepth, spliceDepth;\n\n              for (let n = 0; n < nodePathLen; n++) {\n                path = nodePathArray[n];\n\n                if (path && path[depth] === i) {\n                  c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                  while (cDepth >= 0) {\n                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                      spliceDepth = false;\n                      break;\n                    }\n\n                    c = child.parentNode;\n                    p = c.parentNode;\n                    cDepth--;\n                  }\n\n                  if (spliceDepth) {\n                    path.splice(depth, 1);\n                    path[depth] = i;\n                  }\n                }\n              }\n            } // merge tag\n\n\n            inst.copyTagAttributes(child, current);\n            current.parentNode.insertBefore(child, current);\n            inst.removeItem(current);\n          }\n\n          if (!next) {\n            if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n            break;\n          }\n\n          if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n            const childs = child.childNodes;\n            let childLength = 0;\n\n            for (let n = 0, nLen = childs.length; n < nLen; n++) {\n              if (childs[n].textContent.length > 0) childLength++;\n            }\n\n            const l = child.lastChild;\n            const r = next.firstChild;\n            let addOffset = 0;\n\n            if (l && r) {\n              const textOffset = l.nodeType === 3 && r.nodeType === 3;\n              addOffset = l.textContent.length;\n              let tempL = l.previousSibling;\n\n              while (tempL && tempL.nodeType === 3) {\n                addOffset += tempL.textContent.length;\n                tempL = tempL.previousSibling;\n              }\n\n              if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n\n                      if (textOffset) {\n                        if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                          offsets[n] += addOffset;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (child.nodeType === 3) {\n              addOffset = child.textContent.length;\n              child.textContent += next.textContent;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n                      offsets[n] += addOffset;\n                    }\n                  }\n                }\n              }\n            } else {\n              child.innerHTML += next.innerHTML;\n            }\n\n            inst.removeItem(next);\n            i--;\n          } else if (child.nodeType === 1) {\n            recursionFunc(child, depth + 1, i);\n          }\n        }\n      })(element, 0, 0);\n\n      return offsets;\n    },\n\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\n    mergeNestedTags: function (element, validation) {\n      if (typeof validation === 'string') {\n        validation = function (current) {\n          return this.test(current.tagName);\n        }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\n      } else if (typeof validation !== 'function') {\n        validation = function () {\n          return true;\n        };\n      }\n\n      (function recursionFunc(current) {\n        let children = current.children;\n\n        if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n          const temp = children[0];\n          children = temp.children;\n\n          while (children[0]) {\n            current.appendChild(children[0]);\n          }\n\n          current.removeChild(temp);\n        }\n\n        for (let i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n    },\n\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\n    removeEmptyNode: function (element, notRemoveNode) {\n      const inst = this;\n\n      if (notRemoveNode) {\n        notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n          return element === current.parentElement;\n        });\n      }\n\n      (function recursionFunc(current) {\n        if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\n\n        if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\n          if (current.parentNode) {\n            current.parentNode.removeChild(current);\n            return -1;\n          }\n        } else {\n          const children = current.children;\n\n          for (let i = 0, len = children.length, r = 0; i < len; i++) {\n            if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n            r += recursionFunc(children[i + r]);\n          }\n        }\n\n        return 0;\n      })(element);\n\n      if (element.childNodes.length === 0) element.innerHTML = '<br>';\n    },\n\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\n    htmlRemoveWhiteSpace: function (html) {\n      if (!html) return '';\n      return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) {\n        return m.trim();\n      });\n    },\n\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\n    sortByDepth: function (array, des) {\n      const t = !des ? -1 : 1;\n      const f = t * -1;\n      array.sort(function (a, b) {\n        if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n        a = this.getElementDepth(a);\n        b = this.getElementDepth(b);\n        return a > b ? t : a < b ? f : 0;\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isIgnoreNodeChange: function (element) {\n      return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\n    },\n\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isMaintainedNode: function (element) {\n      return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\n    },\n\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isSizeNode: function (element) {\n      return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\n    },\n\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _notTextNode: function (element) {\n      return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\n    },\n\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _disallowedTags: function (element) {\n      return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?(\" + (?!\\\\b list[i] \\\\b) + \")[^>^<])+>\", \"g\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\n    createTagsWhitelist: function (list) {\n      const exclusionTags = list.split('|');\n      let regStr = '<\\\\/?(';\n\n      for (let i = 0, len = exclusionTags.length; i < len; i++) {\n        regStr += '(?!\\\\b' + exclusionTags[i] + '\\\\b)';\n      }\n\n      regStr += ')[^>]>';\n      return new RegExp(regStr, 'g');\n    },\n\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\n      /**\r\n       * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n       * So check the node type and exclude the text no (current.nodeType !== 1)\r\n       */\n      const removeTags = [],\n            emptyTags = [],\n            wrongList = [],\n            withoutFormatCells = []; // wrong position\n\n      const wrongTags = this.getListChildNodes(documentFragment, function (current) {\n        if (current.nodeType !== 1) return false; // white list\n\n        if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\n          removeTags.push(current);\n          return false;\n        }\n\n        const nrtag = !this.getParentElement(current, this.isNotCheckingNode); // empty tags\n\n        if (!this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\n          emptyTags.push(current);\n          return false;\n        } // wrong list\n\n\n        if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\n          wrongList.push(current);\n          return false;\n        } // table cells\n\n\n        if (this.isCell(current)) {\n          const fel = current.firstElementChild;\n\n          if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\n            withoutFormatCells.push(current);\n            return false;\n          }\n        }\n\n        return current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) && !this.getParentElement(current, this.isComponent) && nrtag;\n      }.bind(this));\n\n      for (let i = 0, len = removeTags.length; i < len; i++) {\n        this.removeItem(removeTags[i]);\n      }\n\n      const checkTags = [];\n\n      for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\n        t = wrongTags[i];\n        p = t.parentNode;\n        if (!p || !p.parentNode) continue;\n        p.parentNode.insertBefore(t, p);\n        checkTags.push(p);\n      }\n\n      for (let i = 0, len = checkTags.length, t; i < len; i++) {\n        t = checkTags[i];\n\n        if (this.onlyZeroWidthSpace(t.textContent.trim())) {\n          this.removeItem(t);\n        }\n      }\n\n      for (let i = 0, len = emptyTags.length; i < len; i++) {\n        this.removeItem(emptyTags[i]);\n      }\n\n      for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\n        t = wrongList[i];\n        tp = this.createElement('LI');\n        children = t.childNodes;\n\n        while (children[0]) {\n          tp.appendChild(children[0]);\n        }\n\n        p = t.parentNode;\n        if (!p) continue;\n        p.insertBefore(tp, t);\n        this.removeItem(t);\n      }\n\n      for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\n        t = withoutFormatCells[i];\n        f = this.createElement('DIV');\n        f.innerHTML = t.textContent.trim().length === 0 ? '<br>' : t.innerHTML;\n        t.innerHTML = f.outerHTML;\n      }\n    },\n    _setDefaultOptionStyle: function (options, defaultStyle) {\n      let optionStyle = '';\n      if (options.height) optionStyle += 'height:' + options.height + ';';\n      if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\n      if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\n      if (options.position) optionStyle += 'position:' + options.position + ';';\n      if (options.width) optionStyle += 'width:' + options.width + ';';\n      if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\n      if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\n      let top = '',\n          frame = '',\n          editor = '';\n      defaultStyle = optionStyle + defaultStyle;\n      const styleArr = defaultStyle.split(';');\n\n      for (let i = 0, len = styleArr.length, s; i < len; i++) {\n        s = styleArr[i].trim();\n        if (!s) continue;\n\n        if (/^(min-|max-)?width\\s*:/.test(s)) {\n          top += s + ';';\n          continue;\n        }\n\n        if (/^(min-|max-)?height\\s*:/.test(s)) {\n          if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\n            options.height = 'auto';\n          }\n\n          frame += s + ';';\n          continue;\n        }\n\n        editor += s + ';';\n      }\n\n      return {\n        top: top,\n        frame: frame,\n        editor: editor\n      };\n    },\n    _setIframeDocument: function (frame, options) {\n      frame.setAttribute('scrolling', 'auto');\n      frame.contentDocument.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title></title>' + this._setIframeCssTags(options);\n      frame.contentDocument.body.className = 'sun-editor-editable';\n      frame.contentDocument.body.setAttribute('contenteditable', true);\n    },\n    _setIframeCssTags: function (options) {\n      const linkNames = options.iframeCSSFileName;\n      const wRegExp = this._w.RegExp;\n      let tagString = '';\n\n      for (let f = 0, len = linkNames.length, path; f < len; f++) {\n        path = [];\n\n        if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\n          path.push(linkNames[f]);\n        } else {\n          const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\n\n          for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\n            styleTag = c[i].href.match(CSSFileName);\n            if (styleTag) path.push(styleTag[0]);\n          }\n        }\n\n        if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n        for (let i = 0, len = path.length; i < len; i++) {\n          tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\n        }\n      }\n\n      return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\n    }\n  };\n  /* harmony default export */\n\n  var lib_util = util_util; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  var lib_constructor = {\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\n    init: function (element, options) {\n      if (typeof options !== 'object') options = {};\n      const doc = document;\n      /** --- init options --- */\n\n      this._initOptions(element, options); // suneditor div\n\n\n      const top_div = doc.createElement('DIV');\n      top_div.className = 'sun-editor';\n      if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n      const relative = doc.createElement('DIV');\n      relative.className = 'se-container'; // toolbar\n\n      const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n\n      tool_bar.element.style.visibility = 'hidden';\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n      const arrow = doc.createElement('DIV');\n      arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n      const sticky_dummy = doc.createElement('DIV');\n      sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n      const editor_div = doc.createElement('DIV');\n      editor_div.className = 'se-wrapper';\n      /** --- init elements and create bottom bar --- */\n\n      const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwyg_div = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let textarea = initElements.codeView; // resizing bar\n\n      const resizing_bar = bottomBar.resizingBar;\n      const navigation = bottomBar.navigation;\n      const char_wrapper = bottomBar.charWrapper;\n      const char_counter = bottomBar.charCounter; // loading box\n\n      const loading_box = doc.createElement('DIV');\n      loading_box.className = 'se-loading-box sun-editor-common';\n      loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n      const line_breaker = doc.createElement('DIV');\n      line_breaker.className = 'se-line-breaker';\n      line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n      const line_breaker_t = doc.createElement('DIV');\n      line_breaker_t.className += 'se-line-breaker-component';\n      const line_breaker_b = line_breaker_t.cloneNode(true);\n      line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n      const resize_back = doc.createElement('DIV');\n      resize_back.className = 'se-resizing-back'; // toolbar container\n\n      const toolbarContainer = options.toolbarContainer;\n\n      if (toolbarContainer) {\n        toolbarContainer.appendChild(tool_bar.element);\n      }\n      /** append html */\n\n\n      editor_div.appendChild(textarea);\n      if (placeholder_span) editor_div.appendChild(placeholder_span);\n      if (!toolbarContainer) relative.appendChild(tool_bar.element);\n      relative.appendChild(sticky_dummy);\n      relative.appendChild(editor_div);\n      relative.appendChild(resize_back);\n      relative.appendChild(loading_box);\n      relative.appendChild(line_breaker);\n      relative.appendChild(line_breaker_t);\n      relative.appendChild(line_breaker_b);\n      if (resizing_bar) relative.appendChild(resizing_bar);\n      top_div.appendChild(relative);\n      textarea = this._checkCodeMirror(options, textarea);\n      return {\n        constructed: {\n          _top: top_div,\n          _relative: relative,\n          _toolBar: tool_bar.element,\n          _menuTray: tool_bar._menuTray,\n          _editorArea: editor_div,\n          _wysiwygArea: wysiwyg_div,\n          _codeArea: textarea,\n          _placeholder: placeholder_span,\n          _resizingBar: resizing_bar,\n          _navigation: navigation,\n          _charWrapper: char_wrapper,\n          _charCounter: char_counter,\n          _loading: loading_box,\n          _lineBreaker: line_breaker,\n          _lineBreaker_t: line_breaker_t,\n          _lineBreaker_b: line_breaker_b,\n          _resizeBack: resize_back,\n          _stickyDummy: sticky_dummy,\n          _arrow: arrow\n        },\n        options: options,\n        plugins: tool_bar.plugins,\n        pluginCallButtons: tool_bar.pluginCallButtons,\n        _responsiveButtons: tool_bar.responsiveButtons\n      };\n    },\n\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\n    _checkCodeMirror: function (options, textarea) {\n      if (options.codeMirror) {\n        const cmOptions = [{\n          mode: 'htmlmixed',\n          htmlMode: true,\n          lineNumbers: true,\n          lineWrapping: true\n        }, options.codeMirror.options || {}].reduce(function (init, option) {\n          for (let key in option) {\n            if (lib_util.hasOwn(option, key)) init[key] = option[key];\n          }\n\n          return init;\n        }, {});\n\n        if (options.height === 'auto') {\n          cmOptions.viewportMargin = Infinity;\n          cmOptions.height = 'auto';\n        }\n\n        const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n        cm.display.wrapper.style.cssText = textarea.style.cssText;\n        options.codeMirrorEditor = cm;\n        textarea = cm.display.wrapper;\n        textarea.className += ' se-wrapper-code-mirror';\n      }\n\n      return textarea;\n    },\n\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\n    _checkKatexMath: function (katex) {\n      if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n      const katexOptions = [{\n        throwOnError: false\n      }, katex.options || {}].reduce(function (init, option) {\n        for (let key in option) {\n          if (lib_util.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n      katex.options = katexOptions;\n    },\n\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\n      this._initOptions(context.element.originElement, mergeOptions);\n\n      const el = context.element;\n      const relative = el.relative;\n      const editorArea = el.editorArea;\n      const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n      const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n      const isNewPlugins = !!mergeOptions.plugins;\n\n      const tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, isNewPlugins ? mergeOptions.plugins : plugins, mergeOptions);\n\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n      const arrow = document.createElement('DIV');\n      arrow.className = 'se-arrow';\n\n      if (isNewToolbar) {\n        tool_bar.element.style.visibility = 'hidden'; // toolbar container\n\n        if (isNewToolbarContainer) {\n          mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n          el.toolbar.parentElement.removeChild(el.toolbar);\n        } else {\n          el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n        }\n\n        el.toolbar = tool_bar.element;\n        el._menuTray = tool_bar._menuTray;\n        el._arrow = arrow;\n      }\n\n      const initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwygFrame = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let code = initElements.codeView;\n      if (el.resizingBar) relative.removeChild(el.resizingBar);\n      if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n      editorArea.innerHTML = '';\n      editorArea.appendChild(code);\n      if (placeholder_span) editorArea.appendChild(placeholder_span);\n      code = this._checkCodeMirror(mergeOptions, code);\n      el.resizingBar = bottomBar.resizingBar;\n      el.navigation = bottomBar.navigation;\n      el.charWrapper = bottomBar.charWrapper;\n      el.charCounter = bottomBar.charCounter;\n      el.wysiwygFrame = wysiwygFrame;\n      el.code = code;\n      el.placeholder = placeholder_span;\n      return {\n        callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\n        plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null,\n        toolbar: tool_bar\n      };\n    },\n\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\n      /** top div */\n      topDiv.style.cssText = options._editorStyles.top;\n      /** toolbar */\n\n      if (/inline/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-inline';\n        toolBar.style.width = options.toolbarWidth;\n      } else if (/balloon/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-balloon';\n        toolBar.style.width = options.toolbarWidth;\n        toolBar.appendChild(toolBarArrow);\n      }\n      /** editor */\n      // wysiwyg div or iframe\n\n\n      const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n      wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n      if (!options.iframe) {\n        wysiwygDiv.setAttribute('contenteditable', true);\n        wysiwygDiv.setAttribute('scrolling', 'auto');\n        wysiwygDiv.className += ' sun-editor-editable';\n        wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n      } else {\n        wysiwygDiv.allowFullscreen = true;\n        wysiwygDiv.frameBorder = 0;\n        wysiwygDiv.style.cssText = options._editorStyles.frame;\n      } // textarea for code view\n\n\n      const textarea = document.createElement('TEXTAREA');\n      textarea.className = 'se-wrapper-inner se-wrapper-code';\n      textarea.style.cssText = options._editorStyles.frame;\n      textarea.style.display = 'none';\n      if (options.height === 'auto') textarea.style.overflow = 'hidden';\n      /** resize bar */\n\n      let resizingBar = null;\n      let navigation = null;\n      let charWrapper = null;\n      let charCounter = null;\n\n      if (options.resizingBar) {\n        resizingBar = document.createElement('DIV');\n        resizingBar.className = 'se-resizing-bar sun-editor-common';\n        /** navigation */\n\n        navigation = document.createElement('DIV');\n        navigation.className = 'se-navigation sun-editor-common';\n        resizingBar.appendChild(navigation);\n        /** char counter */\n\n        if (options.charCounter) {\n          charWrapper = document.createElement('DIV');\n          charWrapper.className = 'se-char-counter-wrapper';\n\n          if (options.charCounterLabel) {\n            const charLabel = document.createElement('SPAN');\n            charLabel.className = 'se-char-label';\n            charLabel.textContent = options.charCounterLabel;\n            charWrapper.appendChild(charLabel);\n          }\n\n          charCounter = document.createElement('SPAN');\n          charCounter.className = 'se-char-counter';\n          charCounter.textContent = '0';\n          charWrapper.appendChild(charCounter);\n\n          if (options.maxCharCount > 0) {\n            const char_max = document.createElement('SPAN');\n            char_max.textContent = ' / ' + options.maxCharCount;\n            charWrapper.appendChild(char_max);\n          }\n\n          resizingBar.appendChild(charWrapper);\n        }\n      }\n\n      let placeholder = null;\n\n      if (options.placeholder) {\n        placeholder = document.createElement('SPAN');\n        placeholder.className = 'se-placeholder';\n        placeholder.innerText = options.placeholder;\n      }\n\n      return {\n        bottomBar: {\n          resizingBar: resizingBar,\n          navigation: navigation,\n          charWrapper: charWrapper,\n          charCounter: charCounter\n        },\n        wysiwygFrame: wysiwygDiv,\n        codeView: textarea,\n        placeholder: placeholder\n      };\n    },\n\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\n    _initOptions: function (element, options) {\n      /** Values */\n      options.lang = options.lang || en_default.a;\n      options.value = typeof options.value === 'string' ? options.value : null;\n      options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\n      /** Whitelist */\n\n      options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code';\n      options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\n      options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\n      options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n      /** Layout */\n\n      options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n      options.toolbarWidth = options.toolbarWidth ? lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n      options.toolbarContainer = /balloon/i.test(options.mode) ? null : typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n      options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1;\n      options.fullPage = !!options.fullPage;\n      options.iframe = options.fullPage || options.iframe;\n      options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n      options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n        src: options.codeMirror\n      } : null;\n      /** Display */\n\n      options.position = typeof options.position === 'string' ? options.position : null;\n      options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n      options.popupDisplay = options.popupDisplay || 'full';\n      /** Bottom resizing bar */\n\n      options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n      options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n      /** Character count */\n\n      options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n      options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n      options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n      options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n      /** Width size */\n\n      options.width = options.width ? lib_util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n      options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n      options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n      /** Height size */\n\n      options.height = options.height ? lib_util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n      options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n      options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n      /** Editing area default style */\n\n      options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n      /** Defining menu items */\n\n      options.font = !options.font ? null : options.font;\n      options.fontSize = !options.fontSize ? null : options.fontSize;\n      options.formats = !options.formats ? null : options.formats;\n      options.colorList = !options.colorList ? null : options.colorList;\n      options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n      options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n      options.textStyles = !options.textStyles ? null : options.textStyles;\n      options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n      /** Image */\n\n      options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n      options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n      options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n      options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n      options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n      options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n      options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n      options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n      options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n      options.imageUploadHeader = options.imageUploadHeader || null;\n      options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n      options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\n      options.imageMultipleFile = !!options.imageMultipleFile;\n      options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n      /** Image - image gallery */\n\n      options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n      /** Video */\n\n      options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n      options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n      options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n      options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n      options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n      options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n      options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n      options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n      options.videoRatio = lib_util.getNumber(options.videoRatio, 4) || 0.5625;\n      options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n      options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n      options.videoFileInput = !!options.videoFileInput;\n      options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n      options.videoUploadHeader = options.videoUploadHeader || null;\n      options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n      options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\n      options.videoMultipleFile = !!options.videoMultipleFile;\n      options.videoTagAttrs = options.videoTagAttrs || null;\n      options.videoIframeAttrs = options.videoIframeAttrs || null;\n      options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n      /** Audio */\n\n      options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n      options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n      options.audioFileInput = !!options.audioFileInput;\n      options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n      options.audioUploadHeader = options.audioUploadHeader || null;\n      options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n      options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\n      options.audioMultipleFile = !!options.audioMultipleFile;\n      options.audioTagAttrs = options.audioTagAttrs || null;\n      options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n      /** Table */\n\n      options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n      /** Key actions */\n\n      options.tabDisable = !!options.tabDisable;\n      options.shortcutsDisable = Array.isArray(options.shortcutsDisable) && options.shortcutsDisable.length > 0 ? options.shortcutsDisable.map(function (v) {\n        return v.toLowerCase();\n      }) : [];\n      options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n      /** Defining save button */\n\n      options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n      /** Templates Array */\n\n      options.templates = !options.templates ? null : options.templates;\n      /** ETC */\n\n      options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n      options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n      /** Math (katex) */\n\n      options.katex = options.katex ? options.katex.src ? options.katex : {\n        src: options.katex\n      } : null;\n      /** Buttons */\n\n      options.buttonList = options.buttonList || [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n      /** --- Define icons --- */\n\n      options.icons = !options.icons || typeof options.icons !== 'object' ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\n        for (let key in _new) {\n          if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {});\n      /** _init options */\n\n      options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\n    },\n\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\n    _defaultButtons: function (options) {\n      const icons = options.icons;\n      const lang = options.lang;\n      const cmd = lib_util.isOSX_IOS ? '⌘' : 'CTRL';\n      const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent'] : options.shortcutsDisable;\n      return {\n        /** default command */\n        bold: ['_se_command_bold', lang.toolbar.bold + (shortcutsDisable.indexOf('bold') > -1 ? '' : ' (' + cmd + '+B)'), 'STRONG', '', icons.bold],\n        underline: ['_se_command_underline', lang.toolbar.underline + (shortcutsDisable.indexOf('underline') > -1 ? '' : ' (' + cmd + '+U)'), 'U', '', icons.underline],\n        italic: ['_se_command_italic', lang.toolbar.italic + (shortcutsDisable.indexOf('italic') > -1 ? '' : ' (' + cmd + '+I)'), 'EM', '', icons.italic],\n        strike: ['_se_command_strike', lang.toolbar.strike + (shortcutsDisable.indexOf('strike') > -1 ? '' : ' (' + cmd + '+SHIFT+S)'), 'DEL', '', icons.strike],\n        subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n        superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n        removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n        indent: ['_se_command_indent', lang.toolbar.indent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+])'), 'indent', '', icons.outdent],\n        outdent: ['_se_command_outdent', lang.toolbar.outdent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+[)'), 'outdent', '', icons.indent],\n        fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n        showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n        codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n        undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Z)'), 'undo', '', icons.undo],\n        redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Y / ' + cmd + '+SHIFT+Z)'), 'redo', '', icons.redo],\n        preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n        print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n        save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\n\n        /** plugins - command */\n        blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n        /** plugins - submenu */\n        font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n        formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n        fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n        fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n        hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n        align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', icons.align_left],\n        list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n        horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n        table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n        lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n        template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n        paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n        textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n        /** plugins - dialog */\n        link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n        image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n        video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n        audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n        math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n\n        /** plugins - fileBrowser */\n        imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n      };\n    },\n\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createModuleGroup: function () {\n      const oDiv = lib_util.createElement('DIV');\n      oDiv.className = 'se-btn-module se-btn-module-border';\n      const oUl = lib_util.createElement('UL');\n      oUl.className = 'se-menu-list';\n      oDiv.appendChild(oUl);\n      return {\n        'div': oDiv,\n        'ul': oUl\n      };\n    },\n\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n      const oLi = lib_util.createElement('LI');\n      const oButton = lib_util.createElement('BUTTON');\n      oButton.setAttribute('type', 'button');\n      oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n      oButton.setAttribute('data-command', dataCommand);\n      oButton.setAttribute('data-display', dataDisplay);\n      oButton.setAttribute('tabindex', '-1');\n      if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n\n      if (/^default\\./i.test(innerHTML)) {\n        innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n      }\n\n      if (/^text\\./i.test(innerHTML)) {\n        innerHTML = innerHTML.replace(/^text\\./i, '');\n        oButton.className += ' se-btn-more-text';\n      }\n\n      innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\n      if (_disabled) oButton.setAttribute('disabled', true);\n      oButton.innerHTML = innerHTML;\n      oLi.appendChild(oButton);\n      return {\n        'li': oLi,\n        'button': oButton\n      };\n    },\n\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\n    _createToolBar: function (doc, buttonList, _plugins, options) {\n      const separator_vertical = doc.createElement('DIV');\n      separator_vertical.className = 'se-toolbar-separator-vertical';\n      const tool_bar = doc.createElement('DIV');\n      tool_bar.className = 'se-toolbar sun-editor-common';\n\n      const _buttonTray = doc.createElement('DIV');\n\n      _buttonTray.className = 'se-btn-tray';\n      tool_bar.appendChild(_buttonTray);\n      /** create button list */\n\n      const icons = options.icons;\n\n      const defaultButtonList = this._defaultButtons(options);\n\n      const pluginCallButtons = {};\n      const responsiveButtons = [];\n      const plugins = {};\n\n      if (_plugins) {\n        const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n          return _plugins[name];\n        });\n\n        for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\n          p = pluginsValues[i].default || pluginsValues[i];\n          plugins[p.name] = p;\n        }\n      }\n\n      let module = null;\n      let button = null;\n      let moduleElement = null;\n      let buttonElement = null;\n      let pluginName = '';\n      let vertical = false;\n      const moreLayer = lib_util.createElement('DIV');\n      moreLayer.className = 'se-toolbar-more-layer';\n\n      buttonGroupLoop: for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\n        more = false;\n        align = '';\n        buttonGroup = buttonList[i];\n        moduleElement = this._createModuleGroup(); // button object\n\n        if (typeof buttonGroup === 'object') {\n          // buttons loop\n          for (let j = 0, moreButton; j < buttonGroup.length; j++) {\n            button = buttonGroup[j];\n            moreButton = false;\n\n            if (/^\\%\\d+/.test(button) && j === 0) {\n              buttonGroup[0] = button.replace(/[^\\d]/g, '');\n              responsiveButtons.push(buttonGroup);\n              buttonList.splice(i--, 1);\n              continue buttonGroupLoop;\n            }\n\n            if (typeof button === 'object') {\n              if (typeof button.add === 'function') {\n                pluginName = button.name;\n                module = defaultButtonList[pluginName];\n                plugins[pluginName] = button;\n              } else {\n                pluginName = button.name;\n                module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n              }\n            } else {\n              // align\n              if (/^\\-/.test(button)) {\n                align = button.substr(1);\n                moduleElement.div.style.float = align;\n                continue;\n              } // more button\n\n\n              if (/^\\:/.test(button)) {\n                moreButton = true;\n                const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n                moreCommand = '__se__' + matched[1].trim();\n                const title = matched[2].trim();\n                const innerHTML = matched[3].trim();\n                module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n              } // buttons\n              else {\n                  module = defaultButtonList[button];\n                }\n\n              pluginName = button;\n\n              if (!module) {\n                const custom = plugins[pluginName];\n                if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n                module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n              }\n            }\n\n            buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n            (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n            if (plugins[pluginName]) {\n              pluginCallButtons[pluginName] = buttonElement.button;\n            } // more button\n\n\n            if (moreButton) {\n              more = true;\n              moreContainer = lib_util.createElement('DIV');\n              moreContainer.className = 'se-more-layer ' + moreCommand;\n              moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n              moreLayer.appendChild(moreContainer);\n              moreContainer = moreContainer.firstElementChild.firstElementChild;\n            }\n          }\n\n          if (vertical) {\n            const sv = separator_vertical.cloneNode(false);\n            if (align) sv.style.float = align;\n\n            _buttonTray.appendChild(sv);\n          }\n\n          _buttonTray.appendChild(moduleElement.div);\n\n          vertical = true;\n        }\n        /** line break  */\n        else if (/^\\/$/.test(buttonGroup)) {\n            const enterDiv = doc.createElement('DIV');\n            enterDiv.className = 'se-btn-module-enter';\n\n            _buttonTray.appendChild(enterDiv);\n\n            vertical = false;\n          }\n      }\n\n      if (_buttonTray.children.length === 1) lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n      if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n      if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer); // menu tray\n\n      const _menuTray = doc.createElement('DIV');\n\n      _menuTray.className = 'se-menu-tray';\n      tool_bar.appendChild(_menuTray); // cover\n\n      const tool_cover = doc.createElement('DIV');\n      tool_cover.className = 'se-toolbar-cover';\n      tool_bar.appendChild(tool_cover);\n      return {\n        'element': tool_bar,\n        'plugins': plugins,\n        'pluginCallButtons': pluginCallButtons,\n        'responsiveButtons': responsiveButtons,\n        '_menuTray': _menuTray,\n        '_buttonTray': _buttonTray\n      };\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description Elements and variables you should have\r\n   * @param {Element} element textarea element\r\n   * @param {object} cons Toolbar element you created\r\n   * @param {JSON|Object} options Inserted options\r\n   * @returns {Object} {Elements, variables of the editor, option}\r\n   * @private\r\n   */\n\n  const _Context = function (element, cons, options) {\n    return {\n      element: {\n        originElement: element,\n        topArea: cons._top,\n        relative: cons._relative,\n        toolbar: cons._toolBar,\n        _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\n        _menuTray: cons._menuTray,\n        resizingBar: cons._resizingBar,\n        navigation: cons._navigation,\n        charWrapper: cons._charWrapper,\n        charCounter: cons._charCounter,\n        editorArea: cons._editorArea,\n        wysiwygFrame: cons._wysiwygArea,\n        wysiwyg: cons._wysiwygArea,\n        // if (options.iframe) cons._wysiwygArea.contentDocument.body\n        code: cons._codeArea,\n        placeholder: cons._placeholder,\n        loading: cons._loading,\n        lineBreaker: cons._lineBreaker,\n        lineBreaker_t: cons._lineBreaker_t,\n        lineBreaker_b: cons._lineBreaker_b,\n        resizeBackground: cons._resizeBack,\n        _stickyDummy: cons._stickyDummy,\n        _arrow: cons._arrow\n      },\n      tool: {\n        cover: cons._toolBar.querySelector('.se-toolbar-cover'),\n        bold: cons._toolBar.querySelector('._se_command_bold'),\n        underline: cons._toolBar.querySelector('._se_command_underline'),\n        italic: cons._toolBar.querySelector('._se_command_italic'),\n        strike: cons._toolBar.querySelector('._se_command_strike'),\n        subscript: cons._toolBar.querySelector('._se_command_subscript'),\n        superscript: cons._toolBar.querySelector('._se_command_superscript'),\n        undo: cons._toolBar.querySelector('._se_command_undo'),\n        redo: cons._toolBar.querySelector('._se_command_redo'),\n        save: cons._toolBar.querySelector('._se_command_save'),\n        outdent: cons._toolBar.querySelector('._se_command_outdent'),\n        indent: cons._toolBar.querySelector('._se_command_indent'),\n        fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\n        showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\n        codeView: cons._toolBar.querySelector('._se_command_codeView')\n      },\n      options: options,\n      option: options\n    };\n  };\n  /* harmony default export */\n\n\n  var lib_context = _Context; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2019 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  var lib_history = function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.context.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack() {\n      const item = stack[stackIndex];\n      editor.wysiwyg.innerHTML = item.contents;\n      core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n      core.focus();\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.removeAttribute('disabled');\n      } else if (stackIndex === stack.length - 1) {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.setAttribute('disabled', true);\n      } else {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.removeAttribute('disabled');\n      }\n\n      core.controllersOff();\n\n      core._checkComponents();\n\n      core._setCharCount();\n\n      core._resourcesStateChange(); // onChange\n\n\n      change();\n    }\n\n    function pushStack() {\n      core._checkComponents();\n\n      const current = core.getContents(true);\n      if (!!stack[stackIndex] && current === stack[stackIndex].contents) return;\n      stackIndex++;\n      const range = core._variable._range;\n\n      if (stack.length > stackIndex) {\n        stack = stack.slice(0, stackIndex);\n        if (redo) redo.setAttribute('disabled', true);\n      }\n\n      if (!range) {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: [0, 0],\n            offset: [0, 0]\n          },\n          e: {\n            path: 0,\n            offset: 0\n          }\n        };\n      } else {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: util.getNodePath(range.startContainer, null, null),\n            offset: range.startOffset\n          },\n          e: {\n            path: util.getNodePath(range.endContainer, null, null),\n            offset: range.endOffset\n          }\n        };\n      }\n\n      if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n      core._setCharCount(); // onChange\n\n\n      change();\n    }\n\n    return {\n      /**\r\n       * @description History stack\r\n       */\n      stack: stack,\n\n      /**\r\n       * @description Saving the current status to the history object stack\r\n       * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n       * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n       * You can specify the delay time by sending a number.\r\n       * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n       */\n      push: function (delay) {\n        _w.setTimeout(core._resourcesStateChange.bind(core));\n\n        const time = typeof delay === 'number' ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n        if (!time || pushDelay) {\n          _w.clearTimeout(pushDelay);\n\n          if (!time) {\n            pushStack();\n            return;\n          }\n        }\n\n        pushDelay = _w.setTimeout(function () {\n          _w.clearTimeout(pushDelay);\n\n          pushDelay = null;\n          pushStack();\n        }, time);\n      },\n\n      /**\r\n       * @description Undo function\r\n       */\n      undo: function () {\n        if (stackIndex > 0) {\n          stackIndex--;\n          setContentsFromStack();\n        }\n      },\n\n      /**\r\n       * @description Redo function\r\n       */\n      redo: function () {\n        if (stack.length - 1 > stackIndex) {\n          stackIndex++;\n          setContentsFromStack();\n        }\n      },\n\n      /**\r\n       * @description Go to the history stack for that index.\r\n       * If \"index\" is -1, go to the last stack\r\n       * @param {Number} index Stack index\r\n       */\n      go: function (index) {\n        stackIndex = index < 0 ? stack.length - 1 : index;\n        setContentsFromStack();\n      },\n\n      /**\r\n       * @description Reset the history object\r\n       */\n      reset: function (ignoreChangeEvent) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.setAttribute('disabled', true);\n        if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        stack.splice(0);\n        stackIndex = 0; // pushStack\n\n        stack[stackIndex] = {\n          contents: core.getContents(true),\n          s: {\n            path: [0, 0],\n            offset: 0\n          },\n          e: {\n            path: [0, 0],\n            offset: 0\n          }\n        };\n        if (!ignoreChangeEvent) change();\n      },\n\n      /**\r\n       * @description Reset the disabled state of the buttons to fit the current stack.\r\n       * @private\r\n       */\n      _resetCachingButton: function () {\n        editor = core.context.element;\n        undo = core.context.tool.undo;\n        redo = core.context.tool.redo;\n\n        if (stackIndex === 0) {\n          if (undo) undo.setAttribute('disabled', true);\n          if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n          if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        } else if (stackIndex === stack.length - 1) {\n          if (redo) redo.setAttribute('disabled', true);\n        }\n      },\n\n      /**\r\n       * @description Remove all stacks and remove the timeout function.\r\n       * @private\r\n       */\n      _destroy: function () {\n        if (pushDelay) _w.clearTimeout(pushDelay);\n        stack = null;\n      }\n    };\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  var _notice = {\n    name: 'notice',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function (core) {\n      const context = core.context;\n      context.notice = {};\n      /** dialog */\n\n      let notice_div = core.util.createElement('DIV');\n      let notice_span = core.util.createElement('SPAN');\n      let notice_button = core.util.createElement('BUTTON');\n      notice_div.className = 'se-notice';\n      notice_button.className = 'close';\n      notice_button.setAttribute('aria-label', 'Close');\n      notice_button.setAttribute('title', core.lang.dialogBox.close);\n      notice_button.innerHTML = core.icons.cancel;\n      notice_div.appendChild(notice_span);\n      notice_div.appendChild(notice_button);\n      context.notice.modal = notice_div;\n      context.notice.message = notice_span;\n      /** add event listeners */\n\n      notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n      /** append html */\n\n      context.element.editorArea.appendChild(notice_div);\n      /** empty memory */\n\n      notice_div = null;\n    },\n\n    /**\r\n     * @description Event when clicking the cancel button\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onClick_cancel: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.notice.close.call(this);\n    },\n\n    /**\r\n     * @description  Open the notice panel\r\n     * @param {String} text Notice message\r\n     */\n    open: function (text) {\n      this.context.notice.message.textContent = text;\n      this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\r\n     * @description  Open the notice panel\r\n     */\n    close: function () {\n      this.context.notice.modal.style.display = 'none';\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description SunEditor constuctor function.\r\n   * create core object and event registration.\r\n   * core, event, functions\r\n   * @param {Object} context\r\n   * @param {Object} pluginCallButtons\r\n   * @param {Object} plugins \r\n   * @param {Object} lang\r\n   * @param {Object} options\r\n   * @param {Object} _responsiveButtons\r\n   * @returns {Object} functions Object\r\n   */\n\n  /* harmony default export */\n\n  var lib_core = function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\n    const _d = context.element.originElement.ownerDocument || document;\n\n    const _w = _d.defaultView || window;\n\n    const util = lib_util;\n    const icons = options.icons;\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\n\n    const core = {\n      _d: _d,\n      _w: _w,\n      _parser: new _w.DOMParser(),\n\n      /**\r\n       * @description Document object of the iframe if created as an iframe || _d\r\n       * @private\r\n       */\n      _wd: null,\n\n      /**\r\n       * @description Window object of the iframe if created as an iframe || _w\r\n       * @private\r\n       */\n      _ww: null,\n\n      /**\r\n       * @description Closest ShadowRoot to editor if found\r\n       * @private\r\n       */\n      _shadowRoot: null,\n\n      /**\r\n       * @description Util object\r\n       */\n      util: util,\n\n      /**\r\n       * @description Functions object\r\n       */\n      functions: null,\n\n      /**\r\n       * @description Notice object\r\n       */\n      notice: _notice,\n\n      /**\r\n       * @description Default icons object\r\n       */\n      icons: icons,\n\n      /**\r\n       * @description History object for undo, redo\r\n       */\n      history: null,\n\n      /**\r\n       * @description Elements and user options parameters of the suneditor\r\n       */\n      context: context,\n\n      /**\r\n       * @description Plugin buttons\r\n       */\n      pluginCallButtons: pluginCallButtons,\n\n      /**\r\n       * @description Loaded plugins\r\n       */\n      plugins: plugins || {},\n\n      /**\r\n       * @description Whether the plugin is initialized\r\n       */\n      initPlugins: {},\n\n      /**\r\n       * @description Object for managing submenu elements\r\n       * @private\r\n       */\n      _targetPlugins: {},\n\n      /**\r\n       * @description Save rendered submenus and containers\r\n       * @private\r\n       */\n      _menuTray: {},\n\n      /**\r\n       * @description loaded language\r\n       */\n      lang: lang,\n\n      /**\r\n       * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n       */\n      effectNode: null,\n\n      /**\r\n       * @description submenu element\r\n       */\n      submenu: null,\n\n      /**\r\n       * @description container element\r\n       */\n      container: null,\n\n      /**\r\n       * @description current subment name\r\n       * @private\r\n       */\n      _submenuName: '',\n\n      /**\r\n       * @description binded submenuOff method\r\n       * @private\r\n       */\n      _bindedSubmenuOff: null,\n\n      /**\r\n       * @description binded containerOff method\r\n       * @private\r\n       */\n      _bindedContainerOff: null,\n\n      /**\r\n       * @description active button element in submenu\r\n       */\n      submenuActiveButton: null,\n\n      /**\r\n       * @description active button element in container\r\n       */\n      containerActiveButton: null,\n\n      /**\r\n       * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n       */\n      controllerArray: [],\n\n      /**\r\n       * @description The name of the plugin that called the currently active controller\r\n       */\n      currentControllerName: '',\n\n      /**\r\n       * @description The target element of current controller\r\n       */\n      currentControllerTarget: null,\n\n      /**\r\n       * @description The file component object of current selected file tag (getFileComponent)\r\n       */\n      currentFileComponentInfo: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n       */\n      codeViewDisabledButtons: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n       */\n      resizingDisabledButtons: null,\n\n      /**\r\n       * @description active more layer element in submenu\r\n       * @private\r\n       */\n      _moreLayerActiveButton: null,\n\n      /**\r\n       * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n       * ^(options._editorTagsWhitelist)$\r\n       * @private\r\n       */\n      _htmlCheckWhitelistRegExp: null,\n\n      /**\r\n       * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n       * @private\r\n       */\n      _disallowedTextTagsRegExp: null,\n\n      /**\r\n       * @description Editor tags whitelist (RegExp object)\r\n       * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n       */\n      editorTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Tag whitelist when pasting (RegExp object)\r\n       * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n       */\n      pasteTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Boolean value of whether the editor has focus\r\n       */\n      hasFocus: false,\n\n      /**\r\n       * @description Boolean value of whether the editor is disabled\r\n       */\n      isDisabled: false,\n\n      /**\r\n       * @description Attributes whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesWhitelistRegExp: null,\n\n      /**\r\n       * @description Attributes of tags whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesTagsWhitelist: null,\n\n      /**\r\n       * @description binded controllersOff method\r\n       * @private\r\n       */\n      _bindControllersOff: null,\n\n      /**\r\n       * @description Is inline mode?\r\n       * @private\r\n       */\n      _isInline: null,\n\n      /**\r\n       * @description Is balloon|balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloon: null,\n\n      /**\r\n       * @description Is balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloonAlways: null,\n\n      /**\r\n       * @description Required value when using inline mode to sticky toolbar\r\n       * @private\r\n       */\n      _inlineToolbarAttr: {\n        top: '',\n        width: '',\n        isShow: false\n      },\n\n      /**\r\n       * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n       * @private\r\n       */\n      _notHideToolbar: false,\n\n      /**\r\n       * @description Variable value that sticky toolbar mode\r\n       * @private\r\n       */\n      _sticky: false,\n\n      /**\r\n       * @description Variables for controlling focus and blur events\r\n       * @private\r\n       */\n      _antiBlur: false,\n\n      /**\r\n       * @description Component line breaker element\r\n       * @private\r\n       */\n      _lineBreaker: null,\n      _lineBreakerButton: null,\n\n      /**\r\n       * @description If true, (initialize, reset) all indexes of image, video information\r\n       * @private\r\n       */\n      _componentsInfoInit: true,\n      _componentsInfoReset: false,\n\n      /**\r\n       * @description Plugins array with \"active\" method.\r\n       * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n       */\n      activePlugins: null,\n\n      /**\r\n       * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n       * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n       * Basic Editor Actions:\r\n       * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n       * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n       * \"managedTagsInfo\" structure ex:\r\n       * managedTagsInfo: {\r\n       *   query: '.__se__xxx, se-xxx'\r\n       *   map: {\r\n       *     '__se__xxx': method.bind(core),\r\n       *     'se-xxx': method.bind(core),\r\n       *   }\r\n       * }\r\n       * @example\r\n       * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n       * managedTagInfo() => {\r\n       *  return {\r\n       *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n       *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n       *    // \"method\" is executed by binding \"core\".\r\n       *    method: function (element) {\r\n       *      // this === core\r\n       *      element.innerHTML = // (rendered html);\r\n       *    }\r\n       *  }\r\n       * }\r\n       */\n      managedTagsInfo: null,\n\n      /**\r\n       * @description cashing: options.charCounterType === 'byte-html'\r\n       * @private\r\n       */\n      _charTypeHTML: false,\n\n      /**\r\n       * @description Array of \"checkFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n       * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n       * @private\r\n       */\n      _fileInfoPluginsCheck: null,\n\n      /**\r\n       * @description Array of \"resetFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n       * @private\r\n       */\n      _fileInfoPluginsReset: null,\n\n      /**\r\n       * @description Variables for file component management\r\n       * @private\r\n       */\n      _fileManager: {\n        tags: null,\n        regExp: null,\n        queryString: null,\n        pluginRegExp: null,\n        pluginMap: null\n      },\n\n      /**\r\n       * @description Elements that need to change text or className for each selection change\r\n       * After creating the editor, \"activePlugins\" are added.\r\n       * @property {Element} STRONG bold button\r\n       * @property {Element} U underline button\r\n       * @property {Element} EM italic button\r\n       * @property {Element} DEL strike button\r\n       * @property {Element} SUB subscript button\r\n       * @property {Element} SUP superscript button\r\n       * @property {Element} OUTDENT outdent button\r\n       * @property {Element} INDENT indent button\r\n       */\n      commandMap: null,\n\n      /**\r\n       * @description Style button related to edit area\r\n       * @property {Element} fullScreen fullScreen button element\r\n       * @property {Element} showBlocks showBlocks button element\r\n       * @property {Element} codeView codeView button element\r\n       * @private\r\n       */\n      _styleCommandMap: null,\n\n      /**\r\n       * @description Map of default command\r\n       * @private\r\n       */\n      _defaultCommand: {\n        bold: 'STRONG',\n        underline: 'U',\n        italic: 'EM',\n        strike: 'DEL',\n        subscript: 'SUB',\n        superscript: 'SUP'\n      },\n\n      /**\r\n       * @description Variables used internally in editor operation\r\n       * @property {Boolean} isCodeView State of code view\r\n       * @property {Boolean} isFullScreen State of full screen\r\n       * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n       * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n       * @property {Number} tabSize Indent size of tab (4)\r\n       * @property {Number} codeIndent Indent size of Code view mode (4)\r\n       * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n       * @property {Array} currentNodes  An array of the current cursor's node structure\r\n       * @private\r\n       */\n      _variable: {\n        isCodeView: false,\n        isFullScreen: false,\n        innerHeight_fullScreen: 0,\n        resizeClientY: 0,\n        tabSize: 4,\n        codeIndent: 4,\n        minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || '65', 0),\n        currentNodes: [],\n        currentNodesMap: [],\n        _range: null,\n        _selectionNode: null,\n        _originCssText: context.element.topArea.style.cssText,\n        _bodyOverflow: '',\n        _editorAreaOriginCssText: '',\n        _wysiwygOriginCssText: '',\n        _codeOriginCssText: '',\n        _fullScreenAttrs: {\n          sticky: false,\n          balloon: false,\n          inline: false\n        },\n        _lineBreakComp: null,\n        _lineBreakDir: ''\n      },\n\n      /**\r\n       * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n       * If the plugin is added call callBack function.\r\n       * @param {String} pluginName The name of the plugin to call\r\n       * @param {function} callBackFunction Function to be executed immediately after module call\r\n       * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n       */\n      callPlugin: function (pluginName, callBackFunction, _target) {\n        _target = _target || pluginCallButtons[pluginName];\n\n        if (!this.plugins[pluginName]) {\n          throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n        } else if (!this.initPlugins[pluginName]) {\n          this.plugins[pluginName].add(this, _target);\n          this.initPlugins[pluginName] = true;\n        } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\n          this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n        }\n\n        if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n          this.commandMap[pluginName] = _target;\n          this.activePlugins.push(pluginName);\n        }\n\n        if (typeof callBackFunction === 'function') callBackFunction();\n      },\n\n      /**\r\n       * @description If the module is not added, add the module and call the 'add' function\r\n       * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n       */\n      addModule: function (moduleArray) {\n        for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n          moduleName = moduleArray[i].name;\n\n          if (!this.plugins[moduleName]) {\n            this.plugins[moduleName] = moduleArray[i];\n          }\n\n          if (!this.initPlugins[moduleName]) {\n            this.initPlugins[moduleName] = true;\n            if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\n          }\n        }\n      },\n\n      /**\r\n       * @description Method for managing submenu element.\r\n       * You must add the \"submenu\" element using the this method at custom plugin.\r\n       * @param {String} pluginName Plugin name\r\n       * @param {Element|null} target Target button\r\n       * @param {Element} menu Submenu element\r\n       */\n      initMenuTarget: function (pluginName, target, menu) {\n        if (!target) {\n          this._targetPlugins[pluginName] = menu;\n        } else {\n          context.element._menuTray.appendChild(menu);\n\n          this._targetPlugins[pluginName] = true;\n          this._menuTray[target.getAttribute('data-command')] = menu;\n        }\n      },\n\n      /**\r\n       * @description Enabled submenu\r\n       * @param {Element} element Submenu's button element to call\r\n       */\n      submenuOn: function (element) {\n        if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n        if (this._bindControllersOff) this.controllersOff();\n        const submenuName = this._submenuName = element.getAttribute('data-command');\n        const menu = this.submenu = this._menuTray[submenuName];\n        this.submenuActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedSubmenuOff = this.submenuOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\n        if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable submenu\r\n       */\n      submenuOff: function () {\n        this.removeDocEvent('mousedown', this._bindedSubmenuOff);\n        this._bindedSubmenuOff = null;\n\n        if (this.submenu) {\n          this._submenuName = '';\n          this.submenu.style.display = 'none';\n          this.submenu = null;\n          util.removeClass(this.submenuActiveButton, 'on');\n          this.submenuActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Enabled container\r\n       * @param {Element} element Container's button element to call\r\n       */\n      containerOn: function (element) {\n        if (this._bindedContainerOff) this._bindedContainerOff();\n        const containerName = this._containerName = element.getAttribute('data-command');\n        const menu = this.container = this._menuTray[containerName];\n        this.containerActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedContainerOff = this.containerOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedContainerOff, false);\n        if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable container\r\n       */\n      containerOff: function () {\n        this.removeDocEvent('mousedown', this._bindedContainerOff);\n        this._bindedContainerOff = null;\n\n        if (this.container) {\n          this._containerName = '';\n          this.container.style.display = 'none';\n          this.container = null;\n          util.removeClass(this.containerActiveButton, 'on');\n          this.containerActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Set the menu position. (submenu, container)\r\n       * @param {*} element Button element\r\n       * @param {*} menu Menu element\r\n       * @private\r\n       */\n      _setMenuPosition: function (element, menu) {\n        menu.style.top = '-10000px';\n        menu.style.visibility = 'hidden';\n        menu.style.display = 'block';\n        menu.style.height = '';\n        util.addClass(element, 'on');\n        const toolbar = this.context.element.toolbar;\n        const toolbarW = toolbar.offsetWidth;\n        const menuW = menu.offsetWidth;\n        const l = element.parentElement.offsetLeft + 3;\n        const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\n        if (overLeft < 0) menu.style.left = l + overLeft + 'px';else menu.style.left = l + 'px'; // get element top\n\n        let t = 0;\n        let offsetEl = element;\n\n        while (offsetEl && offsetEl !== toolbar) {\n          t += offsetEl.offsetTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        const bt = t;\n\n        if (this._isBalloon) {\n          t += toolbar.offsetTop + element.offsetHeight;\n        } else {\n          t -= element.offsetHeight;\n        } // set menu position\n\n\n        const toolbarTop = event._getEditorOffsets(context.element.toolbar).top;\n\n        let menuHeight = menu.offsetHeight;\n        let el = context.element.topArea;\n        let scrollTop = 0;\n\n        while (!!el) {\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        }\n\n        const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\n\n        if (menuHeight_bottom < menuHeight) {\n          let menuTop = -1 * (menuHeight - bt + 3);\n          const insTop = toolbarTop - scrollTop + menuTop;\n          const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\n\n          if (menuHeight_top > menuHeight_bottom) {\n            menu.style.height = menuHeight_top + 'px';\n            menuTop = -1 * (menuHeight_top - bt + 3);\n          } else {\n            menu.style.height = menuHeight_bottom + 'px';\n            menuTop = bt + element.parentElement.offsetHeight;\n          }\n\n          menu.style.top = menuTop + 'px';\n        } else {\n          menu.style.top = bt + element.parentElement.offsetHeight + 'px';\n        }\n\n        menu.style.visibility = '';\n      },\n\n      /**\r\n       * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n       * @param {*} arguments controller elements, functions..\r\n       */\n      controllersOn: function () {\n        if (this._bindControllersOff) this._bindControllersOff();\n        this.controllerArray = [];\n\n        for (let i = 0, arg; i < arguments.length; i++) {\n          arg = arguments[i];\n          if (!arg) continue;\n\n          if (typeof arg === 'string') {\n            this.currentControllerName = arg;\n            continue;\n          }\n\n          if (typeof arg === 'function') {\n            this.controllerArray.push(arg);\n            continue;\n          }\n\n          if (!util.hasClass(arg, 'se-controller')) {\n            this.currentControllerTarget = arg;\n            this.currentFileComponentInfo = this.getFileComponent(arg);\n            continue;\n          }\n\n          if (arg.style) arg.style.display = 'block';\n          this.controllerArray.push(arg);\n        }\n\n        this._bindControllersOff = this.controllersOff.bind(this);\n        this.addDocEvent('mousedown', this._bindControllersOff, false);\n        this.addDocEvent('keydown', this._bindControllersOff, false);\n        this._antiBlur = true;\n        if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\n      },\n\n      /**\r\n       * @description Hide controller at editor area (link button, image resize button..)\r\n       * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n       */\n      controllersOff: function (e) {\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\n        context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\n        this._variable._lineBreakComp = null;\n        this.currentControllerName = '';\n        this.currentControllerTarget = null;\n        this.currentFileComponentInfo = null;\n        this.effectNode = null;\n        if (!this._bindControllersOff) return;\n        this.removeDocEvent('mousedown', this._bindControllersOff);\n        this.removeDocEvent('keydown', this._bindControllersOff);\n        this._bindControllersOff = null;\n        const len = this.controllerArray.length;\n\n        if (len > 0) {\n          for (let i = 0; i < len; i++) {\n            if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();else this.controllerArray[i].style.display = 'none';\n          }\n\n          this.controllerArray = [];\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Run event.stopPropagation and event.preventDefault.\r\n       * @param {Object} e Event Object\r\n       */\n      eventStop: function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      },\n\n      /**\r\n       * @description javascript execCommand\r\n       * @param {String} command javascript execCommand function property\r\n       * @param {Boolean} showDefaultUI javascript execCommand function property\r\n       * @param {String} value javascript execCommand function property\r\n       */\n      execCommand: function (command, showDefaultUI, value) {\n        this._wd.execCommand(command, showDefaultUI, command === 'formatBlock' ? '<' + value + '>' : value); // history stack\n\n\n        this.history.push(true);\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area using \"native focus function\"\r\n       */\n      nativeFocus: function () {\n        const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\n\n        if (caption) {\n          caption.focus();\n        } else {\n          context.element.wysiwyg.focus();\n        }\n\n        this._editorRange();\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area\r\n       */\n      focus: function () {\n        if (context.element.wysiwygFrame.style.display === 'none') return;\n\n        if (options.iframe) {\n          this.nativeFocus();\n        } else {\n          try {\n            const range = this.getRange();\n\n            if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n              const format = util.createElement('P');\n              const br = util.createElement('BR');\n              format.appendChild(br);\n              context.element.wysiwyg.appendChild(format);\n              this.setRange(br, 0, br, 0);\n            } else {\n              this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n            }\n          } catch (e) {\n            this.nativeFocus();\n          }\n        }\n\n        event._applyTagEffects();\n\n        if (this._isBalloon) event._toggleToolbarBalloon();\n      },\n\n      /**\r\n       * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n       * If \"focusEdge\" is null, then selected last element\r\n       * @param {Element|null} focusEl Focus element\r\n       */\n      focusEdge: function (focusEl) {\n        if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n        const fileComponentInfo = this.getFileComponent(focusEl);\n\n        if (fileComponentInfo) {\n          this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        } else if (focusEl) {\n          focusEl = util.getChildElement(focusEl, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true);\n          if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n        } else {\n          this.focus();\n        }\n      },\n\n      /**\r\n       * @description Set current editor's range object and return.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @returns {Object} Range object.\r\n       */\n      setRange: function (startCon, startOff, endCon, endOff) {\n        if (!startCon || !endCon) return;\n        if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n        if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n        const range = this._wd.createRange();\n\n        try {\n          range.setStart(startCon, startOff);\n          range.setEnd(endCon, endOff);\n        } catch (error) {\n          console.warn('[SUNEDITOR.core.focus.error] ' + error);\n          this.nativeFocus();\n          return;\n        }\n\n        const selection = this.getSelection();\n\n        if (selection.removeAllRanges) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(range);\n\n        this._editorRange();\n\n        if (options.iframe) this.nativeFocus();\n        return range;\n      },\n\n      /**\r\n       * @description Remove range object and button effect\r\n       */\n      removeRange: function () {\n        this._variable._range = null;\n        this._variable._selectionNode = null;\n        this.getSelection().removeAllRanges();\n        const commandMap = this.commandMap;\n        const activePlugins = this.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(this, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n      },\n\n      /**\r\n       * @description Get current editor's range object\r\n       * @returns {Object}\r\n       */\n      getRange: function () {\n        const range = this._variable._range || this._createDefaultRange();\n\n        const selection = this.getSelection();\n        if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\n\n        if (selection.rangeCount > 0) {\n          this._variable._range = selection.getRangeAt(0);\n          return this._variable._range;\n        } else {\n          const sc = selection.anchorNode,\n                ec = selection.focusNode,\n                so = selection.anchorOffset,\n                eo = selection.focusOffset;\n          const compareValue = util.compareElements(sc, ec);\n          const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\n          return this.setRange(rightDir ? sc : ec, rightDir ? so : eo, rightDir ? ec : sc, rightDir ? eo : so);\n        }\n      },\n\n      /**\r\n       * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n       * Returns a new \"range\" or argument \"range\".\r\n       * @param {Object} range core.getRange()\r\n       * @returns {Object} range\r\n       */\n      getRange_addLine: function (range) {\n        if (this._selectionVoid(range)) {\n          const wysiwyg = context.element.wysiwyg;\n          const op = util.createElement('P');\n          op.innerHTML = '<br>';\n          wysiwyg.insertBefore(op, wysiwyg.firstElementChild);\n          this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\n          range = this._variable._range;\n        }\n\n        return range;\n      },\n\n      /**\r\n       * @description Get window selection obejct\r\n       * @returns {Object}\r\n       */\n      getSelection: function () {\n        return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\n      },\n\n      /**\r\n       * @description Get current select node\r\n       * @returns {Node}\r\n       */\n      getSelectionNode: function () {\n        if (util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\n\n        if (!this._variable._selectionNode) {\n          const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, false);\n\n          if (!selectionNode) {\n            this._editorRange();\n          } else {\n            this._variable._selectionNode = selectionNode;\n            return selectionNode;\n          }\n        }\n\n        return this._variable._selectionNode;\n      },\n\n      /**\r\n       * @description Saving the range object and the currently selected node of editor\r\n       * @private\r\n       */\n      _editorRange: function () {\n        const selection = this.getSelection();\n        if (!selection) return null;\n        let range = null;\n        let selectionNode = null;\n\n        if (selection.rangeCount > 0) {\n          range = selection.getRangeAt(0);\n        } else {\n          range = this._createDefaultRange();\n        }\n\n        this._variable._range = range;\n\n        if (range.collapsed) {\n          selectionNode = range.commonAncestorContainer;\n        } else {\n          selectionNode = selection.extentNode || selection.anchorNode;\n        }\n\n        this._variable._selectionNode = selectionNode;\n      },\n\n      /**\r\n       * @description Return the range object of editor's first child node\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _createDefaultRange: function () {\n        const wysiwyg = context.element.wysiwyg;\n        wysiwyg.focus();\n\n        const range = this._wd.createRange();\n\n        let focusEl = wysiwyg.firstElementChild;\n\n        if (!focusEl) {\n          focusEl = util.createElement('P');\n          focusEl.innerHTML = '<br>';\n          wysiwyg.appendChild(focusEl);\n        }\n\n        range.setStart(focusEl, 0);\n        range.setEnd(focusEl, 0);\n        return range;\n      },\n\n      /**\r\n       * @description Returns true if there is no valid \"selection\".\r\n       * @param {Object} range core.getRange()\r\n       * @returns {Object} range\r\n       * @private\r\n       */\n      _selectionVoid: function (range) {\n        const comm = range.commonAncestorContainer;\n        return util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\n      },\n\n      /**\r\n       * @description Reset range object to text node selected status.\r\n       * @returns {Boolean} Returns false if there is no valid selection.\r\n       * @private\r\n       */\n      _resetRangeToTextNode: function () {\n        const range = this.getRange();\n        if (this._selectionVoid(range)) return false;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n        let tempCon, tempOffset, tempChild;\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.lastChild;\n          startOff = startCon.textContent.length;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        } // startContainer\n\n\n        tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n        tempOffset = startOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n              tempOffset = 0;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : 'P');\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n\n            if (onlyBreak) {\n              if (startCon === endCon) {\n                endCon = tempCon;\n                endOff = 1;\n              }\n            }\n          }\n        } // set startContainer\n\n\n        startCon = tempCon;\n        startOff = tempOffset; // endContainer\n\n        tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n        tempOffset = endOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempChild = tempCon.childNodes;\n              if (tempChild.length === 0) break;\n              tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n              tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.isCell(format) ? 'DIV' : 'P');\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n            tempOffset = 1;\n\n            if (onlyBreak && !tempCon.previousSibling) {\n              util.removeItem(endCon);\n            }\n          }\n        } // set endContainer\n\n\n        endCon = tempCon;\n        endOff = tempOffset; // set Range\n\n        this.setRange(startCon, startOff, endCon, endOff);\n        return true;\n      },\n\n      /**\r\n       * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n       * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n       * @returns {Array}\r\n       */\n      getSelectedElements: function (validation) {\n        if (!this._resetRangeToTextNode()) return [];\n        let range = this.getRange();\n\n        if (util.isWysiwygDiv(range.startContainer)) {\n          const children = context.element.wysiwyg.children;\n          if (children.length === 0) return [];\n          this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n          range = this.getRange();\n        }\n\n        const startCon = range.startContainer;\n        const endCon = range.endContainer;\n        const commonCon = range.commonAncestorContainer; // get line nodes\n\n        const lineNodes = util.getListChildren(commonCon, function (current) {\n          return validation ? validation(current) : util.isFormatElement(current);\n        });\n        if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n        if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n        let startLine = util.getFormatElement(startCon, null);\n        let endLine = util.getFormatElement(endCon, null);\n        let startIdx = null;\n        let endIdx = null;\n\n        const onlyTable = function (current) {\n          return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n        };\n\n        let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n        let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n        if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n        if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n        const sameRange = startRangeEl === endRangeEl;\n\n        for (let i = 0, len = lineNodes.length, line; i < len; i++) {\n          line = lineNodes[i];\n\n          if (startLine === line || !sameRange && line === startRangeEl) {\n            startIdx = i;\n            continue;\n          }\n\n          if (endLine === line || !sameRange && line === endRangeEl) {\n            endIdx = i;\n            break;\n          }\n        }\n\n        if (startIdx === null) startIdx = 0;\n        if (endIdx === null) endIdx = lineNodes.length - 1;\n        return lineNodes.slice(startIdx, endIdx + 1);\n      },\n\n      /**\r\n       * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n       * If some of the component are included in the selection, get the entire that component.\r\n       * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n       * @returns {Array}\r\n       */\n      getSelectedElementsAndComponents: function (removeDuplicate) {\n        const commonCon = this.getRange().commonAncestorContainer;\n        const myComponent = util.getParentElement(commonCon, util.isComponent);\n        const selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n          const component = this.getParentElement(current, this.isComponent);\n          return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n        }.bind(util));\n\n        if (removeDuplicate) {\n          for (let i = 0, len = selectedLines.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedLines[j].contains(selectedLines[i])) {\n                selectedLines.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        return selectedLines;\n      },\n\n      /**\r\n       * @description Determine if this offset is the edge offset of container\r\n       * @param {Node} container The node of the selection object. (range.startContainer..)\r\n       * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n       * @returns {Boolean}\r\n       */\n      isEdgePoint: function (container, offset) {\n        return offset === 0 || !container.nodeValue && offset === 1 || offset === container.nodeValue.length;\n      },\n\n      /**\r\n       * @description Show loading box\r\n       */\n      showLoading: function () {\n        context.element.loading.style.display = 'block';\n      },\n\n      /**\r\n       * @description Close loading box\r\n       */\n      closeLoading: function () {\n        context.element.loading.style.display = 'none';\n      },\n\n      /**\r\n       * @description Append format element to sibling node of argument element.\r\n       * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n       * If not, the currently selected format tag is inserted.\r\n       * @param {Element} element Insert as siblings of that element\r\n       * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n       * @returns {Element}\r\n       */\n      appendFormatTag: function (element, formatNode) {\n        const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n        const oFormatName = formatNode ? typeof formatNode === 'string' ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : 'P';\n        const oFormat = util.createElement(oFormatName);\n        oFormat.innerHTML = '<br>';\n\n        if (formatNode && typeof formatNode !== 'string' || !formatNode && util.isFormatElement(currentFormatEl)) {\n          util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n        }\n\n        if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n        return oFormat;\n      },\n\n      /**\r\n       * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n       * If \"element\" is \"HR\", insert and return the new line.\r\n       * @param {Element} element Element to be inserted\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n       * @returns {Element}\r\n       */\n      insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\n        if (checkCharCount && !this.checkCharCount(element, null)) {\n          return null;\n        }\n\n        const r = this.removeNode();\n        this.getRange_addLine(this.getRange());\n        let oNode = null;\n        let selectionNode = this.getSelectionNode();\n        let formatEl = util.getFormatElement(selectionNode, null);\n\n        if (util.isListCell(formatEl)) {\n          this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\n          if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\n        } else {\n          if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n            const depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current);\n            }.bind(util));\n            oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (oNode) formatEl = oNode.previousSibling;\n          }\n\n          this.insertNode(element, formatEl, false);\n          if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\n        }\n\n        if (!notSelect) {\n          const fileComponentInfo = this.getFileComponent(element);\n\n          if (fileComponentInfo) {\n            this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          } else if (oNode) {\n            oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\n            this.setRange(oNode, 0, oNode, 0);\n          }\n        } // history stack\n\n\n        if (!notHistoryPush) this.history.push(1);\n        return oNode || element;\n      },\n\n      /**\r\n       * @description Gets the file component and that plugin name\r\n       * return: {target, component, pluginName} | null\r\n       * @param {Element} element Target element (figure tag, component div, file tag)\r\n       * @returns {Object|null}\r\n       */\n      getFileComponent: function (element) {\n        if (!this._fileManager.queryString || !element) return null;\n        let target, pluginName;\n\n        if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\n          target = element.querySelector(this._fileManager.queryString);\n        }\n\n        if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\n          target = element;\n        }\n\n        if (target) {\n          pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\n\n          if (pluginName) {\n            return {\n              target: target,\n              component: util.getParentElement(target, util.isComponent),\n              pluginName: pluginName\n            };\n          }\n        }\n\n        return null;\n      },\n\n      /**\r\n       * @description The component(image, video) is selected and the resizing module is called.\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @param {String} pluginName Plugin name (image, video)\r\n       */\n      selectComponent: function (element, pluginName) {\n        if (!this.hasFocus) this.focus();\n        const plugin = this.plugins[pluginName];\n        if (!plugin) return;\n\n        _w.setTimeout(function () {\n          if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\n\n          this._setComponentLineBreaker(element);\n        }.bind(this));\n      },\n\n      /**\r\n       * @description Set line breaker of component\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @private\r\n       */\n      _setComponentLineBreaker: function (element) {\n        // line breaker\n        this._lineBreaker.style.display = 'none';\n        const container = util.getParentElement(element, util.isComponent);\n        const t_style = context.element.lineBreaker_t.style;\n        const b_style = context.element.lineBreaker_b.style;\n        const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\n        const isList = util.isListCell(container.parentNode);\n        let componentTop, wScroll, w; // top\n\n        if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\n          this._variable._lineBreakComp = container;\n          wScroll = context.element.wysiwyg.scrollTop;\n          componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n          w = target.offsetWidth / 2 / 2;\n          t_style.top = componentTop - wScroll - 12 + 'px';\n          t_style.left = util.getOffset(target).left + w + 'px';\n          t_style.display = 'block';\n        } else {\n          t_style.display = 'none';\n        } // bottom\n\n\n        if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\n          if (!componentTop) {\n            this._variable._lineBreakComp = container;\n            wScroll = context.element.wysiwyg.scrollTop;\n            componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n            w = target.offsetWidth / 2 / 2;\n          }\n\n          b_style.top = componentTop + target.offsetHeight - wScroll - 12 + 'px';\n          b_style.left = util.getOffset(target).left + target.offsetWidth - w - 24 + 'px';\n          b_style.display = 'block';\n        } else {\n          b_style.display = 'none';\n        }\n      },\n\n      /**\r\n       * @description Delete selected node and insert argument value node and return.\r\n       * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n       * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n       * @param {Node} oNode Element to be inserted\r\n       * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @returns {Object|Node|null}\r\n       */\n      insertNode: function (oNode, afterNode, checkCharCount) {\n        if (checkCharCount && !this.checkCharCount(oNode, null)) {\n          return null;\n        }\n\n        const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\n        const isFormats = !freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) || util.isComponent(oNode);\n\n        if (!afterNode && isFormats) {\n          const r = this.removeNode();\n\n          if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n            const depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current) || this.isListCell(current);\n            }.bind(util));\n            afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (afterNode) afterNode = afterNode.previousSibling;\n          }\n        }\n\n        const range = !afterNode && !isFormats ? this.getRange_addLine(this.getRange()) : this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startOff = range.startOffset;\n        const endOff = range.endOffset;\n        const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\n        const startCon = formatRange ? commonCon.childNodes[startOff] : range.startContainer;\n        const endCon = formatRange ? commonCon.childNodes[endOff] : range.endContainer;\n        let parentNode,\n            originAfter = null;\n\n        if (!afterNode) {\n          parentNode = startCon;\n\n          if (startCon.nodeType === 3) {\n            parentNode = startCon.parentNode;\n          }\n          /** No Select range node */\n\n\n          if (range.collapsed) {\n            if (commonCon.nodeType === 3) {\n              if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n            } else {\n              if (!util.isBreak(parentNode)) {\n                let c = parentNode.childNodes[startOff];\n                const focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n                if (focusNode) {\n                  if (!focusNode.nextSibling) {\n                    parentNode.removeChild(focusNode);\n                    afterNode = null;\n                  } else {\n                    afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                afterNode = parentNode;\n                parentNode = parentNode.parentNode;\n              }\n            }\n          } else {\n            /** Select range nodes */\n            const isSameContainer = startCon === endCon;\n\n            if (isSameContainer) {\n              if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n              let removeNode = startCon;\n              if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n              parentNode.removeChild(removeNode);\n\n              if (parentNode.childNodes.length === 0 && isFormats) {\n                parentNode.innerHTML = '<br>';\n              }\n            } else {\n              const removedTag = this.removeNode();\n              const container = removedTag.container;\n              const prevContainer = removedTag.prevContainer;\n\n              if (container && container.childNodes.length === 0 && isFormats) {\n                if (util.isFormatElement(container)) {\n                  container.innerHTML = '<br>';\n                } else if (util.isRangeFormatElement(container)) {\n                  container.innerHTML = '<p><br></p>';\n                }\n              }\n\n              if (!isFormats && prevContainer) {\n                parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n                if (parentNode.contains(container)) {\n                  afterNode = container;\n\n                  while (afterNode.parentNode === parentNode) {\n                    afterNode = afterNode.parentNode;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                parentNode = isFormats ? commonCon : container;\n                afterNode = isFormats ? endCon : null;\n              }\n\n              while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\n                afterNode = afterNode.parentNode;\n              }\n            }\n          }\n        } // has afterNode\n        else {\n            parentNode = afterNode.parentNode;\n            afterNode = afterNode.nextSibling;\n            originAfter = true;\n          } // --- insert node ---\n\n\n        try {\n          if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n            const oldParent = parentNode;\n\n            if (util.isList(afterNode)) {\n              parentNode = afterNode;\n              afterNode = null;\n            } else if (util.isListCell(afterNode)) {\n              parentNode = afterNode.previousElementSibling || afterNode;\n            } else if (!originAfter && !afterNode) {\n              const r = this.removeNode();\n              const container = r.container.nodeType === 3 ? util.isListCell(util.getFormatElement(r.container, null)) ? r.container : util.getFormatElement(r.container, null) || r.container.parentNode : r.container;\n              const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\n              parentNode = rangeCon ? container : container.parentNode;\n              afterNode = rangeCon ? null : container.nextSibling;\n            }\n\n            if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n          }\n\n          if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n            afterNode = parentNode.nextElementSibling;\n            parentNode = parentNode.parentNode;\n          }\n\n          parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\n        } catch (e) {\n          parentNode.appendChild(oNode);\n        } finally {\n          if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\n            oNode = this._setIntoFreeFormat(oNode);\n          }\n\n          if (!util.isComponent(oNode)) {\n            let offset = 1;\n\n            if (oNode.nodeType === 3) {\n              const previous = oNode.previousSibling;\n              const next = oNode.nextSibling;\n              const previousText = !previous || previous.nodeType === 1 || util.onlyZeroWidthSpace(previous) ? '' : previous.textContent;\n              const nextText = !next || next.nodeType === 1 || util.onlyZeroWidthSpace(next) ? '' : next.textContent;\n\n              if (previous && previousText.length > 0) {\n                oNode.textContent = previousText + oNode.textContent;\n                util.removeItem(previous);\n              }\n\n              if (next && next.length > 0) {\n                oNode.textContent += nextText;\n                util.removeItem(next);\n              }\n\n              const newRange = {\n                container: oNode,\n                startOffset: previousText.length,\n                endOffset: oNode.textContent.length - nextText.length\n              };\n              this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\n              return newRange;\n            } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n              let zeroWidth = null;\n\n              if (!oNode.previousSibling) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.insertBefore(zeroWidth, oNode);\n              }\n\n              if (!oNode.nextSibling) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.appendChild(zeroWidth);\n              }\n\n              if (util._isIgnoreNodeChange(oNode)) {\n                oNode = oNode.nextSibling;\n                offset = 0;\n              }\n            }\n\n            this.setRange(oNode, offset, oNode, offset);\n          } // history stack\n\n\n          this.history.push(true);\n          return oNode;\n        }\n      },\n      _setIntoFreeFormat: function (oNode) {\n        const parentNode = oNode.parentNode;\n        let oNodeChildren, lastONode;\n\n        while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\n          oNodeChildren = oNode.childNodes;\n          lastONode = null;\n\n          while (oNodeChildren[0]) {\n            lastONode = oNodeChildren[0];\n\n            if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\n              this._setIntoFreeFormat(lastONode);\n\n              if (!oNode.parentNode) break;\n              oNodeChildren = oNode.childNodes;\n              continue;\n            }\n\n            parentNode.insertBefore(lastONode, oNode);\n          }\n\n          if (oNode.childNodes.length === 0) util.removeItem(oNode);\n          oNode = util.createElement('BR');\n          parentNode.insertBefore(oNode, lastONode.nextSibling);\n        }\n\n        return oNode;\n      },\n\n      /**\r\n       * @description Delete the currently selected nodes and reset selection range\r\n       * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n       * @returns {Object}\r\n       */\n      removeNode: function () {\n        if (!this._resetRangeToTextNode()) console.warn('[SUNEDITOR.core.removeNode.exception] An exception occurred while resetting the \"Range\" object.');\n        const range = this.getRange();\n        let container,\n            offset = 0;\n        let startCon = range.startContainer;\n        let endCon = range.endContainer;\n        const startOff = range.startOffset;\n        const endOff = range.endOffset;\n        const commonCon = range.commonAncestorContainer;\n        let beforeNode = null;\n        let afterNode = null;\n        const childNodes = util.getListChildNodes(commonCon, null);\n        let startIndex = util.getArrayIndex(childNodes, startCon);\n        let endIndex = util.getArrayIndex(childNodes, endCon);\n\n        if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n          for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n            if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n              startIndex = i;\n              startNode = startNode.parentNode;\n            }\n          }\n\n          for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\n            if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\n              childNodes.splice(i, 1);\n              endNode = endNode.parentNode;\n              --endIndex;\n            }\n          }\n        } else {\n          if (childNodes.length === 0) {\n            if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n              return {\n                container: commonCon,\n                offset: 0\n              };\n            }\n\n            childNodes.push(commonCon);\n            startCon = endCon = commonCon;\n          } else {\n            startCon = endCon = childNodes[0];\n\n            if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\n              return {\n                container: startCon,\n                offset: 0\n              };\n            }\n          }\n\n          startIndex = endIndex = 0;\n        }\n\n        function remove(item) {\n          const format = util.getFormatElement(item, null);\n          util.removeItem(item);\n\n          if (util.isListCell(format)) {\n            const list = util.getArrayItem(format.children, util.isList, false);\n\n            if (list) {\n              const child = list.firstElementChild;\n              const children = child.childNodes;\n\n              while (children[0]) {\n                format.insertBefore(children[0], list);\n              }\n\n              util.removeItemAllParents(child, null, null);\n            }\n          }\n        }\n\n        for (let i = startIndex; i <= endIndex; i++) {\n          const item = childNodes[i];\n\n          if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n            remove(item);\n            continue;\n          }\n\n          if (item === startCon) {\n            if (startCon.nodeType === 1) {\n              beforeNode = util.createTextNode(startCon.textContent);\n            } else {\n              if (item === endCon) {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n                offset = startOff;\n              } else {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n              }\n            }\n\n            if (beforeNode.length > 0) {\n              startCon.data = beforeNode.data;\n            } else {\n              remove(startCon);\n            }\n\n            if (item === endCon) break;\n            continue;\n          }\n\n          if (item === endCon) {\n            if (endCon.nodeType === 1) {\n              afterNode = util.createTextNode(endCon.textContent);\n            } else {\n              afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n            }\n\n            if (afterNode.length > 0) {\n              endCon.data = afterNode.data;\n            } else {\n              remove(endCon);\n            }\n\n            continue;\n          }\n\n          remove(item);\n        }\n\n        container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n        if (!util.isWysiwygDiv(container)) {\n          const rc = util.removeItemAllParents(container, function (current) {\n            if (this.isComponent(current)) return false;\n            const text = current.textContent;\n            return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n          }.bind(util), null);\n          if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n        } // set range\n\n\n        this.setRange(container, offset, container, offset); // history stack\n\n        this.history.push(true);\n        return {\n          container: container,\n          offset: offset,\n          prevContainer: startCon && startCon.parentNode ? startCon : null\n        };\n      },\n\n      /**\r\n       * @description Appended all selected format Element to the argument element and insert\r\n       * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n       */\n      applyRangeFormatElement: function (rangeElement) {\n        this.getRange_addLine(this.getRange());\n        const rangeLines = this.getSelectedElementsAndComponents(false);\n        if (!rangeLines || rangeLines.length === 0) return;\n\n        linesLoop: for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n          line = rangeLines[i];\n          if (!util.isListCell(line)) continue;\n          nested = line.lastElementChild;\n\n          if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n            lEl = nested.lastElementChild;\n\n            if (rangeLines.indexOf(lEl) > -1) {\n              let list = null;\n\n              while (list = lEl.lastElementChild) {\n                if (util.isList(list)) {\n                  if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                    lEl = list.lastElementChild;\n                  } else {\n                    continue linesLoop;\n                  }\n                }\n              }\n\n              fEl = nested.firstElementChild;\n              f = rangeLines.indexOf(fEl);\n              l = rangeLines.indexOf(lEl);\n              rangeLines.splice(f, l - f + 1);\n              len = rangeLines.length;\n              continue;\n            }\n          }\n        }\n\n        let last = rangeLines[rangeLines.length - 1];\n        let standTag, beforeTag, pElement;\n\n        if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n          standTag = last;\n        } else {\n          standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n        }\n\n        if (util.isCell(standTag)) {\n          beforeTag = null;\n          pElement = standTag;\n        } else {\n          beforeTag = standTag.nextSibling;\n          pElement = standTag.parentNode;\n        }\n\n        let parentDepth = util.getElementDepth(standTag);\n        let listParent = null;\n        const lineArr = [];\n\n        const removeItems = function (parent, origin, before) {\n          let cc = null;\n\n          if (parent !== origin && !util.isTable(origin)) {\n            if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n            cc = util.removeItemAllParents(origin, null, parent);\n          }\n\n          return cc ? cc.ec : before;\n        };\n\n        for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\n          line = rangeLines[i];\n          originParent = line.parentNode;\n          if (!originParent || rangeElement.contains(originParent)) continue;\n          depth = util.getElementDepth(line);\n\n          if (util.isList(originParent)) {\n            if (listParent === null) {\n              if (nextList) {\n                listParent = nextList;\n                nested = true;\n                nextList = null;\n              } else {\n                listParent = originParent.cloneNode(false);\n              }\n            }\n\n            lineArr.push(line);\n            nextLine = rangeLines[i + 1];\n\n            if (i === len - 1 || nextLine && nextLine.parentNode !== originParent) {\n              // nested list\n              if (nextLine && line.contains(nextLine.parentNode)) {\n                nextList = nextLine.parentNode.cloneNode(false);\n              }\n\n              let list = originParent.parentNode,\n                  p;\n\n              while (util.isList(list)) {\n                p = util.createElement(list.nodeName);\n                p.appendChild(listParent);\n                listParent = p;\n                list = list.parentNode;\n              }\n\n              const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n              if (parentDepth >= depth) {\n                parentDepth = depth;\n                pElement = edge.cc;\n                beforeTag = removeItems(pElement, originParent, edge.ec);\n                if (beforeTag) pElement = beforeTag.parentNode;\n              } else if (pElement === edge.cc) {\n                beforeTag = edge.ec;\n              }\n\n              if (pElement !== edge.cc) {\n                before = removeItems(pElement, edge.cc, before);\n                if (before !== undefined) beforeTag = before;else beforeTag = edge.cc;\n              }\n\n              for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\n                listParent.appendChild(edge.removeArray[c]);\n              }\n\n              if (!nested) rangeElement.appendChild(listParent);\n              if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\n              listParent = null;\n              nested = false;\n            }\n          } else {\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = originParent;\n              beforeTag = line.nextSibling;\n            }\n\n            rangeElement.appendChild(line);\n\n            if (pElement !== originParent) {\n              before = removeItems(pElement, originParent);\n              if (before !== undefined) beforeTag = before;\n            }\n          }\n        }\n\n        this.effectNode = null;\n        util.mergeSameTags(rangeElement, null, false);\n        util.mergeNestedTags(rangeElement, function (current) {\n          return this.isList(current);\n        }.bind(util)); // Nested list\n\n        if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n          const depthFormat = util.getParentElement(beforeTag, function (current) {\n            return this.isRangeFormatElement(current) && !this.isList(current);\n          }.bind(util));\n          const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          splitRange.parentNode.insertBefore(rangeElement, splitRange);\n        } else {\n          // basic\n          pElement.insertBefore(rangeElement, beforeTag);\n          removeItems(rangeElement, beforeTag);\n        }\n\n        const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n        if (rangeLines.length > 1) {\n          this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n        } else {\n          this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n       * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n       * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n       * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n       * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n       * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @returns {Object}\r\n       */\n      detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n        const range = this.getRange();\n        const so = range.startOffset;\n        const eo = range.endOffset;\n        let children = util.getListChildNodes(rangeElement, function (current) {\n          return current.parentNode === rangeElement;\n        });\n        let parent = rangeElement.parentNode;\n        let firstNode = null;\n        let lastNode = null;\n        let rangeEl = rangeElement.cloneNode(false);\n        const removeArray = [];\n        const newList = util.isList(newRangeElement);\n        let insertedNew = false;\n        let reset = false;\n        let moveComplete = false;\n\n        function appendNode(parent, insNode, sibling, originNode) {\n          if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n          if (insNode.nodeType === 3) {\n            parent.insertBefore(insNode, sibling);\n            return insNode;\n          }\n\n          const insChildren = (moveComplete ? insNode : originNode).childNodes;\n          let format = insNode.cloneNode(false);\n          let first = null;\n          let c = null;\n\n          while (insChildren[0]) {\n            c = insChildren[0];\n\n            if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n              if (format.childNodes.length > 0) {\n                if (!first) first = format;\n                parent.insertBefore(format, sibling);\n                format = insNode.cloneNode(false);\n              }\n\n              parent.insertBefore(c, sibling);\n              if (!first) first = c;\n            } else {\n              format.appendChild(c);\n            }\n          }\n\n          if (format.childNodes.length > 0) {\n            if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n              if (newList) {\n                first = sibling;\n\n                while (sibling) {\n                  format.appendChild(sibling);\n                  sibling = sibling.nextSibling;\n                }\n\n                parent.parentNode.insertBefore(format, parent.nextElementSibling);\n              } else {\n                const originNext = originNode.nextElementSibling;\n                const detachRange = util.detachNestedList(originNode, false);\n\n                if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                  const fChildren = format.childNodes;\n\n                  while (fChildren[0]) {\n                    originNode.appendChild(fChildren[0]);\n                  }\n\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              }\n            } else {\n              parent.insertBefore(format, sibling);\n            }\n\n            if (!first) first = format;\n          }\n\n          return first;\n        } // detach loop\n\n\n        for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n          insNode = children[i];\n          if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\n          moveComplete = false;\n\n          if (remove && i === 0) {\n            if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n              firstNode = rangeElement.previousSibling;\n            } else {\n              firstNode = rangeEl;\n            }\n          }\n\n          if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n          if (selectedFormats && lineIndex === -1) {\n            if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n            rangeEl.appendChild(insNode);\n          } else {\n            if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n            if (rangeEl && rangeEl.children.length > 0) {\n              parent.insertBefore(rangeEl, rangeElement);\n              rangeEl = null;\n            }\n\n            if (!newList && util.isListCell(insNode)) {\n              if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n                const insNext = insNode.nextElementSibling;\n                const detachRange = util.detachNestedList(insNode, false);\n\n                if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              } else {\n                const inner = insNode;\n                insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : 'P');\n                const isCell = util.isListCell(insNode);\n                const innerChildren = inner.childNodes;\n\n                while (innerChildren[0]) {\n                  if (util.isList(innerChildren[0]) && !isCell) break;\n                  insNode.appendChild(innerChildren[0]);\n                }\n\n                util.copyFormatAttributes(insNode, inner);\n                moveComplete = true;\n              }\n            } else {\n              insNode = insNode.cloneNode(false);\n            }\n\n            if (!reset) {\n              if (!remove) {\n                if (newRangeElement) {\n                  if (!insertedNew) {\n                    parent.insertBefore(newRangeElement, rangeElement);\n                    insertedNew = true;\n                  }\n\n                  insNode = appendNode(newRangeElement, insNode, null, children[i]);\n                } else {\n                  insNode = appendNode(parent, insNode, rangeElement, children[i]);\n                }\n\n                if (!reset) {\n                  if (selectedFormats) {\n                    lastNode = insNode;\n\n                    if (!firstNode) {\n                      firstNode = insNode;\n                    }\n                  } else if (!firstNode) {\n                    firstNode = lastNode = insNode;\n                  }\n                }\n              } else {\n                removeArray.push(insNode);\n                util.removeItem(children[i]);\n              }\n\n              if (reset) {\n                reset = moveComplete = false;\n                children = util.getListChildNodes(rangeElement, function (current) {\n                  return current.parentNode === rangeElement;\n                });\n                rangeEl = rangeElement.cloneNode(false);\n                parent = rangeElement.parentNode;\n                i = -1;\n                len = children.length;\n                continue;\n              }\n            }\n          }\n        }\n\n        const rangeParent = rangeElement.parentNode;\n        let rangeRight = rangeElement.nextSibling;\n\n        if (rangeEl && rangeEl.children.length > 0) {\n          rangeParent.insertBefore(rangeEl, rangeRight);\n        }\n\n        if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n        rangeRight = rangeElement.nextSibling;\n\n        if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n          util.removeItem(rangeElement);\n        } else {\n          util.removeEmptyNode(rangeElement, null);\n        }\n\n        let edge = null;\n\n        if (remove) {\n          edge = {\n            cc: rangeParent,\n            sc: firstNode,\n            ec: rangeRight,\n            removeArray: removeArray\n          };\n        } else {\n          if (!firstNode) firstNode = lastNode;\n          if (!lastNode) lastNode = firstNode;\n          const childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n          edge = {\n            cc: (childEdge.sc || childEdge.ec).parentNode,\n            sc: childEdge.sc,\n            ec: childEdge.ec\n          };\n        }\n\n        this.effectNode = null;\n        if (notHistoryPush) return edge;\n\n        if (!remove && edge) {\n          if (!selectedFormats) {\n            this.setRange(edge.sc, 0, edge.sc, 0);\n          } else {\n            this.setRange(edge.sc, so, edge.ec, eo);\n          }\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description \"selectedFormats\" array are detached from the list element.\r\n       * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n       * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n       */\n      detachList: function (selectedFormats, remove) {\n        let rangeArr = {};\n        let listFirst = false;\n        let listLast = false;\n        let first = null;\n        let last = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n          lastIndex = i === len - 1;\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          isList = util.isList(o);\n\n          if (!r && isList) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n            if (i === 0) listFirst = true;\n          } else if (r && isList) {\n            if (r !== o) {\n              const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n              o = selectedFormats[i].parentNode;\n\n              if (listFirst) {\n                first = edge.sc;\n                listFirst = false;\n              }\n\n              if (lastIndex) last = edge.ec;\n\n              if (isList) {\n                r = o;\n                rangeArr = {\n                  r: r,\n                  f: [util.getParentElement(selectedFormats[i], 'LI')]\n                };\n                if (lastIndex) listLast = true;\n              } else {\n                r = null;\n              }\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n              if (lastIndex) listLast = true;\n            }\n          }\n\n          if (lastIndex && util.isList(r)) {\n            const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n            if (listLast || len === 1) last = edge.ec;\n            if (listFirst) first = edge.sc || last;\n          }\n        }\n\n        return {\n          sc: first,\n          ec: last\n        };\n      },\n\n      /**\r\n       * @description Add, update, and delete nodes from selected text.\r\n       * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n       * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n       * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n       * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n       *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n       * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n       *    (The class name is preceded by \".\" [\".className\"])\r\n       * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n       * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n       * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n       * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       *10. It won't work if the parent node has the same class and same value style.\r\n       *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n       * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n       * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n       * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n       * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       */\n      nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\n        this._resetRangeToTextNode();\n\n        let range = this.getRange_addLine(this.getRange());\n        styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n        removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n        const isRemoveNode = !appendNode;\n        const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n\n        if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon)) {\n          return;\n        }\n\n        if (range.collapsed && !isRemoveFormat) {\n          if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\n            let afterNode = null;\n            const focusNode = startCon.childNodes[startOff];\n\n            if (focusNode) {\n              if (!focusNode.nextSibling) {\n                afterNode = null;\n              } else {\n                afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n              }\n            }\n\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            startCon.insertBefore(zeroWidth, afterNode);\n            this.setRange(zeroWidth, 1, zeroWidth, 1);\n            range = this.getRange();\n            startCon = range.startContainer;\n            startOff = range.startOffset;\n            endCon = range.endContainer;\n            endOff = range.endOffset;\n          }\n        }\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.firstChild;\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        }\n\n        if (isRemoveNode) {\n          appendNode = util.createElement('DIV');\n        }\n\n        const wRegExp = _w.RegExp;\n        const newNodeName = appendNode.nodeName;\n        /* checked same style property */\n\n        if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n          let sNode = startCon;\n          let checkCnt = 0;\n          const checkAttrs = [];\n          const checkStyles = appendNode.style;\n\n          for (let i = 0, len = checkStyles.length; i < len; i++) {\n            checkAttrs.push(checkStyles[i]);\n          }\n\n          const ckeckClasses = appendNode.classList;\n\n          for (let i = 0, len = ckeckClasses.length; i < len; i++) {\n            checkAttrs.push('.' + ckeckClasses[i]);\n          }\n\n          if (checkAttrs.length > 0) {\n            while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n              for (let i = 0; i < checkAttrs.length; i++) {\n                if (sNode.nodeType === 1) {\n                  const s = checkAttrs[i];\n                  const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\n                  const styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                  const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                  if (styleCheck || classCheck) {\n                    checkCnt++;\n                  }\n                }\n              }\n\n              sNode = sNode.parentNode;\n            }\n\n            if (checkCnt >= checkAttrs.length) return;\n          }\n        }\n\n        let start = {},\n            end = {};\n        let newNode,\n            styleRegExp = '',\n            classRegExp = '',\n            removeNodeRegExp = '';\n\n        if (styleArray) {\n          for (let i = 0, len = styleArray.length, s; i < len; i++) {\n            s = styleArray[i];\n\n            if (/^\\./.test(s)) {\n              classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\n            } else {\n              styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\n            }\n          }\n\n          if (styleRegExp) {\n            styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\n            styleRegExp = new wRegExp(styleRegExp, 'ig');\n          }\n\n          if (classRegExp) {\n            classRegExp += ')(?=\\\\s+|$)';\n            classRegExp = new wRegExp(classRegExp, 'ig');\n          }\n        }\n\n        if (removeNodeArray) {\n          removeNodeRegExp = '^(?:' + removeNodeArray[0];\n\n          for (let i = 1; i < removeNodeArray.length; i++) {\n            removeNodeRegExp += '|' + removeNodeArray[i];\n          }\n\n          removeNodeRegExp += ')$';\n          removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\n        }\n        /** validation check function*/\n\n\n        const wBoolean = _w.Boolean;\n        const _removeCheck = {\n          v: false\n        };\n\n        const validation = function (checkNode) {\n          const vNode = checkNode.cloneNode(false); // all path\n\n          if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n          if (isRemoveFormat) return null; // remove node check\n\n          const tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n          if (tagRemove && !strictRemove) {\n            _removeCheck.v = true;\n            return null;\n          } // style regexp\n\n\n          const originStyle = vNode.style.cssText;\n          let style = '';\n\n          if (styleRegExp && originStyle.length > 0) {\n            style = originStyle.replace(styleRegExp, '').trim();\n            if (style !== originStyle) _removeCheck.v = true;\n          } // class check\n\n\n          const originClasses = vNode.className;\n          let classes = '';\n\n          if (classRegExp && originClasses.length > 0) {\n            classes = originClasses.replace(classRegExp, '').trim();\n            if (classes !== originClasses) _removeCheck.v = true;\n          } // remove only\n\n\n          if (isRemoveNode) {\n            if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n              _removeCheck.v = true;\n              return null;\n            }\n          } // change\n\n\n          if (style || classes || vNode.nodeName !== newNodeName || wBoolean(styleRegExp) !== wBoolean(originStyle) || wBoolean(classRegExp) !== wBoolean(originClasses)) {\n            if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n            if (!vNode.style.cssText) {\n              vNode.removeAttribute('style');\n            }\n\n            if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n            if (!vNode.className.trim()) {\n              vNode.removeAttribute('class');\n            }\n\n            if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n              _removeCheck.v = true;\n              return null;\n            }\n\n            return vNode;\n          }\n\n          _removeCheck.v = true;\n          return null;\n        }; // get line nodes\n\n\n        const lineNodes = this.getSelectedElements(null);\n        range = this.getRange();\n        startCon = range.startContainer;\n        startOff = range.startOffset;\n        endCon = range.endContainer;\n        endOff = range.endOffset;\n\n        if (!util.getFormatElement(startCon, null)) {\n          startCon = util.getChildElement(lineNodes[0], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          startOff = 0;\n        }\n\n        if (!util.getFormatElement(endCon, null)) {\n          endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          endOff = endCon.textContent.length;\n        }\n\n        const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n        const endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n        newNode = appendNode.cloneNode(false);\n\n        const isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr) {\n          for (let n = 0, len = arr.length; n < len; n++) {\n            if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\n          }\n\n          return false;\n        }(removeNodeArray);\n\n        const isSizeNode = util._isSizeNode(newNode);\n\n        const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\n\n        const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode); // one line\n\n\n        if (oneLine) {\n          const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n          start.container = newRange.startContainer;\n          start.offset = newRange.startOffset;\n          end.container = newRange.endContainer;\n          end.offset = newRange.endOffset;\n\n          if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\n            start.offset = end.offset = 1;\n          }\n\n          this._setCommonListStyle(newRange.ancestor, null);\n        } else {\n          // multi line \n          // end\n          if (endLength > 0) {\n            newNode = appendNode.cloneNode(false);\n            end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n          } // mid\n\n\n          for (let i = endLength - 1, newRange; i > 0; i--) {\n            newNode = appendNode.cloneNode(false);\n            newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\n\n            if (newRange.endContainer) {\n              end.ancestor = null;\n              end.container = newRange.endContainer;\n            }\n\n            this._setCommonListStyle(newRange.ancestor, null);\n          } // start\n\n\n          newNode = appendNode.cloneNode(false);\n          start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\n\n          if (start.endContainer) {\n            end.ancestor = null;\n            end.container = start.endContainer;\n          }\n\n          if (endLength <= 0) {\n            end = start;\n          } else if (!end.container) {\n            end.ancestor = null;\n            end.container = start.container;\n            end.offset = start.container.textContent.length;\n          }\n\n          this._setCommonListStyle(start.ancestor, null);\n\n          this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\n        } // set range\n\n\n        this.controllersOff();\n        this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n       * @param {Element} el List cell element. <li>\r\n       * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n       * @private\r\n       */\n      _setCommonListStyle: function (el, child) {\n        if (!util.isListCell(el)) return;\n        if (!child) el.removeAttribute('style');\n        const children = util.getArrayItem((child || el).childNodes, function (current) {\n          return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim());\n        }, true);\n\n        if (children[0] && children.length === 1) {\n          child = children[0];\n          if (!child || child.nodeType !== 1) return;\n          const childStyle = child.style;\n          const elStyle = el.style; // bold\n\n          if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\n          else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight; // styles\n\n          if (childStyle.color) elStyle.color = childStyle.color; // color\n\n          if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\n\n          this._setCommonListStyle(el, child);\n        }\n      },\n\n      /**\r\n       * @description Strip remove node\r\n       * @param {Node} removeNode The remove node\r\n       * @private\r\n       */\n      _stripRemoveNode: function (removeNode) {\n        const element = removeNode.parentNode;\n        if (!removeNode || removeNode.nodeType === 3 || !element) return;\n        const children = removeNode.childNodes;\n\n        while (children[0]) {\n          element.insertBefore(children[0], removeNode);\n        }\n\n        element.removeChild(removeNode);\n      },\n\n      /**\r\n       * @description Return the parent maintained tag. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove) return null;\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\n      },\n\n      /**\r\n       * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove || element.nodeType !== 1) return false;\n\n        const anchor = this._isMaintainedNode(element);\n\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : anchor || (!_isSizeNode ? this._isSizeNode(element) : false);\n      },\n\n      /**\r\n       * @description wraps text nodes of line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Boolean} collapsed range.collapsed\r\n       * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n       * @private\r\n       */\n      _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n          if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n            const children = parentCon.childNodes;\n            let sameTag = true;\n\n            for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\n              c = children[i];\n              z = !util.onlyZeroWidthSpace(c);\n\n              if (c === startCon) {\n                s = true;\n                continue;\n              }\n\n              if (c === endCon) {\n                e = true;\n                continue;\n              }\n\n              if (!s && z || s && e && z) {\n                sameTag = false;\n                break;\n              }\n            }\n\n            if (sameTag) {\n              util.copyTagAttributes(parentCon, newInnerNode);\n              return {\n                startContainer: startCon,\n                startOffset: startOff,\n                endContainer: endCon,\n                endOffset: endOff\n              };\n            }\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        const isSameNode = startCon === endCon;\n        let startContainer = startCon;\n        let startOffset = startOff;\n        let endContainer = endCon;\n        let endOffset = endOff;\n        let startPass = false;\n        let endPass = false;\n        let pCurrent, newNode, appendNode, cssText, anchorNode;\n        const wRegExp = _w.RegExp;\n\n        function checkCss(vNode) {\n          const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\n          let style = '';\n\n          if (regExp && vNode.style.cssText.length > 0) {\n            style = regExp.test(vNode.style.cssText);\n          }\n\n          return !style;\n        }\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n            let cloneNode; // startContainer\n\n            if (!startPass && child === startContainer) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\n              const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== line && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              newInnerNode.appendChild(childNode);\n              line.appendChild(newInnerNode);\n\n              if (anchorNode && !_getMaintainedNode(endContainer)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              startContainer = textNode;\n              startOffset = 0;\n              startPass = true;\n              if (newNode !== textNode) newNode.appendChild(startContainer);\n              if (!isSameNode) continue;\n            } // endContainer\n\n\n            if (!endPass && child === endContainer) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, endContainer.length - endOffset));\n              const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                newNode = child;\n                cssText = '';\n                pCurrent = [];\n                const anchors = [];\n\n                while (newNode !== pNode && newNode !== el && newNode !== null) {\n                  if (newNode.nodeType === 1 && checkCss(newNode)) {\n                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                  }\n\n                  newNode = newNode.parentNode;\n                }\n\n                pCurrent = pCurrent.concat(anchors);\n                cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n                while (pCurrent.length > 0) {\n                  newNode = pCurrent.pop();\n                  appendNode.appendChild(newNode);\n                  appendNode = newNode;\n                }\n\n                pNode.appendChild(cloneNode);\n                newNode.textContent = afterNode.data;\n              }\n\n              if (anchorNode && cloneNode) {\n                const afterAnchorNode = _getMaintainedNode(cloneNode);\n\n                if (afterAnchorNode) {\n                  anchorNode = afterAnchorNode;\n                }\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                newInnerNode.appendChild(childNode);\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.appendChild(anchorNode);\n                nNodeArray.push(newInnerNode);\n                anchorNode = null;\n              } else {\n                newInnerNode.appendChild(childNode);\n              }\n\n              endContainer = textNode;\n              endOffset = textNode.data.length;\n              endPass = true;\n\n              if (!isRemoveFormat && collapsed) {\n                newInnerNode = textNode;\n                textNode.textContent = util.zeroWidthSpace;\n              }\n\n              if (newNode !== textNode) newNode.appendChild(endContainer);\n              continue;\n            } // other\n\n\n            if (startPass) {\n              if (child.nodeType === 1 && !util.isBreak(child)) {\n                if (util._isIgnoreNodeChange(child)) {\n                  pNode.appendChild(child.cloneNode(true));\n\n                  if (!collapsed) {\n                    newInnerNode = newInnerNode.cloneNode(false);\n                    pNode.appendChild(newInnerNode);\n                    nNodeArray.push(newInnerNode);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n                if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (childNode === child) {\n                if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n              } else if (endPass) {\n                pNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            }\n\n            cloneNode = child.cloneNode(false);\n            ancestor.appendChild(cloneNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            startContainer: startCon,\n            startOffset: startOff,\n            endContainer: endCon,\n            endOffset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            let textNode, textNode_s, textNode_e;\n\n            if (collapsed) {\n              textNode = util.createTextNode(util.zeroWidthSpace);\n              pNode.replaceChild(textNode, removeNode);\n            } else {\n              const rChildren = removeNode.childNodes;\n              textNode_s = rChildren[0];\n\n              while (rChildren[0]) {\n                textNode_e = rChildren[0];\n                pNode.insertBefore(textNode_e, removeNode);\n              }\n\n              util.removeItem(removeNode);\n            }\n\n            if (i === 0) {\n              if (collapsed) {\n                startContainer = endContainer = textNode;\n              } else {\n                startContainer = textNode_s;\n                endContainer = textNode_e;\n              }\n            }\n          }\n        } else {\n          if (isRemoveNode) {\n            for (let i = 0; i < nNodeArray.length; i++) {\n              this._stripRemoveNode(nNodeArray[i]);\n            }\n          }\n\n          if (collapsed) {\n            startContainer = endContainer = newInnerNode;\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (collapsed) {\n          startOffset = startContainer.textContent.length;\n          endOffset = endContainer.textContent.length;\n        } // endContainer reset\n\n\n        const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n        if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n          util.removeItem(endContainer);\n          endContainer = startContainer;\n        }\n\n        endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n        const newStartOffset = {\n          s: 0,\n          e: 0\n        };\n        const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n        const mergeEndCon = !endContainer.parentNode;\n        if (mergeEndCon) endContainer = startContainer;\n        const newEndOffset = {\n          s: 0,\n          e: 0\n        };\n        const endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n        startOffset += newStartOffset.s;\n        endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n        const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n        element.parentNode.replaceChild(pNode, element);\n        startContainer = util.getNodeFromPath(startPath, pNode);\n        endContainer = util.getNodeFromPath(endPath, pNode);\n        return {\n          ancestor: pNode,\n          startContainer: startContainer,\n          startOffset: startOffset + newOffsets[0],\n          endContainer: endContainer,\n          endOffset: endOffset + newOffsets[1]\n        };\n      },\n\n      /**\r\n       * @description wraps first line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {null|Node} If end container is renewed, returned renewed node\r\n       * @returns {Object} { ancestor, container, offset, endContainer }\r\n       * @private\r\n       */\n      _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n          let sameTag = true;\n          let s = startCon.previousSibling;\n\n          while (s) {\n            if (!util.onlyZeroWidthSpace(s)) {\n              sameTag = false;\n              break;\n            }\n\n            s = s.previousSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: startCon,\n              offset: startOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = startCon;\n        let offset = startOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  cloneChild = child.cloneNode(true);\n                  pNode.appendChild(cloneChild);\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode); // end container\n\n                  if (_endContainer && child.contains(_endContainer)) {\n                    const endPath = util.getNodePath(_endContainer, child);\n                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n                nNodeArray.push(newInnerNode);\n              } else if (isTopNode) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // startContainer\n\n\n            if (!passNode && child === container) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== line && newNode !== null) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n              line.appendChild(newInnerNode);\n              container = textNode;\n              offset = 0;\n              passNode = true;\n              ancestor.appendChild(container);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.appendChild(vNode);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: startCon,\n            offset: startOff,\n            endContainer: _endContainer\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            const textNode = rChildren[0];\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n            if (i === 0) container = textNode;\n          }\n        } else if (isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = 0;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps mid lines selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n       * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n       * @private\r\n       */\n      _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\n        // not add tag\n        if (!isRemoveNode) {\n          // end container path\n          let endPath = null;\n          if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\n          const tempNode = element.cloneNode(true);\n          const newNodeName = newInnerNode.nodeName;\n          const newCssText = newInnerNode.style.cssText;\n          const newClass = newInnerNode.className;\n          let children = tempNode.childNodes;\n          let i = 0,\n              len = children.length;\n\n          for (let child; i < len; i++) {\n            child = children[i];\n            if (child.nodeType === 3) break;\n\n            if (child.nodeName === newNodeName) {\n              child.style.cssText += newCssText;\n              util.addClass(child, newClass);\n            } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              continue;\n            } else if (len === 1) {\n              children = child.childNodes;\n              len = children.length;\n              i = -1;\n              continue;\n            } else {\n              break;\n            }\n          }\n\n          if (len > 0 && i === len) {\n            element.innerHTML = tempNode.innerHTML;\n            return {\n              ancestor: element,\n              endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const pNode = element.cloneNode(false);\n        const nNodeArray = [newInnerNode];\n        let noneChange = true;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              if (newInnerNode.childNodes.length > 0) {\n                pNode.appendChild(newInnerNode);\n                newInnerNode = newInnerNode.cloneNode(false);\n              }\n\n              cloneChild = child.cloneNode(true);\n              pNode.appendChild(cloneChild);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n              ancestor = newInnerNode; // end container\n\n              if (_endContainer && child.contains(_endContainer)) {\n                const endPath = util.getNodePath(_endContainer, child);\n                _endContainer = util.getNodeFromPath(endPath, cloneChild);\n              }\n\n              continue;\n            } else {\n              vNode = validation(child);\n\n              if (vNode) {\n                noneChange = false;\n                ancestor.appendChild(vNode);\n                if (child.nodeType === 1) coverNode = vNode;\n              }\n            }\n\n            if (!util.isBreak(child)) recursionFunc(child, coverNode);\n          }\n        })(element, newInnerNode); // not remove tag\n\n\n        if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return {\n          ancestor: element,\n          endContainer: _endContainer\n        };\n        pNode.appendChild(newInnerNode);\n\n        if (isRemoveFormat && isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n        } else if (isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n        util.mergeSameTags(pNode, null, true); // node change\n\n        element.parentNode.replaceChild(pNode, element);\n        return {\n          ancestor: pNode,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps last line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {Object} { ancestor, container, offset }\r\n       * @private\r\n       */\n      _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = endCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          let sameTag = true;\n          let e = endCon.nextSibling;\n\n          while (e) {\n            if (!util.onlyZeroWidthSpace(e)) {\n              sameTag = false;\n              break;\n            }\n\n            e = e.nextSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: endCon,\n              offset: endOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = endCon;\n        let offset = endOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  const cloneChild = child.cloneNode(true);\n                  pNode.insertBefore(cloneChild, ancestor);\n                  pNode.insertBefore(newInnerNode, cloneChild);\n                  nNodeArray.push(newInnerNode);\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.insertBefore(childNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (isTopNode) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.insertBefore(newInnerNode, pNode.firstChild);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // endContainer\n\n\n            if (!passNode && child === container) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== pNode) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== pNode) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.insertBefore(a, m.parentNode.firstChild);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                ancestor.insertBefore(afterNode, ancestor.firstChild);\n              }\n\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== pNode && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n              if (anchorNode) {\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.insertBefore(anchorNode, pNode.firstChild);\n                anchorNode = null;\n              } else {\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              }\n\n              container = textNode;\n              offset = textNode.data.length;\n              passNode = true;\n              ancestor.insertBefore(container, ancestor.firstChild);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.insertBefore(vNode, ancestor.firstChild);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: endCon,\n            offset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            let textNode = null;\n\n            while (rChildren[0]) {\n              textNode = rChildren[0];\n              pNode.insertBefore(textNode, removeNode);\n            }\n\n            util.removeItem(removeNode);\n\n            if (i === nNodeArray.length - 1) {\n              container = textNode;\n              offset = textNode.textContent.length;\n            }\n          }\n        } else if (isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n            util.removeEmptyNode(pNode, null);\n            return {\n              ancestor: null,\n              container: null,\n              offset: 0\n            };\n          }\n\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = container.textContent.length;\n          } else if (util.onlyZeroWidthSpace(container)) {\n            container = newInnerNode;\n            offset = 1;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset\n        };\n      },\n\n      /**\r\n       * @description Run plugin calls and basic commands.\r\n       * @param {String} command Command string\r\n       * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n       * @param {Element} target The element of command button\r\n       */\n      actionCall: function (command, display, target) {\n        // call plugins\n        if (display) {\n          if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\n            const layer = context.element.toolbar.querySelector('.' + command);\n\n            if (layer) {\n              if (this._moreLayerActiveButton) {\n                context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command')).style.display = 'none';\n                util.removeClass(this._moreLayerActiveButton, 'on');\n              }\n\n              util.addClass(target, 'on');\n              this._moreLayerActiveButton = target;\n              layer.style.display = 'block';\n\n              event._showToolbarBalloon();\n\n              event._showToolbarInline();\n            }\n\n            return;\n          } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\n            this.callPlugin(command, this.submenuOn.bind(this, target), target);\n            return;\n          } else if (/dialog/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this), target);\n            return;\n          } else if (/command/.test(display)) {\n            this.callPlugin(command, this.plugins[command].action.bind(this), target);\n          } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\n            this.callPlugin(command, this.containerOn.bind(this, target), target);\n            return;\n          } else if (/fileBrowser/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\n          }\n        } // default command\n        else if (command) {\n            this.commandHandler(target, command);\n          }\n\n        if (/more/i.test(display)) {\n          const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\n\n          if (layer) {\n            util.removeClass(this._moreLayerActiveButton, 'on');\n            this._moreLayerActiveButton = null;\n            layer.style.display = 'none';\n\n            event._showToolbarBalloon();\n\n            event._showToolbarInline();\n          }\n        } else if (/submenu/.test(display)) {\n          this.submenuOff();\n        } else {\n          this.submenuOff();\n          this.containerOff();\n        }\n      },\n\n      /**\r\n       * @description Execute command of command button(All Buttons except submenu and dialog)\r\n       * (undo, redo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n       * @param {Element} target The element of command button\r\n       * @param {String} command Property of command button (data-value)\r\n       */\n      commandHandler: function (target, command) {\n        switch (command) {\n          case 'selectAll':\n            const wysiwyg = context.element.wysiwyg;\n            const first = util.getChildElement(wysiwyg.firstChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, false) || wysiwyg.firstChild;\n            const last = util.getChildElement(wysiwyg.lastChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, true) || wysiwyg.lastChild;\n            if (!first || !last) return;\n            this.setRange(first, 0, last, last.textContent.length);\n            break;\n\n          case 'codeView':\n            this.toggleCodeView();\n            break;\n\n          case 'fullScreen':\n            this.toggleFullScreen(target);\n            break;\n\n          case 'indent':\n          case 'outdent':\n            this.indent(command);\n            break;\n\n          case 'undo':\n            this.history.undo();\n            break;\n\n          case 'redo':\n            this.history.redo();\n            break;\n\n          case 'removeFormat':\n            this.removeFormat();\n            this.focus();\n            break;\n\n          case 'print':\n            this.print();\n            break;\n\n          case 'preview':\n            this.preview();\n            break;\n\n          case 'showBlocks':\n            this.toggleDisplayBlocks();\n            break;\n\n          case 'save':\n            if (typeof options.callBackSave === 'function') {\n              options.callBackSave(this.getContents(false));\n            } else if (typeof functions.save === 'function') {\n              functions.save();\n            } else {\n              throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\n            }\n\n            if (context.tool.save) context.tool.save.setAttribute('disabled', true);\n            break;\n\n          default:\n            // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\n            command = this._defaultCommand[command.toLowerCase()] || command;\n            if (!this.commandMap[command]) this.commandMap[command] = target;\n            const nodesMap = this._variable.currentNodesMap;\n            const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\n            let removeNode = command;\n\n            if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\n              removeNode = 'SUP';\n            } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\n              removeNode = 'SUB';\n            }\n\n            this.nodeChange(cmd, null, [removeNode], false);\n            this.focus();\n        }\n      },\n\n      /**\r\n       * @description Remove format of the currently selected range\r\n       */\n      removeFormat: function () {\n        this.nodeChange(null, null, null, null);\n      },\n\n      /**\r\n       * @description This method implements indentation to selected range.\r\n       * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n       * @param {String} command Separator (\"indent\" or \"outdent\")\r\n       */\n      indent: function (command) {\n        const range = this.getRange();\n        const rangeLines = this.getSelectedElements(null);\n        const cells = [];\n        const shift = 'indent' !== command;\n        let sc = range.startContainer;\n        let ec = range.endContainer;\n        let so = range.startOffset;\n        let eo = range.endOffset;\n\n        for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n          f = rangeLines[i];\n\n          if (!util.isListCell(f) || !this.plugins.list) {\n            margin = /\\d+/.test(f.style.marginLeft) ? util.getNumber(f.style.marginLeft, 0) : 0;\n\n            if (shift) {\n              margin -= 25;\n            } else {\n              margin += 25;\n            }\n\n            util.setStyle(f, 'marginLeft', margin <= 0 ? '' : margin + 'px');\n          } else {\n            if (shift || f.previousElementSibling) {\n              cells.push(f);\n            }\n          }\n        } // list cells\n\n\n        if (cells.length > 0) {\n          this.plugins.list.editInsideList.call(this, shift, cells);\n        }\n\n        this.effectNode = null;\n        this.setRange(sc, so, ec, eo); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Add or remove the class name of \"body\" so that the code block is visible\r\n       */\n      toggleDisplayBlocks: function () {\n        const wysiwyg = context.element.wysiwyg;\n        util.toggleClass(wysiwyg, 'se-show-block');\n\n        if (util.hasClass(wysiwyg, 'se-show-block')) {\n          util.addClass(this._styleCommandMap.showBlocks, 'active');\n        } else {\n          util.removeClass(this._styleCommandMap.showBlocks, 'active');\n        }\n\n        this._resourcesStateChange();\n      },\n\n      /**\r\n       * @description Changes to code view or wysiwyg view\r\n       */\n      toggleCodeView: function () {\n        const isCodeView = this._variable.isCodeView;\n        this.controllersOff();\n        util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n        if (isCodeView) {\n          this._setCodeDataToEditor();\n\n          context.element.wysiwygFrame.scrollTop = 0;\n          context.element.code.style.display = 'none';\n          context.element.wysiwygFrame.style.display = 'block';\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\n          this._variable.isCodeView = false;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = false;\n\n            if (/balloon|balloon-always/i.test(options.mode)) {\n              context.element._arrow.style.display = '';\n              this._isInline = false;\n              this._isBalloon = true;\n\n              event._hideToolbar();\n            }\n          }\n\n          this.nativeFocus();\n          util.removeClass(this._styleCommandMap.codeView, 'active'); // history stack\n\n          this.history.push(false);\n        } else {\n          this._setEditorDataToCodeView();\n\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + 'px' : 'auto';\n          if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n          this._variable.isCodeView = true;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = true;\n\n            if (this._isBalloon) {\n              context.element._arrow.style.display = 'none';\n              context.element.toolbar.style.left = '';\n              this._isInline = true;\n              this._isBalloon = false;\n\n              event._showToolbarInline();\n            }\n          }\n\n          this._variable._range = null;\n          context.element.code.focus();\n          util.addClass(this._styleCommandMap.codeView, 'active');\n        }\n\n        this._checkPlaceholder();\n\n        if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\n      },\n\n      /**\r\n       * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n       * @private\r\n       */\n      _setCodeDataToEditor: function () {\n        const code_html = this._getCodeView();\n\n        if (options.fullPage) {\n          const parseDocument = this._parser.parseFromString(code_html, 'text/html');\n\n          const headChildren = parseDocument.head.children;\n\n          for (let i = 0, len = headChildren.length; i < len; i++) {\n            if (/script/i.test(headChildren[i].tagName)) {\n              parseDocument.head.removeChild(headChildren[i]);\n              i--, len--;\n            }\n          }\n\n          this._wd.head.innerHTML = parseDocument.head.innerHTML;\n          this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n          const attrs = parseDocument.body.attributes;\n\n          for (let i = 0, len = attrs.length; i < len; i++) {\n            if (attrs[i].name === 'contenteditable') continue;\n\n            this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\n          }\n\n          if (!util.hasClass(this._wd.body, 'sun-editor-editable')) util.addClass(this._wd.body, 'sun-editor-editable');\n        } else {\n          context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<p><br></p>';\n        }\n      },\n\n      /**\r\n       * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n       * @private\r\n       */\n      _setEditorDataToCodeView: function () {\n        const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n        let codeValue = '';\n\n        if (options.fullPage) {\n          const attrs = util.getAttributesToString(this._wd.body, null);\n          codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\n        } else {\n          codeValue = codeContents;\n        }\n\n        context.element.code.style.display = 'block';\n        context.element.wysiwygFrame.style.display = 'none';\n\n        this._setCodeView(codeValue);\n      },\n\n      /**\r\n       * @description Changes to full screen or default screen\r\n       * @param {Element} element full screen button\r\n       */\n      toggleFullScreen: function (element) {\n        const topArea = context.element.topArea;\n        const toolbar = context.element.toolbar;\n        const editorArea = context.element.editorArea;\n        const wysiwygFrame = context.element.wysiwygFrame;\n        const code = context.element.code;\n        const _var = this._variable;\n        this.controllersOff();\n\n        if (!_var.isFullScreen) {\n          _var.isFullScreen = true;\n          _var._fullScreenAttrs.inline = this._isInline;\n          _var._fullScreenAttrs.balloon = this._isBalloon;\n\n          if (this._isInline || this._isBalloon) {\n            this._isInline = false;\n            this._isBalloon = false;\n          }\n\n          if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\n          topArea.style.position = 'fixed';\n          topArea.style.top = '0';\n          topArea.style.left = '0';\n          topArea.style.width = '100%';\n          topArea.style.maxWidth = '100%';\n          topArea.style.height = '100%';\n          topArea.style.zIndex = '2147483647';\n\n          if (context.element._stickyDummy.style.display !== (true && '')) {\n            _var._fullScreenAttrs.sticky = true;\n            context.element._stickyDummy.style.display = 'none';\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          _var._bodyOverflow = _d.body.style.overflow;\n          _d.body.style.overflow = 'hidden';\n          _var._editorAreaOriginCssText = editorArea.style.cssText;\n          _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n          _var._codeOriginCssText = code.style.cssText;\n          editorArea.style.cssText = toolbar.style.cssText = '';\n          wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\n          toolbar.style.position = 'relative';\n          toolbar.style.display = 'block';\n          _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n          editorArea.style.height = _var.innerHeight_fullScreen + 'px';\n          util.changeElement(element.firstElementChild, icons.reduction);\n\n          if (options.iframe && options.height === 'auto') {\n            editorArea.style.overflow = 'auto';\n\n            this._iframeAutoHeight();\n          }\n\n          util.addClass(this._styleCommandMap.fullScreen, 'active');\n        } else {\n          _var.isFullScreen = false;\n          wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n          code.style.cssText = _var._codeOriginCssText;\n          toolbar.style.cssText = '';\n          editorArea.style.cssText = _var._editorAreaOriginCssText;\n          topArea.style.cssText = _var._originCssText;\n          _d.body.style.overflow = _var._bodyOverflow;\n          if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\n\n          if (options.stickyToolbar > -1) {\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\n            _var._fullScreenAttrs.sticky = false;\n            context.element._stickyDummy.style.display = 'block';\n            util.addClass(toolbar, \"se-toolbar-sticky\");\n          }\n\n          this._isInline = _var._fullScreenAttrs.inline;\n          this._isBalloon = _var._fullScreenAttrs.balloon;\n          if (this._isInline) event._showToolbarInline();\n          if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\n          event.onScroll_window();\n          util.changeElement(element.firstElementChild, icons.expansion);\n          util.removeClass(this._styleCommandMap.fullScreen, 'active');\n        }\n\n        if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\n      },\n\n      /**\r\n       * @description Prints the current contents of the editor.\r\n       */\n      print: function () {\n        const iframe = util.createElement('IFRAME');\n        iframe.style.display = 'none';\n\n        _d.body.appendChild(iframe);\n\n        const printDocument = util.getIframeDocument(iframe);\n        const contentsHTML = this.getContents(true);\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + linkHTML + '</head>' + '<body class=\"sun-editor-editable\">' + contentsHTML + '</body>' + '</html>');\n        }\n\n        this.showLoading();\n\n        _w.setTimeout(function () {\n          try {\n            iframe.focus(); // IE or Edge\n\n            if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n              try {\n                iframe.contentWindow.document.execCommand('print', false, null);\n              } catch (e) {\n                iframe.contentWindow.print();\n              }\n            } else {\n              // Other browsers\n              iframe.contentWindow.print();\n            }\n          } catch (error) {\n            throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\n          } finally {\n            core.closeLoading();\n            util.removeItem(iframe);\n          }\n        }, 1000);\n      },\n\n      /**\r\n       * @description Open the preview window.\r\n       */\n      preview: function () {\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        const contentsHTML = this.getContents(true);\n\n        const windowObject = _w.open('', '_blank');\n\n        windowObject.mimeType = 'text/html';\n        const w = context.element.wysiwygFrame.offsetWidth + 'px !important';\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '<style>body {overflow:auto !important; width:' + w + '; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style>' + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.preview + '</title>' + linkHTML + '</head>' + '<body class=\"sun-editor-editable\" style=\"width:' + w + '; border:1px solid #ccc; margin:10px auto !important; height:auto !important;\">' + contentsHTML + '</body>' + '</html>');\n        }\n      },\n\n      /**\r\n       * @description Sets the HTML string\r\n       * @param {String} html HTML string\r\n       */\n      setContents: function (html) {\n        const convertValue = this.convertContentsForEditor(html);\n\n        this._resetComponents();\n\n        if (!this._variable.isCodeView) {\n          context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n          this.history.push(false);\n        } else {\n          const value = this.convertHTMLForCodeView(convertValue);\n\n          this._setCodeView(value);\n        }\n      },\n\n      /**\r\n       * @description Gets the current contents\r\n       * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {Object}\r\n       */\n      getContents: function (onlyContents) {\n        const contents = context.element.wysiwyg.innerHTML;\n        const renderHTML = util.createElement('DIV');\n        renderHTML.innerHTML = contents;\n        const figcaptions = util.getListChildren(renderHTML, function (current) {\n          return /FIGCAPTION/i.test(current.nodeName);\n        });\n\n        for (let i = 0, len = figcaptions.length; i < len; i++) {\n          figcaptions[i].removeAttribute('contenteditable');\n        }\n\n        if (options.fullPage && !onlyContents) {\n          const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\n          return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\n        } else {\n          return renderHTML.innerHTML;\n        }\n      },\n\n      /**\r\n       * @description Returns HTML string according to tag type and configuration.\r\n       * Use only \"cleanHTML\", \"convertContentsForEditor\"\r\n       * @param {Node} node Node\r\n       * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n       * @private\r\n       */\n      _makeLine: function (node, requireFormat) {\n        // element\n        if (node.nodeType === 1) {\n          if (util._disallowedTags(node)) return '';\n\n          if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n            return node.outerHTML;\n          } else {\n            return '<p>' + node.outerHTML + '</p>';\n          }\n        } // text\n\n\n        if (node.nodeType === 3) {\n          if (!requireFormat) return node.textContent;\n          const textArray = node.textContent.split(/\\n/g);\n          let html = '';\n\n          for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\n            text = textArray[i].trim();\n            if (text.length > 0) html += '<p>' + text + '</p>';\n          }\n\n          return html;\n        } // comments\n\n\n        if (node.nodeType === 8 && this._allowHTMLComments) {\n          return '<!--' + node.textContent.trim() + '-->';\n        }\n\n        return '';\n      },\n\n      /**\r\n       * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n       * @param {String} text \r\n       * @returns {String} HTML string\r\n       * @private\r\n       */\n      _tagConvertor: function (text) {\n        if (!this._disallowedTextTagsRegExp) return text;\n        const ec = {\n          'b': 'strong',\n          'i': 'em',\n          'ins': 'u',\n          'strike': 'del',\n          's': 'del'\n        };\n        return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\n          return t + (typeof ec[n] === 'string' ? ec[n] : n);\n        });\n      },\n\n      /**\r\n       * @description Delete disallowed tags\r\n       * @param {String} html HTML string\r\n       * @returns {String}\r\n       * @private\r\n       */\n      _deleteDisallowedTags: function (html) {\n        return html.replace(/\\n/g, '').replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/gi, '').replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '').replace(this.editorTagsWhitelistRegExp, '');\n      },\n\n      /**\r\n       * @description Gets the clean HTML code for editor\r\n       * @param {String} html HTML string\r\n       * @param {String|RegExp} whitelist Regular expression of allowed tags.\r\n       * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n       * @returns {String}\r\n       */\n      cleanHTML: function (html, whitelist) {\n        html = this._deleteDisallowedTags(html).replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\n          if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n          let v = null;\n\n          const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\n\n          if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n          if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\n            const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\n\n            if (sv) {\n              if (!v) v = [];\n              v.push(sv[0]);\n            }\n          }\n\n          if (v) {\n            for (let i = 0, len = v.length; i < len; i++) {\n              if (/^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\n              t += ' ' + v[i];\n            }\n          }\n\n          return t;\n        }.bind(this));\n\n        const dom = _d.createRange().createContextualFragment(html);\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\n        }\n\n        if (this.managedTagsInfo && this.managedTagsInfo.query) {\n          const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n          for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n            classList = [].slice.call(textCompList[i].classList);\n\n            for (let c = 0, cLen = classList.length; c < cLen; c++) {\n              initMethod = this.managedTagsInfo.map[classList[c]];\n\n              if (initMethod) {\n                initMethod(textCompList[i]);\n                break;\n              }\n            }\n          }\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n        let requireFormat = false;\n\n        for (let i = 0, len = domTree.length, t; i < len; i++) {\n          t = domTree[i];\n\n          if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\n            requireFormat = true;\n            break;\n          }\n        }\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], requireFormat);\n        }\n\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\n      },\n\n      /**\r\n       * @description Converts contents into a format that can be placed in an editor\r\n       * @param {String} contents contents\r\n       * @returns {String}\r\n       */\n      convertContentsForEditor: function (contents) {\n        const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], true);\n        }\n\n        if (cleanHTML.length === 0) return '<p><br></p>';\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(cleanHTML);\n      },\n\n      /**\r\n       * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n       * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n       * @returns {String}\r\n       */\n      convertHTMLForCodeView: function (html) {\n        let returnHTML = '';\n        const wRegExp = _w.RegExp;\n        const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\n        const isFormatElement = util.isFormatElement.bind(util);\n        const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\n        let indentSize = this._variable.codeIndent * 1;\n        indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\n\n        (function recursionFunc(element, indent, lineBR) {\n          const children = element.childNodes;\n          const elementRegTest = brReg.test(element.nodeName);\n          const elementIndent = elementRegTest ? indent : '';\n\n          for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\n            node = children[i];\n            nodeRegTest = brReg.test(node.nodeName);\n            br = nodeRegTest ? '\\n' : '';\n            lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\n\n            if (node.nodeType === 8) {\n              returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\n              continue;\n            }\n\n            if (node.nodeType === 3) {\n              returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? '' : node.data);\n              continue;\n            }\n\n            if (node.childNodes.length === 0) {\n              returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\n              continue;\n            }\n\n            node.innerHTML = node.innerHTML;\n            const tag = node.nodeName.toLowerCase();\n            returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\n            recursionFunc(node, indent + indentSize, '');\n            returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' : false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\n          }\n        })(wDoc, '', '\\n');\n\n        return returnHTML.trim() + '\\n';\n      },\n\n      /**\r\n       * @description Add an event to document.\r\n       * When created as an Iframe, the same event is added to the document in the Iframe.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       * @param {Boolean} useCapture Use event capture\r\n       */\n      addDocEvent: function (type, listener, useCapture) {\n        _d.addEventListener(type, listener, useCapture);\n\n        if (options.iframe) {\n          this._wd.addEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description Remove events from document.\r\n       * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       */\n      removeDocEvent: function (type, listener) {\n        _d.removeEventListener(type, listener);\n\n        if (options.iframe) {\n          this._wd.removeEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description The current number of characters is counted and displayed.\r\n       * @param {String} inputText Text added.\r\n       * @returns {Boolean}\r\n       * @private\r\n       */\n      _charCount: function (inputText) {\n        const maxCharCount = options.maxCharCount;\n        const countType = options.charCounterType;\n        let nextCharCount = 0;\n        if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\n\n        this._setCharCount();\n\n        if (maxCharCount > 0) {\n          let over = false;\n          const count = functions.getCharCount(countType);\n\n          if (count > maxCharCount) {\n            over = true;\n\n            if (nextCharCount > 0) {\n              this._editorRange();\n\n              const range = this.getRange();\n              const endOff = range.endOffset - 1;\n              const text = this.getSelectionNode().textContent;\n              const slicePosition = range.endOffset - (count - maxCharCount);\n              this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n              this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n            }\n          } else if (count + nextCharCount > maxCharCount) {\n            over = true;\n          }\n\n          if (over) {\n            this._callCounterBlink();\n\n            if (nextCharCount > 0) return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n       * @param {Node|String} element Element node or String.\r\n       * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n       * @returns {Boolean}\r\n       */\n      checkCharCount: function (element, charCounterType) {\n        if (options.maxCharCount) {\n          const countType = charCounterType || options.charCounterType;\n          const length = this.getCharLength(typeof element === 'string' ? element : this._charTypeHTML ? element.outerHTML : element.textContent, countType);\n\n          if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\n            this._callCounterBlink();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description Get the length of the content.\r\n       * Depending on the option, the length of the character is taken. (charCounterType)\r\n       * @param {String} content Content to count\r\n       * @param {String} charCounterType options.charCounterType\r\n       * @returns {Number}\r\n       */\n      getCharLength: function (content, charCounterType) {\n        return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n      },\n\n      /**\r\n       * @description Set the char count to charCounter element textContent.\r\n       * @private\r\n       */\n      _setCharCount: function () {\n        if (context.element.charCounter) {\n          _w.setTimeout(function () {\n            context.element.charCounter.textContent = functions.getCharCount(options.charCounterType);\n          });\n        }\n      },\n\n      /**\r\n       * @description The character counter blinks.\r\n       * @private\r\n       */\n      _callCounterBlink: function () {\n        const charWrapper = context.element.charWrapper;\n\n        if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\n          util.addClass(charWrapper, 'se-blink');\n\n          _w.setTimeout(function () {\n            util.removeClass(charWrapper, 'se-blink');\n          }, 600);\n        }\n      },\n\n      /**\r\n       * @description Check the components such as image and video and modify them according to the format.\r\n       * @private\r\n       */\n      _checkComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\n          this._fileInfoPluginsCheck[i]();\n        }\n      },\n\n      /**\r\n       * @description Initialize the information of the components.\r\n       * @private\r\n       */\n      _resetComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\n          this._fileInfoPluginsReset[i]();\n        }\n      },\n\n      /**\r\n       * @description Set method in the code view area\r\n       * @param {String} value HTML string\r\n       * @private\r\n       */\n      _setCodeView: function (value) {\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.getDoc().setValue(value);\n        } else {\n          context.element.code.value = value;\n        }\n      },\n\n      /**\r\n       * @description Get method in the code view area\r\n       * @private\r\n       */\n      _getCodeView: function () {\n        return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n      },\n\n      /**\r\n       * @description Initializ core variable\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _init: function (reload, _initHTML) {\n        const wRegExp = _w.RegExp;\n        this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n        this._wd = _d;\n        this._charTypeHTML = options.charCounterType === 'byte-html';\n\n        if (!options.iframe && typeof _w.ShadowRoot === 'function') {\n          let child = context.element.wysiwygFrame;\n\n          while (child) {\n            if (child.shadowRoot) {\n              this._shadowRoot = child.shadowRoot;\n              break;\n            } else if (child instanceof _w.ShadowRoot) {\n              this._shadowRoot = child;\n              break;\n            }\n\n            child = child.parentNode;\n          }\n        } // set disallow text nodes\n\n\n        const disallowTextTags = ['b', 'i', 'ins', 's', 'strike'];\n        const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) {\n          return /b|i|ins|s|strike/i.test(v);\n        });\n\n        for (let i = 0; i < allowTextTags.length; i++) {\n          disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\n        }\n\n        this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi'); // set whitelist\n\n        const defaultAttr = 'contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\n        this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\n        this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\n        this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\n        this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n        const _attr = options.attributesWhitelist;\n        const tagsAttr = {};\n        let allAttr = '';\n\n        if (!!_attr) {\n          for (let k in _attr) {\n            if (!util.hasOwn(_attr, k)) continue;\n\n            if (k === 'all') {\n              allAttr = _attr[k] + '|';\n            } else {\n              tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\n            }\n          }\n        }\n\n        this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\n        this._attributesTagsWhitelist = tagsAttr; // set modes\n\n        this._isInline = /inline/i.test(options.mode);\n        this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n        this._isBalloonAlways = /balloon-always/i.test(options.mode); // caching buttons\n\n        this._cachingButtons(); // file components\n\n\n        this._fileInfoPluginsCheck = [];\n        this._fileInfoPluginsReset = []; // text components\n\n        this.managedTagsInfo = {\n          query: '',\n          map: {}\n        };\n        const managedClass = []; // Command and file plugins registration\n\n        this.activePlugins = [];\n        this._fileManager.tags = [];\n        this._fileManager.pluginMap = {};\n        let filePluginRegExp = [];\n        let plugin, button;\n\n        for (let key in plugins) {\n          if (!util.hasOwn(plugins, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            this.callPlugin(key, null, button);\n          }\n\n          if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\n            this.callPlugin(key, null, button);\n\n            this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\n\n            this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\n          }\n\n          if (_w.Array.isArray(plugin.fileTags)) {\n            const fileTags = plugin.fileTags;\n            this.callPlugin(key, null, button);\n            this._fileManager.tags = this._fileManager.tags.concat(fileTags);\n            filePluginRegExp.push(key);\n\n            for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\n              this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\n            }\n          }\n\n          if (plugin.managedTags) {\n            const info = plugin.managedTags();\n            managedClass.push('.' + info.className);\n            this.managedTagsInfo.map[info.className] = info.method.bind(this);\n          }\n        }\n\n        this.managedTagsInfo.query = managedClass.toString();\n        this._fileManager.queryString = this._fileManager.tags.join(',');\n        this._fileManager.regExp = new wRegExp('^(' + this._fileManager.tags.join('|') + ')$', 'i');\n        this._fileManager.pluginRegExp = new wRegExp('^(' + (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i'); // cache editor's element\n\n        this._variable._originCssText = context.element.topArea.style.cssText;\n        this._placeholder = context.element.placeholder;\n        this._lineBreaker = context.element.lineBreaker;\n        this._lineBreakerButton = this._lineBreaker.querySelector('button'); // Excute history function\n\n        this.history = lib_history(this, this._onChange_historyStack.bind(this)); // register notice module\n\n        this.addModule([_notice]); // Init, validate\n\n        if (options.iframe) {\n          this._wd = context.element.wysiwygFrame.contentDocument;\n          context.element.wysiwyg = this._wd.body;\n          if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\n          if (options.height === 'auto') this._iframeAuto = this._wd.body;\n        }\n\n        this._initWysiwygArea(reload, _initHTML);\n      },\n\n      /**\r\n       * @description Caching basic buttons to use\r\n       * @private\r\n       */\n      _cachingButtons: function () {\n        this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\n        const tool = context.tool;\n        this.commandMap = {\n          STRONG: tool.bold,\n          U: tool.underline,\n          EM: tool.italic,\n          DEL: tool.strike,\n          SUB: tool.subscript,\n          SUP: tool.superscript,\n          OUTDENT: tool.outdent,\n          INDENT: tool.indent\n        };\n        this._styleCommandMap = {\n          fullScreen: tool.fullScreen,\n          showBlocks: tool.showBlocks,\n          codeView: tool.codeView\n        };\n      },\n\n      /**\r\n       * @description Initializ wysiwyg area (Only called from core._init)\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _initWysiwygArea: function (reload, _initHTML) {\n        context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\n      },\n\n      /**\r\n       * @description Called when there are changes to tags in the wysiwyg region.\r\n       * @private\r\n       */\n      _resourcesStateChange: function () {\n        this._iframeAutoHeight();\n\n        this._checkPlaceholder();\n      },\n\n      /**\r\n       * @description Called when after execute \"history.push\"\r\n       * @private\r\n       */\n      _onChange_historyStack: function () {\n        event._applyTagEffects();\n\n        if (context.tool.save) context.tool.save.removeAttribute('disabled');\n        if (functions.onChange) functions.onChange(this.getContents(true), this);\n      },\n\n      /**\r\n       * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n       * @private\r\n       */\n      _iframeAutoHeight: function () {\n        if (this._iframeAuto) {\n          _w.setTimeout(function () {\n            context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px';\n          });\n        }\n      },\n\n      /**\r\n       * @description Set display property when there is placeholder.\r\n       * @private\r\n       */\n      _checkPlaceholder: function () {\n        if (this._placeholder) {\n          if (this._variable.isCodeView) {\n            this._placeholder.style.display = 'none';\n            return;\n          }\n\n          const wysiwyg = context.element.wysiwyg;\n\n          if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\n            this._placeholder.style.display = 'none';\n          } else {\n            this._placeholder.style.display = 'block';\n          }\n        }\n      },\n\n      /**\r\n       * @description If there is no default format, add a format and move \"selection\".\r\n       * @param {String|null} formatName Format tag name (default: 'P')\r\n       * @private\r\n       */\n      _setDefaultFormat: function (formatName) {\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\n        const range = this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startCon = range.startContainer;\n        const rangeEl = util.getRangeFormatElement(commonCon, null);\n        let focusNode, offset, format;\n        const fileComponent = util.getParentElement(commonCon, util.isComponent);\n        if (fileComponent && !util.isTable(fileComponent)) return;\n        if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\n\n        if (rangeEl) {\n          format = util.createElement(formatName || 'P');\n          format.innerHTML = rangeEl.innerHTML;\n          if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n          rangeEl.innerHTML = format.outerHTML;\n          format = rangeEl.firstChild;\n          focusNode = util.getEdgeChildNodes(format, null).sc;\n\n          if (!focusNode) {\n            focusNode = util.createTextNode(util.zeroWidthSpace);\n            format.insertBefore(focusNode, format.firstChild);\n          }\n\n          offset = focusNode.textContent.length;\n          this.setRange(focusNode, offset, focusNode, offset);\n          return;\n        }\n\n        if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n          let br = null;\n\n          if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n            br = commonCon.firstChild;\n          } else {\n            br = util.createTextNode(util.zeroWidthSpace);\n            commonCon.appendChild(br);\n          }\n\n          this.setRange(br, 1, br, 1);\n          return;\n        }\n\n        this.execCommand('formatBlock', false, formatName || 'P');\n        focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n        focusNode = focusNode ? focusNode.ec : commonCon;\n        format = util.getFormatElement(focusNode, null);\n\n        if (!format) {\n          this.removeRange();\n\n          this._editorRange();\n\n          return;\n        }\n\n        if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n        if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n        if (util.isBreak(focusNode)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n          focusNode = zeroWidth;\n        }\n\n        this.effectNode = null;\n        this.nativeFocus();\n      },\n\n      /**\r\n       * @description Initialization after \"setOptions\"\r\n       * @param {Object} el context.element\r\n       * @param {String} _initHTML Initial html string\r\n       * @private\r\n       */\n      _setOptionsInit: function (el, _initHTML) {\n        this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\n        this._componentsInfoReset = true;\n\n        this._editorInit(true, _initHTML);\n      },\n\n      /**\r\n       * @description Initializ editor\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _editorInit: function (reload, _initHTML) {\n        // initialize core and add event listeners\n        this._init(reload, _initHTML);\n\n        event._addEvent();\n\n        this._setCharCount();\n\n        event._offStickyToolbar();\n\n        event.onResize_window(); // toolbar visibility\n\n        context.element.toolbar.style.visibility = '';\n\n        this._checkComponents();\n\n        this._componentsInfoInit = false;\n        this._componentsInfoReset = false;\n        this.history.reset(true);\n\n        this._resourcesStateChange();\n\n        _w.setTimeout(function () {\n          if (typeof functions.onload === 'function') functions.onload(core, reload);\n        });\n      },\n\n      /**\r\n       * @description Create and return an object to cache the new context.\r\n       * @param {Element} contextEl context.element\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _getConstructed: function (contextEl) {\n        return {\n          _top: contextEl.topArea,\n          _relative: contextEl.relative,\n          _toolBar: contextEl.toolbar,\n          _menuTray: contextEl._menuTray,\n          _editorArea: contextEl.editorArea,\n          _wysiwygArea: contextEl.wysiwygFrame,\n          _codeArea: contextEl.code,\n          _placeholder: contextEl.placeholder,\n          _resizingBar: contextEl.resizingBar,\n          _navigation: contextEl.navigation,\n          _charCounter: contextEl.charCounter,\n          _charWrapper: contextEl.charWrapper,\n          _loading: contextEl.loading,\n          _lineBreaker: contextEl.lineBreaker,\n          _lineBreaker_t: contextEl.lineBreaker_t,\n          _lineBreaker_b: contextEl.lineBreaker_b,\n          _resizeBack: contextEl.resizeBackground,\n          _stickyDummy: contextEl._stickyDummy,\n          _arrow: contextEl._arrow\n        };\n      }\n    };\n    /**\r\n     * @description event function\r\n     */\n\n    const event = {\n      _IEisComposing: false,\n      // In IE, there is no \"e.isComposing\" in the key-up event.\n      _lineBreakerBind: null,\n      _responsiveCurrentSize: 'default',\n      _responsiveButtonSize: null,\n      _responsiveButtons: null,\n      _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\n      _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\n      _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\n      _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\n      _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\n      _keyCodeShortcut: {\n        65: 'A',\n        66: 'B',\n        83: 'S',\n        85: 'U',\n        73: 'I',\n        89: 'Y',\n        90: 'Z',\n        219: '[',\n        221: ']'\n      },\n      _shortcutCommand: function (keyCode, shift) {\n        let command = null;\n        const keyStr = event._keyCodeShortcut[keyCode];\n\n        switch (keyStr) {\n          case 'A':\n            command = 'selectAll';\n            break;\n\n          case 'B':\n            if (options.shortcutsDisable.indexOf('bold') === -1) {\n              command = 'STRONG';\n            }\n\n            break;\n\n          case 'S':\n            if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\n              command = 'DEL';\n            }\n\n            break;\n\n          case 'U':\n            if (options.shortcutsDisable.indexOf('underline') === -1) {\n              command = 'U';\n            }\n\n            break;\n\n          case 'I':\n            if (options.shortcutsDisable.indexOf('italic') === -1) {\n              command = 'EM';\n            }\n\n            break;\n\n          case 'Z':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              if (shift) {\n                command = 'redo';\n              } else {\n                command = 'undo';\n              }\n            }\n\n            break;\n\n          case 'Y':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              command = 'redo';\n            }\n\n            break;\n\n          case '[':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = 'outdent';\n            }\n\n            break;\n\n          case ']':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = 'indent';\n            }\n\n            break;\n        }\n\n        if (!command) return false;\n        core.commandHandler(core.commandMap[command], command);\n        return true;\n      },\n      _applyTagEffects: function () {\n        let selectionNode = core.getSelectionNode();\n        if (selectionNode === core.effectNode) return;\n        core.effectNode = selectionNode;\n        const commandMap = core.commandMap;\n        const classOnCheck = this._onButtonsCheck;\n        const commandMapNodes = [];\n        const currentNodes = [];\n        const activePlugins = core.activePlugins;\n        const cLen = activePlugins.length;\n        let nodeName = '';\n\n        while (selectionNode.firstChild) {\n          selectionNode = selectionNode.firstChild;\n        }\n\n        for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n          if (!element) break;\n          if (element.nodeType !== 1 || util.isBreak(element)) continue;\n          nodeName = element.nodeName.toUpperCase();\n          currentNodes.push(nodeName);\n          /* Active plugins */\n\n          for (let c = 0, name; c < cLen; c++) {\n            name = activePlugins[c];\n\n            if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\n              commandMapNodes.push(name);\n            }\n          }\n\n          if (util.isFormatElement(element)) {\n            /* Outdent */\n            if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\n              if (util.isListCell(element) || element.style.marginLeft && util.getNumber(element.style.marginLeft, 0) > 0) {\n                commandMapNodes.push('OUTDENT');\n                commandMap.OUTDENT.removeAttribute('disabled');\n              }\n            }\n            /* Indent */\n\n\n            if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\n              commandMapNodes.push('INDENT');\n              commandMap.INDENT.setAttribute('disabled', true);\n            }\n\n            continue;\n          }\n          /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n          if (classOnCheck.test(nodeName)) {\n            commandMapNodes.push(nodeName);\n            util.addClass(commandMap[nodeName], 'active');\n          }\n        }\n        /** remove class, display text */\n\n\n        for (let key in commandMap) {\n          if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n        /** save current nodes */\n\n\n        core._variable.currentNodes = currentNodes.reverse();\n        core._variable.currentNodesMap = commandMapNodes;\n        /**  Displays the current node structure to resizingBar */\n\n        if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\n      },\n      _cancelCaptionEdit: function () {\n        this.setAttribute('contenteditable', false);\n        this.removeEventListener('blur', event._cancelCaptionEdit);\n      },\n      _buttonsEventHandler: function (e) {\n        let target = e.target;\n        if (core._bindControllersOff) e.stopPropagation();\n\n        if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n          core._antiBlur = false;\n        } else {\n          e.preventDefault();\n        }\n\n        if (util.getParentElement(target, '.se-submenu')) {\n          e.stopPropagation();\n          core._notHideToolbar = true;\n        } else {\n          let command = target.getAttribute('data-command');\n          let className = target.className;\n\n          while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\n            target = target.parentNode;\n            command = target.getAttribute('data-command');\n            className = target.className;\n          }\n\n          if (command === core._submenuName || command === core._containerName) {\n            e.stopPropagation();\n          }\n        }\n      },\n      onClick_toolbar: function (e) {\n        let target = e.target;\n        let display = target.getAttribute('data-display');\n        let command = target.getAttribute('data-command');\n        let className = target.className;\n\n        while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute('data-command');\n          display = target.getAttribute('data-display');\n          className = target.className;\n        }\n\n        if (!command && !display) return;\n        if (target.disabled) return;\n        if (!core.hasFocus) core.nativeFocus();\n        if (!core._variable.isCodeView) core._editorRange();\n        core.actionCall(command, display, target);\n      },\n      onMouseDown_wysiwyg: function (e) {\n        if (util.isNonEditable(context.element.wysiwyg)) return;\n        const tableCell = util.getParentElement(e.target, util.isCell);\n\n        if (tableCell) {\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n            core.callPlugin('table', function () {\n              tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n            }, null);\n          }\n        }\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n\n        if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\n        if (typeof functions.onMouseDown === 'function') functions.onMouseDown(e, core);\n      },\n      onClick_wysiwyg: function (e) {\n        const targetElement = e.target;\n        if (util.isNonEditable(context.element.wysiwyg)) return;\n        const fileComponentInfo = core.getFileComponent(targetElement);\n\n        if (fileComponentInfo) {\n          e.preventDefault();\n          core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          return;\n        }\n\n        const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\n\n        if (util.isNonEditable(figcaption)) {\n          e.preventDefault();\n          figcaption.setAttribute('contenteditable', true);\n          figcaption.focus();\n\n          if (core._isInline && !core._inlineToolbarAttr.isShow) {\n            event._showToolbarInline();\n\n            const hideToolbar = function () {\n              event._hideToolbar();\n\n              figcaption.removeEventListener('blur', hideToolbar);\n            };\n\n            figcaption.addEventListener('blur', hideToolbar);\n          }\n        }\n\n        _w.setTimeout(core._editorRange.bind(core));\n\n        core._editorRange();\n\n        const selectionNode = core.getSelectionNode();\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\n          const range = core.getRange();\n\n          if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\n            if (util.isList(rangeEl)) {\n              const oLi = util.createElement('LI');\n              const prevLi = selectionNode.nextElementSibling;\n              oLi.appendChild(selectionNode);\n              rangeEl.insertBefore(oLi, prevLi);\n            } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\n              core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\n            }\n\n            e.preventDefault();\n            core.focus();\n          }\n        } else {\n          event._applyTagEffects();\n        }\n\n        if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n        if (typeof functions.onClick === 'function') functions.onClick(e, core);\n      },\n      _balloonDelay: null,\n      _showToolbarBalloonDelay: function () {\n        if (event._balloonDelay) {\n          _w.clearTimeout(event._balloonDelay);\n        }\n\n        event._balloonDelay = _w.setTimeout(function () {\n          _w.clearTimeout(this._balloonDelay);\n\n          this._balloonDelay = null;\n\n          this._showToolbarBalloon();\n        }.bind(event), 350);\n      },\n      _toggleToolbarBalloon: function () {\n        core._editorRange();\n\n        const range = core.getRange();\n        if (core._bindControllersOff || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n      },\n      _showToolbarBalloon: function (rangeObj) {\n        if (!core._isBalloon) return;\n        const range = rangeObj || core.getRange();\n        const toolbar = context.element.toolbar;\n        const selection = core.getSelection();\n        let isDirTop;\n\n        if (core._isBalloonAlways && range.collapsed) {\n          isDirTop = true;\n        } else if (selection.focusNode === selection.anchorNode) {\n          isDirTop = selection.focusOffset < selection.anchorOffset;\n        } else {\n          const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n          isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n        }\n\n        let rects = range.getClientRects();\n        rects = rects[isDirTop ? 0 : rects.length - 1];\n        let scrollLeft = 0;\n        let scrollTop = 0;\n        let el = context.element.topArea;\n\n        while (!!el) {\n          scrollLeft += el.scrollLeft;\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        }\n\n        const editorWidth = context.element.topArea.offsetWidth;\n\n        const offsets = event._getEditorOffsets(null);\n\n        const stickyTop = offsets.top;\n        const editorLeft = offsets.left;\n        toolbar.style.top = '-10000px';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n\n        if (!rects) {\n          const node = core.getSelectionNode();\n\n          if (util.isFormatElement(node)) {\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            core.insertNode(zeroWidth, null, false);\n            core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n            core._editorRange();\n\n            rects = core.getRange().getClientRects();\n            rects = rects[isDirTop ? 0 : rects.length - 1];\n          }\n\n          if (!rects) {\n            const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n            rects = {\n              left: nodeOffset.left,\n              top: nodeOffset.top,\n              right: nodeOffset.left,\n              bottom: nodeOffset.top + node.offsetHeight,\n              noText: true\n            };\n            scrollLeft = 0;\n            scrollTop = 0;\n          }\n\n          isDirTop = true;\n        }\n\n        const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\n\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = toolbar.offsetHeight;\n        const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n        if (iframeRects) {\n          rects = {\n            left: rects.left + iframeRects.left,\n            top: rects.top + iframeRects.top,\n            right: rects.right + iframeRects.right - iframeRects.width,\n            bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n          };\n        }\n\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n        if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n          event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n        }\n\n        toolbar.style.visibility = '';\n      },\n      _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n        const padding = 1;\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n        const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n        const overRight = absoluteLeft + toolbarWidth - editorWidth;\n        let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n        let resetTop = false;\n        const space = t + (isDirTop ? event._getEditorOffsets(null).top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n        if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n          isDirTop = true;\n          resetTop = true;\n        } else if (isDirTop && _d.documentElement.offsetTop > space) {\n          isDirTop = false;\n          resetTop = true;\n        }\n\n        if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        toolbar.style.left = _w.Math.floor(l) + 'px';\n        toolbar.style.top = _w.Math.floor(t) + 'px';\n\n        if (isDirTop) {\n          util.removeClass(context.element._arrow, 'se-arrow-up');\n          util.addClass(context.element._arrow, 'se-arrow-down');\n          context.element._arrow.style.top = toolbarHeight + 'px';\n        } else {\n          util.removeClass(context.element._arrow, 'se-arrow-down');\n          util.addClass(context.element._arrow, 'se-arrow-up');\n          context.element._arrow.style.top = -arrowMargin + 'px';\n        }\n\n        const arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n        context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\n      },\n      _showToolbarInline: function () {\n        if (!core._isInline) return;\n        const toolbar = context.element.toolbar;\n        if (options.toolbarContainer) toolbar.style.position = 'relative';else toolbar.style.position = 'absolute';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n        core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n        core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : -1 - toolbar.offsetHeight) + 'px';\n        if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\n        event.onScroll_window();\n        core._inlineToolbarAttr.isShow = true;\n        toolbar.style.visibility = '';\n      },\n      _hideToolbar: function () {\n        if (!core._notHideToolbar && !core._variable.isFullScreen) {\n          context.element.toolbar.style.display = 'none';\n          core._inlineToolbarAttr.isShow = false;\n        }\n      },\n      onInput_wysiwyg: function (e) {\n        core._editorRange();\n\n        const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';\n\n        if (!core._charCount(data)) {\n          e.preventDefault();\n          e.stopPropagation();\n        } // history stack\n\n\n        core.history.push(true);\n        if (typeof functions.onInput === 'function') functions.onInput(e, core);\n      },\n      _onShortcutKey: false,\n      onKeyDown_wysiwyg: function (e) {\n        const keyCode = e.keyCode;\n        const shift = e.shiftKey;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        event._IEisComposing = keyCode === 229;\n        core.submenuOff();\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n        /** Shortcuts */\n\n\n        if (ctrl && event._shortcutCommand(keyCode, shift)) {\n          event._onShortcutKey = true;\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        } else if (event._onShortcutKey) {\n          event._onShortcutKey = false;\n        }\n        /** default key action */\n\n\n        let selectionNode = core.getSelectionNode();\n        const range = core.getRange();\n        const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n        const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\n        let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n        let rangeEl = util.getRangeFormatElement(formatEl, null);\n\n        switch (keyCode) {\n          case 8:\n            /** backspace key */\n            if (!selectRange) {\n              if (fileComponentName) {\n                e.preventDefault();\n                e.stopPropagation();\n                core.plugins[fileComponentName].destroy.call(core);\n                break;\n              }\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            }\n\n            if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              core._setDefaultFormat('P');\n\n              return false;\n            }\n\n            if (!selectRange && !formatEl.previousElementSibling && range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))) {\n              // closure range\n              if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n              } // maintain default format\n\n\n              if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n                e.preventDefault();\n                e.stopPropagation();\n                formatEl.innerHTML = '<br>';\n                const attrs = formatEl.attributes;\n\n                while (attrs[0]) {\n                  formatEl.removeAttribute(attrs[0].name);\n                }\n\n                core.nativeFocus();\n                return false;\n              }\n            } // clean remove tag\n\n\n            if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n              if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n                e.preventDefault();\n                let offset = null;\n                let prev = selectionNode.parentNode.previousSibling;\n                const next = selectionNode.parentNode.nextSibling;\n\n                if (!prev) {\n                  if (!next) {\n                    prev = util.createElement('BR');\n                    formatEl.appendChild(prev);\n                  } else {\n                    prev = next;\n                    offset = 0;\n                  }\n                }\n\n                selectionNode.textContent = '';\n                util.removeItemAllParents(selectionNode, null, formatEl);\n                offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n                core.setRange(prev, offset, prev, offset);\n                break;\n              }\n            } // nested list\n\n\n            const commonCon = range.commonAncestorContainer;\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n                if (range.startContainer !== range.endContainer) {\n                  e.preventDefault();\n                  core.removeNode();\n\n                  if (range.startContainer.nodeType === 3) {\n                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                  } // history stack\n\n\n                  core.history.push(true);\n                } else {\n                  let prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                  if (util.isListCell(prev)) {\n                    e.preventDefault();\n                    let prevLast = prev;\n\n                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild.lastElementChild;\n\n                      while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                        prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                      }\n\n                      prev = prevLast;\n                    }\n\n                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\n\n                    if (!con) {\n                      con = util.createTextNode(util.zeroWidthSpace);\n                      rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                    }\n\n                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\n                    const children = formatEl.childNodes;\n                    let after = con;\n                    let child = children[0];\n\n                    while (child = children[0]) {\n                      prev.insertBefore(child, after.nextSibling);\n                      after = child;\n                    }\n\n                    util.removeItem(formatEl);\n                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                    core.setRange(con, offset, con, offset); // history stack\n\n                    core.history.push(true);\n                  }\n                }\n\n                break;\n              } // detach range\n\n\n              if (!selectRange && range.startOffset === 0) {\n                let detach = true;\n                let comm = commonCon;\n\n                while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                  if (comm.previousSibling) {\n                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                      detach = false;\n                      break;\n                    }\n                  }\n\n                  comm = comm.parentNode;\n                }\n\n                if (detach && rangeEl.parentNode) {\n                  e.preventDefault();\n                  core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                  core.history.push(true);\n                  break;\n                }\n              }\n            } // component\n\n\n            if (!selectRange && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // select file component\n\n              const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\n\n              if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || ignoreZWS && util.isComponent(formatEl.previousSibling))) {\n                const fileComponentInfo = core.getFileComponent(formatEl.previousSibling);\n\n                if (fileComponentInfo) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                  core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n                }\n\n                break;\n              } // delete nonEditable\n\n\n              if (util.isNonEditable(sel.previousSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.previousSibling);\n                break;\n              }\n            }\n\n            break;\n\n          case 46:\n            /** delete key */\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[fileComponentName].destroy.call(core);\n              break;\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            } // component\n\n\n            if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n              let nextEl = formatEl.nextElementSibling;\n\n              if (!nextEl) {\n                e.preventDefault();\n                break;\n              }\n\n              if (util.isComponent(nextEl)) {\n                e.preventDefault();\n\n                if (util.onlyZeroWidthSpace(formatEl)) {\n                  util.removeItem(formatEl); // table component\n\n                  if (util.isTable(nextEl)) {\n                    let cell = util.getChildElement(nextEl, util.isCell, false);\n                    cell = cell.firstElementChild || cell;\n                    core.setRange(cell, 0, cell, 0);\n                    break;\n                  }\n                } // select file component\n\n\n                const fileComponentInfo = core.getFileComponent(nextEl);\n\n                if (fileComponentInfo) {\n                  e.stopPropagation();\n                  core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n                }\n\n                break;\n              }\n            }\n\n            if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // delete nonEditable\n\n              if (util.isNonEditable(sel.nextSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.nextSibling);\n                break;\n              }\n            } // nested list\n\n\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n              if (range.startContainer !== range.endContainer) core.removeNode();\n              let next = util.getArrayItem(formatEl.children, util.isList, false);\n              next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n              if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\n                e.preventDefault();\n                let con, children;\n\n                if (util.isList(next)) {\n                  const child = next.firstElementChild;\n                  children = child.childNodes;\n                  con = children[0];\n\n                  while (children[0]) {\n                    formatEl.insertBefore(children[0], next);\n                  }\n\n                  util.removeItem(child);\n                } else {\n                  con = next.firstChild;\n                  children = next.childNodes;\n\n                  while (children[0]) {\n                    formatEl.appendChild(children[0]);\n                  }\n\n                  util.removeItem(next);\n                }\n\n                core.setRange(con, 0, con, 0); // history stack\n\n                core.history.push(true);\n              }\n\n              break;\n            }\n\n            break;\n\n          case 9:\n            /** tab key */\n            if (fileComponentName || options.tabDisable) break;\n            e.preventDefault();\n            if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n            const isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n            const selectedFormats = core.getSelectedElements(null);\n            selectionNode = core.getSelectionNode();\n            const cells = [];\n            let lines = [];\n            let fc = util.isListCell(selectedFormats[0]),\n                lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n            let r = {\n              sc: range.startContainer,\n              so: range.startOffset,\n              ec: range.endContainer,\n              eo: range.endOffset\n            };\n\n            for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\n              f = selectedFormats[i];\n\n              if (util.isListCell(f)) {\n                if (!f.previousElementSibling && !shift) {\n                  continue;\n                } else {\n                  cells.push(f);\n                }\n              } else {\n                lines.push(f);\n              }\n            } // Nested list\n\n\n            if (cells.length > 0 && isEdge && core.plugins.list) {\n              r = core.plugins.list.editInsideList.call(core, shift, cells);\n            } else {\n              // table\n              const tableCell = util.getParentElement(selectionNode, util.isCell);\n\n              if (tableCell && isEdge) {\n                const table = util.getParentElement(tableCell, 'table');\n                const cells = util.getListChildren(table, util.isCell);\n                let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\n                if (idx === cells.length && !shift) idx = 0;\n                if (idx === -1 && shift) idx = cells.length - 1;\n                let moveCell = cells[idx];\n                if (!moveCell) break;\n                moveCell = moveCell.firstElementChild || moveCell;\n                core.setRange(moveCell, 0, moveCell, 0);\n                break;\n              }\n\n              lines = lines.concat(cells);\n              fc = lc = null;\n            } // Lines tab(4)\n\n\n            if (lines.length > 0) {\n              if (!shift) {\n                const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\n\n                if (lines.length === 1) {\n                  const textRange = core.insertNode(tabText, null, true);\n                  if (!textRange) return false;\n\n                  if (!fc) {\n                    r.sc = tabText;\n                    r.so = textRange.endOffset;\n                  }\n\n                  if (!lc) {\n                    r.ec = tabText;\n                    r.eo = textRange.endOffset;\n                  }\n                } else {\n                  const len = lines.length - 1;\n\n                  for (let i = 0, child; i <= len; i++) {\n                    child = lines[i].firstChild;\n                    if (!child) continue;\n\n                    if (util.isBreak(child)) {\n                      lines[i].insertBefore(tabText.cloneNode(false), child);\n                    } else {\n                      child.textContent = tabText.textContent + child.textContent;\n                    }\n                  }\n\n                  const firstChild = util.getChildElement(lines[0], 'text', false);\n                  const endChild = util.getChildElement(lines[len], 'text', true);\n\n                  if (!fc && firstChild) {\n                    r.sc = firstChild;\n                    r.so = 0;\n                  }\n\n                  if (!lc && endChild) {\n                    r.ec = endChild;\n                    r.eo = endChild.textContent.length;\n                  }\n                }\n              } else {\n                const len = lines.length - 1;\n\n                for (let i = 0, line; i <= len; i++) {\n                  line = lines[i].childNodes;\n\n                  for (let c = 0, cLen = line.length, child; c < cLen; c++) {\n                    child = line[c];\n                    if (!child) break;\n                    if (util.onlyZeroWidthSpace(child)) continue;\n\n                    if (/^\\s{1,4}$/.test(child.textContent)) {\n                      util.removeItem(child);\n                    } else if (/^\\s{1,4}/.test(child.textContent)) {\n                      child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\n                    }\n\n                    break;\n                  }\n                }\n\n                const firstChild = util.getChildElement(lines[0], 'text', false);\n                const endChild = util.getChildElement(lines[len], 'text', true);\n\n                if (!fc && firstChild) {\n                  r.sc = firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && endChild) {\n                  r.ec = endChild;\n                  r.eo = endChild.textContent.length;\n                }\n              }\n            }\n\n            core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n            core.history.push(false);\n            break;\n\n          case 13:\n            /** enter key */\n            const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n            if (core._charTypeHTML) {\n              let enterHTML = '';\n\n              if (!shift && freeFormatEl || shift) {\n                enterHTML = '<br>';\n              } else {\n                enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\n              }\n\n              if (!core.checkCharCount(enterHTML, 'byte-html')) {\n                e.preventDefault();\n                return false;\n              }\n            }\n\n            if (!shift && freeFormatEl) {\n              e.preventDefault();\n              const selectionFormat = selectionNode === freeFormatEl;\n              const wSelection = core.getSelection();\n              const children = selectionNode.childNodes,\n                    offset = wSelection.focusOffset,\n                    prev = selectionNode.previousElementSibling,\n                    next = selectionNode.nextSibling;\n\n              if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && (selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || (!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent)) && offset > 0 && util.isBreak(children[offset - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || !util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))) {\n                if (selectionFormat) util.removeItem(children[offset - 1]);else util.removeItem(selectionNode);\n                const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                util.copyFormatAttributes(newEl, freeFormatEl);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n\n              if (selectionFormat) {\n                functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? '<br>' : '<br><br>', true, false);\n                let focusNode = wSelection.focusNode;\n                const wOffset = wSelection.focusOffset;\n\n                if (freeFormatEl === focusNode) {\n                  focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\n                }\n\n                core.setRange(focusNode, 1, focusNode, 1);\n              } else {\n                const focusNext = wSelection.focusNode.nextSibling;\n                const br = util.createElement('BR');\n                core.insertNode(br, null, false);\n                const brPrev = br.previousSibling,\n                      brNext = br.nextSibling;\n\n                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                  br.parentNode.insertBefore(br.cloneNode(false), br);\n                  core.setRange(br, 1, br, 1);\n                } else {\n                  core.setRange(brNext, 0, brNext, 0);\n                }\n              }\n\n              event._onShortcutKey = true;\n              break;\n            }\n\n            if (selectRange) break;\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              const range = core.getRange();\n\n              if (core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\n                e.preventDefault();\n                const newEl = util.createElement('LI');\n                const br = util.createElement('BR');\n                newEl.appendChild(br);\n                formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\n                newEl.appendChild(selectionNode.nextSibling);\n                core.setRange(br, 1, br, 1);\n                break;\n              }\n\n              if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n                e.preventDefault();\n                let newEl = null;\n\n                if (util.isListCell(rangeEl.parentNode)) {\n                  rangeEl = formatEl.parentNode.parentNode.parentNode;\n                  newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n\n                  if (!newEl) {\n                    const newListCell = util.createElement('LI');\n                    newListCell.innerHTML = '<br>';\n                    rangeEl.insertBefore(newListCell, newEl);\n                    newEl = newListCell;\n                  }\n                } else {\n                  const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : 'P';\n                  newEl = util.createElement(newFormat);\n                  const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                  edge.cc.insertBefore(newEl, edge.ec);\n                }\n\n                newEl.innerHTML = '<br>';\n                util.copyFormatAttributes(newEl, formatEl);\n                util.removeItemAllParents(formatEl, null, null);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n            }\n\n            if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\n              e.preventDefault();\n              formatEl = core.appendFormatTag(formatEl, null);\n              core.setRange(formatEl, 0, formatEl, 0);\n            }\n\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              const compContext = context[fileComponentName];\n              const container = compContext._container;\n              const sibling = container.previousElementSibling || container.nextElementSibling;\n              let newEl = null;\n\n              if (util.isListCell(container.parentNode)) {\n                newEl = util.createElement('BR');\n              } else {\n                newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : 'P');\n                newEl.innerHTML = '<br>';\n              }\n\n              container.parentNode.insertBefore(newEl, container);\n              core.callPlugin(fileComponentName, function () {\n                core.selectComponent(compContext._element, fileComponentName);\n              }, null);\n            }\n\n            break;\n\n          case 27:\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.controllersOff();\n              return false;\n            }\n\n            break;\n        }\n\n        if (shift && /16/.test(keyCode)) {\n          e.preventDefault();\n          e.stopPropagation();\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n            const cell = util.getParentElement(formatEl, util.isCell);\n\n            if (cell) {\n              tablePlugin.onTableCellMultiSelect.call(core, cell, true);\n              return;\n            }\n          }\n        }\n\n        const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null, false);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n        }\n\n        if (typeof functions.onKeyDown === 'function') functions.onKeyDown(e, core);\n      },\n      onKeyUp_wysiwyg: function (e) {\n        if (event._onShortcutKey) return;\n\n        core._editorRange();\n\n        const range = core.getRange();\n        const keyCode = e.keyCode;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        let selectionNode = core.getSelectionNode();\n\n        if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n          if (core._isBalloonAlways) {\n            if (keyCode !== 27) event._showToolbarBalloonDelay();\n          } else {\n            event._showToolbarBalloon();\n\n            return;\n          }\n        }\n        /** when format tag deleted */\n\n\n        if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\n          e.preventDefault();\n          e.stopPropagation();\n          selectionNode.innerHTML = '';\n          const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : 'P');\n          oFormatTag.innerHTML = '<br>';\n          selectionNode.appendChild(oFormatTag);\n          core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n          event._applyTagEffects();\n\n          core.history.push(false);\n          return;\n        }\n\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\n          core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\n\n          selectionNode = core.getSelectionNode();\n        }\n\n        if (event._directionKeyCode.test(keyCode)) {\n          event._applyTagEffects();\n        }\n\n        const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\n          let so = range.startOffset,\n              eo = range.endOffset;\n          const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\n          so = range.startOffset - frontZeroWidthCnt;\n          eo = range.endOffset - frontZeroWidthCnt;\n          selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\n          core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n        }\n\n        core._charCount(''); // history stack\n\n\n        core.history.push(true);\n        if (typeof functions.onKeyUp === 'function') functions.onKeyUp(e, core);\n      },\n      onScroll_wysiwyg: function (e) {\n        core.controllersOff();\n        core._lineBreaker.style.display = 'none';\n        if (core._isBalloon) event._hideToolbar();\n        if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\n      },\n      onFocus_wysiwyg: function (e) {\n        if (core._antiBlur) return;\n        core.hasFocus = true;\n        if (core._isInline) event._showToolbarInline();\n        if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\n      },\n      onBlur_wysiwyg: function (e) {\n        if (core._antiBlur) return;\n        core.hasFocus = false;\n        core.controllersOff();\n        if (core._isInline || core._isBalloon) event._hideToolbar();\n        if (typeof functions.onBlur === 'function') functions.onBlur(e, core); // active class reset of buttons\n\n        const commandMap = core.commandMap;\n        const activePlugins = core.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n\n        core._variable.currentNodes = [];\n        core._variable.currentNodesMap = [];\n        if (options.showPathLabel) context.element.navigation.textContent = '';\n      },\n      onMouseDown_resizingBar: function (e) {\n        e.stopPropagation();\n        core._variable.resizeClientY = e.clientY;\n        context.element.resizeBackground.style.display = 'block';\n\n        function closureFunc() {\n          context.element.resizeBackground.style.display = 'none';\n\n          _d.removeEventListener('mousemove', event._resize_editor);\n\n          _d.removeEventListener('mouseup', closureFunc);\n        }\n\n        _d.addEventListener('mousemove', event._resize_editor);\n\n        _d.addEventListener('mouseup', closureFunc);\n      },\n      _resize_editor: function (e) {\n        const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n        context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\n        core._variable.resizeClientY = e.clientY;\n      },\n      onResize_window: function () {\n        core.controllersOff();\n        const responsiveSize = event._responsiveButtonSize;\n\n        if (responsiveSize) {\n          const windowWidth = _w.innerWidth;\n          let responsiveWidth = 'default';\n\n          for (let i = 1, len = responsiveSize.length; i < len; i++) {\n            if (windowWidth < responsiveSize[i]) {\n              responsiveWidth = responsiveSize[i] + '';\n            }\n          }\n\n          if (event._responsiveCurrentSize !== responsiveWidth) {\n            event._responsiveCurrentSize = responsiveWidth;\n            functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\n          }\n        }\n\n        if (context.element.toolbar.offsetWidth === 0) return;\n\n        if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\n          context.fileBrowser.body.style.maxHeight = _w.innerHeight - context.fileBrowser.header.offsetHeight - 50 + 'px';\n        }\n\n        if (core.submenuActiveButton && core.submenu) {\n          core._setMenuPosition(core.submenuActiveButton, core.submenu);\n        }\n\n        if (core._variable.isFullScreen) {\n          core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n          context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\n          return;\n        }\n\n        if (core._variable.isCodeView && core._isInline) {\n          event._showToolbarInline();\n\n          return;\n        }\n\n        core._iframeAutoHeight();\n\n        if (core._sticky) {\n          context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + 'px';\n          event.onScroll_window();\n        }\n      },\n      onScroll_window: function () {\n        if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n        const element = context.element;\n        const editorHeight = element.editorArea.offsetHeight;\n        const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n        const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\n\n        if (y < editorTop) {\n          event._offStickyToolbar();\n        } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n          if (!core._sticky) event._onStickyToolbar();\n          element.toolbar.style.top = editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + 'px';\n        } else if (y >= editorTop) {\n          event._onStickyToolbar();\n        }\n      },\n      _getEditorOffsets: function (container) {\n        let offsetEl = container || context.element.topArea;\n        let t = 0,\n            l = 0,\n            s = 0;\n\n        while (offsetEl) {\n          t += offsetEl.offsetTop;\n          l += offsetEl.offsetLeft;\n          s += offsetEl.scrollTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        return {\n          top: t,\n          left: l,\n          scroll: s\n        };\n      },\n      _getPageBottomSpace: function () {\n        return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\n      },\n      _onStickyToolbar: function () {\n        const element = context.element;\n\n        if (!core._isInline && !options.toolbarContainer) {\n          element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\n          element._stickyDummy.style.display = 'block';\n        }\n\n        element.toolbar.style.top = options.stickyToolbar + 'px';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\n        util.addClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = true;\n      },\n      _offStickyToolbar: function () {\n        const element = context.element;\n        element._stickyDummy.style.display = 'none';\n        element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\n        element.editorArea.style.marginTop = '';\n        util.removeClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = false;\n      },\n      _codeViewAutoHeight: function () {\n        context.element.code.style.height = context.element.code.scrollHeight + 'px';\n      },\n      // FireFox - table delete, Chrome - image, video, audio\n      _hardDelete: function () {\n        const range = core.getRange();\n        const sc = range.startContainer;\n        const ec = range.endContainer; // table\n\n        const sCell = util.getRangeFormatElement(sc);\n        const eCell = util.getRangeFormatElement(ec);\n        const sIsCell = util.isCell(sCell);\n        const eIsCell = util.isCell(eCell);\n\n        if ((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling || eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling) && sCell !== eCell) {\n          if (!sIsCell) {\n            util.removeItem(util.getParentElement(eCell, util.isComponent));\n          } else if (!eIsCell) {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n          } else {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n            core.nativeFocus();\n            return true;\n          }\n        } // component\n\n\n        const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\n        const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\n        if (sComp) util.removeItem(sComp);\n        if (eComp) util.removeItem(eComp);\n        return false;\n      },\n      onPaste_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n        if (!clipboardData) return true;\n        return event._dataTransferAction('paste', e, clipboardData);\n      },\n      _setClipboardComponent: function (e, info, clipboardData) {\n        e.preventDefault();\n        e.stopPropagation();\n        clipboardData.setData('text/html', info.component.outerHTML);\n      },\n      onCopy_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n\n        if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.addClass(info.component, 'se-component-copy'); // copy effect\n\n          _w.setTimeout(function () {\n            util.removeClass(info.component, 'se-component-copy');\n          }, 150);\n        }\n      },\n      onCut_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n\n        if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.removeItem(info.component);\n          core.controllersOff();\n        }\n\n        _w.setTimeout(function () {\n          // history stack\n          core.history.push(false);\n        });\n      },\n      onDrop_wysiwyg: function (e) {\n        const dataTransfer = e.dataTransfer;\n        if (!dataTransfer) return true;\n\n        if (util.isIE) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        core.removeNode();\n\n        event._setDropLocationSelection(e);\n\n        return event._dataTransferAction('drop', e, dataTransfer);\n      },\n      _setDropLocationSelection: function (e) {\n        if (e.rangeParent) {\n          core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\n        } else if (core._wd.caretRangeFromPoint) {\n          const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\n\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        } else {\n          const r = core.getRange();\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        }\n      },\n      _dataTransferAction: function (type, e, data) {\n        let plainText, cleanData;\n\n        if (util.isIE) {\n          plainText = data.getData('Text');\n          const range = core.getRange();\n          const tempDiv = util.createElement('DIV');\n          const tempRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n          };\n          tempDiv.setAttribute('contenteditable', true);\n          tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\n          context.element.relative.appendChild(tempDiv);\n          tempDiv.focus();\n\n          _w.setTimeout(function () {\n            cleanData = tempDiv.innerHTML;\n            util.removeItem(tempDiv);\n            core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\n\n            event._setClipboardData(type, e, plainText, cleanData, data);\n          });\n\n          return true;\n        } else {\n          plainText = data.getData('text/plain');\n          cleanData = data.getData('text/html');\n\n          if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n          }\n        }\n      },\n      _setClipboardData: function (type, e, plainText, cleanData, data) {\n        // MS word\n        if (/class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData)) {\n          cleanData = cleanData.replace(/\\n/g, ' ');\n          plainText = plainText.replace(/\\n/g, ' ');\n        } else {\n          plainText = plainText.replace(/\\n/g, '');\n        }\n\n        cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\n\n        const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText); // paste event\n\n\n        if (type === 'paste' && typeof functions.onPaste === 'function' && !functions.onPaste(e, cleanData, maxCharCount, core)) {\n          return false;\n        } // drop event\n\n\n        if (type === 'drop' && typeof functions.onDrop === 'function' && !functions.onDrop(e, data, core)) {\n          return false;\n        } // files\n\n\n        const files = data.files;\n\n        if (files.length > 0) {\n          if (/^image/.test(files[0].type) && core.plugins.image) {\n            functions.insertImage(files);\n          }\n\n          return false;\n        }\n\n        if (!maxCharCount) {\n          return false;\n        }\n\n        if (cleanData) {\n          functions.insertHTML(cleanData, true, false);\n          return false;\n        }\n      },\n      onMouseMove_wysiwyg: function (e) {\n        if (core.isDisabled) return;\n        const component = util.getParentElement(e.target, util.isComponent);\n        const lineBreakerStyle = core._lineBreaker.style;\n\n        if (component && !core.currentControllerName) {\n          let scrollTop = 0;\n          let el = context.element.wysiwyg;\n\n          do {\n            scrollTop += el.scrollTop;\n            el = el.parentElement;\n          } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n          const wScroll = context.element.wysiwyg.scrollTop;\n\n          const offsets = event._getEditorOffsets(null);\n\n          const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\n          const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? context.element.toolbar.offsetHeight : 0);\n          const c = componentTop + (options.iframe ? scrollTop : offsets.top);\n          const isList = util.isListCell(component.parentNode);\n          let dir = '',\n              top = '';\n\n          if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < c + 20) {\n            top = componentTop;\n            dir = 't';\n          } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > c + component.offsetHeight - 20) {\n            top = componentTop + component.offsetHeight;\n            dir = 'b';\n          } else {\n            lineBreakerStyle.display = 'none';\n            return;\n          }\n\n          core._variable._lineBreakComp = component;\n          core._variable._lineBreakDir = dir;\n          lineBreakerStyle.top = top - wScroll + 'px';\n          core._lineBreakerButton.style.left = util.getOffset(component).left + component.offsetWidth / 2 - 15 + 'px';\n          lineBreakerStyle.display = 'block';\n        } // off line breaker\n        else if (lineBreakerStyle.display !== 'none') {\n            lineBreakerStyle.display = 'none';\n          }\n      },\n      _onMouseDown_lineBreak: function (e) {\n        e.preventDefault();\n      },\n      _onLineBreak: function (e) {\n        e.preventDefault();\n        const component = core._variable._lineBreakComp;\n        const dir = !this ? core._variable._lineBreakDir : this;\n        const isList = util.isListCell(component.parentNode);\n        const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : 'P');\n        if (!isList) format.innerHTML = '<br>';\n        if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\n        component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\n        core._lineBreaker.style.display = 'none';\n        core._variable._lineBreakComp = null;\n        const focusEl = isList ? format : format.firstChild;\n        core.setRange(focusEl, 1, focusEl, 1); // history stack\n\n        core.history.push(false);\n      },\n      _addEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        /** toolbar event */\n\n        context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\n        /** editor area */\n\n        eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\n        eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\n        eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\n        eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\n        eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\n        eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\n        eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\n        eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\n        eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\n        eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\n        /** line breaker */\n\n        event._lineBreakerBind = {\n          a: event._onLineBreak.bind(''),\n          t: event._onLineBreak.bind('t'),\n          b: event._onLineBreak.bind('b')\n        };\n        eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\n\n        core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\n\n        core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\n\n        context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\n        context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\n        /** Events are registered only when there is a table plugin.  */\n\n        if (core.plugins.table) {\n          eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {\n            passive: true,\n            useCapture: false\n          });\n        }\n        /** code view area auto line */\n\n\n        if (options.height === 'auto' && !options.codeMirrorEditor) {\n          context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\n        }\n        /** resizingBar */\n\n\n        if (context.element.resizingBar) {\n          if (/\\d+/.test(options.height)) {\n            context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\n          } else {\n            util.addClass(context.element.resizingBar, 'se-resizing-none');\n          }\n        }\n        /** window event */\n\n\n        event._setResponsiveToolbar();\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n\n        _w.addEventListener('resize', event.onResize_window, false);\n\n        if (options.stickyToolbar > -1) {\n          _w.addEventListener('scroll', event.onScroll_window, false);\n        }\n      },\n      _removeEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\n        eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\n        eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\n        eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\n        eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\n        eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\n        eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\n        eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\n        eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\n        eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\n        eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\n        eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\n\n        core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\n\n        core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\n\n        context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\n        context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\n        event._lineBreakerBind = null;\n        eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n        eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\n        eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\n        context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\n\n        if (context.element.resizingBar) {\n          context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\n        }\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n      },\n      _setResponsiveToolbar: function () {\n        if (_responsiveButtons.length === 0) {\n          _responsiveButtons = null;\n          return;\n        }\n\n        const sizeArray = event._responsiveButtonSize = ['default'];\n        const buttonsObj = event._responsiveButtons = {\n          default: _responsiveButtons[0]\n        };\n\n        for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\n          buttonGroup = _responsiveButtons[i];\n          size = buttonGroup[0] * 1;\n          sizeArray.push(size);\n          buttonsObj[size] = buttonGroup[1];\n        }\n      }\n    };\n    /** functions */\n\n    const functions = {\n      /**\r\n       * @description Core, Util object\r\n       */\n      core: core,\n      util: util,\n\n      /**\r\n       * @description Event functions\r\n       * @param {Object} e Event Object\r\n       * @param {Object} core Core object\r\n       */\n      onload: null,\n      onScroll: null,\n      onMouseDown: null,\n      onClick: null,\n      onInput: null,\n      onKeyDown: null,\n      onKeyUp: null,\n      onDrop: null,\n      onChange: null,\n      onCopy: null,\n      onCut: null,\n      onPaste: null,\n      onFocus: null,\n      onBlur: null,\n\n      /**\r\n       * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n       * @param {Element} toolbar Toolbar Element\r\n       * @param {Object} context The editor's context object (editor.getContext())\r\n       * @param {Object} core Core object\r\n       */\n      showInline: null,\n\n      /**\r\n       * @description Called just after the controller is positioned and displayed on the screen.\r\n       * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n       * @param {String} name The name of the plugin that called the controller\r\n       * @param {Array} controllers Array of Controller elements\r\n       * @param {Object} core Core object\r\n       */\n      showController: null,\n\n      /**\r\n       * @description An event when toggling between code view and wysiwyg view.\r\n       * @param {Boolean} isCodeView Whether the current code view mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleCodeView: null,\n\n      /**\r\n       * @description An event when toggling full screen.\r\n       * @param {Boolean} isFullScreen Whether the current full screen mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleFullScreen: null,\n\n      /**\r\n       * @description It replaces the default callback function of the image upload\r\n       * @param {Object} response Response object\r\n       * @param {Object} info Input information\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * @param {Object} core Core object\r\n       */\n      imageUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the video upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * @param core Core object\r\n       */\n      videoUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the audio upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * @param core Core object\r\n       */\n      audioUploadHandler: null,\n\n      /**\r\n       * @description Called before the image is uploaded\r\n       * If false is returned, no image upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onImageUploadBefore: null,\n\n      /**\r\n       * @description Called before the video is uploaded\r\n       * If false is returned, no video(iframe, video) upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onVideoUploadBefore: null,\n\n      /**\r\n       * @description Called before the audio is uploaded\r\n       * If false is returned, no audio upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onAudioUploadBefore: null,\n\n      /**\r\n       * @description Called when the image is uploaded, updated, deleted\r\n       * @param {Element} targetElement Target element\r\n       * @param {Number} index Uploaded index\r\n       * @param {String} state Upload status ('create', 'update', 'delete')\r\n       * @param {Object} info Image info object\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n       * @param {Object} core Core object\r\n       */\n      onImageUpload: null,\n\n      /**\r\n      * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onVideoUpload: null,\n\n      /**\r\n      * @description Called when the audio is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onAudioUpload: null,\n\n      /**\r\n       * @description Called when the image is upload failed\r\n       * @param {String} errorMessage Error message\r\n       * @param {Object} result Response Object\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean}\r\n       */\n      onImageUploadError: null,\n\n      /**\r\n       * @description Called when the video(iframe, video) upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onVideoUploadError: null,\n\n      /**\r\n       * @description Called when the audio upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onAudioUploadError: null,\n\n      /**\r\n       * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n       * You cannot set a new plugin for the button.\r\n       * @param {Array} buttonList Button list \r\n       */\n      setToolbarButtons: function (buttonList) {\n        core.submenuOff();\n        core.containerOff();\n\n        const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\n\n        _responsiveButtons = newToolbar.responsiveButtons;\n        core._moreLayerActiveButton = null;\n\n        event._setResponsiveToolbar();\n\n        context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\n        const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\n        context.element = newContext.element;\n        context.tool = newContext.tool;\n        if (options.iframe) context.element.wysiwyg = core._wd.body;\n\n        core._cachingButtons();\n\n        core.history._resetCachingButton();\n\n        core.activePlugins = [];\n        const oldCallButtons = pluginCallButtons;\n        pluginCallButtons = newToolbar.pluginCallButtons;\n        let plugin, button, oldButton;\n\n        for (let key in pluginCallButtons) {\n          if (!util.hasOwn(pluginCallButtons, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            oldButton = oldCallButtons[key];\n            core.callPlugin(key, null, oldButton || button);\n\n            if (oldButton) {\n              button.parentElement.replaceChild(oldButton, button);\n              pluginCallButtons[key] = oldButton;\n            }\n          }\n        }\n\n        if (core.hasFocus) event._applyTagEffects();\n        if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\n        if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\n        if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\n      },\n\n      /**\r\n       * @description Add or reset option property (Editor is reloaded)\r\n       * @param {Object} _options Options\r\n       */\n      setOptions: function (_options) {\n        event._removeEvent();\n\n        core._resetComponents();\n\n        util.removeClass(core._styleCommandMap.showBlocks, 'active');\n        util.removeClass(core._styleCommandMap.codeView, 'active');\n        core._variable.isCodeView = false;\n        core._iframeAuto = null;\n        core.plugins = _options.plugins || core.plugins;\n        const mergeOptions = [options, _options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n        const el = context.element;\n        const _initHTML = el.wysiwyg.innerHTML; // set option\n\n        const cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, options);\n\n        if (cons.callButtons) {\n          pluginCallButtons = cons.callButtons;\n          core.initPlugins = {};\n        }\n\n        if (cons.plugins) {\n          core.plugins = plugins = cons.plugins;\n        } // reset context\n\n\n        if (el._menuTray.children.length === 0) this._menuTray = {};\n        _responsiveButtons = cons.toolbar.responsiveButtons;\n        options = mergeOptions;\n        core.lang = lang = options.lang;\n\n        if (options.iframe) {\n          el.wysiwygFrame.addEventListener('load', function () {\n            util._setIframeDocument(this, options);\n\n            core._setOptionsInit(el, _initHTML);\n          });\n        }\n\n        el.editorArea.appendChild(el.wysiwygFrame);\n\n        if (!options.iframe) {\n          core._setOptionsInit(el, _initHTML);\n        }\n      },\n\n      /**\r\n       * @description Set \"options.defaultStyle\" style.\r\n       * Define the style of the edit area\r\n       * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n       * @param {String} style Style string\r\n       */\n      setDefaultStyle: function (style) {\n        const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\n\n        const el = context.element; // top area\n\n        el.topArea.style.cssText = newStyles.top; // code view\n\n        el.code.style.cssText = options._editorStyles.frame;\n        el.code.style.display = 'none';\n\n        if (options.height === 'auto') {\n          el.code.style.overflow = 'hidden';\n        } else {\n          el.code.style.overflow = '';\n        } // wysiwyg frame\n\n\n        if (!options.iframe) {\n          el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\n        } else {\n          el.wysiwygFrame.style.cssText = newStyles.frame;\n          el.wysiwyg.style.cssText = newStyles.editor;\n        }\n      },\n\n      /**\r\n       * @description Open a notice area\r\n       * @param {String} message Notice message\r\n       */\n      noticeOpen: function (message) {\n        core.notice.open.call(core, message);\n      },\n\n      /**\r\n       * @description Close a notice area\r\n       */\n      noticeClose: function () {\n        core.notice.close.call(core);\n      },\n\n      /**\r\n       * @description Copying the contents of the editor to the original textarea\r\n       */\n      save: function () {\n        context.element.originElement.value = core.getContents(false);\n      },\n\n      /**\r\n       * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n       * @returns {Object}\r\n       */\n      getContext: function () {\n        return context;\n      },\n\n      /**\r\n       * @description Gets the contents of the suneditor\r\n       * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {String}\r\n       */\n      getContents: function (onlyContents) {\n        return core.getContents(onlyContents);\n      },\n\n      /**\r\n       * @description Gets only the text of the suneditor contents\r\n       * @returns {String}\r\n       */\n      getText: function () {\n        return context.element.wysiwyg.textContent;\n      },\n\n      /**\r\n       * @description Get the editor's number of characters or binary data size.\r\n       * You can use the \"charCounterType\" option format.\r\n       * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n       * If argument is no value, the currently set \"charCounterType\" option is used.\r\n       * @returns {Number}\r\n       */\n      getCharCount: function (charCounterType) {\n        charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\n        return core.getCharLength(core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n      },\n\n      /**\r\n       * @description Gets uploaded images informations\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @returns {Array}\r\n       */\n      getImagesInfo: function () {\n        return context.image ? context.image._infoList : [];\n      },\n\n      /**\r\n       * @description Gets uploaded files(plugin using fileManager) information list.\r\n       * image: [img], video: [video, iframe], audio: [audio]\r\n       * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {String} pluginName Plugin name (image, video, audio)\r\n       * @returns {Array}\r\n       */\n      getFilesInfo: function (pluginName) {\n        return context[pluginName] ? context[pluginName]._infoList : [];\n      },\n\n      /**\r\n       * @description Upload images using image plugin\r\n       * @param {FileList} files FileList\r\n       */\n      insertImage: function (files) {\n        if (!core.plugins.image || !files) return;\n        if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n        core.focus();\n      },\n\n      /**\r\n       * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n       * @param {Element|String} html HTML Element or HTML string or plain string\r\n       * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n       */\n      insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\n        if (typeof html === 'string') {\n          if (!notCleaningData) html = core.cleanHTML(html, null);\n\n          try {\n            const dom = _d.createRange().createContextualFragment(html);\n\n            const domTree = dom.childNodes;\n\n            if (checkCharCount) {\n              const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\n              let checkHTML = '';\n\n              for (let i = 0, len = domTree.length; i < len; i++) {\n                checkHTML += domTree[i][type];\n              }\n\n              if (!core.checkCharCount(checkHTML, null)) return;\n            }\n\n            let c, a, t, firstCon;\n\n            while (c = domTree[0]) {\n              t = core.insertNode(c, a, false);\n              a = t.container || t;\n              if (!firstCon) firstCon = t;\n            }\n\n            const offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n            if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);else core.setRange(a, offset, a, offset);\n          } catch (error) {\n            core.execCommand('insertHTML', false, html);\n          }\n        } else {\n          if (util.isComponent(html)) {\n            core.insertComponent(html, false, checkCharCount, false);\n          } else {\n            let afterNode = null;\n\n            if (util.isFormatElement(html) || util.isMedia(html)) {\n              afterNode = util.getFormatElement(core.getSelectionNode(), null);\n            }\n\n            core.insertNode(html, afterNode, checkCharCount);\n          }\n        }\n\n        core.effectNode = null;\n        core.focus(); // history stack\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Change the contents of the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      setContents: function (contents) {\n        core.setContents(contents);\n      },\n\n      /**\r\n       * @description Add contents to the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      appendContents: function (contents) {\n        const convertValue = core.convertContentsForEditor(contents);\n\n        if (!core._variable.isCodeView) {\n          const temp = util.createElement('DIV');\n          temp.innerHTML = convertValue;\n          const wysiwyg = context.element.wysiwyg;\n          const children = temp.children;\n\n          for (let i = 0, len = children.length; i < len; i++) {\n            wysiwyg.appendChild(children[i]);\n          }\n        } else {\n          core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\n        } // history stack\n\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Disable the suneditor\r\n       */\n      disabled: function () {\n        context.tool.cover.style.display = 'block';\n        context.element.wysiwyg.setAttribute('contenteditable', false);\n        core.isDisabled = true;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', true);\n        } else {\n          context.element.code.setAttribute('disabled', 'disabled');\n        }\n      },\n\n      /**\r\n       * @description Enable the suneditor\r\n       */\n      enabled: function () {\n        context.tool.cover.style.display = 'none';\n        context.element.wysiwyg.setAttribute('contenteditable', true);\n        core.isDisabled = false;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', false);\n        } else {\n          context.element.code.removeAttribute('disabled');\n        }\n      },\n\n      /**\r\n       * @description Show the suneditor\r\n       */\n      show: function () {\n        const topAreaStyle = context.element.topArea.style;\n        if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\n      },\n\n      /**\r\n       * @description Hide the suneditor\r\n       */\n      hide: function () {\n        context.element.topArea.style.display = 'none';\n      },\n\n      /**\r\n       * @description Destroy the suneditor\r\n       */\n      destroy: function () {\n        /** off menus */\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        if (core.notice) core.notice.close.call(core);\n        if (core.modalForm) core.plugins.dialog.close.call(core);\n        /** remove history */\n\n        core.history._destroy();\n        /** remove event listeners */\n\n\n        event._removeEvent();\n        /** remove element */\n\n\n        util.removeItem(context.element.toolbar);\n        util.removeItem(context.element.topArea);\n        /** remove object reference */\n\n        for (let k in core) {\n          if (util.hasOwn(core, k)) delete core[k];\n        }\n\n        for (let k in event) {\n          if (util.hasOwn(event, k)) delete event[k];\n        }\n\n        for (let k in context) {\n          if (util.hasOwn(context, k)) delete context[k];\n        }\n\n        for (let k in pluginCallButtons) {\n          if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k];\n        }\n        /** remove user object */\n\n\n        for (let k in this) {\n          if (util.hasOwn(this, k)) delete this[k];\n        }\n      },\n\n      /**\r\n       * @description Toolbar methods\r\n       */\n      toolbar: {\n        /**\r\n         * @description Disable the toolbar\r\n         */\n        disabled: function () {\n          context.tool.cover.style.display = 'block';\n        },\n\n        /**\r\n         * @description Enable the toolbar\r\n         */\n        enabled: function () {\n          context.tool.cover.style.display = 'none';\n        },\n\n        /**\r\n         * @description Show the toolbar\r\n         */\n        show: function () {\n          if (core._isInline) {\n            event._showToolbarInline();\n          } else {\n            context.element.toolbar.style.display = '';\n            context.element._stickyDummy.style.display = '';\n          }\n        },\n\n        /**\r\n         * @description Hide the toolbar\r\n         */\n        hide: function () {\n          if (core._isInline) {\n            event._hideToolbar();\n          } else {\n            context.element.toolbar.style.display = 'none';\n            context.element._stickyDummy.style.display = 'none';\n          }\n        }\n      }\n    };\n    /************ Core init ************/\n    // functions\n\n    core.functions = functions; // Create to sibling node\n\n    let contextEl = context.element;\n    let originEl = contextEl.originElement;\n    let topEl = contextEl.topArea;\n    originEl.style.display = 'none';\n    topEl.style.display = 'block'; // init\n\n    if (options.iframe) {\n      contextEl.wysiwygFrame.addEventListener('load', function () {\n        util._setIframeDocument(this, options);\n\n        core._editorInit(false, options.value);\n\n        options.value = null;\n      });\n    } // insert editor element\n\n\n    if (typeof originEl.nextElementSibling === 'object') {\n      originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\n    } else {\n      originEl.parentNode.appendChild(topEl);\n    }\n\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\n    contextEl = originEl = topEl = null; // init\n\n    if (!options.iframe) {\n      core._editorInit(false, options.value);\n\n      options.value = null;\n    }\n\n    return functions;\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  var suneditor = {\n    /**\r\n     * @description Returns the create function with preset options.\r\n     * If the options overlap, the options of the 'create' function take precedence.\r\n     * @param {Json} options Initialization options\r\n     * @returns {Object}\r\n     */\n    init: function (init_options) {\n      return {\n        create: function (idOrElement, options) {\n          return this.create(idOrElement, options, init_options);\n        }.bind(this)\n      };\n    },\n\n    /**\r\n     * @description Create the suneditor\r\n     * @param {String|Element} idOrElement textarea Id or textarea element\r\n     * @param {JSON|Object} options user options\r\n     * @returns {Object}\r\n     */\n    create: function (idOrElement, options, _init_options) {\n      lib_util._propertiesInit();\n\n      if (typeof options !== 'object') options = {};\n\n      if (_init_options) {\n        options = [_init_options, options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!lib_util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n      }\n\n      const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n      if (!element) {\n        if (typeof idOrElement === 'string') {\n          throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n        }\n\n        throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n      }\n\n      const cons = lib_constructor.init(element, options);\n\n      if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n        throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n      }\n\n      return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n    }\n  }; // CONCATENATED MODULE: ./misc/getPlugins.js\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var getPlugins = function getPlugins(_ref) {\n    var buttonList = _ref.buttonList,\n        customPlugins = _ref.customPlugins;\n    if (!buttonList) return undefined;\n    if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n      var pluginList = [];\n      buttonList = flatten(buttonList);\n      if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(9).default);\n      if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(10).default);\n      if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(11).default);\n      if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(12).default);\n      if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(13).default);\n      if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(14).default);\n      if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(15).default);\n      if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(16).default);\n      if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(17).default);\n      if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(18).default);\n      if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(19).default);\n      if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(20).default);\n      if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(21).default);\n      if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(22).default);\n      if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(23).default);\n      if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(24).default);\n      if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(25).default);\n      if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(26).default);\n      if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(27).default);\n      if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(28).default);\n      return [].concat(pluginList, _toConsumableArray(customPlugins || []));\n    }\n  };\n\n  var flatten = function flatten(arr) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (!isArray(arr)) {\n      return [].concat(_toConsumableArray(result), [arr]);\n    }\n\n    for (var a = 0; a < arr.length; a++) {\n      result = flatten(arr[a], result);\n    }\n\n    return result;\n  };\n\n  var isArray = function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  /* harmony default export */\n\n\n  var misc_getPlugins = getPlugins; // CONCATENATED MODULE: ./misc/getLanguage.js\n\n  var getLanguage = function getLanguage(lang) {\n    switch (typeof lang) {\n      case 'object':\n        return lang;\n\n      case 'string':\n        switch (lang) {\n          case 'en':\n            return __webpack_require__(4);\n\n          case 'da':\n            return __webpack_require__(29);\n\n          case 'de':\n            return __webpack_require__(30);\n\n          case 'es':\n            return __webpack_require__(31);\n\n          case 'fr':\n            return __webpack_require__(32);\n\n          case 'ja':\n            return __webpack_require__(33);\n\n          case 'ko':\n            return __webpack_require__(34);\n\n          case 'pt_br':\n            return __webpack_require__(35);\n\n          case 'ru':\n            return __webpack_require__(36);\n\n          case 'it':\n            return __webpack_require__(37);\n\n          case 'zh_cn':\n            return __webpack_require__(38);\n\n          case 'ro':\n            return __webpack_require__(39);\n\n          case 'pl':\n            return __webpack_require__(40);\n\n          case 'ckb':\n            return __webpack_require__(41);\n\n          case 'lv':\n            return __webpack_require__(42);\n\n          default:\n            return __webpack_require__(4);\n        }\n\n    }\n\n    return __webpack_require__(4);\n  };\n  /* harmony default export */\n\n\n  var misc_getLanguage = getLanguage; // EXTERNAL MODULE: ./node_modules/prop-types/index.js\n\n  var prop_types = __webpack_require__(0);\n\n  var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types); // CONCATENATED MODULE: ./SunEditor.js\n\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  var SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n    _inherits(SunEditor, _Component);\n\n    var _super = _createSuper(SunEditor);\n\n    function SunEditor() {\n      var _this;\n\n      _classCallCheck(this, SunEditor);\n\n      _this = _super.call(this);\n      _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n      return _this;\n    }\n\n    _createClass(SunEditor, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            lang = _this$props.lang,\n            _this$props$setOption = _this$props.setOptions,\n            setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n            _this$props$width = _this$props.width,\n            width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n            height = _this$props.height;\n        setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n        setOptions.plugins = misc_getPlugins(setOptions);\n        setOptions.width = setOptions.width || width;\n        if (height) setOptions.height = height;\n        this.editor = suneditor.create(this.txtArea.current);\n        var _this$props2 = this.props,\n            name = _this$props2.name,\n            insertHTML = _this$props2.insertHTML,\n            setContents = _this$props2.setContents,\n            setDefaultStyle = _this$props2.setDefaultStyle,\n            appendContents = _this$props2.appendContents,\n            disable = _this$props2.disable,\n            enable = _this$props2.enable,\n            hide = _this$props2.hide,\n            show = _this$props2.show,\n            _this$props2$showTool = _this$props2.showToolbar,\n            showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n            _this$props2$enableTo = _this$props2.enableToolbar,\n            enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n            onScroll = _this$props2.onScroll,\n            onClick = _this$props2.onClick,\n            onKeyDown = _this$props2.onKeyDown,\n            onKeyUp = _this$props2.onKeyUp,\n            onDrop = _this$props2.onDrop,\n            onChange = _this$props2.onChange,\n            onCopy = _this$props2.onCopy,\n            onCut = _this$props2.onCut,\n            onImageUpload = _this$props2.onImageUpload,\n            onImageUploadError = _this$props2.onImageUploadError,\n            onPaste = _this$props2.onPaste,\n            autoFocus = _this$props2.autoFocus,\n            onBlur = _this$props2.onBlur,\n            onFocus = _this$props2.onFocus,\n            onLoad = _this$props2.onLoad,\n            onInput = _this$props2.onInput,\n            onImageUploadBefore = _this$props2.onImageUploadBefore,\n            onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n            onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n            onVideoUpload = _this$props2.onVideoUpload,\n            onMouseDown = _this$props2.onMouseDown,\n            onAudioUpload = _this$props2.onAudioUpload,\n            onVideoUploadError = _this$props2.onVideoUploadError,\n            onAudioUploadError = _this$props2.onAudioUploadError,\n            placeholder = _this$props2.placeholder,\n            imageUploadHandler = _this$props2.imageUploadHandler,\n            toggleCodeView = _this$props2.toggleCodeView,\n            toggleFullScreen = _this$props2.toggleFullScreen,\n            showInline = _this$props2.showInline,\n            showController = _this$props2.showController;\n        if (onChange || name) this.editor.onChange = function (content) {\n          if (name) _this2.txtArea.current.value = content;\n          if (onChange) onChange(content);\n        };\n        if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n          return onCopy(e, clipboardData);\n        };\n        if (onCut) this.editor.onCut = function (e, clipboardData) {\n          return onCut(e, clipboardData);\n        };\n        if (onMouseDown) this.editor.onMouseDown = function (e) {\n          return onMouseDown(e);\n        };\n        if (onScroll) this.editor.onScroll = function (e) {\n          return onScroll(e);\n        };\n        if (onInput) this.editor.onInput = function (e) {\n          return onInput(e);\n        };\n        if (onClick) this.editor.onClick = function (e) {\n          return onClick(e);\n        };\n        if (onKeyUp) this.editor.onKeyUp = function (e) {\n          return onKeyUp(e);\n        };\n        if (onKeyDown) this.editor.onKeyDown = function (e) {\n          return onKeyDown(e);\n        };\n        if (onBlur) this.editor.onBlur = function (e) {\n          return onBlur(e, _this2.editor.getContents());\n        };\n        if (onFocus) this.editor.onFocus = function (e) {\n          return onFocus(e);\n        };\n        if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n          return onImageUploadBefore(files, info, uploadHandler);\n        };\n        if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n          return onVideoUploadBefore(files, info, uploadHandler);\n        };\n        if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n          return onAudioUploadBefore(files, info, uploadHandler);\n        };\n        if (onDrop) this.editor.onDrop = function (e) {\n          return onDrop(e);\n        };\n        if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n          return onPaste(e, cleanData, maxCharCount);\n        };\n        if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n          return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n        };\n        if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n          return onImageUploadError(errorMessage, result);\n        };\n        if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n          return onVideoUploadError(errorMessage, result);\n        };\n        if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n          return onAudioUploadError(errorMessage, result);\n        };\n        if (placeholder) setOptions.placeholder = placeholder;\n        this.editor.setOptions(setOptions);\n\n        this.editor.onload = function (_, reload) {\n          if (reload === false) {\n            if (setContents) {\n              _this2.editor.setContents(setContents);\n\n              _this2.editor.core.focusEdge();\n            }\n\n            if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n            if (insertHTML) _this2.editor.insertHTML(insertHTML);\n            if (appendContents) _this2.editor.appendContents(appendContents);\n            if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n            if (enable === true) _this2.editor.enabled();\n            if (disable === true) _this2.editor.disabled();\n            if (hide === true) _this2.editor.hide();\n            if (show === true) _this2.editor.show();\n            if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n            if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n            if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n          }\n\n          if (onLoad) onLoad(reload);\n        };\n\n        if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n        if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n          return toggleCodeView(isCodeView);\n        };\n        if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n          return toggleFullScreen(isFullScreen);\n        };\n        if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n          return showInline(toolbar, context);\n        };\n        if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n          return showController(name, controllers);\n        };\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // Props compared\n        if (prevProps.lang !== this.props.lang) {\n          this.editor.setOptions({\n            lang: misc_getLanguage(this.props.lang)\n          });\n        }\n\n        if (prevProps.height !== this.props.height) {\n          this.editor.setOptions({\n            height: this.props.height\n          });\n        }\n\n        if (prevProps.width !== this.props.width) {\n          this.editor.setOptions({\n            width: this.props.width\n          });\n        }\n\n        if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n          this.editor.setDefaultStyle(this.props.setDefaultStyle);\n        }\n\n        if (prevProps.setContents !== this.props.setContents) {\n          !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n        }\n\n        if (prevProps.appendContents !== this.props.appendContents) {\n          this.editor.appendContents(this.props.appendContents);\n          this.editor.core.focusEdge();\n        }\n\n        if (prevProps.insertHTML !== this.props.insertHTML) {\n          this.editor.insertHTML(this.props.insertHTML);\n        }\n\n        if (prevProps.enable !== this.props.enable) {\n          if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n        }\n\n        if (prevProps.disable !== this.props.disable) {\n          if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n        }\n\n        if (prevProps.showToolbar !== this.props.showToolbar) {\n          if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n        }\n\n        if (prevProps.enableToolbar !== this.props.enableToolbar) {\n          if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n        }\n\n        if (prevProps.show !== this.props.show) {\n          if (this.props.show === true) this.editor.show();else this.editor.hide();\n        }\n\n        if (prevProps.hide !== this.props.hide) {\n          if (this.props.hide === true) this.editor.hide();else this.editor.show();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var dynamicName = {};\n        if (this.props.name) dynamicName.name = this.props.name;\n        return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n          ref: this.txtArea\n        }, dynamicName));\n      }\n    }]);\n\n    return SunEditor;\n  }(external_react_[\"Component\"]);\n\n  SunEditor_SunEditor.propTypes = {\n    imageUploadHandler: prop_types_default.a.func,\n    toggleCodeView: prop_types_default.a.func,\n    toggleFullScreen: prop_types_default.a.func,\n    showInline: prop_types_default.a.func,\n    showController: prop_types_default.a.func,\n    onChange: prop_types_default.a.func,\n    onScroll: prop_types_default.a.func,\n    onClick: prop_types_default.a.func,\n    onKeyUp: prop_types_default.a.func,\n    onKeyDown: prop_types_default.a.func,\n    onInput: prop_types_default.a.func,\n    onDrop: prop_types_default.a.func,\n    onBlur: prop_types_default.a.func,\n    onFocus: prop_types_default.a.func,\n    onLoad: prop_types_default.a.func,\n    onCut: prop_types_default.a.func,\n    onCopy: prop_types_default.a.func,\n    onPaste: prop_types_default.a.func,\n    onImageUploadBefore: prop_types_default.a.func,\n    onImageUpload: prop_types_default.a.func,\n    onImageUploadError: prop_types_default.a.func,\n    onVideoUploadBefore: prop_types_default.a.func,\n    onAudioUploadBefore: prop_types_default.a.func,\n    onVideoUpload: prop_types_default.a.func,\n    onMouseDown: prop_types_default.a.func,\n    onAudioUpload: prop_types_default.a.func,\n    onVideoUploadError: prop_types_default.a.func,\n    onAudioUploadError: prop_types_default.a.func,\n    setOptions: prop_types_default.a.object,\n    setContents: prop_types_default.a.string,\n    name: prop_types_default.a.string,\n    appendContents: prop_types_default.a.string,\n    setDefaultStyle: prop_types_default.a.string,\n    enable: prop_types_default.a.bool,\n    showToolbar: prop_types_default.a.bool,\n    enableToolbar: prop_types_default.a.bool,\n    disable: prop_types_default.a.bool,\n    hide: prop_types_default.a.bool,\n    show: prop_types_default.a.bool,\n    autoFocus: prop_types_default.a.bool,\n    placeholder: prop_types_default.a.string,\n    lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n    width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n    height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n  };\n  /* harmony default export */\n\n  var SunEditor_0 = SunEditor_SunEditor; // CONCATENATED MODULE: ./main.js\n\n  /* harmony default export */\n\n  var main = __webpack_exports__[\"default\"] = SunEditor_0;\n  /***/\n}\n/******/\n]);","map":{"version":3,"sources":["C:/Users/oscar/OneDrive/Escritorio/monkeysCloud/frontend/node_modules/suneditor-react/dist/main.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","throwOnDirectAccess","ReactIs","global","factory","document","w","Error","window","noGlobal","dialog","add","core","context","kind","updateModal","_closeSignal","dialog_div","util","createElement","className","dialog_back","style","display","dialog_area","appendChild","modalArea","back","modal","addEventListener","_onMouseDown_dialog","_onClick_dialog","element","relative","e","test","target","stopPropagation","getAttribute","plugins","close","open","update","modalForm","_bindClose","_d","removeEventListener","keyCode","option","popupDisplay","position","focusElement","on","focus","init","undefined","SUNEDITOR_MODULES","writable","configurable","component","set_container","cover","container","setAttribute","set_cover","create_caption","caption","innerHTML","lang","dialogBox","fileManager","_xmlHttp","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","showLoading","filePlugin","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackUpload","_w","keys","length","setRequestHeader","send","readyState","status","message","closeLoading","res","responseText","JSON","parse","err","errorMessage","functions","noticeOpen","checkInfo","pluginName","tagNames","uploadEventHandler","modifyHandler","resizing","tags","len","concat","slice","wysiwyg","getElementsByTagName","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","infoUpdate","info","filter","src","index","toString","_resize_plugin","currentTags","infoIndex","tag","getParentElement","isMediaComponent","parentElement","nodeName","push","_infoIndex","indexOf","removeAttribute","dataIndex","splice","file","plguin","state","split","pop","_componentsInfoInit","size","delete","destroy","select","scrollIntoView","setTimeout","naturalWidth","naturalHeight","_module_getSizeX","h","_module_getSizeY","width","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","linkBox","title","url","text","newWindowCheck","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","altText","videoBox","audioBox","browser","search","submitButton","revertButton","proportion","basic","left","right","center","height","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","__webpack_exports__","colorPicker","colorListHTML","_colorInput","_defaultColor","_styleProperty","_currentColor","_colorList","listDiv","createColorList","_makeColorList","makeColor","colorList","colorArr","color","icons","checked","erase","node","fillColor","getColorInNode","isHexColor","rgb2hex","toLowerCase","addClass","removeClass","setInputText","colorName2hex","setCurrentColor","hexColorStr","borderColor","findColor","styleProperty","isWysiwygDiv","nodeType","parentNode","str","rgb","rgbMatch","match","parseInt","colorName","temp","colors","getComputedStyle","body","map","a","removeItem","substr","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_origin_w","_origin_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_left","align_right","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","querySelector","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","preventDefault","eventStop","onMouseDown_resize_handle","onClick_resizeButton","resize_container","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","contextPlugin","_element","_cover","_container","getNumber","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","replace","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","wysiwygFrame","isVertical","Math","abs","offsetHeight","offsetWidth","top","scrollLeft","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","firstElementChild","pButtons","_captionShow","getChildElement","_captionChecked","currentControllerName","setDisabledButtons","resizingDisabledButtons","controllersOn","overLeft","originSize","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","command","currentContext","contextEl","currentModule","resetTransform","setAutoSize","selectComponent","percentY","percentage","setPercentSize","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","captionText","_caption","current","setRange","textContent","controllersOff","setOriginSize","history","maxWidth","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","float","closureFunc_bind","closureFunc","type","change","resizing_element_bind","cancel_controller_resize","resizing_element","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","clientWidth","require","fileBrowser","_loading","area","header","tagArea","tagElements","items","selectedTags","selectorHandler","columnSize","browser_div","content","set_browser","titleArea","onClickTag","onClickFile","_onMouseDown_browser","_onClick_browser","cancel","fileBrowserContext","pluginContext","listClassName","listClass","hasClass","_drawFileList","fileBrowserPlugin","abort","showBrowserLoading","closeBrowserLoading","_callBackGet","_drawListItem","result","maxHeight","innerHeight","_tags","splitSize","drawItemHandler","itemTemplateHandler","tagsHTML","listHTML","columns","item","v","trim","tLen","isAnchor","tagName","selectTag","sTagIndex","some","listEl","handler","targetButton","_alignList","currentAlign","justify","setSubmenu","listUl","pickup","initMenuTarget","active","isFormatElement","textAlign","alignContext","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","_modules_dialog__WEBPACK_IMPORTED_MODULE_0__","_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default","addModule","previewElement","fontSizeElement","_mathExp","math_dialog","setDialog","_renderMathExp","math_controller","setController_MathButton","mathController","submit","onClick_mathController","math_btn","managedTags","method","dom","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","katex","renderToString","options","contextMath","submitAction","mathExp","katexEl","HTMLEncoder","selectedFormats","oFormat","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","containerEl","replaceChild","controllerArray","call_controller","mathTag","mathBtn","offsetLeft","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default","imageGalleryUrl","drawItems","setImage","srcName","alt","callPlugin","_altText","create_image","blockquote","action","currentBlockquote","getSelectionNode","detachRangeFormatElement","applyRangeFormatElement","cloneNode","targetText","targetTooltip","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontContext","newNode","nodeChange","_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__","previewEl","colorInput","onChangeInput","colorArea","contextPicker","contextFontColor","applyColor","_sizeList","currentSize","sizeList","unit","fontSizeUnit","fontSizeContext","formatBlock","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","format","attrs","class","formatTitle","formatContext","f","firstChild","rangeElement","range","getRange","getSelectedElementsAndComponents","getRange_addLine","startOffset","endOffset","first","last","firstPath","getNodePath","startContainer","lastPath","endContainer","rlist","detachList","sc","ec","getNodeFromPath","modifiedFormsts","freeElement","html","before","next","inner","isComp","isSameAttributes","prev","previousSibling","newFormat","copyFormatAttributes","contextHiliteColor","backgroundColor","horizontalRulePick","appendHr","oHr","insertComponent","oNode","lineHeights","lineHeightContext","getFormatElement","_list","currentList","bullets","list_bullets","number","list_number","button","icon","isList","listContext","editList","selectedCells","detach","sortByDepth","firstSel","lastSel","topEl","isListCell","previousElementSibling","bottomEl","nextElementSibling","originRange","so","eo","isRemove","getRangeFormatElement","toUpperCase","j","contains","rangeArr","tempList","passComponent","_detachNested","topElParent","bottomElParent","mergeTop","mergeBottom","firstList","lastList","topNumber","bottomNumber","newCell","fTag","isCell","originParent","nextParent","parentTag","siblingTag","rangeTag","childNodes","_isIgnoreNodeChange","isRangeFormatElement","isHR","outerHTML","fChildren","children","getElementDepth","cells","originList","sibling","cLen","newList","getPositionIndex","mergeSameTags","edge","getEdgeChildNodes","cc","editInsideList","el","cellsLen","lastCell","innerList","nodePath","sl","_insiedList","insertPrev","removeChild","slPath","lastElementChild","mergeNestedTags","_classList","menuLang","defaultList","_class","paragraphStyles","defaultStyle","paragraphContext","paragraphList","toggleClass","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","cellControllerTop","tableCellControllerPosition","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","expansion","reduction","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","changed","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","cell","ceil","offsetX","offsetY","x_u","y_u","highlight","unHighlight","contextTable","tablePlugin","_removeEvents","_selectedTable","_toggleEditor","_shift","_selectedCells","_ref","_fixedCell","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","getSelection","isCollapsed","tableElement","setPositionControllerTop","tableLayout","setTableStyle","setPositionControllerDiv","reset","setCellInfo","visibility","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","arr","row","sort","b","editTable","isRow","tableAttr","positionCell","removeCells","editRow","firstRow","editCell","rightCell","positionResetElement","up","originRowIndex","sign","spanCells","spanCell","shift","newRow","insertRow","passCell","removeCell","removeSpanArr","insertIndex","applySpan","cellColSpan","removeIndex","getOverlapRangeAtIndex","removeFirst","removeEnd","rLen","getArrayIndex","rowSpanCell","_closeSplitMenu","openSplitMenu","vertical","currentCell","currentRow","currentColSpan","floor","currentRowSpan","newRowSpan","nextRowIndex","nextRow","nextCells","physicalIndex","focusEdge","ref","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","ch","onlyZeroWidthSpace","rowIndexFirst","rowIndexLast","removeRows","setActiveButton","toggleHeader","styles","span","sizeIcon","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","enabled","_offCellMultiSelect","_initBind","_wd","_onCellMultiSelect","_antiBlur","_setMultiCells","startCell","endCell","findSelectedCell","_i","newCs","newCe","newRs","newRe","onTableCellMultiSelect","emptyDiv","removeItemAllParents","templateDiv","templateList","templates","setContents","_styleList","styleList","textStyles","textStyleContext","styleButtonList","selectionNode","btn","data","checkStyles","cssText","classes","removeNodes","_modules_component__WEBPACK_IMPORTED_MODULE_1__","_modules_component__WEBPACK_IMPORTED_MODULE_1___default","_modules_resizing__WEBPACK_IMPORTED_MODULE_2__","_modules_resizing__WEBPACK_IMPORTED_MODULE_2___default","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default","contextImage","_imageSizeUnit","_linkElement","_align","_floatClassRegExp","_v_link","_linkValue","_v_src","svgDefaultSize","_element_l","_element_t","imageWidth","imageHeight","imageResizing","imageHeightShow","imageRotation","imageSizeOnlyPercentage","image_dialog","imgInputFile","imgUrlFile","imgLink","imgLinkNewWindowCheck","previewLink","previewSrc","openTab","_removeSelectedFiles","_fileInputChange","_onLinkPreview","linkProtocol","imageGalleryButton","_openGallery","sizeRevert","imageFileInput","imageAccept","imageMultipleFile","imageUrlInput","image_gallery","onlyPercentage","onlyPercentDisplay","heightDisplay","textDecoration","urlInput","_setUrlInput","protocol","fileTags","imageEl","imageContainer","focusEl","onImageUpload","tabName","contentClassName","tabContent","tabLinks","getElementsByClassName","imagePlugin","files","onRender_imgUrl","error","fileList","fileSize","limitSize","imageUploadSizeLimit","infoSize","imagesInfo","onImageUploadError","linkValue","linkNewWindow","inputWidth","inputHeight","isUpdate","onImageUploadBefore","Array","isArray","register","response","imageUploadUrl","filesLen","FormData","append","imageUploadHeader","callBack_imgUpload","setup_reader","imageUploadHandler","update_src","imgLinkValue","wFileReader","FileReader","reader","onload","updateElement","readAsDataURL","onRender_link","imgTag","href","checkFileInfo","resetFileInfo","oImg","_image_create_onload","openController","notHistoryPush","isNewContainer","changeSize","isNumber","modifiedCaption","newEl","imageElement","existElement","isPercent","userSize","notOpen","notResetPercentage","onlyW","onlyH","heightPercentage","margin","minWidth","resetAlign","linkNewWindowCheck","linkAnchorText","_linkAnchor","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","link_btn","contextLink","anchor","anchorText","oA","textNode","selectionATag","editLink","linkBtn","contextVideo","_videoSizeUnit","_youtubeQuery","youtubeQuery","videoRatio","_defaultRatio","videoWidth","videoHeight","videoResizing","videoHeightShow","videoRotation","videoSizeOnlyPercentage","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","videoFileInput","videoAccept","videoMultipleFile","videoUrlInput","ratioList","videoRatioList","ratioDisplay","videoRatioShow","onlyWidthDisplay","_setTagAttrs","videoTagAttrs","hasOwn","createVideoTag","videoTag","_setIframeAttrs","frameBorder","allowFullscreen","videoIframeAttrs","createIframeTag","iframeTag","frame","onVideoUpload","setVideoRatioSelect","selectedIndex","placeholder","videoPlugin","setup_url","videoUploadSizeLimit","videosInfo","onVideoUploadError","onVideoUploadBefore","videoUploadUrl","videoUploadHeader","callBack_videoUpload","videoUploadHandler","create_video","oIframe","DOMParser","parseFromString","splitUrl","endsWith","lastIndexOf","oFrame","isYoutube","isVimeo","newTag","inputUpdate","_update_videoCover","origin","ratioSelected","ratioOptions","selected","dataSize","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default","contextAudio","targetSelect","audioWidth","audioHeight","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","onClick_controller","audioFileInput","audioAccept","audioMultipleFile","audioUrlInput","_createAudioTag","oAudio","audioTagAttrs","onAudioUpload","updateCover","setupUrl","audioUploadSizeLimit","audiosInfo","onAudioUploadError","onAudioUploadBefore","audioUploadUrl","audioUploadHeader","callBack_upload","audioUploadHandler","create_audio","selectionTag","onControllerOff","fixColumnWidth","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","func","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","buttonList_namespaceObject","complex","formatting","misc_buttonList","external_react_","external_react_default","defaultIcons","code_view","line_height","paragraph_style","text_style","arrow_down","font_color","highlight_color","horizontal_rule","show_blocks","line_break","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","en","en_default","util_util","isIE","isIE_Edge","isOSX_IOS","_propertiesInit","navigator","userAgent","appVersion","platform","_HTMLConvertor","contents","String","fromCharCode","zeroWidthRegExp","RegExp","onlyZeroWidthRegExp","ActiveXObject","e1","XMLHttpRequest","elementName","obj","_hasOwn","getIncludePath","nameArray","extension","path","pathList","fileName","regExp","extRegExp","editorTag","getPageStyle","doc","sheets","styleSheets","rules","cssRules","getIframeDocument","iframe","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","encode","isNonEditable","isTextStyleElement","isClosureRangeFormatElement","isFreeFormatElement","isClosureFreeFormatElement","isNotCheckingNode","validation","getFreeFormatElement","getClosureFreeFormatElement","copyTagAttributes","originEl","copyEl","getArrayItem","multi","idx","nextIdx","prevIdx","_newOffsets","finds","tempText","previous","reverse","offsets","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isTable","isBreak","isMedia","maxDec","toFixed","getListChildren","recursionFunc","getListChildNodes","depth","compareElements","aNode","bNode","ancestor","aIndex","bIndex","query","check","attr","childList","lastChild","offsetTop","offsetElement","offsetParent","scrollTop","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","buttonList","stopParent","parent","detachNestedList","baseNode","all","rNode","_deleteNestedList","cNodes","rChildren","baseParent","liSibling","liParent","child","splitElement","bp","splitText","after","depthEl","pElement","nodePathArray","onlyText","inst","nodePathLen","apply","Number","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","nLen","addOffset","textOffset","tempL","removeEmptyNode","notRemoveNode","_notTextNode","htmlRemoveWhiteSpace","des","_isMaintainedNode","_isSizeNode","_disallowedTags","createTagsWhitelist","exclusionTags","regStr","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","tp","_setDefaultOptionStyle","optionStyle","minHeight","editor","styleArr","_setIframeDocument","head","_setIframeCssTags","linkNames","iframeCSSFileName","wRegExp","tagString","CSSFileName","styleTag","lib_util","lib_constructor","_initOptions","top_div","id","tool_bar","_createToolBar","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","htmlMode","lineNumbers","lineWrapping","reduce","viewportMargin","Infinity","cm","fromTextArea","wrapper","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","editorArea","isNewToolbarContainer","isNewToolbar","isNewPlugins","topArea","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","historyStackDelayTime","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","pasteTagsWhitelist","attributesWhitelist","stickyToolbar","fullPage","showPathLabel","charCounterType","clientHeight","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","_default","_new","_defaultButtons","cmd","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","_plugins","separator_vertical","_buttonTray","defaultButtonList","pluginsValues","moduleElement","buttonElement","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","div","matched","custom","ul","li","sv","enterDiv","unshift","tool_cover","_Context","cons","loading","lineBreaker","lineBreaker_t","lineBreaker_b","tool","lib_context","lib_history","delayTime","pushDelay","stackIndex","stack","setContentsFromStack","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","getContents","_variable","_range","delay","time","clearTimeout","go","ignoreChangeEvent","_resetCachingButton","_destroy","_notice","notice","notice_div","notice_span","notice_button","onClick_cancel","lib_core","ownerDocument","defaultView","_parser","_ww","_shadowRoot","initPlugins","_targetPlugins","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","isDisabled","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callBackFunction","_target","moduleArray","moduleName","submenuOn","submenuName","_setMenuPosition","containerOn","containerName","_containerName","containerOff","toolbarW","menuW","offsetEl","bt","toolbarTop","event","_getEditorOffsets","menuHeight","menuHeight_bottom","menuTop","insTop","menuHeight_top","arg","arguments","getFileComponent","showController","execCommand","showDefaultUI","nativeFocus","_editorRange","br","_applyTagEffects","_toggleToolbarBalloon","fileComponentInfo","startCon","startOff","endCon","endOff","setStart","setEnd","console","warn","selection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","focusNode","rangeCount","getRangeAt","anchorNode","anchorOffset","focusOffset","compareValue","rightDir","_selectionVoid","op","commonAncestorContainer","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","commonCon","lineNodes","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","line","removeDuplicate","myComponent","selectedLines","isEdgePoint","nodeValue","appendFormatTag","formatNode","currentFormatEl","oFormatName","checkCharCount","notSelect","removeNode","formatEl","depthFormat","_setComponentLineBreaker","t_style","b_style","componentTop","wScroll","afterNode","freeFormat","isFormats","formatRange","originAfter","isSameContainer","removedTag","prevContainer","oldParent","rangeCon","_setIntoFreeFormat","previousText","nextText","newRange","zeroWidth","oNodeChildren","lastONode","beforeNode","startIndex","endIndex","startNode","endNode","substringData","rc","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","removeItems","nextLine","nextList","removeArray","splitRange","newRangeElement","firstNode","lastNode","rangeEl","insertedNew","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","lineIndex","insNext","innerChildren","rangeParent","rangeRight","childEdge","listFirst","listLast","lastIndex","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","_stripRemoveNode","_isRemove","newInnerNode","parentCon","sameTag","z","nNodeArray","pNode","isSameNode","startPass","endPass","pCurrent","checkCss","coverNode","prevNode","prevAnchorNode","childNode","anchors","afterAnchorNode","aChildren","aLen","ancestorAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","tempNode","newCssText","newClass","noneChange","actionCall","layer","_showToolbarBalloon","_showToolbarInline","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","nodesMap","marginLeft","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","headChildren","convertContentsForEditor","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","zIndex","_iframeAutoHeight","onScroll_window","printDocument","contentsHTML","wDoc","arrts","write","links","linkHTML","documentMode","StyleMedia","windowObject","mimeType","convertValue","_resetComponents","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","textArray","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","cleanHTML","whitelist","tAttr","textCompList","initMethod","domTree","returnHTML","brReg","indentSize","join","lineBR","elementRegTest","elementIndent","nodeRegTest","listener","useCapture","_charCount","inputText","countType","nextCharCount","getCharLength","over","count","getCharCount","slicePosition","_callCounterBlink","getDoc","setValue","getValue","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","_attr","tagsAttr","allAttr","k","_cachingButtons","managedClass","filePluginRegExp","_onChange_historyStack","_iframeAuto","_initWysiwygArea","STRONG","U","EM","DEL","SUB","SUP","onChange","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","_IEisComposing","_lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","tableCell","onMouseDown","onClick_wysiwyg","hideToolbar","prevLi","onClick","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","editorWidth","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","arrow_left","showInline","onInput_wysiwyg","onInput","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","selectRange","fileComponentName","_hardDelete","prevLast","con","sel","ignoreZWS","nextEl","isEdge","lines","fc","lc","moveCell","tabText","textRange","endChild","freeFormatEl","enterHTML","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","newListCell","compContext","textKey","onKeyDown","onKeyUp_wysiwyg","oFormatTag","isComposing","frontZeroWidthCnt","substring","onKeyUp","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","_resize_editor","resizeInterval","responsiveSize","windowWidth","innerWidth","responsiveWidth","setToolbarButtons","editorHeight","scrollY","editorTop","_onStickyToolbar","scroll","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","onPaste","onDrop","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","pageY","dir","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","passive","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","newToolbar","newContext","oldCallButtons","oldButton","setOptions","_options","val","setDefaultStyle","newStyles","noticeClose","getContext","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","checkHTML","firstCon","appendContents","setOption","show","topAreaStyle","hide","suneditor","init_options","idOrElement","_init_options","getElementById","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","minLen","_arrayLikeToArray","constructor","from","iter","iterator","arr2","getPlugins","customPlugins","pluginList","flatten","misc_getPlugins","getLanguage","misc_getLanguage","prop_types","prop_types_default","_extends","assign","source","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","SunEditor_SunEditor","_Component","SunEditor","_super","_this","txtArea","componentDidMount","_this2","_this$props","_this$props$setOption","_this$props$width","_this$props2","disable","enable","_this$props2$showTool","showToolbar","_this$props2$enableTo","enableToolbar","autoFocus","onLoad","_","uploadHandler","targetImgElement","imageInfo","remainingFilesCount","blur","controllers","componentDidUpdate","prevProps","componentWillUnmount","render","dynamicName","propTypes","SunEditor_0","main"],"mappings":"AAAAA,MAAM,CAACC,OAAP;AACA;AAAU,UAASC,OAAT,EAAkB;AAAE;;AAC9B;AAAU;;AACV;AAAU,MAAIC,gBAAgB,GAAG,EAAvB;AACV;;AACA;AAAU;;AACV;;AAAU,WAASC,mBAAT,CAA6BC,QAA7B,EAAuC;AACjD;;AACA;AAAW;;AACX;AAAW,QAAGF,gBAAgB,CAACE,QAAD,CAAnB,EAA+B;AAC1C;AAAY,aAAOF,gBAAgB,CAACE,QAAD,CAAhB,CAA2BJ,OAAlC;AACZ;AAAY;AACZ;AAAW;;AACX;;;AAAW,QAAID,MAAM,GAAGG,gBAAgB,CAACE,QAAD,CAAhB,GAA6B;AACrD;AAAYC,MAAAA,CAAC,EAAED,QADsC;;AAErD;AAAYE,MAAAA,CAAC,EAAE,KAFsC;;AAGrD;AAAYN,MAAAA,OAAO,EAAE;AACrB;;AAJqD,KAA1C;AAKX;;AACA;AAAW;;AACX;;AAAWC,IAAAA,OAAO,CAACG,QAAD,CAAP,CAAkBG,IAAlB,CAAuBR,MAAM,CAACC,OAA9B,EAAuCD,MAAvC,EAA+CA,MAAM,CAACC,OAAtD,EAA+DG,mBAA/D;AACX;;AACA;AAAW;;AACX;;AAAWJ,IAAAA,MAAM,CAACO,CAAP,GAAW,IAAX;AACX;;AACA;AAAW;;AACX;;AAAW,WAAOP,MAAM,CAACC,OAAd;AACX;AAAW;AACX;;AACA;;AACA;AAAU;;AACV;;;AAAUG,EAAAA,mBAAmB,CAACK,CAApB,GAAwBP,OAAxB;AACV;;AACA;AAAU;;AACV;;AAAUE,EAAAA,mBAAmB,CAACM,CAApB,GAAwBP,gBAAxB;AACV;;AACA;AAAU;;AACV;;AAAUC,EAAAA,mBAAmB,CAACO,CAApB,GAAwB,UAASV,OAAT,EAAkBW,IAAlB,EAAwBC,MAAxB,EAAgC;AAClE;AAAW,QAAG,CAACT,mBAAmB,CAACU,CAApB,CAAsBb,OAAtB,EAA+BW,IAA/B,CAAJ,EAA0C;AACrD;AAAYG,MAAAA,MAAM,CAACC,cAAP,CAAsBf,OAAtB,EAA+BW,IAA/B,EAAqC;AAAEK,QAAAA,UAAU,EAAE,IAAd;AAAoBC,QAAAA,GAAG,EAAEL;AAAzB,OAArC;AACZ;AAAY;AACZ;;AAAW,GAJD;AAKV;;AACA;AAAU;;AACV;;;AAAUT,EAAAA,mBAAmB,CAACe,CAApB,GAAwB,UAASlB,OAAT,EAAkB;AACpD;AAAW,QAAG,OAAOmB,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,WAA3C,EAAwD;AACnE;AAAYN,MAAAA,MAAM,CAACC,cAAP,CAAsBf,OAAtB,EAA+BmB,MAAM,CAACC,WAAtC,EAAmD;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAnD;AACZ;AAAY;AACZ;;;AAAWP,IAAAA,MAAM,CAACC,cAAP,CAAsBf,OAAtB,EAA+B,YAA/B,EAA6C;AAAEqB,MAAAA,KAAK,EAAE;AAAT,KAA7C;AACX;AAAW,GALD;AAMV;;AACA;AAAU;;AACV;AAAU;;AACV;AAAU;;AACV;AAAU;;AACV;AAAU;;AACV;;;AAAUlB,EAAAA,mBAAmB,CAACmB,CAApB,GAAwB,UAASD,KAAT,EAAgBE,IAAhB,EAAsB;AACxD;AAAW,QAAGA,IAAI,GAAG,CAAV,EAAaF,KAAK,GAAGlB,mBAAmB,CAACkB,KAAD,CAA3B;AACxB;;AAAW,QAAGE,IAAI,GAAG,CAAV,EAAa,OAAOF,KAAP;AACxB;;AAAW,QAAIE,IAAI,GAAG,CAAR,IAAc,OAAOF,KAAP,KAAiB,QAA/B,IAA2CA,KAA3C,IAAoDA,KAAK,CAACG,UAA7D,EAAyE,OAAOH,KAAP;AACpF;;AAAW,QAAII,EAAE,GAAGX,MAAM,CAACY,MAAP,CAAc,IAAd,CAAT;AACX;;AAAWvB,IAAAA,mBAAmB,CAACe,CAApB,CAAsBO,EAAtB;AACX;;;AAAWX,IAAAA,MAAM,CAACC,cAAP,CAAsBU,EAAtB,EAA0B,SAA1B,EAAqC;AAAET,MAAAA,UAAU,EAAE,IAAd;AAAoBK,MAAAA,KAAK,EAAEA;AAA3B,KAArC;AACX;;AAAW,QAAGE,IAAI,GAAG,CAAP,IAAY,OAAOF,KAAP,IAAgB,QAA/B,EAAyC,KAAI,IAAIM,GAAR,IAAeN,KAAf,EAAsBlB,mBAAmB,CAACO,CAApB,CAAsBe,EAAtB,EAA0BE,GAA1B,EAA+B,UAASA,GAAT,EAAc;AAAE,aAAON,KAAK,CAACM,GAAD,CAAZ;AAAoB,KAApC,CAAqCC,IAArC,CAA0C,IAA1C,EAAgDD,GAAhD,CAA/B;AAC1E;;AAAW,WAAOF,EAAP;AACX;AAAW,GATD;AAUV;;AACA;AAAU;;AACV;;;AAAUtB,EAAAA,mBAAmB,CAAC0B,CAApB,GAAwB,UAAS9B,MAAT,EAAiB;AACnD;AAAW,QAAIa,MAAM,GAAGb,MAAM,IAAIA,MAAM,CAACyB,UAAjB;AACxB;AAAY,aAASM,UAAT,GAAsB;AAAE,aAAO/B,MAAM,CAAC,SAAD,CAAb;AAA2B,KADvC;AAExB;AAAY,aAASgC,gBAAT,GAA4B;AAAE,aAAOhC,MAAP;AAAgB,KAF/C;AAGX;;AAAWI,IAAAA,mBAAmB,CAACO,CAApB,CAAsBE,MAAtB,EAA8B,GAA9B,EAAmCA,MAAnC;AACX;;;AAAW,WAAOA,MAAP;AACX;AAAW,GAND;AAOV;;AACA;AAAU;;AACV;;;AAAUT,EAAAA,mBAAmB,CAACU,CAApB,GAAwB,UAASmB,MAAT,EAAiBC,QAAjB,EAA2B;AAAE,WAAOnB,MAAM,CAACoB,SAAP,CAAiBC,cAAjB,CAAgC5B,IAAhC,CAAqCyB,MAArC,EAA6CC,QAA7C,CAAP;AAAgE,GAArH;AACV;;AACA;AAAU;;AACV;;;AAAU9B,EAAAA,mBAAmB,CAACiC,CAApB,GAAwB,EAAxB;AACV;;AACA;;AACA;AAAU;;AACV;;AAAU,SAAOjC,mBAAmB,CAACA,mBAAmB,CAACkC,CAApB,GAAwB,EAAzB,CAA1B;AACV;AAAU,CApFD;AAqFT;;AACA;AAAU;AACV;;AACA;AAAO,UAAStC,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;;;;;;AAOA,MAAI,KAAJ,EAAW;AAAE,QAAImC,mBAAJ,EAAyBC,OAAzB;AAAmC,GAAhD,MAAsD;AACpD;AACA;AACAxC,IAAAA,MAAM,CAACC,OAAP,GAAiBG,mBAAmB,CAAC,EAAD,CAAnB,EAAjB;AACD;AAGD;;AAAO,CAlBG;AAmBV;;AACA;AAAO,UAASJ,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAMC,MAAM,GAAG;AACXpC,MAAAA,IAAI,EAAE,QADK;;AAEX;;;;AAIAqC,MAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjB,cAAMC,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,QAAAA,OAAO,CAACH,MAAR,GAAiB;AACbI,UAAAA,IAAI,EAAE,EADO;AAEbC,UAAAA,WAAW,EAAE,KAFA;AAGbC,UAAAA,YAAY,EAAE;AAHD,SAAjB;AAMA;;AACA,YAAIC,UAAU,GAAGL,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAjB;AACAF,QAAAA,UAAU,CAACG,SAAX,GAAuB,6BAAvB;AAEA,YAAIC,WAAW,GAAGT,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAlB;AACAE,QAAAA,WAAW,CAACD,SAAZ,GAAwB,gBAAxB;AACAC,QAAAA,WAAW,CAACC,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AAEA,YAAIC,WAAW,GAAGZ,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAlB;AACAK,QAAAA,WAAW,CAACJ,SAAZ,GAAwB,iBAAxB;AACAI,QAAAA,WAAW,CAACF,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;AAEAN,QAAAA,UAAU,CAACQ,WAAX,CAAuBJ,WAAvB;AACAJ,QAAAA,UAAU,CAACQ,WAAX,CAAuBD,WAAvB;AAEAX,QAAAA,OAAO,CAACH,MAAR,CAAegB,SAAf,GAA2BT,UAA3B;AACAJ,QAAAA,OAAO,CAACH,MAAR,CAAeiB,IAAf,GAAsBN,WAAtB;AACAR,QAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,GAAuBJ,WAAvB;AAEA;;AACAX,QAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBC,gBAArB,CAAsC,WAAtC,EAAmD,KAAKC,mBAAL,CAAyBvC,IAAzB,CAA8BqB,IAA9B,CAAnD;AACAC,QAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBC,gBAArB,CAAsC,OAAtC,EAA+C,KAAKE,eAAL,CAAqBxC,IAArB,CAA0BqB,IAA1B,CAA/C;AAEA;;AACAC,QAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqCR,UAArC;AAEA;;AACAA,QAAAA,UAAU,GAAG,IAAb,EAAmBI,WAAW,GAAG,IAAjC,EAAuCG,WAAW,GAAG,IAArD;AACH,OA1CU;;AA4CX;;;;;AAKAM,MAAAA,mBAAmB,EAAE,UAAUI,CAAV,EAAa;AAC9B,YAAI,kBAAkBC,IAAlB,CAAuBD,CAAC,CAACE,MAAF,CAAShB,SAAhC,CAAJ,EAAgD;AAC5C,eAAKP,OAAL,CAAaH,MAAb,CAAoBM,YAApB,GAAmC,IAAnC;AACH,SAFD,MAEO;AACH,eAAKH,OAAL,CAAaH,MAAb,CAAoBM,YAApB,GAAmC,KAAnC;AACH;AACJ,OAvDU;;AAyDX;;;;;AAKAe,MAAAA,eAAe,EAAE,UAAUG,CAAV,EAAa;AAC1BA,QAAAA,CAAC,CAACG,eAAF;;AAEA,YAAI,QAAQF,IAAR,CAAaD,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,CAAb,KAAuD,KAAKzB,OAAL,CAAaH,MAAb,CAAoBM,YAA/E,EAA6F;AACzF,eAAKuB,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH;AACJ,OApEU;;AAsEX;;;;;AAKAuE,MAAAA,IAAI,EAAE,UAAU3B,IAAV,EAAgB4B,MAAhB,EAAyB;AAC3B,YAAI,KAAKC,SAAT,EAAoB,OAAO,KAAP;;AACpB,YAAI,KAAKJ,OAAL,CAAa7B,MAAb,CAAoBkC,UAAxB,EAAoC;AAChC,eAAKC,EAAL,CAAQC,mBAAR,CAA4B,SAA5B,EAAuC,KAAKP,OAAL,CAAa7B,MAAb,CAAoBkC,UAA3D;;AACA,eAAKL,OAAL,CAAa7B,MAAb,CAAoBkC,UAApB,GAAiC,IAAjC;AACH;;AAED,aAAKL,OAAL,CAAa7B,MAAb,CAAoBkC,UAApB,GAAiC,UAAUV,CAAV,EAAa;AAC1C,cAAI,CAAC,KAAKC,IAAL,CAAUD,CAAC,CAACa,OAAZ,CAAL,EAA2B;AAC3B,eAAKR,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH,SAHgC,CAG/BqB,IAH+B,CAG1B,IAH0B,CAAjC;;AAIA,aAAKsD,EAAL,CAAQhB,gBAAR,CAAyB,SAAzB,EAAoC,KAAKU,OAAL,CAAa7B,MAAb,CAAoBkC,UAAxD;;AAEA,aAAK/B,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC2B,MAAlC;;AAEA,YAAI,KAAK7B,OAAL,CAAamC,MAAb,CAAoBC,YAApB,KAAqC,MAAzC,EAAiD;AAC7C,eAAKpC,OAAL,CAAaH,MAAb,CAAoBgB,SAApB,CAA8BJ,KAA9B,CAAoC4B,QAApC,GAA+C,OAA/C;AACH,SAFD,MAEO;AACH,eAAKrC,OAAL,CAAaH,MAAb,CAAoBgB,SAApB,CAA8BJ,KAA9B,CAAoC4B,QAApC,GAA+C,UAA/C;AACH;;AAED,aAAKrC,OAAL,CAAaH,MAAb,CAAoBI,IAApB,GAA2BA,IAA3B;AACA,aAAK6B,SAAL,GAAiB,KAAK9B,OAAL,CAAaC,IAAb,EAAmBc,KAApC;AACA,cAAMuB,YAAY,GAAG,KAAKtC,OAAL,CAAaC,IAAb,EAAmBqC,YAAxC;AAEA,YAAI,OAAO,KAAKZ,OAAL,CAAazB,IAAb,EAAmBsC,EAA1B,KAAiC,UAArC,EAAiD,KAAKb,OAAL,CAAazB,IAAb,EAAmBsC,EAAnB,CAAsBlF,IAAtB,CAA2B,IAA3B,EAAiCwE,MAAjC;AAEjD,aAAK7B,OAAL,CAAaH,MAAb,CAAoBgB,SAApB,CAA8BJ,KAA9B,CAAoCC,OAApC,GAA8C,OAA9C;AACA,aAAKV,OAAL,CAAaH,MAAb,CAAoBiB,IAApB,CAAyBL,KAAzB,CAA+BC,OAA/B,GAAyC,OAAzC;AACA,aAAKV,OAAL,CAAaH,MAAb,CAAoBkB,KAApB,CAA0BN,KAA1B,CAAgCC,OAAhC,GAA0C,OAA1C;AACA,aAAKoB,SAAL,CAAerB,KAAf,CAAqBC,OAArB,GAA+B,OAA/B;AAEA,YAAI4B,YAAJ,EAAkBA,YAAY,CAACE,KAAb;AACrB,OA5GU;AA8GXT,MAAAA,UAAU,EAAE,IA9GD;;AAgHX;;;;AAIAJ,MAAAA,KAAK,EAAE,YAAY;AACf,YAAI,KAAKD,OAAL,CAAa7B,MAAb,CAAoBkC,UAAxB,EAAoC;AAChC,eAAKC,EAAL,CAAQC,mBAAR,CAA4B,SAA5B,EAAuC,KAAKP,OAAL,CAAa7B,MAAb,CAAoBkC,UAA3D;;AACA,eAAKL,OAAL,CAAa7B,MAAb,CAAoBkC,UAApB,GAAiC,IAAjC;AACH;;AAED,cAAM9B,IAAI,GAAG,KAAKD,OAAL,CAAaH,MAAb,CAAoBI,IAAjC;AACA,aAAK6B,SAAL,CAAerB,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,aAAKV,OAAL,CAAaH,MAAb,CAAoBiB,IAApB,CAAyBL,KAAzB,CAA+BC,OAA/B,GAAyC,MAAzC;AACA,aAAKV,OAAL,CAAaH,MAAb,CAAoBgB,SAApB,CAA8BJ,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;AACA,aAAKV,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,KAAlC;AACA,YAAI,OAAO,KAAKwB,OAAL,CAAazB,IAAb,EAAmBwC,IAA1B,KAAmC,UAAvC,EAAmD,KAAKf,OAAL,CAAazB,IAAb,EAAmBwC,IAAnB,CAAwBpF,IAAxB,CAA6B,IAA7B;AACnD,aAAK2C,OAAL,CAAaH,MAAb,CAAoBI,IAApB,GAA2B,EAA3B;AACA,aAAK6B,SAAL,GAAiB,IAAjB;AACA,aAAKU,KAAL;AACH;AAnIU,KAAf;;AAsIA,QAAI,OAAO5C,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACgD,iBAAZ,EAA+B;AAC3B/E,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,mBAA9B,EAAmD;AAC/C7B,UAAAA,UAAU,EAAE,IADmC;AAE/C8E,UAAAA,QAAQ,EAAE,KAFqC;AAG/CC,UAAAA,YAAY,EAAE,KAHiC;AAI/C1E,UAAAA,KAAK,EAAE;AAJwC,SAAnD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACgD,iBAA7B,EAAgD,QAAhD,EAA0D;AACtD7E,QAAAA,UAAU,EAAE,IAD0C;AAEtD8E,QAAAA,QAAQ,EAAE,KAF4C;AAGtDC,QAAAA,YAAY,EAAE,KAHwC;AAItD1E,QAAAA,KAAK,EAAE0B;AAJ+C,OAA1D;AAMH;;AAED,WAAOA,MAAP;AACH,GAvKA,CAAD;AAyKA;;AAAO,CAzMG;AA0MV;;AACA;AAAO,UAAShD,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAMkD,SAAS,GAAG;AACdrF,MAAAA,IAAI,EAAE,WADQ;;AAEd;;;;;;AAMAsF,MAAAA,aAAa,EAAE,UAAUC,KAAV,EAAiBzC,SAAjB,EAA4B;AACvC,cAAM0C,SAAS,GAAG,KAAK5C,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAlB;AACA2C,QAAAA,SAAS,CAAC1C,SAAV,GAAsB,kBAAkBA,SAAxC;AACA0C,QAAAA,SAAS,CAACC,YAAV,CAAuB,iBAAvB,EAA0C,KAA1C;AACAD,QAAAA,SAAS,CAACrC,WAAV,CAAsBoC,KAAtB;AAEA,eAAOC,SAAP;AACH,OAfa;;AAiBd;;;;AAIAE,MAAAA,SAAS,EAAE,UAAUhC,OAAV,EAAmB;AAC1B,cAAM6B,KAAK,GAAG,KAAK3C,IAAL,CAAUC,aAAV,CAAwB,QAAxB,CAAd;AACA0C,QAAAA,KAAK,CAACpC,WAAN,CAAkBO,OAAlB;AAEA,eAAO6B,KAAP;AACH,OA1Ba;;AA4Bd;;;;AAIAI,MAAAA,cAAc,EAAE,YAAY;AACxB,cAAMC,OAAO,GAAG,KAAKhD,IAAL,CAAUC,aAAV,CAAwB,YAAxB,CAAhB;AACA+C,QAAAA,OAAO,CAACH,YAAR,CAAqB,iBAArB,EAAwC,IAAxC;AACAG,QAAAA,OAAO,CAACC,SAAR,GAAoB,UAAU,KAAKC,IAAL,CAAUC,SAAV,CAAoBH,OAA9B,GAAwC,QAA5D;AACA,eAAOA,OAAP;AACH;AArCa,KAAlB;;AAwCA,QAAI,OAAOzD,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACgD,iBAAZ,EAA+B;AAC3B/E,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,mBAA9B,EAAmD;AAC/C7B,UAAAA,UAAU,EAAE,IADmC;AAE/C8E,UAAAA,QAAQ,EAAE,KAFqC;AAG/CC,UAAAA,YAAY,EAAE,KAHiC;AAI/C1E,UAAAA,KAAK,EAAE;AAJwC,SAAnD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACgD,iBAA7B,EAAgD,WAAhD,EAA6D;AACzD7E,QAAAA,UAAU,EAAE,IAD6C;AAEzD8E,QAAAA,QAAQ,EAAE,KAF+C;AAGzDC,QAAAA,YAAY,EAAE,KAH2C;AAIzD1E,QAAAA,KAAK,EAAE2E;AAJkD,OAA7D;AAMH;;AAED,WAAOA,SAAP;AACH,GAzEA,CAAD;AA2EA;;AAAO,CAlSG;AAmSV;;AACA;AAAO,UAASjG,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM6D,WAAW,GAAG;AAChBhG,MAAAA,IAAI,EAAE,aADU;AAEhBiG,MAAAA,QAAQ,EAAE,IAFM;;AAIhB;;;;;;;;;AASAC,MAAAA,MAAM,EAAE,UAAUC,SAAV,EAAqBC,YAArB,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDC,aAAvD,EAAsE;AAC1E,aAAKC,WAAL;AACA,cAAMC,UAAU,GAAG,KAAKxC,OAAL,CAAa+B,WAAhC;AACA,cAAMU,OAAO,GAAGD,UAAU,CAACR,QAAX,GAAsB,KAAKrD,IAAL,CAAU+D,iBAAV,EAAtC;AAEAD,QAAAA,OAAO,CAACE,kBAAR,GAA6BH,UAAU,CAACI,eAAX,CAA2B5F,IAA3B,CAAgC,IAAhC,EAAsCyF,OAAtC,EAA+CJ,QAA/C,EAAyDC,aAAzD,CAA7B;AACAG,QAAAA,OAAO,CAACvC,IAAR,CAAa,MAAb,EAAqBgC,SAArB,EAAgC,IAAhC;;AACA,YAAGC,YAAY,KAAK,IAAjB,IAAyB,OAAOA,YAAP,KAAwB,QAAjD,IAA6D,KAAKU,EAAL,CAAQ3G,MAAR,CAAe4G,IAAf,CAAoBX,YAApB,EAAkCY,MAAlC,GAA2C,CAA3G,EAA6G;AACzG,eAAI,IAAIhG,GAAR,IAAeoF,YAAf,EAA4B;AACxBM,YAAAA,OAAO,CAACO,gBAAR,CAAyBjG,GAAzB,EAA8BoF,YAAY,CAACpF,GAAD,CAA1C;AACH;AACJ;;AACD0F,QAAAA,OAAO,CAACQ,IAAR,CAAab,QAAb;AACH,OA1Be;AA4BhBQ,MAAAA,eAAe,EAAE,UAAUH,OAAV,EAAmBJ,QAAnB,EAA6BC,aAA7B,EAA4C;AACzD,YAAIG,OAAO,CAACS,UAAR,KAAuB,CAA3B,EAA8B;AAC1B,cAAIT,OAAO,CAACU,MAAR,KAAmB,GAAvB,EAA4B;AACxB,gBAAI;AACAd,cAAAA,QAAQ,CAACI,OAAD,CAAR;AACH,aAFD,CAEE,OAAO9C,CAAP,EAAU;AACR,oBAAM3B,KAAK,CAAC,2DAA2D2B,CAAC,CAACyD,OAA7D,GAAuE,GAAxE,CAAX;AACH,aAJD,SAIU;AACN,mBAAKC,YAAL;AACH;AACJ,WARD,MAQO;AAAE;AACL,iBAAKA,YAAL;AACA,kBAAMC,GAAG,GAAG,CAACb,OAAO,CAACc,YAAT,GAAwBd,OAAxB,GAAkCe,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,CAA9C;;AACA,gBAAI,OAAOjB,aAAP,KAAyB,UAAzB,IAAuCA,aAAa,CAAC,EAAD,EAAKgB,GAAL,EAAU,IAAV,CAAxD,EAAyE;AACrE,oBAAMI,GAAG,GAAG,4DAA4DjB,OAAO,CAACU,MAApE,GAA6E,cAA7E,IAA+FG,GAAG,CAACK,YAAJ,IAAoBlB,OAAO,CAACc,YAA3H,CAAZ;AACA,mBAAKK,SAAL,CAAeC,UAAf,CAA0BH,GAA1B;AACA,oBAAM1F,KAAK,CAAC0F,GAAD,CAAX;AACH;AACJ;AACJ;AACJ,OAhDe;;AAkDhB;;;;;;;;;;;;;;;AAeAI,MAAAA,SAAS,EAAE,UAAUC,UAAV,EAAsBC,QAAtB,EAAgCC,kBAAhC,EAAoDC,aAApD,EAAmEC,QAAnE,EAA6E;AACpF,YAAIC,IAAI,GAAG,EAAX;;AACA,aAAK,IAAI3I,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGL,QAAQ,CAACjB,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD2I,UAAAA,IAAI,GAAGA,IAAI,CAACE,MAAL,CAAY,GAAGC,KAAH,CAAS5I,IAAT,CAAc,KAAK2C,OAAL,CAAamB,OAAb,CAAqB+E,OAArB,CAA6BC,oBAA7B,CAAkDT,QAAQ,CAACvI,CAAD,CAA1D,CAAd,CAAZ,CAAP;AACH;;AAED,cAAM6C,OAAO,GAAG,KAAKA,OAAL,CAAayF,UAAb,CAAhB;AACA,cAAMW,QAAQ,GAAGpG,OAAO,CAACqG,SAAzB;AACA,cAAMC,WAAW,GAAG,KAAK5E,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiC7H,IAAjC,CAAsC,IAAtC,CAApB;;AAEA,YAAIoH,IAAI,CAACrB,MAAL,KAAgB2B,QAAQ,CAAC3B,MAA7B,EAAqC;AACjC;AACA,cAAI,KAAK+B,oBAAT,EAA+B;AAC3B,iBAAK,IAAIrJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGD,IAAI,CAACrB,MAA3B,EAAmCtH,CAAC,GAAG4I,GAAvC,EAA4C5I,CAAC,EAA7C,EAAiD;AAC7CmJ,cAAAA,WAAW,CAACb,UAAD,EAAaK,IAAI,CAAC3I,CAAD,CAAjB,EAAsBwI,kBAAtB,EAA0C,IAA1C,EAAgDE,QAAhD,CAAX;AACH;;AACD;AACH,WALD,MAKO;AACH,gBAAIY,UAAU,GAAG,KAAjB;;AACA,iBAAK,IAAItJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGK,QAAQ,CAAC3B,MAA1B,EAAkCiC,IAAvC,EAA6CvJ,CAAC,GAAG4I,GAAjD,EAAsD5I,CAAC,EAAvD,EAA2D;AACvDuJ,cAAAA,IAAI,GAAGN,QAAQ,CAACjJ,CAAD,CAAf;;AACA,kBAAI2I,IAAI,CAACa,MAAL,CAAY,UAAUvI,CAAV,EAAa;AAAE,uBAAOsI,IAAI,CAACE,GAAL,KAAaxI,CAAC,CAACwI,GAAf,IAAsBF,IAAI,CAACG,KAAL,CAAWC,QAAX,OAA0B1I,CAAC,CAACqD,YAAF,CAAe,YAAf,CAAvD;AAAsF,eAAjH,EAAmHgD,MAAnH,KAA8H,CAAlI,EAAqI;AACjIgC,gBAAAA,UAAU,GAAG,IAAb;AACA;AACH;AACJ,aARE,CASH;;;AACA,gBAAI,CAACA,UAAL,EAAiB;AACpB;AACJ,SA7BmF,CA+BpF;;;AACA,cAAMM,cAAc,GAAGlB,QAAQ,GAAG,KAAK7F,OAAL,CAAa6F,QAAb,CAAsBkB,cAAzB,GAA0C,EAAzE;;AACA,YAAIlB,QAAJ,EAAc,KAAK7F,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuCtB,UAAvC;AACd,cAAMuB,WAAW,GAAG,EAApB;AACA,cAAMC,SAAS,GAAG,EAAlB;;AACA,aAAK,IAAI9J,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGK,QAAQ,CAAC3B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD8J,UAAAA,SAAS,CAAC9J,CAAD,CAAT,GAAeiJ,QAAQ,CAACjJ,CAAD,CAAR,CAAY0J,KAA3B;AACH;;AAED,aAAK,IAAI1J,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGD,IAAI,CAACrB,MAAtB,EAA8ByC,GAAnC,EAAwC/J,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD+J,UAAAA,GAAG,GAAGpB,IAAI,CAAC3I,CAAD,CAAV;;AACA,cAAI,CAAC,KAAKkD,IAAL,CAAU8G,gBAAV,CAA2BD,GAA3B,EAAgC,KAAK7G,IAAL,CAAU+G,gBAA1C,CAAD,IAAgE,CAAC,UAAU9F,IAAV,CAAe4F,GAAG,CAACG,aAAJ,CAAkBC,QAAjC,CAArE,EAAiH;AAC7GN,YAAAA,WAAW,CAACO,IAAZ,CAAiBvH,OAAO,CAACwH,UAAzB;AACA5B,YAAAA,aAAa,CAACsB,GAAD,CAAb;AACH,WAHD,MAGO,IAAI,CAACA,GAAG,CAACzF,YAAJ,CAAiB,YAAjB,CAAD,IAAmCwF,SAAS,CAACQ,OAAV,CAAkBP,GAAG,CAACzF,YAAJ,CAAiB,YAAjB,IAAiC,CAAnD,IAAwD,CAA/F,EAAkG;AACrGuF,YAAAA,WAAW,CAACO,IAAZ,CAAiBvH,OAAO,CAACwH,UAAzB;AACAN,YAAAA,GAAG,CAACQ,eAAJ,CAAoB,YAApB;AACApB,YAAAA,WAAW,CAACb,UAAD,EAAayB,GAAb,EAAkBvB,kBAAlB,EAAsC,IAAtC,EAA4CE,QAA5C,CAAX;AACH,WAJM,MAIA;AACHmB,YAAAA,WAAW,CAACO,IAAZ,CAAiBL,GAAG,CAACzF,YAAJ,CAAiB,YAAjB,IAAiC,CAAlD;AACH;AACJ;;AAED,aAAK,IAAItE,CAAC,GAAG,CAAR,EAAWwK,SAAhB,EAA2BxK,CAAC,GAAGiJ,QAAQ,CAAC3B,MAAxC,EAAgDtH,CAAC,EAAjD,EAAqD;AACjDwK,UAAAA,SAAS,GAAGvB,QAAQ,CAACjJ,CAAD,CAAR,CAAY0J,KAAxB;AACA,cAAIG,WAAW,CAACS,OAAZ,CAAoBE,SAApB,IAAiC,CAAC,CAAtC,EAAyC;AAEzCvB,UAAAA,QAAQ,CAACwB,MAAT,CAAgBzK,CAAhB,EAAmB,CAAnB;AACA,cAAI,OAAOwI,kBAAP,KAA8B,UAAlC,EAA8CA,kBAAkB,CAAC,IAAD,EAAOgC,SAAP,EAAkB,QAAlB,EAA4B,IAA5B,EAAkC,CAAlC,EAAqC,IAArC,CAAlB;AAC9CxK,UAAAA,CAAC;AACJ;;AAED,YAAI0I,QAAJ,EAAc,KAAK7F,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuCA,cAAvC;AACjB,OAjIe;;AAmIhB;;;;;;;;;;;AAWAR,MAAAA,OAAO,EAAE,UAAUd,UAAV,EAAsBtE,OAAtB,EAA+BwE,kBAA/B,EAAmDkC,IAAnD,EAAyDhC,QAAzD,EAAmE;AACxE,cAAMkB,cAAc,GAAGlB,QAAQ,GAAG,KAAK7F,OAAL,CAAa6F,QAAb,CAAsBkB,cAAzB,GAA0C,EAAzE;;AACA,YAAIlB,QAAJ,EAAc,KAAK7F,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuCtB,UAAvC;AAEd,cAAMqC,MAAM,GAAG,KAAKpG,OAAL,CAAa+D,UAAb,CAAf;AACA,cAAMzF,OAAO,GAAG,KAAKA,OAAL,CAAayF,UAAb,CAAhB;AACA,cAAMW,QAAQ,GAAGpG,OAAO,CAACqG,SAAzB;AACA,YAAIsB,SAAS,GAAGxG,OAAO,CAACM,YAAR,CAAqB,YAArB,CAAhB;AACA,YAAIiF,IAAI,GAAG,IAAX;AACA,YAAIqB,KAAK,GAAG,EAAZ;;AAEA,YAAI,CAACF,IAAL,EAAW;AACPA,UAAAA,IAAI,GAAG;AACH,oBAAQ1G,OAAO,CAACM,YAAR,CAAqB,gBAArB,MAA2C,OAAON,OAAO,CAACyF,GAAf,KAAuB,QAAvB,GAAkCzF,OAAO,CAACyF,GAAR,CAAYoB,KAAZ,CAAkB,GAAlB,EAAuBC,GAAvB,EAAlC,GAAiE,EAA5G,CADL;AAEH,oBAAQ9G,OAAO,CAACM,YAAR,CAAqB,gBAArB,KAA0C;AAF/C,WAAP;AAIH,SAhBuE,CAkBxE;;;AACA,YAAI,CAACkG,SAAD,IAAc,KAAKO,mBAAvB,EAA4C;AACxCH,UAAAA,KAAK,GAAG,QAAR;AACAJ,UAAAA,SAAS,GAAG3H,OAAO,CAACwH,UAAR,EAAZ;AAEArG,UAAAA,OAAO,CAAC+B,YAAR,CAAqB,YAArB,EAAmCyE,SAAnC;AACAxG,UAAAA,OAAO,CAAC+B,YAAR,CAAqB,gBAArB,EAAuC2E,IAAI,CAACpK,IAA5C;AACA0D,UAAAA,OAAO,CAAC+B,YAAR,CAAqB,gBAArB,EAAuC2E,IAAI,CAACM,IAA5C;AAEAzB,UAAAA,IAAI,GAAG;AACHE,YAAAA,GAAG,EAAEzF,OAAO,CAACyF,GADV;AAEHC,YAAAA,KAAK,EAAEc,SAAS,GAAG,CAFhB;AAGHlK,YAAAA,IAAI,EAAEoK,IAAI,CAACpK,IAHR;AAIH0K,YAAAA,IAAI,EAAEN,IAAI,CAACM;AAJR,WAAP;AAOA/B,UAAAA,QAAQ,CAACmB,IAAT,CAAcb,IAAd;AACH,SAhBD,MAgBO;AAAE;AACLqB,UAAAA,KAAK,GAAG,QAAR;AACAJ,UAAAA,SAAS,IAAI,CAAb;;AAEA,eAAK,IAAIxK,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGK,QAAQ,CAAC3B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,gBAAIwK,SAAS,KAAKvB,QAAQ,CAACjJ,CAAD,CAAR,CAAY0J,KAA9B,EAAqC;AACjCH,cAAAA,IAAI,GAAGN,QAAQ,CAACjJ,CAAD,CAAf;AACA;AACH;AACJ;;AAED,cAAI,CAACuJ,IAAL,EAAW;AACPiB,YAAAA,SAAS,GAAG3H,OAAO,CAACwH,UAAR,EAAZ;AACAd,YAAAA,IAAI,GAAG;AAAEG,cAAAA,KAAK,EAAEc;AAAT,aAAP;AACAvB,YAAAA,QAAQ,CAACmB,IAAT,CAAcb,IAAd;AACH;;AAEDA,UAAAA,IAAI,CAACE,GAAL,GAAWzF,OAAO,CAACyF,GAAnB;AACAF,UAAAA,IAAI,CAACjJ,IAAL,GAAY0D,OAAO,CAACM,YAAR,CAAqB,gBAArB,CAAZ;AACAiF,UAAAA,IAAI,CAACyB,IAAL,GAAYhH,OAAO,CAACM,YAAR,CAAqB,gBAArB,IAAyC,CAArD;AACH,SAvDuE,CAyDxE;;;AACAiF,QAAAA,IAAI,CAACvF,OAAL,GAAeA,OAAf;AACAuF,QAAAA,IAAI,CAAC0B,MAAL,GAAcN,MAAM,CAACO,OAAP,CAAe3J,IAAf,CAAoB,IAApB,EAA0ByC,OAA1B,CAAd;;AACAuF,QAAAA,IAAI,CAAC4B,MAAL,GAAc,UAAUnH,OAAV,EAAmB;AAC7BA,UAAAA,OAAO,CAACoH,cAAR,CAAuB,IAAvB;;AACA,eAAKhE,EAAL,CAAQiE,UAAR,CAAmBV,MAAM,CAACQ,MAAP,CAAc5J,IAAd,CAAmB,IAAnB,EAAyByC,OAAzB,CAAnB;AACH,SAHa,CAGZzC,IAHY,CAGP,IAHO,EAGDyC,OAHC,CAAd;;AAKA,YAAI0E,QAAJ,EAAc;AACV,cAAI,CAAC1E,OAAO,CAACM,YAAR,CAAqB,aAArB,CAAD,IAAwCN,OAAO,CAACsH,YAApD,EAAkE;AAC9DtH,YAAAA,OAAO,CAAC+B,YAAR,CAAqB,aAArB,EAAoC/B,OAAO,CAACsH,YAAR,GAAuB,GAAvB,GAA6BtH,OAAO,CAACuH,aAAzE;AACH;;AAED,cAAI,CAACvH,OAAO,CAACM,YAAR,CAAqB,aAArB,CAAL,EAA0C;AACtC,kBAAMwB,SAAS,GAAG,KAAK5C,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,KAAKd,IAAL,CAAU+G,gBAA9C,CAAlB;AACA,kBAAMpE,KAAK,GAAG,KAAK3C,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,QAApC,CAAd;;AAEA,kBAAM1B,CAAC,GAAG,KAAKiC,OAAL,CAAamE,QAAb,CAAsB8C,gBAAtB,CAAuCtL,IAAvC,CAA4C,IAA5C,EAAkD2C,OAAlD,EAA2DmB,OAA3D,EAAoE6B,KAApE,EAA2EC,SAA3E,CAAV;;AACA,kBAAM2F,CAAC,GAAG,KAAKlH,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkD2C,OAAlD,EAA2DmB,OAA3D,EAAoE6B,KAApE,EAA2EC,SAA3E,CAAV;;AACA9B,YAAAA,OAAO,CAAC+B,YAAR,CAAqB,aAArB,EAAoCzD,CAAC,GAAG,GAAJ,GAAUmJ,CAA9C;AACAzH,YAAAA,OAAO,CAAC+B,YAAR,CAAqB,WAArB,EAAkCzD,CAAC,GAAG,GAAJ,GAAUmJ,CAA5C;AACH;;AAED,cAAI,CAACzH,OAAO,CAACV,KAAR,CAAcqI,KAAnB,EAA0B;AACtB,kBAAMX,IAAI,GAAG,CAAChH,OAAO,CAACM,YAAR,CAAqB,WAArB,KAAqCN,OAAO,CAACM,YAAR,CAAqB,aAArB,CAArC,IAA4E,EAA7E,EAAiFuG,KAAjF,CAAuF,GAAvF,CAAb;AACAF,YAAAA,MAAM,CAACiB,YAAP,CAAoB1L,IAApB,CAAyB,IAAzB,EAA+B8D,OAA/B,EAAwC,IAAxC;AACA2G,YAAAA,MAAM,CAACkB,SAAP,CAAiB3L,IAAjB,CAAsB,IAAtB,EAA4B8K,IAAI,CAAC,CAAD,CAAhC,EAAqCA,IAAI,CAAC,CAAD,CAAzC;AACH;;AAED,eAAKnI,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuCA,cAAvC;AACH;;AAED,YAAI,OAAOpB,kBAAP,KAA8B,UAAlC,EAA8CA,kBAAkB,CAACxE,OAAD,EAAUwG,SAAV,EAAqBI,KAArB,EAA4BrB,IAA5B,EAAkC,EAAE1G,OAAO,CAACiJ,iBAAV,GAA8B,CAA9B,GAAkC,CAAlC,GAAsCjJ,OAAO,CAACiJ,iBAAhF,EAAmG,IAAnG,CAAlB;AACjD,OAxOe;;AA0OhB;;;;;;AAMAC,MAAAA,UAAU,EAAE,UAAUzD,UAAV,EAAsBoB,KAAtB,EAA6BlB,kBAA7B,EAAiD;AACzD,YAAIkB,KAAK,IAAI,CAAb,EAAgB;AACZ,gBAAMT,QAAQ,GAAG,KAAKpG,OAAL,CAAayF,UAAb,EAAyBY,SAA1C;;AAEA,eAAK,IAAIlJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGK,QAAQ,CAAC3B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,gBAAI0J,KAAK,KAAKT,QAAQ,CAACjJ,CAAD,CAAR,CAAY0J,KAA1B,EAAiC;AAC7BT,cAAAA,QAAQ,CAACwB,MAAT,CAAgBzK,CAAhB,EAAmB,CAAnB;AACA,kBAAI,OAAOwI,kBAAP,KAA8B,UAAlC,EAA8CA,kBAAkB,CAAC,IAAD,EAAOkB,KAAP,EAAc,QAAd,EAAwB,IAAxB,EAA8B,CAA9B,EAAiC,IAAjC,CAAlB;AAC9C;AACH;AACJ;AACJ;AACJ,OA5Pe;;AA8PhB;;;;;AAKAsC,MAAAA,SAAS,EAAE,UAAU1D,UAAV,EAAsBE,kBAAtB,EAA0C;AACjD,cAAM3F,OAAO,GAAG,KAAKA,OAAL,CAAayF,UAAb,CAAhB;;AAEA,YAAI,OAAOE,kBAAP,KAA8B,UAAlC,EAA8C;AAC1C,gBAAMS,QAAQ,GAAGpG,OAAO,CAACqG,SAAzB;;AACA,eAAK,IAAIlJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGK,QAAQ,CAAC3B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjDwI,YAAAA,kBAAkB,CAAC,IAAD,EAAOS,QAAQ,CAACjJ,CAAD,CAAR,CAAY0J,KAAnB,EAA0B,QAA1B,EAAoC,IAApC,EAA0C,CAA1C,EAA6C,IAA7C,CAAlB;AACH;AACJ;;AAED7G,QAAAA,OAAO,CAACqG,SAAR,GAAoB,EAApB;AACArG,QAAAA,OAAO,CAACwH,UAAR,GAAqB,CAArB;AACH;AA/Qe,KAApB;;AAkRA,QAAI,OAAO5H,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACgD,iBAAZ,EAA+B;AAC3B/E,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,mBAA9B,EAAmD;AAC/C7B,UAAAA,UAAU,EAAE,IADmC;AAE/C8E,UAAAA,QAAQ,EAAE,KAFqC;AAG/CC,UAAAA,YAAY,EAAE,KAHiC;AAI/C1E,UAAAA,KAAK,EAAE;AAJwC,SAAnD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACgD,iBAA7B,EAAgD,aAAhD,EAA+D;AAC3D7E,QAAAA,UAAU,EAAE,IAD+C;AAE3D8E,QAAAA,QAAQ,EAAE,KAFiD;AAG3DC,QAAAA,YAAY,EAAE,KAH6C;AAI3D1E,QAAAA,KAAK,EAAEsF;AAJoD,OAA/D;AAMH;;AAED,WAAOA,WAAP;AACH,GAnTA,CAAD;AAqTA;;AAAO,CArmBG;AAsmBV;;AACA;AAAO,UAAS5G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,SADJ;AAELC,QAAAA,IAAI,EAAE,MAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,MALL;AAMLC,QAAAA,IAAI,EAAE,MAND;AAOLC,QAAAA,SAAS,EAAE,WAPN;AAQLC,QAAAA,MAAM,EAAE,QARH;AASLC,QAAAA,MAAM,EAAE,QATH;AAULC,QAAAA,SAAS,EAAE,WAVN;AAWLC,QAAAA,WAAW,EAAE,aAXR;AAYLC,QAAAA,YAAY,EAAE,eAZT;AAaLC,QAAAA,SAAS,EAAE,YAbN;AAcLC,QAAAA,WAAW,EAAE,iBAdR;AAeLC,QAAAA,MAAM,EAAE,QAfH;AAgBLC,QAAAA,OAAO,EAAE,SAhBJ;AAiBLC,QAAAA,KAAK,EAAE,OAjBF;AAkBLC,QAAAA,SAAS,EAAE,YAlBN;AAmBLC,QAAAA,UAAU,EAAE,aAnBP;AAoBLC,QAAAA,WAAW,EAAE,cApBR;AAqBLC,QAAAA,YAAY,EAAE,eArBT;AAsBLC,QAAAA,IAAI,EAAE,MAtBD;AAuBLC,QAAAA,SAAS,EAAE,cAvBN;AAwBLC,QAAAA,WAAW,EAAE,gBAxBR;AAyBLC,QAAAA,cAAc,EAAE,iBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,OA1BL;AA2BLC,QAAAA,SAAS,EAAE,QA3BN;AA4BLC,QAAAA,SAAS,EAAE,QA5BN;AA6BLC,QAAAA,KAAK,EAAE,OA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,MA/BD;AAgCLC,QAAAA,KAAK,EAAE,OAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,aAnCP;AAoCLC,QAAAA,UAAU,EAAE,aApCP;AAqCLC,QAAAA,QAAQ,EAAE,WArCL;AAsCLC,QAAAA,IAAI,EAAE,MAtCD;AAuCLC,QAAAA,IAAI,EAAE,MAvCD;AAwCLC,QAAAA,OAAO,EAAE,SAxCJ;AAyCLC,QAAAA,KAAK,EAAE,OAzCF;AA0CLC,QAAAA,KAAK,EAAE,WA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,QA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,MA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,UA/CL;AAgDLC,QAAAA,UAAU,EAAE,aAhDP;AAiDLC,QAAAA,cAAc,EAAE,iBAjDX;AAkDLC,QAAAA,SAAS,EAAE,YAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,aADF;AAELC,UAAAA,GAAG,EAAE,aAFA;AAGLC,UAAAA,IAAI,EAAE,iBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,MADF;AAELK,UAAAA,UAAU,EAAE,uBAFP;AAGLC,UAAAA,aAAa,EAAE,WAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,cADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE,WAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,cADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,cADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,MADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,oBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,OAlCA;AAmCP6L,QAAAA,YAAY,EAAE,QAnCP;AAoCPC,QAAAA,YAAY,EAAE,QApCP;AAqCPC,QAAAA,UAAU,EAAE,uBArCL;AAsCPC,QAAAA,KAAK,EAAE,OAtCA;AAuCPC,QAAAA,IAAI,EAAE,MAvCC;AAwCPC,QAAAA,KAAK,EAAE,OAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,OA1CA;AA2CPiF,QAAAA,MAAM,EAAE,QA3CD;AA4CP5F,QAAAA,IAAI,EAAE,MA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,MADE;AAERC,QAAAA,MAAM,EAAE,QAFA;AAGRC,QAAAA,MAAM,EAAE,QAHA;AAIRC,QAAAA,cAAc,EAAE,kBAJR;AAKRC,QAAAA,cAAc,EAAE,kBALR;AAMRC,QAAAA,SAAS,EAAE,YANH;AAORC,QAAAA,kBAAkB,EAAE,sBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,qBARX;AASRC,QAAAA,YAAY,EAAE,eATN;AAURC,QAAAA,gBAAgB,EAAE,oBAVV;AAWRC,QAAAA,SAAS,EAAE,aAXH;AAYRC,QAAAA,QAAQ,EAAE,YAZF;AAaRC,QAAAA,QAAQ,EAAE,YAbF;AAcRC,QAAAA,QAAQ,EAAE,YAdF;AAeRC,QAAAA,QAAQ,EAAE,WAfF;AAgBRC,QAAAA,gBAAgB,EAAE,oBAhBV;AAiBRC,QAAAA,cAAc,EAAE,kBAjBR;AAkBRC,QAAAA,UAAU,EAAE,aAlBJ;AAmBRC,QAAAA,WAAW,EAAE,cAnBL;AAoBRC,QAAAA,OAAO,EAAE,UApBD;AAqBRC,QAAAA,OAAO,EAAE,UArBD;AAsBRC,QAAAA,WAAW,EAAE,cAtBL;AAuBRC,QAAAA,UAAU,EAAE,aAvBJ;AAwBRC,QAAAA,UAAU,EAAE,aAxBJ;AAyBRC,QAAAA,eAAe,EAAE,kBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,QADN;AAEFC,QAAAA,QAAQ,EAAE,UAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,aAJX;AAKFC,QAAAA,MAAM,EAAE,QALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CAlyBG;AAmyBV;;AACA;AAAO,UAAS1G,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;AACA;;;;;;;;AASA;;AAA6BkT,EAAAA,mBAAmB,CAAC,GAAD,CAAnB,GAA4B;AACrD1S,IAAAA,IAAI,EAAE,aAD+C;;AAErD;;;;AAIAqC,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjB,YAAMC,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACoQ,WAAR,GAAsB;AAClBC,QAAAA,aAAa,EAAE,EADG;AAElBC,QAAAA,WAAW,EAAE,EAFK;AAGlBC,QAAAA,aAAa,EAAE,MAHG;AAIlBC,QAAAA,cAAc,EAAE,OAJE;AAKlBC,QAAAA,aAAa,EAAE,EALG;AAMlBC,QAAAA,UAAU,EAAE;AANM,OAAtB;AASA;;AACA,UAAIC,OAAO,GAAG,KAAKC,eAAL,CAAqB7Q,IAArB,EAA2B,KAAK8Q,cAAhC,CAAd;AAEA;;AACA7Q,MAAAA,OAAO,CAACoQ,WAAR,CAAoBC,aAApB,GAAoCM,OAApC;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAzBoD;;AA2BrD;;;;;;AAMAC,IAAAA,eAAe,EAAE,UAAU7Q,IAAV,EAAgB+Q,SAAhB,EAA2B;AACxC,YAAM3O,MAAM,GAAGpC,IAAI,CAACC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAGxD,IAAI,CAACwD,IAAlB;AACA,YAAMwN,SAAS,GAAG,CAAC5O,MAAM,CAAC4O,SAAR,IAAqB5O,MAAM,CAAC4O,SAAP,CAAiBtM,MAAjB,KAA4B,CAAjD,GACd,CACI,SADJ,EACe,SADf,EAC0B,SAD1B,EACqC,SADrC,EACgD,SADhD,EAC2D,SAD3D,EACsE,SADtE,EACiF,SADjF,EAC4F,SAD5F,EAEI,SAFJ,EAEe,SAFf,EAE0B,SAF1B,EAEqC,SAFrC,EAEgD,SAFhD,EAE2D,SAF3D,EAEsE,SAFtE,EAEiF,SAFjF,EAE4F,SAF5F,EAGI,SAHJ,EAGe,SAHf,EAG0B,SAH1B,EAGqC,SAHrC,EAGgD,SAHhD,EAG2D,SAH3D,EAGsE,SAHtE,EAGiF,SAHjF,EAG4F,SAH5F,EAII,SAJJ,EAIe,SAJf,EAI0B,SAJ1B,EAIqC,SAJrC,EAIgD,SAJhD,EAI2D,SAJ3D,EAIsE,SAJtE,EAIiF,SAJjF,EAI4F,SAJ5F,EAKI,SALJ,EAKe,SALf,EAK0B,SAL1B,EAKqC,SALrC,EAKgD,SALhD,EAK2D,SAL3D,EAKsE,SALtE,EAKiF,SALjF,EAK4F,SAL5F,EAMI,SANJ,EAMe,SANf,EAM0B,SAN1B,EAMqC,SANrC,EAMgD,SANhD,EAM2D,SAN3D,EAMsE,SANtE,EAMiF,SANjF,EAM4F,SAN5F,CADc,GAQVtC,MAAM,CAAC4O,SARf;AAUA,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAIrG,IAAI,GAAG,6BAAX;;AACI,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGgL,SAAS,CAACtM,MAA3B,EAAmCwM,KAAxC,EAA+C9T,CAAC,GAAG4I,GAAnD,EAAwD5I,CAAC,EAAzD,EAA6D;AACzD8T,QAAAA,KAAK,GAAGF,SAAS,CAAC5T,CAAD,CAAjB;AACA,YAAI,CAAC8T,KAAL,EAAY;;AAEZ,YAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3BD,UAAAA,QAAQ,CAACzJ,IAAT,CAAc0J,KAAd;AACA,cAAI9T,CAAC,GAAG4I,GAAG,GAAG,CAAd,EAAiB;AACpB;;AACD,YAAIiL,QAAQ,CAACvM,MAAT,GAAkB,CAAtB,EAAyB;AACrBkG,UAAAA,IAAI,IAAI,oCAAoCmG,SAAS,CAACE,QAAD,CAA7C,GAA0D,QAAlE;AACAA,UAAAA,QAAQ,GAAG,EAAX;AACH;;AACD,YAAI,OAAOC,KAAP,KAAiB,QAArB,EAA+B;AAC3BtG,UAAAA,IAAI,IAAI,oCAAoCmG,SAAS,CAACG,KAAD,CAA7C,GAAuD,QAA/D;AACH;AACJ;;AACDtG,MAAAA,IAAI,IAAI,KACR,sCADQ,GAEJ,kFAFI,GAGJ,8EAHI,GAG6EpH,IAAI,CAACC,SAAL,CAAegK,YAH5F,GAG2G,IAH3G,GAIAzN,IAAI,CAACmR,KAAL,CAAWC,OAJX,GAKJ,WALI,GAMJ,sEANI,GAMqE5N,IAAI,CAAC8F,OAAL,CAAaY,YANlF,GAMiG,IANjG,GAOAlK,IAAI,CAACmR,KAAL,CAAWE,KAPX,GAQJ,WARI,GASR,SATQ,GAUR,QAVA;AAYJ,aAAOzG,IAAP;AACH,KA7EoD;;AA+ErD;;;;;AAKAkG,IAAAA,cAAc,EAAE,UAAUE,SAAV,EAAqB;AACjC,UAAIpG,IAAI,GAAG,EAAX;AAEAA,MAAAA,IAAI,IAAI,8BAAR;;AACA,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGgL,SAAS,CAACtM,MAA3B,EAAmCwM,KAAxC,EAA+C9T,CAAC,GAAG4I,GAAnD,EAAwD5I,CAAC,EAAzD,EAA6D;AACzD8T,QAAAA,KAAK,GAAGF,SAAS,CAAC5T,CAAD,CAAjB;;AACA,YAAI,OAAO8T,KAAP,KAAiB,QAArB,EAA+B;AAC3BtG,UAAAA,IAAI,IAAI,SACI,oCADJ,GAC2CsG,KAD3C,GACmD,WADnD,GACiEA,KADjE,GACyE,4BADzE,GACwGA,KADxG,GACgH,cADhH,GAEA,OAFR;AAGH;AACJ;;AACDtG,MAAAA,IAAI,IAAI,OAAR;AAEA,aAAOA,IAAP;AACH,KAnGoD;;AAqGrD;;;;;AAKAlI,IAAAA,IAAI,EAAE,UAAU4O,IAAV,EAAgBJ,KAAhB,EAAuB;AACzB,YAAMb,WAAW,GAAG,KAAK1O,OAAL,CAAa0O,WAAjC;AACA,UAAIkB,SAAS,GAAGL,KAAK,GAAGA,KAAH,GAAWb,WAAW,CAACmB,cAAZ,CAA2BlU,IAA3B,CAAgC,IAAhC,EAAsCgU,IAAtC,KAA+C,KAAKrR,OAAL,CAAaoQ,WAAb,CAAyBG,aAAxG;AACAe,MAAAA,SAAS,GAAGlB,WAAW,CAACoB,UAAZ,CAAuBF,SAAvB,IAAoCA,SAApC,GAAgDlB,WAAW,CAACqB,OAAZ,CAAoBH,SAApB,KAAkCA,SAA9F;AAEA,YAAMP,SAAS,GAAG,KAAK/Q,OAAL,CAAaoQ,WAAb,CAAyBM,UAA3C;;AACA,UAAIK,SAAJ,EAAe;AACX,aAAK,IAAI5T,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGgL,SAAS,CAACtM,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD,cAAImU,SAAS,CAACI,WAAV,OAA4BX,SAAS,CAAC5T,CAAD,CAAT,CAAasE,YAAb,CAA0B,YAA1B,EAAwCiQ,WAAxC,EAAhC,EAAuF;AACnF,iBAAKrR,IAAL,CAAUsR,QAAV,CAAmBZ,SAAS,CAAC5T,CAAD,CAA5B,EAAiC,QAAjC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsBb,SAAS,CAAC5T,CAAD,CAA/B,EAAoC,QAApC;AACH;AACJ;AACJ;;AAEDiT,MAAAA,WAAW,CAACyB,YAAZ,CAAyBxU,IAAzB,CAA8B,IAA9B,EAAoC+S,WAAW,CAAC0B,aAAZ,CAA0BzU,IAA1B,CAA+B,IAA/B,EAAqCiU,SAArC,CAApC;AACH,KA3HoD;;AA6HrD;;;;AAIAS,IAAAA,eAAe,EAAE,UAAUC,WAAV,EAAuB;AACpC,WAAKhS,OAAL,CAAaoQ,WAAb,CAAyBK,aAAzB,GAAyCuB,WAAzC;AACA,WAAKhS,OAAL,CAAaoQ,WAAb,CAAyBE,WAAzB,CAAqC7P,KAArC,CAA2CwR,WAA3C,GAAyDD,WAAzD;AACH,KApIoD;;AAsIrD;;;;AAIAH,IAAAA,YAAY,EAAE,UAAUG,WAAV,EAAuB;AACjCA,MAAAA,WAAW,GAAG,KAAK1Q,IAAL,CAAU0Q,WAAV,IAAyBA,WAAzB,GAAuC,MAAMA,WAA3D;AACA,WAAKhS,OAAL,CAAaoQ,WAAb,CAAyBE,WAAzB,CAAqCnS,KAArC,GAA6C6T,WAA7C;AACA,WAAKtQ,OAAL,CAAa0O,WAAb,CAAyB2B,eAAzB,CAAyC1U,IAAzC,CAA8C,IAA9C,EAAoD2U,WAApD;AACH,KA9IoD;;AAgJrD;;;;;AAKAT,IAAAA,cAAc,EAAE,UAAUF,IAAV,EAAgB;AAC5B,UAAIa,SAAS,GAAG,EAAhB;AACA,YAAMC,aAAa,GAAG,KAAKnS,OAAL,CAAaoQ,WAAb,CAAyBI,cAA/C;;AAEA,aAAOa,IAAI,IAAI,CAAC,KAAKhR,IAAL,CAAU+R,YAAV,CAAuBf,IAAvB,CAAT,IAAyCa,SAAS,CAACzN,MAAV,KAAqB,CAArE,EAAwE;AACpE,YAAI4M,IAAI,CAACgB,QAAL,KAAkB,CAAlB,IAAuBhB,IAAI,CAAC5Q,KAAL,CAAW0R,aAAX,CAA3B,EAAsDD,SAAS,GAAGb,IAAI,CAAC5Q,KAAL,CAAW0R,aAAX,CAAZ;AACtDd,QAAAA,IAAI,GAAGA,IAAI,CAACiB,UAAZ;AACH;;AAED,aAAOJ,SAAP;AACH,KA/JoD;;AAiKrD;;;;AAIAV,IAAAA,UAAU,EAAE,UAAUe,GAAV,EAAe;AACvB,aAAO,kCAAkCjR,IAAlC,CAAuCiR,GAAvC,CAAP;AACH,KAvKoD;;AAyKrD;;;;;AAKAd,IAAAA,OAAO,EAAE,UAAUe,GAAV,EAAe;AACpB,YAAMC,QAAQ,GAAGD,GAAG,CAACE,KAAJ,CAAU,sEAAV,CAAjB;AAEA,aAAQD,QAAQ,IAAIA,QAAQ,CAAChO,MAAT,KAAoB,CAAjC,GAAsC,MACzC,CAAC,MAAMkO,QAAQ,CAACF,QAAQ,CAAC,CAAD,CAAT,EAAa,EAAb,CAAR,CAAyB3L,QAAzB,CAAkC,EAAlC,CAAP,EAA8Cb,KAA9C,CAAoD,CAAC,CAArD,CADyC,GAEzC,CAAC,MAAM0M,QAAQ,CAACF,QAAQ,CAAC,CAAD,CAAT,EAAa,EAAb,CAAR,CAAyB3L,QAAzB,CAAkC,EAAlC,CAAP,EAA8Cb,KAA9C,CAAoD,CAAC,CAArD,CAFyC,GAGzC,CAAC,MAAM0M,QAAQ,CAACF,QAAQ,CAAC,CAAD,CAAT,EAAa,EAAb,CAAR,CAAyB3L,QAAzB,CAAkC,EAAlC,CAAP,EAA8Cb,KAA9C,CAAoD,CAAC,CAArD,CAHG,GAGuD,EAH9D;AAIH,KArLoD;;AAuLrD;;;;;AAKA6L,IAAAA,aAAa,EAAE,UAAUc,SAAV,EAAqB;AAChC,UAAI,KAAKtR,IAAL,CAAUsR,SAAV,CAAJ,EAA0B,OAAOA,SAAP;AAC1B,UAAIC,IAAI,GAAG,KAAKxS,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAX;AACAuS,MAAAA,IAAI,CAACpS,KAAL,CAAWC,OAAX,GAAqB,MAArB;AACAmS,MAAAA,IAAI,CAACpS,KAAL,CAAWwQ,KAAX,GAAmB2B,SAAnB;;AACA,UAAIE,MAAM,GAAG,KAAKvO,EAAL,CAAQwO,gBAAR,CAAyB,KAAK/Q,EAAL,CAAQgR,IAAR,CAAapS,WAAb,CAAyBiS,IAAzB,CAAzB,EAAyD5B,KAAzD,CAA+DyB,KAA/D,CAAqE,MAArE,EAA6EO,GAA7E,CAAiF,UAAUC,CAAV,EAAa;AAAE,eAAOP,QAAQ,CAACO,CAAD,EAAG,EAAH,CAAf;AAAwB,OAAxH,CAAb;;AACA,WAAK7S,IAAL,CAAU8S,UAAV,CAAqBN,IAArB;AACA,aAAQC,MAAM,CAACrO,MAAP,IAAiB,CAAlB,GAAuB,MAAO,CAAC,CAAC,KAAK,EAAN,KAAaqO,MAAM,CAAC,CAAD,CAAN,IAAa,EAA1B,KAAiCA,MAAM,CAAC,CAAD,CAAN,IAAa,CAA9C,IAAmDA,MAAM,CAAC,CAAD,CAA1D,EAA+DhM,QAA/D,CAAwE,EAAxE,EAA4EsM,MAA5E,CAAmF,CAAnF,CAA9B,GAAuH,KAA9H;AACH;AApMoD,GAA5B;AAuM7B;AAAO,CAv/BG;AAw/BV;;AACA;AAAO,UAASvW,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAMiG,QAAQ,GAAG;AACbpI,MAAAA,IAAI,EAAE,UADO;;AAEb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCAqC,MAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjB,cAAMmR,KAAK,GAAGnR,IAAI,CAACmR,KAAnB;AACA,cAAMlR,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,QAAAA,OAAO,CAAC6F,QAAR,GAAmB;AACfwN,UAAAA,cAAc,EAAE,CADD;AAEfC,UAAAA,cAAc,EAAE,CAFD;AAGfvM,UAAAA,cAAc,EAAE,EAHD;AAIfwM,UAAAA,SAAS,EAAE,CAJI;AAKfC,UAAAA,SAAS,EAAE,CALI;AAMfC,UAAAA,SAAS,EAAE,CANI;AAOfC,UAAAA,SAAS,EAAE,CAPI;AAQfC,UAAAA,eAAe,EAAE,KARF;AASfC,UAAAA,iBAAiB,EAAE,EATJ;AAUfC,UAAAA,UAAU,EAAE,IAVG;AAWfC,UAAAA,SAAS,EAAE,KAXI;AAYfC,UAAAA,UAAU,EAAE;AACRpG,YAAAA,KAAK,EAAEuD,KAAK,CAAC8C,aADL;AAERpG,YAAAA,IAAI,EAAEsD,KAAK,CAAC+C,UAFJ;AAGRpG,YAAAA,KAAK,EAAEqD,KAAK,CAACgD,WAHL;AAIRpG,YAAAA,MAAM,EAAEoD,KAAK,CAACiD;AAJN;AAZG,SAAnB;AAoBA;;AACA,YAAIC,oBAAoB,GAAG,KAAKC,oBAAL,CAA0BhX,IAA1B,CAA+B0C,IAA/B,CAA3B;AACAC,QAAAA,OAAO,CAAC6F,QAAR,CAAiByO,eAAjB,GAAmCF,oBAAnC;AAEApU,QAAAA,OAAO,CAAC6F,QAAR,CAAiB0O,SAAjB,GAA6BH,oBAAoB,CAACI,aAArB,CAAmC,kBAAnC,CAA7B;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiB4O,SAAjB,GAA6BL,oBAAoB,CAACI,aAArB,CAAmC,gBAAnC,CAA7B;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiB6O,aAAjB,GAAiCN,oBAAoB,CAACI,aAArB,CAAmC,oBAAnC,CAAjC;AAEA,YAAIG,aAAa,GAAG,KAAKC,oBAAL,CAA0BvX,IAA1B,CAA+B0C,IAA/B,CAApB;AACAC,QAAAA,OAAO,CAAC6F,QAAR,CAAiBgP,YAAjB,GAAgCF,aAAhC;AAEA,YAAIG,cAAc,GAAG9U,OAAO,CAAC6F,QAAR,CAAiBkP,aAAjB,GAAiC/U,OAAO,CAAC6F,QAAR,CAAiB4O,SAAjB,CAA2BO,gBAA3B,CAA4C,MAA5C,CAAtD;AACAhV,QAAAA,OAAO,CAAC6F,QAAR,CAAiBoP,iBAAjB,GAAqCN,aAAa,CAACH,aAAd,CAA4B,yBAA5B,CAArC;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiBqP,eAAjB,GAAmCP,aAAa,CAACK,gBAAd,CAA+B,uCAA/B,CAAnC;AACAhV,QAAAA,OAAO,CAAC6F,QAAR,CAAiBsP,iBAAjB,GAAqCR,aAAa,CAACK,gBAAd,CAA+B,yCAA/B,CAArC;AAEAhV,QAAAA,OAAO,CAAC6F,QAAR,CAAiBuP,SAAjB,GAA6BT,aAAa,CAACH,aAAd,CAA4B,yBAA5B,CAA7B;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiBwP,aAAjB,GAAiCrV,OAAO,CAAC6F,QAAR,CAAiBuP,SAAjB,CAA2BJ,gBAA3B,CAA4C,QAA5C,CAAjC;AAEAhV,QAAAA,OAAO,CAAC6F,QAAR,CAAiByP,WAAjB,GAA+BX,aAAa,CAACH,aAAd,CAA4B,4BAA5B,CAA/B;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiB0P,cAAjB,GAAkCZ,aAAa,CAACH,aAAd,CAA4B,wCAA5B,CAAlC;AACAxU,QAAAA,OAAO,CAAC6F,QAAR,CAAiB2P,aAAjB,GAAiCb,aAAa,CAACH,aAAd,CAA4B,8BAA5B,CAAjC;AAEA;;AACAJ,QAAAA,oBAAoB,CAACpT,gBAArB,CAAsC,WAAtC,EAAmD,UAAUK,CAAV,EAAa;AAAEA,UAAAA,CAAC,CAACoU,cAAF;AAAqB,SAAvF;AACAd,QAAAA,aAAa,CAAC3T,gBAAd,CAA+B,WAA/B,EAA4CjB,IAAI,CAAC2V,SAAjD;AACAZ,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA+U,QAAAA,cAAc,CAAC,CAAD,CAAd,CAAkB9T,gBAAlB,CAAmC,WAAnC,EAAgD,KAAK2U,yBAAL,CAA+BjX,IAA/B,CAAoCqB,IAApC,CAAhD;AACA4U,QAAAA,aAAa,CAAC3T,gBAAd,CAA+B,OAA/B,EAAwC,KAAK4U,oBAAL,CAA0BlX,IAA1B,CAA+BqB,IAA/B,CAAxC;AAEA;;AACAC,QAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqCwT,oBAArC;AACApU,QAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC+T,aAArC;AAEA;;AACAP,QAAAA,oBAAoB,GAAG,IAAvB,EAA6BO,aAAa,GAAG,IAA7C,EAAmDG,cAAc,GAAG,IAApE;AACH,OAnGY;;AAqGb;AACAT,MAAAA,oBAAoB,EAAE,YAAY;AAC9B,cAAMwB,gBAAgB,GAAG,KAAKxV,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAzB;AAEAuV,QAAAA,gBAAgB,CAACtV,SAAjB,GAA6B,qCAA7B;AACAsV,QAAAA,gBAAgB,CAACpV,KAAjB,CAAuBC,OAAvB,GAAiC,MAAjC;AACAmV,QAAAA,gBAAgB,CAACvS,SAAjB,GAA6B,KACzB,qCADyB,GAEzB,6BAFyB,GAGrB,0BAHqB,GAIrB,0BAJqB,GAKrB,0BALqB,GAMrB,0BANqB,GAOrB,0BAPqB,GAQrB,0BARqB,GASrB,0BATqB,GAUrB,0BAVqB,GAWrB,uCAXqB,GAYzB,QAZJ;AAcA,eAAOuS,gBAAP;AACH,OA1HY;AA4HbjB,MAAAA,oBAAoB,EAAE,YAAY;AAC9B,cAAMrR,IAAI,GAAG,KAAKA,IAAlB;AACA,cAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,cAAMyD,aAAa,GAAG,KAAKtU,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAtB;AAEAqU,QAAAA,aAAa,CAACpU,SAAd,GAA0B,sCAA1B;AACAoU,QAAAA,aAAa,CAACrR,SAAd,GAA0B,KACtB,0CADsB,GAEtB,mDAFsB,GAGlB,gGAHkB,GAId,mBAJc,GAKd,+DALc,GAKoDC,IAAI,CAAC0K,UAAL,CAAgBW,SALpE,GAKgF,gBALhF,GAMlB,WANkB,GAOlB,mGAPkB,GAQd,kBARc,GASd,+DATc,GASoDrL,IAAI,CAAC0K,UAAL,CAAgBY,QATpE,GAS+E,gBAT/E,GAUlB,WAVkB,GAWlB,kGAXkB,GAYd,kBAZc,GAad,+DAbc,GAaoDtL,IAAI,CAAC0K,UAAL,CAAgBa,QAbpE,GAa+E,gBAb/E,GAclB,WAdkB,GAelB,oFAfkB,GAgBdoC,KAAK,CAAC4E,SAhBQ,GAiBd,+DAjBc,GAiBoDvS,IAAI,CAAC0K,UAAL,CAAgBe,QAjBpE,GAiB+E,gBAjB/E,GAkBlB,WAlBkB,GAmBlB,sGAnBkB,GAoBdkC,KAAK,CAAC6E,WApBQ,GAqBd,+DArBc,GAqBoDxS,IAAI,CAAC0K,UAAL,CAAgBkB,UArBpE,GAqBiF,gBArBjF,GAsBlB,WAtBkB,GAuBlB,qGAvBkB,GAwBd+B,KAAK,CAAC8E,YAxBQ,GAyBd,+DAzBc,GAyBoDzS,IAAI,CAAC0K,UAAL,CAAgBmB,WAzBpE,GAyBkF,gBAzBlF,GA0BlB,WA1BkB,GA2BtB,QA3BsB,GA4BtB,oDA5BsB,GA6BlB,uFA7BkB,GA8Bd8B,KAAK,CAAC+E,iBA9BQ,GA+Bd,+DA/Bc,GA+BoD1S,IAAI,CAAC0K,UAAL,CAAgBgB,gBA/BpE,GA+BuF,gBA/BvF,GAgClB,WAhCkB,GAiClB,uFAjCkB,GAkCdiC,KAAK,CAACgF,eAlCQ,GAmCd,+DAnCc,GAmCoD3S,IAAI,CAAC0K,UAAL,CAAgBiB,cAnCpE,GAmCqF,gBAnCrF,GAoClB,WApCkB,GAqClB,mGArCkB,GAsCdgC,KAAK,CAAC8C,aAtCQ,GAuCd,+DAvCc,GAuCoDzQ,IAAI,CAAC8F,OAAL,CAAaiB,KAvCjE,GAuCyE,gBAvCzE,GAwClB,WAxCkB,GAyClB,uFAzCkB,GA0Cd,6BA1Cc,GA2CV,4BA3CU,GA4CN,mGA5CM,GA6CF4G,KAAK,CAAC8C,aA7CJ,GA8CF,+DA9CE,GA8CgEzQ,IAAI,CAACC,SAAL,CAAemK,KA9C/E,GA8CuF,gBA9CvF,GA+CN,gBA/CM,GAgDN,kGAhDM,GAiDFuD,KAAK,CAAC+C,UAjDJ,GAkDF,+DAlDE,GAkDgE1Q,IAAI,CAACC,SAAL,CAAeoK,IAlD/E,GAkDsF,gBAlDtF,GAmDN,gBAnDM,GAoDN,oGApDM,GAqDFsD,KAAK,CAACiD,YArDJ,GAsDF,+DAtDE,GAsDgE5Q,IAAI,CAACC,SAAL,CAAesK,MAtD/E,GAsDwF,gBAtDxF,GAuDN,gBAvDM,GAwDN,mGAxDM,GAyDFoD,KAAK,CAACgD,WAzDJ,GA0DF,+DA1DE,GA0DgE3Q,IAAI,CAACC,SAAL,CAAeqK,KA1D/E,GA0DuF,gBA1DvF,GA2DN,gBA3DM,GA4DV,OA5DU,GA6Dd,QA7Dc,GA8DlB,QA9DkB,GA+DlB,qGA/DkB,GAgEdqD,KAAK,CAAC7N,OAhEQ,GAiEd,+DAjEc,GAiEoDE,IAAI,CAACC,SAAL,CAAeH,OAjEnE,GAiE6E,gBAjE7E,GAkElB,WAlEkB,GAmElB,wEAnEkB,GAoEd6N,KAAK,CAACiF,MApEQ,GAqEd,+DArEc,GAqEoD5S,IAAI,CAACC,SAAL,CAAeiK,YArEnE,GAqEkF,gBArElF,GAsElB,WAtEkB,GAuElB,wEAvEkB,GAwEdyD,KAAK,CAACkF,MAxEQ,GAyEd,+DAzEc,GAyEoD7S,IAAI,CAAC0K,UAAL,CAAgBC,IAzEpE,GAyE2E,gBAzE3E,GA0ElB,WA1EkB,GA2ElB,wEA3EkB,GA4EdgD,KAAK,CAAC9I,MA5EQ,GA6Ed,+DA7Ec,GA6EoD7E,IAAI,CAAC0K,UAAL,CAAgBG,MA7EpE,GA6E6E,gBA7E7E,GA8ElB,WA9EkB,GA+EtB,QA/EJ;AAiFA,eAAOuG,aAAP;AACH,OApNY;;AAsNb;;;;;;;;AAQAhM,MAAAA,gBAAgB,EAAE,UAAU0N,aAAV,EAAyBlV,OAAzB,EAAkC6B,KAAlC,EAAyCC,SAAzC,EAAoD;AAClE,YAAI,CAAC9B,OAAL,EAAcA,OAAO,GAAGkV,aAAa,CAACC,QAAxB;AACd,YAAI,CAACtT,KAAL,EAAYA,KAAK,GAAGqT,aAAa,CAACE,MAAtB;AACZ,YAAI,CAACtT,SAAL,EAAgBA,SAAS,GAAGoT,aAAa,CAACG,UAA1B;AAEhB,YAAI,CAACrV,OAAL,EAAc,OAAO,EAAP;AAEd,eAAO,CAAC,KAAKG,IAAL,CAAUH,OAAO,CAACV,KAAR,CAAcqI,KAAxB,CAAD,GAAkC3H,OAAO,CAACV,KAAR,CAAcqI,KAAhD,GAAwD,CAAE7F,SAAS,IAAI,KAAK5C,IAAL,CAAUoW,SAAV,CAAoBxT,SAAS,CAACxC,KAAV,CAAgBqI,KAApC,EAA2C,CAA3C,CAAd,IAAgE,GAAjE,IAAwE,GAAvI;AACH,OAtOY;;AAwOb;;;;;;;;AAQAD,MAAAA,gBAAgB,EAAE,UAAUwN,aAAV,EAAyBlV,OAAzB,EAAkC6B,KAAlC,EAAyCC,SAAzC,EAAoD;AAClE,YAAI,CAAC9B,OAAL,EAAcA,OAAO,GAAGkV,aAAa,CAACC,QAAxB;AACd,YAAI,CAACtT,KAAL,EAAYA,KAAK,GAAGqT,aAAa,CAACE,MAAtB;AACZ,YAAI,CAACtT,SAAL,EAAgBA,SAAS,GAAGoT,aAAa,CAACG,UAA1B;AAEhB,YAAI,CAACvT,SAAD,IAAc,CAACD,KAAnB,EAA0B,OAAQ7B,OAAO,IAAIA,OAAO,CAACV,KAAR,CAAcsN,MAA1B,IAAqC,EAA5C;AAE1B,eAAO,KAAK1N,IAAL,CAAUoW,SAAV,CAAoBzT,KAAK,CAACvC,KAAN,CAAYiW,aAAhC,EAA+C,CAA/C,IAAoD,CAApD,IAAyD,CAAC,KAAK1W,OAAL,CAAa6F,QAAb,CAAsB8N,eAAhF,GAAkG3Q,KAAK,CAACvC,KAAN,CAAYsN,MAA9G,GAAwH,CAAC,KAAKzM,IAAL,CAAUH,OAAO,CAACV,KAAR,CAAcsN,MAAxB,CAAD,IAAoC,CAAC,KAAKzM,IAAL,CAAUH,OAAO,CAACV,KAAR,CAAcqI,KAAxB,CAArC,GAAsE3H,OAAO,CAACV,KAAR,CAAcsN,MAApF,GAA6F,CAAE9K,SAAS,IAAI,KAAK5C,IAAL,CAAUoW,SAAV,CAAoBxT,SAAS,CAACxC,KAAV,CAAgBsN,MAApC,EAA4C,CAA5C,CAAd,IAAiE,GAAlE,IAAyE,GAArS;AACH,OAxPY;;AA0Pb;;;;;AAKA4I,MAAAA,0BAA0B,EAAE,UAAUN,aAAV,EAAyBO,SAAzB,EAAoC;AAC5D,cAAMC,kBAAkB,GAAGR,aAAa,CAACS,eAAd,IAAiC,KAAK9W,OAAL,CAAa6F,QAAb,CAAsB8N,eAAlF;AACA0C,QAAAA,aAAa,CAAC3I,UAAd,CAAyByD,OAAzB,GAAmCkF,aAAa,CAACU,kBAAd,GAAmCV,aAAa,CAACC,QAAd,CAAuB7U,YAAvB,CAAoC,iBAApC,MAA2D,OAAjI;AAEA,YAAIuV,CAAC,GAAGH,kBAAkB,GAAG,EAAH,GAAQ,KAAKnV,OAAL,CAAamE,QAAb,CAAsB8C,gBAAtB,CAAuCtL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,CAAlC;AACA,YAAIW,CAAC,KAAKX,aAAa,CAACY,aAAxB,EAAuCD,CAAC,GAAG,EAAJ;AACvC,YAAIX,aAAa,CAACS,eAAlB,EAAmCE,CAAC,GAAG,KAAK3W,IAAL,CAAUoW,SAAV,CAAoBO,CAApB,EAAuB,CAAvB,CAAJ;AACnCX,QAAAA,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6B6Y,CAA7B;AACAJ,QAAAA,SAAS,CAACO,YAAV,CAAuB9Z,IAAvB,CAA4B,IAA5B,EAAkC,GAAlC;;AAEA,YAAI,CAACgZ,aAAa,CAACS,eAAnB,EAAoC;AAChC,cAAIM,CAAC,GAAGP,kBAAkB,GAAG,EAAH,GAAQ,KAAKnV,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,CAAlC;AACA,cAAIe,CAAC,KAAKf,aAAa,CAACgB,aAAxB,EAAuCD,CAAC,GAAG,EAAJ;AACvC,cAAIf,aAAa,CAACS,eAAlB,EAAmCM,CAAC,GAAG,KAAK/W,IAAL,CAAUoW,SAAV,CAAoBW,CAApB,EAAuB,CAAvB,CAAJ;AACnCf,UAAAA,aAAa,CAACiB,MAAd,CAAqBnZ,KAArB,GAA6BiZ,CAA7B;AACH;;AAEDf,QAAAA,aAAa,CAACa,MAAd,CAAqBK,QAArB,GAAgCV,kBAAkB,GAAG,IAAH,GAAU,KAA5D;AACAR,QAAAA,aAAa,CAACiB,MAAd,CAAqBC,QAArB,GAAgCV,kBAAkB,GAAG,IAAH,GAAU,KAA5D;AACAR,QAAAA,aAAa,CAAC3I,UAAd,CAAyB6J,QAAzB,GAAoCV,kBAAkB,GAAG,IAAH,GAAU,KAAhE;AAEAD,QAAAA,SAAS,CAACY,QAAV,CAAmBna,IAAnB,CAAwB,IAAxB;AACH,OArRY;;AAuRb;;;;;;;AAOAoa,MAAAA,oBAAoB,EAAE,UAAUpB,aAAV,EAAyBqB,EAAzB,EAA6B;AAC/C,YAAIrB,aAAa,CAACS,eAAlB,EAAmC;AAC/B,cAAIY,EAAE,KAAK,GAAP,IAAcrB,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6B,GAA/C,EAAoDkY,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6B,GAA7B;AACpD;AACH;;AAED,YAAIkY,aAAa,CAAC3I,UAAd,CAAyByD,OAAzB,IAAoCkF,aAAa,CAACsB,MAAlD,IAA4D,KAAKrW,IAAL,CAAU+U,aAAa,CAACa,MAAd,CAAqB/Y,KAA/B,CAA5D,IAAqG,KAAKmD,IAAL,CAAU+U,aAAa,CAACiB,MAAd,CAAqBnZ,KAA/B,CAAzG,EAAgJ;AAC5I,gBAAMyZ,KAAK,GAAGvB,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,CAA2B0Z,OAA3B,CAAmC,SAAnC,EAA8C,EAA9C,KAAqDxB,aAAa,CAACyB,QAAjF;AACA,gBAAMC,KAAK,GAAG1B,aAAa,CAACiB,MAAd,CAAqBnZ,KAArB,CAA2B0Z,OAA3B,CAAmC,SAAnC,EAA8C,EAA9C,KAAqDxB,aAAa,CAACyB,QAAjF;AAEA,cAAIF,KAAK,KAAKG,KAAd,EAAqB;AAErB,gBAAMC,GAAG,GAAGJ,KAAK,KAAK,GAAV,GAAgB,CAAhB,GAAoB,CAAhC;;AAEA,cAAIF,EAAE,KAAK,GAAX,EAAgB;AACZrB,YAAAA,aAAa,CAACiB,MAAd,CAAqBnZ,KAArB,GAA6B,KAAKkC,IAAL,CAAUoW,SAAV,CAAoBJ,aAAa,CAAC4B,OAAd,GAAwB,KAAK5X,IAAL,CAAUoW,SAAV,CAAoBJ,aAAa,CAACa,MAAd,CAAqB/Y,KAAzC,EAAgD6Z,GAAhD,CAA5C,EAAkGA,GAAlG,IAAyGD,KAAtI;AACH,WAFD,MAEO;AACH1B,YAAAA,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6B,KAAKkC,IAAL,CAAUoW,SAAV,CAAoBJ,aAAa,CAAC6B,OAAd,GAAwB,KAAK7X,IAAL,CAAUoW,SAAV,CAAoBJ,aAAa,CAACiB,MAAd,CAAqBnZ,KAAzC,EAAgD6Z,GAAhD,CAA5C,EAAkGA,GAAlG,IAAyGJ,KAAtI;AACH;AACJ;AACJ,OAlTY;;AAoTb;;;;;AAKAO,MAAAA,gBAAgB,EAAE,UAAU9B,aAAV,EAAyB;AACvC,cAAM+B,MAAM,GAAG/B,aAAa,CAACa,MAAd,CAAqB/Y,KAApC;AACA,cAAMka,MAAM,GAAGhC,aAAa,CAACiB,MAAd,CAAqBnZ,KAApC;;AAEA,YAAIkY,aAAa,CAAC3I,UAAd,CAAyByD,OAAzB,IAAoC,MAAM7P,IAAN,CAAW8W,MAAX,CAApC,IAA0D,MAAM9W,IAAN,CAAW+W,MAAX,CAA9D,EAAkF;AAC9E,gBAAMT,KAAK,GAAGQ,MAAM,CAACP,OAAP,CAAe,SAAf,EAA0B,EAA1B,KAAiCxB,aAAa,CAACyB,QAA7D;AACA,gBAAMC,KAAK,GAAGM,MAAM,CAACR,OAAP,CAAe,SAAf,EAA0B,EAA1B,KAAiCxB,aAAa,CAACyB,QAA7D;;AAEA,cAAIF,KAAK,KAAKG,KAAd,EAAqB;AACjB1B,YAAAA,aAAa,CAACsB,MAAd,GAAuB,KAAvB;AACH,WAFD,MAEO,IAAI,CAACtB,aAAa,CAACsB,MAAnB,EAA2B;AAC9B,kBAAMX,CAAC,GAAG,KAAK3W,IAAL,CAAUoW,SAAV,CAAoB2B,MAApB,EAA4B,CAA5B,CAAV;AACA,kBAAMhB,CAAC,GAAG,KAAK/W,IAAL,CAAUoW,SAAV,CAAoB4B,MAApB,EAA4B,CAA5B,CAAV;AAEAhC,YAAAA,aAAa,CAACsB,MAAd,GAAuB,IAAvB;AACAtB,YAAAA,aAAa,CAAC6B,OAAd,GAAwBlB,CAAC,GAAGI,CAA5B;AACAf,YAAAA,aAAa,CAAC4B,OAAd,GAAwBb,CAAC,GAAGJ,CAA5B;AACH;AACJ,SAdD,MAcO;AACHX,UAAAA,aAAa,CAACsB,MAAd,GAAuB,KAAvB;AACH;AACJ,OA9UY;;AAgVb;;;;AAIAW,MAAAA,kBAAkB,EAAE,UAAUjC,aAAV,EAAyB;AACzC,YAAIA,aAAa,CAACS,eAAlB,EAAmC;AAC/BT,UAAAA,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6BkY,aAAa,CAAC5C,SAAd,GAA0B,GAA1B,GAAgC,GAAhC,GAAsC4C,aAAa,CAAC5C,SAAjF;AACH,SAFD,MAEO;AACH4C,UAAAA,aAAa,CAACa,MAAd,CAAqB/Y,KAArB,GAA6BkY,aAAa,CAAC5C,SAA3C;AACA4C,UAAAA,aAAa,CAACiB,MAAd,CAAqBnZ,KAArB,GAA6BkY,aAAa,CAAC3C,SAA3C;AACH;AACJ,OA3VY;;AA6Vb;;;;;AAKA6E,MAAAA,uBAAuB,EAAE,UAAUlC,aAAV,EAAyB;AAC9C,cAAMW,CAAC,GAAG,KAAKtV,OAAL,CAAamE,QAAb,CAAsB8C,gBAAtB,CAAuCtL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,CAAV;;AACA,cAAMe,CAAC,GAAG,KAAK1V,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,CAAV;;AACAA,QAAAA,aAAa,CAACC,QAAd,CAAuBpT,YAAvB,CAAoC,WAApC,EAAiD8T,CAAC,GAAG,GAAJ,GAAUI,CAA3D;;AACA,YAAI,CAAC,CAACf,aAAa,CAACmC,WAApB,EAAiCnC,aAAa,CAACmC,WAAd,GAA4BpB,CAA5B;AACpC,OAvWY;;AAyWb;;;;;;AAMAqB,MAAAA,sBAAsB,EAAE,UAAUC,aAAV,EAAyBC,MAAzB,EAAiC;AACrD,cAAMC,eAAe,GAAG,KAAK5Y,OAAL,CAAa6F,QAArC;AACA,cAAMwQ,aAAa,GAAG,KAAKrW,OAAL,CAAa2Y,MAAb,CAAtB;AACAC,QAAAA,eAAe,CAAC7R,cAAhB,GAAiC4R,MAAjC;AAEA,cAAMrE,eAAe,GAAGsE,eAAe,CAACtE,eAAxC;AACA,cAAMC,SAAS,GAAGqE,eAAe,CAACrE,SAAlC;AACA,cAAMsE,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoBJ,aAApB,EAAmC,KAAK1Y,OAAL,CAAamB,OAAb,CAAqB4X,YAAxD,CAAf;AAEA,cAAMC,UAAU,GAAGJ,eAAe,CAACjF,eAAhB,GAAkC,aAAarS,IAAb,CAAkB2X,IAAI,CAACC,GAAL,CAASR,aAAa,CAACjX,YAAd,CAA2B,aAA3B,CAAT,EAAoDqF,QAApD,EAAlB,CAArD;AAEA,cAAMrH,CAAC,GAAGuZ,UAAU,GAAGN,aAAa,CAACS,YAAjB,GAAgCT,aAAa,CAACU,WAAlE;AACA,cAAMxQ,CAAC,GAAGoQ,UAAU,GAAGN,aAAa,CAACU,WAAjB,GAA+BV,aAAa,CAACS,YAAjE;AACA,cAAM/a,CAAC,GAAGya,MAAM,CAACQ,GAAjB;AACA,cAAMjc,CAAC,GAAGyb,MAAM,CAACjL,IAAP,GAAc,KAAK5N,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCO,UAA1D;AAEAhF,QAAAA,eAAe,CAAC7T,KAAhB,CAAsB4Y,GAAtB,GAA4Bjb,CAAC,GAAG,IAAhC;AACAkW,QAAAA,eAAe,CAAC7T,KAAhB,CAAsBmN,IAAtB,GAA6BxQ,CAAC,GAAG,IAAjC;AACAkX,QAAAA,eAAe,CAAC7T,KAAhB,CAAsBqI,KAAtB,GAA8BrJ,CAAC,GAAG,IAAlC;AACA6U,QAAAA,eAAe,CAAC7T,KAAhB,CAAsBsN,MAAtB,GAA+BnF,CAAC,GAAG,IAAnC;AAEA2L,QAAAA,SAAS,CAAC9T,KAAV,CAAgB4Y,GAAhB,GAAsB,KAAtB;AACA9E,QAAAA,SAAS,CAAC9T,KAAV,CAAgBmN,IAAhB,GAAuB,KAAvB;AACA2G,QAAAA,SAAS,CAAC9T,KAAV,CAAgBqI,KAAhB,GAAyBrJ,CAAC,GAAG,IAA7B;AACA8U,QAAAA,SAAS,CAAC9T,KAAV,CAAgBsN,MAAhB,GAA0BnF,CAAC,GAAG,IAA9B;AAEA,YAAI0B,KAAK,GAAGoO,aAAa,CAACjX,YAAd,CAA2B,YAA3B,KAA4C,OAAxD;AACA6I,QAAAA,KAAK,GAAGA,KAAK,KAAK,MAAV,GAAmB,OAAnB,GAA6BA,KAArC,CA3BqD,CA6BrD;;AACA,cAAMrH,SAAS,GAAG,KAAK5C,IAAL,CAAU8G,gBAAV,CAA2BuR,aAA3B,EAA0C,KAAKrY,IAAL,CAAUkZ,WAApD,CAAlB;AACA,cAAMvW,KAAK,GAAG,KAAK3C,IAAL,CAAU8G,gBAAV,CAA2BuR,aAA3B,EAA0C,QAA1C,CAAd;AACA,cAAMc,QAAQ,GAAG,KAAK9X,OAAL,CAAamE,QAAb,CAAsB8C,gBAAtB,CAAuCtL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,EAAiEqC,aAAjE,EAAgF1V,KAAhF,EAAuFC,SAAvF,KAAqG,MAAtH;AACA,cAAMwW,QAAQ,GAAGpD,aAAa,CAACS,eAAd,IAAiC6B,MAAM,KAAK,OAA5C,GAAsD,EAAtD,GAA2D,QAAQ,KAAKjX,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkDgZ,aAAlD,EAAiEqC,aAAjE,EAAgF1V,KAAhF,EAAuFC,SAAvF,KAAqG,MAA7G,CAA5E;AACA,aAAK5C,IAAL,CAAUqZ,SAAV,CAAoBd,eAAe,CAAClE,aAApC,EAAmD,KAAKnR,IAAL,CAAUC,SAAV,CAAoB8G,KAApB,IAA6B,IAA7B,GAAoCkP,QAApC,GAA+CC,QAA/C,GAA0D,GAA7G,EAlCqD,CAoCrD;;AACAb,QAAAA,eAAe,CAAC3D,iBAAhB,CAAkCxU,KAAlC,CAAwCC,OAAxC,GAAkD2V,aAAa,CAACsD,SAAd,GAA0B,EAA1B,GAA+B,MAAjF;AACA,cAAMC,aAAa,GAAGvD,aAAa,CAACsD,SAAd,IAA2B,CAACtD,aAAa,CAACwD,cAA1C,IAA4D,CAACxD,aAAa,CAACS,eAA3E,GAA6F,MAA7F,GAAsG,MAA5H;AACA,cAAM/B,aAAa,GAAG6D,eAAe,CAAC7D,aAAtC;;AACA,aAAK,IAAI5X,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGgP,aAAa,CAACtQ,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD4X,UAAAA,aAAa,CAAC5X,CAAD,CAAb,CAAiBsD,KAAjB,CAAuBC,OAAvB,GAAiCkZ,aAAjC;AACH;;AAED,YAAIvD,aAAa,CAACsD,SAAlB,EAA6B;AACzB,gBAAMG,SAAS,GAAGlB,eAAe,CAAC1D,eAAlC;AACA4E,UAAAA,SAAS,CAAC,CAAD,CAAT,CAAarZ,KAAb,CAAmBC,OAAnB,GAA6BoZ,SAAS,CAAC,CAAD,CAAT,CAAarZ,KAAb,CAAmBC,OAAnB,GAA6B2V,aAAa,CAAC0D,SAAd,GAA0B,EAA1B,GAA+B,MAAzF;AACH,SA/CoD,CAiDrD;;;AACA,cAAMC,SAAS,GAAGpB,eAAe,CAACvD,aAAlC;AACA,aAAKhV,IAAL,CAAU4Z,aAAV,CAAwBrB,eAAe,CAACtD,WAAhB,CAA4B4E,iBAApD,EAAuEtB,eAAe,CAAC7E,UAAhB,CAA2BzJ,KAA3B,CAAvE;;AACA,aAAK,IAAInN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGiU,SAAS,CAACvV,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD,cAAI6c,SAAS,CAAC7c,CAAD,CAAT,CAAasE,YAAb,CAA0B,YAA1B,MAA4C6I,KAAhD,EAAuD,KAAKjK,IAAL,CAAUsR,QAAV,CAAmBqI,SAAS,CAAC7c,CAAD,CAA5B,EAAiC,IAAjC,EAAvD,KACK,KAAKkD,IAAL,CAAUuR,WAAV,CAAsBoI,SAAS,CAAC7c,CAAD,CAA/B,EAAoC,IAApC;AACR,SAvDoD,CAyDrD;;;AACA,cAAMgd,QAAQ,GAAGvB,eAAe,CAACzD,iBAAjC;AACA,cAAMhX,KAAK,GAAG,KAAKmD,IAAL,CAAUoX,aAAa,CAACjY,KAAd,CAAoBqI,KAA9B,KAAwC,KAAKxH,IAAL,CAAU2B,SAAS,CAACxC,KAAV,CAAgBqI,KAA1B,CAAxC,GAA4E,KAAKzI,IAAL,CAAUoW,SAAV,CAAoBxT,SAAS,CAACxC,KAAV,CAAgBqI,KAApC,EAA2C,CAA3C,IAAgD,GAAjD,GAAwD,EAAnI,GAAwI,EAAtJ;;AACA,aAAK,IAAI3L,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGoU,QAAQ,CAAC1V,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,cAAIgd,QAAQ,CAAChd,CAAD,CAAR,CAAYsE,YAAZ,CAAyB,YAAzB,MAA2CtD,KAA/C,EAAsD;AAClD,iBAAKkC,IAAL,CAAUsR,QAAV,CAAmBwI,QAAQ,CAAChd,CAAD,CAA3B,EAAgC,QAAhC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsBuI,QAAQ,CAAChd,CAAD,CAA9B,EAAmC,QAAnC;AACH;AACJ,SAlEoD,CAoErD;;;AACA,YAAI,CAACkZ,aAAa,CAAC+D,YAAnB,EAAiC;AAC7BxB,UAAAA,eAAe,CAACpD,aAAhB,CAA8B/U,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;AACH,SAFD,MAEO;AACHkY,UAAAA,eAAe,CAACpD,aAAhB,CAA8B/U,KAA9B,CAAoCC,OAApC,GAA8C,EAA9C;;AACA,cAAI,KAAKL,IAAL,CAAUga,eAAV,CAA0B3B,aAAa,CAACpG,UAAxC,EAAoD,YAApD,CAAJ,EAAuE;AACnE,iBAAKjS,IAAL,CAAUsR,QAAV,CAAmBiH,eAAe,CAACpD,aAAnC,EAAkD,QAAlD;AACAa,YAAAA,aAAa,CAACiE,eAAd,GAAgC,IAAhC;AACH,WAHD,MAGO;AACH,iBAAKja,IAAL,CAAUuR,WAAV,CAAsBgH,eAAe,CAACpD,aAAtC,EAAqD,QAArD;AACAa,YAAAA,aAAa,CAACiE,eAAd,GAAgC,KAAhC;AACH;AACJ;;AAED,YAAI,KAAKC,qBAAL,KAA+B5B,MAAnC,EAA2C;AACvC,eAAKtY,IAAL,CAAUma,kBAAV,CAA6B,IAA7B,EAAmC,KAAKC,uBAAxC;AACA,eAAKC,aAAL,CAAmB9B,eAAe,CAACtE,eAAnC,EAAoDsE,eAAe,CAAC/D,YAApE,EAAkF,KAAKxU,IAAL,CAAUma,kBAAV,CAA6B9b,IAA7B,CAAkC,IAAlC,EAAwC,KAAxC,EAA+C,KAAK+b,uBAApD,CAAlF,EAAgK/B,aAAhK,EAA+KC,MAA/K;AACH,SArFoD,CAuFrD;;;AACA,cAAMgC,QAAQ,GAAG,KAAK3a,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCK,WAAlC,GAAgDhc,CAAhD,GAAoDwb,eAAe,CAAC/D,YAAhB,CAA6BuE,WAAlG;AAEAR,QAAAA,eAAe,CAAC/D,YAAhB,CAA6BpU,KAA7B,CAAmC4Y,GAAnC,GAA0CzQ,CAAC,GAAGxK,CAAJ,GAAQ,EAAT,GAAe,IAAxD;AACAwa,QAAAA,eAAe,CAAC/D,YAAhB,CAA6BpU,KAA7B,CAAmCmN,IAAnC,GAA2CxQ,CAAC,IAAIud,QAAQ,GAAG,CAAX,GAAeA,QAAf,GAA0B,CAA9B,CAAF,GAAsC,IAAhF;;AAEA,YAAIA,QAAQ,GAAG,CAAf,EAAkB;AACd/B,UAAAA,eAAe,CAAC/D,YAAhB,CAA6BqF,iBAA7B,CAA+CzZ,KAA/C,CAAqDmN,IAArD,GAA6D,KAAK+M,QAAN,GAAkB,IAA9E;AACH,SAFD,MAEO;AACH/B,UAAAA,eAAe,CAAC/D,YAAhB,CAA6BqF,iBAA7B,CAA+CzZ,KAA/C,CAAqDmN,IAArD,GAA4D,MAA5D;AACH;;AAEDgL,QAAAA,eAAe,CAACrF,SAAhB,GAA4B9T,CAA5B;AACAmZ,QAAAA,eAAe,CAACpF,SAAhB,GAA4B5K,CAA5B;AAEA,cAAMgS,UAAU,GAAG,CAAClC,aAAa,CAACjX,YAAd,CAA2B,aAA3B,KAA6C,EAA9C,EAAkDuG,KAAlD,CAAwD,GAAxD,CAAnB;AACA4Q,QAAAA,eAAe,CAACnF,SAAhB,GAA4BmH,UAAU,CAAC,CAAD,CAAV,IAAiBlC,aAAa,CAACjQ,YAA3D;AACAmQ,QAAAA,eAAe,CAAClF,SAAhB,GAA4BkH,UAAU,CAAC,CAAD,CAAV,IAAiBlC,aAAa,CAAChQ,aAA3D;AAEA,eAAO;AACHjJ,UAAAA,CAAC,EAAEA,CADA;AAEHmJ,UAAAA,CAAC,EAAEA,CAFA;AAGHxK,UAAAA,CAAC,EAAEA,CAHA;AAIHhB,UAAAA,CAAC,EAAEA;AAJA,SAAP;AAMH,OA/dY;AAiebyd,MAAAA,eAAe,EAAE,IAjeJ;;AAmeb;;;AAGAC,MAAAA,aAAa,EAAE,YAAY;AACvB,aAAKza,IAAL,CAAUsR,QAAV,CAAmB,KAAK3R,OAAL,CAAa6F,QAAb,CAAsByP,WAAzC,EAAsD,IAAtD;AACA,aAAKtV,OAAL,CAAa6F,QAAb,CAAsBuP,SAAtB,CAAgC3U,KAAhC,CAAsCC,OAAtC,GAAgD,OAAhD;;AAEA,aAAKgB,OAAL,CAAamE,QAAb,CAAsBgV,eAAtB,GAAwC,YAAY;AAChD,eAAKxa,IAAL,CAAUuR,WAAV,CAAsB,KAAK5R,OAAL,CAAa6F,QAAb,CAAsByP,WAA5C,EAAyD,IAAzD;AACA,eAAKtV,OAAL,CAAa6F,QAAb,CAAsBuP,SAAtB,CAAgC3U,KAAhC,CAAsCC,OAAtC,GAAgD,MAAhD;AACA,eAAKqa,cAAL,CAAoB,WAApB,EAAiC,KAAKrZ,OAAL,CAAamE,QAAb,CAAsBgV,eAAvD;AACA,eAAKnZ,OAAL,CAAamE,QAAb,CAAsBgV,eAAtB,GAAwC,IAAxC;AACH,SALuC,CAKtCnc,IALsC,CAKjC,IALiC,CAAxC;;AAOA,aAAKsc,WAAL,CAAiB,WAAjB,EAA8B,KAAKtZ,OAAL,CAAamE,QAAb,CAAsBgV,eAApD;AACH,OAlfY;;AAofb;;;;;AAKAjF,MAAAA,oBAAoB,EAAE,UAAUvU,CAAV,EAAa;AAC/BA,QAAAA,CAAC,CAACG,eAAF;AAEA,cAAMD,MAAM,GAAGF,CAAC,CAACE,MAAjB;AACA,cAAM0Z,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,KAAuCF,MAAM,CAAC+Q,UAAP,CAAkB7Q,YAAlB,CAA+B,cAA/B,CAAvD;AAEA,YAAI,CAACwZ,OAAL,EAAc;AAEd,cAAM9c,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,KAAqCF,MAAM,CAAC+Q,UAAP,CAAkB7Q,YAAlB,CAA+B,YAA/B,CAAnD;AAEA,cAAMgE,UAAU,GAAG,KAAKzF,OAAL,CAAa6F,QAAb,CAAsBkB,cAAzC;AACA,cAAMmU,cAAc,GAAG,KAAKlb,OAAL,CAAayF,UAAb,CAAvB;AACA,cAAM0V,SAAS,GAAGD,cAAc,CAAC5E,QAAjC;AACA,cAAM8E,aAAa,GAAG,KAAK1Z,OAAL,CAAa+D,UAAb,CAAtB;AAEApE,QAAAA,CAAC,CAACoU,cAAF;;AAEA,YAAI,OAAO,KAAK/T,OAAL,CAAamE,QAAb,CAAsBgV,eAA7B,KAAiD,UAArD,EAAiE;AAC7D,eAAKnZ,OAAL,CAAamE,QAAb,CAAsBgV,eAAtB;;AACA,cAAII,OAAO,KAAK,SAAhB,EAA2B;AAC9B;;AAED,gBAAQA,OAAR;AACI,eAAK,MAAL;AACI,iBAAKvZ,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgD8d,SAAhD;AACAC,YAAAA,aAAa,CAACE,WAAd,CAA0Bje,IAA1B,CAA+B,IAA/B;AACA,iBAAKke,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA;;AACJ,eAAK,SAAL;AACI,gBAAI+V,QAAQ,GAAG,KAAK9Z,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkD6d,cAAlD,CAAf;;AACA,gBAAI,KAAKlb,OAAL,CAAa6F,QAAb,CAAsB8N,eAA1B,EAA2C;AACvC,oBAAM8H,UAAU,GAAGN,SAAS,CAAC1Z,YAAV,CAAuB,iBAAvB,CAAnB;AACA,kBAAIga,UAAJ,EAAgBD,QAAQ,GAAGC,UAAU,CAACzT,KAAX,CAAiB,GAAjB,EAAsB,CAAtB,CAAX;AACnB;;AAED,iBAAKtG,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgD8d,SAAhD;AACAC,YAAAA,aAAa,CAACM,cAAd,CAA6Bre,IAA7B,CAAkC,IAAlC,EAAyCc,KAAK,GAAG,GAAjD,EAAwD,KAAKkC,IAAL,CAAUoW,SAAV,CAAoB+E,QAApB,EAA8B,CAA9B,MAAqC,IAArC,IAA6C,CAAC,KAAKla,IAAL,CAAUka,QAAV,CAA/C,GAAsE,EAAtE,GAA2EA,QAAlI;AACA,iBAAKD,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA;;AACJ,eAAK,QAAL;AACI,kBAAMzH,CAAC,GAAGmd,SAAS,CAAC1Z,YAAV,CAAuB,aAAvB,KAAyC,GAAnD;AACA,gBAAIuV,CAAC,GAAGmE,SAAS,CAAC1Z,YAAV,CAAuB,cAAvB,KAA0C,EAAlD;AACA,gBAAI2V,CAAC,GAAG+D,SAAS,CAAC1Z,YAAV,CAAuB,cAAvB,KAA0C,EAAlD;;AAEA,gBAAKtD,KAAK,KAAK,GAAV,IAAiB,CAAC,KAAK6B,OAAL,CAAa6F,QAAb,CAAsB8N,eAAzC,IAA8DxV,KAAK,KAAK,GAAV,IAAiB,KAAK6B,OAAL,CAAa6F,QAAb,CAAsB8N,eAAzG,EAA2H;AACvHyD,cAAAA,CAAC,GAAGA,CAAC,GAAG,EAAH,GAAQ,KAAb;AACH,aAFD,MAEO;AACHJ,cAAAA,CAAC,GAAGA,CAAC,GAAG,EAAH,GAAQ,KAAb;AACH;;AAEDmE,YAAAA,SAAS,CAACjY,YAAV,CAAuB,cAAvB,EAAuC8T,CAAvC;AACAmE,YAAAA,SAAS,CAACjY,YAAV,CAAuB,cAAvB,EAAuCkU,CAAvC;;AAEA,iBAAK1V,OAAL,CAAamE,QAAb,CAAsB8V,aAAtB,CAAoCR,SAApC,EAA+Cnd,CAA/C,EAAkDgZ,CAAlD,EAAqDI,CAArD;;AACA;;AACJ,eAAK,QAAL;AACI,kBAAMwB,eAAe,GAAG,KAAK5Y,OAAL,CAAa6F,QAArC;AACA,kBAAM+V,KAAK,GAAIT,SAAS,CAAC1Z,YAAV,CAAuB,aAAvB,IAAwC,CAAzC,GAA+CtD,KAAK,GAAG,CAArE;AACA,kBAAM0d,GAAG,GAAG,KAAKtX,EAAL,CAAQ0U,IAAR,CAAaC,GAAb,CAAiB0C,KAAjB,KAA2B,GAA3B,GAAiC,CAAjC,GAAqCA,KAAjD;AAEAT,YAAAA,SAAS,CAACjY,YAAV,CAAuB,aAAvB,EAAsC2Y,GAAtC;AACAjD,YAAAA,eAAe,CAACjF,eAAhB,GAAkC,aAAarS,IAAb,CAAkB,KAAKiD,EAAL,CAAQ0U,IAAR,CAAaC,GAAb,CAAiB2C,GAAjB,EAAsB/U,QAAtB,EAAlB,CAAlC;AACA,iBAAKpF,OAAL,CAAamE,QAAb,CAAsBiW,gBAAtB,CAAuCze,IAAvC,CAA4C,IAA5C,EAAkD8d,SAAlD,EAA6D,IAA7D,EAAmE,IAAnE;AAEA,iBAAKI,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA;;AACJ,eAAK,SAAL;AACI,iBAAK/D,OAAL,CAAamE,QAAb,CAAsBiV,aAAtB,CAAoCzd,IAApC,CAAyC,IAAzC;AACA;;AACJ,eAAK,OAAL;AACI,kBAAM0e,UAAU,GAAG5d,KAAK,KAAK,OAAV,GAAoB,MAApB,GAA6BA,KAAhD;AACAid,YAAAA,aAAa,CAACY,QAAd,CAAuB3e,IAAvB,CAA4B,IAA5B,EAAkC0e,UAAlC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D;AACA,iBAAKR,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA;;AACJ,eAAK,SAAL;AACI,kBAAMpC,OAAO,GAAG,CAAC6X,cAAc,CAACZ,eAAhC;AACAc,YAAAA,aAAa,CAACa,UAAd,CAAyB5e,IAAzB,CAA8B,IAA9B,EAAoC,IAApC;AACA6d,YAAAA,cAAc,CAACZ,eAAf,GAAiCY,cAAc,CAACgB,cAAf,CAA8B/K,OAA9B,GAAwC9N,OAAzE;AAEA+X,YAAAA,aAAa,CAACe,YAAd,CAA2B9e,IAA3B,CAAgC,IAAhC,EAAsC,KAAtC,EAA6C,KAA7C,EAAoD,KAApD;;AAEA,gBAAIgG,OAAJ,EAAa;AACT,oBAAM+Y,WAAW,GAAG,KAAK/b,IAAL,CAAUga,eAAV,CAA0Ba,cAAc,CAACmB,QAAzC,EAAmD,UAAUC,OAAV,EAAmB;AACtF,uBAAOA,OAAO,CAACjK,QAAR,KAAqB,CAA5B;AACH,eAFmB,CAApB;;AAIA,kBAAI,CAAC+J,WAAL,EAAkB;AACdlB,gBAAAA,cAAc,CAACmB,QAAf,CAAwB7Z,KAAxB;AACH,eAFD,MAEO;AACH,qBAAK+Z,QAAL,CAAcH,WAAd,EAA2B,CAA3B,EAA8BA,WAA9B,EAA2CA,WAAW,CAACI,WAAZ,CAAwB/X,MAAnE;AACH;;AAED,mBAAKgY,cAAL;AACH,aAZD,MAYO;AACH,mBAAKlB,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA2V,cAAAA,aAAa,CAACa,UAAd,CAAyB5e,IAAzB,CAA8B,IAA9B,EAAoC,IAApC;AACH;;AAED;;AACJ,eAAK,QAAL;AACI+d,YAAAA,aAAa,CAACsB,aAAd,CAA4Brf,IAA5B,CAAiC,IAAjC;AACA,iBAAKke,eAAL,CAAqBJ,SAArB,EAAgC1V,UAAhC;AACA;;AACJ,eAAK,QAAL;AACI2V,YAAAA,aAAa,CAACa,UAAd,CAAyB5e,IAAzB,CAA8B,IAA9B;AACA,iBAAKof,cAAL;AACA;;AACJ,eAAK,QAAL;AACIrB,YAAAA,aAAa,CAAC/S,OAAd,CAAsBhL,IAAtB,CAA2B,IAA3B;AACA;AAvFR,SAtB+B,CAgH/B;;;AACA,aAAKsf,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OA3mBY;;AA6mBb;;;;AAIA8T,MAAAA,cAAc,EAAE,UAAUla,OAAV,EAAmB;AAC/B,cAAMgH,IAAI,GAAG,CAAChH,OAAO,CAACM,YAAR,CAAqB,WAArB,KAAqCN,OAAO,CAACM,YAAR,CAAqB,aAArB,CAArC,IAA4E,EAA7E,EAAiFuG,KAAjF,CAAuF,GAAvF,CAAb;AACA,aAAKhI,OAAL,CAAa6F,QAAb,CAAsB8N,eAAtB,GAAwC,KAAxC;AAEAxS,QAAAA,OAAO,CAACV,KAAR,CAAcmc,QAAd,GAAyB,EAAzB;AACAzb,QAAAA,OAAO,CAACV,KAAR,CAAcoc,SAAd,GAA0B,EAA1B;AACA1b,QAAAA,OAAO,CAACV,KAAR,CAAcqc,eAAd,GAAgC,EAAhC;AACA3b,QAAAA,OAAO,CAAC+B,YAAR,CAAqB,aAArB,EAAoC,EAApC;AACA/B,QAAAA,OAAO,CAAC+B,YAAR,CAAqB,cAArB,EAAqC,EAArC;AACA/B,QAAAA,OAAO,CAAC+B,YAAR,CAAqB,cAArB,EAAqC,EAArC;;AAEA,aAAKxB,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDgW,OAAnD,CAA2D1f,IAA3D,CAAgE,IAAhE,EAAsE8K,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAd,GAAoB,MAA1F,EAAkGA,IAAI,CAAC,CAAD,CAAJ,GAAUA,IAAI,CAAC,CAAD,CAAd,GAAoB,EAAtH,EAA0H,IAA1H;AACH,OA7nBY;;AA+nBb;;;;;;AAMA2T,MAAAA,gBAAgB,EAAE,UAAU3a,OAAV,EAAmB2H,KAAnB,EAA0BiF,MAA1B,EAAkC;AAChD,YAAI0N,UAAU,GAAGta,OAAO,CAACM,YAAR,CAAqB,iBAArB,CAAjB;AACA,cAAMuX,UAAU,GAAG,KAAKhZ,OAAL,CAAa6F,QAAb,CAAsB8N,eAAzC;AACA,cAAMkI,GAAG,GAAG1a,OAAO,CAACM,YAAR,CAAqB,aAArB,IAAsC,CAAlD;AACA,YAAIub,WAAW,GAAG,EAAlB;;AAEA,YAAIvB,UAAU,IAAI,CAACzC,UAAnB,EAA+B;AAC3ByC,UAAAA,UAAU,GAAGA,UAAU,CAACzT,KAAX,CAAiB,GAAjB,CAAb;;AACA,cAAIyT,UAAU,CAAC,CAAD,CAAV,KAAkB,MAAlB,IAA4BA,UAAU,CAAC,CAAD,CAAV,KAAkB,MAAlD,EAA0D;AACtD,iBAAK/Z,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDuU,WAAnD,CAA+Dje,IAA/D,CAAoE,IAApE;AACH,WAFD,MAEO;AACH,iBAAKqE,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmD2U,cAAnD,CAAkEre,IAAlE,CAAuE,IAAvE,EAA6Eoe,UAAU,CAAC,CAAD,CAAvF,EAA4FA,UAAU,CAAC,CAAD,CAAtG;AACH;AACJ,SAPD,MAOO;AACH,gBAAMzY,KAAK,GAAG,KAAK3C,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,QAApC,CAAd;AAEA,gBAAM8b,OAAO,GAAGnU,KAAK,IAAI3H,OAAO,CAACiY,WAAjC;AACA,gBAAM8D,OAAO,GAAGnP,MAAM,IAAI5M,OAAO,CAACgY,YAAlC;AACA,gBAAM1Z,CAAC,GAAG,CAACuZ,UAAU,GAAGkE,OAAH,GAAaD,OAAxB,IAAmC,IAA7C;AACA,gBAAMrU,CAAC,GAAG,CAACoQ,UAAU,GAAGiE,OAAH,GAAaC,OAAxB,IAAmC,IAA7C;;AAEA,eAAKxb,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDoW,iBAAnD,CAAqE9f,IAArE,CAA0E,IAA1E;;AACA,eAAKqE,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDgW,OAAnD,CAA2D1f,IAA3D,CAAgE,IAAhE,EAAsE4f,OAAO,GAAG,IAAhF,EAAsFC,OAAO,GAAG,IAAhG,EAAsG,IAAtG;;AAEAla,UAAAA,KAAK,CAACvC,KAAN,CAAYqI,KAAZ,GAAoBrJ,CAApB;AACAuD,UAAAA,KAAK,CAACvC,KAAN,CAAYsN,MAAZ,GAAsB,CAAC,CAAC,KAAK/N,OAAL,CAAa,KAAKA,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDsV,QAArD,GAAgE,EAAhE,GAAqEzT,CAA3F;;AAEA,cAAIoQ,UAAJ,EAAgB;AACZ,gBAAIoE,MAAM,GAAIH,OAAO,GAAC,CAAT,GAAc,KAAd,GAAuBA,OAAO,GAAC,CAA/B,GAAoC,MAAjD;AACA,gBAAII,MAAM,GAAIH,OAAO,GAAC,CAAT,GAAc,KAAd,GAAuBA,OAAO,GAAC,CAA/B,GAAoC,MAAjD;AACAF,YAAAA,WAAW,GAAGnB,GAAG,KAAK,EAAR,IAAcA,GAAG,KAAK,CAAC,GAAvB,GAA6BwB,MAA7B,GAAsCD,MAApD;AACH;AACJ;;AAEDjc,QAAAA,OAAO,CAACV,KAAR,CAAcqc,eAAd,GAAgCE,WAAhC;;AACA,aAAKtb,OAAL,CAAamE,QAAb,CAAsB8V,aAAtB,CAAoCxa,OAApC,EAA6C0a,GAAG,CAAC/U,QAAJ,EAA7C,EAA6D3F,OAAO,CAACM,YAAR,CAAqB,cAArB,KAAwC,EAArG,EAAyGN,OAAO,CAACM,YAAR,CAAqB,cAArB,KAAwC,EAAjJ;;AAEA,YAAIuX,UAAJ,EAAgB7X,OAAO,CAACV,KAAR,CAAcmc,QAAd,GAAyB,MAAzB,CAAhB,KACKzb,OAAO,CAACV,KAAR,CAAcmc,QAAd,GAAyB,EAAzB;AAEL,aAAKlb,OAAL,CAAamE,QAAb,CAAsByX,kBAAtB,CAAyCjgB,IAAzC,CAA8C,IAA9C,EAAoD8D,OAApD;AACH,OA9qBY;AAgrBbwa,MAAAA,aAAa,EAAE,UAAUxa,OAAV,EAAmBnD,CAAnB,EAAsBgZ,CAAtB,EAAyBI,CAAzB,EAA4B;AACvC,YAAItO,KAAK,GAAG,CAAC3H,OAAO,CAACiY,WAAR,GAAsBjY,OAAO,CAACgY,YAA/B,KAAgD,IAAI7X,IAAJ,CAAStD,CAAT,IAAc,CAAd,GAAkB,CAAC,CAAnE,CAAZ;AACA,YAAIuf,SAAS,GAAG,EAAhB;;AAEA,YAAI,QAAQjc,IAAR,CAAatD,CAAb,MAAoBgZ,CAAC,IAAII,CAAzB,CAAJ,EAAiC;AAC7BmG,UAAAA,SAAS,GAAGvG,CAAC,GAAG,GAAH,GAAS,GAAtB;;AAEA,kBAAQhZ,CAAR;AACI,iBAAK,IAAL;AACIuf,cAAAA,SAAS,GAAGvG,CAAC,IAAII,CAAL,GAAS,GAAT,GAAeA,CAAC,GAAGmG,SAAH,GAAe,EAA3C;AACA;;AACJ,iBAAK,KAAL;AACIzU,cAAAA,KAAK,IAAI,CAAC,CAAV;AACAyU,cAAAA,SAAS,GAAGvG,CAAC,IAAII,CAAL,GAAS,GAAT,GAAeJ,CAAC,GAAGuG,SAAH,GAAe,EAA3C;AACA;;AACJ,iBAAK,KAAL;AACIA,cAAAA,SAAS,GAAGvG,CAAC,IAAII,CAAL,GAAS,GAAT,GAAeJ,CAAC,GAAGuG,SAAH,GAAe,EAA3C;AACA;;AACJ,iBAAK,MAAL;AACIzU,cAAAA,KAAK,IAAI,CAAC,CAAV;AACAyU,cAAAA,SAAS,GAAGvG,CAAC,IAAII,CAAL,GAAS,GAAT,GAAeA,CAAC,GAAGmG,SAAH,GAAe,EAA3C;AACA;;AACJ;AACIA,cAAAA,SAAS,GAAG,EAAZ;AAhBR;AAkBH;;AAED,YAAIvf,CAAC,GAAG,GAAJ,KAAY,CAAhB,EAAmB;AACfmD,UAAAA,OAAO,CAACV,KAAR,CAAcmc,QAAd,GAAyB,EAAzB;AACH;;AAEDzb,QAAAA,OAAO,CAACV,KAAR,CAAcoc,SAAd,GAA0B,YAAY7e,CAAZ,GAAgB,MAAhB,IAA0BgZ,CAAC,GAAG,cAAcA,CAAd,GAAkB,MAArB,GAA8B,EAAzD,KAAgEI,CAAC,GAAG,cAAcA,CAAd,GAAkB,MAArB,GAA8B,EAA/F,KAAsGmG,SAAS,GAAG,eAAeA,SAAf,GAA2B,GAA3B,GAAiCzU,KAAjC,GAAyC,KAA5C,GAAoD,EAAnK,CAA1B;AACH,OAhtBY;;AAktBb;;;;AAIAwU,MAAAA,kBAAkB,EAAE,UAAUnc,OAAV,EAAmB;AACnC,cAAMqc,UAAU,GAAG,KAAKnd,IAAL,CAAUga,eAAV,CAA0B,KAAKha,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,QAApC,CAA1B,EAAyE,YAAzE,CAAnB;;AACA,YAAIqc,UAAJ,EAAgB;AACZA,UAAAA,UAAU,CAAC/c,KAAX,CAAiBgd,SAAjB,GAA6B,CAAC,KAAKzd,OAAL,CAAa6F,QAAb,CAAsB8N,eAAtB,GAAwCxS,OAAO,CAACiY,WAAR,GAAsBjY,OAAO,CAACgY,YAAtE,GAAqF,CAAtF,IAA2F,IAAxH;AACH;AACJ,OA3tBY;;AA6tBb;;;;AAIAxD,MAAAA,yBAAyB,EAAE,UAAUtU,CAAV,EAAa;AACpCA,QAAAA,CAAC,CAACG,eAAF;AACAH,QAAAA,CAAC,CAACoU,cAAF;AAEA,cAAMmD,eAAe,GAAG,KAAK5Y,OAAL,CAAa6F,QAArC;AACA,cAAM6X,SAAS,GAAG9E,eAAe,CAAChF,iBAAhB,GAAoCvS,CAAC,CAACE,MAAF,CAASoc,SAAT,CAAmB,CAAnB,CAAtD;AAEA/E,QAAAA,eAAe,CAACvF,cAAhB,GAAiChS,CAAC,CAACuc,OAAnC;AACAhF,QAAAA,eAAe,CAACtF,cAAhB,GAAiCjS,CAAC,CAACwc,OAAnC;AACA,aAAK7d,OAAL,CAAamB,OAAb,CAAqB2c,gBAArB,CAAsCrd,KAAtC,CAA4CC,OAA5C,GAAsD,OAAtD;AACAkY,QAAAA,eAAe,CAAC/D,YAAhB,CAA6BpU,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;AACAkY,QAAAA,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgCsd,KAAhC,GAAwC,IAAIzc,IAAJ,CAASoc,SAAT,IAAsB,OAAtB,GAAgC,IAAIpc,IAAJ,CAASoc,SAAT,IAAsB,MAAtB,GAA+B,MAAvG;;AAEA,cAAMM,gBAAgB,GAAG,SAASC,WAAT,CAAqB5c,CAArB,EAAwB;AAC7C,cAAIA,CAAC,CAAC6c,IAAF,KAAW,SAAX,IAAwB7c,CAAC,CAACa,OAAF,KAAc,EAA1C,EAA8C;AAE9C,gBAAMic,MAAM,GAAGvF,eAAe,CAAC9E,SAA/B;AACA8E,UAAAA,eAAe,CAAC9E,SAAhB,GAA4B,KAA5B;AAEA,eAAKiH,cAAL,CAAoB,WAApB,EAAiCqD,qBAAjC;AACA,eAAKrD,cAAL,CAAoB,SAApB,EAA+BiD,gBAA/B;AACA,eAAKjD,cAAL,CAAoB,SAApB,EAA+BiD,gBAA/B;;AAEA,cAAI3c,CAAC,CAAC6c,IAAF,KAAW,SAAf,EAA0B;AACtB,iBAAKzB,cAAL;AACA,iBAAKzc,OAAL,CAAamB,OAAb,CAAqB2c,gBAArB,CAAsCrd,KAAtC,CAA4CC,OAA5C,GAAsD,MAAtD;;AACA,iBAAKgB,OAAL,CAAa,KAAK1B,OAAL,CAAa6F,QAAb,CAAsBkB,cAAnC,EAAmDtE,IAAnD,CAAwDpF,IAAxD,CAA6D,IAA7D;AACH,WAJD,MAIO;AACH;AACA,iBAAKqE,OAAL,CAAamE,QAAb,CAAsBwY,wBAAtB,CAA+ChhB,IAA/C,CAAoD,IAApD,EAA0DqgB,SAA1D,EAFG,CAGH;;AACA,gBAAIS,MAAJ,EAAY,KAAKxB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACf;AACJ,SApBwB,CAoBvB7I,IApBuB,CAoBlB,IApBkB,CAAzB;;AAsBA,cAAM0f,qBAAqB,GAAG,KAAK1c,OAAL,CAAamE,QAAb,CAAsByY,gBAAtB,CAAuC5f,IAAvC,CAA4C,IAA5C,EAAkDka,eAAlD,EAAmE8E,SAAnE,EAA8E,KAAK1d,OAAL,CAAa4Y,eAAe,CAAC7R,cAA7B,CAA9E,CAA9B;AACA,aAAKiU,WAAL,CAAiB,WAAjB,EAA8BoD,qBAA9B;AACA,aAAKpD,WAAL,CAAiB,SAAjB,EAA4BgD,gBAA5B;AACA,aAAKhD,WAAL,CAAiB,SAAjB,EAA4BgD,gBAA5B;AACH,OAxwBY;;AA0wBb;;;;;;;;AAQAM,MAAAA,gBAAgB,EAAE,UAAU1F,eAAV,EAA2B8E,SAA3B,EAAsC/E,MAAtC,EAA8CtX,CAA9C,EAAiD;AAC/D,cAAMuc,OAAO,GAAGvc,CAAC,CAACuc,OAAlB;AACA,cAAMC,OAAO,GAAGxc,CAAC,CAACwc,OAAlB;AAEA,YAAIU,OAAO,GAAG5F,MAAM,CAAC6F,UAArB;AACA,YAAIC,OAAO,GAAG9F,MAAM,CAAC+F,UAArB;AAEA,cAAMjf,CAAC,GAAGkZ,MAAM,CAAC6F,UAAP,IAAqB,IAAIld,IAAJ,CAASoc,SAAT,IAAsBE,OAAO,GAAGhF,eAAe,CAACvF,cAAhD,GAAiEuF,eAAe,CAACvF,cAAhB,GAAiCuK,OAAvH,CAAV;AACA,cAAMhV,CAAC,GAAG+P,MAAM,CAAC+F,UAAP,IAAqB,IAAIpd,IAAJ,CAASoc,SAAT,IAAsBG,OAAO,GAAGjF,eAAe,CAACtF,cAAhD,GAAiEsF,eAAe,CAACtF,cAAhB,GAAiCuK,OAAvH,CAAV;AACA,cAAMc,EAAE,GAAKhG,MAAM,CAAC+F,UAAP,GAAoB/F,MAAM,CAAC6F,UAA5B,GAA0C/e,CAAtD;AAEA,YAAI,IAAI6B,IAAJ,CAASoc,SAAT,CAAJ,EAAyB9E,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgC4Y,GAAhC,GAAuCV,MAAM,CAAC+F,UAAP,IAAqB,IAAIpd,IAAJ,CAASoc,SAAT,IAAsB9U,CAAtB,GAA0B+V,EAA/C,CAAD,GAAuD,IAA7F;AACzB,YAAI,IAAIrd,IAAJ,CAASoc,SAAT,CAAJ,EAAyB9E,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgCmN,IAAhC,GAAwC+K,MAAM,CAAC6F,UAAP,GAAoB/e,CAArB,GAA0B,IAAjE;;AAEzB,YAAI,MAAM6B,IAAN,CAAWoc,SAAX,CAAJ,EAA2B;AACvB9E,UAAAA,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgCqI,KAAhC,GAAwCrJ,CAAC,GAAG,IAA5C;AACA8e,UAAAA,OAAO,GAAG9e,CAAV;AACH;;AAED,YAAI,cAAc6B,IAAd,CAAmBoc,SAAnB,CAAJ,EAAmC;AAC/B9E,UAAAA,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgCsN,MAAhC,GAAyC4Q,EAAE,GAAG,IAA9C;AACAF,UAAAA,OAAO,GAAGE,EAAV;AACH,SAHD,MAIK,IAAI,WAAWrd,IAAX,CAAgBoc,SAAhB,CAAJ,EAAgC;AACjC9E,UAAAA,eAAe,CAACrE,SAAhB,CAA0B9T,KAA1B,CAAgCsN,MAAhC,GAAyCnF,CAAC,GAAG,IAA7C;AACA6V,UAAAA,OAAO,GAAG7V,CAAV;AACH;;AAEDgQ,QAAAA,eAAe,CAACrF,SAAhB,GAA4BgL,OAA5B;AACA3F,QAAAA,eAAe,CAACpF,SAAhB,GAA4BiL,OAA5B;AACA,aAAKpe,IAAL,CAAUqZ,SAAV,CAAoBd,eAAe,CAAClE,aAApC,EAAmD,KAAKnQ,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAmBL,OAAnB,IAA8B,KAA9B,GAAsC,KAAKha,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAmBH,OAAnB,CAAzF;AACA7F,QAAAA,eAAe,CAAC9E,SAAhB,GAA4B,IAA5B;AACH,OAlzBY;;AAozBb;;;;;AAKAuK,MAAAA,wBAAwB,EAAE,UAAUX,SAAV,EAAqB;AAC3C,cAAM1E,UAAU,GAAG,KAAKhZ,OAAL,CAAa6F,QAAb,CAAsB8N,eAAzC;AACA,aAAK8I,cAAL;AACA,aAAKzc,OAAL,CAAamB,OAAb,CAAqB2c,gBAArB,CAAsCrd,KAAtC,CAA4CC,OAA5C,GAAsD,MAAtD;;AAEA,YAAIjB,CAAC,GAAG,KAAK8E,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAmB5F,UAAU,GAAG,KAAKhZ,OAAL,CAAa6F,QAAb,CAAsB2N,SAAzB,GAAqC,KAAKxT,OAAL,CAAa6F,QAAb,CAAsB0N,SAAxF,CAAR;;AACA,YAAI3K,CAAC,GAAG,KAAKrE,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAmB5F,UAAU,GAAG,KAAKhZ,OAAL,CAAa6F,QAAb,CAAsB0N,SAAzB,GAAqC,KAAKvT,OAAL,CAAa6F,QAAb,CAAsB2N,SAAxF,CAAR;;AAEA,YAAI,CAACwF,UAAD,IAAe,CAAC,KAAK1X,IAAL,CAAU7B,CAAV,CAApB,EAAkC;AAC9B,gBAAMof,OAAO,GAAG,EAAhB;AACA,gBAAMC,KAAK,GAAG,KAAK9e,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCgG,WAAlC,GAAiDF,OAAO,GAAG,CAA3D,GAAgE,CAA9E;;AAEA,cAAI,KAAKxe,IAAL,CAAUoW,SAAV,CAAoBhX,CAApB,EAAuB,CAAvB,IAA4Bqf,KAAhC,EAAuC;AACnClW,YAAAA,CAAC,GAAG,KAAKrE,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAoBhW,CAAC,GAAGnJ,CAAL,GAAUqf,KAA7B,CAAJ;AACArf,YAAAA,CAAC,GAAGqf,KAAJ;AACH;AACJ;;AAED,cAAMrZ,UAAU,GAAG,KAAKzF,OAAL,CAAa6F,QAAb,CAAsBkB,cAAzC;AACA,aAAKrF,OAAL,CAAa+D,UAAb,EAAyBsX,OAAzB,CAAiC1f,IAAjC,CAAsC,IAAtC,EAA4CoC,CAA5C,EAA+CmJ,CAA/C,EAAkD,KAAlD,EAAyD8U,SAAzD;AACA,aAAKnC,eAAL,CAAqB,KAAKvb,OAAL,CAAayF,UAAb,EAAyB6Q,QAA9C,EAAwD7Q,UAAxD;AACH;AA90BY,KAAjB;;AAi1BA,QAAI,OAAO7F,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACgD,iBAAZ,EAA+B;AAC3B/E,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,mBAA9B,EAAmD;AAC/C7B,UAAAA,UAAU,EAAE,IADmC;AAE/C8E,UAAAA,QAAQ,EAAE,KAFqC;AAG/CC,UAAAA,YAAY,EAAE,KAHiC;AAI/C1E,UAAAA,KAAK,EAAE;AAJwC,SAAnD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACgD,iBAA7B,EAAgD,UAAhD,EAA4D;AACxD7E,QAAAA,UAAU,EAAE,IAD4C;AAExD8E,QAAAA,QAAQ,EAAE,KAF8C;AAGxDC,QAAAA,YAAY,EAAE,KAH0C;AAIxD1E,QAAAA,KAAK,EAAE0H;AAJiD,OAA5D;AAMH;;AAED,WAAOA,QAAP;AACH,GAl3BA,CAAD;AAo3BA;;AAAO,CAz3DG;AA03DV;;AACA;AAAO,UAAShJ,MAAT,EAAiBC,OAAjB,EAA0B;AAEjCD,EAAAA,MAAM,CAACC,OAAP,GAAiBkiB,OAAO,CAAC,OAAD,CAAxB;AAEA;AAAO,CA/3DG;AAg4DV;;AACA;AAAO,UAASniB,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,4CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAMqf,WAAW,GAAG;AAChBxhB,MAAAA,IAAI,EAAE,aADU;AAEhBiG,MAAAA,QAAQ,EAAE,IAFM;AAGhBwb,MAAAA,QAAQ,EAAE,IAHM;;AAKhB;;;;AAIApf,MAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjB,cAAMC,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,QAAAA,OAAO,CAACif,WAAR,GAAsB;AAClB9e,UAAAA,YAAY,EAAE,KADI;AAElBgf,UAAAA,IAAI,EAAE,IAFY;AAGlBC,UAAAA,MAAM,EAAE,IAHU;AAIlBC,UAAAA,OAAO,EAAE,IAJS;AAKlBrM,UAAAA,IAAI,EAAE,IALY;AAMlBrI,UAAAA,IAAI,EAAE,IANY;AAOlB2U,UAAAA,WAAW,EAAE,IAPK;AAQlBC,UAAAA,KAAK,EAAE,EARW;AASlBC,UAAAA,YAAY,EAAE,EATI;AAUlBC,UAAAA,eAAe,EAAE,IAVC;AAWlBpJ,UAAAA,aAAa,EAAE,EAXG;AAYlBqJ,UAAAA,UAAU,EAAE;AAZM,SAAtB;AAeA;;AACA,YAAIC,WAAW,GAAG5f,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAlB;AACAqf,QAAAA,WAAW,CAACpf,SAAZ,GAAwB,mCAAxB;AAEA,YAAIO,IAAI,GAAGf,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAX;AACAQ,QAAAA,IAAI,CAACP,SAAL,GAAiB,sBAAjB;AAEA,YAAIqf,OAAO,GAAG7f,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAd;AACAsf,QAAAA,OAAO,CAACrf,SAAR,GAAoB,uBAApB;AACAqf,QAAAA,OAAO,CAACtc,SAAR,GAAoB,KAAKuc,WAAL,CAAiB9f,IAAjB,CAApB;AAEA4f,QAAAA,WAAW,CAAC/e,WAAZ,CAAwBE,IAAxB;AACA6e,QAAAA,WAAW,CAAC/e,WAAZ,CAAwBgf,OAAxB;AACA,aAAKV,QAAL,GAAgBS,WAAW,CAACnL,aAAZ,CAA0B,iBAA1B,CAAhB;AAEAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBE,IAApB,GAA2BQ,WAA3B;AACA3f,QAAAA,OAAO,CAACif,WAAR,CAAoBG,MAApB,GAA6BQ,OAAO,CAACpL,aAAR,CAAsB,yBAAtB,CAA7B;AACAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBa,SAApB,GAAgCF,OAAO,CAACpL,aAAR,CAAsB,wBAAtB,CAAhC;AACAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBI,OAApB,GAA8BO,OAAO,CAACpL,aAAR,CAAsB,uBAAtB,CAA9B;AACAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBjM,IAApB,GAA2B4M,OAAO,CAACpL,aAAR,CAAsB,uBAAtB,CAA3B;AACAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBtU,IAApB,GAA2BiV,OAAO,CAACpL,aAAR,CAAsB,uBAAtB,CAA3B;AAEA;;AACAxU,QAAAA,OAAO,CAACif,WAAR,CAAoBI,OAApB,CAA4Bre,gBAA5B,CAA6C,OAA7C,EAAsD,KAAK+e,UAAL,CAAgBrhB,IAAhB,CAAqBqB,IAArB,CAAtD;AACAC,QAAAA,OAAO,CAACif,WAAR,CAAoBtU,IAApB,CAAyB3J,gBAAzB,CAA0C,OAA1C,EAAmD,KAAKgf,WAAL,CAAiBthB,IAAjB,CAAsBqB,IAAtB,CAAnD;AACA6f,QAAAA,OAAO,CAAC5e,gBAAR,CAAyB,WAAzB,EAAsC,KAAKif,oBAAL,CAA0BvhB,IAA1B,CAA+BqB,IAA/B,CAAtC;AACA6f,QAAAA,OAAO,CAAC5e,gBAAR,CAAyB,OAAzB,EAAkC,KAAKkf,gBAAL,CAAsBxhB,IAAtB,CAA2BqB,IAA3B,CAAlC;AAEA;;AACAC,QAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC+e,WAArC;AAEA;;AACAA,QAAAA,WAAW,GAAG,IAAd,EAAoB7e,IAAI,GAAG,IAA3B,EAAiC8e,OAAO,GAAG,IAA3C;AACH,OA3De;AA6DhBC,MAAAA,WAAW,EAAE,UAAU9f,IAAV,EAAgB;AACzB,cAAMwD,IAAI,GAAGxD,IAAI,CAACwD,IAAlB;AAEA,eAAO,0CACC,sCADD,GAEK,0HAFL,GAEkIA,IAAI,CAACC,SAAL,CAAe7B,KAFjJ,GAEyJ,IAFzJ,GAGK5B,IAAI,CAACmR,KAAL,CAAWiP,MAHhB,GAIK,WAJL,GAKK,6CALL,GAMK,0CANL,GAOC,QAPD,GAQC,oCARD,GASK,2FATL,GAUK,0CAVL,GAWC,QAXD,GAYH,QAZJ;AAaH,OA7Ee;;AA+EhB;;;;;AAKAF,MAAAA,oBAAoB,EAAE,UAAU5e,CAAV,EAAa;AAC/B,YAAI,wBAAwBC,IAAxB,CAA6BD,CAAC,CAACE,MAAF,CAAShB,SAAtC,CAAJ,EAAsD;AAClD,eAAKP,OAAL,CAAaif,WAAb,CAAyB9e,YAAzB,GAAwC,IAAxC;AACH,SAFD,MAEO;AACH,eAAKH,OAAL,CAAaif,WAAb,CAAyB9e,YAAzB,GAAwC,KAAxC;AACH;AACJ,OA1Fe;;AA4FhB;;;;;AAKA+f,MAAAA,gBAAgB,EAAE,UAAU7e,CAAV,EAAa;AAC3BA,QAAAA,CAAC,CAACG,eAAF;;AAEA,YAAI,QAAQF,IAAR,CAAaD,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,CAAb,KAAuD,KAAKzB,OAAL,CAAaif,WAAb,CAAyB9e,YAApF,EAAkG;AAC9F,eAAKuB,OAAL,CAAaud,WAAb,CAAyBtd,KAAzB,CAA+BtE,IAA/B,CAAoC,IAApC;AACH;AACJ,OAvGe;;AAyGhB;;;;;AAKAuE,MAAAA,IAAI,EAAE,UAAU6D,UAAV,EAAsBga,eAAtB,EAAwC;AAC1C,YAAI,KAAK/d,OAAL,CAAaud,WAAb,CAAyBld,UAA7B,EAAyC;AACrC,eAAKC,EAAL,CAAQC,mBAAR,CAA4B,SAA5B,EAAuC,KAAKP,OAAL,CAAaud,WAAb,CAAyBld,UAAhE;;AACA,eAAKL,OAAL,CAAaud,WAAb,CAAyBld,UAAzB,GAAsC,IAAtC;AACH;;AAED,aAAKL,OAAL,CAAaud,WAAb,CAAyBld,UAAzB,GAAsC,UAAUV,CAAV,EAAa;AAC/C,cAAI,CAAC,KAAKC,IAAL,CAAUD,CAAC,CAACa,OAAZ,CAAL,EAA2B;AAC3B,eAAKR,OAAL,CAAaud,WAAb,CAAyBtd,KAAzB,CAA+BtE,IAA/B,CAAoC,IAApC;AACH,SAHqC,CAGpCqB,IAHoC,CAG/B,IAH+B,CAAtC;;AAIA,aAAKsD,EAAL,CAAQhB,gBAAR,CAAyB,SAAzB,EAAoC,KAAKU,OAAL,CAAaud,WAAb,CAAyBld,UAA7D;;AAEA,cAAMqe,kBAAkB,GAAG,KAAKpgB,OAAL,CAAaif,WAAxC;AACAmB,QAAAA,kBAAkB,CAAC/J,aAAnB,GAAmC5Q,UAAnC;AACA2a,QAAAA,kBAAkB,CAACX,eAAnB,GAAqCA,eAArC;AAEA,cAAMY,aAAa,GAAG,KAAKrgB,OAAL,CAAayF,UAAb,CAAtB;AACA,cAAM6a,aAAa,GAAGD,aAAa,CAACE,SAApC;;AACA,YAAI,CAAC,KAAKlgB,IAAL,CAAUmgB,QAAV,CAAmBJ,kBAAkB,CAACzV,IAAtC,EAA4C2V,aAA5C,CAAL,EAAiE;AAC7DF,UAAAA,kBAAkB,CAACzV,IAAnB,CAAwBpK,SAAxB,GAAoC,0BAA0B+f,aAA9D;AACH;;AAED,YAAI,KAAKtgB,OAAL,CAAamC,MAAb,CAAoBC,YAApB,KAAqC,MAAzC,EAAiD;AAC7Cge,UAAAA,kBAAkB,CAACjB,IAAnB,CAAwB1e,KAAxB,CAA8B4B,QAA9B,GAAyC,OAAzC;AACH,SAFD,MAEO;AACH+d,UAAAA,kBAAkB,CAACjB,IAAnB,CAAwB1e,KAAxB,CAA8B4B,QAA9B,GAAyC,UAAzC;AACH;;AAED+d,QAAAA,kBAAkB,CAACN,SAAnB,CAA6BtD,WAA7B,GAA2C6D,aAAa,CAAC3T,KAAzD;AACA0T,QAAAA,kBAAkB,CAACjB,IAAnB,CAAwB1e,KAAxB,CAA8BC,OAA9B,GAAwC,OAAxC;;AAEA,aAAKgB,OAAL,CAAaud,WAAb,CAAyBwB,aAAzB,CAAuCpjB,IAAvC,CAA4C,IAA5C,EAAkD,KAAK2C,OAAL,CAAayF,UAAb,EAAyBkH,GAA3E;AACH,OA9Ie;AAgJhB5K,MAAAA,UAAU,EAAE,IAhJI;;AAkJhB;;;;AAIAJ,MAAAA,KAAK,EAAE,YAAY;AACf,cAAM+e,iBAAiB,GAAG,KAAKhf,OAAL,CAAaud,WAAvC;;AAEA,YAAIyB,iBAAiB,CAAChd,QAAtB,EAAgC;AAC5Bgd,UAAAA,iBAAiB,CAAChd,QAAlB,CAA2Bid,KAA3B;AACH;;AAED,YAAID,iBAAiB,CAAC3e,UAAtB,EAAkC;AAC9B,eAAKC,EAAL,CAAQC,mBAAR,CAA4B,SAA5B,EAAuCye,iBAAiB,CAAC3e,UAAzD;;AACA2e,UAAAA,iBAAiB,CAAC3e,UAAlB,GAA+B,IAA/B;AACH;;AAED,cAAMqe,kBAAkB,GAAG,KAAKpgB,OAAL,CAAaif,WAAxC;AACAmB,QAAAA,kBAAkB,CAACjB,IAAnB,CAAwB1e,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACA0f,QAAAA,kBAAkB,CAACX,eAAnB,GAAqC,IAArC;AACAW,QAAAA,kBAAkB,CAACZ,YAAnB,GAAkC,EAAlC;AACAY,QAAAA,kBAAkB,CAACb,KAAnB,GAA2B,EAA3B;AACAa,QAAAA,kBAAkB,CAACzV,IAAnB,CAAwBrH,SAAxB,GAAoC8c,kBAAkB,CAACf,OAAnB,CAA2B/b,SAA3B,GAAuC8c,kBAAkB,CAACN,SAAnB,CAA6BtD,WAA7B,GAA2C,EAAtH;AAEA,YAAI,OAAO,KAAK9a,OAAL,CAAa0e,kBAAkB,CAAC/J,aAAhC,EAA+C5T,IAAtD,KAA+D,UAAnE,EAA+E,KAAKf,OAAL,CAAa0e,kBAAkB,CAAC/J,aAAhC,EAA+C5T,IAA/C,CAAoDpF,IAApD,CAAyD,IAAzD;AAC/E+iB,QAAAA,kBAAkB,CAAC/J,aAAnB,GAAmC,EAAnC;AACH,OA3Ke;;AA6KhB;;;AAGAuK,MAAAA,kBAAkB,EAAE,YAAY;AAC5B,aAAK1B,QAAL,CAAcze,KAAd,CAAoBC,OAApB,GAA8B,OAA9B;AACH,OAlLe;;AAoLhB;;;AAGAmgB,MAAAA,mBAAmB,EAAE,YAAY;AAC7B,aAAK3B,QAAL,CAAcze,KAAd,CAAoBC,OAApB,GAA8B,MAA9B;AACH,OAzLe;AA2LhB+f,MAAAA,aAAa,EAAE,UAAU9T,GAAV,EAAe;AAC1B,cAAM+T,iBAAiB,GAAG,KAAKhf,OAAL,CAAaud,WAAvC;AAEA,cAAM9a,OAAO,GAAGuc,iBAAiB,CAAChd,QAAlB,GAA6B,KAAKrD,IAAL,CAAU+D,iBAAV,EAA7C;AACAD,QAAAA,OAAO,CAACE,kBAAR,GAA6Bqc,iBAAiB,CAACI,YAAlB,CAA+BpiB,IAA/B,CAAoC,IAApC,EAA0CyF,OAA1C,CAA7B;AACAA,QAAAA,OAAO,CAACvC,IAAR,CAAa,KAAb,EAAoB+K,GAApB,EAAyB,IAAzB;AACAxI,QAAAA,OAAO,CAACQ,IAAR,CAAa,IAAb;AAEA,aAAKjD,OAAL,CAAaud,WAAb,CAAyB2B,kBAAzB;AACH,OApMe;AAsMhBE,MAAAA,YAAY,EAAE,UAAU3c,OAAV,EAAmB;AAC7B,YAAIA,OAAO,CAACS,UAAR,KAAuB,CAA3B,EAA8B;AAC1B,eAAKlD,OAAL,CAAaud,WAAb,CAAyBvb,QAAzB,GAAoC,IAApC;;AACA,cAAIS,OAAO,CAACU,MAAR,KAAmB,GAAvB,EAA4B;AACxB,gBAAI;AACA,mBAAKnD,OAAL,CAAaud,WAAb,CAAyB8B,aAAzB,CAAuC1jB,IAAvC,CAA4C,IAA5C,EAAkD6H,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,EAAiC+b,MAAnF,EAA2F,IAA3F;AACH,aAFD,CAEE,OAAO3f,CAAP,EAAU;AACR,oBAAM3B,KAAK,CAAC,oDAAoD2B,CAAC,CAACyD,OAAtD,GAAgE,GAAjE,CAAX;AACH,aAJD,SAIU;AACN,mBAAKpD,OAAL,CAAaud,WAAb,CAAyB4B,mBAAzB;AACA,mBAAK7gB,OAAL,CAAaif,WAAb,CAAyBjM,IAAzB,CAA8BvS,KAA9B,CAAoCwgB,SAApC,GAAiD,KAAK1c,EAAL,CAAQ2c,WAAR,GAAsB,KAAKlhB,OAAL,CAAaif,WAAb,CAAyBG,MAAzB,CAAgCjG,YAAtD,GAAqE,EAAtE,GAA4E,IAA5H;AACH;AACJ,WATD,MASO;AAAE;AACL,iBAAKzX,OAAL,CAAaud,WAAb,CAAyB4B,mBAAzB;;AACA,gBAAI1c,OAAO,CAACU,MAAR,KAAmB,CAAvB,EAA0B;AACtB,oBAAMG,GAAG,GAAG,CAACb,OAAO,CAACc,YAAT,GAAwBd,OAAxB,GAAkCe,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,CAA9C;AACA,oBAAMG,GAAG,GAAG,yDAAyDjB,OAAO,CAACU,MAAjE,GAA0E,cAA1E,IAA4FG,GAAG,CAACK,YAAJ,IAAoBlB,OAAO,CAACc,YAAxH,CAAZ;AACA,oBAAMvF,KAAK,CAAC0F,GAAD,CAAX;AACH;AACJ;AACJ;AACJ,OA3Ne;AA6NhB2b,MAAAA,aAAa,EAAE,UAAUxB,KAAV,EAAiB1d,MAAjB,EAAyB;AACpC,cAAMue,kBAAkB,GAAG,KAAKpgB,OAAL,CAAaif,WAAxC;AACA,cAAMoB,aAAa,GAAG,KAAKrgB,OAAL,CAAaogB,kBAAkB,CAAC/J,aAAhC,CAAtB;AAEA,cAAM8K,KAAK,GAAG,EAAd;AACA,cAAMpb,GAAG,GAAGwZ,KAAK,CAAC9a,MAAlB;AACA,cAAMib,UAAU,GAAGW,aAAa,CAACX,UAAd,IAA4BU,kBAAkB,CAACV,UAAlE;AACA,cAAM0B,SAAS,GAAG1B,UAAU,IAAI,CAAd,GAAkB,CAAlB,GAAuBzG,IAAI,CAAC2F,KAAL,CAAW7Y,GAAG,GAAC2Z,UAAf,KAA8B,CAAvE;AACA,cAAM2B,eAAe,GAAGhB,aAAa,CAACiB,mBAAtC;AAEA,YAAIC,QAAQ,GAAG,EAAf;AACA,YAAIC,QAAQ,GAAG,mCAAf;AACA,YAAIC,OAAO,GAAG,CAAd;;AACA,aAAK,IAAItkB,CAAC,GAAG,CAAR,EAAWukB,IAAX,EAAiB5b,IAAtB,EAA4B3I,CAAC,GAAG4I,GAAhC,EAAqC5I,CAAC,EAAtC,EAA0C;AACtCukB,UAAAA,IAAI,GAAGnC,KAAK,CAACpiB,CAAD,CAAZ;AACA2I,UAAAA,IAAI,GAAG,CAAC4b,IAAI,CAACxa,GAAN,GAAY,EAAZ,GAAiB,OAAOwa,IAAI,CAACxa,GAAZ,KAAoB,QAApB,GAA+Bwa,IAAI,CAACxa,GAAL,CAASc,KAAT,CAAe,GAAf,CAA/B,GAAqD0Z,IAAI,CAACxa,GAAlF;AACApB,UAAAA,IAAI,GAAG4b,IAAI,CAACxa,GAAL,GAAWpB,IAAI,CAACmN,GAAL,CAAS,UAAU0O,CAAV,EAAa;AAAE,mBAAOA,CAAC,CAACC,IAAF,EAAP;AAAkB,WAA1C,CAAlB;AACAJ,UAAAA,QAAQ,IAAIH,eAAe,CAACK,IAAD,CAA3B;;AAEA,cAAI,CAACvkB,CAAC,GAAG,CAAL,IAAUikB,SAAV,KAAwB,CAAxB,IAA6BK,OAAO,GAAG/B,UAAvC,IAAsDviB,CAAC,GAAG,CAAL,GAAU4I,GAAnE,EAAwE;AACpE0b,YAAAA,OAAO;AACPD,YAAAA,QAAQ,IAAI,yCAAZ;AACH;;AAED,cAAI3f,MAAM,IAAIiE,IAAI,CAACrB,MAAL,GAAc,CAA5B,EAA+B;AAC3B,iBAAK,IAAIrG,CAAC,GAAG,CAAR,EAAWyjB,IAAI,GAAG/b,IAAI,CAACrB,MAAvB,EAA+ByC,GAApC,EAAyC9I,CAAC,GAAGyjB,IAA7C,EAAmDzjB,CAAC,EAApD,EAAwD;AACpD8I,cAAAA,GAAG,GAAGpB,IAAI,CAAC1H,CAAD,CAAV;;AACA,kBAAI8I,GAAG,IAAIia,KAAK,CAAC1Z,OAAN,CAAcP,GAAd,MAAuB,CAAC,CAAnC,EAAsC;AAClCia,gBAAAA,KAAK,CAAC5Z,IAAN,CAAWL,GAAX;;AACAqa,gBAAAA,QAAQ,IAAI,eAAera,GAAf,GAAqB,IAArB,GAA4BA,GAA5B,GAAkC,MAA9C;AACH;AACJ;AACJ;AACJ;;AACDsa,QAAAA,QAAQ,IAAI,QAAZ;AAEApB,QAAAA,kBAAkB,CAACzV,IAAnB,CAAwBrH,SAAxB,GAAoCke,QAApC;;AAEA,YAAI3f,MAAJ,EAAY;AACRue,UAAAA,kBAAkB,CAACb,KAAnB,GAA2BA,KAA3B;AACAa,UAAAA,kBAAkB,CAACf,OAAnB,CAA2B/b,SAA3B,GAAuCie,QAAvC;AACAnB,UAAAA,kBAAkB,CAACd,WAAnB,GAAiCc,kBAAkB,CAACf,OAAnB,CAA2BrK,gBAA3B,CAA4C,GAA5C,CAAjC;AACH;AACJ,OAxQe;AA0QhB+K,MAAAA,UAAU,EAAE,UAAU1e,CAAV,EAAa;AACrB,cAAME,MAAM,GAAGF,CAAC,CAACE,MAAjB;AACA,YAAI,CAAC,KAAKlB,IAAL,CAAUyhB,QAAV,CAAmBvgB,MAAnB,CAAL,EAAiC;AAEjC,cAAMwgB,OAAO,GAAGxgB,MAAM,CAACib,WAAvB;AACA,cAAMkE,iBAAiB,GAAG,KAAKhf,OAAL,CAAaud,WAAvC;AACA,cAAMmB,kBAAkB,GAAG,KAAKpgB,OAAL,CAAaif,WAAxC;AAEA,cAAM+C,SAAS,GAAG5B,kBAAkB,CAACf,OAAnB,CAA2B7K,aAA3B,CAAyC,cAAcuN,OAAd,GAAwB,IAAjE,CAAlB;AACA,cAAMvC,YAAY,GAAGY,kBAAkB,CAACZ,YAAxC;AACA,cAAMyC,SAAS,GAAGzC,YAAY,CAAC/X,OAAb,CAAqBsa,OAArB,CAAlB;;AAEA,YAAIE,SAAS,GAAG,CAAC,CAAjB,EAAmB;AACfzC,UAAAA,YAAY,CAAC5X,MAAb,CAAoBqa,SAApB,EAA+B,CAA/B;AACA,eAAK5hB,IAAL,CAAUuR,WAAV,CAAsBoQ,SAAtB,EAAiC,IAAjC;AACH,SAHD,MAGO;AACHxC,UAAAA,YAAY,CAACjY,IAAb,CAAkBwa,OAAlB;AACA,eAAK1hB,IAAL,CAAUsR,QAAV,CAAmBqQ,SAAnB,EAA8B,IAA9B;AACH;;AAEDtB,QAAAA,iBAAiB,CAACK,aAAlB,CAAgC1jB,IAAhC,CAAqC,IAArC,EACImiB,YAAY,CAAC/a,MAAb,KAAwB,CAAxB,GACA2b,kBAAkB,CAACb,KADnB,GAEAa,kBAAkB,CAACb,KAAnB,CAAyB5Y,MAAzB,CAAgC,UAAU+a,IAAV,EAAgB;AAC5C,iBAAOA,IAAI,CAACxa,GAAL,CAASgb,IAAT,CAAc,UAAUhb,GAAV,EAAe;AAChC,mBAAOsY,YAAY,CAAC/X,OAAb,CAAqBP,GAArB,IAA4B,CAAC,CAApC;AACH,WAFM,CAAP;AAGH,SAJD,CAHJ,EAOQ,KAPR;AAQH,OAtSe;AAwShB8Y,MAAAA,WAAW,EAAE,UAAU3e,CAAV,EAAa;AACtBA,QAAAA,CAAC,CAACoU,cAAF;AACApU,QAAAA,CAAC,CAACG,eAAF;AAEA,cAAM4e,kBAAkB,GAAG,KAAKpgB,OAAL,CAAaif,WAAxC;AACA,cAAMkD,MAAM,GAAG/B,kBAAkB,CAACzV,IAAlC;AACA,YAAIpJ,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,YAAI0Z,OAAO,GAAG,IAAd;AAEA,YAAI1Z,MAAM,KAAK4gB,MAAf,EAAuB;;AAEvB,eAAOA,MAAM,KAAK5gB,MAAM,CAAC+Q,UAAzB,EAAqC;AACjC2I,UAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACA,cAAIwZ,OAAJ,EAAa;AACb1Z,UAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,YAAI,CAAC2I,OAAL,EAAc;AAEd,cAAMmH,OAAO,GAAIhC,kBAAkB,CAACX,eAAnB,IAAsC,KAAKzf,OAAL,CAAaogB,kBAAkB,CAAC/J,aAAhC,EAA+CoJ,eAAtG;AACA,aAAK/d,OAAL,CAAaud,WAAb,CAAyBtd,KAAzB,CAA+BtE,IAA/B,CAAoC,IAApC;AACA+kB,QAAAA,OAAO,CAAC7gB,MAAD,CAAP;AACH;AA9Te,KAApB;;AAiUA,QAAI,OAAO3B,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACgD,iBAAZ,EAA+B;AAC3B/E,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,mBAA9B,EAAmD;AAC/C7B,UAAAA,UAAU,EAAE,IADmC;AAE/C8E,UAAAA,QAAQ,EAAE,KAFqC;AAG/CC,UAAAA,YAAY,EAAE,KAHiC;AAI/C1E,UAAAA,KAAK,EAAE;AAJwC,SAAnD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACgD,iBAA7B,EAAgD,aAAhD,EAA+D;AAC3D7E,QAAAA,UAAU,EAAE,IAD+C;AAE3D8E,QAAAA,QAAQ,EAAE,KAFiD;AAG3DC,QAAAA,YAAY,EAAE,KAH6C;AAI3D1E,QAAAA,KAAK,EAAE8gB;AAJoD,OAA/D;AAMH;;AAED,WAAOA,WAAP;AACH,GAlWA,CAAD;AAoWA;;AAAO,CAjvEG;AAkvEV;;AACA;AAAO,UAASpiB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,OADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAMxH,KAAK,GAAGnR,IAAI,CAACmR,KAAnB;AACA,YAAMlR,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACsK,KAAR,GAAgB;AACZ+X,QAAAA,YAAY,EAAE3J,aADF;AAEZ4J,QAAAA,UAAU,EAAE,IAFA;AAGZC,QAAAA,YAAY,EAAE,EAHF;AAIZrR,QAAAA,KAAK,EAAE;AACHsR,UAAAA,OAAO,EAAEtR,KAAK,CAAC8C,aADZ;AAEHpG,UAAAA,IAAI,EAAEsD,KAAK,CAAC+C,UAFT;AAGHpG,UAAAA,KAAK,EAAEqD,KAAK,CAACgD,WAHV;AAIHpG,UAAAA,MAAM,EAAEoD,KAAK,CAACiD;AAJX;AAJK,OAAhB;AAYA;;AACA,UAAIxD,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAI2iB,MAAM,GAAG/R,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,CAAb;AAEA;;AACAkO,MAAAA,MAAM,CAAC1hB,gBAAP,CAAwB,OAAxB,EAAiC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAjC;AACAC,MAAAA,OAAO,CAACsK,KAAR,CAAcgY,UAAd,GAA2BI,MAAM,CAAC1N,gBAAP,CAAwB,WAAxB,CAA3B;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV,EAAgB+R,MAAM,GAAG,IAAzB;AACH,KA/B0D;AAiC3DD,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMlf,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,YAAMP,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,wCAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB,KAChB,6BADgB,GAEZ,4BAFY,GAGR,MAHQ,GAIJ,6GAJI,GAI4GC,IAAI,CAAC8F,OAAL,CAAakB,SAJzH,GAIqI,IAJrI,GAKA,6BALA,GAKgC2G,KAAK,CAAC+C,UALtC,GAKmD,SALnD,GAK+D1Q,IAAI,CAAC8F,OAAL,CAAakB,SAL5E,GAMJ,WANI,GAOR,OAPQ,GAQR,MARQ,GASJ,iHATI,GASgHhH,IAAI,CAAC8F,OAAL,CAAaoB,WAT7H,GAS2I,IAT3I,GAUA,6BAVA,GAUgCyG,KAAK,CAACiD,YAVtC,GAUqD,SAVrD,GAUiE5Q,IAAI,CAAC8F,OAAL,CAAaoB,WAV9E,GAWJ,WAXI,GAYR,OAZQ,GAaR,MAbQ,GAcJ,+GAdI,GAc8GlH,IAAI,CAAC8F,OAAL,CAAamB,UAd3H,GAcwI,IAdxI,GAeA,6BAfA,GAegC0G,KAAK,CAACgD,WAftC,GAemD,SAfnD,GAe+D3Q,IAAI,CAAC8F,OAAL,CAAamB,UAf5E,GAgBJ,WAhBI,GAiBR,OAjBQ,GAkBR,MAlBQ,GAmBJ,gHAnBI,GAmB+GjH,IAAI,CAAC8F,OAAL,CAAaqB,YAnB5H,GAmB2I,IAnB3I,GAoBA,6BApBA,GAoBgCwG,KAAK,CAAC8C,aApBtC,GAoBsD,SApBtD,GAoBkEzQ,IAAI,CAAC8F,OAAL,CAAaqB,YApB/E,GAqBJ,WArBI,GAsBR,OAtBQ,GAuBZ,OAvBY,GAwBhB,QAxBJ;AA0BA,aAAOiG,OAAP;AACH,KAlE0D;;AAoE3D;;;AAGAkS,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,YAAMkhB,YAAY,GAAG,KAAKriB,OAAL,CAAasK,KAAb,CAAmB+X,YAAxC;AACA,YAAM9gB,MAAM,GAAG8gB,YAAY,CAACnI,iBAA5B;;AAEA,UAAI,CAAC/Y,OAAL,EAAc;AACV,aAAKd,IAAL,CAAU4Z,aAAV,CAAwB1Y,MAAxB,EAAgC,KAAKvB,OAAL,CAAasK,KAAb,CAAmB4G,KAAnB,CAAyBtD,IAAzD;AACAyU,QAAAA,YAAY,CAAC3a,eAAb,CAA6B,YAA7B;AACH,OAHD,MAGO,IAAI,KAAKrH,IAAL,CAAUyiB,eAAV,CAA0B3hB,OAA1B,CAAJ,EAAwC;AAC3C,cAAM4hB,SAAS,GAAG5hB,OAAO,CAACV,KAAR,CAAcsiB,SAAhC;;AACA,YAAIA,SAAJ,EAAe;AACX,eAAK1iB,IAAL,CAAU4Z,aAAV,CAAwB1Y,MAAxB,EAAgC,KAAKvB,OAAL,CAAasK,KAAb,CAAmB4G,KAAnB,CAAyB6R,SAAzB,CAAhC;AACAV,UAAAA,YAAY,CAACnf,YAAb,CAA0B,YAA1B,EAAwC6f,SAAxC;AACA,iBAAO,IAAP;AACH;AACJ;;AAED,aAAO,KAAP;AACH,KAxF0D;;AA0F3D;;;AAGAxgB,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMygB,YAAY,GAAG,KAAKhjB,OAAL,CAAasK,KAAlC;AACA,YAAM0P,SAAS,GAAGgJ,YAAY,CAACV,UAA/B;AACA,YAAMC,YAAY,GAAGS,YAAY,CAACX,YAAb,CAA0B5gB,YAA1B,CAAuC,YAAvC,KAAwD,MAA7E;;AAEA,UAAI8gB,YAAY,KAAKS,YAAY,CAACT,YAAlC,EAAgD;AAC5C,aAAK,IAAIplB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGiU,SAAS,CAACvV,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD,cAAIolB,YAAY,KAAKvI,SAAS,CAAC7c,CAAD,CAAT,CAAasE,YAAb,CAA0B,YAA1B,CAArB,EAA8D;AAC1D,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmBqI,SAAS,CAAC7c,CAAD,CAA5B,EAAiC,QAAjC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsBoI,SAAS,CAAC7c,CAAD,CAA/B,EAAoC,QAApC;AACH;AACJ;;AAED6lB,QAAAA,YAAY,CAACT,YAAb,GAA4BA,YAA5B;AACH;AACJ,KA7G0D;AA+G3DI,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAIpD,KAAK,GAAG,IAAZ;;AAEA,aAAO,CAACA,KAAD,IAAU,CAAC,MAAMmD,IAAN,CAAWC,MAAM,CAACwgB,OAAlB,CAAlB,EAA8C;AAC1C5jB,QAAAA,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAR;AACAF,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAACnU,KAAL,EAAY;AAEZ,YAAM8kB,eAAe,GAAG,KAAKC,mBAAL,EAAxB;;AACA,WAAK,IAAI/lB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGkd,eAAe,CAACxe,MAAtC,EAA8CtH,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxD,aAAKkD,IAAL,CAAU8iB,QAAV,CAAmBF,eAAe,CAAC9lB,CAAD,CAAlC,EAAuC,WAAvC,EAAqDgB,KAAK,KAAK,MAAV,GAAmB,EAAnB,GAAwBA,KAA7E;AACH;;AAED,WAAKilB,UAAL,GAAkB,IAAlB;AACA,WAAKC,UAAL;AACA,WAAK7gB,KAAL,GArBiB,CAuBjB;;AACA,WAAKma,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AAxI0D,GAAlC;AA4I7B;AAAO,CA54EG;AA64EV;;AACA;AAAO,UAAS1K,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAImT,4CAA4C,GAAGrmB,mBAAmB,CAAC,CAAD,CAAtE;AACrB;;;AAAqB,MAAIsmB,oDAAoD,GAAG,aAAatmB,mBAAmB,CAAC0B,CAApB,CAAsB2kB,4CAAtB,CAAxE;AAKrB;;;AAA6BnT,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,MADqD;AAE3DiD,IAAAA,OAAO,EAAE,QAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACD,oDAAoD,CAACrQ,CAAtD,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACoL,IAAR,GAAe;AACX9I,QAAAA,YAAY,EAAE,IADH;AAEXmhB,QAAAA,cAAc,EAAE,IAFL;AAGXC,QAAAA,eAAe,EAAE,IAHN;AAIXC,QAAAA,QAAQ,EAAE;AAJC,OAAf;AAOA;;AACA,UAAIC,WAAW,GAAG,KAAKC,SAAL,CAAexmB,IAAf,CAAoB0C,IAApB,CAAlB;AACAC,MAAAA,OAAO,CAACoL,IAAR,CAAarK,KAAb,GAAqB6iB,WAArB;AACA5jB,MAAAA,OAAO,CAACoL,IAAR,CAAa9I,YAAb,GAA4BshB,WAAW,CAACpP,aAAZ,CAA0B,cAA1B,CAA5B;AACAxU,MAAAA,OAAO,CAACoL,IAAR,CAAaqY,cAAb,GAA8BG,WAAW,CAACpP,aAAZ,CAA0B,kBAA1B,CAA9B;AACAxU,MAAAA,OAAO,CAACoL,IAAR,CAAasY,eAAb,GAA+BE,WAAW,CAACpP,aAAZ,CAA0B,eAA1B,CAA/B;AACAxU,MAAAA,OAAO,CAACoL,IAAR,CAAa9I,YAAb,CAA0BtB,gBAA1B,CAA2C,OAA3C,EAAoD,KAAK8iB,cAAL,CAAoBplB,IAApB,CAAyBqB,IAAzB,EAA+BC,OAAO,CAACoL,IAAvC,CAApD,EAAkG,KAAlG;AACApL,MAAAA,OAAO,CAACoL,IAAR,CAAa9I,YAAb,CAA0BtB,gBAA1B,CAA2C,QAA3C,EAAqD,KAAK8iB,cAAL,CAAoBplB,IAApB,CAAyBqB,IAAzB,EAA+BC,OAAO,CAACoL,IAAvC,CAArD,EAAmG,KAAnG;AACApL,MAAAA,OAAO,CAACoL,IAAR,CAAasY,eAAb,CAA6B1iB,gBAA7B,CAA8C,QAA9C,EAAwD,UAAUK,CAAV,EAAa;AAAE,aAAKqI,QAAL,GAAgBrI,CAAC,CAACE,MAAF,CAASpD,KAAzB;AAAiC,OAAhD,CAAiDO,IAAjD,CAAsDsB,OAAO,CAACoL,IAAR,CAAaqY,cAAb,CAA4BhjB,KAAlF,CAAxD,EAAkJ,KAAlJ;AAEA;;AACA,UAAIsjB,eAAe,GAAG,KAAKC,wBAAL,CAA8B3mB,IAA9B,CAAmC0C,IAAnC,CAAtB;AACAC,MAAAA,OAAO,CAACoL,IAAR,CAAa6Y,cAAb,GAA8BF,eAA9B;AACA/jB,MAAAA,OAAO,CAACoL,IAAR,CAAauY,QAAb,GAAwB,IAAxB;AACAI,MAAAA,eAAe,CAAC/iB,gBAAhB,CAAiC,WAAjC,EAA8CjB,IAAI,CAAC2V,SAAnD;AAEA;;AACAkO,MAAAA,WAAW,CAACpP,aAAZ,CAA0B,iBAA1B,EAA6CxT,gBAA7C,CAA8D,OAA9D,EAAuE,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAAvE,EAA+F,KAA/F;AACAgkB,MAAAA,eAAe,CAAC/iB,gBAAhB,CAAiC,OAAjC,EAA0C,KAAKmjB,sBAAL,CAA4BzlB,IAA5B,CAAiCqB,IAAjC,CAA1C;AAEA;;AACAC,MAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBH,WAArB,CAAiCgjB,WAAjC;AACA5jB,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqCmjB,eAArC;AAEA;;AACAH,MAAAA,WAAW,GAAG,IAAd,EAAoBG,eAAe,GAAG,IAAtC;AACH,KAxC0D;;AA0C3D;AACAF,IAAAA,SAAS,EAAE,YAAY;AACnB,YAAMtgB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM1D,MAAM,GAAG,KAAKQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAf;AAEAT,MAAAA,MAAM,CAACU,SAAP,GAAmB,mBAAnB;AACAV,MAAAA,MAAM,CAACY,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAb,MAAAA,MAAM,CAACyD,SAAP,GAAmB,KACnB,QADmB,GAEf,gCAFe,GAGX,sGAHW,GAG8FC,IAAI,CAACC,SAAL,CAAe7B,KAH7G,GAGqH,IAHrH,GAIP,KAAKuP,KAAL,CAAWiP,MAJJ,GAKX,WALW,GAMX,+BANW,GAMuB5c,IAAI,CAACC,SAAL,CAAesJ,OAAf,CAAuBJ,KAN9C,GAMsD,SANtD,GAOf,QAPe,GAQf,8BARe,GASX,8BATW,GAUP,SAVO,GAUKnJ,IAAI,CAACC,SAAL,CAAesJ,OAAf,CAAuBC,UAV5B,GAUyC,sFAVzC,GAWP,qEAXO,GAYX,QAZW,GAaX,8BAbW,GAcP,SAdO,GAcKxJ,IAAI,CAACC,SAAL,CAAesJ,OAAf,CAAuBE,aAd5B,GAc4C,UAd5C,GAeP,+CAfO,GAgBH,gCAhBG,GAiBH,oCAjBG,GAkBH,gCAlBG,GAmBH,oCAnBG,GAoBP,WApBO,GAqBX,QArBW,GAsBX,8BAtBW,GAuBP,SAvBO,GAuBKzJ,IAAI,CAACC,SAAL,CAAesJ,OAAf,CAAuBG,YAvB5B,GAuB2C,UAvB3C,GAwBP,iCAxBO,GAyBX,QAzBW,GA0Bf,QA1Be,GA2Bf,gCA3Be,GA4BX,sDA5BW,GA4B8C1J,IAAI,CAACC,SAAL,CAAegK,YA5B7D,GA4B4E,UA5B5E,GA4ByFjK,IAAI,CAACC,SAAL,CAAegK,YA5BxG,GA4BuH,kBA5BvH,GA6Bf,QA7Be,GA8BnB,SA9BA;AAgCA,aAAO3N,MAAP;AACH,KAlF0D;;AAoF3D;AACAmkB,IAAAA,wBAAwB,EAAE,YAAY;AAClC,YAAMzgB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM6gB,QAAQ,GAAG,KAAK/jB,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAjB;AAEA8jB,MAAAA,QAAQ,CAAC7jB,SAAT,GAAqB,kCAArB;AACA6jB,MAAAA,QAAQ,CAAC9gB,SAAT,GAAqB,KACrB,0CADqB,GAErB,4BAFqB,GAGjB,4BAHiB,GAIb,sFAJa,GAKT,KAAK4N,KAAL,CAAWhD,IALF,GAMT,+DANS,GAMyD3K,IAAI,CAAC0K,UAAL,CAAgBC,IANzE,GAMgF,gBANhF,GAOb,WAPa,GAQb,sFARa,GAST,KAAKgD,KAAL,CAAW9I,MATF,GAUT,+DAVS,GAUyD7E,IAAI,CAAC0K,UAAL,CAAgBG,MAVzE,GAUkF,gBAVlF,GAWb,WAXa,GAYjB,QAZiB,GAarB,QAbqB,GAcrB,EAdA;AAgBA,aAAOgW,QAAP;AACH,KA3G0D;;AA6G3D;;;AAGAxiB,IAAAA,IAAI,EAAE,YAAY;AACd,WAAKF,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,MAApC,EAA4C,WAAW,KAAKkd,qBAA5D;AACH,KAlH0D;;AAoH3D;;;AAGA8J,IAAAA,WAAW,EAAE,YAAY;AACrB,aAAO;AACH9jB,QAAAA,SAAS,EAAE,OADR;AAEH+jB,QAAAA,MAAM,EAAE,UAAUnjB,OAAV,EAAmB;AACvB,cAAI,CAACA,OAAO,CAACM,YAAR,CAAqB,UAArB,CAAL,EAAuC;;AACvC,gBAAM8iB,GAAG,GAAG,KAAKviB,EAAL,CAAQwiB,WAAR,GAAsBC,wBAAtB,CAA+C,KAAK/iB,OAAL,CAAa0J,IAAb,CAAkBsZ,SAAlB,CAA4BrnB,IAA5B,CAAiC,IAAjC,EAAuC,KAAKgD,IAAL,CAAUskB,WAAV,CAAsBxjB,OAAO,CAACM,YAAR,CAAqB,UAArB,CAAtB,CAAvC,CAA/C,CAAZ;;AACAN,UAAAA,OAAO,CAACmC,SAAR,GAAoBihB,GAAG,CAAC/P,aAAJ,CAAkB,QAAlB,EAA4BlR,SAAhD;AACH;AANE,OAAP;AAQH,KAhI0D;AAkI3DohB,IAAAA,SAAS,EAAE,UAAUE,GAAV,EAAe;AACtB,YAAMC,KAAK,GAAG,KAAK7kB,OAAL,CAAamC,MAAb,CAAoB0iB,KAAlC;AACA,aAAOA,KAAK,CAACje,GAAN,CAAUke,cAAV,CAAyBF,GAAzB,EAA8BC,KAAK,CAACE,OAApC,CAAP;AACH,KArI0D;AAuI3DjB,IAAAA,cAAc,EAAE,UAAUkB,WAAV,EAAuB3jB,CAAvB,EAA0B;AACtC2jB,MAAAA,WAAW,CAACvB,cAAZ,CAA2BngB,SAA3B,GAAuC,KAAK5B,OAAL,CAAa0J,IAAb,CAAkBsZ,SAAlB,CAA4BrnB,IAA5B,CAAiC,IAAjC,EAAuCgE,CAAC,CAACE,MAAF,CAASpD,KAAhD,CAAvC;AACH,KAzI0D;AA2I3D+lB,IAAAA,MAAM,EAAE,UAAU7iB,CAAV,EAAa;AACjB,WAAK4C,WAAL;AAEA5C,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;;AAEA,YAAMyjB,YAAY,GAAG,YAAY;AAC7B,YAAI,KAAKjlB,OAAL,CAAaoL,IAAb,CAAkB9I,YAAlB,CAA+BnE,KAA/B,CAAqCyjB,IAArC,GAA4Cnd,MAA5C,KAAuD,CAA3D,EAA8D,OAAO,KAAP;AAE9D,cAAMugB,WAAW,GAAG,KAAKhlB,OAAL,CAAaoL,IAAjC;AACA,cAAM8Z,OAAO,GAAGF,WAAW,CAAC1iB,YAAZ,CAAyBnE,KAAzC;AACA,cAAMgnB,OAAO,GAAGH,WAAW,CAACvB,cAAZ,CAA2BjP,aAA3B,CAAyC,QAAzC,CAAhB;AAEA,YAAI,CAAC2Q,OAAL,EAAc,OAAO,KAAP;AACdA,QAAAA,OAAO,CAAC5kB,SAAR,GAAoB,iBAAiB4kB,OAAO,CAAC5kB,SAA7C;AACA4kB,QAAAA,OAAO,CAACjiB,YAAR,CAAqB,iBAArB,EAAwC,KAAxC;AACAiiB,QAAAA,OAAO,CAACjiB,YAAR,CAAqB,UAArB,EAAiC,KAAK7C,IAAL,CAAU+kB,WAAV,CAAsBF,OAAtB,CAAjC;AACAC,QAAAA,OAAO,CAACjiB,YAAR,CAAqB,gBAArB,EAAuC8hB,WAAW,CAACtB,eAAZ,CAA4BvlB,KAAnE;AACAgnB,QAAAA,OAAO,CAAC1kB,KAAR,CAAciJ,QAAd,GAAyBsb,WAAW,CAACtB,eAAZ,CAA4BvlB,KAArD;;AAEA,YAAI,CAAC,KAAK6B,OAAL,CAAaH,MAAb,CAAoBK,WAAzB,EAAsC;AAClC,gBAAMmlB,eAAe,GAAG,KAAKnC,mBAAL,EAAxB;;AAEA,cAAImC,eAAe,CAAC5gB,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,kBAAM6gB,OAAO,GAAG,KAAKjlB,IAAL,CAAUC,aAAV,CAAwB+kB,eAAe,CAAC,CAAD,CAAf,CAAmB/d,QAA3C,CAAhB;AACAge,YAAAA,OAAO,CAAC1kB,WAAR,CAAoBukB,OAApB;AACA,gBAAI,CAAC,KAAKI,UAAL,CAAgBD,OAAhB,EAAyB,IAAzB,EAA+B,IAA/B,CAAL,EAA2C,OAAO,KAAP;AAC9C,WAJD,MAIO;AACH,gBAAI,CAAC,KAAKC,UAAL,CAAgBJ,OAAhB,EAAyB,IAAzB,EAA+B,IAA/B,CAAL,EAA2C,OAAO,KAAP;AAC9C;;AAED,gBAAMK,KAAK,GAAG,KAAKnlB,IAAL,CAAUolB,cAAV,CAAyB,KAAKplB,IAAL,CAAUqlB,cAAnC,CAAd;AACAP,UAAAA,OAAO,CAAC7S,UAAR,CAAmBqT,YAAnB,CAAgCH,KAAhC,EAAuCL,OAAO,CAACS,WAA/C;AACA,eAAKrJ,QAAL,CAAc4I,OAAd,EAAuB,CAAvB,EAA0BA,OAA1B,EAAmC,CAAnC;AACH,SAdD,MAcO;AACH,gBAAMU,WAAW,GAAG,KAAKxlB,IAAL,CAAU8G,gBAAV,CAA2B6d,WAAW,CAACrB,QAAvC,EAAiD,QAAjD,CAApB;AACAkC,UAAAA,WAAW,CAACvT,UAAZ,CAAuBwT,YAAvB,CAAoCX,OAApC,EAA6CU,WAA7C;AACA,eAAKtJ,QAAL,CAAc4I,OAAd,EAAuB,CAAvB,EAA0BA,OAA1B,EAAmC,CAAnC;AACH;;AAEDH,QAAAA,WAAW,CAAC1iB,YAAZ,CAAyBnE,KAAzB,GAAiC,EAAjC;AACA6mB,QAAAA,WAAW,CAACtB,eAAZ,CAA4BvlB,KAA5B,GAAoC,KAApC;AACA6mB,QAAAA,WAAW,CAACvB,cAAZ,CAA2BhjB,KAA3B,CAAiCiJ,QAAjC,GAA4C,KAA5C;AACAsb,QAAAA,WAAW,CAACvB,cAAZ,CAA2BngB,SAA3B,GAAuC,EAAvC;AAEA,eAAO,IAAP;AACH,OAxCoB,CAwCnB5E,IAxCmB,CAwCd,IAxCc,CAArB;;AA0CA,UAAI;AACA,YAAIumB,YAAY,EAAhB,EAAoB;AAChB,eAAKvjB,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B,EADgB,CAEhB;;AACA,eAAKsf,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AACJ,OAND,CAME,OAAOlG,CAAP,EAAU;AACR,aAAKK,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH,OARD,SAQU;AACN,aAAK0H,YAAL;AACH;;AAED,aAAO,KAAP;AACH,KAxM0D;AA0M3D8d,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV,YAAI,KAAK4kB,eAAL,CAAqBte,OAArB,CAA6B,KAAKzH,OAAL,CAAaoL,IAAb,CAAkB6Y,cAA/C,IAAiE,CAAC,CAAtE,EAAyE;AACrE,eAAKxH,cAAL;AACH;AACJ,OAJD,MAIO,IAAItb,OAAO,CAACM,YAAR,CAAqB,UAArB,CAAJ,EAAsC;AACzC,YAAI,KAAKskB,eAAL,CAAqBte,OAArB,CAA6B,KAAKzH,OAAL,CAAaoL,IAAb,CAAkB6Y,cAA/C,IAAiE,CAArE,EAAwE;AACpE,eAAK1H,QAAL,CAAcpb,OAAd,EAAuB,CAAvB,EAA0BA,OAA1B,EAAmC,CAAnC;AACA,eAAKO,OAAL,CAAa0J,IAAb,CAAkB4a,eAAlB,CAAkC3oB,IAAlC,CAAuC,IAAvC,EAA6C8D,OAA7C;AACH;;AACD,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KAxN0D;AA0N3DoB,IAAAA,EAAE,EAAE,UAAUV,MAAV,EAAkB;AAClB,UAAI,CAACA,MAAL,EAAa;AACT,aAAKH,OAAL,CAAa0J,IAAb,CAAkB3I,IAAlB,CAAuBpF,IAAvB,CAA4B,IAA5B;AACH,OAFD,MAEO;AACH,cAAM2nB,WAAW,GAAG,KAAKhlB,OAAL,CAAaoL,IAAjC;;AACA,YAAI4Z,WAAW,CAACrB,QAAhB,EAA0B;AACtB,gBAAMiB,GAAG,GAAG,KAAKvkB,IAAL,CAAUskB,WAAV,CAAsBK,WAAW,CAACrB,QAAZ,CAAqBliB,YAArB,CAAkC,UAAlC,CAAtB,CAAZ;AACA,gBAAMiI,QAAQ,GAAGsb,WAAW,CAACrB,QAAZ,CAAqBliB,YAArB,CAAkC,gBAAlC,KAAuD,KAAxE;AACA,eAAKzB,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,IAAlC;AACA8kB,UAAAA,WAAW,CAAC1iB,YAAZ,CAAyBnE,KAAzB,GAAiCymB,GAAjC;AACAI,UAAAA,WAAW,CAACtB,eAAZ,CAA4BvlB,KAA5B,GAAoCuL,QAApC;AACAsb,UAAAA,WAAW,CAACvB,cAAZ,CAA2BngB,SAA3B,GAAuC,KAAK5B,OAAL,CAAa0J,IAAb,CAAkBsZ,SAAlB,CAA4BrnB,IAA5B,CAAiC,IAAjC,EAAuCunB,GAAvC,CAAvC;AACAI,UAAAA,WAAW,CAACvB,cAAZ,CAA2BhjB,KAA3B,CAAiCiJ,QAAjC,GAA4CA,QAA5C;AACH;AACJ;AACJ,KAzO0D;AA2O3Dsc,IAAAA,eAAe,EAAE,UAAUC,OAAV,EAAmB;AAChC,WAAKjmB,OAAL,CAAaoL,IAAb,CAAkBuY,QAAlB,GAA6BsC,OAA7B;AACA,YAAMC,OAAO,GAAG,KAAKlmB,OAAL,CAAaoL,IAAb,CAAkB6Y,cAAlC;AAEA,YAAMpL,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoBmN,OAApB,EAA6B,KAAKjmB,OAAL,CAAamB,OAAb,CAAqB4X,YAAlD,CAAf;AACAmN,MAAAA,OAAO,CAACzlB,KAAR,CAAc4Y,GAAd,GAAqBR,MAAM,CAACQ,GAAP,GAAa4M,OAAO,CAAC9M,YAArB,GAAoC,EAArC,GAA2C,IAA/D;AACA+M,MAAAA,OAAO,CAACzlB,KAAR,CAAcmN,IAAd,GAAsBiL,MAAM,CAACjL,IAAP,GAAc,KAAK5N,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCO,UAAjD,GAA+D,IAApF;AAEA4M,MAAAA,OAAO,CAACzlB,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AAEA,YAAMia,QAAQ,GAAG,KAAK3a,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCK,WAAlC,IAAiD8M,OAAO,CAACC,UAAR,GAAqBD,OAAO,CAAC9M,WAA9E,CAAjB;;AACA,UAAIuB,QAAQ,GAAG,CAAf,EAAkB;AACduL,QAAAA,OAAO,CAACzlB,KAAR,CAAcmN,IAAd,GAAsBsY,OAAO,CAACC,UAAR,GAAqBxL,QAAtB,GAAkC,IAAvD;AACAuL,QAAAA,OAAO,CAAChM,iBAAR,CAA0BzZ,KAA1B,CAAgCmN,IAAhC,GAAwC,KAAK+M,QAAN,GAAkB,IAAzD;AACH,OAHD,MAGO;AACHuL,QAAAA,OAAO,CAAChM,iBAAR,CAA0BzZ,KAA1B,CAAgCmN,IAAhC,GAAuC,MAAvC;AACH;;AAED,WAAK8M,aAAL,CAAmBwL,OAAnB,EAA4BD,OAA5B,EAAqC,MAArC;AACH,KA9P0D;AAgQ3D9B,IAAAA,sBAAsB,EAAE,UAAU9iB,CAAV,EAAa;AACjCA,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMyZ,OAAO,GAAG5Z,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,KAAyCJ,CAAC,CAACE,MAAF,CAAS+Q,UAAT,CAAoB7Q,YAApB,CAAiC,cAAjC,CAAzD;AACA,UAAI,CAACwZ,OAAL,EAAc;AAEd5Z,MAAAA,CAAC,CAACoU,cAAF;;AAEA,UAAI,SAASnU,IAAT,CAAc2Z,OAAd,CAAJ,EAA4B;AACxB,aAAKjb,OAAL,CAAaoL,IAAb,CAAkB9I,YAAlB,CAA+BnE,KAA/B,GAAuC,KAAKkC,IAAL,CAAUskB,WAAV,CAAsB,KAAK3kB,OAAL,CAAaoL,IAAb,CAAkBuY,QAAlB,CAA2BliB,YAA3B,CAAwC,UAAxC,CAAtB,CAAvC;AACA,aAAKC,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,MAApC,EAA4C,IAA5C;AACH,OAHD,MAGO;AACH;AACA,aAAKgD,IAAL,CAAU8S,UAAV,CAAqB,KAAKnT,OAAL,CAAaoL,IAAb,CAAkBuY,QAAvC;AACA,aAAK3jB,OAAL,CAAaoL,IAAb,CAAkBuY,QAAlB,GAA6B,IAA7B;AACA,aAAKnhB,KAAL,GAJG,CAMH;;AACA,aAAKma,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;;AAED,WAAKkV,cAAL;AACH,KAtR0D;AAwR3Dha,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMuiB,WAAW,GAAG,KAAKhlB,OAAL,CAAaoL,IAAjC;AACA4Z,MAAAA,WAAW,CAACf,cAAZ,CAA2BxjB,KAA3B,CAAiCC,OAAjC,GAA2C,MAA3C;AACAskB,MAAAA,WAAW,CAACrB,QAAZ,GAAuB,IAAvB;AACAqB,MAAAA,WAAW,CAAC1iB,YAAZ,CAAyBnE,KAAzB,GAAiC,EAAjC;AACA6mB,MAAAA,WAAW,CAACvB,cAAZ,CAA2BngB,SAA3B,GAAuC,EAAvC;AACH;AA9R0D,GAAlC;AAkS7B;AAAO,CA1rFG;AA2rFV;;AACA;AAAO,UAASzG,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAIiW,iDAAiD,GAAGnpB,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;AAAqB,MAAIopB,yDAAyD,GAAG,aAAappB,mBAAmB,CAAC0B,CAApB,CAAsBynB,iDAAtB,CAA7E;AACrB;;;;;;;;AAWA;;;AAA6BjW,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,cADqD;;AAE3D;;;;AAIAqC,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAAC6C,yDAAyD,CAACnT,CAA3D,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACwM,YAAR,GAAuB;AACnBE,QAAAA,KAAK,EAAE3M,IAAI,CAACwD,IAAL,CAAU8F,OAAV,CAAkBmD,YADN;AACoB;AACvCG,QAAAA,GAAG,EAAE3M,OAAO,CAAC+kB,OAAR,CAAgBuB,eAFF;AAEmB;AACtC/F,QAAAA,SAAS,EAAE,eAHQ;AAGS;AAC5Be,QAAAA,mBAAmB,EAAE,KAAKiF,SAJP;AAIkB;AACrC9G,QAAAA,eAAe,EAAE,KAAK+G,QAAL,CAAc9nB,IAAd,CAAmBqB,IAAnB,CALE;AAKwB;AAC3C2f,QAAAA,UAAU,EAAE,CANO,CAML;;AANK,OAAvB;AAQH,KAlB0D;;AAoB3D;;;;;AAKA9d,IAAAA,IAAI,EAAE,UAAU6d,eAAV,EAA2B;AAC7B,WAAK/d,OAAL,CAAaud,WAAb,CAAyBrd,IAAzB,CAA8BvE,IAA9B,CAAmC,IAAnC,EAAyC,cAAzC,EAAyDoiB,eAAzD;AACH,KA3B0D;;AA6B3D;;;;;;;;AAQA8G,IAAAA,SAAS,EAAE,UAAU7E,IAAV,EAAgB;AACvB,YAAM+E,OAAO,GAAG/E,IAAI,CAAC9a,GAAL,CAASoB,KAAT,CAAe,GAAf,EAAoBC,GAApB,EAAhB;AACA,aAAQ,6CAA6CyZ,IAAI,CAAC9a,GAAlD,GAAwD,SAAxD,IAAqE8a,IAAI,CAACgF,GAAL,IAAYD,OAAjF,IAA4F,wBAA5F,GACI,wDADJ,GAEI,+CAFJ,IAEuD/E,IAAI,CAACjkB,IAAL,IAAagpB,OAFpE,IAE+E,QAF/E,GAGA,QAHR;AAIH,KA3C0D;AA6C3DD,IAAAA,QAAQ,EAAE,UAAUjlB,MAAV,EAAkB;AACxB,WAAKolB,UAAL,CAAgB,OAAhB,EAAyB,YAAY;AACjC,cAAM9e,IAAI,GAAG;AAACpK,UAAAA,IAAI,EAAE8D,MAAM,CAAC+Q,UAAP,CAAkBkC,aAAlB,CAAgC,iBAAhC,EAAmDgI,WAA1D;AAAuErU,UAAAA,IAAI,EAAE;AAA7E,SAAb;AACA,aAAKnI,OAAL,CAAaqL,KAAb,CAAmBub,QAAnB,GAA8BrlB,MAAM,CAACmlB,GAArC;AACA,aAAKhlB,OAAL,CAAa2J,KAAb,CAAmBwb,YAAnB,CAAgCxpB,IAAhC,CAAqC,IAArC,EAA2CkE,MAAM,CAACqF,GAAlD,EAAuD,EAAvD,EAA2D,KAA3D,EAAkE,KAAK5G,OAAL,CAAaqL,KAAb,CAAmBoI,SAArF,EAAgG,KAAKzT,OAAL,CAAaqL,KAAb,CAAmBqI,SAAnH,EAA8H,MAA9H,EAAsI7L,IAAtI;AACH,OAJwB,CAIvBnJ,IAJuB,CAIlB,IAJkB,CAAzB,EAIc,IAJd;AAKH;AAnD0D,GAAlC;AAsD7B;AAAO,CAnwFG;AAowFV;;AACA;AAAO,UAAS7B,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,YADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAAC8mB,UAAR,GAAqB;AACjBzE,QAAAA,YAAY,EAAE3J,aADG;AAEjBxR,QAAAA,GAAG,EAAEnH,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,YAAxB;AAFY,OAArB;AAIH,KAT0D;;AAW3D;;;AAGAuiB,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV,aAAKd,IAAL,CAAUuR,WAAV,CAAsB,KAAK5R,OAAL,CAAa8mB,UAAb,CAAwBzE,YAA9C,EAA4D,QAA5D;AACH,OAFD,MAEO,IAAI,cAAc/gB,IAAd,CAAmBH,OAAO,CAACmG,QAA3B,CAAJ,EAA0C;AAC7C,aAAKjH,IAAL,CAAUsR,QAAV,CAAmB,KAAK3R,OAAL,CAAa8mB,UAAb,CAAwBzE,YAA3C,EAAyD,QAAzD;AACA,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KAvB0D;;AAyB3D;;;AAGA0E,IAAAA,MAAM,EAAE,YAAY;AAChB,YAAMC,iBAAiB,GAAG,KAAK3mB,IAAL,CAAU8G,gBAAV,CAA2B,KAAK8f,gBAAL,EAA3B,EAAoD,YAApD,CAA1B;;AAEA,UAAID,iBAAJ,EAAuB;AACnB,aAAKE,wBAAL,CAA8BF,iBAA9B,EAAiD,IAAjD,EAAuD,IAAvD,EAA6D,KAA7D,EAAoE,KAApE;AACH,OAFD,MAEO;AACH,aAAKG,uBAAL,CAA6B,KAAKnnB,OAAL,CAAa8mB,UAAb,CAAwB5f,GAAxB,CAA4BkgB,SAA5B,CAAsC,KAAtC,CAA7B;AACH;AACJ;AApC0D,GAAlC;AAuC7B;AAAO,CAzzFG;AA0zFV;;AACA;AAAO,UAASvqB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,MADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACwJ,IAAR,GAAe;AACX6d,QAAAA,UAAU,EAAE3O,aAAa,CAAClE,aAAd,CAA4B,MAA5B,CADD;AAEX8S,QAAAA,aAAa,EAAE5O,aAAa,CAACpG,UAAd,CAAyBkC,aAAzB,CAAuC,kBAAvC,CAFJ;AAGX+S,QAAAA,SAAS,EAAE,IAHA;AAIXC,QAAAA,WAAW,EAAE;AAJF,OAAf;AAOA;;AACA,UAAI7W,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AAEA;;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,gBAAtB,EAAwCxT,gBAAxC,CAAyD,OAAzD,EAAkE,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAlE;AAEAC,MAAAA,OAAO,CAACwJ,IAAR,CAAa+d,SAAb,GAAyB5W,OAAO,CAACqE,gBAAR,CAAyB,cAAzB,CAAzB;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAzB0D;AA2B3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMoN,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,8CAApB;AAEA,UAAIiJ,IAAJ,EAAUoD,IAAV,EAAgBzP,CAAhB,EAAmB4I,GAAnB;AACA,UAAI0hB,QAAQ,GAAG,CAACtlB,MAAM,CAACqH,IAAR,GACX,CACI,OADJ,EAEI,eAFJ,EAGI,aAHJ,EAII,QAJJ,EAKI,SALJ,EAMI,QANJ,EAOI,cAPJ,EAQI,SARJ,CADW,GAUPrH,MAAM,CAACqH,IAVf;AAYA,UAAImB,IAAI,GAAG,gCACH,4BADG,GAEC,qEAFD,GAEyEpH,IAAI,CAAC8F,OAAL,CAAaC,OAFtF,GAEgG,KAFhG,GAEwG/F,IAAI,CAAC8F,OAAL,CAAaC,OAFrH,GAE+H,iBAF1I;;AAGA,WAAKnM,CAAC,GAAG,CAAJ,EAAO4I,GAAG,GAAG0hB,QAAQ,CAAChjB,MAA3B,EAAmCtH,CAAC,GAAG4I,GAAvC,EAA4C5I,CAAC,EAA7C,EAAiD;AAC7CqM,QAAAA,IAAI,GAAGie,QAAQ,CAACtqB,CAAD,CAAf;AACAyP,QAAAA,IAAI,GAAGpD,IAAI,CAACxB,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAP;AACA2C,QAAAA,IAAI,IAAI,+DAA+DnB,IAA/D,GAAsE,cAAtE,GAAuFoD,IAAvF,GAA8F,WAA9F,GAA4GA,IAA5G,GAAmH,uBAAnH,GAA6IpD,IAA7I,GAAoJ,KAApJ,GAA4JoD,IAA5J,GAAmK,gBAA3K;AACH;;AACDjC,MAAAA,IAAI,IAAI,aAAR;AACAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KA3D0D;;AA6D1D;;;AAGDkS,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,YAAMI,MAAM,GAAG,KAAKvB,OAAL,CAAawJ,IAAb,CAAkB6d,UAAjC;AACA,YAAMK,OAAO,GAAG,KAAK1nB,OAAL,CAAawJ,IAAb,CAAkB8d,aAAlC;;AAEA,UAAI,CAACnmB,OAAL,EAAc;AACV,cAAMqI,IAAI,GAAG,KAAKjG,IAAL,CAAU8F,OAAV,CAAkBG,IAA/B;AACA,aAAKnJ,IAAL,CAAUqZ,SAAV,CAAoBnY,MAApB,EAA4BiI,IAA5B;AACA,aAAKnJ,IAAL,CAAUqZ,SAAV,CAAoBgO,OAApB,EAA6Ble,IAA7B;AACH,OAJD,MAIO,IAAIrI,OAAO,CAACV,KAAR,IAAiBU,OAAO,CAACV,KAAR,CAAcknB,UAAd,CAAyBljB,MAAzB,GAAkC,CAAvD,EAA0D;AAC7D,cAAMmjB,UAAU,GAAGzmB,OAAO,CAACV,KAAR,CAAcknB,UAAd,CAAyB9P,OAAzB,CAAiC,OAAjC,EAAyC,EAAzC,CAAnB;AACA,aAAKxX,IAAL,CAAUqZ,SAAV,CAAoBnY,MAApB,EAA4BqmB,UAA5B;AACA,aAAKvnB,IAAL,CAAUqZ,SAAV,CAAoBgO,OAApB,EAA6BE,UAA7B;AACA,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KAhF0D;;AAkF1D;;;AAGDrlB,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMslB,WAAW,GAAG,KAAK7nB,OAAL,CAAawJ,IAAjC;AACA,YAAMie,QAAQ,GAAGI,WAAW,CAACN,SAA7B;AACA,YAAMC,WAAW,GAAGK,WAAW,CAACR,UAAZ,CAAuB7K,WAA3C;;AAEA,UAAIgL,WAAW,KAAKK,WAAW,CAACL,WAAhC,EAA6C;AACzC,aAAK,IAAIrqB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG0hB,QAAQ,CAAChjB,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,cAAIqqB,WAAW,KAAKC,QAAQ,CAACtqB,CAAD,CAAR,CAAYsE,YAAZ,CAAyB,YAAzB,CAApB,EAA4D;AACxD,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmB8V,QAAQ,CAACtqB,CAAD,CAA3B,EAAgC,QAAhC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsB6V,QAAQ,CAACtqB,CAAD,CAA9B,EAAmC,QAAnC;AACH;AACJ;;AAED0qB,QAAAA,WAAW,CAACL,WAAZ,GAA0BA,WAA1B;AACH;AACJ,KArG0D;AAuG3D7E,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjB,UAAI,CAAC,YAAYC,IAAZ,CAAiBD,CAAC,CAACE,MAAF,CAASwgB,OAA1B,CAAL,EAAyC,OAAO,KAAP;AAEzC1gB,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMrD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,CAAd;;AAEA,UAAItD,KAAJ,EAAW;AACP,cAAM2pB,OAAO,GAAG,KAAKznB,IAAL,CAAUC,aAAV,CAAwB,MAAxB,CAAhB;AACAwnB,QAAAA,OAAO,CAACrnB,KAAR,CAAcknB,UAAd,GAA2BxpB,KAA3B;AACA,aAAK4pB,UAAL,CAAgBD,OAAhB,EAAyB,CAAC,aAAD,CAAzB,EAA0C,IAA1C,EAAgD,IAAhD;AACH,OAJD,MAIO;AACH,aAAKC,UAAL,CAAgB,IAAhB,EAAsB,CAAC,aAAD,CAAtB,EAAuC,CAAC,MAAD,CAAvC,EAAiD,IAAjD;AACH;;AAED,WAAK1E,UAAL;AACH;AAxH0D,GAAlC;AA4H7B;AAAO,CAp8FG;AAq8FV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAI6X,iDAAiD,GAAG/qB,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;;;;;;AAWA;;;AAA6BkT,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,WADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC3Y,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACwE,iDAAiD;AAAC;AAAc,SAAf,CAAlD,CAAf;AAEA,YAAMhoB,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACkK,SAAR,GAAoB;AAChB+d,QAAAA,SAAS,EAAE,IADK;AAEhBC,QAAAA,UAAU,EAAE,IAFI;AAGhBnX,QAAAA,SAAS,EAAE;AAHK,OAApB;AAMA;;AACA,UAAIJ,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACAC,MAAAA,OAAO,CAACkK,SAAR,CAAkBge,UAAlB,GAA+BvX,OAAO,CAAC6D,aAAR,CAAsB,yBAAtB,CAA/B;AAEA;;AACAxU,MAAAA,OAAO,CAACkK,SAAR,CAAkBge,UAAlB,CAA6BlnB,gBAA7B,CAA8C,OAA9C,EAAuD,KAAKmnB,aAAL,CAAmBzpB,IAAnB,CAAwBqB,IAAxB,CAAvD;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,0BAAtB,EAAkDxT,gBAAlD,CAAmE,OAAnE,EAA4E,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAA5E;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,0BAAtB,EAAkDxT,gBAAlD,CAAmE,OAAnE,EAA4E,KAAKoN,MAAL,CAAY1P,IAAZ,CAAiBqB,IAAjB,CAA5E;AACA4Q,MAAAA,OAAO,CAAC3P,gBAAR,CAAyB,OAAzB,EAAkC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAlC;AACAC,MAAAA,OAAO,CAACkK,SAAR,CAAkB6G,SAAlB,GAA8BJ,OAAO,CAACqE,gBAAR,CAAyB,WAAzB,CAA9B;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KA7B0D;AA+B3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAM2F,SAAS,GAAG,KAAKpoB,OAAL,CAAaoQ,WAAb,CAAyBC,aAA3C;AACA,YAAMM,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,0BAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB8kB,SAApB;AAEA,aAAOzX,OAAP;AACH,KAvC0D;;AAyC1D;;;AAGDpO,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAM8lB,aAAa,GAAG,KAAKroB,OAAL,CAAaoQ,WAAnC;AACA,YAAMkY,gBAAgB,GAAG,KAAKtoB,OAAL,CAAakK,SAAtC;AAEAme,MAAAA,aAAa,CAAC/X,WAAd,GAA4BgY,gBAAgB,CAACJ,UAA7C;AACAG,MAAAA,aAAa,CAAC9X,aAAd,GAA8B,SAA9B;AACA8X,MAAAA,aAAa,CAAC7X,cAAd,GAA+B,OAA/B;AACA6X,MAAAA,aAAa,CAAC3X,UAAd,GAA2B4X,gBAAgB,CAACvX,SAA5C;AAEA,WAAKrP,OAAL,CAAa0O,WAAb,CAAyB3N,IAAzB,CAA8BpF,IAA9B,CAAmC,IAAnC,EAAyC,KAAK4pB,gBAAL,EAAzC,EAAkE,IAAlE;AACH,KAtD0D;;AAwD1D;;;AAGDkB,IAAAA,aAAa,EAAE,UAAU9mB,CAAV,EAAa;AACxB,WAAKK,OAAL,CAAa0O,WAAb,CAAyB2B,eAAzB,CAAyC1U,IAAzC,CAA8C,IAA9C,EAAoDgE,CAAC,CAACE,MAAF,CAASpD,KAA7D;AACH,KA7D0D;AA+D3D+lB,IAAAA,MAAM,EAAE,YAAY;AAChB,WAAKxiB,OAAL,CAAawI,SAAb,CAAuBqe,UAAvB,CAAkClrB,IAAlC,CAAuC,IAAvC,EAA6C,KAAK2C,OAAL,CAAaoQ,WAAb,CAAyBK,aAAtE;AACH,KAjE0D;AAmE3DkS,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,WAAKE,OAAL,CAAawI,SAAb,CAAuBqe,UAAvB,CAAkClrB,IAAlC,CAAuC,IAAvC,EAA6CgE,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,CAA7C;AACH,KAxE0D;AA0E3D2M,IAAAA,MAAM,EAAE,YAAY;AAChB,WAAK2Z,UAAL,CAAgB,IAAhB,EAAsB,CAAC,OAAD,CAAtB,EAAiC,CAAC,MAAD,CAAjC,EAA2C,IAA3C;AACA,WAAK1E,UAAL;AACH,KA7E0D;AA+E3DkF,IAAAA,UAAU,EAAE,UAAUtX,KAAV,EAAiB;AACzB,UAAI,CAACA,KAAL,EAAY;AAEZ,YAAM6W,OAAO,GAAG,KAAKznB,IAAL,CAAUC,aAAV,CAAwB,MAAxB,CAAhB;AACAwnB,MAAAA,OAAO,CAACrnB,KAAR,CAAcwQ,KAAd,GAAsBA,KAAtB;AACA,WAAK8W,UAAL,CAAgBD,OAAhB,EAAyB,CAAC,OAAD,CAAzB,EAAoC,IAApC,EAA0C,IAA1C;AAEA,WAAKzE,UAAL;AACH;AAvF0D,GAAlC;AA2F7B;AAAO,CAjjGG;AAkjGV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,UADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAAC0J,QAAR,GAAmB;AACf2d,QAAAA,UAAU,EAAE3O,aAAa,CAAClE,aAAd,CAA4B,MAA5B,CADG;AAEfgU,QAAAA,SAAS,EAAE,IAFI;AAGfC,QAAAA,WAAW,EAAE;AAHE,OAAnB;AAMA;;AACA,UAAI9X,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAI2iB,MAAM,GAAG/R,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,CAAb;AAEA;;AACAkO,MAAAA,MAAM,CAAC1hB,gBAAP,CAAwB,OAAxB,EAAiC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAjC;AACAC,MAAAA,OAAO,CAAC0J,QAAR,CAAiB8e,SAAjB,GAA6B9F,MAAM,CAAC1N,gBAAP,CAAwB,WAAxB,CAA7B;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV,EAAgB+R,MAAM,GAAG,IAAzB;AACH,KAxB0D;AA0B3DD,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMoN,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,4CAApB;AAEA,YAAMmoB,QAAQ,GAAG,CAACvmB,MAAM,CAACuH,QAAR,GAAmB,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX,EAAe,EAAf,EAAmB,EAAnB,EAAuB,EAAvB,EAA2B,EAA3B,EAA+B,EAA/B,EAAmC,EAAnC,EAAuC,EAAvC,EAA2C,EAA3C,EAA+C,EAA/C,EAAmD,EAAnD,EAAuD,EAAvD,EAA2D,EAA3D,CAAnB,GAAoFvH,MAAM,CAACuH,QAA5G;AAEA,UAAIiB,IAAI,GAAG,gCACH,4BADG,GAEC,qEAFD,GAEyEpH,IAAI,CAAC8F,OAAL,CAAaC,OAFtF,GAEgG,KAFhG,GAEwG/F,IAAI,CAAC8F,OAAL,CAAaC,OAFrH,GAE+H,iBAF1I;;AAGA,WAAK,IAAInM,CAAC,GAAG,CAAR,EAAWwrB,IAAI,GAAGxmB,MAAM,CAACymB,YAAzB,EAAuC7iB,GAAG,GAAG2iB,QAAQ,CAACjkB,MAAtD,EAA8D0D,IAAnE,EAAyEhL,CAAC,GAAG4I,GAA7E,EAAkF5I,CAAC,EAAnF,EAAuF;AACnFgL,QAAAA,IAAI,GAAGugB,QAAQ,CAACvrB,CAAD,CAAf;AACAwN,QAAAA,IAAI,IAAI,+DAA+DxC,IAA/D,GAAsEwgB,IAAtE,GAA6E,WAA7E,GAA2FxgB,IAA3F,GAAkGwgB,IAAlG,GAAyG,qBAAzG,GAAiIxgB,IAAjI,GAAwIwgB,IAAxI,GAA+I,KAA/I,GAAuJxgB,IAAvJ,GAA8J,gBAAtK;AACH;;AACDwC,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KA/C0D;;AAiD1D;;;AAGDkS,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV,aAAKd,IAAL,CAAUqZ,SAAV,CAAoB,KAAK1Z,OAAL,CAAa0J,QAAb,CAAsB2d,UAA1C,EAAsD,KAAK9jB,IAAL,CAAU8F,OAAV,CAAkBK,QAAxE;AACH,OAFD,MAEO,IAAIvI,OAAO,CAACV,KAAR,IAAiBU,OAAO,CAACV,KAAR,CAAciJ,QAAd,CAAuBjF,MAAvB,GAAgC,CAArD,EAAwD;AAC3D,aAAKpE,IAAL,CAAUqZ,SAAV,CAAoB,KAAK1Z,OAAL,CAAa0J,QAAb,CAAsB2d,UAA1C,EAAsDlmB,OAAO,CAACV,KAAR,CAAciJ,QAApE;AACA,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KA7D0D;;AA+D1D;;;AAGDnH,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMsmB,eAAe,GAAG,KAAK7oB,OAAL,CAAa0J,QAArC;AACA,YAAMgf,QAAQ,GAAGG,eAAe,CAACL,SAAjC;AACA,YAAMC,WAAW,GAAGI,eAAe,CAACxB,UAAhB,CAA2B7K,WAA/C;;AAEA,UAAIiM,WAAW,KAAKI,eAAe,CAACJ,WAApC,EAAiD;AAC7C,aAAK,IAAItrB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2iB,QAAQ,CAACjkB,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,cAAIsrB,WAAW,KAAKC,QAAQ,CAACvrB,CAAD,CAAR,CAAYsE,YAAZ,CAAyB,YAAzB,CAApB,EAA4D;AACxD,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmB+W,QAAQ,CAACvrB,CAAD,CAA3B,EAAgC,QAAhC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsB8W,QAAQ,CAACvrB,CAAD,CAA9B,EAAmC,QAAnC;AACH;AACJ;;AAED0rB,QAAAA,eAAe,CAACJ,WAAhB,GAA8BA,WAA9B;AACH;AACJ,KAlF0D;AAoF3D9F,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjB,UAAI,CAAC,YAAYC,IAAZ,CAAiBD,CAAC,CAACE,MAAF,CAASwgB,OAA1B,CAAL,EAAyC,OAAO,KAAP;AAEzC1gB,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMrD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,CAAd;;AAEA,UAAItD,KAAJ,EAAW;AACP,cAAM2pB,OAAO,GAAG,KAAKznB,IAAL,CAAUC,aAAV,CAAwB,MAAxB,CAAhB;AACAwnB,QAAAA,OAAO,CAACrnB,KAAR,CAAciJ,QAAd,GAAyBvL,KAAzB;AACA,aAAK4pB,UAAL,CAAgBD,OAAhB,EAAyB,CAAC,WAAD,CAAzB,EAAwC,IAAxC,EAA8C,IAA9C;AACH,OAJD,MAIO;AACH,aAAKC,UAAL,CAAgB,IAAhB,EAAsB,CAAC,WAAD,CAAtB,EAAqC,CAAC,MAAD,CAArC,EAA+C,IAA/C;AACH;;AAED,WAAK1E,UAAL;AACH;AArG0D,GAAlC;AAyG7B;AAAO,CAzqGG;AA0qGV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,aADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAAC8oB,WAAR,GAAsB;AAClBzB,QAAAA,UAAU,EAAE3O,aAAa,CAAClE,aAAd,CAA4B,MAA5B,CADM;AAElB8S,QAAAA,aAAa,EAAE5O,aAAa,CAACpG,UAAd,CAAyBkC,aAAzB,CAAuC,kBAAvC,CAFG;AAGlBuU,QAAAA,WAAW,EAAE,IAHK;AAIlBC,QAAAA,aAAa,EAAE;AAJG,OAAtB;AAOA;;AACA,UAAIrY,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AAEA;;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,EAA4BxT,gBAA5B,CAA6C,OAA7C,EAAsD,KAAKioB,MAAL,CAAYvqB,IAAZ,CAAiBqB,IAAjB,CAAtD;AACAC,MAAAA,OAAO,CAAC8oB,WAAR,CAAoBC,WAApB,GAAkCpY,OAAO,CAACqE,gBAAR,CAAyB,WAAzB,CAAlC;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAxB0D;AA0B3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAM+mB,YAAY,GAAG,KAAK3lB,IAAL,CAAU8F,OAA/B;AACA,YAAMsH,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,yCAApB;AAEA,YAAM4oB,cAAc,GAAG,CAAC,GAAD,EAAM,KAAN,EAAa,YAAb,EAA2B,KAA3B,EAAkC,IAAlC,EAAwC,IAAxC,EAA8C,IAA9C,EAAoD,IAApD,EAA0D,IAA1D,EAAgE,IAAhE,CAAvB;AACA,YAAMC,UAAU,GAAG,CAACjnB,MAAM,CAACsH,OAAR,IAAmBtH,MAAM,CAACsH,OAAP,CAAehF,MAAf,KAA0B,CAA7C,GAAiD0kB,cAAjD,GAAkEhnB,MAAM,CAACsH,OAA5F;AAEA,UAAIkB,IAAI,GAAG,uDAAX;;AACA,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqjB,UAAU,CAAC3kB,MAA5B,EAAoC4kB,MAApC,EAA4CtH,OAA5C,EAAqD9G,OAArD,EAA8Dxd,IAA9D,EAAoEmL,CAApE,EAAuE0gB,KAAvE,EAA8E/oB,SAAnF,EAA8FpD,CAAC,GAAG4I,GAAlG,EAAuG5I,CAAC,EAAxG,EAA4G;AACxGksB,QAAAA,MAAM,GAAGD,UAAU,CAACjsB,CAAD,CAAnB;;AAEA,YAAI,OAAOksB,MAAP,KAAkB,QAAlB,IAA8BF,cAAc,CAAC1hB,OAAf,CAAuB4hB,MAAvB,IAAiC,CAAC,CAApE,EAAuE;AACnEtH,UAAAA,OAAO,GAAGsH,MAAM,CAAC3X,WAAP,EAAV;AACAuJ,UAAAA,OAAO,GAAG8G,OAAO,KAAK,YAAZ,GAA2B,OAA3B,GAAqCA,OAAO,KAAK,KAAZ,GAAoB,MAApB,GAA6B,SAA5E;AACAnZ,UAAAA,CAAC,GAAG,KAAKtH,IAAL,CAAUygB,OAAV,IAAqBA,OAAO,CAACrP,KAAR,CAAc,KAAd,EAAqB,CAArB,CAArB,GAA+C,EAAnD;AACAjV,UAAAA,IAAI,GAAGyrB,YAAY,CAAC,UAAUtgB,CAAC,GAAG,GAAH,GAASmZ,OAApB,CAAD,CAAZ,GAA6CnZ,CAApD;AACArI,UAAAA,SAAS,GAAG,EAAZ;AACA+oB,UAAAA,KAAK,GAAG,EAAR;AACH,SAPD,MAOO;AACHvH,UAAAA,OAAO,GAAGsH,MAAM,CAACniB,GAAP,CAAWwK,WAAX,EAAV;AACAuJ,UAAAA,OAAO,GAAGoO,MAAM,CAACpO,OAAjB;AACAxd,UAAAA,IAAI,GAAG4rB,MAAM,CAAC5rB,IAAP,IAAeskB,OAAtB;AACAxhB,UAAAA,SAAS,GAAG8oB,MAAM,CAACE,KAAnB;AACAD,UAAAA,KAAK,GAAG/oB,SAAS,GAAG,aAAaA,SAAb,GAAyB,GAA5B,GAAkC,EAAnD;AACH;;AAEDoK,QAAAA,IAAI,IAAI,SACJ,0DADI,GACyDsQ,OADzD,GACmE,gBADnE,GACsF8G,OADtF,GACgG,gBADhG,GACmHxhB,SADnH,GAC+H,WAD/H,GAC6I9C,IAD7I,GACoJ,IADpJ,GAEA,GAFA,GAEMskB,OAFN,GAEgBuH,KAFhB,GAEwB,GAFxB,GAE8B7rB,IAF9B,GAEqC,IAFrC,GAE4CskB,OAF5C,GAEsD,GAFtD,GAGJ,gBAHJ;AAIH;;AACDpX,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KAhE0D;;AAkE1D;;;AAGDkS,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,UAAIqoB,WAAW,GAAG,KAAKjmB,IAAL,CAAU8F,OAAV,CAAkBI,OAApC;AACA,YAAMlI,MAAM,GAAG,KAAKvB,OAAL,CAAa8oB,WAAb,CAAyBzB,UAAxC;AACA,YAAMK,OAAO,GAAG,KAAK1nB,OAAL,CAAa8oB,WAAb,CAAyBxB,aAAzC;;AAEA,UAAI,CAACnmB,OAAL,EAAc;AACV,aAAKd,IAAL,CAAUqZ,SAAV,CAAoBnY,MAApB,EAA4BioB,WAA5B;AACA,aAAKnpB,IAAL,CAAUqZ,SAAV,CAAoBgO,OAApB,EAA6B8B,WAA7B;AACH,OAHD,MAGO,IAAI,KAAKnpB,IAAL,CAAUyiB,eAAV,CAA0B3hB,OAA1B,CAAJ,EAAwC;AAC3C,cAAMsoB,aAAa,GAAG,KAAKzpB,OAAL,CAAa8oB,WAAnC;AACA,cAAMM,UAAU,GAAGK,aAAa,CAACV,WAAjC;AACA,cAAMzhB,QAAQ,GAAGnG,OAAO,CAACmG,QAAR,CAAiBoK,WAAjB,EAAjB;AACA,cAAMnR,SAAS,GAAG,CAACY,OAAO,CAACZ,SAAR,CAAkBmS,KAAlB,CAAwB,4BAAxB,KAAyD,CAAC,EAAD,CAA1D,EAAgE,CAAhE,EAAmEkP,IAAnE,EAAlB;;AAEA,aAAK,IAAIzkB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqjB,UAAU,CAAC3kB,MAA5B,EAAoCilB,CAAzC,EAA4CvsB,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtDusB,UAAAA,CAAC,GAAGN,UAAU,CAACjsB,CAAD,CAAd;;AACA,cAAImK,QAAQ,KAAKoiB,CAAC,CAACjoB,YAAF,CAAe,YAAf,CAAb,IAA6ClB,SAAS,KAAKmpB,CAAC,CAACjoB,YAAF,CAAe,YAAf,CAA/D,EAA6F;AACzF+nB,YAAAA,WAAW,GAAGE,CAAC,CAAChd,KAAhB;AACA;AACH;AACJ;;AAED,aAAKrM,IAAL,CAAUqZ,SAAV,CAAoBnY,MAApB,EAA4BioB,WAA5B;AACA,aAAKnpB,IAAL,CAAUqZ,SAAV,CAAoBgO,OAApB,EAA6B8B,WAA7B;AACAjoB,QAAAA,MAAM,CAAC2B,YAAP,CAAoB,YAApB,EAAkCoE,QAAlC;AACA/F,QAAAA,MAAM,CAAC2B,YAAP,CAAoB,YAApB,EAAkC3C,SAAlC;AAEA,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KApG0D;;AAsG1D;;;AAGDgC,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMknB,aAAa,GAAG,KAAKzpB,OAAL,CAAa8oB,WAAnC;AACA,YAAMM,UAAU,GAAGK,aAAa,CAACV,WAAjC;AACA,YAAMxnB,MAAM,GAAGkoB,aAAa,CAACpC,UAA7B;AACA,YAAM2B,aAAa,GAAG,CAACznB,MAAM,CAACE,YAAP,CAAoB,YAApB,KAAqC,EAAtC,KAA6CF,MAAM,CAACE,YAAP,CAAoB,YAApB,KAAqC,EAAlF,CAAtB;;AAEA,UAAIunB,aAAa,KAAKS,aAAa,CAACT,aAApC,EAAmD;AAC/C,aAAK,IAAI7rB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqjB,UAAU,CAAC3kB,MAA5B,EAAoCilB,CAAzC,EAA4CvsB,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtDusB,UAAAA,CAAC,GAAGN,UAAU,CAACjsB,CAAD,CAAd;;AACA,cAAI6rB,aAAa,KAAKU,CAAC,CAACjoB,YAAF,CAAe,YAAf,IAA+BioB,CAAC,CAACjoB,YAAF,CAAe,YAAf,CAArD,EAAmF;AAC/E,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmB+X,CAAnB,EAAsB,QAAtB;AACH,WAFD,MAEO;AACH,iBAAKrpB,IAAL,CAAUuR,WAAV,CAAsB8X,CAAtB,EAAyB,QAAzB;AACH;AACJ;;AAEDD,QAAAA,aAAa,CAACT,aAAd,GAA8BA,aAA9B;AACH;AACJ,KA3H0D;AA6H3DC,IAAAA,MAAM,EAAE,UAAU5nB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAI0Z,OAAO,GAAG,IAAd;AAAA,UAAoB9c,KAAK,GAAG,IAA5B;AAAA,UAAkC+I,GAAG,GAAG,IAAxC;AAAA,UAA8C3G,SAAS,GAAG,EAA1D;;AAEA,aAAO,CAAC0a,OAAD,IAAY,CAAC,MAAM3Z,IAAN,CAAWC,MAAM,CAACwgB,OAAlB,CAApB,EAAgD;AAC5C9G,QAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACAtD,QAAAA,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAR;AACAlB,QAAAA,SAAS,GAAGgB,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAZ;;AACA,YAAIwZ,OAAJ,EAAa;AACT/T,UAAAA,GAAG,GAAG3F,MAAM,CAACooB,UAAb;AACA;AACH;;AACDpoB,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAAC2I,OAAL,EAAc,OAlBG,CAoBjB;;AACA,UAAIA,OAAO,KAAK,OAAhB,EAAyB;AACrB,cAAM2O,YAAY,GAAG1iB,GAAG,CAACkgB,SAAJ,CAAc,KAAd,CAArB;AACA,aAAKD,uBAAL,CAA6ByC,YAA7B;AACH,OAHD,CAIA;AAJA,WAKK;AACD,cAAIC,KAAK,GAAG,KAAKC,QAAL,EAAZ;AACA,cAAI7G,eAAe,GAAG,KAAK8G,gCAAL,CAAsC,KAAtC,CAAtB;;AAEA,cAAI9G,eAAe,CAACxe,MAAhB,KAA2B,CAA/B,EAAkC;AAC9BolB,YAAAA,KAAK,GAAG,KAAKG,gBAAL,CAAsBH,KAAtB,CAAR;AACA5G,YAAAA,eAAe,GAAG,KAAK8G,gCAAL,CAAsC,KAAtC,CAAlB;AACA,gBAAI9G,eAAe,CAACxe,MAAhB,KAA2B,CAA/B,EAAkC;AACrC;;AAED,gBAAMwlB,WAAW,GAAGJ,KAAK,CAACI,WAA1B;AACA,gBAAMC,SAAS,GAAGL,KAAK,CAACK,SAAxB;AAEA,gBAAM7pB,IAAI,GAAG,KAAKA,IAAlB;AACA,cAAI8pB,KAAK,GAAGlH,eAAe,CAAC,CAAD,CAA3B;AACA,cAAImH,IAAI,GAAGnH,eAAe,CAACA,eAAe,CAACxe,MAAhB,GAAyB,CAA1B,CAA1B;AACA,gBAAM4lB,SAAS,GAAGhqB,IAAI,CAACiqB,WAAL,CAAiBT,KAAK,CAACU,cAAvB,EAAuCJ,KAAvC,EAA8C,IAA9C,EAAoD,IAApD,CAAlB;AACA,gBAAMK,QAAQ,GAAGnqB,IAAI,CAACiqB,WAAL,CAAiBT,KAAK,CAACY,YAAvB,EAAqCL,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,CAAjB,CAjBC,CAmBD;;AACA,gBAAMM,KAAK,GAAG,KAAKC,UAAL,CAAgB1H,eAAhB,EAAiC,KAAjC,CAAd;AACA,cAAIyH,KAAK,CAACE,EAAV,EAAcT,KAAK,GAAGO,KAAK,CAACE,EAAd;AACd,cAAIF,KAAK,CAACG,EAAV,EAAcT,IAAI,GAAGM,KAAK,CAACG,EAAb,CAtBb,CAwBD;;AACA,eAAKtO,QAAL,CAAclc,IAAI,CAACyqB,eAAL,CAAqBT,SAArB,EAAgCF,KAAhC,CAAd,EAAsDF,WAAtD,EAAmE5pB,IAAI,CAACyqB,eAAL,CAAqBN,QAArB,EAA+BJ,IAA/B,CAAnE,EAAyGF,SAAzG;AACA,gBAAMa,eAAe,GAAG,KAAKhB,gCAAL,CAAsC,KAAtC,CAAxB,CA1BC,CA4BD;;AACA,cAAI9O,OAAO,KAAK,MAAhB,EAAwB;AACpB,kBAAMlV,GAAG,GAAGglB,eAAe,CAACtmB,MAAhB,GAAyB,CAArC;AACA,gBAAI6N,UAAU,GAAGyY,eAAe,CAAChlB,GAAD,CAAf,CAAqBuM,UAAtC;AACA,gBAAI0Y,WAAW,GAAG9jB,GAAG,CAACkgB,SAAJ,CAAc,KAAd,CAAlB;AACA,kBAAM9kB,YAAY,GAAG0oB,WAArB;;AAEA,iBAAK,IAAI7tB,CAAC,GAAG4I,GAAR,EAAa2jB,CAAb,EAAgBuB,IAAhB,EAAsBC,MAAtB,EAA8BC,IAA9B,EAAoCC,KAApC,EAA2CC,MAA3C,EAAmDlB,KAAK,GAAG,IAAhE,EAAsEhtB,CAAC,IAAI,CAA3E,EAA8EA,CAAC,EAA/E,EAAmF;AAC/EusB,cAAAA,CAAC,GAAGqB,eAAe,CAAC5tB,CAAD,CAAnB;AACA,kBAAIusB,CAAC,MAAM,CAACqB,eAAe,CAAC5tB,CAAC,GAAG,CAAL,CAAhB,GAA0B,IAA1B,GAAiC4tB,eAAe,CAAC5tB,CAAC,GAAG,CAAL,CAAf,CAAuBmV,UAA9D,CAAL,EAAgF;AAEhF+Y,cAAAA,MAAM,GAAGhrB,IAAI,CAACkZ,WAAL,CAAiBmQ,CAAjB,CAAT;AACAuB,cAAAA,IAAI,GAAGI,MAAM,GAAG,EAAH,GAAQ3B,CAAC,CAACpmB,SAAF,CAAYuU,OAAZ,CAAoB,mBAApB,EAAyC,GAAzC,CAArB;AACAqT,cAAAA,MAAM,GAAG7qB,IAAI,CAAC8G,gBAAL,CAAsBuiB,CAAtB,EAAyB,UAAUpN,OAAV,EAAmB;AACjD,uBAAOA,OAAO,CAAChK,UAAR,KAAuBA,UAA9B;AACH,eAFQ,CAAT;;AAIA,kBAAIA,UAAU,KAAKoX,CAAC,CAACpX,UAAjB,IAA+B+Y,MAAnC,EAA2C;AACvC,oBAAIhrB,IAAI,CAACyiB,eAAL,CAAqBxQ,UAArB,CAAJ,EAAsC;AAClCA,kBAAAA,UAAU,CAACA,UAAX,CAAsBqT,YAAtB,CAAmCqF,WAAnC,EAAgD1Y,UAAU,CAACsT,WAA3D;AACAtT,kBAAAA,UAAU,GAAGA,UAAU,CAACA,UAAxB;AACH,iBAHD,MAGO;AACHA,kBAAAA,UAAU,CAACqT,YAAX,CAAwBqF,WAAxB,EAAqCE,MAAM,GAAGA,MAAM,CAACtF,WAAV,GAAwB,IAAnE;AACAtT,kBAAAA,UAAU,GAAGoX,CAAC,CAACpX,UAAf;AACH;;AAED6Y,gBAAAA,IAAI,GAAGH,WAAW,CAACpF,WAAnB;;AACA,oBAAIuF,IAAI,IAAIH,WAAW,CAAC1jB,QAAZ,KAAyB6jB,IAAI,CAAC7jB,QAAtC,IAAkDjH,IAAI,CAACirB,gBAAL,CAAsBN,WAAtB,EAAmCG,IAAnC,CAAtD,EAAgG;AAC5FH,kBAAAA,WAAW,CAAC1nB,SAAZ,IAAyB,SAAS6nB,IAAI,CAAC7nB,SAAvC;AACAjD,kBAAAA,IAAI,CAAC8S,UAAL,CAAgBgY,IAAhB;AACH;;AAEDH,gBAAAA,WAAW,GAAG9jB,GAAG,CAACkgB,SAAJ,CAAc,KAAd,CAAd;AACA+C,gBAAAA,KAAK,GAAG,IAAR;AACH;;AAEDiB,cAAAA,KAAK,GAAGJ,WAAW,CAAC1nB,SAApB;AACA0nB,cAAAA,WAAW,CAAC1nB,SAAZ,GAAwB,CAAE6mB,KAAK,IAAI,CAACc,IAAV,IAAkB,CAACG,KAAnB,IAA4B,SAAS9pB,IAAT,CAAc2pB,IAAd,CAA7B,GAAoDA,IAApD,GAA2DA,IAAI,GAAG,MAAnE,IAA6EG,KAArG;;AAEA,kBAAIjuB,CAAC,KAAK,CAAV,EAAa;AACTmV,gBAAAA,UAAU,CAACqT,YAAX,CAAwBqF,WAAxB,EAAqCtB,CAArC;AACAyB,gBAAAA,IAAI,GAAGzB,CAAC,CAAC9D,WAAT;;AACA,oBAAIuF,IAAI,IAAIH,WAAW,CAAC1jB,QAAZ,KAAyB6jB,IAAI,CAAC7jB,QAAtC,IAAkDjH,IAAI,CAACirB,gBAAL,CAAsBN,WAAtB,EAAmCG,IAAnC,CAAtD,EAAgG;AAC5FH,kBAAAA,WAAW,CAAC1nB,SAAZ,IAAyB,SAAS6nB,IAAI,CAAC7nB,SAAvC;AACAjD,kBAAAA,IAAI,CAAC8S,UAAL,CAAgBgY,IAAhB;AACH;;AAED,sBAAMI,IAAI,GAAGP,WAAW,CAACQ,eAAzB;;AACA,oBAAID,IAAI,IAAIP,WAAW,CAAC1jB,QAAZ,KAAyBikB,IAAI,CAACjkB,QAAtC,IAAkDjH,IAAI,CAACirB,gBAAL,CAAsBN,WAAtB,EAAmCO,IAAnC,CAAtD,EAAgG;AAC5FA,kBAAAA,IAAI,CAACjoB,SAAL,IAAkB,SAAS0nB,WAAW,CAAC1nB,SAAvC;AACAjD,kBAAAA,IAAI,CAAC8S,UAAL,CAAgB6X,WAAhB;AACH;AACJ;;AAED,kBAAI,CAACK,MAAL,EAAahrB,IAAI,CAAC8S,UAAL,CAAgBuW,CAAhB;AACb,kBAAI,CAAC,CAACuB,IAAN,EAAYd,KAAK,GAAG,KAAR;AACf;;AAED,iBAAK5N,QAAL,CAAcja,YAAd,EAA4B,CAA5B,EAA+BA,YAA/B,EAA6C,CAA7C;AACH,WA1DD,CA2DA;AA3DA,eA4DK;AACD,mBAAK,IAAInF,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGglB,eAAe,CAACtmB,MAAjC,EAAyC4M,IAAzC,EAA+Coa,SAApD,EAA+DtuB,CAAC,GAAG4I,GAAnE,EAAwE5I,CAAC,EAAzE,EAA6E;AACzEkU,gBAAAA,IAAI,GAAG0Z,eAAe,CAAC5tB,CAAD,CAAtB;;AAEA,oBAAI,CAACkU,IAAI,CAAC/J,QAAL,CAAcoK,WAAd,OAAgCvT,KAAK,CAACuT,WAAN,EAAhC,IAAuD,CAACL,IAAI,CAAC9Q,SAAL,CAAemS,KAAf,CAAqB,4BAArB,KAAsD,CAAC,EAAD,CAAvD,EAA6D,CAA7D,EAAgEkP,IAAhE,OAA2ErhB,SAAnI,KAAiJ,CAACF,IAAI,CAACkZ,WAAL,CAAiBlI,IAAjB,CAAtJ,EAA8K;AAC1Koa,kBAAAA,SAAS,GAAGvkB,GAAG,CAACkgB,SAAJ,CAAc,KAAd,CAAZ;AACA/mB,kBAAAA,IAAI,CAACqrB,oBAAL,CAA0BD,SAA1B,EAAqCpa,IAArC;AACAoa,kBAAAA,SAAS,CAACnoB,SAAV,GAAsB+N,IAAI,CAAC/N,SAA3B;AAEA+N,kBAAAA,IAAI,CAACiB,UAAL,CAAgBwT,YAAhB,CAA6B2F,SAA7B,EAAwCpa,IAAxC;AACH;;AAED,oBAAIlU,CAAC,KAAK,CAAV,EAAagtB,KAAK,GAAGsB,SAAS,IAAIpa,IAArB;AACb,oBAAIlU,CAAC,KAAK4I,GAAG,GAAG,CAAhB,EAAmBqkB,IAAI,GAAGqB,SAAS,IAAIpa,IAApB;AACnBoa,gBAAAA,SAAS,GAAG,IAAZ;AACH;;AAED,mBAAKlP,QAAL,CAAclc,IAAI,CAACyqB,eAAL,CAAqBT,SAArB,EAAgCF,KAAhC,CAAd,EAAsDF,WAAtD,EAAmE5pB,IAAI,CAACyqB,eAAL,CAAqBN,QAArB,EAA+BJ,IAA/B,CAAnE,EAAyGF,SAAzG;AACH,aA3GA,CA6GD;;;AACA,eAAKvN,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;;AAED,WAAK8b,UAAL;AACH;AAzQ0D,GAAlC;AA6Q7B;AAAO,CAr8GG;AAs8GV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAI6X,iDAAiD,GAAG/qB,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;;;;;;AAWA;;;AAA6BkT,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,aADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC3Y,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACwE,iDAAiD;AAAC;AAAc,SAAf,CAAlD,CAAf;AAEA,YAAMhoB,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACmK,WAAR,GAAsB;AAClB8d,QAAAA,SAAS,EAAE,IADO;AAElBC,QAAAA,UAAU,EAAE,IAFM;AAGlBnX,QAAAA,SAAS,EAAE;AAHO,OAAtB;AAMA;;AACA,UAAIJ,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACAC,MAAAA,OAAO,CAACmK,WAAR,CAAoB+d,UAApB,GAAiCvX,OAAO,CAAC6D,aAAR,CAAsB,yBAAtB,CAAjC;AAEA;;AACAxU,MAAAA,OAAO,CAACmK,WAAR,CAAoB+d,UAApB,CAA+BlnB,gBAA/B,CAAgD,OAAhD,EAAyD,KAAKmnB,aAAL,CAAmBzpB,IAAnB,CAAwBqB,IAAxB,CAAzD;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,0BAAtB,EAAkDxT,gBAAlD,CAAmE,OAAnE,EAA4E,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAA5E;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,0BAAtB,EAAkDxT,gBAAlD,CAAmE,OAAnE,EAA4E,KAAKoN,MAAL,CAAY1P,IAAZ,CAAiBqB,IAAjB,CAA5E;AACA4Q,MAAAA,OAAO,CAAC3P,gBAAR,CAAyB,OAAzB,EAAkC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAlC;AAEAC,MAAAA,OAAO,CAACmK,WAAR,CAAoB4G,SAApB,GAAgCJ,OAAO,CAACqE,gBAAR,CAAyB,WAAzB,CAAhC;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KA9B0D;AAgC3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAM2F,SAAS,GAAG,KAAKpoB,OAAL,CAAaoQ,WAAb,CAAyBC,aAA3C;AACA,YAAMM,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,0BAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB8kB,SAApB;AAEA,aAAOzX,OAAP;AACH,KAxC0D;;AA0C1D;;;AAGDpO,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAM8lB,aAAa,GAAG,KAAKroB,OAAL,CAAaoQ,WAAnC;AACA,YAAMub,kBAAkB,GAAG,KAAK3rB,OAAL,CAAamK,WAAxC;AAEAke,MAAAA,aAAa,CAAC/X,WAAd,GAA4Bqb,kBAAkB,CAACzD,UAA/C;AACAG,MAAAA,aAAa,CAAC9X,aAAd,GAA8B,SAA9B;AACA8X,MAAAA,aAAa,CAAC7X,cAAd,GAA+B,iBAA/B;AACA6X,MAAAA,aAAa,CAAC3X,UAAd,GAA2Bib,kBAAkB,CAAC5a,SAA9C;AAEA,WAAKrP,OAAL,CAAa0O,WAAb,CAAyB3N,IAAzB,CAA8BpF,IAA9B,CAAmC,IAAnC,EAAyC,KAAK4pB,gBAAL,EAAzC,EAAkE,IAAlE;AACH,KAvD0D;;AAyD1D;;;AAGDkB,IAAAA,aAAa,EAAE,UAAU9mB,CAAV,EAAa;AACxB,WAAKK,OAAL,CAAa0O,WAAb,CAAyB2B,eAAzB,CAAyC1U,IAAzC,CAA8C,IAA9C,EAAoDgE,CAAC,CAACE,MAAF,CAASpD,KAA7D;AACH,KA9D0D;AAgE3D+lB,IAAAA,MAAM,EAAE,YAAY;AAChB,WAAKxiB,OAAL,CAAayI,WAAb,CAAyBoe,UAAzB,CAAoClrB,IAApC,CAAyC,IAAzC,EAA+C,KAAK2C,OAAL,CAAaoQ,WAAb,CAAyBK,aAAxE;AACH,KAlE0D;AAoE3DkS,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,WAAKE,OAAL,CAAayI,WAAb,CAAyBoe,UAAzB,CAAoClrB,IAApC,CAAyC,IAAzC,EAA+CgE,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,CAA/C;AACH,KAzE0D;AA2E3D2M,IAAAA,MAAM,EAAE,YAAY;AAChB,WAAK2Z,UAAL,CAAgB,IAAhB,EAAsB,CAAC,kBAAD,CAAtB,EAA4C,CAAC,MAAD,CAA5C,EAAsD,IAAtD;AACA,WAAK1E,UAAL;AACH,KA9E0D;AAgF3DkF,IAAAA,UAAU,EAAE,UAAUtX,KAAV,EAAiB;AACzB,UAAI,CAACA,KAAL,EAAY;AAEZ,YAAM6W,OAAO,GAAG,KAAKznB,IAAL,CAAUC,aAAV,CAAwB,MAAxB,CAAhB;AACAwnB,MAAAA,OAAO,CAACrnB,KAAR,CAAcmrB,eAAd,GAAgC3a,KAAhC;AACA,WAAK8W,UAAL,CAAgBD,OAAhB,EAAyB,CAAC,kBAAD,CAAzB,EAA+C,IAA/C,EAAqD,IAArD;AAEA,WAAKzE,UAAL;AACH;AAxF0D,GAAlC;AA4F7B;AAAO,CAnjHG;AAojHV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,gBADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC;AACA,UAAI/H,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AAEA;;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,EAA4BxT,gBAA5B,CAA6C,OAA7C,EAAsD,KAAK6qB,kBAAL,CAAwBntB,IAAxB,CAA6BqB,IAA7B,CAAtD;AAEA;;AACAA,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAf0D;AAiB3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMlf,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMoN,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,uCAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB,KAChB,6BADgB,GAEZ,4BAFY,GAGR,MAHQ,GAIJ,6GAJI,GAI4GC,IAAI,CAAC8F,OAAL,CAAa0B,QAJzH,GAIoI,IAJpI,GAKA,+HALA,GAMJ,WANI,GAOR,OAPQ,GAQR,MARQ,GASJ,8GATI,GAS6GxH,IAAI,CAAC8F,OAAL,CAAa2B,SAT1H,GASsI,IATtI,GAUA,gIAVA,GAWJ,WAXI,GAYR,OAZQ,GAaR,MAbQ,GAcJ,8GAdI,GAc6GzH,IAAI,CAAC8F,OAAL,CAAa4B,SAd1H,GAcsI,IAdtI,GAeA,gIAfA,GAgBJ,WAhBI,GAiBR,OAjBQ,GAkBZ,OAlBY,GAmBhB,QAnBJ;AAqBA,aAAO0F,OAAP;AACH,KA5C0D;AA8C3Dmb,IAAAA,QAAQ,EAAE,UAAUvrB,SAAV,EAAqB;AAC3B,YAAMwrB,GAAG,GAAG,KAAK1rB,IAAL,CAAUC,aAAV,CAAwB,IAAxB,CAAZ;AACAyrB,MAAAA,GAAG,CAACxrB,SAAJ,GAAgBA,SAAhB;AACA,WAAKiC,KAAL;AACA,aAAO,KAAKwpB,eAAL,CAAqBD,GAArB,EAA0B,KAA1B,EAAiC,IAAjC,EAAuC,KAAvC,CAAP;AACH,KAnD0D;AAqD3DF,IAAAA,kBAAkB,EAAE,UAAUxqB,CAAV,EAAa;AAC7BA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAIpD,KAAK,GAAG,IAAZ;;AAEA,aAAO,CAACA,KAAD,IAAU,CAAC,MAAMmD,IAAN,CAAWC,MAAM,CAACwgB,OAAlB,CAAlB,EAA8C;AAC1C5jB,QAAAA,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAR;AACAF,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAACnU,KAAL,EAAY;AAEZ,YAAM8tB,KAAK,GAAG,KAAKvqB,OAAL,CAAaoJ,cAAb,CAA4BghB,QAA5B,CAAqCzuB,IAArC,CAA0C,IAA1C,EAAgD,WAAWc,KAA3D,CAAd;;AACA,UAAI8tB,KAAJ,EAAW;AACP,aAAK1P,QAAL,CAAc0P,KAAd,EAAqB,CAArB,EAAwBA,KAAxB,EAA+B,CAA/B;AACA,aAAK5I,UAAL;AACH;AACJ;AAxE0D,GAAlC;AA4E7B;AAAO,CA9oHG;AA+oHV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,YADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACqM,UAAR,GAAqB;AACjBmc,QAAAA,SAAS,EAAE,IADM;AAEjBC,QAAAA,WAAW,EAAE,CAAC;AAFG,OAArB;AAKA;;AACA,UAAI9X,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAI2iB,MAAM,GAAG/R,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,CAAb;AAEA;;AACAkO,MAAAA,MAAM,CAAC1hB,gBAAP,CAAwB,OAAxB,EAAiC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAjC;AAEAC,MAAAA,OAAO,CAACqM,UAAR,CAAmBmc,SAAnB,GAA+B9F,MAAM,CAAC1N,gBAAP,CAAwB,WAAxB,CAA/B;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV,EAAgB+R,MAAM,GAAG,IAAzB;AACH,KAxB0D;AA0B3DD,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMoN,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,0BAApB;AAEA,YAAMmoB,QAAQ,GAAG,CAACvmB,MAAM,CAAC+pB,WAAR,GAAsB,CACnC;AAACtf,QAAAA,IAAI,EAAE,GAAP;AAAYzO,QAAAA,KAAK,EAAE;AAAnB,OADmC,EAEnC;AAACyO,QAAAA,IAAI,EAAE,MAAP;AAAezO,QAAAA,KAAK,EAAE;AAAtB,OAFmC,EAGnC;AAACyO,QAAAA,IAAI,EAAE,KAAP;AAAczO,QAAAA,KAAK,EAAE;AAArB,OAHmC,EAInC;AAACyO,QAAAA,IAAI,EAAE,GAAP;AAAYzO,QAAAA,KAAK,EAAE;AAAnB,OAJmC,CAAtB,GAKbgE,MAAM,CAAC+pB,WALX;AAOA,UAAIvhB,IAAI,GAAG,gCACH,4BADG,GAEC,qEAFD,GAEyEpH,IAAI,CAAC8F,OAAL,CAAaC,OAFtF,GAEgG,KAFhG,GAEwG/F,IAAI,CAAC8F,OAAL,CAAaC,OAFrH,GAE+H,iBAF1I;;AAGA,WAAK,IAAInM,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2iB,QAAQ,CAACjkB,MAA1B,EAAkCmI,IAAlC,EAAwCzE,IAA7C,EAAmDhL,CAAC,GAAG4I,GAAvD,EAA4D5I,CAAC,EAA7D,EAAiE;AAC7DgL,QAAAA,IAAI,GAAGugB,QAAQ,CAACvrB,CAAD,CAAf;AACAwN,QAAAA,IAAI,IAAI,+DAA+DxC,IAAI,CAAChK,KAApE,GAA4E,WAA5E,GAA0FgK,IAAI,CAACyE,IAA/F,GAAsG,IAAtG,GAA6GzE,IAAI,CAACyE,IAAlH,GAAyH,gBAAjI;AACH;;AACDjC,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KApD0D;;AAsD1D;;;AAGDpO,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAM4pB,iBAAiB,GAAG,KAAKnsB,OAAL,CAAaqM,UAAvC;AACA,YAAMqc,QAAQ,GAAGyD,iBAAiB,CAAC3D,SAAnC;AACA,YAAMa,MAAM,GAAG,KAAKhpB,IAAL,CAAU+rB,gBAAV,CAA2B,KAAKnF,gBAAL,EAA3B,CAAf;AACA,YAAMwB,WAAW,GAAG,CAACY,MAAD,GAAU,EAAV,GAAeA,MAAM,CAAC5oB,KAAP,CAAa4L,UAAb,GAA0B,EAA7D;;AAEA,UAAIoc,WAAW,KAAK0D,iBAAiB,CAAC1D,WAAtC,EAAmD;AAC/C,aAAK,IAAItrB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2iB,QAAQ,CAACjkB,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,cAAIsrB,WAAW,KAAKC,QAAQ,CAACvrB,CAAD,CAAR,CAAYsE,YAAZ,CAAyB,YAAzB,CAApB,EAA4D;AACxD,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmB+W,QAAQ,CAACvrB,CAAD,CAA3B,EAAgC,QAAhC;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsB8W,QAAQ,CAACvrB,CAAD,CAA9B,EAAmC,QAAnC;AACH;AACJ;;AAEDgvB,QAAAA,iBAAiB,CAAC1D,WAAlB,GAAgCA,WAAhC;AACH;AACJ,KA1E0D;AA4E3D9F,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjB,UAAI,CAAC,YAAYC,IAAZ,CAAiBD,CAAC,CAACE,MAAF,CAASwgB,OAA1B,CAAL,EAAyC,OAAO,KAAP;AAEzC1gB,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMrD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,KAAuC,EAArD;AACA,YAAMgI,OAAO,GAAG,KAAKyZ,mBAAL,EAAhB;;AAEA,WAAK,IAAI/lB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG0D,OAAO,CAAChF,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChDsM,QAAAA,OAAO,CAACtM,CAAD,CAAP,CAAWsD,KAAX,CAAiB4L,UAAjB,GAA8BlO,KAA9B;AACH;;AAED,WAAKklB,UAAL,GAbiB,CAejB;;AACA,WAAK1G,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AA7F0D,GAAlC;AAiG7B;AAAO,CA9vHG;AA+vHV;;AACA;AAAO,UAAS1K,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,MADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAAC2K,IAAR,GAAe;AACX0X,QAAAA,YAAY,EAAE3J,aADH;AAEX2T,QAAAA,KAAK,EAAE,IAFI;AAGXC,QAAAA,WAAW,EAAE,EAHF;AAIXpb,QAAAA,KAAK,EAAE;AACHqb,UAAAA,OAAO,EAAExsB,IAAI,CAACmR,KAAL,CAAWsb,YADjB;AAEHC,UAAAA,MAAM,EAAE1sB,IAAI,CAACmR,KAAL,CAAWwb;AAFhB;AAJI,OAAf;AAUA;;AACA,UAAI/b,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAI2iB,MAAM,GAAG/R,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,CAAb;AAEA;;AACAkO,MAAAA,MAAM,CAAC1hB,gBAAP,CAAwB,OAAxB,EAAiC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAjC;AACAC,MAAAA,OAAO,CAAC2K,IAAR,CAAa0hB,KAAb,GAAqB3J,MAAM,CAAC1N,gBAAP,CAAwB,WAAxB,CAArB;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV,EAAgB+R,MAAM,GAAG,IAAzB;AACH,KA5B0D;AA8B3DD,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMlf,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMoN,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AAEAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,0BAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB,KAChB,6BADgB,GAEZ,4BAFY,GAGR,oFAHQ,GAG+EC,IAAI,CAAC8F,OAAL,CAAauB,SAH5F,GAGwG,IAHxG,GAIJ,KAAKsG,KAAL,CAAWwb,WAJP,GAKR,gBALQ,GAMR,oFANQ,GAM+EnpB,IAAI,CAAC8F,OAAL,CAAawB,WAN5F,GAM0G,IAN1G,GAOJ,KAAKqG,KAAL,CAAWsb,YAPP,GAQR,gBARQ,GASZ,OATY,GAUhB,QAVJ;AAYA,aAAO7b,OAAP;AACH,KAhD0D;;AAkD1D;;;AAGDkS,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,YAAMwrB,MAAM,GAAG,KAAK3sB,OAAL,CAAa2K,IAAb,CAAkB0X,YAAjC;AACA,YAAMuK,IAAI,GAAGD,MAAM,CAACzS,iBAApB;AACA,YAAM7Z,IAAI,GAAG,KAAKA,IAAlB;;AAEA,UAAI,CAACc,OAAL,EAAc;AACVwrB,QAAAA,MAAM,CAACjlB,eAAP,CAAuB,YAAvB;AACArH,QAAAA,IAAI,CAAC4Z,aAAL,CAAmB2S,IAAnB,EAAyB,KAAK5sB,OAAL,CAAa2K,IAAb,CAAkBuG,KAAlB,CAAwBub,MAAjD;AACApsB,QAAAA,IAAI,CAACuR,WAAL,CAAiB+a,MAAjB,EAAyB,QAAzB;AACH,OAJD,MAIO,IAAItsB,IAAI,CAACwsB,MAAL,CAAY1rB,OAAZ,CAAJ,EAA0B;AAC7B,cAAMmG,QAAQ,GAAGnG,OAAO,CAACmG,QAAzB;AACAqlB,QAAAA,MAAM,CAACzpB,YAAP,CAAoB,YAApB,EAAkCoE,QAAlC;AACAjH,QAAAA,IAAI,CAACsR,QAAL,CAAcgb,MAAd,EAAsB,QAAtB;;AACA,YAAI,MAAMrrB,IAAN,CAAWgG,QAAX,CAAJ,EAA0B;AACtBjH,UAAAA,IAAI,CAAC4Z,aAAL,CAAmB2S,IAAnB,EAAyB,KAAK5sB,OAAL,CAAa2K,IAAb,CAAkBuG,KAAlB,CAAwBqb,OAAjD;AACH,SAFD,MAEO;AACHlsB,UAAAA,IAAI,CAAC4Z,aAAL,CAAmB2S,IAAnB,EAAyB,KAAK5sB,OAAL,CAAa2K,IAAb,CAAkBuG,KAAlB,CAAwBub,MAAjD;AACH;;AAED,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KA5E0D;;AA8E1D;;;AAGDlqB,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMuqB,WAAW,GAAG,KAAK9sB,OAAL,CAAa2K,IAAjC;AACA,YAAMA,IAAI,GAAGmiB,WAAW,CAACT,KAAzB;AACA,YAAMC,WAAW,GAAGQ,WAAW,CAACzK,YAAZ,CAAyB5gB,YAAzB,CAAsC,YAAtC,KAAuD,EAA3E;;AAEA,UAAI6qB,WAAW,KAAKQ,WAAW,CAACR,WAAhC,EAA6C;AACzC,aAAK,IAAInvB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG4E,IAAI,CAAClG,MAA3B,EAAmCtH,CAAC,GAAG4I,GAAvC,EAA4C5I,CAAC,EAA7C,EAAiD;AAC7C,cAAImvB,WAAW,KAAK3hB,IAAI,CAACxN,CAAD,CAAJ,CAAQsE,YAAR,CAAqB,cAArB,CAApB,EAA0D;AACtD,iBAAKpB,IAAL,CAAUsR,QAAV,CAAmBhH,IAAI,CAACxN,CAAD,CAAvB,EAA4B,QAA5B;AACH,WAFD,MAEO;AACH,iBAAKkD,IAAL,CAAUuR,WAAV,CAAsBjH,IAAI,CAACxN,CAAD,CAA1B,EAA+B,QAA/B;AACH;AACJ;;AAED2vB,QAAAA,WAAW,CAACR,WAAZ,GAA0BA,WAA1B;AACH;AACJ,KAjG0D;AAmG3DS,IAAAA,QAAQ,EAAE,UAAU9R,OAAV,EAAmB+R,aAAnB,EAAkCC,MAAlC,EAA0C;AAChD,UAAIpD,KAAK,GAAG,KAAKC,QAAL,EAAZ;AACA,UAAIzE,eAAe,GAAG,CAAC2H,aAAD,GAAiB,KAAKjD,gCAAL,CAAsC,KAAtC,CAAjB,GAAgEiD,aAAtF;;AAEA,UAAI3H,eAAe,CAAC5gB,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,YAAIuoB,aAAJ,EAAmB;AACnBnD,QAAAA,KAAK,GAAG,KAAKG,gBAAL,CAAsBH,KAAtB,CAAR;AACAxE,QAAAA,eAAe,GAAG,KAAK0E,gCAAL,CAAsC,KAAtC,CAAlB;AACA,YAAI1E,eAAe,CAAC5gB,MAAhB,KAA2B,CAA/B,EAAkC;AACrC;;AAED,YAAMpE,IAAI,GAAG,KAAKA,IAAlB;AACAA,MAAAA,IAAI,CAAC6sB,WAAL,CAAiB7H,eAAjB,EAAkC,IAAlC,EAZgD,CAchD;;AACA,UAAI8H,QAAQ,GAAG9H,eAAe,CAAC,CAAD,CAA9B;AACA,UAAI+H,OAAO,GAAG/H,eAAe,CAACA,eAAe,CAAC5gB,MAAhB,GAAyB,CAA1B,CAA7B;AACA,UAAI4oB,KAAK,GAAG,CAAChtB,IAAI,CAACitB,UAAL,CAAgBH,QAAhB,KAA6B9sB,IAAI,CAACkZ,WAAL,CAAiB4T,QAAjB,CAA9B,KAA6D,CAACA,QAAQ,CAACI,sBAAvE,GAAgGJ,QAAQ,CAAC7a,UAAT,CAAoBib,sBAApH,GAA6IJ,QAAQ,CAACI,sBAAlK;AACA,UAAIC,QAAQ,GAAG,CAACntB,IAAI,CAACitB,UAAL,CAAgBF,OAAhB,KAA4B/sB,IAAI,CAACkZ,WAAL,CAAiB6T,OAAjB,CAA7B,KAA2D,CAACA,OAAO,CAACK,kBAApE,GAAyFL,OAAO,CAAC9a,UAAR,CAAmBmb,kBAA5G,GAAiIL,OAAO,CAACK,kBAAxJ;AAEA,YAAMC,WAAW,GAAG;AAChB9C,QAAAA,EAAE,EAAEf,KAAK,CAACU,cADM;AAEhBoD,QAAAA,EAAE,EAAE9D,KAAK,CAACI,WAFM;AAGhBY,QAAAA,EAAE,EAAEhB,KAAK,CAACY,YAHM;AAIhBmD,QAAAA,EAAE,EAAE/D,KAAK,CAACK;AAJM,OAApB;AAOA,UAAI2D,QAAQ,GAAG,IAAf;;AAEA,WAAK,IAAI1wB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAtC,EAA8CtH,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxD,YAAI,CAACkD,IAAI,CAACwsB,MAAL,CAAYxsB,IAAI,CAACytB,qBAAL,CAA2BzI,eAAe,CAACloB,CAAD,CAA1C,EAA+C,UAAUmf,OAAV,EAAmB;AAC/E,iBAAO,KAAKwR,qBAAL,CAA2BxR,OAA3B,KAAuCA,OAAO,KAAK+I,eAAe,CAACloB,CAAD,CAAzE;AACH,SAF+D,CAE9DuB,IAF8D,CAEzD2B,IAFyD,CAA/C,CAAZ,CAAL,EAEgB;AACZwtB,UAAAA,QAAQ,GAAG,KAAX;AACA;AACH;AACJ;;AAED,UAAIA,QAAQ,KAAK,CAACR,KAAD,IAAWF,QAAQ,CAACpL,OAAT,KAAqBsL,KAAK,CAACtL,OAA3B,IAAsC9G,OAAO,KAAKoS,KAAK,CAACtL,OAAN,CAAcgM,WAAd,EAAlE,CAAR,KAA4G,CAACP,QAAD,IAAcJ,OAAO,CAACrL,OAAR,KAAoByL,QAAQ,CAACzL,OAA7B,IAAwC9G,OAAO,KAAKuS,QAAQ,CAACzL,OAAT,CAAiBgM,WAAjB,EAA9K,CAAJ,EAAoN;AAChN,YAAId,MAAJ,EAAY;AACR,eAAK,IAAI9vB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAtC,EAA8CtH,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxD,iBAAK,IAAI6wB,CAAC,GAAG7wB,CAAC,GAAG,CAAjB,EAAoB6wB,CAAC,IAAI,CAAzB,EAA4BA,CAAC,EAA7B,EAAiC;AAC7B,kBAAI3I,eAAe,CAAC2I,CAAD,CAAf,CAAmBC,QAAnB,CAA4B5I,eAAe,CAACloB,CAAD,CAA3C,CAAJ,EAAqD;AACjDkoB,gBAAAA,eAAe,CAACzd,MAAhB,CAAuBzK,CAAvB,EAA0B,CAA1B;AACAA,gBAAAA,CAAC;AAAI4I,gBAAAA,GAAG;AACR;AACH;AACJ;AACJ;AACJ;;AAED,cAAMijB,aAAa,GAAG3oB,IAAI,CAACytB,qBAAL,CAA2BX,QAA3B,CAAtB;AACA,cAAMhN,MAAM,GAAG6I,aAAa,IAAIA,aAAa,CAACjH,OAAd,KAA0B9G,OAA1D;AACA,YAAIiT,QAAJ,EAAcC,QAAd;;AACA,cAAMC,aAAa,GAAG,UAAU9R,OAAV,EAAmB;AACrC,iBAAO,CAAC,KAAK/C,WAAL,CAAiB+C,OAAjB,CAAR;AACH,SAFqB,CAEpB5d,IAFoB,CAEf2B,IAFe,CAAtB;;AAIA,YAAI,CAAC8f,MAAL,EAAagO,QAAQ,GAAG9tB,IAAI,CAACC,aAAL,CAAmB2a,OAAnB,CAAX;;AAEb,aAAK,IAAI9d,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAjC,EAAyCzG,CAAzC,EAA4CL,CAAjD,EAAoDR,CAAC,GAAG4I,GAAxD,EAA6D5I,CAAC,EAA9D,EAAkE;AAC9DQ,UAAAA,CAAC,GAAG0C,IAAI,CAACytB,qBAAL,CAA2BzI,eAAe,CAACloB,CAAD,CAA1C,EAA+CixB,aAA/C,CAAJ;AACA,cAAI,CAACzwB,CAAD,IAAM,CAAC0C,IAAI,CAACwsB,MAAL,CAAYlvB,CAAZ,CAAX,EAA2B;;AAE3B,cAAI,CAACK,CAAL,EAAQ;AACJA,YAAAA,CAAC,GAAGL,CAAJ;AACAuwB,YAAAA,QAAQ,GAAG;AAAClwB,cAAAA,CAAC,EAAEA,CAAJ;AAAO0rB,cAAAA,CAAC,EAAE,CAACrpB,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAD;AAAV,aAAX;AACH,WAHD,MAGO;AACH,gBAAIa,CAAC,KAAKL,CAAV,EAAa;AACT,kBAAIsvB,MAAM,IAAI5sB,IAAI,CAACitB,UAAL,CAAgB3vB,CAAC,CAAC2U,UAAlB,CAAd,EAA6C;AACzC,qBAAK5Q,OAAL,CAAaiJ,IAAb,CAAkB0jB,aAAlB,CAAgChxB,IAAhC,CAAqC,IAArC,EAA2C6wB,QAAQ,CAACxE,CAApD;AACH,eAFD,MAEO;AACH,qBAAKxC,wBAAL,CAA8BgH,QAAQ,CAACxE,CAAT,CAAW,CAAX,EAAcpX,UAA5C,EAAwD4b,QAAQ,CAACxE,CAAjE,EAAoEyE,QAApE,EAA8E,KAA9E,EAAqF,IAArF;AACH;;AAEDxwB,cAAAA,CAAC,GAAG0nB,eAAe,CAACloB,CAAD,CAAf,CAAmBmV,UAAvB;AACA,kBAAI,CAAC6N,MAAL,EAAagO,QAAQ,GAAG9tB,IAAI,CAACC,aAAL,CAAmB2a,OAAnB,CAAX;AAEbjd,cAAAA,CAAC,GAAGL,CAAJ;AACAuwB,cAAAA,QAAQ,GAAG;AAAClwB,gBAAAA,CAAC,EAAEA,CAAJ;AAAO0rB,gBAAAA,CAAC,EAAE,CAACrpB,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAD;AAAV,eAAX;AACH,aAZD,MAYO;AACH+wB,cAAAA,QAAQ,CAACxE,CAAT,CAAWniB,IAAX,CAAgBlH,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAhB;AACH;AACJ;;AAED,cAAIA,CAAC,KAAK4I,GAAG,GAAG,CAAhB,EAAmB;AACf,gBAAIknB,MAAM,IAAI5sB,IAAI,CAACitB,UAAL,CAAgB3vB,CAAC,CAAC2U,UAAlB,CAAd,EAA6C;AACzC,mBAAK5Q,OAAL,CAAaiJ,IAAb,CAAkB0jB,aAAlB,CAAgChxB,IAAhC,CAAqC,IAArC,EAA2C6wB,QAAQ,CAACxE,CAApD;AACH,aAFD,MAEO;AACH,mBAAKxC,wBAAL,CAA8BgH,QAAQ,CAACxE,CAAT,CAAW,CAAX,EAAcpX,UAA5C,EAAwD4b,QAAQ,CAACxE,CAAjE,EAAoEyE,QAApE,EAA8E,KAA9E,EAAqF,IAArF;AACH;AACJ;AACJ;AACJ,OAvDD,MAuDO;AACH,cAAMG,WAAW,GAAGjB,KAAK,GAAGA,KAAK,CAAC/a,UAAT,GAAsB+a,KAA/C;AACA,cAAMkB,cAAc,GAAGf,QAAQ,GAAGA,QAAQ,CAAClb,UAAZ,GAAyBkb,QAAxD;AACAH,QAAAA,KAAK,GAAGiB,WAAW,IAAI,CAACjuB,IAAI,CAAC+R,YAAL,CAAkBkc,WAAlB,CAAhB,IAAkDA,WAAW,CAAChnB,QAAZ,KAAyB2T,OAA3E,GAAqFqT,WAArF,GAAmGjB,KAA3G;AACAG,QAAAA,QAAQ,GAAGe,cAAc,IAAI,CAACluB,IAAI,CAAC+R,YAAL,CAAkBmc,cAAlB,CAAnB,IAAwDA,cAAc,CAACjnB,QAAf,KAA4B2T,OAApF,GAA8FsT,cAA9F,GAA+Gf,QAA1H;AAEA,cAAMgB,QAAQ,GAAGnB,KAAK,IAAIA,KAAK,CAACtL,OAAN,KAAkB9G,OAA5C;AACA,cAAMwT,WAAW,GAAGjB,QAAQ,IAAIA,QAAQ,CAACzL,OAAT,KAAqB9G,OAArD;AAEA,YAAItQ,IAAI,GAAG6jB,QAAQ,GAAGnB,KAAH,GAAWhtB,IAAI,CAACC,aAAL,CAAmB2a,OAAnB,CAA9B;AACA,YAAIyT,SAAS,GAAG,IAAhB;AACA,YAAIC,QAAQ,GAAG,IAAf;AACA,YAAIC,SAAS,GAAG,IAAhB;AACA,YAAIC,YAAY,GAAG,IAAnB;;AAEA,cAAMT,aAAa,GAAG,UAAU9R,OAAV,EAAmB;AACrC,iBAAO,CAAC,KAAK/C,WAAL,CAAiB+C,OAAjB,CAAD,IAA8B,CAAC,KAAKuQ,MAAL,CAAYvQ,OAAZ,CAAtC;AACH,SAFqB,CAEpB5d,IAFoB,CAEf2B,IAFe,CAAtB;;AAIA,aAAK,IAAIlD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAjC,EAAyCqqB,OAAzC,EAAkDC,IAAlD,EAAwDC,MAAxD,EAAgE7D,IAAhE,EAAsE8D,YAAtE,EAAoFC,UAApF,EAAgGC,SAAhG,EAA2GC,UAA3G,EAAuHC,QAA5H,EAAsIlyB,CAAC,GAAG4I,GAA1I,EAA+I5I,CAAC,EAAhJ,EAAoJ;AAChJ4xB,UAAAA,IAAI,GAAG1J,eAAe,CAACloB,CAAD,CAAtB;;AACA,cAAI4xB,IAAI,CAACO,UAAL,CAAgB7qB,MAAhB,KAA2B,CAA3B,IAAgC,CAACpE,IAAI,CAACkvB,mBAAL,CAAyBR,IAAzB,CAArC,EAAqE;AACjE1uB,YAAAA,IAAI,CAAC8S,UAAL,CAAgB4b,IAAhB;AACA;AACH;;AACD5D,UAAAA,IAAI,GAAG9F,eAAe,CAACloB,CAAC,GAAG,CAAL,CAAtB;AACA8xB,UAAAA,YAAY,GAAGF,IAAI,CAACzc,UAApB;AACA4c,UAAAA,UAAU,GAAG/D,IAAI,GAAGA,IAAI,CAAC7Y,UAAR,GAAqB,IAAtC;AACA0c,UAAAA,MAAM,GAAG3uB,IAAI,CAACitB,UAAL,CAAgByB,IAAhB,CAAT;AACAM,UAAAA,QAAQ,GAAGhvB,IAAI,CAACmvB,oBAAL,CAA0BP,YAA1B,IAA0CA,YAA1C,GAAyD,IAApE;AACAE,UAAAA,SAAS,GAAGH,MAAM,IAAI,CAAC3uB,IAAI,CAAC+R,YAAL,CAAkB6c,YAAlB,CAAX,GAA6CA,YAAY,CAAC3c,UAA1D,GAAuE2c,YAAnF;AACAG,UAAAA,UAAU,GAAGJ,MAAM,IAAI,CAAC3uB,IAAI,CAAC+R,YAAL,CAAkB6c,YAAlB,CAAX,GAA8C,CAAC9D,IAAD,IAAS9qB,IAAI,CAACitB,UAAL,CAAgB6B,SAAhB,CAAV,GAAwCF,YAAxC,GAAuDA,YAAY,CAACrJ,WAAjH,GAA+HmJ,IAAI,CAACnJ,WAAjJ;AAEAkJ,UAAAA,OAAO,GAAGzuB,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAV;AACAD,UAAAA,IAAI,CAACqrB,oBAAL,CAA0BoD,OAA1B,EAAmCC,IAAnC;;AACA,cAAI1uB,IAAI,CAACkZ,WAAL,CAAiBwV,IAAjB,CAAJ,EAA4B;AACxB,kBAAMU,IAAI,GAAG,QAAQnuB,IAAR,CAAaytB,IAAI,CAACznB,QAAlB,CAAb;AACA,gBAAI,CAACmoB,IAAL,EAAWX,OAAO,CAACxrB,SAAR,GAAoB,MAApB;AACXwrB,YAAAA,OAAO,CAACxrB,SAAR,IAAqByrB,IAAI,CAACW,SAA1B;AACA,gBAAID,IAAJ,EAAUX,OAAO,CAACxrB,SAAR,IAAqB,MAArB;AACb,WALD,MAKO;AACH,kBAAMqsB,SAAS,GAAGZ,IAAI,CAACO,UAAvB;;AACA,mBAAOK,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBb,cAAAA,OAAO,CAACluB,WAAR,CAAoB+uB,SAAS,CAAC,CAAD,CAA7B;AACH;AACJ;;AACDhlB,UAAAA,IAAI,CAAC/J,WAAL,CAAiBkuB,OAAjB;AAEA,cAAI,CAAC3D,IAAL,EAAWwD,QAAQ,GAAGhkB,IAAX;;AACX,cAAI,CAACwgB,IAAD,IAASgE,SAAS,KAAKD,UAAvB,IAAqC7uB,IAAI,CAACmvB,oBAAL,CAA0BJ,UAA1B,CAAzC,EAAgF;AAC5E,gBAAI,CAACV,SAAL,EAAgBA,SAAS,GAAG/jB,IAAZ;;AAChB,gBAAI,CAAC,CAAC6jB,QAAD,IAAa,CAACrD,IAAd,IAAsBgE,SAAS,KAAKD,UAArC,KAAoD,EAAE/D,IAAI,IAAI9qB,IAAI,CAACwsB,MAAL,CAAYqC,UAAZ,CAAR,IAAmCA,UAAU,KAAKD,YAApD,CAAxD,EAA2H;AACvH,kBAAItkB,IAAI,CAAC2H,UAAL,KAAoB6c,SAAxB,EAAmCA,SAAS,CAACxJ,YAAV,CAAuBhb,IAAvB,EAA6BykB,UAA7B;AACtC;AACJ;;AAED/uB,UAAAA,IAAI,CAAC8S,UAAL,CAAgB4b,IAAhB;AACA,cAAIP,QAAQ,IAAII,SAAS,KAAK,IAA9B,EAAoCA,SAAS,GAAGjkB,IAAI,CAACilB,QAAL,CAAcnrB,MAAd,GAAuB,CAAnC;;AACpC,cAAI0mB,IAAI,KAAK9qB,IAAI,CAACytB,qBAAL,CAA2BoB,UAA3B,EAAuCd,aAAvC,MAA0D/tB,IAAI,CAACytB,qBAAL,CAA2BmB,YAA3B,EAAyCb,aAAzC,CAA1D,IAAsH/tB,IAAI,CAACwsB,MAAL,CAAYqC,UAAZ,KAA2B7uB,IAAI,CAACwsB,MAAL,CAAYoC,YAAZ,CAA3B,IAAwD5uB,IAAI,CAACwvB,eAAL,CAAqBX,UAArB,MAAqC7uB,IAAI,CAACwvB,eAAL,CAAqBZ,YAArB,CAAxN,CAAR,EAAsQ;AAClQtkB,YAAAA,IAAI,GAAGtK,IAAI,CAACC,aAAL,CAAmB2a,OAAnB,CAAP;AACH;;AAED,cAAIoU,QAAQ,IAAIA,QAAQ,CAACO,QAAT,CAAkBnrB,MAAlB,KAA6B,CAA7C,EAAgDpE,IAAI,CAAC8S,UAAL,CAAgBkc,QAAhB;AACnD;;AAED,YAAIT,SAAJ,EAAe;AACXF,UAAAA,SAAS,GAAGA,SAAS,CAACkB,QAAV,CAAmBhB,SAAnB,CAAZ;AACH;;AAED,YAAIH,WAAJ,EAAiB;AACbI,UAAAA,YAAY,GAAGlkB,IAAI,CAACilB,QAAL,CAAcnrB,MAAd,GAAuB,CAAtC;AACAkG,UAAAA,IAAI,CAACrH,SAAL,IAAkBkqB,QAAQ,CAAClqB,SAA3B;AACAqrB,UAAAA,QAAQ,GAAGhkB,IAAI,CAACilB,QAAL,CAAcf,YAAd,CAAX;AACAxuB,UAAAA,IAAI,CAAC8S,UAAL,CAAgBqa,QAAhB;AACH;AACJ;;AAED,WAAKpK,UAAL,GAAkB,IAAlB;AACA,aAAOsK,WAAP;AACH,KA/Q0D;AAiR3DW,IAAAA,aAAa,EAAE,UAAUyB,KAAV,EAAiB;AAC5B,YAAM3F,KAAK,GAAG2F,KAAK,CAAC,CAAD,CAAnB;AACA,YAAM1F,IAAI,GAAG0F,KAAK,CAACA,KAAK,CAACrrB,MAAN,GAAe,CAAhB,CAAlB;AACA,YAAM0mB,IAAI,GAAGf,IAAI,CAACqD,kBAAlB;AACA,YAAMsC,UAAU,GAAG5F,KAAK,CAAC7X,UAAzB;AACA,YAAM0d,OAAO,GAAGD,UAAU,CAACzd,UAAX,CAAsBmb,kBAAtC;AACA,YAAMnb,UAAU,GAAGyd,UAAU,CAACzd,UAAX,CAAsBA,UAAzC;;AAEA,WAAK,IAAI/U,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAA7B,EAAqClH,CAAC,GAAG0yB,IAAzC,EAA+C1yB,CAAC,EAAhD,EAAoD;AAChD+U,QAAAA,UAAU,CAACqT,YAAX,CAAwBmK,KAAK,CAACvyB,CAAD,CAA7B,EAAkCyyB,OAAlC;AACH;;AAED,UAAI7E,IAAI,IAAI4E,UAAU,CAACH,QAAX,CAAoBnrB,MAApB,GAA6B,CAAzC,EAA4C;AACxC,cAAMyrB,OAAO,GAAGH,UAAU,CAAC3I,SAAX,CAAqB,KAArB,CAAhB;AACA,cAAMwI,QAAQ,GAAGG,UAAU,CAACT,UAA5B;AACA,cAAMzoB,KAAK,GAAG,KAAKxG,IAAL,CAAU8vB,gBAAV,CAA2BhF,IAA3B,CAAd;;AACA,eAAOyE,QAAQ,CAAC/oB,KAAD,CAAf,EAAwB;AACpBqpB,UAAAA,OAAO,CAACtvB,WAAR,CAAoBgvB,QAAQ,CAAC/oB,KAAD,CAA5B;AACH;;AACDujB,QAAAA,IAAI,CAACxpB,WAAL,CAAiBsvB,OAAjB;AACH;;AAED,UAAIH,UAAU,CAACH,QAAX,CAAoBnrB,MAApB,KAA+B,CAAnC,EAAsC,KAAKpE,IAAL,CAAU8S,UAAV,CAAqB4c,UAArB;AACtC,WAAK1vB,IAAL,CAAU+vB,aAAV,CAAwB9d,UAAxB;AAEA,YAAM+d,IAAI,GAAG,KAAKhwB,IAAL,CAAUiwB,iBAAV,CAA4BnG,KAA5B,EAAmCC,IAAnC,CAAb;AAEA,aAAO;AACHmG,QAAAA,EAAE,EAAEpG,KAAK,CAAC7X,UADP;AAEHsY,QAAAA,EAAE,EAAEyF,IAAI,CAACzF,EAFN;AAGHC,QAAAA,EAAE,EAAEwF,IAAI,CAACxF;AAHN,OAAP;AAKH,KAjT0D;AAmT3D2F,IAAAA,cAAc,EAAE,UAAUpiB,MAAV,EAAkB4e,aAAlB,EAAiC;AAC7CA,MAAAA,aAAa,GAAG,CAACA,aAAD,GAAiB,KAAK9J,mBAAL,GAA2Bvc,MAA3B,CAAkC,UAAU8pB,EAAV,EAAc;AAAE,eAAO,KAAKnD,UAAL,CAAgBmD,EAAhB,CAAP;AAA6B,OAA7C,CAA8C/xB,IAA9C,CAAmD,KAAK2B,IAAxD,CAAlC,CAAjB,GAAoH2sB,aAApI;AACA,YAAM0D,QAAQ,GAAG1D,aAAa,CAACvoB,MAA/B;;AACA,UAAIisB,QAAQ,KAAK,CAAb,IAAmB,CAACtiB,MAAD,IAAY,CAAC,KAAK/N,IAAL,CAAUitB,UAAV,CAAqBN,aAAa,CAAC,CAAD,CAAb,CAAiBO,sBAAtC,CAAD,IAAkE,CAAC,KAAKltB,IAAL,CAAUitB,UAAV,CAAqBN,aAAa,CAAC0D,QAAQ,GAAG,CAAZ,CAAb,CAA4BjD,kBAAjD,CAAtG,EAA8K;AAC1K,eAAO;AACH7C,UAAAA,EAAE,EAAEoC,aAAa,CAAC,CAAD,CADd;AAEHW,UAAAA,EAAE,EAAE,CAFD;AAGH9C,UAAAA,EAAE,EAAEmC,aAAa,CAAC0D,QAAQ,GAAG,CAAZ,CAHd;AAIH9C,UAAAA,EAAE,EAAE;AAJD,SAAP;AAMH;;AAED,UAAImC,UAAU,GAAG/C,aAAa,CAAC,CAAD,CAAb,CAAiB1a,UAAlC;AACA,UAAIqe,QAAQ,GAAG3D,aAAa,CAAC0D,QAAQ,GAAG,CAAZ,CAA5B;AACA,UAAI7G,KAAK,GAAG,IAAZ;;AAEA,UAAIzb,MAAJ,EAAY;AACR,YAAI2hB,UAAU,KAAKY,QAAQ,CAACre,UAAxB,IAAsC,KAAKjS,IAAL,CAAUwsB,MAAV,CAAiB8D,QAAQ,CAACre,UAAT,CAAoBA,UAArC,CAAtC,IAA0Fqe,QAAQ,CAAClD,kBAAvG,EAA2H;AACvHkD,UAAAA,QAAQ,GAAGA,QAAQ,CAAClD,kBAApB;;AACA,iBAAOkD,QAAP,EAAiB;AACb3D,YAAAA,aAAa,CAACzlB,IAAd,CAAmBopB,QAAnB;AACAA,YAAAA,QAAQ,GAAGA,QAAQ,CAAClD,kBAApB;AACH;AACJ;;AACD5D,QAAAA,KAAK,GAAG,KAAKnoB,OAAL,CAAaiJ,IAAb,CAAkBoiB,QAAlB,CAA2B1vB,IAA3B,CAAgC,IAAhC,EAAsC0yB,UAAU,CAACzoB,QAAX,CAAoBymB,WAApB,EAAtC,EAAyEf,aAAzE,EAAwF,IAAxF,CAAR;AACH,OATD,MASO;AACH,YAAI4D,SAAS,GAAG,KAAKvwB,IAAL,CAAUC,aAAV,CAAwByvB,UAAU,CAACzoB,QAAnC,CAAhB;AACA,YAAIikB,IAAI,GAAGyB,aAAa,CAAC,CAAD,CAAb,CAAiBO,sBAA5B;AACA,YAAIpC,IAAI,GAAGwF,QAAQ,CAAClD,kBAApB;AACA,cAAMoD,QAAQ,GAAG;AAAE1xB,UAAAA,CAAC,EAAE,IAAL;AAAWkC,UAAAA,CAAC,EAAE,IAAd;AAAoByvB,UAAAA,EAAE,EAAEf,UAAxB;AAAoCU,UAAAA,EAAE,EAAEV;AAAxC,SAAjB;;AAEA,aAAK,IAAI5yB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2qB,QAAjB,EAA2BnzB,CAAhC,EAAmCJ,CAAC,GAAG4I,GAAvC,EAA4C5I,CAAC,EAA7C,EAAiD;AAC7CI,UAAAA,CAAC,GAAGyvB,aAAa,CAAC7vB,CAAD,CAAjB;;AACA,cAAII,CAAC,CAAC+U,UAAF,KAAiByd,UAArB,EAAiC;AAC7B,iBAAKruB,OAAL,CAAaiJ,IAAb,CAAkBomB,WAAlB,CAA8B1zB,IAA9B,CAAmC,IAAnC,EAAyC0yB,UAAzC,EAAqDa,SAArD,EAAgErF,IAAhE,EAAsEJ,IAAtE,EAA4E0F,QAA5E;;AACAd,YAAAA,UAAU,GAAGxyB,CAAC,CAAC+U,UAAf;AACAse,YAAAA,SAAS,GAAG,KAAKvwB,IAAL,CAAUC,aAAV,CAAwByvB,UAAU,CAACzoB,QAAnC,CAAZ;AACH;;AAEDikB,UAAAA,IAAI,GAAGhuB,CAAC,CAACgwB,sBAAT;AACApC,UAAAA,IAAI,GAAG5tB,CAAC,CAACkwB,kBAAT;AACAmD,UAAAA,SAAS,CAAChwB,WAAV,CAAsBrD,CAAtB;AACH;;AAED,aAAKmE,OAAL,CAAaiJ,IAAb,CAAkBomB,WAAlB,CAA8B1zB,IAA9B,CAAmC,IAAnC,EAAyC0yB,UAAzC,EAAqDa,SAArD,EAAgErF,IAAhE,EAAsEJ,IAAtE,EAA4E0F,QAA5E;;AAEA,cAAMjG,EAAE,GAAG,KAAKvqB,IAAL,CAAUyqB,eAAV,CAA0B+F,QAAQ,CAAC1xB,CAAnC,EAAsC0xB,QAAQ,CAACC,EAA/C,CAAX;AACA,cAAMjG,EAAE,GAAG,KAAKxqB,IAAL,CAAUyqB,eAAV,CAA0B+F,QAAQ,CAACxvB,CAAnC,EAAsCwvB,QAAQ,CAACJ,EAA/C,CAAX;AACA5G,QAAAA,KAAK,GAAG;AACJe,UAAAA,EAAE,EAAEA,EADA;AAEJ+C,UAAAA,EAAE,EAAE,CAFA;AAGJ9C,UAAAA,EAAE,EAAEA,EAHA;AAIJ+C,UAAAA,EAAE,EAAE/C,EAAE,CAACrO,WAAH,CAAe/X;AAJf,SAAR;AAMH;;AAED,aAAOolB,KAAP;AACH,KA5W0D;AA8W3DkH,IAAAA,WAAW,EAAE,UAAUhB,UAAV,EAAsBa,SAAtB,EAAiCrF,IAAjC,EAAuCJ,IAAvC,EAA6C0F,QAA7C,EAAuD;AAChE,UAAIG,UAAU,GAAG,KAAjB;;AAEA,UAAIzF,IAAI,IAAIqF,SAAS,CAAC7O,OAAV,KAAsBwJ,IAAI,CAACxJ,OAAvC,EAAgD;AAC5C,cAAM6N,QAAQ,GAAGgB,SAAS,CAAChB,QAA3B;;AACA,eAAOA,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBrE,UAAAA,IAAI,CAAC3qB,WAAL,CAAiBgvB,QAAQ,CAAC,CAAD,CAAzB;AACH;;AAEDgB,QAAAA,SAAS,GAAGrF,IAAZ;AACAyF,QAAAA,UAAU,GAAG,IAAb;AACH;;AAED,UAAI7F,IAAI,IAAIyF,SAAS,CAAC7O,OAAV,KAAsBoJ,IAAI,CAACpJ,OAAvC,EAAgD;AAC5C,cAAM6N,QAAQ,GAAGzE,IAAI,CAACyE,QAAtB;;AACA,eAAOA,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBgB,UAAAA,SAAS,CAAChwB,WAAV,CAAsBgvB,QAAQ,CAAC,CAAD,CAA9B;AACH;;AAED,cAAM/c,IAAI,GAAGsY,IAAI,CAACsC,kBAAlB;AACAtC,QAAAA,IAAI,CAAC7Y,UAAL,CAAgB2e,WAAhB,CAA4B9F,IAA5B;AACAA,QAAAA,IAAI,GAAGtY,IAAP;AACH;;AAED,UAAI,CAACme,UAAL,EAAiB;AACb,YAAI,KAAK3wB,IAAL,CAAUitB,UAAV,CAAqB/B,IAArB,CAAJ,EAAgC;AAC5BwE,UAAAA,UAAU,GAAGxE,IAAb;AACAJ,UAAAA,IAAI,GAAG,IAAP;AACH;;AAED4E,QAAAA,UAAU,CAACpK,YAAX,CAAwBiL,SAAxB,EAAmCzF,IAAnC;;AAEA,YAAI,CAAC0F,QAAQ,CAAC1xB,CAAd,EAAiB;AACb0xB,UAAAA,QAAQ,CAAC1xB,CAAT,GAAa,KAAKkB,IAAL,CAAUiqB,WAAV,CAAsBsG,SAAS,CAAC1W,iBAAV,CAA4ByP,UAAlD,EAA8DoG,UAA9D,EAA0E,IAA1E,CAAb;AACAc,UAAAA,QAAQ,CAACC,EAAT,GAAcf,UAAd;AACH;;AAED,cAAMmB,MAAM,GAAGnB,UAAU,CAAC9B,QAAX,CAAoB4C,QAAQ,CAACC,EAA7B,IAAmC,KAAKzwB,IAAL,CAAUiqB,WAAV,CAAsBuG,QAAQ,CAACC,EAA/B,EAAmCf,UAAnC,CAAnC,GAAoF,IAAnG;AACAc,QAAAA,QAAQ,CAACxvB,CAAT,GAAa,KAAKhB,IAAL,CAAUiqB,WAAV,CAAsBsG,SAAS,CAACO,gBAAV,CAA2BxH,UAAjD,EAA6DoG,UAA7D,EAAyE,IAAzE,CAAb;AACAc,QAAAA,QAAQ,CAACJ,EAAT,GAAcV,UAAd;AAEA,aAAK1vB,IAAL,CAAU+vB,aAAV,CAAwBL,UAAxB,EAAoC,CAACc,QAAQ,CAAC1xB,CAAV,EAAa0xB,QAAQ,CAACxvB,CAAtB,EAAyB6vB,MAAzB,CAApC,EAAsE,KAAtE;AACA,aAAK7wB,IAAL,CAAU+wB,eAAV,CAA0BrB,UAA1B;AACA,YAAImB,MAAJ,EAAYL,QAAQ,CAACC,EAAT,GAAc,KAAKzwB,IAAL,CAAUyqB,eAAV,CAA0BoG,MAA1B,EAAkCnB,UAAlC,CAAd;AACf;;AAED,aAAOa,SAAP;AACH,KA7Z0D;AA+Z3DjO,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAI0Z,OAAO,GAAG,EAAd;;AAEA,aAAO,CAACA,OAAD,IAAY,CAAC,QAAQ3Z,IAAR,CAAaC,MAAM,CAACwgB,OAApB,CAApB,EAAkD;AAC9C9G,QAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACAF,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAAC2I,OAAL,EAAc;AAEd,YAAM4O,KAAK,GAAG,KAAKnoB,OAAL,CAAaiJ,IAAb,CAAkBoiB,QAAlB,CAA2B1vB,IAA3B,CAAgC,IAAhC,EAAsC4d,OAAtC,EAA+C,IAA/C,EAAqD,KAArD,CAAd;AACA,UAAI4O,KAAJ,EAAW,KAAKtN,QAAL,CAAcsN,KAAK,CAACe,EAApB,EAAwBf,KAAK,CAAC8D,EAA9B,EAAkC9D,KAAK,CAACgB,EAAxC,EAA4ChB,KAAK,CAAC+D,EAAlD;AAEX,WAAKvK,UAAL,GAjBiB,CAmBjB;;AACA,WAAK1G,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AApb0D,GAAlC;AAwb7B;AAAO,CArsIG;AAssIV;;AACA;AAAO,UAAS1K,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,gBADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACsM,cAAR,GAAyB;AACrB+kB,QAAAA,UAAU,EAAE;AADS,OAAzB;AAIA;;AACA,UAAI1gB,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AAEA;;AACA4Q,MAAAA,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,EAA4BxT,gBAA5B,CAA6C,OAA7C,EAAsD,KAAKioB,MAAL,CAAYvqB,IAAZ,CAAiBqB,IAAjB,CAAtD;AAEAC,MAAAA,OAAO,CAACsM,cAAR,CAAuB+kB,UAAvB,GAAoC1gB,OAAO,CAACqE,gBAAR,CAAyB,WAAzB,CAApC;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH,KAtB0D;AAwB3D8R,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMwO,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,yCAApB;AAEA,YAAM+wB,QAAQ,GAAG,KAAK/tB,IAAL,CAAUqM,IAA3B;AACA,YAAM2hB,WAAW,GAAG;AAChB1hB,QAAAA,MAAM,EAAE;AACJpS,UAAAA,IAAI,EAAE6zB,QAAQ,CAACzhB,MADX;AAEJ0Z,UAAAA,KAAK,EAAE,gBAFH;AAGJiI,UAAAA,MAAM,EAAE;AAHJ,SADQ;AAMhB1hB,QAAAA,QAAQ,EAAE;AACNrS,UAAAA,IAAI,EAAE6zB,QAAQ,CAACxhB,QADT;AAENyZ,UAAAA,KAAK,EAAE,kBAFD;AAGNiI,UAAAA,MAAM,EAAE;AAHF,SANM;AAWhBzhB,QAAAA,IAAI,EAAE;AACFtS,UAAAA,IAAI,EAAE6zB,QAAQ,CAACvhB,IADb;AAEFwZ,UAAAA,KAAK,EAAE,cAFL;AAGFiI,UAAAA,MAAM,EAAE;AAHN;AAXU,OAApB;AAiBA,YAAMC,eAAe,GAAG,CAACtvB,MAAM,CAACsvB,eAAR,IAA2BtvB,MAAM,CAACsvB,eAAP,CAAuBhtB,MAAvB,KAAkC,CAA7D,GAAiE,CAAC,QAAD,EAAW,UAAX,EAAuB,MAAvB,CAAjE,GAAkGtC,MAAM,CAACsvB,eAAjI;AAEA,UAAI9mB,IAAI,GAAG,uDAAX;;AACA,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG0rB,eAAe,CAAChtB,MAAjC,EAAyCvF,CAAzC,EAA4CzB,IAA5C,EAAkD6rB,KAAlD,EAAyDkI,MAA9D,EAAsEr0B,CAAC,GAAG4I,GAA1E,EAA+E5I,CAAC,EAAhF,EAAoF;AAChF+B,QAAAA,CAAC,GAAGuyB,eAAe,CAACt0B,CAAD,CAAnB;;AAEA,YAAI,OAAO+B,CAAP,KAAa,QAAjB,EAA2B;AACvB,gBAAMwyB,YAAY,GAAGH,WAAW,CAACryB,CAAC,CAACwS,WAAF,EAAD,CAAhC;AACA,cAAI,CAACggB,YAAL,EAAmB;AACnBxyB,UAAAA,CAAC,GAAGwyB,YAAJ;AACH;;AAEDj0B,QAAAA,IAAI,GAAGyB,CAAC,CAACzB,IAAT;AACA6rB,QAAAA,KAAK,GAAGpqB,CAAC,CAACqqB,KAAF,GAAU,aAAarqB,CAAC,CAACqqB,KAAf,GAAuB,GAAjC,GAAuC,EAA/C;AACAiI,QAAAA,MAAM,GAAGtyB,CAAC,CAACsyB,MAAX;AAEA7mB,QAAAA,IAAI,IAAI,SACJ,0CADI,IAC0C6mB,MAAM,GAAG,MAAMA,MAAT,GAAiB,EADjE,IACuE,gBADvE,GAC0FtyB,CAAC,CAACqqB,KAD5F,GACoG,WADpG,GACkH9rB,IADlH,GACyH,IADzH,GAEA,MAFA,GAES6rB,KAFT,GAEiB,GAFjB,GAEuB7rB,IAFvB,GAE8B,QAF9B,GAGJ,gBAHJ;AAIH;;AACDkN,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KAzE0D;;AA2E1D;;;AAGDpO,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMovB,gBAAgB,GAAG,KAAK3xB,OAAL,CAAasM,cAAtC;AACA,YAAMslB,aAAa,GAAGD,gBAAgB,CAACN,UAAvC;AACA,YAAMrI,aAAa,GAAG,KAAK3oB,IAAL,CAAU+rB,gBAAV,CAA2B,KAAKnF,gBAAL,EAA3B,CAAtB;;AAEA,WAAK,IAAI9pB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6rB,aAAa,CAACntB,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD,YAAI,KAAKkD,IAAL,CAAUmgB,QAAV,CAAmBwI,aAAnB,EAAkC4I,aAAa,CAACz0B,CAAD,CAAb,CAAiBsE,YAAjB,CAA8B,YAA9B,CAAlC,CAAJ,EAAoF;AAChF,eAAKpB,IAAL,CAAUsR,QAAV,CAAmBigB,aAAa,CAACz0B,CAAD,CAAhC,EAAqC,QAArC;AACH,SAFD,MAEO;AACH,eAAKkD,IAAL,CAAUuR,WAAV,CAAsBggB,aAAa,CAACz0B,CAAD,CAAnC,EAAwC,QAAxC;AACH;AACJ;AACJ,KA1F0D;AA4F3D8rB,IAAAA,MAAM,EAAE,UAAU5nB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAIpD,KAAK,GAAG,IAAZ;;AAEA,aAAO,CAAC,QAAQmD,IAAR,CAAaC,MAAM,CAACwgB,OAApB,CAAR,EAAsC;AAClC5jB,QAAAA,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAR;AACA,YAAItD,KAAJ,EAAW;AACXoD,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAACnU,KAAL,EAAY;AAEZ,UAAI8kB,eAAe,GAAG,KAAKC,mBAAL,EAAtB;;AACA,UAAID,eAAe,CAACxe,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,aAAKulB,gBAAL,CAAsB,KAAKF,QAAL,EAAtB;AACA7G,QAAAA,eAAe,GAAG,KAAKC,mBAAL,EAAlB;AACA,YAAID,eAAe,CAACxe,MAAhB,KAA2B,CAA/B,EAAkC;AACrC,OApBgB,CAsBjB;;;AACA,YAAMotB,WAAW,GAAG,KAAKxxB,IAAL,CAAUmgB,QAAV,CAAmBjf,MAAnB,EAA2B,QAA3B,IAAuC,KAAKlB,IAAL,CAAUuR,WAAV,CAAsBlT,IAAtB,CAA2B,KAAK2B,IAAhC,CAAvC,GAA+E,KAAKA,IAAL,CAAUsR,QAAV,CAAmBjT,IAAnB,CAAwB,KAAK2B,IAA7B,CAAnG;;AACA,WAAK,IAAIlD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGkd,eAAe,CAACxe,MAAtC,EAA8CtH,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxD00B,QAAAA,WAAW,CAAC5O,eAAe,CAAC9lB,CAAD,CAAhB,EAAqBgB,KAArB,CAAX;AACH;;AAED,WAAKklB,UAAL,GA5BiB,CA8BjB;;AACA,WAAK1G,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AA5H0D,GAAlC;AAgI7B;AAAO,CAp1IG;AAq1IV;;AACA;AAAO,UAAS1K,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,OADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACkL,KAAR,GAAgB;AACZoL,QAAAA,QAAQ,EAAE,IADE;AAEZwb,QAAAA,UAAU,EAAE,IAFA;AAGZC,QAAAA,UAAU,EAAE,IAHA;AAIZC,QAAAA,WAAW,EAAE,IAJD;AAKZC,QAAAA,QAAQ,EAAE,EALE;AAMZC,QAAAA,SAAS,EAAE,IANC;AAOZC,QAAAA,YAAY,EAAE,KAPF;AAQZC,QAAAA,iBAAiB,EAAEpyB,OAAO,CAAC+kB,OAAR,CAAgBsN,2BAAhB,KAAgD,KARvD;AASZC,QAAAA,UAAU,EAAE,IATA;AAUZC,QAAAA,YAAY,EAAE,IAVF;AAWZC,QAAAA,WAAW,EAAE,IAXD;AAYZC,QAAAA,WAAW,EAAE,IAZD;AAaZC,QAAAA,SAAS,EAAE,IAbC;AAcZC,QAAAA,OAAO,EAAE5yB,IAAI,CAACwD,IAAL,CAAU0K,UAAV,CAAqBoB,OAdlB;AAeZujB,QAAAA,OAAO,EAAE7yB,IAAI,CAACwD,IAAL,CAAU0K,UAAV,CAAqBqB,OAflB;AAgBZujB,QAAAA,iBAAiB,EAAE,CAhBP;AAiBZC,QAAAA,gBAAgB,EAAE,CAjBN;AAkBZC,QAAAA,OAAO,EAAE,CAlBG;AAmBZC,QAAAA,SAAS,EAAE,CAnBC;AAoBZC,QAAAA,mBAAmB,EAAE,CApBT;AAqBZC,QAAAA,kBAAkB,EAAE,CArBR;AAsBZC,QAAAA,gBAAgB,EAAE,CAtBN;AAuBZC,QAAAA,gBAAgB,EAAE,CAvBN;AAwBZliB,QAAAA,KAAK,EAAE;AACHmiB,UAAAA,SAAS,EAAEtzB,IAAI,CAACmR,KAAL,CAAWmiB,SADnB;AAEHC,UAAAA,SAAS,EAAEvzB,IAAI,CAACmR,KAAL,CAAWoiB;AAFnB;AAxBK,OAAhB;AA8BA;;AACA,UAAI3iB,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAIwzB,WAAW,GAAG5iB,OAAO,CAAC6D,aAAR,CAAsB,6BAAtB,CAAlB;AAEAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcsoB,cAAd,GAA+B7iB,OAAO,CAAC6D,aAAR,CAAsB,4BAAtB,CAA/B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcuoB,gBAAd,GAAiC9iB,OAAO,CAAC6D,aAAR,CAAsB,8BAAtB,CAAjC;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcwoB,YAAd,GAA6B/iB,OAAO,CAAC6D,aAAR,CAAsB,wBAAtB,CAA7B;AAEA;;AACA,UAAImf,eAAe,GAAG,KAAKC,mBAAL,CAAyBv2B,IAAzB,CAA8B0C,IAA9B,CAAtB;AACAC,MAAAA,OAAO,CAACkL,KAAR,CAAcyoB,eAAd,GAAgCA,eAAhC;AACA3zB,MAAAA,OAAO,CAACkL,KAAR,CAAc2J,YAAd,GAA6B8e,eAAe,CAACnf,aAAhB,CAA8B,mBAA9B,CAA7B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAconB,UAAd,GAA2BqB,eAAe,CAACnf,aAAhB,CAA8B,iCAA9B,CAA3B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAc2oB,iBAAd,GAAkCF,eAAe,CAACnf,aAAhB,CAA8B,yBAA9B,CAAlC;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcqnB,YAAd,GAA6BoB,eAAe,CAACnf,aAAhB,CAA8B,mBAA9B,CAA7B;AACAmf,MAAAA,eAAe,CAAC3yB,gBAAhB,CAAiC,WAAjC,EAA8CjB,IAAI,CAAC2V,SAAnD;AAEA;;AACA,UAAInB,SAAS,GAAG,KAAKuf,yBAAL,CAA+Bz2B,IAA/B,CAAoC0C,IAApC,EAA0CC,OAAO,CAACkL,KAAR,CAAcknB,iBAAxD,CAAhB;AACApyB,MAAAA,OAAO,CAACkL,KAAR,CAAcqJ,SAAd,GAA0BA,SAA1B;AACAvU,MAAAA,OAAO,CAACkL,KAAR,CAAcwnB,SAAd,GAA0Bne,SAAS,CAACC,aAAV,CAAwB,mBAAxB,CAA1B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcsnB,WAAd,GAA4Bje,SAAS,CAACC,aAAV,CAAwB,yBAAxB,CAA5B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAcunB,WAAd,GAA4Ble,SAAS,CAACC,aAAV,CAAwB,yBAAxB,CAA5B;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAc6oB,oBAAd,GAAqCxf,SAAS,CAACC,aAAV,CAAwB,yBAAxB,CAArC;AACAxU,MAAAA,OAAO,CAACkL,KAAR,CAAc8oB,oBAAd,GAAqCzf,SAAS,CAACC,aAAV,CAAwB,yBAAxB,CAArC;AACAD,MAAAA,SAAS,CAACvT,gBAAV,CAA2B,WAA3B,EAAwCjB,IAAI,CAAC2V,SAA7C;AAEA;;AACA6d,MAAAA,WAAW,CAACvyB,gBAAZ,CAA6B,WAA7B,EAA0C,KAAKizB,uBAAL,CAA6Bv1B,IAA7B,CAAkCqB,IAAlC,CAA1C;AACAwzB,MAAAA,WAAW,CAACvyB,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKkzB,WAAL,CAAiBx1B,IAAjB,CAAsBqB,IAAtB,CAAtC;AACAwU,MAAAA,SAAS,CAACvT,gBAAV,CAA2B,OAA3B,EAAoC,KAAKmzB,uBAAL,CAA6Bz1B,IAA7B,CAAkCqB,IAAlC,CAApC;AACA4zB,MAAAA,eAAe,CAAC3yB,gBAAhB,CAAiC,OAAjC,EAA0C,KAAKmzB,uBAAL,CAA6Bz1B,IAA7B,CAAkCqB,IAAlC,CAA1C;AAEA;;AACAA,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACA3Q,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC2T,SAArC;AACAvU,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC+yB,eAArC;AAEA;;AACAhjB,MAAAA,OAAO,GAAG,IAAV,EAAgB4iB,WAAW,GAAG,IAA9B,EAAoChf,SAAS,GAAG,IAAhD,EAAsDof,eAAe,GAAG,IAAxE;AACH,KA7E0D;AA+E3DlR,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAM9R,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,8BAApB;AACAoQ,MAAAA,OAAO,CAACrN,SAAR,GAAoB,KAChB,6BADgB,GAEZ,qEAFY,GAGZ,+CAHY,GAIZ,iDAJY,GAKhB,QALgB,GAMhB,gDANJ;AAQA,aAAOqN,OAAP;AACH,KA3F0D;AA6F3DijB,IAAAA,mBAAmB,EAAE,YAAY;AAC7B,YAAMrwB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,YAAMkjB,WAAW,GAAG,KAAK/zB,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAApB;AAEA8zB,MAAAA,WAAW,CAAC7zB,SAAZ,GAAwB,mCAAxB;AACA6zB,MAAAA,WAAW,CAAC9wB,SAAZ,GAAwB,KACpB,OADoB,GAEhB,4BAFgB,GAGZ,yFAHY,GAIR4N,KAAK,CAACmiB,SAJE,GAKR,+DALQ,GAK0D9vB,IAAI,CAAC0K,UAAL,CAAgBoB,OAL1E,GAKoF,gBALpF,GAMZ,WANY,GAOZ,+FAPY,GAQR6B,KAAK,CAACmjB,kBARE,GASR,+DATQ,GAS0D9wB,IAAI,CAAC0K,UAAL,CAAgBU,gBAT1E,GAS6F,gBAT7F,GAUZ,WAVY,GAWZ,yFAXY,GAYRuC,KAAK,CAACojB,YAZE,GAaR,+DAbQ,GAa0D/wB,IAAI,CAAC0K,UAAL,CAAgBsB,WAb1E,GAawF,gBAbxF,GAcZ,WAdY,GAeZ,wEAfY,GAgBR2B,KAAK,CAAC9I,MAhBE,GAiBR,+DAjBQ,GAiB0D7E,IAAI,CAAC0K,UAAL,CAAgBG,MAjB1E,GAiBmF,gBAjBnF,GAkBZ,WAlBY,GAmBhB,QAnBgB,GAoBpB,QApBJ;AAsBA,aAAOgmB,WAAP;AACH,KA1H0D;AA4H3DN,IAAAA,yBAAyB,EAAE,UAAU1B,iBAAV,EAA6B;AACpD,YAAM7uB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,YAAMkjB,WAAW,GAAG,KAAK/zB,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAApB;AAEA8zB,MAAAA,WAAW,CAAC7zB,SAAZ,GAAwB,wCAAxB;AACA6zB,MAAAA,WAAW,CAAC9wB,SAAZ,GAAwB,CAAC8uB,iBAAiB,GAAG,EAAH,GAAQ,0CAA1B,IACpB,4BADoB,GAEhB,iIAFgB,GAGZlhB,KAAK,CAACqjB,gBAHM,GAIZ,+DAJY,GAIsDhxB,IAAI,CAAC0K,UAAL,CAAgBI,cAJtE,GAIuF,gBAJvF,GAKhB,WALgB,GAMhB,mIANgB,GAOZ6C,KAAK,CAACsjB,gBAPM,GAQZ,+DARY,GAQsDjxB,IAAI,CAAC0K,UAAL,CAAgBK,cARtE,GAQuF,gBARvF,GAShB,WATgB,GAUhB,yFAVgB,GAWZ4C,KAAK,CAACujB,UAXM,GAYZ,+DAZY,GAYsDlxB,IAAI,CAAC0K,UAAL,CAAgBM,SAZtE,GAYkF,gBAZlF,GAahB,WAbgB,GAchB,uGAdgB,GAeZ2C,KAAK,CAACwjB,UAfM,GAgBZ,+DAhBY,GAgBsDnxB,IAAI,CAAC0K,UAAL,CAAgBuB,UAhBtE,GAgBmF,gBAhBnF,GAiBhB,WAjBgB,GAkBpB,QAlBoB,GAmBpB,oDAnBoB,GAoBhB,6GApBgB,GAqBZ0B,KAAK,CAACyjB,kBArBM,GAsBZ,+DAtBY,GAsBsDpxB,IAAI,CAAC0K,UAAL,CAAgBO,kBAtBtE,GAsB2F,gBAtB3F,GAuBhB,WAvBgB,GAwBhB,8GAxBgB,GAyBZ0C,KAAK,CAAC0jB,mBAzBM,GA0BZ,+DA1BY,GA0BsDrxB,IAAI,CAAC0K,UAAL,CAAgBQ,iBA1BtE,GA0B0F,gBA1B1F,GA2BhB,WA3BgB,GA4BhB,0FA5BgB,GA6BZyC,KAAK,CAAC2jB,aA7BM,GA8BZ,+DA9BY,GA8BsDtxB,IAAI,CAAC0K,UAAL,CAAgBS,YA9BtE,GA8BqF,gBA9BrF,GA+BhB,WA/BgB,GAgChB,gGAhCgB,GAiCZwC,KAAK,CAAC4jB,UAjCM,GAkCZ,+DAlCY,GAkCsDvxB,IAAI,CAAC0K,UAAL,CAAgBwB,UAlCtE,GAkCmF,gBAlCnF,GAmChB,WAnCgB,GAoChB,gEApCgB,GAqCZ,6BArCY,GAsCR,4BAtCQ,GAuCJ,sGAvCI,GAuCqGlM,IAAI,CAAC0K,UAAL,CAAgB0B,aAvCrH,GAuCqI,IAvCrI,GAwCApM,IAAI,CAAC0K,UAAL,CAAgB0B,aAxChB,GAwCgC,OAxChC,GAyCJ,wGAzCI,GAyCuGpM,IAAI,CAAC0K,UAAL,CAAgByB,eAzCvH,GAyCyI,IAzCzI,GA0CAnM,IAAI,CAAC0K,UAAL,CAAgByB,eA1ChB,GA0CkC,OA1ClC,GA2CR,OA3CQ,GA4CZ,QA5CY,GA6ChB,QA7CgB,GA8CpB,QA9CJ;AAgDA,aAAO0kB,WAAP;AACH,KAnL0D;AAqL3DF,IAAAA,WAAW,EAAE,YAAY;AACrB,YAAMa,MAAM,GAAG,KAAK10B,IAAL,CAAUC,aAAV,CAAwB,OAAxB,CAAf;AACA,YAAM00B,WAAW,GAAG,KAAKtzB,OAAL,CAAawJ,KAAb,CAAmB8pB,WAAvC;AAEA,YAAMhe,CAAC,GAAG,KAAKhX,OAAL,CAAakL,KAAb,CAAmB+mB,QAAnB,CAA4B,CAA5B,CAAV;AACA,UAAI7a,CAAC,GAAG,KAAKpX,OAAL,CAAakL,KAAb,CAAmB+mB,QAAnB,CAA4B,CAA5B,CAAR;AACA,UAAIgD,SAAS,GAAG,SAAhB;;AACA,aAAO7d,CAAC,GAAG,CAAX,EAAc;AACV6d,QAAAA,SAAS,IAAI,SAASD,WAAW,CAAC33B,IAAZ,CAAiB,IAAjB,EAAuB,IAAvB,EAA6B2Z,CAA7B,CAAT,GAA2C,OAAxD;AACA,UAAEI,CAAF;AACH;;AACD6d,MAAAA,SAAS,IAAI,UAAb;AACAF,MAAAA,MAAM,CAACzxB,SAAP,GAAmB2xB,SAAnB;AAEA,YAAMC,OAAO,GAAG,KAAKlJ,eAAL,CAAqB+I,MAArB,EAA6B,KAA7B,EAAoC,IAApC,EAA0C,KAA1C,CAAhB;;AAEA,UAAIG,OAAJ,EAAa;AACT,cAAMC,OAAO,GAAGJ,MAAM,CAACvgB,aAAP,CAAqB,QAArB,CAAhB;AACA,aAAK+H,QAAL,CAAc4Y,OAAd,EAAuB,CAAvB,EAA0BA,OAA1B,EAAmC,CAAnC;AACA,aAAKzzB,OAAL,CAAawJ,KAAb,CAAmBkqB,kBAAnB,CAAsC/3B,IAAtC,CAA2C,IAA3C;AACH;AACJ,KA1M0D;AA4M3D23B,IAAAA,WAAW,EAAE,UAAU1tB,QAAV,EAAoB+tB,GAApB,EAAyBC,aAAzB,EAAwC;AACjDhuB,MAAAA,QAAQ,GAAGA,QAAQ,CAACoK,WAAT,EAAX;;AAEA,UAAI,CAAC4jB,aAAL,EAAoB;AAChB,YAAIC,SAAS,GAAG,EAAhB;;AACA,eAAOF,GAAG,GAAG,CAAb,EAAgB;AACZE,UAAAA,SAAS,IAAI,MAAKjuB,QAAL,GAAgB,oBAAhB,GAAuCA,QAAvC,GAAkD,GAA/D;AACA+tB,UAAAA,GAAG;AACN;;AACD,eAAOE,SAAP;AACH,OAPD,MAOO;AACH,cAAMC,IAAI,GAAG,KAAKn1B,IAAL,CAAUC,aAAV,CAAwBgH,QAAxB,CAAb;AACAkuB,QAAAA,IAAI,CAAClyB,SAAL,GAAiB,iBAAjB;AACA,eAAOkyB,IAAP;AACH;AACJ,KA3N0D;AA6N3DvB,IAAAA,uBAAuB,EAAE,UAAU5yB,CAAV,EAAa;AAClCA,MAAAA,CAAC,CAACG,eAAF;;AAEA,UAAIwV,CAAC,GAAG,KAAKzS,EAAL,CAAQ0U,IAAR,CAAawc,IAAb,CAAkBp0B,CAAC,CAACq0B,OAAF,GAAY,EAA9B,CAAR;;AACA,UAAIte,CAAC,GAAG,KAAK7S,EAAL,CAAQ0U,IAAR,CAAawc,IAAb,CAAkBp0B,CAAC,CAACs0B,OAAF,GAAY,EAA9B,CAAR;;AACA3e,MAAAA,CAAC,GAAGA,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAYA,CAAhB;AACAI,MAAAA,CAAC,GAAGA,CAAC,GAAG,CAAJ,GAAQ,CAAR,GAAYA,CAAhB;AACA,WAAKpX,OAAL,CAAakL,KAAb,CAAmBsoB,cAAnB,CAAkC/yB,KAAlC,CAAwCqI,KAAxC,GAAgDkO,CAAC,GAAG,IAApD;AACA,WAAKhX,OAAL,CAAakL,KAAb,CAAmBsoB,cAAnB,CAAkC/yB,KAAlC,CAAwCsN,MAAxC,GAAiDqJ,CAAC,GAAG,IAArD;AAEA,UAAIwe,GAAG,GAAG,EAAV,CAVkC,CAUpB;;AACd,UAAIC,GAAG,GAAG,EAAV,CAXkC,CAWpB;;AACd,WAAK71B,OAAL,CAAakL,KAAb,CAAmBuoB,gBAAnB,CAAoChzB,KAApC,CAA0CqI,KAA1C,GAAkD8sB,GAAG,GAAG,IAAxD;AACA,WAAK51B,OAAL,CAAakL,KAAb,CAAmBuoB,gBAAnB,CAAoChzB,KAApC,CAA0CsN,MAA1C,GAAmD8nB,GAAG,GAAG,IAAzD;AAEA,WAAKx1B,IAAL,CAAUqZ,SAAV,CAAoB,KAAK1Z,OAAL,CAAakL,KAAb,CAAmBwoB,YAAvC,EAAqD1c,CAAC,GAAG,KAAJ,GAAYI,CAAjE;AACA,WAAKpX,OAAL,CAAakL,KAAb,CAAmB+mB,QAAnB,GAA8B,CAACjb,CAAD,EAAII,CAAJ,CAA9B;AACH,KA9O0D;AAgP3Dge,IAAAA,kBAAkB,EAAE,YAAY;AAC5B,UAAI,CAAC,KAAKp1B,OAAL,CAAakL,KAAb,CAAmBsoB,cAAxB,EAAwC;AAExC,YAAMsC,SAAS,GAAG,KAAK91B,OAAL,CAAakL,KAAb,CAAmBsoB,cAAnB,CAAkC/yB,KAApD;AACA,YAAMs1B,WAAW,GAAG,KAAK/1B,OAAL,CAAakL,KAAb,CAAmBuoB,gBAAnB,CAAoChzB,KAAxD;AAEAq1B,MAAAA,SAAS,CAAChtB,KAAV,GAAkB,KAAlB;AACAgtB,MAAAA,SAAS,CAAC/nB,MAAV,GAAmB,KAAnB;AACAgoB,MAAAA,WAAW,CAACjtB,KAAZ,GAAoB,MAApB;AACAitB,MAAAA,WAAW,CAAChoB,MAAZ,GAAqB,MAArB;AAEA,WAAK1N,IAAL,CAAUqZ,SAAV,CAAoB,KAAK1Z,OAAL,CAAakL,KAAb,CAAmBwoB,YAAvC,EAAqD,OAArD;AACA,WAAKrQ,UAAL;AACH,KA7P0D;AA+P3D5gB,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMuzB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAM+qB,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;;AAEA+qB,MAAAA,WAAW,CAACC,aAAZ,CAA0B74B,IAA1B,CAA+B,IAA/B;;AAEA,UAAI44B,WAAW,CAACE,cAAhB,EAAgC;AAC5B,cAAMnJ,aAAa,GAAGiJ,WAAW,CAACE,cAAZ,CAA2BnhB,gBAA3B,CAA4C,yBAA5C,CAAtB;;AACA,aAAK,IAAI7X,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD,eAAKkD,IAAL,CAAUuR,WAAV,CAAsBob,aAAa,CAAC7vB,CAAD,CAAnC,EAAwC,wBAAxC;AACH;AACJ;;AAED84B,MAAAA,WAAW,CAACG,aAAZ,CAA0B/4B,IAA1B,CAA+B,IAA/B,EAAqC,IAArC;;AAEA24B,MAAAA,YAAY,CAAC1f,QAAb,GAAwB,IAAxB;AACA0f,MAAAA,YAAY,CAAClE,UAAb,GAA0B,IAA1B;AACAkE,MAAAA,YAAY,CAACjE,UAAb,GAA0B,IAA1B;AACAiE,MAAAA,YAAY,CAAChE,WAAb,GAA2B,IAA3B;AACAgE,MAAAA,YAAY,CAAC/D,QAAb,GAAwB,EAAxB;AACA+D,MAAAA,YAAY,CAAC9D,SAAb,GAAyB,IAAzB;AACA8D,MAAAA,YAAY,CAAC7D,YAAb,GAA4B,KAA5B;AACA6D,MAAAA,YAAY,CAACnD,iBAAb,GAAiC,CAAjC;AACAmD,MAAAA,YAAY,CAAClD,gBAAb,GAAgC,CAAhC;AACAkD,MAAAA,YAAY,CAACjD,OAAb,GAAuB,CAAvB;AACAiD,MAAAA,YAAY,CAAChD,SAAb,GAAyB,CAAzB;AACAgD,MAAAA,YAAY,CAAC/C,mBAAb,GAAmC,CAAnC;AACA+C,MAAAA,YAAY,CAAC9C,kBAAb,GAAkC,CAAlC;AACA8C,MAAAA,YAAY,CAAC7C,gBAAb,GAAgC,CAAhC;AACA6C,MAAAA,YAAY,CAAC5C,gBAAb,GAAgC,CAAhC;AAEA6C,MAAAA,WAAW,CAACI,MAAZ,GAAqB,KAArB;AACAJ,MAAAA,WAAW,CAACK,cAAZ,GAA6B,IAA7B;AACAL,MAAAA,WAAW,CAACE,cAAZ,GAA6B,IAA7B;AACAF,MAAAA,WAAW,CAACM,IAAZ,GAAmB,IAAnB;AAEAN,MAAAA,WAAW,CAACO,UAAZ,GAAyB,IAAzB;AACAP,MAAAA,WAAW,CAACQ,aAAZ,GAA4B,IAA5B;AACAR,MAAAA,WAAW,CAACS,cAAZ,GAA6B,IAA7B;AACH,KAtS0D;;AAwS3D;AACAC,IAAAA,yBAAyB,EAAE,UAAUC,SAAV,EAAqB;AAC5C,YAAMX,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;AACA,YAAM8qB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;;AAEA,UAAI,CAAC,KAAK2rB,YAAL,GAAoBC,WAArB,IAAoC,CAACb,WAAW,CAACQ,aAArD,EAAoE;AAChE,aAAKha,cAAL;AACA,aAAKpc,IAAL,CAAUuR,WAAV,CAAsBglB,SAAtB,EAAiC,wBAAjC;AACA;AACH;;AAED,YAAMG,YAAY,GAAGf,YAAY,CAAC1f,QAAb,IAAyB,KAAK5U,OAAL,CAAawJ,KAAb,CAAmBirB,cAA5C,IAA8D,KAAK91B,IAAL,CAAU8G,gBAAV,CAA2ByvB,SAA3B,EAAsC,OAAtC,CAAnF;AACAX,MAAAA,WAAW,CAACe,wBAAZ,CAAqC35B,IAArC,CAA0C,IAA1C,EAAgD05B,YAAhD;AACAf,MAAAA,YAAY,CAAC9D,SAAb,GAAyB,KAAK7xB,IAAL,CAAUmgB,QAAV,CAAmBuW,YAAnB,EAAiC,mBAAjC,KAAyDA,YAAY,CAACt2B,KAAb,CAAmBqI,KAAnB,KAA6B,MAAtF,IAAiG,CAACiuB,YAAY,CAACt2B,KAAb,CAAmBqI,KAApB,IAA6B,CAAC,KAAKzI,IAAL,CAAUmgB,QAAV,CAAmBuW,YAAnB,EAAiC,oBAAjC,CAAxJ;AACAf,MAAAA,YAAY,CAAC7D,YAAb,GAA4B,KAAK9xB,IAAL,CAAUmgB,QAAV,CAAmBuW,YAAnB,EAAiC,uBAAjC,KAA6DA,YAAY,CAACt2B,KAAb,CAAmBw2B,WAAnB,KAAmC,OAA5H;AACAhB,MAAAA,WAAW,CAACiB,aAAZ,CAA0B75B,IAA1B,CAA+B,IAA/B,EAAqC24B,YAAY,CAAC9D,SAAb,GAAyB,cAAzB,GAA0C,OAA/E;AAEA+D,MAAAA,WAAW,CAACkB,wBAAZ,CAAqC95B,IAArC,CAA0C,IAA1C,EAAgDu5B,SAAhD,EAA2DX,WAAW,CAACI,MAAvE;AAEA,UAAI,CAACJ,WAAW,CAACI,MAAjB,EAAyB,KAAK3b,aAAL,CAAmBsb,YAAY,CAACzhB,SAAhC,EAA2CyhB,YAAY,CAACrC,eAAxD,EAAyEsC,WAAW,CAACxzB,IAAZ,CAAiB/D,IAAjB,CAAsB,IAAtB,CAAzE,EAAsGk4B,SAAtG,EAAiH,OAAjH;AAC5B,KA5T0D;AA8T3DI,IAAAA,wBAAwB,EAAE,UAAUD,YAAV,EAAwB;AAC9C,YAAMpD,eAAe,GAAG,KAAK3zB,OAAL,CAAakL,KAAb,CAAmByoB,eAA3C;AACA,YAAM9a,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoBie,YAApB,EAAkC,KAAK/2B,OAAL,CAAamB,OAAb,CAAqB4X,YAAvD,CAAf;AACA4a,MAAAA,eAAe,CAAClzB,KAAhB,CAAsBmN,IAAtB,GAA6BiL,MAAM,CAACjL,IAAP,GAAc,IAA3C;AACA+lB,MAAAA,eAAe,CAAClzB,KAAhB,CAAsBC,OAAtB,GAAgC,OAAhC;AACAizB,MAAAA,eAAe,CAAClzB,KAAhB,CAAsB4Y,GAAtB,GAA6BR,MAAM,CAACQ,GAAP,GAAasa,eAAe,CAACxa,YAA7B,GAA4C,CAA7C,GAAkD,IAA9E;AACH,KApU0D;AAsU3Dge,IAAAA,wBAAwB,EAAE,UAAUP,SAAV,EAAqBQ,KAArB,EAA4B;AAClD,YAAMpB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAMqJ,SAAS,GAAGyhB,YAAY,CAACzhB,SAA/B;AAEA,WAAK7S,OAAL,CAAawJ,KAAb,CAAmBmsB,WAAnB,CAA+Bh6B,IAA/B,CAAoC,IAApC,EAA0Cu5B,SAA1C,EAAqDQ,KAArD;AAEA7iB,MAAAA,SAAS,CAAC9T,KAAV,CAAgB62B,UAAhB,GAA6B,QAA7B;AACA/iB,MAAAA,SAAS,CAAC9T,KAAV,CAAgBC,OAAhB,GAA0B,OAA1B;;AAEA,UAAIs1B,YAAY,CAAC5D,iBAAjB,EAAoC;AAChC,cAAMvZ,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoBkd,YAAY,CAAC1f,QAAjC,EAA2C,KAAKtW,OAAL,CAAamB,OAAb,CAAqB4X,YAAhE,CAAf;AACAxE,QAAAA,SAAS,CAAC9T,KAAV,CAAgB4Y,GAAhB,GAAuBR,MAAM,CAACQ,GAAP,GAAa9E,SAAS,CAAC4E,YAAvB,GAAsC,CAAvC,GAA4C,IAAlE;AACA5E,QAAAA,SAAS,CAAC9T,KAAV,CAAgBmN,IAAhB,GAAwBiL,MAAM,CAACjL,IAAP,GAAcooB,YAAY,CAACrC,eAAb,CAA6Bva,WAA5C,GAA2D,IAAlF;AACH,OAJD,MAIO;AACH,cAAMP,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoB8d,SAApB,EAA+B,KAAK52B,OAAL,CAAamB,OAAb,CAAqB4X,YAApD,CAAf;AACAxE,QAAAA,SAAS,CAAC9T,KAAV,CAAgBmN,IAAhB,GAAwBiL,MAAM,CAACjL,IAAP,GAAc,KAAK5N,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCO,UAAjD,GAA+D,IAAtF;AACA/E,QAAAA,SAAS,CAAC9T,KAAV,CAAgB4Y,GAAhB,GAAuBR,MAAM,CAACQ,GAAP,GAAaud,SAAS,CAACzd,YAAvB,GAAsC,EAAvC,GAA6C,IAAnE;AAEA,cAAMwB,QAAQ,GAAG,KAAK3a,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCK,WAAlC,IAAiD7E,SAAS,CAAC4R,UAAV,GAAuB5R,SAAS,CAAC6E,WAAlF,CAAjB;;AACA,YAAIuB,QAAQ,GAAG,CAAf,EAAkB;AACdpG,UAAAA,SAAS,CAAC9T,KAAV,CAAgBmN,IAAhB,GAAwB2G,SAAS,CAAC4R,UAAV,GAAuBxL,QAAxB,GAAoC,IAA3D;AACApG,UAAAA,SAAS,CAAC2F,iBAAV,CAA4BzZ,KAA5B,CAAkCmN,IAAlC,GAA0C,KAAK+M,QAAN,GAAkB,IAA3D;AACH,SAHD,MAGO;AACHpG,UAAAA,SAAS,CAAC2F,iBAAV,CAA4BzZ,KAA5B,CAAkCmN,IAAlC,GAAyC,MAAzC;AACH;AACJ;;AAED2G,MAAAA,SAAS,CAAC9T,KAAV,CAAgB62B,UAAhB,GAA6B,EAA7B;AACH,KAlW0D;AAoW3DD,IAAAA,WAAW,EAAE,UAAUT,SAAV,EAAqBQ,KAArB,EAA4B;AACrC,YAAMpB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAMA,KAAK,GAAG8qB,YAAY,CAAC1f,QAAb,GAAwB,KAAK5U,OAAL,CAAawJ,KAAb,CAAmBirB,cAAnB,IAAqC,KAAK91B,IAAL,CAAU8G,gBAAV,CAA2ByvB,SAA3B,EAAsC,OAAtC,CAA3E;;AAEA,UAAI,SAASt1B,IAAT,CAAc4J,KAAK,CAACgP,iBAAN,CAAwB5S,QAAtC,CAAJ,EAAqD;AACjD,aAAKjH,IAAL,CAAUsR,QAAV,CAAmBqkB,YAAY,CAACzD,YAAhC,EAA8C,QAA9C;AACH,OAFD,MAEO;AACH,aAAKlyB,IAAL,CAAUuR,WAAV,CAAsBokB,YAAY,CAACzD,YAAnC,EAAiD,QAAjD;AACH;;AAED,UAAI6E,KAAK,IAAIpB,YAAY,CAACnD,iBAAb,KAAmC,CAAhD,EAAmD;AAC/C,YAAImD,YAAY,CAAClE,UAAb,KAA4B8E,SAAhC,EAA2C;AACvCZ,UAAAA,YAAY,CAAClE,UAAb,GAA0B8E,SAA1B;AACAZ,UAAAA,YAAY,CAACjE,UAAb,GAA0B6E,SAAS,CAACtkB,UAApC;AACH;;AAED,cAAMilB,IAAI,GAAGvB,YAAY,CAAChE,WAAb,GAA2B9mB,KAAK,CAACqsB,IAA9C;AACA,cAAMC,SAAS,GAAGZ,SAAS,CAACY,SAA5B;AAEA,YAAIC,OAAO,GAAG,CAAd;;AACA,aAAK,IAAIt6B,CAAC,GAAG,CAAR,EAAW2yB,KAAK,GAAGyH,IAAI,CAAC,CAAD,CAAJ,CAAQzH,KAA3B,EAAkC/pB,GAAG,GAAGwxB,IAAI,CAAC,CAAD,CAAJ,CAAQzH,KAAR,CAAcrrB,MAA3D,EAAmEtH,CAAC,GAAG4I,GAAvE,EAA4E5I,CAAC,EAA7E,EAAiF;AAC7Es6B,UAAAA,OAAO,IAAI3H,KAAK,CAAC3yB,CAAD,CAAL,CAASu6B,OAApB;AACH,SAZ8C,CAc/C;;;AACA,cAAMC,QAAQ,GAAG3B,YAAY,CAAChD,SAAb,GAAyBgD,YAAY,CAACjE,UAAb,CAAwB4F,QAAlE;AACA3B,QAAAA,YAAY,CAACjD,OAAb,GAAuBwE,IAAI,CAAC9yB,MAA5B,CAhB+C,CAkB/C;;AACAuxB,QAAAA,YAAY,CAACnD,iBAAb,GAAiCmD,YAAY,CAACjE,UAAb,CAAwBjC,KAAxB,CAA8BrrB,MAA/D;AACAuxB,QAAAA,YAAY,CAAClD,gBAAb,GAAgC2E,OAAhC;AACAzB,QAAAA,YAAY,CAAC/C,mBAAb,GAAmCuE,SAAnC,CArB+C,CAuB/C;;AACAxB,QAAAA,YAAY,CAAC7C,gBAAb,GAAgC6C,YAAY,CAAClE,UAAb,CAAwB4F,OAAxB,GAAkC,CAAlE;AACA1B,QAAAA,YAAY,CAAC5C,gBAAb,GAAgC4C,YAAY,CAACjE,UAAb,CAAwBjC,KAAxB,CAA8B0H,SAA9B,EAAyCI,OAAzE,GAAmF,CAAnF,CAzB+C,CA2B/C;;AACA,YAAIC,UAAU,GAAG,EAAjB;AACA,YAAIC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAI36B,CAAC,GAAG,CAAR,EAAW2yB,KAAX,EAAkB4H,OAAvB,EAAgCv6B,CAAC,IAAIw6B,QAArC,EAA+Cx6B,CAAC,EAAhD,EAAoD;AAChD2yB,UAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;AACA4H,UAAAA,OAAO,GAAG,CAAV;;AACA,eAAK,IAAIn6B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAAxB,EAAgC+wB,IAAhC,EAAsCuC,EAAtC,EAA0CC,EAA1C,EAA8CC,WAAnD,EAAgE16B,CAAC,GAAG0yB,IAApE,EAA0E1yB,CAAC,EAA3E,EAA+E;AAC3Ei4B,YAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACAw6B,YAAAA,EAAE,GAAGvC,IAAI,CAACkC,OAAL,GAAe,CAApB;AACAM,YAAAA,EAAE,GAAGxC,IAAI,CAACoC,OAAL,GAAe,CAApB;AACAK,YAAAA,WAAW,GAAG16B,CAAC,GAAGm6B,OAAlB;;AAEA,gBAAII,SAAS,CAACrzB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,mBAAK,IAAIzG,CAAC,GAAG,CAAR,EAAWk6B,GAAhB,EAAqBl6B,CAAC,GAAG85B,SAAS,CAACrzB,MAAnC,EAA2CzG,CAAC,EAA5C,EAAgD;AAC5Ck6B,gBAAAA,GAAG,GAAGJ,SAAS,CAAC95B,CAAD,CAAf;AACA,oBAAIk6B,GAAG,CAACC,GAAJ,GAAUh7B,CAAd,EAAiB;;AACjB,oBAAI86B,WAAW,IAAIC,GAAG,CAACrxB,KAAvB,EAA8B;AAC1B6wB,kBAAAA,OAAO,IAAIQ,GAAG,CAACH,EAAf;AACAE,kBAAAA,WAAW,IAAIC,GAAG,CAACH,EAAnB;AACAG,kBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,kBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,sBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,oBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,oBAAAA,CAAC;AACJ;AACJ,iBATD,MASO,IAAIT,CAAC,KAAK0yB,IAAI,GAAG,CAAjB,EAAoB;AACvBiI,kBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,kBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,sBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,oBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,oBAAAA,CAAC;AACJ;AACJ;AACJ;AACJ,aA5B0E,CA8B3E;;;AACA,gBAAIb,CAAC,KAAKw6B,QAAN,IAAkBp6B,CAAC,KAAKi6B,SAA5B,EAAuC;AACnCxB,cAAAA,YAAY,CAAC9C,kBAAb,GAAkC+E,WAAlC;AACA;AACH;;AAED,gBAAID,EAAE,GAAG,CAAT,EAAY;AACRH,cAAAA,UAAU,CAACtwB,IAAX,CAAgB;AACZV,gBAAAA,KAAK,EAAEoxB,WADK;AAEZF,gBAAAA,EAAE,EAAEA,EAAE,GAAG,CAFG;AAGZC,gBAAAA,EAAE,EAAEA,EAHQ;AAIZG,gBAAAA,GAAG,EAAE,CAAC;AAJM,eAAhB;AAMH;;AAEDT,YAAAA,OAAO,IAAIK,EAAX;AACH;;AAEDD,UAAAA,SAAS,GAAGA,SAAS,CAAC9xB,MAAV,CAAiB6xB,UAAjB,EAA6BO,IAA7B,CAAkC,UAAUllB,CAAV,EAAamlB,CAAb,EAAgB;AAAC,mBAAOnlB,CAAC,CAACrM,KAAF,GAAUwxB,CAAC,CAACxxB,KAAnB;AAA0B,WAA7E,CAAZ;AACAgxB,UAAAA,UAAU,GAAG,EAAb;AACH;;AAEDA,QAAAA,UAAU,GAAG,IAAb;AACAC,QAAAA,SAAS,GAAG,IAAZ;AACH;AACJ,KAtc0D;AAwc3DQ,IAAAA,SAAS,EAAE,UAAUpa,IAAV,EAAgB/b,MAAhB,EAAwB;AAC/B,YAAM8zB,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;AACA,YAAM8qB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAMA,KAAK,GAAG8qB,YAAY,CAAC1f,QAA3B;AACA,YAAMiiB,KAAK,GAAGra,IAAI,KAAK,KAAvB;;AAEA,UAAIqa,KAAJ,EAAW;AACP,cAAMC,SAAS,GAAGxC,YAAY,CAACjE,UAAb,CAAwBzf,UAA1C;;AACA,YAAI,WAAWhR,IAAX,CAAgBk3B,SAAS,CAAClxB,QAA1B,CAAJ,EAAyC;AACrC,cAAInF,MAAM,KAAK,IAAf,EAAqB;AACjB;AACH,WAFD,MAEO,IAAI,CAACq2B,SAAS,CAAC/K,kBAAX,IAAiC,CAAC,WAAWnsB,IAAX,CAAgBk3B,SAAS,CAAC/K,kBAAV,CAA6BnmB,QAA7C,CAAtC,EAA8F;AACjG4D,YAAAA,KAAK,CAAC5H,SAAN,IAAmB,gBAAgB2yB,WAAW,CAACjB,WAAZ,CAAwB33B,IAAxB,CAA6B,IAA7B,EAAmC,IAAnC,EAAyC24B,YAAY,CAAClD,gBAAtD,EAAwE,KAAxE,CAAhB,GAAiG,eAApH;AACA;AACH;AACJ;AACJ,OAhB8B,CAkB/B;;;AACA,UAAImD,WAAW,CAACM,IAAhB,EAAsB;AAClB,cAAMkC,YAAY,GAAGzC,YAAY,CAAClE,UAAlC;AACA,cAAM9E,aAAa,GAAGiJ,WAAW,CAACK,cAAlC,CAFkB,CAGlB;;AACA,YAAIiC,KAAJ,EAAW;AACP;AACA,cAAI,CAACp2B,MAAL,EAAa;AACT,gBAAIg2B,GAAG,GAAGnL,aAAa,CAAC,CAAD,CAAb,CAAiB1a,UAA3B;AACA,kBAAMomB,WAAW,GAAG,CAAC1L,aAAa,CAAC,CAAD,CAAd,CAApB;;AAEA,iBAAK,IAAI7vB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAA/B,EAAuC+wB,IAA5C,EAAkDr4B,CAAC,GAAG4I,GAAtD,EAA2D5I,CAAC,EAA5D,EAAgE;AAC5Dq4B,cAAAA,IAAI,GAAGxI,aAAa,CAAC7vB,CAAD,CAApB;;AACA,kBAAIg7B,GAAG,KAAK3C,IAAI,CAACljB,UAAjB,EAA6B;AACzBomB,gBAAAA,WAAW,CAACnxB,IAAZ,CAAiBiuB,IAAjB;AACA2C,gBAAAA,GAAG,GAAG3C,IAAI,CAACljB,UAAX;AACH;AACJ;;AAED,iBAAK,IAAInV,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2yB,WAAW,CAACj0B,MAAlC,EAA0CtH,CAAC,GAAG4I,GAA9C,EAAmD5I,CAAC,EAApD,EAAwD;AACpD84B,cAAAA,WAAW,CAACoB,WAAZ,CAAwBh6B,IAAxB,CAA6B,IAA7B,EAAmCq7B,WAAW,CAACv7B,CAAD,CAA9C,EAAmD,IAAnD;AACA84B,cAAAA,WAAW,CAAC0C,OAAZ,CAAoBt7B,IAApB,CAAyB,IAAzB,EAA+B8E,MAA/B;AACH;AACJ,WAhBD,MAgBO;AAAE;AACL8zB,YAAAA,WAAW,CAACoB,WAAZ,CAAwBh6B,IAAxB,CAA6B,IAA7B,EAAmC8E,MAAM,KAAK,IAAX,GAAkB6qB,aAAa,CAAC,CAAD,CAA/B,GAAqCA,aAAa,CAACA,aAAa,CAACvoB,MAAd,GAAuB,CAAxB,CAArF,EAAiH,IAAjH;AACAwxB,YAAAA,WAAW,CAAC0C,OAAZ,CAAoBt7B,IAApB,CAAyB,IAAzB,EAA+B8E,MAA/B,EAAuCs2B,YAAvC;AACH;AACJ,SAtBD,MAsBO;AAAE;AACL,gBAAMG,QAAQ,GAAG5L,aAAa,CAAC,CAAD,CAAb,CAAiB1a,UAAlC,CADG,CAEH;;AACA,cAAI,CAACnQ,MAAL,EAAa;AACT,kBAAMu2B,WAAW,GAAG,CAAC1L,aAAa,CAAC,CAAD,CAAd,CAApB;;AAEA,iBAAK,IAAI7vB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAA/B,EAAuC+wB,IAA5C,EAAkDr4B,CAAC,GAAG4I,GAAtD,EAA2D5I,CAAC,EAA5D,EAAgE;AAC5Dq4B,cAAAA,IAAI,GAAGxI,aAAa,CAAC7vB,CAAD,CAApB;;AACA,kBAAIy7B,QAAQ,KAAKpD,IAAI,CAACljB,UAAtB,EAAkC;AAC9BomB,gBAAAA,WAAW,CAACnxB,IAAZ,CAAiBiuB,IAAjB;AACH,eAFD,MAEO;AACH;AACH;AACJ;;AAED,iBAAK,IAAIr4B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2yB,WAAW,CAACj0B,MAAlC,EAA0CtH,CAAC,GAAG4I,GAA9C,EAAmD5I,CAAC,EAApD,EAAwD;AACpD84B,cAAAA,WAAW,CAACoB,WAAZ,CAAwBh6B,IAAxB,CAA6B,IAA7B,EAAmCq7B,WAAW,CAACv7B,CAAD,CAA9C,EAAmD,IAAnD;AACA84B,cAAAA,WAAW,CAAC4C,QAAZ,CAAqBx7B,IAArB,CAA0B,IAA1B,EAAgC8E,MAAhC;AACH;AACJ,WAhBD,MAgBO;AAAE;AACL,gBAAI22B,SAAS,GAAG,IAAhB;;AAEA,iBAAK,IAAI37B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAAd,GAAuB,CAA7C,EAAgDtH,CAAC,GAAG4I,GAApD,EAAyD5I,CAAC,EAA1D,EAA8D;AAC1D,kBAAIy7B,QAAQ,KAAK5L,aAAa,CAAC7vB,CAAC,GAAG,CAAL,CAAb,CAAqBmV,UAAtC,EAAkD;AAC9CwmB,gBAAAA,SAAS,GAAG9L,aAAa,CAAC7vB,CAAD,CAAzB;AACA;AACH;AACJ;;AAED84B,YAAAA,WAAW,CAACoB,WAAZ,CAAwBh6B,IAAxB,CAA6B,IAA7B,EAAmC8E,MAAM,KAAK,MAAX,GAAoB6qB,aAAa,CAAC,CAAD,CAAjC,GAAuC8L,SAAS,IAAI9L,aAAa,CAAC,CAAD,CAApG,EAAyG,IAAzG;AACAiJ,YAAAA,WAAW,CAAC4C,QAAZ,CAAqBx7B,IAArB,CAA0B,IAA1B,EAAgC8E,MAAhC,EAAwCs2B,YAAxC;AACH;AACJ;;AAED,YAAI,CAACt2B,MAAL,EAAa8zB,WAAW,CAACxzB,IAAZ,CAAiBpF,IAAjB,CAAsB,IAAtB;AAChB,OA7DD,CA6DE;AA7DF,WA8DK;AACD44B,UAAAA,WAAW,CAACsC,KAAK,GAAG,SAAH,GAAe,UAArB,CAAX,CAA4Cl7B,IAA5C,CAAiD,IAAjD,EAAuD8E,MAAvD;AACH,SAnF8B,CAqF/B;;;AACA,UAAI,CAACA,MAAL,EAAa;AACT,cAAMytB,QAAQ,GAAG1kB,KAAK,CAAC0kB,QAAvB;;AACA,aAAK,IAAIzyB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyyB,QAAQ,CAACnrB,MAA7B,EAAqCtH,CAAC,EAAtC,EAA0C;AACtC,cAAIyyB,QAAQ,CAACzyB,CAAD,CAAR,CAAYyyB,QAAZ,CAAqBnrB,MAArB,KAAgC,CAApC,EAAuC;AACnC,iBAAKpE,IAAL,CAAU8S,UAAV,CAAqByc,QAAQ,CAACzyB,CAAD,CAA7B;AACAA,YAAAA,CAAC;AACJ;AACJ;;AAED,YAAI+N,KAAK,CAAC0kB,QAAN,CAAenrB,MAAf,KAA0B,CAA9B,EAAiC,KAAKpE,IAAL,CAAU8S,UAAV,CAAqBjI,KAArB;AACpC;AACJ,KAziB0D;AA2iB3DytB,IAAAA,OAAO,EAAE,UAAUx2B,MAAV,EAAkB42B,oBAAlB,EAAwC;AAC7C,YAAM/C,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAMkD,MAAM,GAAG,CAACjM,MAAhB;AAEA,YAAM62B,EAAE,GAAG72B,MAAM,KAAK,IAAtB;AACA,YAAM82B,cAAc,GAAGjD,YAAY,CAAChD,SAApC;AACA,YAAM2E,QAAQ,GAAGvpB,MAAM,IAAI4qB,EAAV,GAAeC,cAAf,GAAgCA,cAAc,GAAGjD,YAAY,CAAC5C,gBAA9B,GAAiD,CAAlG;AACA,YAAM8F,IAAI,GAAG9qB,MAAM,GAAG,CAAC,CAAJ,GAAQ,CAA3B;AAEA,YAAMmpB,IAAI,GAAGvB,YAAY,CAAChE,WAA1B;AACA,UAAIyF,OAAO,GAAGzB,YAAY,CAAClD,gBAA3B;;AAEA,WAAK,IAAI31B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGkzB,cAAc,IAAI7qB,MAAM,GAAG,CAAC,CAAJ,GAAQ,CAAlB,CAA/B,EAAqDonB,IAA1D,EAAgEr4B,CAAC,IAAI4I,GAArE,EAA0E5I,CAAC,EAA3E,EAA+E;AAC3Eq4B,QAAAA,IAAI,GAAG+B,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAf;AACA,YAAI0F,IAAI,CAAC/wB,MAAL,KAAgB,CAApB,EAAuB;;AAEvB,aAAK,IAAIlH,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGuF,IAAI,CAAC/wB,MAAvB,EAA+BuzB,EAA/B,EAAmCD,EAAxC,EAA4Cx6B,CAAC,GAAG0yB,IAAhD,EAAsD1yB,CAAC,EAAvD,EAA2D;AACvDy6B,UAAAA,EAAE,GAAGxC,IAAI,CAACj4B,CAAD,CAAJ,CAAQq6B,OAAb;AACAG,UAAAA,EAAE,GAAGvC,IAAI,CAACj4B,CAAD,CAAJ,CAAQm6B,OAAb;AACA,cAAIM,EAAE,GAAG,CAAL,IAAUD,EAAE,GAAG,CAAnB,EAAsB;;AAEtB,cAAIC,EAAE,GAAG76B,CAAL,GAASw6B,QAAT,IAAqBA,QAAQ,GAAGx6B,CAApC,EAAuC;AACnCq4B,YAAAA,IAAI,CAACj4B,CAAD,CAAJ,CAAQq6B,OAAR,GAAkBI,EAAE,GAAGkB,IAAvB;AACAzB,YAAAA,OAAO,IAAIM,EAAX;AACH;AACJ;AACJ;;AAED,UAAI3pB,MAAJ,EAAY;AACR,cAAM+c,IAAI,GAAGoM,IAAI,CAAC0B,cAAc,GAAG,CAAlB,CAAjB;;AACA,YAAI9N,IAAJ,EAAU;AACN,gBAAMgO,SAAS,GAAG,EAAlB;AACA,cAAIrJ,KAAK,GAAGyH,IAAI,CAAC0B,cAAD,CAAJ,CAAqBnJ,KAAjC;AACA,cAAI4H,OAAO,GAAG,CAAd;;AAEA,eAAK,IAAIv6B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG+pB,KAAK,CAACrrB,MAAvB,EAA+B+wB,IAA/B,EAAqCyC,WAA1C,EAAuD96B,CAAC,GAAG4I,GAA3D,EAAgE5I,CAAC,EAAjE,EAAqE;AACjEq4B,YAAAA,IAAI,GAAG1F,KAAK,CAAC3yB,CAAD,CAAZ;AACA86B,YAAAA,WAAW,GAAG96B,CAAC,GAAGu6B,OAAlB;AACAA,YAAAA,OAAO,IAAIlC,IAAI,CAACkC,OAAL,GAAe,CAA1B;;AAEA,gBAAIlC,IAAI,CAACoC,OAAL,GAAe,CAAnB,EAAsB;AAClBpC,cAAAA,IAAI,CAACoC,OAAL,IAAgB,CAAhB;AACAuB,cAAAA,SAAS,CAAC5xB,IAAV,CAAe;AAACiuB,gBAAAA,IAAI,EAAEA,IAAI,CAACpO,SAAL,CAAe,KAAf,CAAP;AAA8BvgB,gBAAAA,KAAK,EAAEoxB;AAArC,eAAf;AACH;AACJ;;AAED,cAAIkB,SAAS,CAAC10B,MAAV,GAAmB,CAAvB,EAA0B;AACtB,gBAAI20B,QAAQ,GAAGD,SAAS,CAACE,KAAV,EAAf;AACAvJ,YAAAA,KAAK,GAAG3E,IAAI,CAAC2E,KAAb;AACA4H,YAAAA,OAAO,GAAG,CAAV;;AAEA,iBAAK,IAAIv6B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG+pB,KAAK,CAACrrB,MAAvB,EAA+B+wB,IAA/B,EAAqCyC,WAA1C,EAAuD96B,CAAC,GAAG4I,GAA3D,EAAgE5I,CAAC,EAAjE,EAAqE;AACjEq4B,cAAAA,IAAI,GAAG1F,KAAK,CAAC3yB,CAAD,CAAZ;AACA86B,cAAAA,WAAW,GAAG96B,CAAC,GAAGu6B,OAAlB;AACAA,cAAAA,OAAO,IAAIlC,IAAI,CAACkC,OAAL,GAAe,CAA1B;;AAEA,kBAAIO,WAAW,IAAImB,QAAQ,CAACvyB,KAA5B,EAAmC;AAC/B1J,gBAAAA,CAAC,IAAIu6B,OAAO,EAAZ;AACAA,gBAAAA,OAAO,IAAI0B,QAAQ,CAAC5D,IAAT,CAAckC,OAAd,GAAwB,CAAnC;AACAvM,gBAAAA,IAAI,CAACxF,YAAL,CAAkByT,QAAQ,CAAC5D,IAA3B,EAAiCA,IAAjC;AACA4D,gBAAAA,QAAQ,GAAGD,SAAS,CAACE,KAAV,EAAX;AACA,oBAAI,CAACD,QAAL,EAAe;AAClB;AACJ;;AAED,gBAAIA,QAAJ,EAAc;AACVjO,cAAAA,IAAI,CAACvqB,WAAL,CAAiBw4B,QAAQ,CAAC5D,IAA1B;;AACA,mBAAK,IAAIr4B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGozB,SAAS,CAAC10B,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClDguB,gBAAAA,IAAI,CAACvqB,WAAL,CAAiBu4B,SAAS,CAACh8B,CAAD,CAAT,CAAaq4B,IAA9B;AACH;AACJ;AACJ;AACJ;;AAEDQ,QAAAA,YAAY,CAAC1f,QAAb,CAAsB/H,SAAtB,CAAgCopB,QAAhC;AACH,OA/CD,MA+CO;AACH,cAAM2B,MAAM,GAAGtD,YAAY,CAAC1f,QAAb,CAAsBijB,SAAtB,CAAgC5B,QAAhC,CAAf;;AACA2B,QAAAA,MAAM,CAACh2B,SAAP,GAAmB,KAAK5B,OAAL,CAAawJ,KAAb,CAAmB8pB,WAAnB,CAA+B33B,IAA/B,CAAoC,IAApC,EAA0C,IAA1C,EAAgDo6B,OAAhD,EAAyD,KAAzD,CAAnB;AACH;;AAED,UAAI,CAACrpB,MAAL,EAAa;AACT,aAAK1M,OAAL,CAAawJ,KAAb,CAAmBisB,wBAAnB,CAA4C95B,IAA5C,CAAiD,IAAjD,EAAuD07B,oBAAoB,IAAI/C,YAAY,CAAClE,UAA5F,EAAwG,IAAxG;AACH,OAFD,MAEO;AACH,aAAKrV,cAAL;AACH;AACJ,KAhoB0D;AAkoB3Doc,IAAAA,QAAQ,EAAE,UAAU12B,MAAV,EAAkB42B,oBAAlB,EAAwC;AAC9C,YAAM/C,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAM7K,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM+N,MAAM,GAAG,CAACjM,MAAhB;AAEA,YAAMyL,IAAI,GAAGzL,MAAM,KAAK,MAAxB;AACA,YAAMu1B,OAAO,GAAG1B,YAAY,CAAC7C,gBAA7B;AACA,YAAMqE,SAAS,GAAGppB,MAAM,IAAIR,IAAV,GAAiBooB,YAAY,CAAC9C,kBAA9B,GAAmD8C,YAAY,CAAC9C,kBAAb,GAAkCwE,OAAlC,GAA4C,CAAjH;AAEA,YAAMH,IAAI,GAAGvB,YAAY,CAAChE,WAA1B;AACA,UAAI6F,UAAU,GAAG,EAAjB;AACA,UAAIC,SAAS,GAAG,EAAhB;AACA,UAAI0B,QAAQ,GAAG,CAAf;AACA,YAAMC,UAAU,GAAG,EAAnB;AACA,YAAMC,aAAa,GAAG,EAAtB;;AAEA,WAAK,IAAIv8B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGiwB,YAAY,CAACjD,OAA9B,EAAuCoF,GAAvC,EAA4CwB,WAA5C,EAAyD7J,KAAzD,EAAgEhB,OAAhE,EAAyE8K,SAAzE,EAAoFC,WAAzF,EAAsG18B,CAAC,GAAG4I,GAA1G,EAA+G5I,CAAC,EAAhH,EAAoH;AAChHg7B,QAAAA,GAAG,GAAGZ,IAAI,CAACp6B,CAAD,CAAV;AACAw8B,QAAAA,WAAW,GAAGnC,SAAd;AACAoC,QAAAA,SAAS,GAAG,KAAZ;AACA9J,QAAAA,KAAK,GAAGqI,GAAG,CAACrI,KAAZ;AACA+J,QAAAA,WAAW,GAAG,CAAd;;AAEA,aAAK,IAAIt8B,CAAC,GAAG,CAAR,EAAWi4B,IAAX,EAAiBvF,IAAI,GAAGH,KAAK,CAACrrB,MAA9B,EAAsCuzB,EAAtC,EAA0CD,EAA1C,EAA8C+B,WAAnD,EAAgEv8B,CAAC,GAAG0yB,IAApE,EAA0E1yB,CAAC,EAA3E,EAA+E;AAC3Ei4B,UAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACA,cAAI,CAACi4B,IAAL,EAAW;AAEXwC,UAAAA,EAAE,GAAGxC,IAAI,CAACoC,OAAL,GAAe,CAApB;AACAG,UAAAA,EAAE,GAAGvC,IAAI,CAACkC,OAAL,GAAe,CAApB;;AAEA,cAAI,CAACtpB,MAAL,EAAa;AACT,gBAAI7Q,CAAC,IAAIo8B,WAAT,EAAsB;;AACtB,gBAAI5B,EAAE,GAAG,CAAT,EAAY;AACR,kBAAIyB,QAAQ,GAAG,CAAX,IAAgBzB,EAAE,GAAGx6B,CAAL,IAAUo8B,WAA9B,EAA2C;AACvCnE,gBAAAA,IAAI,CAACkC,OAAL,IAAgB,CAAhB;AACAiC,gBAAAA,WAAW,GAAG,IAAd;AACAH,gBAAAA,QAAQ,GAAGxB,EAAE,GAAG,CAAhB;AACA;AACH;;AAED2B,cAAAA,WAAW,IAAI5B,EAAf;AACH;;AAED,gBAAI,CAAC6B,SAAL,EAAgB;AACZ,mBAAK,IAAI57B,CAAC,GAAG,CAAR,EAAWk6B,GAAhB,EAAqBl6B,CAAC,GAAG85B,SAAS,CAACrzB,MAAnC,EAA2CzG,CAAC,EAA5C,EAAgD;AAC5Ck6B,gBAAAA,GAAG,GAAGJ,SAAS,CAAC95B,CAAD,CAAf;AACA27B,gBAAAA,WAAW,IAAIzB,GAAG,CAACH,EAAnB;AACAG,gBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;;AACA,oBAAIE,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,kBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,kBAAAA,CAAC;AACJ;AACJ;;AACD47B,cAAAA,SAAS,GAAG,IAAZ;AACH;AACJ,WAzBD,MAyBO;AACHE,YAAAA,WAAW,GAAGv8B,CAAC,GAAGs8B,WAAlB;;AAEA,gBAAI/B,SAAS,CAACrzB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,oBAAMksB,QAAQ,GAAG,CAACb,KAAK,CAACvyB,CAAC,GAAG,CAAL,CAAvB;;AACA,mBAAK,IAAIS,CAAC,GAAG,CAAR,EAAWk6B,GAAhB,EAAqBl6B,CAAC,GAAG85B,SAAS,CAACrzB,MAAnC,EAA2CzG,CAAC,EAA5C,EAAgD;AAC5Ck6B,gBAAAA,GAAG,GAAGJ,SAAS,CAAC95B,CAAD,CAAf;AACA,oBAAIk6B,GAAG,CAACC,GAAJ,GAAUh7B,CAAd,EAAiB;;AAEjB,oBAAI28B,WAAW,IAAI5B,GAAG,CAACrxB,KAAvB,EAA8B;AAC1BgzB,kBAAAA,WAAW,IAAI3B,GAAG,CAACH,EAAnB;AACA+B,kBAAAA,WAAW,GAAGv8B,CAAC,GAAGs8B,WAAlB;AACA3B,kBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,kBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,sBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,oBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,oBAAAA,CAAC;AACJ;AACJ,iBATD,MASO,IAAI2yB,QAAJ,EAAc;AACjBuH,kBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,kBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,sBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,oBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,oBAAAA,CAAC;AACJ;AACJ;AACJ;AACJ;;AAED,gBAAIg6B,EAAE,GAAG,CAAT,EAAY;AACRH,cAAAA,UAAU,CAACtwB,IAAX,CAAgB;AACZywB,gBAAAA,EAAE,EAAEA,EADQ;AAEZD,gBAAAA,EAAE,EAAEA,EAAE,GAAG,CAFG;AAGZlxB,gBAAAA,KAAK,EAAEizB,WAHK;AAIZ3B,gBAAAA,GAAG,EAAE,CAAC;AAJM,eAAhB;AAMH;;AAED,gBAAI2B,WAAW,IAAIH,WAAf,IAA8BG,WAAW,GAAG/B,EAAd,IAAoB4B,WAAW,GAAGjC,OAApE,EAA6E;AACzE+B,cAAAA,UAAU,CAAClyB,IAAX,CAAgBiuB,IAAhB;AACH,aAFD,MAEO,IAAIsE,WAAW,IAAIH,WAAW,GAAGjC,OAA7B,IAAwCoC,WAAW,GAAG/B,EAAd,IAAoB4B,WAAhE,EAA6E;AAChFnE,cAAAA,IAAI,CAACkC,OAAL,IAAgBr3B,IAAI,CAAC05B,sBAAL,CAA4BvC,SAA5B,EAAuCA,SAAS,GAAGE,OAAnD,EAA4DoC,WAA5D,EAAyEA,WAAW,GAAG/B,EAAvF,CAAhB;AACH,aAFM,MAEA,IAAIC,EAAE,GAAG,CAAL,KAAW8B,WAAW,GAAGH,WAAd,IAA6BG,WAAW,GAAG/B,EAAd,GAAmB4B,WAAW,GAAGjC,OAAzE,CAAJ,EAAuF;AAC1FgC,cAAAA,aAAa,CAACnyB,IAAd,CAAmB;AACfiuB,gBAAAA,IAAI,EAAEA,IADS;AAEfr4B,gBAAAA,CAAC,EAAEA,CAFY;AAGf66B,gBAAAA,EAAE,EAAE76B,CAAC,GAAG66B;AAHO,eAAnB;AAKH;;AAED6B,YAAAA,WAAW,IAAI9B,EAAf;AACH;AACJ;;AAEDD,QAAAA,SAAS,GAAGA,SAAS,CAAC9xB,MAAV,CAAiB6xB,UAAjB,EAA6BO,IAA7B,CAAkC,UAAUllB,CAAV,EAAamlB,CAAb,EAAgB;AAAC,iBAAOnlB,CAAC,CAACrM,KAAF,GAAUwxB,CAAC,CAACxxB,KAAnB;AAA0B,SAA7E,CAAZ;AACAgxB,QAAAA,UAAU,GAAG,EAAb;;AAEA,YAAI,CAACzpB,MAAL,EAAa;AACT,cAAIorB,QAAQ,GAAG,CAAf,EAAkB;AACdA,YAAAA,QAAQ,IAAI,CAAZ;AACA;AACH;;AAED,cAAIG,WAAW,KAAK,IAAhB,IAAwB7J,KAAK,CAACrrB,MAAN,GAAe,CAA3C,EAA8C;AAC1CqqB,YAAAA,OAAO,GAAG,KAAKptB,OAAL,CAAawJ,KAAb,CAAmB8pB,WAAnB,CAA+B33B,IAA/B,CAAoC,IAApC,EAA0CyyB,KAAK,CAAC,CAAD,CAAL,CAASxoB,QAAnD,EAA6D,CAA7D,EAAgE,IAAhE,CAAV;AACAwnB,YAAAA,OAAO,GAAGqJ,GAAG,CAACxS,YAAJ,CAAiBmJ,OAAjB,EAA0BgB,KAAK,CAAC6J,WAAD,CAA/B,CAAV;AACH;AACJ;AACJ;;AAED,UAAIvrB,MAAJ,EAAY;AACR,YAAI4rB,WAAJ,EAAiBC,SAAjB;;AACA,aAAK,IAAIj8B,CAAC,GAAG,CAAR,EAAWk8B,IAAI,GAAGT,UAAU,CAACh1B,MAA7B,EAAqC0zB,GAA1C,EAA+Cn6B,CAAC,GAAGk8B,IAAnD,EAAyDl8B,CAAC,EAA1D,EAA8D;AAC1Dm6B,UAAAA,GAAG,GAAGsB,UAAU,CAACz7B,CAAD,CAAV,CAAcsU,UAApB;AACAjS,UAAAA,IAAI,CAAC8S,UAAL,CAAgBsmB,UAAU,CAACz7B,CAAD,CAA1B;;AACA,cAAIm6B,GAAG,CAACrI,KAAJ,CAAUrrB,MAAV,KAAqB,CAAzB,EAA4B;AACxB,gBAAI,CAACu1B,WAAL,EAAkBA,WAAW,GAAG35B,IAAI,CAAC85B,aAAL,CAAmB5C,IAAnB,EAAyBY,GAAzB,CAAd;AAClB8B,YAAAA,SAAS,GAAG55B,IAAI,CAAC85B,aAAL,CAAmB5C,IAAnB,EAAyBY,GAAzB,CAAZ;AACA93B,YAAAA,IAAI,CAAC8S,UAAL,CAAgBglB,GAAhB;AACH;AACJ;;AAED,aAAK,IAAI56B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGyJ,aAAa,CAACj1B,MAAhC,EAAwC21B,WAA7C,EAA0D78B,CAAC,GAAG0yB,IAA9D,EAAoE1yB,CAAC,EAArE,EAAyE;AACrE68B,UAAAA,WAAW,GAAGV,aAAa,CAACn8B,CAAD,CAA3B;AACA68B,UAAAA,WAAW,CAAC5E,IAAZ,CAAiBoC,OAAjB,GAA2Bv3B,IAAI,CAAC05B,sBAAL,CAA4BC,WAA5B,EAAyCC,SAAzC,EAAoDG,WAAW,CAACj9B,CAAhE,EAAmEi9B,WAAW,CAACpC,EAA/E,CAA3B;AACH;;AAED,aAAKvb,cAAL;AACH,OAlBD,MAkBO;AACH,aAAK/a,OAAL,CAAawJ,KAAb,CAAmBisB,wBAAnB,CAA4C95B,IAA5C,CAAiD,IAAjD,EAAuD07B,oBAAoB,IAAI/C,YAAY,CAAClE,UAA5F,EAAwG,IAAxG;AACH;AACJ,KApxB0D;AAsxB3DuI,IAAAA,eAAe,EAAE,IAtxB0C;AAuxB3DC,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKj6B,IAAL,CAAUsR,QAAV,CAAmB,KAAK3R,OAAL,CAAakL,KAAb,CAAmBunB,WAAtC,EAAmD,IAAnD;AACA,WAAKzyB,OAAL,CAAakL,KAAb,CAAmBwnB,SAAnB,CAA6BjyB,KAA7B,CAAmCC,OAAnC,GAA6C,cAA7C;;AAEA,WAAKgB,OAAL,CAAawJ,KAAb,CAAmBmvB,eAAnB,GAAqC,YAAY;AAC7C,aAAKh6B,IAAL,CAAUuR,WAAV,CAAsB,KAAK5R,OAAL,CAAakL,KAAb,CAAmBunB,WAAzC,EAAsD,IAAtD;AACA,aAAKzyB,OAAL,CAAakL,KAAb,CAAmBwnB,SAAnB,CAA6BjyB,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;AACA,aAAKqa,cAAL,CAAoB,WAApB,EAAiC,KAAKrZ,OAAL,CAAawJ,KAAb,CAAmBmvB,eAApD;AACA,aAAK34B,OAAL,CAAawJ,KAAb,CAAmBmvB,eAAnB,GAAqC,IAArC;AACH,OALoC,CAKnC37B,IALmC,CAK9B,IAL8B,CAArC;;AAOA,WAAKsc,WAAL,CAAiB,WAAjB,EAA8B,KAAKtZ,OAAL,CAAawJ,KAAb,CAAmBmvB,eAAjD;AACH,KAnyB0D;AAqyB3D5qB,IAAAA,UAAU,EAAE,UAAUiO,SAAV,EAAqB;AAC7B,YAAMrd,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMk6B,QAAQ,GAAG7c,SAAS,KAAK,UAA/B;AACA,YAAMsY,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAMsvB,WAAW,GAAGxE,YAAY,CAAClE,UAAjC;AACA,YAAMyF,IAAI,GAAGvB,YAAY,CAAChE,WAA1B;AACA,YAAMyI,UAAU,GAAGzE,YAAY,CAACjE,UAAhC;AACA,YAAMlrB,KAAK,GAAGmvB,YAAY,CAAC9C,kBAA3B;AACA,YAAMyE,QAAQ,GAAG3B,YAAY,CAAChD,SAA9B;AACA,YAAMlE,OAAO,GAAG,KAAKptB,OAAL,CAAawJ,KAAb,CAAmB8pB,WAAnB,CAA+B33B,IAA/B,CAAoC,IAApC,EAA0Cm9B,WAAW,CAAClzB,QAAtD,EAAgE,CAAhE,EAAmE,IAAnE,CAAhB,CAT6B,CAW7B;;AACA,UAAIizB,QAAJ,EAAc;AACV,cAAMG,cAAc,GAAGF,WAAW,CAAC9C,OAAnC;AACA5I,QAAAA,OAAO,CAAC8I,OAAR,GAAkB4C,WAAW,CAAC5C,OAA9B,CAFU,CAIV;;AACA,YAAI8C,cAAc,GAAG,CAArB,EAAwB;AACpB5L,UAAAA,OAAO,CAAC4I,OAAR,GAAkB,KAAKnzB,EAAL,CAAQ0U,IAAR,CAAa0hB,KAAb,CAAmBD,cAAc,GAAC,CAAlC,CAAlB;AACAF,UAAAA,WAAW,CAAC9C,OAAZ,GAAsBgD,cAAc,GAAG5L,OAAO,CAAC4I,OAA/C;AACA+C,UAAAA,UAAU,CAAC9U,YAAX,CAAwBmJ,OAAxB,EAAiC0L,WAAW,CAAC/M,kBAA7C;AACH,SAJD,MAIO;AAAE;AACL,cAAIoK,UAAU,GAAG,EAAjB;AACA,cAAIC,SAAS,GAAG,EAAhB;;AAEA,eAAK,IAAI36B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGiwB,YAAY,CAACjD,OAA9B,EAAuCjD,KAAvC,EAA8C4H,OAAnD,EAA4Dv6B,CAAC,GAAG4I,GAAhE,EAAqE5I,CAAC,EAAtE,EAA0E;AACtE2yB,YAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;AACA4H,YAAAA,OAAO,GAAG,CAAV;;AACA,iBAAK,IAAIn6B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAAxB,EAAgC+wB,IAAhC,EAAsCuC,EAAtC,EAA0CC,EAA1C,EAA8CC,WAAnD,EAAgE16B,CAAC,GAAG0yB,IAApE,EAA0E1yB,CAAC,EAA3E,EAA+E;AAC3Ei4B,cAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACAw6B,cAAAA,EAAE,GAAGvC,IAAI,CAACkC,OAAL,GAAe,CAApB;AACAM,cAAAA,EAAE,GAAGxC,IAAI,CAACoC,OAAL,GAAe,CAApB;AACAK,cAAAA,WAAW,GAAG16B,CAAC,GAAGm6B,OAAlB;;AAEA,kBAAII,SAAS,CAACrzB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,qBAAK,IAAIzG,CAAC,GAAG,CAAR,EAAWk6B,GAAhB,EAAqBl6B,CAAC,GAAG85B,SAAS,CAACrzB,MAAnC,EAA2CzG,CAAC,EAA5C,EAAgD;AAC5Ck6B,kBAAAA,GAAG,GAAGJ,SAAS,CAAC95B,CAAD,CAAf;AACA,sBAAIk6B,GAAG,CAACC,GAAJ,GAAUh7B,CAAd,EAAiB;;AACjB,sBAAI86B,WAAW,IAAIC,GAAG,CAACrxB,KAAvB,EAA8B;AAC1B6wB,oBAAAA,OAAO,IAAIQ,GAAG,CAACH,EAAf;AACAE,oBAAAA,WAAW,IAAIC,GAAG,CAACH,EAAnB;AACAG,oBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,oBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,wBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,sBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,sBAAAA,CAAC;AACJ;AACJ,mBATD,MASO,IAAIT,CAAC,KAAK0yB,IAAI,GAAG,CAAjB,EAAoB;AACvBiI,oBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,oBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,wBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,sBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,sBAAAA,CAAC;AACJ;AACJ;AACJ;AACJ;;AAED,kBAAIi6B,WAAW,IAAIpxB,KAAf,IAAwBmxB,EAAE,GAAG,CAAjC,EAAoC;AAChCH,gBAAAA,UAAU,CAACtwB,IAAX,CAAgB;AACZV,kBAAAA,KAAK,EAAEoxB,WADK;AAEZF,kBAAAA,EAAE,EAAEA,EAAE,GAAG,CAFG;AAGZC,kBAAAA,EAAE,EAAEA,EAHQ;AAIZG,kBAAAA,GAAG,EAAE,CAAC;AAJM,iBAAhB;AAMH;;AAED,kBAAI3C,IAAI,KAAKgF,WAAT,IAAwBvC,WAAW,IAAIpxB,KAAvC,IAAgDoxB,WAAW,GAAGF,EAAd,IAAoBlxB,KAAK,GAAG6zB,cAAR,GAAyB,CAAjG,EAAoG;AAChGlF,gBAAAA,IAAI,CAACkC,OAAL,IAAgB,CAAhB;AACA;AACH;;AAED,kBAAIO,WAAW,GAAGpxB,KAAlB,EAAyB;AAEzB6wB,cAAAA,OAAO,IAAIK,EAAX;AACH;;AAEDD,YAAAA,SAAS,GAAGA,SAAS,CAAC9xB,MAAV,CAAiB6xB,UAAjB,EAA6BO,IAA7B,CAAkC,UAAUllB,CAAV,EAAamlB,CAAb,EAAgB;AAAC,qBAAOnlB,CAAC,CAACrM,KAAF,GAAUwxB,CAAC,CAACxxB,KAAnB;AAA0B,aAA7E,CAAZ;AACAgxB,YAAAA,UAAU,GAAG,EAAb;AACH;;AAED4C,UAAAA,UAAU,CAAC9U,YAAX,CAAwBmJ,OAAxB,EAAiC0L,WAAW,CAAC/M,kBAA7C;AACH;AACJ,OAvED,MAuEO;AAAE;AACL,cAAMmN,cAAc,GAAGJ,WAAW,CAAC5C,OAAnC;AACA9I,QAAAA,OAAO,CAAC4I,OAAR,GAAkB8C,WAAW,CAAC9C,OAA9B,CAFG,CAIH;;AACA,YAAIkD,cAAc,GAAG,CAArB,EAAwB;AACpB9L,UAAAA,OAAO,CAAC8I,OAAR,GAAkB,KAAKrzB,EAAL,CAAQ0U,IAAR,CAAa0hB,KAAb,CAAmBC,cAAc,GAAC,CAAlC,CAAlB;AACA,gBAAMC,UAAU,GAAGD,cAAc,GAAG9L,OAAO,CAAC8I,OAA5C;AAEA,gBAAMC,UAAU,GAAG,EAAnB;AACA,gBAAMiD,YAAY,GAAGz6B,IAAI,CAAC85B,aAAL,CAAmB5C,IAAnB,EAAyBkD,UAAzB,IAAuCI,UAA5D;;AAEA,eAAK,IAAI19B,CAAC,GAAG,CAAR,EAAW2yB,KAAX,EAAkB4H,OAAvB,EAAgCv6B,CAAC,GAAG29B,YAApC,EAAkD39B,CAAC,EAAnD,EAAuD;AACnD2yB,YAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;AACA4H,YAAAA,OAAO,GAAG,CAAV;;AACA,iBAAK,IAAIn6B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAAxB,EAAgC+wB,IAAhC,EAAsCuC,EAAtC,EAA0CE,WAA/C,EAA4D16B,CAAC,GAAG0yB,IAAhE,EAAsE1yB,CAAC,EAAvE,EAA2E;AACvE06B,cAAAA,WAAW,GAAG16B,CAAC,GAAGm6B,OAAlB;AACA,kBAAIO,WAAW,IAAIpxB,KAAnB,EAA0B;AAE1B2uB,cAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACAw6B,cAAAA,EAAE,GAAGvC,IAAI,CAACoC,OAAL,GAAe,CAApB;;AACA,kBAAIG,EAAE,GAAG,CAAL,IAAUA,EAAE,GAAG56B,CAAL,IAAU29B,YAApB,IAAoC7C,WAAW,GAAGpxB,KAAtD,EAA6D;AACzDgxB,gBAAAA,UAAU,CAACtwB,IAAX,CAAgB;AACZV,kBAAAA,KAAK,EAAEoxB,WADK;AAEZF,kBAAAA,EAAE,EAAEvC,IAAI,CAACkC;AAFG,iBAAhB;AAIH;;AACDA,cAAAA,OAAO,IAAIlC,IAAI,CAACkC,OAAL,GAAe,CAA1B;AACH;AACJ;;AAED,gBAAMqD,OAAO,GAAGxD,IAAI,CAACuD,YAAD,CAApB;AACA,gBAAME,SAAS,GAAGD,OAAO,CAACjL,KAA1B;AACA,cAAIkI,EAAE,GAAGH,UAAU,CAACwB,KAAX,EAAT;;AAEA,eAAK,IAAI97B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAG+K,SAAS,CAACv2B,MAA5B,EAAoCizB,OAAO,GAAG,CAA9C,EAAiDlC,IAAjD,EAAuDuC,EAAvD,EAA2DE,WAA3D,EAAwE0B,WAA7E,EAA0Fp8B,CAAC,GAAG0yB,IAA9F,EAAoG1yB,CAAC,EAArG,EAAyG;AACrG06B,YAAAA,WAAW,GAAG16B,CAAC,GAAGm6B,OAAlB;AACAlC,YAAAA,IAAI,GAAGwF,SAAS,CAACz9B,CAAD,CAAhB;AACAw6B,YAAAA,EAAE,GAAGvC,IAAI,CAACkC,OAAL,GAAe,CAApB;AACAiC,YAAAA,WAAW,GAAG1B,WAAW,GAAGF,EAAd,GAAmB,CAAjC;;AAEA,gBAAIC,EAAE,IAAI2B,WAAW,IAAI3B,EAAE,CAACnxB,KAA5B,EAAmC;AAC/B6wB,cAAAA,OAAO,IAAIM,EAAE,CAACD,EAAd;AACA4B,cAAAA,WAAW,IAAI3B,EAAE,CAACD,EAAlB;AACAC,cAAAA,EAAE,GAAGH,UAAU,CAACwB,KAAX,EAAL;AACH;;AAED,gBAAIM,WAAW,IAAI9yB,KAAf,IAAwBtJ,CAAC,KAAK0yB,IAAI,GAAG,CAAzC,EAA4C;AACxC8K,cAAAA,OAAO,CAACpV,YAAR,CAAqBmJ,OAArB,EAA8B0G,IAAI,CAAC/H,kBAAnC;AACA;AACH;;AAEDiK,YAAAA,OAAO,IAAIK,EAAX;AACH;;AAEDyC,UAAAA,WAAW,CAAC5C,OAAZ,GAAsBiD,UAAtB;AACH,SAnDD,MAmDO;AAAE;AACL/L,UAAAA,OAAO,CAAC8I,OAAR,GAAkB4C,WAAW,CAAC5C,OAA9B;AACA,gBAAM0B,MAAM,GAAGj5B,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAf;AACAg5B,UAAAA,MAAM,CAAC14B,WAAP,CAAmBkuB,OAAnB;;AAEA,eAAK,IAAI3xB,CAAC,GAAG,CAAR,EAAW2yB,KAAhB,EAAuB3yB,CAAC,GAAGw6B,QAA3B,EAAqCx6B,CAAC,EAAtC,EAA0C;AACtC2yB,YAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;AACA,gBAAIA,KAAK,CAACrrB,MAAN,KAAiB,CAArB,EAAwB;;AAExB,iBAAK,IAAIlH,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAA7B,EAAqClH,CAAC,GAAG0yB,IAAzC,EAA+C1yB,CAAC,EAAhD,EAAoD;AAChD,kBAAIJ,CAAC,GAAG2yB,KAAK,CAACvyB,CAAD,CAAL,CAASq6B,OAAb,GAAuB,CAAvB,IAA4BD,QAAhC,EAA0C;AACtC7H,gBAAAA,KAAK,CAACvyB,CAAD,CAAL,CAASq6B,OAAT,IAAoB,CAApB;AACH;AACJ;AACJ;;AAED,gBAAMqD,aAAa,GAAGjF,YAAY,CAAC/C,mBAAnC;AACA,gBAAMnD,KAAK,GAAG2K,UAAU,CAAC3K,KAAzB;;AAEA,eAAK,IAAIvyB,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAA7B,EAAqClH,CAAC,GAAG0yB,IAAzC,EAA+C1yB,CAAC,EAAhD,EAAoD;AAChD,gBAAIA,CAAC,KAAK09B,aAAV,EAAyB;AACzBnL,YAAAA,KAAK,CAACvyB,CAAD,CAAL,CAASq6B,OAAT,IAAoB,CAApB;AACH;;AAED6C,UAAAA,UAAU,CAACnoB,UAAX,CAAsBqT,YAAtB,CAAmC2T,MAAnC,EAA2CmB,UAAU,CAAChN,kBAAtD;AACH;AACJ;;AAED,WAAKyN,SAAL,CAAeV,WAAf;AACA,WAAK94B,OAAL,CAAawJ,KAAb,CAAmBisB,wBAAnB,CAA4C95B,IAA5C,CAAiD,IAAjD,EAAuDm9B,WAAvD,EAAoE,IAApE;AACH,KA98B0D;AAg9B3DhrB,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMymB,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;AACA,YAAM8qB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAM7K,IAAI,GAAG,KAAKA,IAAlB;AAEA,YAAM86B,GAAG,GAAGlF,WAAW,CAACM,IAAxB;AACA,YAAMvJ,aAAa,GAAGiJ,WAAW,CAACK,cAAlC;AACA,YAAM8E,SAAS,GAAGpO,aAAa,CAAC,CAAD,CAA/B;AAEA,UAAIqO,aAAa,GAAG,IAApB;AACA,UAAIC,YAAY,GAAG,IAAnB;AACA,UAAIvD,EAAE,GAAIoD,GAAG,CAACI,EAAJ,GAASJ,GAAG,CAACpD,EAAd,GAAoB,CAA7B;AACA,UAAIC,EAAE,GAAImD,GAAG,CAACK,EAAJ,GAASL,GAAG,CAACnD,EAAd,GAAoB,CAA7B;AACA,UAAIyD,SAAS,GAAG,EAAhB;AACA,UAAItD,GAAG,GAAG,IAAV;;AAEA,WAAK,IAAIh7B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAA/B,EAAuC+wB,IAAvC,EAA6CkG,EAAlD,EAAsDv+B,CAAC,GAAG4I,GAA1D,EAA+D5I,CAAC,EAAhE,EAAoE;AAChEq4B,QAAAA,IAAI,GAAGxI,aAAa,CAAC7vB,CAAD,CAApB;AACA,YAAIg7B,GAAG,KAAK3C,IAAI,CAACljB,UAAjB,EAA6B6lB,GAAG,GAAG3C,IAAI,CAACljB,UAAX;AAE7BopB,QAAAA,EAAE,GAAGlG,IAAI,CAAC5F,QAAV;;AACA,aAAK,IAAIryB,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGyL,EAAE,CAACj3B,MAA1B,EAAkClH,CAAC,GAAG0yB,IAAtC,EAA4C1yB,CAAC,EAA7C,EAAiD;AAC7C,cAAI8C,IAAI,CAACyiB,eAAL,CAAqB4Y,EAAE,CAACn+B,CAAD,CAAvB,KAA+B8C,IAAI,CAACs7B,kBAAL,CAAwBD,EAAE,CAACn+B,CAAD,CAAF,CAAMif,WAA9B,CAAnC,EAA+E;AAC3Enc,YAAAA,IAAI,CAAC8S,UAAL,CAAgBuoB,EAAE,CAACn+B,CAAD,CAAlB;AACH;AACJ;;AAEDk+B,QAAAA,SAAS,IAAIjG,IAAI,CAAClyB,SAAlB;AACAjD,QAAAA,IAAI,CAAC8S,UAAL,CAAgBqiB,IAAhB;;AAEA,YAAI2C,GAAG,CAACrI,KAAJ,CAAUrrB,MAAV,KAAqB,CAAzB,EAA4B;AACxB,cAAI,CAAC42B,aAAL,EAAoBA,aAAa,GAAGlD,GAAhB,CAApB,KACKmD,YAAY,GAAGnD,GAAf;AACLH,UAAAA,EAAE,IAAI,CAAN;AACH;AACJ;;AAED,UAAIqD,aAAJ,EAAmB;AACf,cAAM9D,IAAI,GAAGvB,YAAY,CAAChE,WAA1B;AACA,cAAM4J,aAAa,GAAGv7B,IAAI,CAAC85B,aAAL,CAAmB5C,IAAnB,EAAyB8D,aAAzB,CAAtB;AACA,cAAMQ,YAAY,GAAGx7B,IAAI,CAAC85B,aAAL,CAAmB5C,IAAnB,EAAyB+D,YAAY,IAAID,aAAzC,CAArB;AACA,cAAMS,UAAU,GAAG,EAAnB;;AAEA,aAAK,IAAI3+B,CAAC,GAAG,CAAR,EAAW2yB,KAAhB,EAAuB3yB,CAAC,IAAI0+B,YAA5B,EAA0C1+B,CAAC,EAA3C,EAA+C;AAC3C2yB,UAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;;AACA,cAAIA,KAAK,CAACrrB,MAAN,KAAiB,CAArB,EAAwB;AACpBq3B,YAAAA,UAAU,CAACv0B,IAAX,CAAgBgwB,IAAI,CAACp6B,CAAD,CAApB;AACA;AACH;;AAED,eAAK,IAAII,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAAxB,EAAgC+wB,IAAhC,EAAsCwC,EAA3C,EAA+Cz6B,CAAC,GAAG0yB,IAAnD,EAAyD1yB,CAAC,EAA1D,EAA8D;AAC1Di4B,YAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACAy6B,YAAAA,EAAE,GAAGxC,IAAI,CAACoC,OAAL,GAAe,CAApB;;AACA,gBAAII,EAAE,GAAG,CAAL,IAAU76B,CAAC,GAAG66B,EAAJ,IAAU4D,aAAxB,EAAuC;AACnCpG,cAAAA,IAAI,CAACoC,OAAL,IAAgBv3B,IAAI,CAAC05B,sBAAL,CAA4B6B,aAA5B,EAA2CC,YAA3C,EAAyD1+B,CAAzD,EAA4DA,CAAC,GAAG66B,EAAhE,CAAhB;AACH;AACJ;AACJ;;AAED,aAAK,IAAI76B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG+1B,UAAU,CAACr3B,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnDkD,UAAAA,IAAI,CAAC8S,UAAL,CAAgB2oB,UAAU,CAAC3+B,CAAD,CAA1B;AACH;AACJ;;AAEDi+B,MAAAA,SAAS,CAAC93B,SAAV,IAAuBm4B,SAAvB;AACAL,MAAAA,SAAS,CAAC1D,OAAV,GAAoBK,EAApB;AACAqD,MAAAA,SAAS,CAACxD,OAAV,GAAoBI,EAApB;AAEA,WAAKvb,cAAL;AACAwZ,MAAAA,WAAW,CAAC8F,eAAZ,CAA4B1+B,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,KAA7C;AACA44B,MAAAA,WAAW,CAACU,yBAAZ,CAAsCt5B,IAAtC,CAA2C,IAA3C,EAAiD+9B,SAAjD;AAEA/6B,MAAAA,IAAI,CAACsR,QAAL,CAAcypB,SAAd,EAAyB,wBAAzB;AACA,WAAKF,SAAL,CAAeE,SAAf;AACH,KA1hC0D;AA4hC3DY,IAAAA,YAAY,EAAE,YAAY;AACtB,YAAM37B,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAMkyB,YAAY,GAAG,KAAKvyB,OAAL,CAAakL,KAAb,CAAmBqnB,YAAxC;AACA,YAAM1P,MAAM,GAAGxiB,IAAI,CAACmgB,QAAL,CAAc+R,YAAd,EAA4B,QAA5B,CAAf;AACA,YAAMrnB,KAAK,GAAG,KAAKlL,OAAL,CAAakL,KAAb,CAAmBoL,QAAjC;;AAEA,UAAI,CAACuM,MAAL,EAAa;AACT,cAAMzD,MAAM,GAAG/e,IAAI,CAACC,aAAL,CAAmB,OAAnB,CAAf;AACA8e,QAAAA,MAAM,CAAC9b,SAAP,GAAmB,SAAS,KAAK5B,OAAL,CAAawJ,KAAb,CAAmB8pB,WAAnB,CAA+B33B,IAA/B,CAAoC,IAApC,EAA0C,IAA1C,EAAgD,KAAK2C,OAAL,CAAakL,KAAb,CAAmB4nB,gBAAnE,EAAqF,KAArF,CAAT,GAAuG,OAA1H;AACA5nB,QAAAA,KAAK,CAACya,YAAN,CAAmBvG,MAAnB,EAA2BlU,KAAK,CAACgP,iBAAjC;AACH,OAJD,MAIO;AACH7Z,QAAAA,IAAI,CAAC8S,UAAL,CAAgBjI,KAAK,CAACsJ,aAAN,CAAoB,OAApB,CAAhB;AACH;;AAEDnU,MAAAA,IAAI,CAACwxB,WAAL,CAAiBU,YAAjB,EAA+B,QAA/B;;AAEA,UAAI,MAAMjxB,IAAN,CAAW,KAAKtB,OAAL,CAAakL,KAAb,CAAmB4mB,UAAnB,CAA8BxqB,QAAzC,CAAJ,EAAwD;AACpD,aAAKmV,cAAL;AACH,OAFD,MAEO;AACH,aAAK/a,OAAL,CAAawJ,KAAb,CAAmBisB,wBAAnB,CAA4C95B,IAA5C,CAAiD,IAAjD,EAAuD,KAAK2C,OAAL,CAAakL,KAAb,CAAmB4mB,UAA1E,EAAsF,KAAtF;AACH;AACJ,KAjjC0D;AAmjC3DoF,IAAAA,aAAa,EAAE,UAAU+E,MAAV,EAAkB;AAC7B,YAAMjG,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;AACA,YAAM6rB,YAAY,GAAGf,YAAY,CAAC1f,QAAlC;AACA,UAAIsW,IAAJ,EAAUsP,IAAV,EAAgBC,QAAhB,EAA0BvvB,IAA1B;;AAEA,UAAIqvB,MAAM,CAACx0B,OAAP,CAAe,OAAf,IAA0B,CAAC,CAA/B,EAAkC;AAC9BmlB,QAAAA,IAAI,GAAIoJ,YAAY,CAACnhB,YAAb,CAA0BqF,iBAAlC;AACAgiB,QAAAA,IAAI,GAAGlG,YAAY,CAAC1D,UAApB;;AAEA,YAAI,CAAC0D,YAAY,CAAC9D,SAAlB,EAA6B;AACzBiK,UAAAA,QAAQ,GAAGnG,YAAY,CAAC9kB,KAAb,CAAmBmiB,SAA9B;AACAzmB,UAAAA,IAAI,GAAGopB,YAAY,CAACrD,OAApB;AACAqD,UAAAA,YAAY,CAACnC,iBAAb,CAA+BpzB,KAA/B,CAAqCC,OAArC,GAA+C,MAA/C;AACA,eAAKL,IAAL,CAAUuR,WAAV,CAAsBmlB,YAAtB,EAAoC,mBAApC;AACA,eAAK12B,IAAL,CAAUsR,QAAV,CAAmBolB,YAAnB,EAAiC,oBAAjC;AACH,SAND,MAMO;AACHoF,UAAAA,QAAQ,GAAGnG,YAAY,CAAC9kB,KAAb,CAAmBoiB,SAA9B;AACA1mB,UAAAA,IAAI,GAAGopB,YAAY,CAACpD,OAApB;AACAoD,UAAAA,YAAY,CAACnC,iBAAb,CAA+BpzB,KAA/B,CAAqCC,OAArC,GAA+C,OAA/C;AACA,eAAKL,IAAL,CAAUuR,WAAV,CAAsBmlB,YAAtB,EAAoC,oBAApC;AACA,eAAK12B,IAAL,CAAUsR,QAAV,CAAmBolB,YAAnB,EAAiC,mBAAjC;AACH;;AAED,aAAK12B,IAAL,CAAU4Z,aAAV,CAAwB2S,IAAxB,EAA8BuP,QAA9B;AACA,aAAK97B,IAAL,CAAUqZ,SAAV,CAAoBwiB,IAApB,EAA0BtvB,IAA1B;AACH;;AAED,UAAIqvB,MAAM,CAACx0B,OAAP,CAAe,QAAf,IAA2B,CAAC,CAAhC,EAAmC;AAC/B,YAAI,CAACuuB,YAAY,CAAC7D,YAAlB,EAAgC;AAC5B,eAAK9xB,IAAL,CAAUuR,WAAV,CAAsBmlB,YAAtB,EAAoC,uBAApC;AACA,eAAK12B,IAAL,CAAUsR,QAAV,CAAmBolB,YAAnB,EAAiC,sBAAjC;AACA,eAAK12B,IAAL,CAAUuR,WAAV,CAAsBokB,YAAY,CAACnC,iBAAnC,EAAsD,QAAtD;AACH,SAJD,MAIO;AACH,eAAKxzB,IAAL,CAAUuR,WAAV,CAAsBmlB,YAAtB,EAAoC,sBAApC;AACA,eAAK12B,IAAL,CAAUsR,QAAV,CAAmBolB,YAAnB,EAAiC,uBAAjC;AACA,eAAK12B,IAAL,CAAUsR,QAAV,CAAmBqkB,YAAY,CAACnC,iBAAhC,EAAmD,QAAnD;AACH;AAEJ;AACJ,KA1lC0D;AA4lC3DkI,IAAAA,eAAe,EAAE,UAAUK,SAAV,EAAqBC,YAArB,EAAmC;AAChD,YAAMrG,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;;AAEA,UAAI,QAAQ5J,IAAR,CAAa86B,SAAS,CAAC90B,QAAvB,CAAJ,EAAsC;AAClC0uB,QAAAA,YAAY,CAACjC,oBAAb,CAAkC7wB,YAAlC,CAA+C,UAA/C,EAA2D,IAA3D;AACA8yB,QAAAA,YAAY,CAAChC,oBAAb,CAAkC9wB,YAAlC,CAA+C,UAA/C,EAA2D,IAA3D;AACH,OAHD,MAGO;AACH8yB,QAAAA,YAAY,CAACjC,oBAAb,CAAkCrsB,eAAlC,CAAkD,UAAlD;AACAsuB,QAAAA,YAAY,CAAChC,oBAAb,CAAkCtsB,eAAlC,CAAkD,UAAlD;AACH;;AAED,UAAI,CAAC20B,YAAD,IAAiBD,SAAS,KAAKC,YAAnC,EAAiD;AAC7CrG,QAAAA,YAAY,CAACvD,WAAb,CAAyB/qB,eAAzB,CAAyC,UAAzC;AACAsuB,QAAAA,YAAY,CAACxD,WAAb,CAAyBtvB,YAAzB,CAAsC,UAAtC,EAAkD,IAAlD;AACH,OAHD,MAGO;AACH8yB,QAAAA,YAAY,CAACvD,WAAb,CAAyBvvB,YAAzB,CAAsC,UAAtC,EAAkD,IAAlD;AACA8yB,QAAAA,YAAY,CAACxD,WAAb,CAAyB9qB,eAAzB,CAAyC,UAAzC;AACH;AACJ,KA9mC0D;AAgnC3D;AACA40B,IAAAA,aAAa,EAAE,IAjnC4C;AAknC3DC,IAAAA,cAAc,EAAE,IAlnC2C;AAmnC3DC,IAAAA,aAAa,EAAE,IAnnC4C;AAonC3DlG,IAAAA,cAAc,EAAE,IApnC2C;AAqnC3DD,IAAAA,MAAM,EAAE,KArnCmD;AAsnC3DG,IAAAA,UAAU,EAAE,IAtnC+C;AAunC3DE,IAAAA,cAAc,EAAE,IAvnC2C;AAwnC3DD,IAAAA,aAAa,EAAE,IAxnC4C;AAynC3DN,IAAAA,cAAc,EAAE,IAznC2C;AA0nC3DI,IAAAA,IAAI,EAAE,IA1nCqD;AA2nC3DH,IAAAA,aAAa,EAAE,UAAUqG,OAAV,EAAmB;AAC9B,WAAKz8B,OAAL,CAAamB,OAAb,CAAqB+E,OAArB,CAA6BhD,YAA7B,CAA0C,iBAA1C,EAA6Du5B,OAA7D;AACA,UAAIA,OAAJ,EAAa,KAAKp8B,IAAL,CAAUuR,WAAV,CAAsB,KAAK5R,OAAL,CAAamB,OAAb,CAAqB+E,OAA3C,EAAoD,aAApD,EAAb,KACK,KAAK7F,IAAL,CAAUsR,QAAV,CAAmB,KAAK3R,OAAL,CAAamB,OAAb,CAAqB+E,OAAxC,EAAiD,aAAjD;AACR,KA/nC0D;AAioC3Dw2B,IAAAA,mBAAmB,EAAE,UAAUr7B,CAAV,EAAa;AAC9BA,MAAAA,CAAC,CAACG,eAAF;AACA,YAAMy0B,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;;AAEA,UAAI,CAAC+qB,WAAW,CAACI,MAAjB,EAAyB;AACrBJ,QAAAA,WAAW,CAACC,aAAZ,CAA0B74B,IAA1B,CAA+B,IAA/B;;AACA44B,QAAAA,WAAW,CAACG,aAAZ,CAA0B/4B,IAA1B,CAA+B,IAA/B,EAAqC,IAArC;AACH,OAHD,MAGO,IAAI44B,WAAW,CAAC0G,SAAhB,EAA2B;AAC9B,aAAKC,GAAL,CAAS36B,mBAAT,CAA6B,WAA7B,EAA0Cg0B,WAAW,CAAC0G,SAAtD;;AACA1G,QAAAA,WAAW,CAAC0G,SAAZ,GAAwB,IAAxB;AACH;;AAED,UAAI,CAAC1G,WAAW,CAACO,UAAb,IAA2B,CAACP,WAAW,CAACE,cAA5C,EAA4D;AAE5DF,MAAAA,WAAW,CAAC8F,eAAZ,CAA4B1+B,IAA5B,CAAiC,IAAjC,EAAuC44B,WAAW,CAACO,UAAnD,EAA+DP,WAAW,CAACQ,aAA3E;AACAR,MAAAA,WAAW,CAACU,yBAAZ,CAAsCt5B,IAAtC,CAA2C,IAA3C,EAAiD44B,WAAW,CAACQ,aAAZ,IAA6BR,WAAW,CAACO,UAA1F;AAEAP,MAAAA,WAAW,CAACK,cAAZ,GAA6BL,WAAW,CAACE,cAAZ,CAA2BnhB,gBAA3B,CAA4C,yBAA5C,CAA7B;AACA,UAAIihB,WAAW,CAACQ,aAAZ,IAA6BR,WAAW,CAACO,UAA7C,EAAyD,KAAK0E,SAAL,CAAejF,WAAW,CAACQ,aAA3B;;AAEzD,UAAI,CAACR,WAAW,CAACI,MAAjB,EAAyB;AACrBJ,QAAAA,WAAW,CAACO,UAAZ,GAAyB,IAAzB;AACAP,QAAAA,WAAW,CAACQ,aAAZ,GAA4B,IAA5B;AACAR,QAAAA,WAAW,CAACS,cAAZ,GAA6B,IAA7B;AACH;AACJ,KA1pC0D;AA4pC3DmG,IAAAA,kBAAkB,EAAE,UAAUx7B,CAAV,EAAa;AAC7B,WAAKy7B,SAAL,GAAiB,IAAjB;AACA,YAAM7G,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;AACA,YAAM3J,MAAM,GAAG,KAAKlB,IAAL,CAAU8G,gBAAV,CAA2B9F,CAAC,CAACE,MAA7B,EAAqC,KAAKlB,IAAL,CAAU2uB,MAA/C,CAAf;;AAEA,UAAIiH,WAAW,CAACI,MAAhB,EAAwB;AACpB,YAAI90B,MAAM,KAAK00B,WAAW,CAACO,UAA3B,EAAuCP,WAAW,CAACG,aAAZ,CAA0B/4B,IAA1B,CAA+B,IAA/B,EAAqC,IAArC,EAAvC,KACK44B,WAAW,CAACG,aAAZ,CAA0B/4B,IAA1B,CAA+B,IAA/B,EAAqC,KAArC;AACR,OAHD,MAGO,IAAI,CAAC44B,WAAW,CAACM,IAAjB,EAAuB;AAC1B,YAAIh1B,MAAM,KAAK00B,WAAW,CAACO,UAA3B,EAAuC,OAAvC,KACKP,WAAW,CAACG,aAAZ,CAA0B/4B,IAA1B,CAA+B,IAA/B,EAAqC,KAArC;AACR;;AAED,UAAI,CAACkE,MAAD,IAAWA,MAAM,KAAK00B,WAAW,CAACQ,aAAlC,IAAmDR,WAAW,CAACS,cAAZ,KAA+Bn1B,MAAM,CAAC+F,QAAzF,IACA2uB,WAAW,CAACE,cAAZ,KAA+B,KAAK91B,IAAL,CAAU8G,gBAAV,CAA2B5F,MAA3B,EAAmC,OAAnC,CADnC,EACgF;AAC5E;AACH;;AAED00B,MAAAA,WAAW,CAACQ,aAAZ,GAA4Bl1B,MAA5B;;AACA00B,MAAAA,WAAW,CAAC8G,cAAZ,CAA2B1/B,IAA3B,CAAgC,IAAhC,EAAsC44B,WAAW,CAACO,UAAlD,EAA8Dj1B,MAA9D;AACH,KAhrC0D;AAkrC3Dw7B,IAAAA,cAAc,EAAE,UAAUC,SAAV,EAAqBC,OAArB,EAA8B;AAC1C,YAAMhH,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;AACA,YAAMqsB,IAAI,GAAGtB,WAAW,CAACE,cAAZ,CAA2BoB,IAAxC;AACA,YAAMl3B,IAAI,GAAG,KAAKA,IAAlB;;AAEA,YAAM2sB,aAAa,GAAGiJ,WAAW,CAACE,cAAZ,CAA2BnhB,gBAA3B,CAA4C,yBAA5C,CAAtB;;AACA,WAAK,IAAI7X,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtDkD,QAAAA,IAAI,CAACuR,WAAL,CAAiBob,aAAa,CAAC7vB,CAAD,CAA9B,EAAmC,wBAAnC;AACH;;AAED,UAAI6/B,SAAS,KAAKC,OAAlB,EAA2B;AACvB58B,QAAAA,IAAI,CAACsR,QAAL,CAAcqrB,SAAd,EAAyB,wBAAzB;AACA,YAAI,CAAC/G,WAAW,CAACI,MAAjB,EAAyB;AAC5B;;AAED,UAAI6G,gBAAgB,GAAG,IAAvB;AACA,UAAIpF,SAAS,GAAG,EAAhB;AACA,UAAID,UAAU,GAAG,EAAjB;AACA,YAAMsD,GAAG,GAAGlF,WAAW,CAACM,IAAZ,GAAmB;AAAC4G,QAAAA,EAAE,EAAE,CAAL;AAAQpF,QAAAA,EAAE,EAAE,IAAZ;AAAkBwD,QAAAA,EAAE,EAAE,IAAtB;AAA4BvD,QAAAA,EAAE,EAAE,IAAhC;AAAsCwD,QAAAA,EAAE,EAAE;AAA1C,OAA/B;;AAEA,WAAK,IAAIr+B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGwxB,IAAI,CAAC9yB,MAAtB,EAA8BqrB,KAA9B,EAAqC4H,OAA1C,EAAmDv6B,CAAC,GAAG4I,GAAvD,EAA4D5I,CAAC,EAA7D,EAAiE;AAC7D2yB,QAAAA,KAAK,GAAGyH,IAAI,CAACp6B,CAAD,CAAJ,CAAQ2yB,KAAhB;AACA4H,QAAAA,OAAO,GAAG,CAAV;;AAEA,aAAK,IAAIn6B,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGH,KAAK,CAACrrB,MAAxB,EAAgC+wB,IAAhC,EAAsCyC,WAAtC,EAAmDF,EAAnD,EAAuDC,EAA5D,EAAgEz6B,CAAC,GAAG0yB,IAApE,EAA0E1yB,CAAC,EAA3E,EAA+E;AAC3Ei4B,UAAAA,IAAI,GAAG1F,KAAK,CAACvyB,CAAD,CAAZ;AACAw6B,UAAAA,EAAE,GAAGvC,IAAI,CAACkC,OAAL,GAAe,CAApB;AACAM,UAAAA,EAAE,GAAGxC,IAAI,CAACoC,OAAL,GAAe,CAApB;AACAK,UAAAA,WAAW,GAAG16B,CAAC,GAAGm6B,OAAlB;;AAEA,cAAII,SAAS,CAACrzB,MAAV,GAAmB,CAAvB,EAA0B;AACtB,iBAAK,IAAIzG,CAAC,GAAG,CAAR,EAAWk6B,GAAhB,EAAqBl6B,CAAC,GAAG85B,SAAS,CAACrzB,MAAnC,EAA2CzG,CAAC,EAA5C,EAAgD;AAC5Ck6B,cAAAA,GAAG,GAAGJ,SAAS,CAAC95B,CAAD,CAAf;AACA,kBAAIk6B,GAAG,CAACC,GAAJ,GAAUh7B,CAAd,EAAiB;;AACjB,kBAAI86B,WAAW,IAAIC,GAAG,CAACrxB,KAAvB,EAA8B;AAC1B6wB,gBAAAA,OAAO,IAAIQ,GAAG,CAACH,EAAf;AACAE,gBAAAA,WAAW,IAAIC,GAAG,CAACH,EAAnB;AACAG,gBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,gBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,oBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,kBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,kBAAAA,CAAC;AACJ;AACJ,eATD,MASO,IAAIT,CAAC,KAAK0yB,IAAI,GAAG,CAAjB,EAAoB;AACvBiI,gBAAAA,GAAG,CAACF,EAAJ,IAAU,CAAV;AACAE,gBAAAA,GAAG,CAACC,GAAJ,GAAUh7B,CAAC,GAAG,CAAd;;AACA,oBAAI+6B,GAAG,CAACF,EAAJ,GAAS,CAAb,EAAgB;AACZF,kBAAAA,SAAS,CAAClwB,MAAV,CAAiB5J,CAAjB,EAAoB,CAApB;AACAA,kBAAAA,CAAC;AACJ;AACJ;AACJ;AACJ;;AAED,cAAIk/B,gBAAJ,EAAsB;AAClB,gBAAI1H,IAAI,KAAKwH,SAAT,IAAsBxH,IAAI,KAAKyH,OAAnC,EAA4C;AACxC9B,cAAAA,GAAG,CAACpD,EAAJ,GAASoD,GAAG,CAACpD,EAAJ,KAAW,IAAX,IAAmBoD,GAAG,CAACpD,EAAJ,GAASE,WAA5B,GAA0CkD,GAAG,CAACpD,EAA9C,GAAmDE,WAA5D;AACAkD,cAAAA,GAAG,CAACI,EAAJ,GAASJ,GAAG,CAACI,EAAJ,KAAW,IAAX,IAAmBJ,GAAG,CAACI,EAAJ,GAAStD,WAAW,GAAGF,EAA1C,GAA+CoD,GAAG,CAACI,EAAnD,GAAwDtD,WAAW,GAAGF,EAA/E;AACAoD,cAAAA,GAAG,CAACnD,EAAJ,GAASmD,GAAG,CAACnD,EAAJ,KAAW,IAAX,IAAmBmD,GAAG,CAACnD,EAAJ,GAAS76B,CAA5B,GAAgCg+B,GAAG,CAACnD,EAApC,GAAyC76B,CAAlD;AACAg+B,cAAAA,GAAG,CAACK,EAAJ,GAASL,GAAG,CAACK,EAAJ,KAAW,IAAX,IAAmBL,GAAG,CAACK,EAAJ,GAASr+B,CAAC,GAAG66B,EAAhC,GAAqCmD,GAAG,CAACK,EAAzC,GAA8Cr+B,CAAC,GAAG66B,EAA3D;AACAmD,cAAAA,GAAG,CAACgC,EAAJ,IAAU,CAAV;AACH;;AAED,gBAAIhC,GAAG,CAACgC,EAAJ,KAAW,CAAf,EAAkB;AACdD,cAAAA,gBAAgB,GAAG,KAAnB;AACApF,cAAAA,SAAS,GAAG,EAAZ;AACAD,cAAAA,UAAU,GAAG,EAAb;AACA16B,cAAAA,CAAC,GAAG,CAAC,CAAL;AACA;AACH;AACJ,WAhBD,MAgBO,IAAIkD,IAAI,CAAC05B,sBAAL,CAA4BoB,GAAG,CAACpD,EAAhC,EAAoCoD,GAAG,CAACI,EAAxC,EAA4CtD,WAA5C,EAAyDA,WAAW,GAAGF,EAAvE,KAA8E13B,IAAI,CAAC05B,sBAAL,CAA4BoB,GAAG,CAACnD,EAAhC,EAAoCmD,GAAG,CAACK,EAAxC,EAA4Cr+B,CAA5C,EAA+CA,CAAC,GAAG66B,EAAnD,CAAlF,EAA0I;AAC7I,kBAAMoF,KAAK,GAAGjC,GAAG,CAACpD,EAAJ,GAASE,WAAT,GAAuBkD,GAAG,CAACpD,EAA3B,GAAgCE,WAA9C;AACA,kBAAMoF,KAAK,GAAGlC,GAAG,CAACI,EAAJ,GAAStD,WAAW,GAAGF,EAAvB,GAA4BoD,GAAG,CAACI,EAAhC,GAAqCtD,WAAW,GAAGF,EAAjE;AACA,kBAAMuF,KAAK,GAAGnC,GAAG,CAACnD,EAAJ,GAAS76B,CAAT,GAAag+B,GAAG,CAACnD,EAAjB,GAAsB76B,CAApC;AACA,kBAAMogC,KAAK,GAAGpC,GAAG,CAACK,EAAJ,GAASr+B,CAAC,GAAG66B,EAAb,GAAkBmD,GAAG,CAACK,EAAtB,GAA2Br+B,CAAC,GAAG66B,EAA7C;;AAEA,gBAAImD,GAAG,CAACpD,EAAJ,KAAWqF,KAAX,IAAoBjC,GAAG,CAACI,EAAJ,KAAW8B,KAA/B,IAAwClC,GAAG,CAACnD,EAAJ,KAAWsF,KAAnD,IAA4DnC,GAAG,CAACK,EAAJ,KAAW+B,KAA3E,EAAkF;AAC9EpC,cAAAA,GAAG,CAACpD,EAAJ,GAASqF,KAAT;AACAjC,cAAAA,GAAG,CAACI,EAAJ,GAAS8B,KAAT;AACAlC,cAAAA,GAAG,CAACnD,EAAJ,GAASsF,KAAT;AACAnC,cAAAA,GAAG,CAACK,EAAJ,GAAS+B,KAAT;AACApgC,cAAAA,CAAC,GAAG,CAAC,CAAL;AAEA26B,cAAAA,SAAS,GAAG,EAAZ;AACAD,cAAAA,UAAU,GAAG,EAAb;AACA;AACH;;AAEDx3B,YAAAA,IAAI,CAACsR,QAAL,CAAc6jB,IAAd,EAAoB,wBAApB;AACH;;AAED,cAAIwC,EAAE,GAAG,CAAT,EAAY;AACRH,YAAAA,UAAU,CAACtwB,IAAX,CAAgB;AACZV,cAAAA,KAAK,EAAEoxB,WADK;AAEZF,cAAAA,EAAE,EAAEA,EAAE,GAAG,CAFG;AAGZC,cAAAA,EAAE,EAAEA,EAHQ;AAIZG,cAAAA,GAAG,EAAE,CAAC;AAJM,aAAhB;AAMH;;AAEDT,UAAAA,OAAO,IAAIlC,IAAI,CAACkC,OAAL,GAAe,CAA1B;AACH;;AAEDI,QAAAA,SAAS,GAAGA,SAAS,CAAC9xB,MAAV,CAAiB6xB,UAAjB,EAA6BO,IAA7B,CAAkC,UAAUllB,CAAV,EAAamlB,CAAb,EAAgB;AAAC,iBAAOnlB,CAAC,CAACrM,KAAF,GAAUwxB,CAAC,CAACxxB,KAAnB;AAA0B,SAA7E,CAAZ;AACAgxB,QAAAA,UAAU,GAAG,EAAb;AACH;AACJ,KA5xC0D;AA8xC3D3B,IAAAA,aAAa,EAAE,YAAY;AACvB,YAAMD,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;;AAEA,UAAI+qB,WAAW,CAAC0G,SAAhB,EAA2B;AACvB,aAAKC,GAAL,CAAS36B,mBAAT,CAA6B,WAA7B,EAA0Cg0B,WAAW,CAAC0G,SAAtD;;AACA1G,QAAAA,WAAW,CAAC0G,SAAZ,GAAwB,IAAxB;AACH;;AAED,UAAI1G,WAAW,CAACqG,aAAhB,EAA+B;AAC3B,aAAKM,GAAL,CAAS36B,mBAAT,CAA6B,WAA7B,EAA0Cg0B,WAAW,CAACqG,aAAtD;;AACA,aAAKM,GAAL,CAAS36B,mBAAT,CAA6B,WAA7B,EAA0Cg0B,WAAW,CAACqG,aAAtD;;AACArG,QAAAA,WAAW,CAACqG,aAAZ,GAA4B,IAA5B;AACH;;AAED,UAAIrG,WAAW,CAACsG,cAAhB,EAAgC;AAC5B,aAAKK,GAAL,CAAS36B,mBAAT,CAA6B,SAA7B,EAAwCg0B,WAAW,CAACsG,cAApD;;AACAtG,QAAAA,WAAW,CAACsG,cAAZ,GAA6B,IAA7B;AACH;;AAED,UAAItG,WAAW,CAACuG,aAAhB,EAA+B;AAC3B,aAAKI,GAAL,CAAS36B,mBAAT,CAA6B,OAA7B,EAAsCg0B,WAAW,CAACuG,aAAlD;;AACAvG,QAAAA,WAAW,CAACuG,aAAZ,GAA4B,IAA5B;AACH;AACJ,KArzC0D;AAuzC3DG,IAAAA,SAAS,EAAE,IAvzCgD;AAwzC3Da,IAAAA,sBAAsB,EAAE,UAAU5G,SAAV,EAAqByC,KAArB,EAA4B;AAChD,YAAMpD,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;;AAEA+qB,MAAAA,WAAW,CAACC,aAAZ,CAA0B74B,IAA1B,CAA+B,IAA/B;;AACA,WAAKof,cAAL;AAEAwZ,MAAAA,WAAW,CAACI,MAAZ,GAAqBgD,KAArB;AACApD,MAAAA,WAAW,CAACO,UAAZ,GAAyBI,SAAzB;AACAX,MAAAA,WAAW,CAACS,cAAZ,GAA6BE,SAAS,CAACtvB,QAAvC;AACA2uB,MAAAA,WAAW,CAACE,cAAZ,GAA6B,KAAK91B,IAAL,CAAU8G,gBAAV,CAA2ByvB,SAA3B,EAAsC,OAAtC,CAA7B;;AAEA,YAAM5J,aAAa,GAAGiJ,WAAW,CAACE,cAAZ,CAA2BnhB,gBAA3B,CAA4C,yBAA5C,CAAtB;;AACA,WAAK,IAAI7X,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGinB,aAAa,CAACvoB,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD,aAAKkD,IAAL,CAAUuR,WAAV,CAAsBob,aAAa,CAAC7vB,CAAD,CAAnC,EAAwC,wBAAxC;AACH;;AAED,WAAKkD,IAAL,CAAUsR,QAAV,CAAmBilB,SAAnB,EAA8B,wBAA9B;AAEAX,MAAAA,WAAW,CAACqG,aAAZ,GAA4BrG,WAAW,CAAC4G,kBAAZ,CAA+Bn+B,IAA/B,CAAoC,IAApC,CAA5B;AACAu3B,MAAAA,WAAW,CAACsG,cAAZ,GAA6BtG,WAAW,CAACyG,mBAAZ,CAAgCh+B,IAAhC,CAAqC,IAArC,CAA7B;;AAEA,UAAI,CAAC26B,KAAL,EAAY;AACR,aAAKuD,GAAL,CAAS57B,gBAAT,CAA0B,WAA1B,EAAuCi1B,WAAW,CAACqG,aAAnD,EAAkE,KAAlE;AACH,OAFD,MAEO;AACHrG,QAAAA,WAAW,CAACuG,aAAZ,GAA4B,YAAY;AACpC,eAAK9hB,aAAL,CAAmB,KAAK1a,OAAL,CAAakL,KAAb,CAAmBqJ,SAAtC,EAAiD,KAAKvU,OAAL,CAAakL,KAAb,CAAmByoB,eAApE,EAAqF,KAAKjyB,OAAL,CAAawJ,KAAb,CAAmBzI,IAAnB,CAAwB/D,IAAxB,CAA6B,IAA7B,CAArF,EAAyHk4B,SAAzH,EAAoI,OAApI;AACA,cAAI,CAACX,WAAW,CAACM,IAAjB,EAAuB,KAAK9Z,cAAL;AAC1B,SAH2B,CAG1B/d,IAH0B,CAGrB,IAHqB,CAA5B;;AAKA,aAAKk+B,GAAL,CAAS57B,gBAAT,CAA0B,OAA1B,EAAmCi1B,WAAW,CAACuG,aAA/C,EAA8D,KAA9D;;AACA,aAAKI,GAAL,CAAS57B,gBAAT,CAA0B,WAA1B,EAAuCi1B,WAAW,CAACqG,aAAnD,EAAkE,KAAlE;AACH;;AAED,WAAKM,GAAL,CAAS57B,gBAAT,CAA0B,SAA1B,EAAqCi1B,WAAW,CAACsG,cAAjD,EAAiE,KAAjE;;AACAtG,MAAAA,WAAW,CAAC0G,SAAZ,GAAwB1G,WAAW,CAACxzB,IAAZ,CAAiB/D,IAAjB,CAAsB,IAAtB,CAAxB;;AACA,WAAKk+B,GAAL,CAAS57B,gBAAT,CAA0B,WAA1B,EAAuCi1B,WAAW,CAAC0G,SAAnD,EAA8D,KAA9D;AACH,KA51C0D;AA81C3DxI,IAAAA,uBAAuB,EAAE,UAAU9yB,CAAV,EAAa;AAClCA,MAAAA,CAAC,CAACG,eAAF;AACA,YAAMD,MAAM,GAAGF,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,IAAwCJ,CAAC,CAACE,MAA1C,GAAmDF,CAAC,CAACE,MAAF,CAAS+Q,UAA3E;AAEA,UAAI/Q,MAAM,CAACE,YAAP,CAAoB,UAApB,CAAJ,EAAqC;AAErC,YAAMwZ,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAhB;AACA,YAAMtD,KAAK,GAAGoD,MAAM,CAACE,YAAP,CAAoB,YAApB,CAAd;AACA,YAAMU,MAAM,GAAGZ,MAAM,CAACE,YAAP,CAAoB,aAApB,CAAf;AACA,YAAMw0B,WAAW,GAAG,KAAKv0B,OAAL,CAAawJ,KAAjC;;AAEA,UAAI,OAAO+qB,WAAW,CAACoE,eAAnB,KAAuC,UAA3C,EAAuD;AACnDpE,QAAAA,WAAW,CAACoE,eAAZ;;AACA,YAAIpf,OAAO,KAAK,SAAhB,EAA2B;AAC9B;;AAED,UAAI,CAACA,OAAL,EAAc;AAEd5Z,MAAAA,CAAC,CAACoU,cAAF;AACA,YAAMugB,YAAY,GAAG,KAAKh2B,OAAL,CAAakL,KAAlC;;AAEA,cAAQ+P,OAAR;AACI,aAAK,QAAL;AACA,aAAK,QAAL;AACIgb,UAAAA,WAAW,CAACqC,SAAZ,CAAsBj7B,IAAtB,CAA2B,IAA3B,EAAiCc,KAAjC,EAAwCgE,MAAxC;AACA;;AACJ,aAAK,QAAL;AACI8zB,UAAAA,WAAW,CAAC+F,YAAZ,CAAyB3+B,IAAzB,CAA8B,IAA9B;AACA;;AACJ,aAAK,SAAL;AACI44B,UAAAA,WAAW,CAACqE,aAAZ,CAA0Bj9B,IAA1B,CAA+B,IAA/B;AACA;;AACJ,aAAK,OAAL;AACI44B,UAAAA,WAAW,CAACxmB,UAAZ,CAAuBpS,IAAvB,CAA4B,IAA5B,EAAkCc,KAAlC;AACA;;AACJ,aAAK,OAAL;AACI83B,UAAAA,WAAW,CAACzmB,UAAZ,CAAuBnS,IAAvB,CAA4B,IAA5B;AACA;;AACJ,aAAK,QAAL;AACI24B,UAAAA,YAAY,CAAC9D,SAAb,GAAyB,CAAC8D,YAAY,CAAC9D,SAAvC;AACA+D,UAAAA,WAAW,CAACiB,aAAZ,CAA0B75B,IAA1B,CAA+B,IAA/B,EAAqC,OAArC;AACA44B,UAAAA,WAAW,CAACe,wBAAZ,CAAqC35B,IAArC,CAA0C,IAA1C,EAAgD24B,YAAY,CAAC1f,QAA7D;AACA2f,UAAAA,WAAW,CAACkB,wBAAZ,CAAqC95B,IAArC,CAA0C,IAA1C,EAAgD24B,YAAY,CAAClE,UAA7D,EAAyEmE,WAAW,CAACI,MAArF;AACA;;AACJ,aAAK,QAAL;AACIL,UAAAA,YAAY,CAAC7D,YAAb,GAA4B,CAAC6D,YAAY,CAAC7D,YAA1C;AACA8D,UAAAA,WAAW,CAACiB,aAAZ,CAA0B75B,IAA1B,CAA+B,IAA/B,EAAqC,QAArC;AACA44B,UAAAA,WAAW,CAACe,wBAAZ,CAAqC35B,IAArC,CAA0C,IAA1C,EAAgD24B,YAAY,CAAC1f,QAA7D;AACA2f,UAAAA,WAAW,CAACkB,wBAAZ,CAAqC95B,IAArC,CAA0C,IAA1C,EAAgD24B,YAAY,CAAClE,UAA7D,EAAyEmE,WAAW,CAACI,MAArF;AACA;;AACJ,aAAK,QAAL;AACI,gBAAMoH,QAAQ,GAAGzH,YAAY,CAAC1f,QAAb,CAAsBhE,UAAvC;AACA,eAAKjS,IAAL,CAAU8S,UAAV,CAAqB6iB,YAAY,CAAC1f,QAAlC;AACA,eAAKmG,cAAL;AAEA,cAAIghB,QAAQ,KAAK,KAAKz9B,OAAL,CAAamB,OAAb,CAAqB+E,OAAtC,EAA+C,KAAK7F,IAAL,CAAUq9B,oBAAV,CAA+BD,QAA/B,EAAyC,UAAUnhB,OAAV,EAAmB;AAAE,mBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAArC;AAAyC,WAAvG,EAAyG,IAAzG;AAC/C,eAAKjC,KAAL;AAnCR,OArBkC,CA2DlC;;;AACA,WAAKma,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AA35C0D,GAAlC;AA+5C7B;AAAO,CAlwLG;AAmwLV;;AACA;AAAO,UAAS1K,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,UADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACoM,QAAR,GAAmB,EAAnB;AAEA;;AACA,UAAIuxB,WAAW,GAAG,KAAKlb,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAlB;AAEA;;AACA49B,MAAAA,WAAW,CAACnpB,aAAZ,CAA0B,IAA1B,EAAgCxT,gBAAhC,CAAiD,OAAjD,EAA0D,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAA1D;AAEA;;AACAA,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8CilB,WAA9C;AAEA;;AACAA,MAAAA,WAAW,GAAG,IAAd;AACH,KAlB0D;AAoB3Dlb,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMmb,YAAY,GAAG,KAAK59B,OAAL,CAAamC,MAAb,CAAoB07B,SAAzC;;AACA,UAAI,CAACD,YAAD,IAAiBA,YAAY,CAACn5B,MAAb,KAAwB,CAA7C,EAAgD;AAC5C,cAAM/E,KAAK,CAAC,uGAAD,CAAX;AACH;;AAED,YAAMiR,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,eAApB;AAEA,UAAIoK,IAAI,GAAG,2CACH,4BADR;;AAEA,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG63B,YAAY,CAACn5B,MAA9B,EAAsCrG,CAA3C,EAA8CjB,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxDiB,QAAAA,CAAC,GAAGw/B,YAAY,CAACzgC,CAAD,CAAhB;AACAwN,QAAAA,IAAI,IAAI,+DAA+DxN,CAA/D,GAAmE,WAAnE,GAAiFiB,CAAC,CAACX,IAAnF,GAA0F,IAA1F,GAAiGW,CAAC,CAACX,IAAnG,GAA0G,gBAAlH;AACH;;AACDkN,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KAxC0D;AA0C3DgS,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjB,UAAI,CAAC,YAAYC,IAAZ,CAAiBD,CAAC,CAACE,MAAF,CAASwgB,OAA1B,CAAL,EAAyC,OAAO,KAAP;AAEzC1gB,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMqR,IAAI,GAAG,KAAK7S,OAAL,CAAamC,MAAb,CAAoB07B,SAApB,CAA8Bx8B,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,YAAtB,CAA9B,CAAb;;AAEA,UAAIoR,IAAI,CAACoY,IAAT,EAAe;AACX,aAAK6S,WAAL,CAAiBjrB,IAAI,CAACoY,IAAtB;AACH,OAFD,MAEO;AACH,aAAK5H,UAAL;AACA,cAAM3jB,KAAK,CAAC,iEAAD,CAAX;AACH;;AAED,WAAK2jB,UAAL;AACH;AA1D0D,GAAlC;AA6D7B;AAAO,CA90LG;AA+0LV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;;;;;;AASA;;;AAA6BA,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,WADqD;AAE3DiD,IAAAA,OAAO,EAAE,SAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB2Y,aAAhB,EAA+B;AAChC,YAAM1Y,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACuM,SAAR,GAAoB;AAChBwxB,QAAAA,UAAU,EAAE;AADI,OAApB;AAIA;;AACA,UAAIptB,OAAO,GAAG,KAAK8R,UAAL,CAAgBplB,IAAhB,CAAqB0C,IAArB,CAAd;AACA,UAAI2iB,MAAM,GAAG/R,OAAO,CAAC6D,aAAR,CAAsB,IAAtB,CAAb;AAEA;;AACAkO,MAAAA,MAAM,CAAC1hB,gBAAP,CAAwB,OAAxB,EAAiC,KAAK2hB,MAAL,CAAYjkB,IAAZ,CAAiBqB,IAAjB,CAAjC;AAEAC,MAAAA,OAAO,CAACuM,SAAR,CAAkBwxB,UAAlB,GAA+BptB,OAAO,CAACqE,gBAAR,CAAyB,WAAzB,CAA/B;AAEA;;AACAjV,MAAAA,IAAI,CAAC6iB,cAAL,CAAoB,KAAKnlB,IAAzB,EAA+Bib,aAA/B,EAA8C/H,OAA9C;AAEA;;AACAA,MAAAA,OAAO,GAAG,IAAV,EAAgB+R,MAAM,GAAG,IAAzB;AACH,KAvB0D;AAyB3DD,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMtgB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMwO,OAAO,GAAG,KAAKtQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAhB;AACAqQ,MAAAA,OAAO,CAACpQ,SAAR,GAAoB,yCAApB;AAEA,YAAMgxB,WAAW,GAAG;AAChBnoB,QAAAA,IAAI,EAAE;AACF3L,UAAAA,IAAI,EAAE,KAAK8F,IAAL,CAAUqM,IAAV,CAAexG,IADnB;AAEFmgB,UAAAA,KAAK,EAAE,cAFL;AAGFriB,UAAAA,GAAG,EAAE;AAHH,SADU;AAMhB8I,QAAAA,WAAW,EAAE;AACTvS,UAAAA,IAAI,EAAE,KAAK8F,IAAL,CAAUqM,IAAV,CAAeI,WADZ;AAETvP,UAAAA,KAAK,EAAE,eAFE;AAGTyG,UAAAA,GAAG,EAAE;AAHI,SANG;AAWhB+I,QAAAA,MAAM,EAAE;AACJxS,UAAAA,IAAI,EAAE,KAAK8F,IAAL,CAAUqM,IAAV,CAAeK,MADjB;AAEJsZ,UAAAA,KAAK,EAAE,gBAFH;AAGJriB,UAAAA,GAAG,EAAE;AAHD;AAXQ,OAApB;AAiBA,YAAM82B,SAAS,GAAG,CAAC77B,MAAM,CAAC87B,UAAR,GAAqB,KAAK15B,EAAL,CAAQ3G,MAAR,CAAe4G,IAAf,CAAoB+sB,WAApB,CAArB,GAAwDpvB,MAAM,CAAC87B,UAAjF;AAEA,UAAItzB,IAAI,GAAG,uDAAX;;AACA,WAAK,IAAIxN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGi4B,SAAS,CAACv5B,MAA3B,EAAmCrG,CAAnC,EAAsC8I,GAAtC,EAA2CzJ,IAA3C,EAAiD6rB,KAAjD,EAAwDrO,OAAxD,EAAiE9c,KAAjE,EAAwEqzB,MAA7E,EAAqFr0B,CAAC,GAAG4I,GAAzF,EAA8F5I,CAAC,EAA/F,EAAmG;AAC/FiB,QAAAA,CAAC,GAAG4/B,SAAS,CAAC7gC,CAAD,CAAb;AACAmsB,QAAAA,KAAK,GAAG,EAAR,EAAYnrB,KAAK,GAAG,EAApB,EAAwB8c,OAAO,GAAG,EAAlC;;AAEA,YAAI,OAAO7c,CAAP,KAAa,QAAjB,EAA2B;AACvB,gBAAMszB,YAAY,GAAGH,WAAW,CAACnzB,CAAC,CAACsT,WAAF,EAAD,CAAhC;AACA,cAAI,CAACggB,YAAL,EAAmB;AACnBtzB,UAAAA,CAAC,GAAGszB,YAAJ;AACH;;AAEDj0B,QAAAA,IAAI,GAAGW,CAAC,CAACX,IAAT;AACAyJ,QAAAA,GAAG,GAAG9I,CAAC,CAAC8I,GAAF,IAAS,MAAf;AACAsqB,QAAAA,MAAM,GAAGpzB,CAAC,CAACozB,MAAX;;AAEA,YAAIpzB,CAAC,CAACqC,KAAN,EAAa;AACT6oB,UAAAA,KAAK,IAAI,aAAalrB,CAAC,CAACqC,KAAf,GAAuB,GAAhC;AACAtC,UAAAA,KAAK,IAAIC,CAAC,CAACqC,KAAF,CAAQoX,OAAR,CAAgB,iBAAhB,EAAmC,GAAnC,CAAT;AACAoD,UAAAA,OAAO,CAAC1T,IAAR,CAAa,OAAb;AACH;;AACD,YAAInJ,CAAC,CAACmrB,KAAN,EAAa;AACTD,UAAAA,KAAK,IAAI,aAAalrB,CAAC,CAACmrB,KAAf,GAAuB,GAAhC;AACAprB,UAAAA,KAAK,IAAI,MAAMC,CAAC,CAACmrB,KAAF,CAAQ3H,IAAR,GAAe/J,OAAf,CAAuB,MAAvB,EAA+B,IAA/B,CAAf;AACAoD,UAAAA,OAAO,CAAC1T,IAAR,CAAa,OAAb;AACH;;AAEDpJ,QAAAA,KAAK,GAAGA,KAAK,CAAC0Z,OAAN,CAAc,IAAd,EAAoB,EAApB,CAAR;AAEAlN,QAAAA,IAAI,IAAI,SACJ,0CADI,IAC0C6mB,MAAM,GAAG,MAAMA,MAAT,GAAiB,EADjE,IACuE,kBADvE,GAC4FtqB,GAD5F,GACkG,gBADlG,GACqH/I,KADrH,GAC6H,WAD7H,GAC2IV,IAD3I,GACkJ,IADlJ,GAEA,GAFA,GAEMyJ,GAFN,GAEYoiB,KAFZ,GAEoB,GAFpB,GAE0B7rB,IAF1B,GAEkC,IAFlC,GAEyCyJ,GAFzC,GAE+C,GAF/C,GAGJ,gBAHJ;AAIH;;AACDyD,MAAAA,IAAI,IAAI,aAAR;AAEAgG,MAAAA,OAAO,CAACrN,SAAR,GAAoBqH,IAApB;AAEA,aAAOgG,OAAP;AACH,KAvF0D;;AAyF1D;;;AAGDpO,IAAAA,EAAE,EAAE,YAAY;AACZ,YAAMlC,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM69B,gBAAgB,GAAG,KAAKl+B,OAAL,CAAauM,SAAtC;AACA,YAAM4xB,eAAe,GAAGD,gBAAgB,CAACH,UAAzC;AACA,YAAMK,aAAa,GAAG,KAAKnX,gBAAL,EAAtB;;AAEA,WAAK,IAAI9pB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGo4B,eAAe,CAAC15B,MAAjC,EAAyC45B,GAAzC,EAA8CC,IAA9C,EAAoDzb,MAAzD,EAAiE1lB,CAAC,GAAG4I,GAArE,EAA0E5I,CAAC,EAA3E,EAA+E;AAC3EkhC,QAAAA,GAAG,GAAGF,eAAe,CAAChhC,CAAD,CAArB;AACAmhC,QAAAA,IAAI,GAAGD,GAAG,CAAC58B,YAAJ,CAAiB,YAAjB,EAA+BuG,KAA/B,CAAqC,GAArC,CAAP;;AAEA,aAAK,IAAI2Z,CAAC,GAAG,CAAR,EAAWtQ,IAAX,EAAiBlT,KAAtB,EAA6BwjB,CAAC,GAAG2c,IAAI,CAAC75B,MAAtC,EAA8Ckd,CAAC,EAA/C,EAAmD;AAC/CtQ,UAAAA,IAAI,GAAG+sB,aAAP;AACAvb,UAAAA,MAAM,GAAG,KAAT;;AAEA,iBAAOxR,IAAI,IAAI,CAAChR,IAAI,CAACyiB,eAAL,CAAqBzR,IAArB,CAAT,IAAuC,CAAChR,IAAI,CAACkZ,WAAL,CAAiBlI,IAAjB,CAA/C,EAAuE;AACnE,gBAAIA,IAAI,CAAC/J,QAAL,CAAcoK,WAAd,OAAgC2sB,GAAG,CAAC58B,YAAJ,CAAiB,cAAjB,EAAiCiQ,WAAjC,EAApC,EAAoF;AAChFvT,cAAAA,KAAK,GAAGmgC,IAAI,CAAC3c,CAAD,CAAZ;;AACA,kBAAI,MAAMrgB,IAAN,CAAWnD,KAAX,IAAoBkC,IAAI,CAACmgB,QAAL,CAAcnP,IAAd,EAAoBlT,KAAK,CAAC0Z,OAAN,CAAc,KAAd,EAAqB,EAArB,CAApB,CAApB,GAAoE,CAAC,CAACxG,IAAI,CAAC5Q,KAAL,CAAWtC,KAAX,CAA1E,EAA6F;AACzF0kB,gBAAAA,MAAM,GAAG,IAAT;AACA;AACH;AACJ;;AACDxR,YAAAA,IAAI,GAAGA,IAAI,CAACiB,UAAZ;AACH;;AAED,cAAI,CAACuQ,MAAL,EAAa;AAChB;;AAEDA,QAAAA,MAAM,GAAGxiB,IAAI,CAACsR,QAAL,CAAc0sB,GAAd,EAAmB,QAAnB,CAAH,GAAkCh+B,IAAI,CAACuR,WAAL,CAAiBysB,GAAjB,EAAsB,QAAtB,CAAxC;AACH;AAEJ,KA3H0D;AA6H3D1b,IAAAA,MAAM,EAAE,UAAUthB,CAAV,EAAa;AACjBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA,UAAID,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,UAAI0Z,OAAO,GAAG,IAAd;AAAA,UAAoB/T,GAAG,GAAG,IAA1B;;AAEA,aAAO,CAAC+T,OAAD,IAAY,CAAC,MAAM3Z,IAAN,CAAWC,MAAM,CAACwgB,OAAlB,CAApB,EAAgD;AAC5C9G,QAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;;AACA,YAAIwZ,OAAJ,EAAa;AACT/T,UAAAA,GAAG,GAAG3F,MAAM,CAACooB,UAAb;AACA;AACH;;AACDpoB,QAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACH;;AAED,UAAI,CAAC2I,OAAL,EAAc;AAEd,YAAMsjB,WAAW,GAAGr3B,GAAG,CAACzG,KAAJ,CAAU+9B,OAAV,CAAkB3mB,OAAlB,CAA0B,WAA1B,EAAuC,GAAvC,EAA4C7P,KAA5C,CAAkD,GAAlD,CAApB;AACAu2B,MAAAA,WAAW,CAACt2B,GAAZ;AAEA,YAAMw2B,OAAO,GAAGv3B,GAAG,CAACyW,SAApB;;AACA,WAAK,IAAIxgB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG04B,OAAO,CAACh6B,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChDohC,QAAAA,WAAW,CAACh3B,IAAZ,CAAiB,MAAMk3B,OAAO,CAACthC,CAAD,CAA9B;AACH;;AAED,YAAM2qB,OAAO,GAAG,KAAKznB,IAAL,CAAUmgB,QAAV,CAAmBjf,MAAnB,EAA2B,QAA3B,IAAuC,IAAvC,GAA8C2F,GAAG,CAACkgB,SAAJ,CAAc,KAAd,CAA9D;AACA,YAAMsX,WAAW,GAAG5W,OAAO,GAAG,IAAH,GAAU,CAAC5gB,GAAG,CAACI,QAAL,CAArC;AACA,WAAKygB,UAAL,CAAgBD,OAAhB,EAAyByW,WAAzB,EAAsCG,WAAtC,EAAmD,IAAnD;AAEA,WAAKrb,UAAL;AACH;AA5J0D,GAAlC;AAgK7B;AAAO,CA7/LG;AA8/LV;;AACA;AAAO,UAASxmB,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAImT,4CAA4C,GAAGrmB,mBAAmB,CAAC,CAAD,CAAtE;AACrB;;;AAAqB,MAAIsmB,oDAAoD,GAAG,aAAatmB,mBAAmB,CAAC0B,CAApB,CAAsB2kB,4CAAtB,CAAxE;AACrB;;;AAAqB,MAAIqb,+CAA+C,GAAG1hC,mBAAmB,CAAC,CAAD,CAAzE;AACrB;;;AAAqB,MAAI2hC,uDAAuD,GAAG,aAAa3hC,mBAAmB,CAAC0B,CAApB,CAAsBggC,+CAAtB,CAA3E;AACrB;;;AAAqB,MAAIE,8CAA8C,GAAG5hC,mBAAmB,CAAC,CAAD,CAAxE;AACrB;;;AAAqB,MAAI6hC,sDAAsD,GAAG,aAAa7hC,mBAAmB,CAAC0B,CAApB,CAAsBkgC,8CAAtB,CAA1E;AACrB;;;AAAqB,MAAIE,iDAAiD,GAAG9hC,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;AAAqB,MAAI+hC,yDAAyD,GAAG,aAAa/hC,mBAAmB,CAAC0B,CAApB,CAAsBogC,iDAAtB,CAA7E;AACrB;;;;;;;;AAcA;;;AAA6B5uB,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,OADqD;AAE3DiD,IAAAA,OAAO,EAAE,QAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACD,oDAAoD,CAACrQ,CAAtD,EAAyD0rB,uDAAuD,CAAC1rB,CAAjH,EAAoH4rB,sDAAsD,CAAC5rB,CAA3K,EAA8K8rB,yDAAyD,CAAC9rB,CAAxO,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACA,YAAMi/B,YAAY,GAAGj/B,OAAO,CAACqL,KAAR,GAAgB;AACjChF,QAAAA,SAAS,EAAE,EADsB;AAClB;AACfmB,QAAAA,UAAU,EAAE,CAFqB;AAElB;AACfyB,QAAAA,iBAAiB,EAAE,CAHc;AAGX;AACtB6O,QAAAA,QAAQ,EAAE9X,OAAO,CAACmC,MAAR,CAAe+8B,cAJQ;AAKjCtY,QAAAA,QAAQ,EAAE,EALuB;AAMjCuY,QAAAA,YAAY,EAAE,IANmB;AAOjCC,QAAAA,MAAM,EAAE,MAPyB;AAQjCC,QAAAA,iBAAiB,EAAE,sBARc;AASjCC,QAAAA,OAAO,EAAE;AAACC,UAAAA,UAAU,EAAE;AAAb,SATwB;AAUjCC,QAAAA,MAAM,EAAE;AAACD,UAAAA,UAAU,EAAE;AAAb,SAVyB;AAWjCE,QAAAA,cAAc,EAAE,KAXiB;AAYjC;AACAnpB,QAAAA,QAAQ,EAAE,IAbuB;AAcjCC,QAAAA,MAAM,EAAE,IAdyB;AAejCC,QAAAA,UAAU,EAAE,IAfqB;AAgBjC;AACAU,QAAAA,MAAM,EAAE,IAjByB;AAkBjCI,QAAAA,MAAM,EAAE,IAlByB;AAmBjCkH,QAAAA,UAAU,EAAE,CAnBqB;AAoBjCE,QAAAA,UAAU,EAAE,CApBqB;AAqBjCghB,QAAAA,UAAU,EAAE,CArBqB;AAsBjCC,QAAAA,UAAU,EAAE,CAtBqB;AAuBjC1oB,QAAAA,aAAa,EAAE,MAvBkB;AAwBjCI,QAAAA,aAAa,EAAE,MAxBkB;AAyBjC5D,QAAAA,SAAS,EAAEzT,OAAO,CAACmC,MAAR,CAAey9B,UAAf,KAA8B,MAA9B,GAAuC,EAAvC,GAA4C5/B,OAAO,CAACmC,MAAR,CAAey9B,UAzBrC;AA0BjClsB,QAAAA,SAAS,EAAE1T,OAAO,CAACmC,MAAR,CAAe09B,WAAf,KAA+B,MAA/B,GAAwC,EAAxC,GAA6C7/B,OAAO,CAACmC,MAAR,CAAe09B,WA1BtC;AA2BjC9oB,QAAAA,kBAAkB,EAAE,IA3Ba;AA4BjC4C,QAAAA,SAAS,EAAE3Z,OAAO,CAACmC,MAAR,CAAe29B,aA5BO;AA6BjCjmB,QAAAA,cAAc,EAAE,CAAC7Z,OAAO,CAACmC,MAAR,CAAe49B,eA7BC;AA8BjChmB,QAAAA,SAAS,EAAE/Z,OAAO,CAACmC,MAAR,CAAe69B,aA9BO;AA+BjClpB,QAAAA,eAAe,EAAE9W,OAAO,CAACmC,MAAR,CAAe89B,uBA/BC;AAgCjCtoB,QAAAA,MAAM,EAAE,KAhCyB;AAiCjCO,QAAAA,OAAO,EAAE,CAjCwB;AAkCjCD,QAAAA,OAAO,EAAE,CAlCwB;AAmCjCmC,QAAAA,YAAY,EAAE,IAnCmB;AAoCjCE,QAAAA,eAAe,EAAE,KApCgB;AAqCjC+B,QAAAA,QAAQ,EAAE,IArCuB;AAsCjCH,QAAAA,cAAc,EAAE;AAtCiB,OAArC;AAyCA;;AACA,UAAIgkB,YAAY,GAAG,KAAKrc,SAAL,CAAexmB,IAAf,CAAoB0C,IAApB,CAAnB;AACAk/B,MAAAA,YAAY,CAACl+B,KAAb,GAAqBm/B,YAArB;AACAjB,MAAAA,YAAY,CAACkB,YAAb,GAA4BD,YAAY,CAAC1rB,aAAb,CAA2B,iBAA3B,CAA5B;AACAyqB,MAAAA,YAAY,CAACmB,UAAb,GAA0BF,YAAY,CAAC1rB,aAAb,CAA2B,eAA3B,CAA1B;AACAyqB,MAAAA,YAAY,CAAC38B,YAAb,GAA4B28B,YAAY,CAACkB,YAAb,IAA6BlB,YAAY,CAACmB,UAAtE;AACAnB,MAAAA,YAAY,CAAC9xB,OAAb,GAAuB+yB,YAAY,CAAC1rB,aAAb,CAA2B,gBAA3B,CAAvB;AACAyqB,MAAAA,YAAY,CAACoB,OAAb,GAAuBH,YAAY,CAAC1rB,aAAb,CAA2B,iBAA3B,CAAvB;AACAyqB,MAAAA,YAAY,CAACqB,qBAAb,GAAqCJ,YAAY,CAAC1rB,aAAb,CAA2B,uBAA3B,CAArC;AACAyqB,MAAAA,YAAY,CAAC/iB,cAAb,GAA8BgkB,YAAY,CAAC1rB,aAAb,CAA2B,0BAA3B,CAA9B;AACAyqB,MAAAA,YAAY,CAACsB,WAAb,GAA2BL,YAAY,CAAC1rB,aAAb,CAA2B,uCAA3B,CAA3B;AACAyqB,MAAAA,YAAY,CAACuB,UAAb,GAA0BN,YAAY,CAAC1rB,aAAb,CAA2B,yCAA3B,CAA1B;AAEA;;AACA0rB,MAAAA,YAAY,CAAC1rB,aAAb,CAA2B,iBAA3B,EAA8CxT,gBAA9C,CAA+D,OAA/D,EAAwE,KAAKy/B,OAAL,CAAa/hC,IAAb,CAAkBqB,IAAlB,CAAxE;AACAmgC,MAAAA,YAAY,CAAC1rB,aAAb,CAA2B,iBAA3B,EAA8CxT,gBAA9C,CAA+D,OAA/D,EAAwE,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAAxE;AACA,UAAIk/B,YAAY,CAACkB,YAAjB,EAA+BD,YAAY,CAAC1rB,aAAb,CAA2B,iBAA3B,EAA8CxT,gBAA9C,CAA+D,OAA/D,EAAwE,KAAK0/B,oBAAL,CAA0BhiC,IAA1B,CAA+BugC,YAAY,CAACkB,YAA5C,EAA0DlB,YAAY,CAACmB,UAAvE,EAAmFnB,YAAY,CAACuB,UAAhG,CAAxE;AAC/B,UAAIvB,YAAY,CAACkB,YAAb,IAA6BlB,YAAY,CAACmB,UAA9C,EAA0DnB,YAAY,CAACkB,YAAb,CAA0Bn/B,gBAA1B,CAA2C,QAA3C,EAAqD,KAAK2/B,gBAAL,CAAsBjiC,IAAtB,CAA2BugC,YAA3B,CAArD;AAE1DA,MAAAA,YAAY,CAACoB,OAAb,CAAqBr/B,gBAArB,CAAsC,OAAtC,EAA+C,KAAK4/B,cAAL,CAAoBliC,IAApB,CAAyBugC,YAAY,CAACsB,WAAtC,EAAmDtB,YAAY,CAACK,OAAhE,EAAyEt/B,OAAO,CAAC+kB,OAAR,CAAgB8b,YAAzF,CAA/C;AACA,UAAI5B,YAAY,CAACmB,UAAjB,EAA6BnB,YAAY,CAACmB,UAAb,CAAwBp/B,gBAAxB,CAAyC,OAAzC,EAAkD,KAAK4/B,cAAL,CAAoBliC,IAApB,CAAyBugC,YAAY,CAACuB,UAAtC,EAAkDvB,YAAY,CAACO,MAA/D,EAAuEx/B,OAAO,CAAC+kB,OAAR,CAAgB8b,YAAvF,CAAlD;AAE7B,YAAMC,kBAAkB,GAAGZ,YAAY,CAAC1rB,aAAb,CAA2B,gBAA3B,CAA3B;AACA,UAAIssB,kBAAJ,EAAwBA,kBAAkB,CAAC9/B,gBAAnB,CAAoC,OAApC,EAA6C,KAAK+/B,YAAL,CAAkBriC,IAAlB,CAAuBqB,IAAvB,CAA7C;AAExBk/B,MAAAA,YAAY,CAACvxB,UAAb,GAA0B,EAA1B;AACAuxB,MAAAA,YAAY,CAAC/nB,MAAb,GAAsB,EAAtB;AACA+nB,MAAAA,YAAY,CAAC3nB,MAAb,GAAsB,EAAtB;;AACA,UAAItX,OAAO,CAACmC,MAAR,CAAe29B,aAAnB,EAAkC;AAC9Bb,QAAAA,YAAY,CAACvxB,UAAb,GAA0BwyB,YAAY,CAAC1rB,aAAb,CAA2B,6BAA3B,CAA1B;AACAyqB,QAAAA,YAAY,CAAC/nB,MAAb,GAAsBgpB,YAAY,CAAC1rB,aAAb,CAA2B,mBAA3B,CAAtB;AACAyqB,QAAAA,YAAY,CAAC3nB,MAAb,GAAsB4oB,YAAY,CAAC1rB,aAAb,CAA2B,mBAA3B,CAAtB;AACAyqB,QAAAA,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAApB,GAA4B6B,OAAO,CAACmC,MAAR,CAAey9B,UAA3C;AACAX,QAAAA,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAApB,GAA4B6B,OAAO,CAACmC,MAAR,CAAe09B,WAA3C;AAEAZ,QAAAA,YAAY,CAAC/nB,MAAb,CAAoBlW,gBAApB,CAAqC,OAArC,EAA8C,KAAKmW,YAAL,CAAkBzY,IAAlB,CAAuBqB,IAAvB,EAA6B,GAA7B,CAA9C;AACAk/B,QAAAA,YAAY,CAAC3nB,MAAb,CAAoBtW,gBAApB,CAAqC,OAArC,EAA8C,KAAKmW,YAAL,CAAkBzY,IAAlB,CAAuBqB,IAAvB,EAA6B,GAA7B,CAA9C;AAEAk/B,QAAAA,YAAY,CAAC/nB,MAAb,CAAoBlW,gBAApB,CAAqC,QAArC,EAA+C,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAA/C;AACAk/B,QAAAA,YAAY,CAAC3nB,MAAb,CAAoBtW,gBAApB,CAAqC,QAArC,EAA+C,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAA/C;AACAk/B,QAAAA,YAAY,CAACvxB,UAAb,CAAwB1M,gBAAxB,CAAyC,QAAzC,EAAmD,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAAnD;AAEAmgC,QAAAA,YAAY,CAAC1rB,aAAb,CAA2B,uBAA3B,EAAoDxT,gBAApD,CAAqE,OAArE,EAA8E,KAAKggC,UAAL,CAAgBtiC,IAAhB,CAAqBqB,IAArB,CAA9E;AACH;AAED;;;AACAC,MAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBH,WAArB,CAAiCs/B,YAAjC;AAEA;;AACAA,MAAAA,YAAY,GAAG,IAAf;AACH,KAlG0D;;AAoG3D;AACArc,IAAAA,SAAS,EAAE,YAAY;AACnB,YAAM1hB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM1D,MAAM,GAAG,KAAKQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAf;AAEAT,MAAAA,MAAM,CAACU,SAAP,GAAmB,mBAAnB;AACAV,MAAAA,MAAM,CAACY,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AAEA,UAAIuqB,IAAI,GAAG,KACP,gCADO,GAEH,oHAFG,GAEoH1nB,IAAI,CAACC,SAAL,CAAe7B,KAFnI,GAE2I,IAF3I,GAGC,KAAKuP,KAAL,CAAWiP,MAHZ,GAIH,WAJG,GAKH,+BALG,GAK+B5c,IAAI,CAACC,SAAL,CAAe0J,QAAf,CAAwBR,KALvD,GAK+D,SAL/D,GAMP,QANO,GAOP,8BAPO,GAQH,0EARG,GAQ0EnJ,IAAI,CAAC8F,OAAL,CAAagC,KARvF,GAQ+F,WAR/F,GASH,iEATG,GASiE9H,IAAI,CAAC8F,OAAL,CAAa8B,IAT9E,GASqF,WATrF,GAUP,QAVO,GAWP,oDAXO,GAYH,qDAZG,GAaC,2EAbZ;;AAeY,UAAIhJ,MAAM,CAAC8+B,cAAX,EAA2B;AACvBhW,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe0J,QAAf,CAAwBrF,IAFpC,GAE2C,UAF3C,GAGA,oCAHA,GAII,kEAJJ,GAIyE1F,MAAM,CAAC++B,WAJhF,GAI8F,GAJ9F,IAIqG/+B,MAAM,CAACg/B,iBAAP,GAA2B,sBAA3B,GAAoD,EAJzJ,IAI+J,IAJ/J,GAKI,yFALJ,GAKgG59B,IAAI,CAAC0K,UAAL,CAAgBG,MALhH,GAKyH,IALzH,GAKgI,KAAK8C,KAAL,CAAWiP,MAL3I,GAKoJ,WALpJ,GAMA,QANA,GAOJ,QAPJ;AAQH;;AAED,UAAIhe,MAAM,CAACi/B,aAAX,EAA0B;AACtBnW,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe0J,QAAf,CAAwBP,GAFpC,GAE0C,UAF1C,GAGA,oCAHA,GAII,0DAJJ,IAKMxK,MAAM,CAACmkB,eAAP,IAA0B,KAAK5kB,OAAL,CAAa8K,YAAxC,GAAwD,2FAA2FjJ,IAAI,CAAC8F,OAAL,CAAamD,YAAxG,GAAuH,IAAvH,GAA8H,KAAK0E,KAAL,CAAWmwB,aAAzI,GAAyJ,WAAjN,GAA+N,EALpO,IAMA,QANA,GAOA,qCAPA,GAQJ,QARJ;AASH;;AAEDpW,MAAAA,IAAI,IAAI,WACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe0J,QAAf,CAAwBC,OAFpC,GAE8C,mEAF9C,GAGJ,QAHJ;;AAKR,UAAIhL,MAAM,CAAC29B,aAAX,EAA0B;AACtB,cAAMwB,cAAc,GAAGn/B,MAAM,CAAC89B,uBAA9B;AACA,cAAMsB,kBAAkB,GAAGD,cAAc,GAAG,oCAAH,GAA0C,EAAnF;AACA,cAAME,aAAa,GAAG,CAACr/B,MAAM,CAAC49B,eAAR,GAA0B,oCAA1B,GAAiE,EAAvF;AACA9U,QAAAA,IAAI,IAAI,8BAAR;;AACQ,YAAIqW,cAAc,IAAI,CAACn/B,MAAM,CAAC49B,eAA9B,EAA+C;AAC3C9U,UAAAA,IAAI,IAAI,KACR,mCADQ,GAEJ,wBAFI,GAEuB1nB,IAAI,CAACC,SAAL,CAAe2E,IAFtC,GAE6C,UAF7C,GAGR,QAHA;AAIH,SALD,MAKO;AACH8iB,UAAAA,IAAI,IAAI,KACR,mCADQ,GAEJ,wBAFI,GAEuB1nB,IAAI,CAACC,SAAL,CAAesF,KAFtC,GAE8C,UAF9C,GAGJ,gDAHI,GAIJ,wBAJI,GAIuBvF,IAAI,CAACC,SAAL,CAAeuK,MAJtC,GAI+C,UAJ/C,GAKR,QALA;AAMH;;AACDkd,QAAAA,IAAI,IAAI,KACJ,qEADI,IACqEqW,cAAc,GAAG,wBAAH,GAA8B,aADjH,KACmIA,cAAc,GAAG,YAAH,GAAkB,EADnK,IACyK,KADzK,GAEJ,iCAFI,GAEgCE,aAFhC,GAEgD,GAFhD,IAEuDF,cAAc,GAAG,GAAH,GAAS,GAF9E,IAEqF,UAFrF,GAGJ,iFAHI,GAGgFC,kBAHhF,IAGsGD,cAAc,GAAG,YAAH,GAAkB,EAHtI,IAG4IE,aAH5I,GAG4J,IAH5J,GAIJ,QAJI,GAIOD,kBAJP,GAI4BC,aAJ5B,GAI4C,gGAJ5C,GAI+Ij+B,IAAI,CAACC,SAAL,CAAekK,UAJ9J,GAI2K,UAJ3K,GAKJ,+BALI,GAK8BnK,IAAI,CAACC,SAAL,CAAeiK,YAL7C,GAK4D,8DAL5D,GAK6H,KAAKyD,KAAL,CAAWiF,MALxI,GAKiJ,WALjJ,GAMR,QANA;AAOX;;AAED8U,MAAAA,IAAI,IAAI,KACI,oDADJ,GAEQ,4FAFR,GAEuG1nB,IAAI,CAACC,SAAL,CAAeH,OAFtH,GAEgI,UAFhI,GAGI,QAHJ,GAIA,QAJA,GAKJ,QALI,GAMJ,yEANI,GAOA,8BAPA,GAQI,8BARJ,GASQ,SATR,GASoBE,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBE,GAT3C,GASiD,oEATjD,GAUQ,qCAVR,GAWI,QAXJ,GAYI,oEAZJ,GAY2EpJ,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBI,cAZlG,GAYmH,UAZnH,GAaA,QAbA,GAcJ,QAdI,GAeJ,gCAfI,GAgBA,OAhBA,GAiBI,2GAjBJ,GAiBkHtJ,IAAI,CAACC,SAAL,CAAemK,KAjBjI,GAiByI,UAjBzI,GAkBI,mGAlBJ,GAkB0GpK,IAAI,CAACC,SAAL,CAAeoK,IAlBzH,GAkBgI,UAlBhI,GAmBI,qGAnBJ,GAmB4GrK,IAAI,CAACC,SAAL,CAAesK,MAnB3H,GAmBoI,UAnBpI,GAoBI,oGApBJ,GAoB2GvK,IAAI,CAACC,SAAL,CAAeqK,KApB1H,GAoBkI,UApBlI,GAqBA,QArBA,GAsBA,sDAtBA,GAsByDtK,IAAI,CAACC,SAAL,CAAegK,YAtBxE,GAsBuF,UAtBvF,GAsBoGjK,IAAI,CAACC,SAAL,CAAegK,YAtBnH,GAsBkI,kBAtBlI,GAuBJ,QAvBI,GAwBR,SAxBA;AA0BJ3N,MAAAA,MAAM,CAACyD,SAAP,GAAmB2nB,IAAnB;AAEA,aAAOprB,MAAP;AACH,KAhN0D;AAkN3D8gC,IAAAA,gBAAgB,EAAE,YAAY;AAC1B,UAAI,CAAC,KAAKR,YAAL,CAAkBhiC,KAAvB,EAA8B;AAC1B,aAAKiiC,UAAL,CAAgB14B,eAAhB,CAAgC,UAAhC;AACA,aAAK84B,UAAL,CAAgB//B,KAAhB,CAAsBghC,cAAtB,GAAuC,EAAvC;AACH,OAHD,MAGO;AACH,aAAKrB,UAAL,CAAgBl9B,YAAhB,CAA6B,UAA7B,EAAyC,IAAzC;AACA,aAAKs9B,UAAL,CAAgB//B,KAAhB,CAAsBghC,cAAtB,GAAuC,cAAvC;AACH;AACJ,KA1N0D;AA4N3Df,IAAAA,oBAAoB,EAAE,UAAUgB,QAAV,EAAoBlB,UAApB,EAAgC;AAClD,WAAKriC,KAAL,GAAa,EAAb;;AACA,UAAIujC,QAAJ,EAAc;AACVA,QAAAA,QAAQ,CAACh6B,eAAT,CAAyB,UAAzB;AACA84B,QAAAA,UAAU,CAAC//B,KAAX,CAAiBghC,cAAjB,GAAkC,EAAlC;AACH;AACJ,KAlO0D;AAoO3DV,IAAAA,YAAY,EAAE,YAAY;AACtB,WAAKpa,UAAL,CAAgB,cAAhB,EAAgC,KAAKjlB,OAAL,CAAa8K,YAAb,CAA0B5K,IAA1B,CAA+BlD,IAA/B,CAAoC,IAApC,EAA0C,KAAKgD,OAAL,CAAa2J,KAAb,CAAmBs2B,YAAnB,CAAgCjjC,IAAhC,CAAqC,KAAKsB,OAAL,CAAaqL,KAAlD,CAA1C,CAAhC,EAAqI,IAArI;AACH,KAtO0D;AAwO3Ds2B,IAAAA,YAAY,EAAE,UAAUpgC,MAAV,EAAkB;AAC5B,WAAK4L,OAAL,CAAahP,KAAb,GAAqBoD,MAAM,CAACmlB,GAA5B;AACA,WAAK8Y,MAAL,CAAYD,UAAZ,GAAyB,KAAKiB,UAAL,CAAgBhkB,WAAhB,GAA8B,KAAK4jB,UAAL,CAAgBjiC,KAAhB,GAAwBoD,MAAM,CAACqF,GAAtF;AACA,WAAKw5B,UAAL,CAAgB59B,KAAhB;AACH,KA5O0D;AA8O3Do+B,IAAAA,cAAc,EAAE,UAAU5gC,OAAV,EAAmB4hC,QAAnB,EAA6BvgC,CAA7B,EAAgC;AAC5C,YAAMlD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASpD,KAAT,CAAeyjB,IAAf,EAAd;AACA5hB,MAAAA,OAAO,CAACu/B,UAAR,GAAqB,KAAK/iB,WAAL,GAAmB,CAACre,KAAD,GAAS,EAAT,GAAeyjC,QAAQ,IAAIzjC,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAAtC,IAA2CtJ,KAAK,CAACsJ,OAAN,CAAc,GAAd,MAAuB,CAAnE,GAAwEm6B,QAAQ,GAAGzjC,KAAnF,GAA2FA,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAA1B,GAA8B,MAAMtJ,KAApC,GAA4CA,KAA7L;AACH,KAjP0D;;AAmP3D;;;AAGA0jC,IAAAA,QAAQ,EAAE,CAAC,KAAD,CAtPiD;;AAwP3D;;;;;AAKAv5B,IAAAA,MAAM,EAAE,UAAUnH,OAAV,EAAmB;AACvB,WAAKO,OAAL,CAAa2J,KAAb,CAAmBtC,YAAnB,CAAgC1L,IAAhC,CAAqC,IAArC,EAA2C8D,OAA3C,EAAoD,KAAKO,OAAL,CAAamE,QAAb,CAAsB4S,sBAAtB,CAA6Cpb,IAA7C,CAAkD,IAAlD,EAAwD8D,OAAxD,EAAiE,OAAjE,CAApD;AACH,KA/P0D;;AAiQ3D;;;AAGAkH,IAAAA,OAAO,EAAE,UAAUlH,OAAV,EAAmB;AACxB,YAAM2gC,OAAO,GAAG3gC,OAAO,IAAI,KAAKnB,OAAL,CAAaqL,KAAb,CAAmBiL,QAA9C;AACA,YAAMyrB,cAAc,GAAG,KAAK1hC,IAAL,CAAU8G,gBAAV,CAA2B26B,OAA3B,EAAoC,KAAKzhC,IAAL,CAAU+G,gBAA9C,KAAmE06B,OAA1F;AACA,YAAMn6B,SAAS,GAAGm6B,OAAO,CAACrgC,YAAR,CAAqB,YAArB,IAAqC,CAAvD;AACA,UAAIugC,OAAO,GAAID,cAAc,CAACxU,sBAAf,IAAyCwU,cAAc,CAACtU,kBAAvE;AAEA,YAAMgQ,QAAQ,GAAGsE,cAAc,CAACzvB,UAAhC;AACA,WAAKjS,IAAL,CAAU8S,UAAV,CAAqB4uB,cAArB;AACA,WAAKrgC,OAAL,CAAa2J,KAAb,CAAmB5I,IAAnB,CAAwBpF,IAAxB,CAA6B,IAA7B;AACA,WAAKof,cAAL;AAEA,UAAIghB,QAAQ,KAAK,KAAKz9B,OAAL,CAAamB,OAAb,CAAqB+E,OAAtC,EAA+C,KAAK7F,IAAL,CAAUq9B,oBAAV,CAA+BD,QAA/B,EAAyC,UAAUnhB,OAAV,EAAmB;AAAE,eAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAArC;AAAyC,OAAvG,EAAyG,IAAzG,EAXvB,CAaxB;;AACA,WAAKy2B,SAAL,CAAe8G,OAAf,EAdwB,CAgBxB;;AACA,WAAKtgC,OAAL,CAAa+B,WAAb,CAAyByF,UAAzB,CAAoC7L,IAApC,CAAyC,IAAzC,EAA+C,OAA/C,EAAwDsK,SAAxD,EAAmE,KAAKrC,SAAL,CAAe28B,aAAlF,EAjBwB,CAmBxB;;AACA,WAAKtlB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,KAzR0D;;AA2R3D;;;AAGAhF,IAAAA,EAAE,EAAE,UAAUV,MAAV,EAAkB;AAClB,YAAMo9B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;;AAEA,UAAI,CAACxJ,MAAL,EAAa;AACTo9B,QAAAA,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAApB,GAA4B8gC,YAAY,CAACxrB,SAAb,GAAyB,KAAKzT,OAAL,CAAamC,MAAb,CAAoBy9B,UAApB,KAAmCX,YAAY,CAAChoB,aAAhD,GAAgE,EAAhE,GAAqE,KAAKjX,OAAL,CAAamC,MAAb,CAAoBy9B,UAA9I;AACAX,QAAAA,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAApB,GAA4B8gC,YAAY,CAACvrB,SAAb,GAAyB,KAAK1T,OAAL,CAAamC,MAAb,CAAoB09B,WAApB,KAAoCZ,YAAY,CAAC5nB,aAAjD,GAAiE,EAAjE,GAAsE,KAAKrX,OAAL,CAAamC,MAAb,CAAoB09B,WAA/I;AACA,YAAIZ,YAAY,CAACkB,YAAb,IAA6B,KAAKngC,OAAL,CAAa+kB,OAAb,CAAqBoc,iBAAtD,EAAyElC,YAAY,CAACkB,YAAb,CAA0Bj9B,YAA1B,CAAuC,UAAvC,EAAmD,UAAnD;AAC5E,OAJD,MAIO;AACH,YAAI+7B,YAAY,CAACkB,YAAb,IAA6B,KAAKngC,OAAL,CAAa+kB,OAAb,CAAqBoc,iBAAtD,EAAyElC,YAAY,CAACkB,YAAb,CAA0Bz4B,eAA1B,CAA0C,UAA1C;AAC5E;AACJ,KAxS0D;;AA0S3D;;;AAGA9F,IAAAA,IAAI,EAAE,YAAY;AACd,WAAKF,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,YAAY,KAAKkd,qBAA9D;AACH,KA/S0D;AAiT3DkmB,IAAAA,OAAO,EAAE,UAAUp/B,CAAV,EAAa;AAClB,YAAMN,KAAK,GAAG,KAAKf,OAAL,CAAaqL,KAAb,CAAmBtK,KAAjC;AACA,YAAM2X,aAAa,GAAIrX,CAAC,KAAK,MAAN,GAAeN,KAAK,CAACyT,aAAN,CAAoB,eAApB,CAAf,GAAsDnT,CAAC,CAACE,MAA/E;;AAEA,UAAI,CAAC,YAAYD,IAAZ,CAAiBoX,aAAa,CAACqJ,OAA/B,CAAL,EAA8C;AAC1C,eAAO,KAAP;AACH,OANiB,CAQlB;;;AACA,YAAMmgB,OAAO,GAAGxpB,aAAa,CAACjX,YAAd,CAA2B,eAA3B,CAAhB;AACA,YAAM0gC,gBAAgB,GAAG,iBAAzB;AACA,UAAIhlC,CAAJ,EAAOilC,UAAP,EAAmBC,QAAnB,CAXkB,CAalB;;AACAD,MAAAA,UAAU,GAAGrhC,KAAK,CAACuhC,sBAAN,CAA6BH,gBAA7B,CAAb;;AACA,WAAKhlC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGilC,UAAU,CAAC39B,MAA3B,EAAmCtH,CAAC,EAApC,EAAwC;AACpCilC,QAAAA,UAAU,CAACjlC,CAAD,CAAV,CAAcsD,KAAd,CAAoBC,OAApB,GAA8B,MAA9B;AACH,OAjBiB,CAmBlB;;;AACA2hC,MAAAA,QAAQ,GAAGthC,KAAK,CAACuhC,sBAAN,CAA6B,cAA7B,CAAX;;AACA,WAAKnlC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGklC,QAAQ,CAAC59B,MAAzB,EAAiCtH,CAAC,EAAlC,EAAsC;AAClC,aAAKkD,IAAL,CAAUuR,WAAV,CAAsBywB,QAAQ,CAACllC,CAAD,CAA9B,EAAmC,QAAnC;AACH,OAvBiB,CAyBlB;;;AACA4D,MAAAA,KAAK,CAACyT,aAAN,CAAoB,MAAM2tB,gBAAN,GAAyB,GAAzB,GAA+BD,OAAnD,EAA4DzhC,KAA5D,CAAkEC,OAAlE,GAA4E,OAA5E;AACA,WAAKL,IAAL,CAAUsR,QAAV,CAAmB+G,aAAnB,EAAkC,QAAlC,EA3BkB,CA6BlB;;AACA,UAAIwpB,OAAO,KAAK,OAAZ,IAAuB,KAAKliC,OAAL,CAAaqL,KAAb,CAAmB/I,YAA9C,EAA4D;AACxD,aAAKtC,OAAL,CAAaqL,KAAb,CAAmB/I,YAAnB,CAAgCE,KAAhC;AACH,OAFD,MAEO,IAAI0/B,OAAO,KAAK,KAAZ,IAAqB,KAAKliC,OAAL,CAAaqL,KAAb,CAAmBg1B,OAA5C,EAAqD;AACxD,aAAKrgC,OAAL,CAAaqL,KAAb,CAAmBg1B,OAAnB,CAA2B79B,KAA3B;AACH;;AAED,aAAO,KAAP;AACH,KAtV0D;AAwV3D0hB,IAAAA,MAAM,EAAE,UAAU7iB,CAAV,EAAa;AACjB,YAAM49B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,YAAMk3B,WAAW,GAAG,KAAK7gC,OAAL,CAAa2J,KAAjC;AAEAhK,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEAy9B,MAAAA,YAAY,CAACrY,QAAb,GAAwBqY,YAAY,CAAC9xB,OAAb,CAAqBhP,KAA7C;AACA8gC,MAAAA,YAAY,CAACG,MAAb,GAAsBH,YAAY,CAACl+B,KAAb,CAAmByT,aAAnB,CAAiC,6CAAjC,EAAgFrW,KAAtG;AACA8gC,MAAAA,YAAY,CAAC3kB,eAAb,GAA+B2kB,YAAY,CAAC/iB,cAAb,CAA4B/K,OAA3D;AACA,UAAI8tB,YAAY,CAACtlB,SAAjB,EAA4BslB,YAAY,CAACloB,kBAAb,GAAkCkoB,YAAY,CAACvxB,UAAb,CAAwByD,OAA1D;;AAE5B,UAAI;AACA,YAAI,KAAKnR,OAAL,CAAaH,MAAb,CAAoBK,WAAxB,EAAqC;AACjCqiC,UAAAA,WAAW,CAACpmB,YAAZ,CAAyB9e,IAAzB,CAA8B,IAA9B,EAAoC,KAApC,EAA2C,IAA3C,EAAiD,KAAjD;AACH;;AAED,YAAI4hC,YAAY,CAACkB,YAAb,IAA6BlB,YAAY,CAACkB,YAAb,CAA0BqC,KAA1B,CAAgC/9B,MAAhC,GAAyC,CAA1E,EAA6E;AACzE,eAAKR,WAAL;AACAs+B,UAAAA,WAAW,CAACtd,YAAZ,CAAyB5nB,IAAzB,CAA8B,IAA9B,EAAoC,KAAK2C,OAAL,CAAaqL,KAAb,CAAmB80B,YAAnB,CAAgCqC,KAApE;AACH,SAHD,MAGO,IAAIvD,YAAY,CAACmB,UAAb,IAA2BnB,YAAY,CAACO,MAAb,CAAoBD,UAApB,CAA+B96B,MAA/B,GAAwC,CAAvE,EAA0E;AAC7E,eAAKR,WAAL;AACAs+B,UAAAA,WAAW,CAACE,eAAZ,CAA4BplC,IAA5B,CAAiC,IAAjC;AACH;AACJ,OAZD,CAYE,OAAOqlC,KAAP,EAAc;AACZ,aAAK39B,YAAL;AACA,cAAMrF,KAAK,CAAC,4CAA4CgjC,KAAK,CAAC59B,OAAlD,GAA4D,GAA7D,CAAX;AACH,OAfD,SAeU;AACN,aAAKpD,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH;;AAED,aAAO,KAAP;AACH,KAxX0D;AA0X3D4nB,IAAAA,YAAY,EAAE,UAAU0d,QAAV,EAAoB;AAC9B,UAAIA,QAAQ,CAACl+B,MAAT,KAAoB,CAAxB,EAA2B;AAE3B,UAAIm+B,QAAQ,GAAG,CAAf;AACA,UAAIJ,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIrlC,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,YAAI,SAASmE,IAAT,CAAcqhC,QAAQ,CAACxlC,CAAD,CAAR,CAAY+gB,IAA1B,CAAJ,EAAqC;AACjCskB,UAAAA,KAAK,CAACj7B,IAAN,CAAWo7B,QAAQ,CAACxlC,CAAD,CAAnB;AACAylC,UAAAA,QAAQ,IAAID,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL,IAAxB;AACH;AACJ;;AAED,YAAM06B,SAAS,GAAG,KAAK7iC,OAAL,CAAamC,MAAb,CAAoB2gC,oBAAtC;;AACA,UAAID,SAAS,GAAG,CAAhB,EAAmB;AACf,YAAIE,QAAQ,GAAG,CAAf;AACA,cAAMC,UAAU,GAAG,KAAKhjC,OAAL,CAAaqL,KAAb,CAAmBhF,SAAtC;;AACA,aAAK,IAAIlJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGi9B,UAAU,CAACv+B,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnD4lC,UAAAA,QAAQ,IAAIC,UAAU,CAAC7lC,CAAD,CAAV,CAAcgL,IAAd,GAAqB,CAAjC;AACH;;AAED,YAAKy6B,QAAQ,GAAGG,QAAZ,GAAwBF,SAA5B,EAAuC;AACnC,eAAK99B,YAAL;AACA,gBAAMK,GAAG,GAAG,mEAAoEy9B,SAAS,GAAC,IAA9E,GAAsF,IAAlG;;AACA,cAAI,KAAKv9B,SAAL,CAAe29B,kBAAf,KAAsC,UAAtC,IAAoD,KAAK39B,SAAL,CAAe29B,kBAAf,CAAkC79B,GAAlC,EAAuC;AAAE,yBAAay9B,SAAf;AAA0B,2BAAeE,QAAzC;AAAmD,0BAAcH;AAAjE,WAAvC,EAAoH,IAApH,CAAxD,EAAmL;AAC/K,iBAAKt9B,SAAL,CAAeC,UAAf,CAA0BH,GAA1B;AACH;;AACD;AACH;AACJ;;AAED,YAAM65B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA4zB,MAAAA,YAAY,CAACh2B,iBAAb,GAAiCu5B,KAAK,CAAC/9B,MAAvC;AAEA,YAAMiC,IAAI,GAAG;AACTw8B,QAAAA,SAAS,EAAEjE,YAAY,CAACK,OAAb,CAAqBC,UADvB;AAET4D,QAAAA,aAAa,EAAElE,YAAY,CAACqB,qBAAb,CAAmCnvB,OAFzC;AAGTiyB,QAAAA,UAAU,EAAEnE,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAHvB;AAITklC,QAAAA,WAAW,EAAEpE,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAJxB;AAKTmM,QAAAA,KAAK,EAAE20B,YAAY,CAACG,MALX;AAMTkE,QAAAA,QAAQ,EAAE,KAAKtjC,OAAL,CAAaH,MAAb,CAAoBK,WANrB;AAOTiB,QAAAA,OAAO,EAAE89B,YAAY,CAAC3oB;AAPb,OAAb;;AAUA,UAAI,OAAO,KAAKhR,SAAL,CAAei+B,mBAAtB,KAA8C,UAAlD,EAA8D;AAC1D,cAAMviB,MAAM,GAAG,KAAK1b,SAAL,CAAei+B,mBAAf,CAAmCf,KAAnC,EAA0C97B,IAA1C,EAAgD,IAAhD,EAAsD,UAAU43B,IAAV,EAAgB;AACjF,cAAIA,IAAI,IAAI,KAAK/5B,EAAL,CAAQi/B,KAAR,CAAcC,OAAd,CAAsBnF,IAAI,CAACtd,MAA3B,CAAZ,EAAgD;AAC5C,iBAAKtf,OAAL,CAAa2J,KAAb,CAAmBq4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6C43B,IAA7C;AACH,WAFD,MAEO;AACH,iBAAK58B,OAAL,CAAa2J,KAAb,CAAmB1H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C43B,IAA3C;AACH;AACJ,SANoE,CAMnE5/B,IANmE,CAM9D,IAN8D,CAAtD,CAAf;AAQA,YAAI,OAAOsiB,MAAP,KAAkB,WAAtB,EAAmC;;AACnC,YAAI,CAACA,MAAL,EAAa;AACT,eAAKjc,YAAL;AACA;AACH;;AACD,YAAI,KAAKR,EAAL,CAAQi/B,KAAR,CAAcC,OAAd,CAAsBziB,MAAtB,KAAiCA,MAAM,CAACvc,MAAP,GAAgB,CAArD,EAAwD+9B,KAAK,GAAGxhB,MAAR;AAC3D;;AAED,WAAKtf,OAAL,CAAa2J,KAAb,CAAmB1H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C87B,KAA3C;AACH,KAvb0D;AAyb3DE,IAAAA,KAAK,EAAE,UAAU59B,OAAV,EAAmB6+B,QAAnB,EAA6B;AAChC,WAAK5+B,YAAL;;AACA,UAAI,OAAO,KAAKO,SAAL,CAAe29B,kBAAtB,KAA6C,UAA7C,IAA2D,KAAK39B,SAAL,CAAe29B,kBAAf,CAAkCn+B,OAAlC,EAA2C6+B,QAA3C,EAAqD,IAArD,CAA/D,EAA2H;AACvH,aAAKr+B,SAAL,CAAeC,UAAf,CAA0BT,OAA1B;AACA,cAAMpF,KAAK,CAAC,8CAA8CoF,OAA/C,CAAX;AACH;AACJ,KA/b0D;AAic3DnB,IAAAA,MAAM,EAAE,UAAU+C,IAAV,EAAgB87B,KAAhB,EAAuB;AAC3B,UAAI,CAACA,KAAL,EAAY;AACR,aAAKz9B,YAAL;AACA;AACH;;AACD,UAAI,OAAOy9B,KAAP,KAAiB,QAArB,EAA+B;AAC3B,aAAK9gC,OAAL,CAAa2J,KAAb,CAAmBq3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCmlC,KAApC,EAA2C,IAA3C;AACA;AACH;;AAED,YAAMoB,cAAc,GAAG,KAAK5jC,OAAL,CAAamC,MAAb,CAAoByhC,cAA3C;AACA,YAAMC,QAAQ,GAAG,KAAK7jC,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,CAAlC,GAAsCsiC,KAAK,CAAC/9B,MAA7D,CAX2B,CAa3B;;AACA,UAAI,OAAOm/B,cAAP,KAA0B,QAA1B,IAAsCA,cAAc,CAACn/B,MAAf,GAAwB,CAAlE,EAAqE;AACjE,cAAMX,QAAQ,GAAG,IAAIggC,QAAJ,EAAjB;;AACA,aAAK,IAAI3mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0mC,QAApB,EAA8B1mC,CAAC,EAA/B,EAAmC;AAC/B2G,UAAAA,QAAQ,CAACigC,MAAT,CAAgB,UAAU5mC,CAA1B,EAA6BqlC,KAAK,CAACrlC,CAAD,CAAlC;AACH;;AACD,aAAKuE,OAAL,CAAa+B,WAAb,CAAyBE,MAAzB,CAAgCtG,IAAhC,CAAqC,IAArC,EAA2CumC,cAA3C,EAA2D,KAAK5jC,OAAL,CAAamC,MAAb,CAAoB6hC,iBAA/E,EAAkGlgC,QAAlG,EAA4G,KAAKpC,OAAL,CAAa2J,KAAb,CAAmB44B,kBAAnB,CAAsCvlC,IAAtC,CAA2C,IAA3C,EAAiDgI,IAAjD,CAA5G,EAAoK,KAAKpB,SAAL,CAAe29B,kBAAnL;AACH,OAND,MAMO;AAAE;AACL,aAAKvhC,OAAL,CAAa2J,KAAb,CAAmB64B,YAAnB,CAAgC7mC,IAAhC,CAAqC,IAArC,EAA2CmlC,KAA3C,EAAkD97B,IAAI,CAACw8B,SAAvD,EAAkEx8B,IAAI,CAACy8B,aAAvE,EAAsFz8B,IAAI,CAAC08B,UAA3F,EAAuG18B,IAAI,CAAC28B,WAA5G,EAAyH38B,IAAI,CAAC4D,KAA9H,EAAqIu5B,QAAQ,GAAG,CAAhJ,EAAmJn9B,IAAI,CAAC48B,QAAxJ;AACH;AACJ,KAxd0D;AA0d3DW,IAAAA,kBAAkB,EAAE,UAAUv9B,IAAV,EAAgBvC,OAAhB,EAAyB;AACzC,UAAI,OAAO,KAAKmB,SAAL,CAAe6+B,kBAAtB,KAA6C,UAAjD,EAA6D;AACzD,aAAK7+B,SAAL,CAAe6+B,kBAAf,CAAkChgC,OAAlC,EAA2CuC,IAA3C,EAAiD,IAAjD;AACH,OAFD,MAEO;AACH,cAAMi9B,QAAQ,GAAGz+B,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,CAAjB;;AACA,YAAI0+B,QAAQ,CAACt+B,YAAb,EAA2B;AACvB,eAAK3D,OAAL,CAAa2J,KAAb,CAAmBq3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCsmC,QAAQ,CAACt+B,YAA7C,EAA2Ds+B,QAA3D;AACH,SAFD,MAEO;AACH,eAAKjiC,OAAL,CAAa2J,KAAb,CAAmBq4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6Ci9B,QAA7C;AACH;AACJ;AACJ,KAre0D;AAue3DD,IAAAA,QAAQ,EAAE,UAAUh9B,IAAV,EAAgBi9B,QAAhB,EAA0B;AAChC,YAAMhB,QAAQ,GAAGgB,QAAQ,CAAC3iB,MAA1B;;AAEA,WAAK,IAAI7jB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA1B,EAAkCoD,IAAvC,EAA6C1K,CAAC,GAAG4I,GAAjD,EAAsD5I,CAAC,EAAvD,EAA2D;AACvD0K,QAAAA,IAAI,GAAG;AAAEpK,UAAAA,IAAI,EAAEklC,QAAQ,CAACxlC,CAAD,CAAR,CAAYM,IAApB;AAA0B0K,UAAAA,IAAI,EAAEw6B,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL;AAA5C,SAAP;;AACA,YAAIzB,IAAI,CAAC48B,QAAT,EAAmB;AACf,eAAK5hC,OAAL,CAAa2J,KAAb,CAAmB+4B,UAAnB,CAA8B/mC,IAA9B,CAAmC,IAAnC,EAAyCslC,QAAQ,CAACxlC,CAAD,CAAR,CAAYwP,GAArD,EAA0DjG,IAAI,CAACvF,OAA/D,EAAwE0G,IAAxE;AACA;AACH,SAHD,MAGO;AACH,eAAKnG,OAAL,CAAa2J,KAAb,CAAmBwb,YAAnB,CAAgCxpB,IAAhC,CAAqC,IAArC,EAA2CslC,QAAQ,CAACxlC,CAAD,CAAR,CAAYwP,GAAvD,EAA4DjG,IAAI,CAACw8B,SAAjE,EAA4Ex8B,IAAI,CAACy8B,aAAjF,EAAgGz8B,IAAI,CAAC08B,UAArG,EAAiH18B,IAAI,CAAC28B,WAAtH,EAAmI38B,IAAI,CAAC4D,KAAxI,EAA+IzC,IAA/I;AACH;AACJ;;AAED,WAAK9C,YAAL;AACH,KArf0D;AAuf3Dm/B,IAAAA,YAAY,EAAE,UAAU1B,KAAV,EAAiB6B,YAAjB,EAA+Bx3B,cAA/B,EAA+C/D,KAA/C,EAAsDiF,MAAtD,EAA8DzD,KAA9D,EAAqEu5B,QAArE,EAA+EP,QAA/E,EAAyF;AACnG,UAAI;AACA,cAAMgB,WAAW,GAAG,KAAK//B,EAAL,CAAQggC,UAA5B;;AAEA,aAAK,IAAIpnC,CAAC,GAAG,CAAR,EAAWqnC,MAAX,EAAmB38B,IAAxB,EAA8B1K,CAAC,IAAI0mC,QAAnC,EAA6C1mC,CAAC,EAA9C,EAAkD;AAC9CqnC,UAAAA,MAAM,GAAG,IAAIF,WAAJ,EAAT;AACAz8B,UAAAA,IAAI,GAAG26B,KAAK,CAACrlC,CAAD,CAAZ;;AAEA,cAAImmC,QAAJ,EAAc;AACV,iBAAKtjC,OAAL,CAAaqL,KAAb,CAAmBiL,QAAnB,CAA4BpT,YAA5B,CAAyC,gBAAzC,EAA2D2E,IAAI,CAACpK,IAAhE;;AACA,iBAAKuC,OAAL,CAAaqL,KAAb,CAAmBiL,QAAnB,CAA4BpT,YAA5B,CAAyC,gBAAzC,EAA2D2E,IAAI,CAACM,IAAhE;AACH;;AAEDq8B,UAAAA,MAAM,CAACC,MAAP,GAAgB,UAAU5iC,MAAV,EAAkB6iC,aAAlB,EAAiC78B,IAAjC,EAAuClG,KAAvC,EAA8C;AAC1D,iBAAK3B,OAAL,CAAaqL,KAAb,CAAmB6L,MAAnB,CAA0B/Y,KAA1B,GAAkC2K,KAAlC;AACA,iBAAK9I,OAAL,CAAaqL,KAAb,CAAmBiM,MAAnB,CAA0BnZ,KAA1B,GAAkC4P,MAAlC;AACA,gBAAIlM,MAAJ,EAAY,KAAKH,OAAL,CAAa2J,KAAb,CAAmB+4B,UAAnB,CAA8B/mC,IAA9B,CAAmC,IAAnC,EAAyCmnC,MAAM,CAACxjB,MAAhD,EAAwD0jB,aAAxD,EAAuE78B,IAAvE,EAAZ,KACK,KAAKnG,OAAL,CAAa2J,KAAb,CAAmBwb,YAAnB,CAAgCxpB,IAAhC,CAAqC,IAArC,EAA2CmnC,MAAM,CAACxjB,MAAlD,EAA0DqjB,YAA1D,EAAwEx3B,cAAxE,EAAwF/D,KAAxF,EAA+FiF,MAA/F,EAAuGzD,KAAvG,EAA8GzC,IAA9G;AAEL,gBAAIlG,KAAJ,EAAW,KAAKoD,YAAL;AACd,WAPe,CAOdrG,IAPc,CAOT,IAPS,EAOH4kC,QAPG,EAOO,KAAKtjC,OAAL,CAAaqL,KAAb,CAAmBiL,QAP1B,EAOoCzO,IAPpC,EAO0C1K,CAAC,KAAK0mC,QAPhD,CAAhB;;AASAW,UAAAA,MAAM,CAACG,aAAP,CAAqB98B,IAArB;AACH;AACJ,OAvBD,CAuBE,OAAOxG,CAAP,EAAU;AACR,aAAK0D,YAAL;AACA,cAAMrF,KAAK,CAAC,kDAAkD2B,CAAC,CAACyD,OAApD,GAA8D,GAA/D,CAAX;AACH;AACJ,KAnhB0D;AAqhB3D29B,IAAAA,eAAe,EAAE,YAAY;AACzB,YAAMxD,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,UAAI4zB,YAAY,CAACO,MAAb,CAAoBD,UAApB,CAA+B96B,MAA/B,KAA0C,CAA9C,EAAiD,OAAO,KAAP;;AAEjD,UAAI;AACA,cAAMoD,IAAI,GAAG;AAACpK,UAAAA,IAAI,EAAEwhC,YAAY,CAACO,MAAb,CAAoBD,UAApB,CAA+Bv3B,KAA/B,CAAqC,GAArC,EAA0CC,GAA1C,EAAP;AAAwDE,UAAAA,IAAI,EAAE;AAA9D,SAAb;AACA,YAAI,KAAKnI,OAAL,CAAaH,MAAb,CAAoBK,WAAxB,EAAqC,KAAKwB,OAAL,CAAa2J,KAAb,CAAmB+4B,UAAnB,CAA8B/mC,IAA9B,CAAmC,IAAnC,EAAyC4hC,YAAY,CAACO,MAAb,CAAoBD,UAA7D,EAAyEN,YAAY,CAAC3oB,QAAtF,EAAgGzO,IAAhG,EAArC,KACK,KAAKnG,OAAL,CAAa2J,KAAb,CAAmBwb,YAAnB,CAAgCxpB,IAAhC,CAAqC,IAArC,EAA2C4hC,YAAY,CAACO,MAAb,CAAoBD,UAA/D,EAA2EN,YAAY,CAACK,OAAb,CAAqBC,UAAhG,EAA4GN,YAAY,CAACqB,qBAAb,CAAmCnvB,OAA/I,EAAwJ8tB,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAA5K,EAAmL8gC,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAAvM,EAA8M8gC,YAAY,CAACG,MAA3N,EAAmOv3B,IAAnO;AACR,OAJD,CAIE,OAAOxG,CAAP,EAAU;AACR,cAAM3B,KAAK,CAAC,kDAAkD2B,CAAC,CAACyD,OAApD,GAA8D,GAA/D,CAAX;AACH,OAND,SAMU;AACN,aAAKC,YAAL;AACH;AACJ,KAliB0D;AAoiB3D6/B,IAAAA,aAAa,EAAE,UAAUC,MAAV,EAAkBR,YAAlB,EAAgCx3B,cAAhC,EAAgD;AAC3D,UAAIw3B,YAAY,CAACziB,IAAb,GAAoBnd,MAApB,GAA6B,CAAjC,EAAoC;AAChC,cAAM0G,IAAI,GAAG,KAAK9K,IAAL,CAAUC,aAAV,CAAwB,GAAxB,CAAb;AACA6K,QAAAA,IAAI,CAAC25B,IAAL,GAAY,eAAexjC,IAAf,CAAoB+iC,YAApB,IAAoCA,YAApC,GAAmD,YAAYA,YAA3E;AACAl5B,QAAAA,IAAI,CAAC5J,MAAL,GAAesL,cAAc,GAAG,QAAH,GAAc,EAA3C;AACA1B,QAAAA,IAAI,CAACjI,YAAL,CAAkB,iBAAlB,EAAqC,OAArC;AACA2hC,QAAAA,MAAM,CAAC3hC,YAAP,CAAoB,iBAApB,EAAuCmhC,YAAvC;AAEAl5B,QAAAA,IAAI,CAACvK,WAAL,CAAiBikC,MAAjB;AACA,eAAO15B,IAAP;AACH;;AAED,aAAO05B,MAAP;AACH,KAjjB0D;;AAmjB3D;;;;;AAKA1tB,IAAAA,YAAY,EAAE,UAAUO,EAAV,EAAcrW,CAAd,EAAiB;AAC3B,UAAIA,CAAC,IAAIA,CAAC,CAACa,OAAF,KAAc,EAAvB,EAA2B;AACvBb,QAAAA,CAAC,CAACoU,cAAF;AACA;AACH;;AAED,WAAK/T,OAAL,CAAamE,QAAb,CAAsB4R,oBAAtB,CAA2Cpa,IAA3C,CAAgD,IAAhD,EAAsD,KAAK2C,OAAL,CAAaqL,KAAnE,EAA0EqM,EAA1E;AACH,KA/jB0D;;AAikB3D;;;AAGAF,IAAAA,QAAQ,EAAE,YAAY;AAClB,WAAK9V,OAAL,CAAamE,QAAb,CAAsBsS,gBAAtB,CAAuC9a,IAAvC,CAA4C,IAA5C,EAAkD,KAAK2C,OAAL,CAAaqL,KAA/D;AACH,KAtkB0D;;AAwkB3D;;;AAGA05B,IAAAA,aAAa,EAAE,YAAY;AACvB,YAAMxC,WAAW,GAAG,KAAK7gC,OAAL,CAAa2J,KAAjC;;AAEA,YAAMzF,aAAa,GAAG,UAAUsB,GAAV,EAAe;AACjCq7B,QAAAA,WAAW,CAACx5B,YAAZ,CAAyB1L,IAAzB,CAA8B,IAA9B,EAAoC6J,GAApC,EAAyC,IAAzC;AACAq7B,QAAAA,WAAW,CAACtmB,UAAZ,CAAuB5e,IAAvB,CAA4B,IAA5B,EAAkC,IAAlC;AACAklC,QAAAA,WAAW,CAACpmB,YAAZ,CAAyB9e,IAAzB,CAA8B,IAA9B,EAAoC,IAApC,EAA0C,KAA1C,EAAiD,IAAjD;AACH,OAJqB,CAIpBqB,IAJoB,CAIf,IAJe,CAAtB;;AAMA,WAAKgD,OAAL,CAAa+B,WAAb,CAAyB+B,SAAzB,CAAmCnI,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,CAAC,KAAD,CAAvD,EAAgE,KAAKiI,SAAL,CAAe28B,aAA/E,EAA8Fr8B,aAA9F,EAA6G,IAA7G;AACH,KArlB0D;;AAulB3D;;;AAGAo/B,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKtjC,OAAL,CAAa+B,WAAb,CAAyB0F,SAAzB,CAAmC9L,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,KAAKiI,SAAL,CAAe28B,aAAtE;AACH,KA5lB0D;AA8lB3Dpb,IAAAA,YAAY,EAAE,UAAUjgB,GAAV,EAAes8B,SAAf,EAA0BC,aAA1B,EAAyCr6B,KAAzC,EAAgDiF,MAAhD,EAAwDzD,KAAxD,EAA+DzC,IAA/D,EAAqE;AAC/E,YAAM06B,WAAW,GAAG,KAAK7gC,OAAL,CAAa2J,KAAjC;AACA,YAAM4zB,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,WAAKrL,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuC,OAAvC;AAEA,UAAIk+B,IAAI,GAAG,KAAK5kC,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAX;AACA2kC,MAAAA,IAAI,CAACr+B,GAAL,GAAWA,GAAX;AACAq+B,MAAAA,IAAI,CAACve,GAAL,GAAWuY,YAAY,CAACrY,QAAxB;AACAqe,MAAAA,IAAI,GAAG1C,WAAW,CAACqC,aAAZ,CAA0BvnC,IAA1B,CAA+B,IAA/B,EAAqC4nC,IAArC,EAA2C/B,SAA3C,EAAsDC,aAAtD,CAAP;AACA8B,MAAAA,IAAI,CAAC/hC,YAAL,CAAkB,aAAlB,EAAiC,GAAjC;;AAEA,UAAI+7B,YAAY,CAACtlB,SAAjB,EAA4B;AACxBsrB,QAAAA,IAAI,CAAC/hC,YAAL,CAAkB,iBAAlB,EAAqC+7B,YAAY,CAACloB,kBAAlD;AACH;;AAED,YAAM/T,KAAK,GAAG,KAAKtB,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4C4nC,IAA5C,CAAd;AACA,YAAMhiC,SAAS,GAAG,KAAKvB,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,oBAAvD,CAAlB,CAhB+E,CAkB/E;;AACA,UAAIi8B,YAAY,CAAC3kB,eAAjB,EAAkC;AAC9B2kB,QAAAA,YAAY,CAAC5iB,QAAb,GAAwB,KAAK3a,OAAL,CAAaoB,SAAb,CAAuBM,cAAvB,CAAsC/F,IAAtC,CAA2C,IAA3C,CAAxB;;AACA4hC,QAAAA,YAAY,CAAC5iB,QAAb,CAAsBnZ,YAAtB,CAAmC,iBAAnC,EAAsD,KAAtD;;AACAF,QAAAA,KAAK,CAACpC,WAAN,CAAkBq+B,YAAY,CAAC5iB,QAA/B;AACH;;AAED4iB,MAAAA,YAAY,CAAC3oB,QAAb,GAAwB2uB,IAAxB;AACAhG,MAAAA,YAAY,CAAC1oB,MAAb,GAAsBvT,KAAtB;AACAi8B,MAAAA,YAAY,CAACzoB,UAAb,GAA0BvT,SAA1B,CA3B+E,CA6B/E;;AACAs/B,MAAAA,WAAW,CAACv5B,SAAZ,CAAsB3L,IAAtB,CAA2B,IAA3B,EAAiCyL,KAAjC,EAAwCiF,MAAxC,EA9B+E,CAgC/E;;AACAw0B,MAAAA,WAAW,CAACvmB,QAAZ,CAAqB3e,IAArB,CAA0B,IAA1B,EAAgCiN,KAAhC,EAAuC26B,IAAvC,EAA6CjiC,KAA7C,EAAoDC,SAApD;AAEAgiC,MAAAA,IAAI,CAACR,MAAL,GAAclC,WAAW,CAAC2C,oBAAZ,CAAiCxmC,IAAjC,CAAsC,IAAtC,EAA4CumC,IAA5C,EAAkDhG,YAAY,CAACQ,cAA/D,CAAd;AACA,UAAI,KAAKzT,eAAL,CAAqB/oB,SAArB,EAAgC,IAAhC,EAAsC,IAAtC,EAA4C,IAA5C,CAAJ,EAAuD,KAAKvB,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqD4nC,IAArD,EAA2D,KAAK3/B,SAAL,CAAe28B,aAA1E,EAAyFp6B,IAAzF,EAA+F,IAA/F;AACvD,WAAK7H,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuC,EAAvC;AACH,KApoB0D;AAsoB3Dm+B,IAAAA,oBAAoB,EAAE,UAAUD,IAAV,EAAgBxF,cAAhB,EAAgC;AAClD;AACA,UAAIwF,IAAI,CAAC7rB,WAAL,KAAqB,CAAzB,EAA4B,KAAK1X,OAAL,CAAa2J,KAAb,CAAmBrC,SAAnB,CAA6B3L,IAA7B,CAAkC,IAAlC,EAAwCoiC,cAAxC,EAAwD,EAAxD;AAC5B,WAAKlkB,eAAL,CAAqBle,IAArB,CAA0B,IAA1B,EAAgC4nC,IAAhC,EAAsC,OAAtC;AACH,KA1oB0D;AA4oB3D9oB,IAAAA,YAAY,EAAE,UAAU1Z,IAAV,EAAgB0iC,cAAhB,EAAgCC,cAAhC,EAAgD;AAC1D,YAAMnG,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,YAAM63B,SAAS,GAAGjE,YAAY,CAACK,OAAb,CAAqBC,UAAvC;AACA,UAAIuC,OAAO,GAAG7C,YAAY,CAAC3oB,QAA3B;AACA,UAAItT,KAAK,GAAGi8B,YAAY,CAAC1oB,MAAzB;AACA,UAAItT,SAAS,GAAGg8B,YAAY,CAACzoB,UAA7B;AACA,UAAI6uB,cAAc,GAAG,KAArB;;AAEA,UAAIriC,KAAK,KAAK,IAAd,EAAoB;AAChBqiC,QAAAA,cAAc,GAAG,IAAjB;AACAvD,QAAAA,OAAO,GAAG7C,YAAY,CAAC3oB,QAAb,CAAsB8Q,SAAtB,CAAgC,IAAhC,CAAV;AACApkB,QAAAA,KAAK,GAAG,KAAKtB,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4CykC,OAA5C,CAAR;AACH;;AAED,UAAI7+B,SAAS,KAAK,IAAlB,EAAwB;AACpBD,QAAAA,KAAK,GAAGA,KAAK,CAACokB,SAAN,CAAgB,IAAhB,CAAR;AACA0a,QAAAA,OAAO,GAAG9+B,KAAK,CAACwR,aAAN,CAAoB,KAApB,CAAV;AACA6wB,QAAAA,cAAc,GAAG,IAAjB;AACApiC,QAAAA,SAAS,GAAG,KAAKvB,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,oBAAvD,CAAZ;AACH,OALD,MAKO,IAAIqiC,cAAJ,EAAoB;AACvBpiC,QAAAA,SAAS,CAACK,SAAV,GAAsB,EAAtB;AACAL,QAAAA,SAAS,CAACrC,WAAV,CAAsBoC,KAAtB;AACAi8B,QAAAA,YAAY,CAAC1oB,MAAb,GAAsBvT,KAAtB;AACAi8B,QAAAA,YAAY,CAAC3oB,QAAb,GAAwBwrB,OAAxB;AACAuD,QAAAA,cAAc,GAAG,KAAjB;AACH,OAzByD,CA2B1D;;;AACA,UAAIC,UAAJ;AACA,YAAMtuB,CAAC,GAAG,KAAK3W,IAAL,CAAUklC,QAAV,CAAmBtG,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAAvC,IAAgD8gC,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAApB,GAA4B8gC,YAAY,CAACnnB,QAAzF,GAAoGmnB,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAAlI;AACA,YAAMiZ,CAAC,GAAG,KAAK/W,IAAL,CAAUklC,QAAV,CAAmBtG,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAAvC,IAAgD8gC,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAApB,GAA4B8gC,YAAY,CAACnnB,QAAzF,GAAoGmnB,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAAlI;;AACA,UAAI,KAAKmD,IAAL,CAAUwgC,OAAO,CAACrhC,KAAR,CAAcqI,KAAxB,CAAJ,EAAoC;AAChCw8B,QAAAA,UAAU,GAAGtuB,CAAC,KAAK/T,SAAS,CAACxC,KAAV,CAAgBqI,KAAtB,IAA+BsO,CAAC,KAAKnU,SAAS,CAACxC,KAAV,CAAgBsN,MAAlE;AACH,OAFD,MAEO;AACHu3B,QAAAA,UAAU,GAAGtuB,CAAC,KAAK8qB,OAAO,CAACrhC,KAAR,CAAcqI,KAApB,IAA6BsO,CAAC,KAAK0qB,OAAO,CAACrhC,KAAR,CAAcsN,MAA9D;AACH,OAnCyD,CAqC1D;;;AACA+zB,MAAAA,OAAO,CAACpb,GAAR,GAAcuY,YAAY,CAACrY,QAA3B,CAtC0D,CAwC1D;;AACA,UAAI4e,eAAe,GAAG,KAAtB;;AACA,UAAIvG,YAAY,CAAC3kB,eAAjB,EAAkC;AAC9B,YAAI,CAAC2kB,YAAY,CAAC5iB,QAAlB,EAA4B;AACxB4iB,UAAAA,YAAY,CAAC5iB,QAAb,GAAwB,KAAK3a,OAAL,CAAaoB,SAAb,CAAuBM,cAAvB,CAAsC/F,IAAtC,CAA2C,IAA3C,CAAxB;AACA2F,UAAAA,KAAK,CAACpC,WAAN,CAAkBq+B,YAAY,CAAC5iB,QAA/B;AACAmpB,UAAAA,eAAe,GAAG,IAAlB;AACH;AACJ,OAND,MAMO;AACH,YAAIvG,YAAY,CAAC5iB,QAAjB,EAA2B;AACvB,eAAKhc,IAAL,CAAU8S,UAAV,CAAqB8rB,YAAY,CAAC5iB,QAAlC;AACA4iB,UAAAA,YAAY,CAAC5iB,QAAb,GAAwB,IAAxB;AACAmpB,UAAAA,eAAe,GAAG,IAAlB;AACH;AACJ,OAtDyD,CAwD1D;;;AACA,UAAItC,SAAS,CAACthB,IAAV,GAAiBnd,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,YAAIw6B,YAAY,CAACE,YAAb,KAA8B,IAA9B,IAAsCn8B,KAAK,CAACirB,QAAN,CAAegR,YAAY,CAACE,YAA5B,CAA1C,EAAqF;AACjFF,UAAAA,YAAY,CAACE,YAAb,CAA0B2F,IAA1B,GAAiC5B,SAAjC;AACAjE,UAAAA,YAAY,CAACE,YAAb,CAA0B59B,MAA1B,GAAoC09B,YAAY,CAACqB,qBAAb,CAAmCnvB,OAAnC,GAA6C,QAA7C,GAAwD,EAA5F;AACA2wB,UAAAA,OAAO,CAAC5+B,YAAR,CAAqB,iBAArB,EAAwCggC,SAAxC;AACH,SAJD,MAIO;AACH,cAAIuC,KAAK,GAAG,KAAK/jC,OAAL,CAAa2J,KAAb,CAAmBu5B,aAAnB,CAAiCvnC,IAAjC,CAAsC,IAAtC,EAA4CykC,OAA5C,EAAqDoB,SAArD,EAAgE,KAAKljC,OAAL,CAAaqL,KAAb,CAAmBi1B,qBAAnB,CAAyCnvB,OAAzG,CAAZ;AACAnO,UAAAA,KAAK,CAAC2iB,YAAN,CAAmB8f,KAAnB,EAA0BxG,YAAY,CAAC5iB,QAAvC;AACH;AACJ,OATD,MAUK,IAAI4iB,YAAY,CAACE,YAAb,KAA8B,IAAlC,EAAwC;AACzC,cAAMuG,YAAY,GAAG5D,OAArB;AAEA4D,QAAAA,YAAY,CAACxiC,YAAb,CAA0B,iBAA1B,EAA6C,EAA7C;AACA,YAAIuiC,KAAK,GAAGC,YAAY,CAACte,SAAb,CAAuB,IAAvB,CAAZ;AACApkB,QAAAA,KAAK,CAACiuB,WAAN,CAAkBgO,YAAY,CAACE,YAA/B;AACAn8B,QAAAA,KAAK,CAAC2iB,YAAN,CAAmB8f,KAAnB,EAA0BxG,YAAY,CAAC5iB,QAAvC;AACAylB,QAAAA,OAAO,GAAG2D,KAAV;AACH;;AAED,UAAIJ,cAAJ,EAAoB;AAChB,cAAMM,YAAY,GAAI,KAAKtlC,IAAL,CAAUmvB,oBAAV,CAA+ByP,YAAY,CAAC3oB,QAAb,CAAsBhE,UAArD,KAAoE,KAAKjS,IAAL,CAAU+R,YAAV,CAAuB6sB,YAAY,CAAC3oB,QAAb,CAAsBhE,UAA7C,CAArE,GACjB2sB,YAAY,CAAC3oB,QADI,GAEjB,OAAOhV,IAAP,CAAY29B,YAAY,CAAC3oB,QAAb,CAAsBhE,UAAtB,CAAiChL,QAA7C,IAAyD23B,YAAY,CAAC3oB,QAAb,CAAsBhE,UAA/E,GAA4F,KAAKjS,IAAL,CAAU+rB,gBAAV,CAA2B6S,YAAY,CAAC3oB,QAAxC,KAAqD2oB,YAAY,CAAC3oB,QAFlK;AAIAqvB,QAAAA,YAAY,CAACrzB,UAAb,CAAwBwT,YAAxB,CAAqC7iB,SAArC,EAAgD0iC,YAAhD;AACA7D,QAAAA,OAAO,GAAG7+B,SAAS,CAACuR,aAAV,CAAwB,KAAxB,CAAV;AAEAyqB,QAAAA,YAAY,CAAC3oB,QAAb,GAAwBwrB,OAAxB;AACA7C,QAAAA,YAAY,CAAC1oB,MAAb,GAAsBvT,KAAtB;AACAi8B,QAAAA,YAAY,CAACzoB,UAAb,GAA0BvT,SAA1B;AACH,OAxFyD,CA0F1D;;;AACA,UAAIuiC,eAAe,IAAK,CAACvG,YAAY,CAACnoB,eAAd,IAAiCwuB,UAAzD,EAAsE;AAClE,YAAI,CAAC7iC,IAAD,KAAU,MAAMnB,IAAN,CAAWwgC,OAAO,CAACrhC,KAAR,CAAcsN,MAAzB,KAAqC,KAAK/N,OAAL,CAAa6F,QAAb,CAAsB8N,eAAtB,IAAyCsrB,YAAY,CAAC3kB,eAArG,CAAJ,EAA4H;AACxH,cAAI,KAAKhZ,IAAL,CAAU29B,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAA9B,KAAwC,KAAKmD,IAAL,CAAU29B,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAA9B,CAA5C,EAAkF;AAC9E,iBAAKuD,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgDykC,OAAhD;AACH,WAFD,MAEO;AACH,iBAAKpgC,OAAL,CAAamE,QAAb,CAAsBiW,gBAAtB,CAAuCze,IAAvC,CAA4C,IAA5C,EAAkDykC,OAAlD,EAA2D,KAAKzhC,IAAL,CAAUoW,SAAV,CAAoBwoB,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAAxC,EAA+C,CAA/C,CAA3D,EAA8G,KAAKkC,IAAL,CAAUoW,SAAV,CAAoBwoB,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAAxC,EAA+C,CAA/C,CAA9G;AACH;AACJ;AACJ,OAnGyD,CAqG1D;;;AACA,UAAIynC,SAAS,GAAG,KAAhB;;AACA,UAAI3G,YAAY,CAACtlB,SAAjB,EAA4B;AACxBmoB,QAAAA,OAAO,CAAC5+B,YAAR,CAAqB,iBAArB,EAAwC+7B,YAAY,CAACloB,kBAArD;;AACA,YAAIuuB,UAAJ,EAAgB;AACZ,eAAK5jC,OAAL,CAAa2J,KAAb,CAAmBrC,SAAnB,CAA6B3L,IAA7B,CAAkC,IAAlC;AACH;AACJ,OA5GyD,CA8G1D;;;AACA,UAAI,EAAEuoC,SAAS,IAAI3G,YAAY,CAACG,MAAb,KAAwB,QAAvC,CAAJ,EAAsD;AAClD,aAAK19B,OAAL,CAAa2J,KAAb,CAAmB2Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6CykC,OAA7C,EAAsD,IAAtD,EAA4D,IAA5D;AACH,OAjHyD,CAmH1D;;;AACA,UAAIr/B,IAAJ,EAAU;AACN,aAAKf,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqDykC,OAArD,EAA8D,KAAKx8B,SAAL,CAAe28B,aAA7E,EAA4F,IAA5F,EAAkG,IAAlG;AACH;;AAED,UAAIkD,cAAJ,EAAoB;AAChB,aAAK5pB,eAAL,CAAqBumB,OAArB,EAA8B,OAA9B;AACH,OA1HyD,CA4H1D;;;AACA,UAAI,CAACsD,cAAL,EAAqB,KAAKzoB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACxB,KA1wB0D;AA4wB3D68B,IAAAA,UAAU,EAAE,UAAUx9B,GAAV,EAAezF,OAAf,EAAwB0G,IAAxB,EAA8B;AACtC1G,MAAAA,OAAO,CAACyF,GAAR,GAAcA,GAAd;;AACA,WAAKrC,EAAL,CAAQiE,UAAR,CAAmB,KAAK9G,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiC7H,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqDyC,OAArD,EAA8D,KAAKmE,SAAL,CAAe28B,aAA7E,EAA4Fp6B,IAA5F,EAAkG,IAAlG,CAAnB;;AACA,WAAK0T,eAAL,CAAqBpa,OAArB,EAA8B,OAA9B;AACH,KAhxB0D;;AAkxB3D;;;AAGA4H,IAAAA,YAAY,EAAE,UAAU5H,OAAV,EAAmBgH,IAAnB,EAAyB;AACnC,UAAI,CAAChH,OAAL,EAAc;AAEd,YAAM89B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA4zB,MAAAA,YAAY,CAACE,YAAb,GAA4B,OAAO79B,IAAP,CAAYH,OAAO,CAACmR,UAAR,CAAmBhL,QAA/B,IAA2CnG,OAAO,CAACmR,UAAnD,GAAgE,IAA5F;AACA2sB,MAAAA,YAAY,CAAC3oB,QAAb,GAAwBnV,OAAxB;AACA89B,MAAAA,YAAY,CAAC1oB,MAAb,GAAsB,KAAKlW,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,QAApC,CAAtB;AACA89B,MAAAA,YAAY,CAACzoB,UAAb,GAA0B,KAAKnW,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,KAAKd,IAAL,CAAU+G,gBAA9C,CAA1B;AACA63B,MAAAA,YAAY,CAAC5iB,QAAb,GAAwB,KAAKhc,IAAL,CAAUga,eAAV,CAA0B4kB,YAAY,CAAC1oB,MAAvC,EAA+C,YAA/C,CAAxB;AACA0oB,MAAAA,YAAY,CAACG,MAAb,GAAsBj+B,OAAO,CAACM,YAAR,CAAqB,YAArB,KAAsC,MAA5D;;AAEA,UAAI0G,IAAJ,EAAU;AACN82B,QAAAA,YAAY,CAACzgB,UAAb,GAA0BrW,IAAI,CAAC1I,CAA/B;AACAw/B,QAAAA,YAAY,CAACvgB,UAAb,GAA0BvW,IAAI,CAACS,CAA/B;AACAq2B,QAAAA,YAAY,CAACU,UAAb,GAA0Bx3B,IAAI,CAAC/J,CAA/B;AACA6gC,QAAAA,YAAY,CAACS,UAAb,GAA0Bv3B,IAAI,CAAC/K,CAA/B;AACH;;AAED,UAAIyoC,QAAQ,GAAG5G,YAAY,CAAC3oB,QAAb,CAAsB7U,YAAtB,CAAmC,WAAnC,KAAmDw9B,YAAY,CAAC3oB,QAAb,CAAsB7U,YAAtB,CAAmC,aAAnC,CAAlE;;AACA,UAAIokC,QAAJ,EAAc;AACVA,QAAAA,QAAQ,GAAGA,QAAQ,CAAC79B,KAAT,CAAe,GAAf,CAAX;AACAi3B,QAAAA,YAAY,CAACxrB,SAAb,GAAyBoyB,QAAQ,CAAC,CAAD,CAAjC;AACA5G,QAAAA,YAAY,CAACvrB,SAAb,GAAyBmyB,QAAQ,CAAC,CAAD,CAAjC;AACH,OAJD,MAIO,IAAI19B,IAAJ,EAAU;AACb82B,QAAAA,YAAY,CAACxrB,SAAb,GAAyBtL,IAAI,CAAC1I,CAA9B;AACAw/B,QAAAA,YAAY,CAACvrB,SAAb,GAAyBvL,IAAI,CAACS,CAA9B;AACH;AACJ,KAhzB0D;;AAkzB3D;;;AAGAqT,IAAAA,UAAU,EAAE,UAAU6pB,OAAV,EAAmB;AAC3B,YAAM7G,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;;AACA,UAAI4zB,YAAY,CAACmB,UAAjB,EAA6B;AACzBnB,QAAAA,YAAY,CAACO,MAAb,CAAoBD,UAApB,GAAiCN,YAAY,CAACuB,UAAb,CAAwBhkB,WAAxB,GAAsCyiB,YAAY,CAACmB,UAAb,CAAwBjiC,KAAxB,GAAgC8gC,YAAY,CAAC3oB,QAAb,CAAsB1P,GAA7H;AACH;;AACDq4B,MAAAA,YAAY,CAACrY,QAAb,GAAwBqY,YAAY,CAAC9xB,OAAb,CAAqBhP,KAArB,GAA6B8gC,YAAY,CAAC3oB,QAAb,CAAsBoQ,GAA3E;AACAuY,MAAAA,YAAY,CAACK,OAAb,CAAqBC,UAArB,GAAkCN,YAAY,CAACsB,WAAb,CAAyB/jB,WAAzB,GAAuCyiB,YAAY,CAACoB,OAAb,CAAqBliC,KAArB,GAA6B8gC,YAAY,CAACE,YAAb,KAA8B,IAA9B,GAAqC,EAArC,GAA0CF,YAAY,CAACE,YAAb,CAA0B2F,IAA1K;AACA7F,MAAAA,YAAY,CAACqB,qBAAb,CAAmCnvB,OAAnC,GAA6C8tB,YAAY,CAACE,YAAb,IAA6BF,YAAY,CAACE,YAAb,CAA0B59B,MAA1B,KAAqC,QAA/G;AACA09B,MAAAA,YAAY,CAACl+B,KAAb,CAAmByT,aAAnB,CAAiC,gDAAgDyqB,YAAY,CAACG,MAA7D,GAAsE,IAAvG,EAA6GjuB,OAA7G,GAAuH,IAAvH;AACA8tB,MAAAA,YAAY,CAACG,MAAb,GAAsBH,YAAY,CAACl+B,KAAb,CAAmByT,aAAnB,CAAiC,6CAAjC,EAAgFrW,KAAtG;AACA8gC,MAAAA,YAAY,CAAC3kB,eAAb,GAA+B2kB,YAAY,CAAC/iB,cAAb,CAA4B/K,OAA5B,GAAsC,CAAC,CAAC8tB,YAAY,CAAC5iB,QAApF;;AAEA,UAAI4iB,YAAY,CAACtlB,SAAjB,EAA4B;AACxB,aAAKjY,OAAL,CAAamE,QAAb,CAAsB8Q,0BAAtB,CAAiDtZ,IAAjD,CAAsD,IAAtD,EAA4D4hC,YAA5D,EAA0E,KAAKv9B,OAAL,CAAa2J,KAAvF;AACH;;AAED,UAAI,CAACy6B,OAAL,EAAc,KAAKpkC,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,IAA7C;AACjB,KAt0B0D;;AAw0B3D;;;AAGA2jC,IAAAA,UAAU,EAAE,YAAY;AACpB,WAAKt/B,OAAL,CAAamE,QAAb,CAAsByS,kBAAtB,CAAyCjb,IAAzC,CAA8C,IAA9C,EAAoD,KAAK2C,OAAL,CAAaqL,KAAjE;AACH,KA70B0D;;AA+0B3D;;;AAGArC,IAAAA,SAAS,EAAE,UAAUvJ,CAAV,EAAamJ,CAAb,EAAgB;AACvB,YAAMq2B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AAEA,UAAI,CAAC5L,CAAL,EAAQA,CAAC,GAAGw/B,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAApB,IAA6B,KAAK6B,OAAL,CAAamC,MAAb,CAAoBy9B,UAArD;AACR,UAAI,CAACh3B,CAAL,EAAQA,CAAC,GAAGq2B,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAApB,IAA6B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB09B,WAArD;;AAER,UAAKZ,YAAY,CAACnoB,eAAb,IAAgC,CAAC,CAACrX,CAAnC,IAAyC,KAAK6B,IAAL,CAAU7B,CAAV,CAA7C,EAA2D;AACvD,aAAKiC,OAAL,CAAa2J,KAAb,CAAmBqQ,cAAnB,CAAkCre,IAAlC,CAAuC,IAAvC,EAA6CoC,CAA7C,EAAgDmJ,CAAhD;AACA,eAAO,IAAP;AACH,OAHD,MAGO,IAAI,CAAC,CAACnJ,CAAD,IAAMA,CAAC,KAAK,MAAb,MAAyB,CAACmJ,CAAD,IAAMA,CAAC,KAAK,MAArC,CAAJ,EAAkD;AACrD,aAAKlH,OAAL,CAAa2J,KAAb,CAAmBiQ,WAAnB,CAA+Bje,IAA/B,CAAoC,IAApC;AACH,OAFM,MAEA;AACH,aAAKqE,OAAL,CAAa2J,KAAb,CAAmB0R,OAAnB,CAA2B1f,IAA3B,CAAgC,IAAhC,EAAsCoC,CAAtC,EAAyCmJ,CAAzC,EAA4C,KAA5C;AACH;;AAED,aAAO,KAAP;AACH,KAl2B0D;;AAo2B3D;;;AAGAmU,IAAAA,OAAO,EAAE,UAAUtd,CAAV,EAAamJ,CAAb,EAAgBm9B,kBAAhB,EAAoCroB,SAApC,EAA+C;AACpD,YAAMuhB,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,YAAM26B,KAAK,GAAG,YAAY1kC,IAAZ,CAAiBoc,SAAjB,CAAd;AACA,YAAMuoB,KAAK,GAAG,YAAY3kC,IAAZ,CAAiBoc,SAAjB,CAAd;AAEA,WAAKhc,OAAL,CAAa2J,KAAb,CAAmB8R,iBAAnB,CAAqC9f,IAArC,CAA0C,IAA1C;AAEA,UAAI,CAAC4oC,KAAL,EAAYhH,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BqI,KAA5B,GAAoC,KAAKzI,IAAL,CAAUklC,QAAV,CAAmB9lC,CAAnB,IAAwBA,CAAC,GAAGw/B,YAAY,CAACnnB,QAAzC,GAAoDrY,CAAxF;AACZ,UAAI,CAACumC,KAAL,EAAY/G,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqC,KAAK1N,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAGq2B,YAAY,CAACnnB,QAAzC,GAAoD,KAAKxW,IAAL,CAAUsH,CAAV,IAAe,EAAf,GAAoBA,CAA7G;AAEZ,UAAIq2B,YAAY,CAACG,MAAb,KAAwB,QAA5B,EAAsC,KAAK19B,OAAL,CAAa2J,KAAb,CAAmB2Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;AACtC,UAAI,CAAC0oC,kBAAL,EAAyB9G,YAAY,CAAC3oB,QAAb,CAAsB5O,eAAtB,CAAsC,iBAAtC,EAX2B,CAapD;;AACA,WAAKhG,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyD4hC,YAAzD;AACH,KAt3B0D;;AAw3B3D;;;AAGA3jB,IAAAA,WAAW,EAAE,YAAY;AACrB,YAAM2jB,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AAEA,WAAK3J,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgD4hC,YAAY,CAAC3oB,QAA7D;AACA,WAAK5U,OAAL,CAAa2J,KAAb,CAAmB8R,iBAAnB,CAAqC9f,IAArC,CAA0C,IAA1C;AAEA4hC,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4Bmc,QAA5B,GAAuC,EAAvC;AACAqiB,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BqI,KAA5B,GAAoC,EAApC;AACAm2B,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqC,EAArC;AACAkxB,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,EAAlC;AACAm2B,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmC,EAAnC;AAEA,WAAKrM,OAAL,CAAa2J,KAAb,CAAmB2Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;;AACA4hC,MAAAA,YAAY,CAAC3oB,QAAb,CAAsBpT,YAAtB,CAAmC,iBAAnC,EAAsD,WAAtD,EAbqB,CAerB;;;AACA,WAAKxB,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyD4hC,YAAzD;AACH,KA54B0D;;AA84B3D;;;AAGAviB,IAAAA,aAAa,EAAE,YAAY;AACvB,YAAMuiB,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;;AACA4zB,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB5O,eAAtB,CAAsC,iBAAtC;;AAEA,WAAKhG,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgD4hC,YAAY,CAAC3oB,QAA7D;AACA,WAAK5U,OAAL,CAAa2J,KAAb,CAAmB8R,iBAAnB,CAAqC9f,IAArC,CAA0C,IAA1C;AAEA,YAAMud,UAAU,GAAG,CAACqkB,YAAY,CAAC3oB,QAAb,CAAsB7U,YAAtB,CAAmC,aAAnC,KAAqD,EAAtD,EAA0DuG,KAA1D,CAAgE,GAAhE,CAAnB;AACA,YAAMvI,CAAC,GAAGmb,UAAU,CAAC,CAAD,CAApB;AACA,YAAMhS,CAAC,GAAGgS,UAAU,CAAC,CAAD,CAApB;;AAEA,UAAIA,UAAJ,EAAgB;AACZ,YAAIqkB,YAAY,CAACnoB,eAAb,IAAiC,KAAKxV,IAAL,CAAU7B,CAAV,MAAiB,KAAK6B,IAAL,CAAUsH,CAAV,KAAgB,CAAC,KAAKtH,IAAL,CAAUsH,CAAV,CAAlC,CAArC,EAAuF;AACnF,eAAKlH,OAAL,CAAa2J,KAAb,CAAmBqQ,cAAnB,CAAkCre,IAAlC,CAAuC,IAAvC,EAA6CoC,CAA7C,EAAgDmJ,CAAhD;AACH,SAFD,MAEO;AACH,eAAKlH,OAAL,CAAa2J,KAAb,CAAmB0R,OAAnB,CAA2B1f,IAA3B,CAAgC,IAAhC,EAAsCoC,CAAtC,EAAyCmJ,CAAzC;AACH,SALW,CAOZ;;;AACA,aAAKlH,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyD4hC,YAAzD;AACH;AACJ,KAt6B0D;;AAw6B3D;;;AAGAvjB,IAAAA,cAAc,EAAE,UAAUjc,CAAV,EAAamJ,CAAb,EAAgB;AAC5B,YAAMq2B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACAzC,MAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,IAAO,CAAC,KAAKtH,IAAL,CAAUsH,CAAV,CAAR,IAAwB,CAAC,KAAKvI,IAAL,CAAUoW,SAAV,CAAoB7N,CAApB,EAAuB,CAAvB,CAAzB,GAAqD,KAAKvI,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAG,GAA5B,GAAkCA,CAAvF,GAA2F,KAAKvI,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAGq2B,YAAY,CAACnnB,QAAzC,GAAqDlP,CAAC,IAAI,EAAzJ;AACA,YAAMs9B,gBAAgB,GAAG,KAAK5kC,IAAL,CAAUsH,CAAV,CAAzB;AAEAq2B,MAAAA,YAAY,CAACzoB,UAAb,CAAwB/V,KAAxB,CAA8BqI,KAA9B,GAAsC,KAAKzI,IAAL,CAAUklC,QAAV,CAAmB9lC,CAAnB,IAAwBA,CAAC,GAAG,GAA5B,GAAkCA,CAAxE;AACAw/B,MAAAA,YAAY,CAACzoB,UAAb,CAAwB/V,KAAxB,CAA8BsN,MAA9B,GAAuC,EAAvC;AACAkxB,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,MAAlC;AACAm2B,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmC,CAACm4B,gBAAD,GAAoB,EAApB,GAAyBt9B,CAA5D;AACAq2B,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BqI,KAA5B,GAAoC,MAApC;AACAm2B,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqCm4B,gBAAgB,GAAG,EAAH,GAAQt9B,CAA7D;AACAq2B,MAAAA,YAAY,CAAC3oB,QAAb,CAAsB7V,KAAtB,CAA4Bmc,QAA5B,GAAuC,EAAvC;AAEA,UAAIqiB,YAAY,CAACG,MAAb,KAAwB,QAA5B,EAAsC,KAAK19B,OAAL,CAAa2J,KAAb,CAAmB2Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;;AAEtC4hC,MAAAA,YAAY,CAAC3oB,QAAb,CAAsBpT,YAAtB,CAAmC,iBAAnC,EAAsDzD,CAAC,GAAG,GAAJ,GAAUmJ,CAAhE;;AACA,WAAKlH,OAAL,CAAamE,QAAb,CAAsByX,kBAAtB,CAAyCjgB,IAAzC,CAA8C,IAA9C,EAAoD4hC,YAAY,CAAC3oB,QAAjE,EAhB4B,CAkB5B;;AACA,WAAK5U,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyD4hC,YAAzD;AACH,KA/7B0D;;AAi8B3D;;;AAGA9hB,IAAAA,iBAAiB,EAAE,YAAY;AAC3B,YAAM8hB,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AAEA4zB,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,EAAlC;AACAm2B,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmC,EAAnC;AACAkxB,MAAAA,YAAY,CAACzoB,UAAb,CAAwB/V,KAAxB,CAA8BqI,KAA9B,GAAsC,EAAtC;AACAm2B,MAAAA,YAAY,CAACzoB,UAAb,CAAwB/V,KAAxB,CAA8BsN,MAA9B,GAAuC,EAAvC;AAEA,WAAK1N,IAAL,CAAUuR,WAAV,CAAsBqtB,YAAY,CAACzoB,UAAnC,EAA+C,KAAKxW,OAAL,CAAaqL,KAAb,CAAmBg0B,iBAAlE;AACA,WAAKh/B,IAAL,CAAUsR,QAAV,CAAmBstB,YAAY,CAACzoB,UAAhC,EAA4C,iBAAiByoB,YAAY,CAACG,MAA1E;AAEA,UAAIH,YAAY,CAACG,MAAb,KAAwB,QAA5B,EAAsC,KAAK19B,OAAL,CAAa2J,KAAb,CAAmB2Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;AACzC,KAh9B0D;;AAk9B3D;;;AAGA2e,IAAAA,QAAQ,EAAE,UAAU1R,KAAV,EAAiBnJ,OAAjB,EAA0B6B,KAA1B,EAAiCC,SAAjC,EAA4C;AAClD,YAAMg8B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AAEA,UAAI,CAACf,KAAL,EAAYA,KAAK,GAAG20B,YAAY,CAACG,MAArB;AACZ,UAAI,CAACj+B,OAAL,EAAcA,OAAO,GAAG89B,YAAY,CAAC3oB,QAAvB;AACd,UAAI,CAACtT,KAAL,EAAYA,KAAK,GAAGi8B,YAAY,CAAC1oB,MAArB;AACZ,UAAI,CAACtT,SAAL,EAAgBA,SAAS,GAAGg8B,YAAY,CAACzoB,UAAzB;;AAEhB,UAAIlM,KAAK,IAAIA,KAAK,KAAK,MAAvB,EAA+B;AAC3BtH,QAAAA,KAAK,CAACvC,KAAN,CAAY0lC,MAAZ,GAAqB,MAArB;AACH,OAFD,MAEO;AACHnjC,QAAAA,KAAK,CAACvC,KAAN,CAAY0lC,MAAZ,GAAqB,GAArB;AACH;;AAED,UAAI,KAAK7kC,IAAL,CAAUH,OAAO,CAACV,KAAR,CAAcqI,KAAxB,KAAkCwB,KAAK,KAAK,QAAhD,EAA0D;AACtDrH,QAAAA,SAAS,CAACxC,KAAV,CAAgB2lC,QAAhB,GAA2B,MAA3B;AACApjC,QAAAA,KAAK,CAACvC,KAAN,CAAYqI,KAAZ,GAAoB7F,SAAS,CAACxC,KAAV,CAAgBqI,KAApC;AACH,OAHD,MAGO;AACH7F,QAAAA,SAAS,CAACxC,KAAV,CAAgB2lC,QAAhB,GAA2B,EAA3B;AACApjC,QAAAA,KAAK,CAACvC,KAAN,CAAYqI,KAAZ,GAAoB,KAAK9I,OAAL,CAAa6F,QAAb,CAAsB8N,eAAtB,GAAyCxS,OAAO,CAACV,KAAR,CAAcsN,MAAd,IAAwB5M,OAAO,CAACgY,YAAzE,GAA2F,CAAChY,OAAO,CAACV,KAAR,CAAcqI,KAAf,IAAwB3H,OAAO,CAACV,KAAR,CAAcqI,KAAd,KAAwB,MAAjD,GAA2D,EAA3D,GAAgE3H,OAAO,CAACV,KAAR,CAAcqI,KAAd,IAAuB,MAArM;AACH;;AAED,UAAI,CAAC,KAAKzI,IAAL,CAAUmgB,QAAV,CAAmBvd,SAAnB,EAA8B,iBAAiBqH,KAA/C,CAAL,EAA4D;AACxD,aAAKjK,IAAL,CAAUuR,WAAV,CAAsB3O,SAAtB,EAAiCg8B,YAAY,CAACI,iBAA9C;AACA,aAAKh/B,IAAL,CAAUsR,QAAV,CAAmB1O,SAAnB,EAA8B,iBAAiBqH,KAA/C;AACH;;AAEDnJ,MAAAA,OAAO,CAAC+B,YAAR,CAAqB,YAArB,EAAmCoH,KAAnC;AACH,KAj/B0D;AAm/B3D+7B,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMpH,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;;AAEA4zB,MAAAA,YAAY,CAAC3oB,QAAb,CAAsBpT,YAAtB,CAAmC,YAAnC,EAAiD,EAAjD;;AACA+7B,MAAAA,YAAY,CAACG,MAAb,GAAsB,MAAtB;AACAH,MAAAA,YAAY,CAAC1oB,MAAb,CAAoB9V,KAApB,CAA0B0lC,MAA1B,GAAmC,GAAnC;AACA,WAAK9lC,IAAL,CAAUuR,WAAV,CAAsBqtB,YAAY,CAACzoB,UAAnC,EAA+CyoB,YAAY,CAACI,iBAA5D;AACH,KA1/B0D;;AA4/B3D;;;AAGA58B,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMw8B,YAAY,GAAG,KAAKj/B,OAAL,CAAaqL,KAAlC;AACA,UAAI4zB,YAAY,CAACkB,YAAjB,EAA+BlB,YAAY,CAACkB,YAAb,CAA0BhiC,KAA1B,GAAkC,EAAlC;AAC/B,UAAI8gC,YAAY,CAACmB,UAAjB,EAA6BnB,YAAY,CAACO,MAAb,CAAoBD,UAApB,GAAiCN,YAAY,CAACuB,UAAb,CAAwBhkB,WAAxB,GAAsCyiB,YAAY,CAACmB,UAAb,CAAwBjiC,KAAxB,GAAgC,EAAvG;;AAC7B,UAAI8gC,YAAY,CAACkB,YAAb,IAA6BlB,YAAY,CAACmB,UAA9C,EAA0D;AACtDnB,QAAAA,YAAY,CAACmB,UAAb,CAAwB14B,eAAxB,CAAwC,UAAxC;AACAu3B,QAAAA,YAAY,CAACuB,UAAb,CAAwB//B,KAAxB,CAA8BghC,cAA9B,GAA+C,EAA/C;AACH;;AAEDxC,MAAAA,YAAY,CAAC9xB,OAAb,CAAqBhP,KAArB,GAA6B,EAA7B;AACA8gC,MAAAA,YAAY,CAACK,OAAb,CAAqBC,UAArB,GAAkCN,YAAY,CAACsB,WAAb,CAAyB/jB,WAAzB,GAAuCyiB,YAAY,CAACoB,OAAb,CAAqBliC,KAArB,GAA6B,EAAtG;AACA8gC,MAAAA,YAAY,CAACqB,qBAAb,CAAmCnvB,OAAnC,GAA6C,KAA7C;AACA8tB,MAAAA,YAAY,CAACl+B,KAAb,CAAmByT,aAAnB,CAAiC,mDAAjC,EAAsFrD,OAAtF,GAAgG,IAAhG;AACA8tB,MAAAA,YAAY,CAAC/iB,cAAb,CAA4B/K,OAA5B,GAAsC,KAAtC;AACA8tB,MAAAA,YAAY,CAAC3oB,QAAb,GAAwB,IAAxB;AACA,WAAK5U,OAAL,CAAa2J,KAAb,CAAmBo1B,OAAnB,CAA2BpjC,IAA3B,CAAgC,IAAhC,EAAsC,MAAtC;;AAEA,UAAI4hC,YAAY,CAACtlB,SAAjB,EAA4B;AACxBslB,QAAAA,YAAY,CAAC/nB,MAAb,CAAoB/Y,KAApB,GAA4B,KAAK6B,OAAL,CAAamC,MAAb,CAAoBy9B,UAApB,KAAmCX,YAAY,CAAChoB,aAAhD,GAAgE,EAAhE,GAAqE,KAAKjX,OAAL,CAAamC,MAAb,CAAoBy9B,UAArH;AACAX,QAAAA,YAAY,CAAC3nB,MAAb,CAAoBnZ,KAApB,GAA4B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB09B,WAApB,KAAoCZ,YAAY,CAAC5nB,aAAjD,GAAiE,EAAjE,GAAsE,KAAKrX,OAAL,CAAamC,MAAb,CAAoB09B,WAAtH;AACAZ,QAAAA,YAAY,CAACvxB,UAAb,CAAwByD,OAAxB,GAAkC,IAAlC;AACA8tB,QAAAA,YAAY,CAACtnB,MAAb,GAAsB,KAAtB;AACAsnB,QAAAA,YAAY,CAAC/mB,OAAb,GAAuB,CAAvB;AACA+mB,QAAAA,YAAY,CAAChnB,OAAb,GAAuB,CAAvB;AACH;AACJ;AAxhC0D,GAAlC;AA4hC7B;AAAO,CArjOG;AAsjOV;;AACA;AAAO,UAASpb,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAImT,4CAA4C,GAAGrmB,mBAAmB,CAAC,CAAD,CAAtE;AACrB;;;AAAqB,MAAIsmB,oDAAoD,GAAG,aAAatmB,mBAAmB,CAAC0B,CAApB,CAAsB2kB,4CAAtB,CAAxE;AACrB;;;;;;;;AAWA;;;AAA6BnT,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,MADqD;AAE3DiD,IAAAA,OAAO,EAAE,QAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACD,oDAAoD,CAACrQ,CAAtD,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACmL,IAAR,GAAe;AACX7I,QAAAA,YAAY,EAAE,IADH;AAEXgkC,QAAAA,kBAAkB,EAAE,IAFT;AAGXC,QAAAA,cAAc,EAAE,IAHL;AAIXC,QAAAA,WAAW,EAAE,IAJF;AAKXjH,QAAAA,UAAU,EAAE;AALD,OAAf;AAQA;;AACA,UAAIkH,WAAW,GAAG,KAAK5iB,SAAL,CAAexmB,IAAf,CAAoB0C,IAApB,CAAlB;AACAC,MAAAA,OAAO,CAACmL,IAAR,CAAapK,KAAb,GAAqB0lC,WAArB;AACAzmC,MAAAA,OAAO,CAACmL,IAAR,CAAa7I,YAAb,GAA4BmkC,WAAW,CAACjyB,aAAZ,CAA0B,eAA1B,CAA5B;AACAxU,MAAAA,OAAO,CAACmL,IAAR,CAAao7B,cAAb,GAA8BE,WAAW,CAACjyB,aAAZ,CAA0B,gBAA1B,CAA9B;AACAxU,MAAAA,OAAO,CAACmL,IAAR,CAAam7B,kBAAb,GAAkCG,WAAW,CAACjyB,aAAZ,CAA0B,iBAA1B,CAAlC;AACAxU,MAAAA,OAAO,CAACmL,IAAR,CAAaU,OAAb,GAAuB46B,WAAW,CAACjyB,aAAZ,CAA0B,kBAA1B,CAAvB;AAEA;;AACA,UAAIkyB,eAAe,GAAG,KAAKC,wBAAL,CAA8BtpC,IAA9B,CAAmC0C,IAAnC,CAAtB;AACAC,MAAAA,OAAO,CAACmL,IAAR,CAAay7B,cAAb,GAA8BF,eAA9B;AACA1mC,MAAAA,OAAO,CAACmL,IAAR,CAAaq7B,WAAb,GAA2B,IAA3B;AACAE,MAAAA,eAAe,CAAC1lC,gBAAhB,CAAiC,WAAjC,EAA8CjB,IAAI,CAAC2V,SAAnD;AAEA;;AACA+wB,MAAAA,WAAW,CAACjyB,aAAZ,CAA0B,iBAA1B,EAA6CxT,gBAA7C,CAA8D,OAA9D,EAAuE,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAAvE;AACA2mC,MAAAA,eAAe,CAAC1lC,gBAAhB,CAAiC,OAAjC,EAA0C,KAAK6lC,sBAAL,CAA4BnoC,IAA5B,CAAiCqB,IAAjC,CAA1C;AACAC,MAAAA,OAAO,CAACmL,IAAR,CAAa7I,YAAb,CAA0BtB,gBAA1B,CAA2C,OAA3C,EAAoD,KAAK4/B,cAAL,CAAoBliC,IAApB,CAAyBsB,OAAO,CAACmL,IAAR,CAAaU,OAAtC,EAA+C7L,OAAO,CAACmL,IAAvD,EAA6DnL,OAAO,CAAC+kB,OAAR,CAAgB8b,YAA7E,CAApD;AAEA;;AACA7gC,MAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBH,WAArB,CAAiC6lC,WAAjC;AAEA;;AACAzmC,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC8lC,eAArC;AAEA;;AACAD,MAAAA,WAAW,GAAG,IAAd,EAAoBC,eAAe,GAAG,IAAtC;AACH,KA1C0D;;AA4C3D;AACA7iB,IAAAA,SAAS,EAAE,YAAY;AACnB,YAAMtgB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM1D,MAAM,GAAG,KAAKQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAf;AAEAT,MAAAA,MAAM,CAACU,SAAP,GAAmB,mBAAnB;AACAV,MAAAA,MAAM,CAACY,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAb,MAAAA,MAAM,CAACyD,SAAP,GAAmB,KACf,4BADe,GAEX,gCAFW,GAGP,sGAHO,GAGkGC,IAAI,CAACC,SAAL,CAAe7B,KAHjH,GAGyH,IAHzH,GAIH,KAAKuP,KAAL,CAAWiP,MAJR,GAKP,WALO,GAMP,+BANO,GAM2B5c,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBC,KANlD,GAM0D,SAN1D,GAOX,QAPW,GAQX,8BARW,GASP,8BATO,GAUH,SAVG,GAUSnJ,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBE,GAVhC,GAUsC,UAVtC,GAWH,0DAXG,GAYH,qCAZG,GAaP,QAbO,GAcP,8BAdO,GAeH,SAfG,GAeSpJ,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBG,IAfhC,GAeuC,mEAfvC,GAgBP,QAhBO,GAiBP,qCAjBO,GAkBH,mFAlBG,GAkBmFrJ,IAAI,CAACC,SAAL,CAAeiJ,OAAf,CAAuBI,cAlB1G,GAkB2H,UAlB3H,GAmBP,QAnBO,GAoBX,QApBW,GAqBX,gCArBW,GAsBP,sDAtBO,GAsBkDtJ,IAAI,CAACC,SAAL,CAAegK,YAtBjE,GAsBgF,UAtBhF,GAsB6FjK,IAAI,CAACC,SAAL,CAAegK,YAtB5G,GAsB2H,kBAtB3H,GAuBX,QAvBW,GAwBf,SAxBJ;AA0BA,aAAO3N,MAAP;AACH,KA9E0D;;AAgF3D;AACA8mC,IAAAA,wBAAwB,EAAE,YAAY;AAClC,YAAMpjC,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,YAAM41B,QAAQ,GAAG,KAAKzmC,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAjB;AAEAwmC,MAAAA,QAAQ,CAACvmC,SAAT,GAAqB,kCAArB;AACAumC,MAAAA,QAAQ,CAACxjC,SAAT,GAAqB,KACjB,0CADiB,GAEjB,8EAFiB,GAGb,4BAHa,GAIT,sFAJS,GAKL4N,KAAK,CAAChD,IALD,GAML,+DANK,GAM6D3K,IAAI,CAAC0K,UAAL,CAAgBC,IAN7E,GAMoF,gBANpF,GAOT,WAPS,GAQT,sFARS,GASLgD,KAAK,CAAC/C,MATD,GAUL,+DAVK,GAU6D5K,IAAI,CAAC0K,UAAL,CAAgBE,MAV7E,GAUsF,gBAVtF,GAWT,WAXS,GAYT,sFAZS,GAaL+C,KAAK,CAAC9I,MAbD,GAcL,+DAdK,GAc6D7E,IAAI,CAAC0K,UAAL,CAAgBG,MAd7E,GAcsF,gBAdtF,GAeT,WAfS,GAgBb,QAhBa,GAiBjB,QAjBJ;AAmBA,aAAO04B,QAAP;AACH,KA3G0D;;AA6G3D;;;AAGAllC,IAAAA,IAAI,EAAE,YAAY;AACd,WAAKF,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,MAApC,EAA4C,WAAW,KAAKkd,qBAA5D;AACH,KAlH0D;AAoH3DqmB,IAAAA,cAAc,EAAE,UAAU5gC,OAAV,EAAmB4hC,QAAnB,EAA6BvgC,CAA7B,EAAgC;AAC5C,YAAMlD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASpD,KAAT,CAAeyjB,IAAf,EAAd;AACA5hB,MAAAA,OAAO,CAACu/B,UAAR,GAAqB,KAAK/iB,WAAL,GAAmB,CAACre,KAAD,GAAS,EAAT,GAAeyjC,QAAQ,IAAIzjC,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAAtC,IAA2CtJ,KAAK,CAACsJ,OAAN,CAAc,GAAd,MAAuB,CAAnE,GAAwEm6B,QAAQ,GAAGzjC,KAAnF,GAA2FA,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAA1B,GAA8B,MAAMtJ,KAApC,GAA4CA,KAA7L;AACH,KAvH0D;AAyH3D+lB,IAAAA,MAAM,EAAE,UAAU7iB,CAAV,EAAa;AACjB,WAAK4C,WAAL;AAEA5C,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;;AAEA,YAAMyjB,YAAY,GAAG,YAAY;AAC7B,cAAM8hB,WAAW,GAAG,KAAK/mC,OAAL,CAAamL,IAAjC;AACA,YAAI47B,WAAW,CAACxH,UAAZ,CAAuB96B,MAAvB,KAAkC,CAAtC,EAAyC,OAAO,KAAP;AAEzC,cAAMkI,GAAG,GAAGo6B,WAAW,CAACxH,UAAxB;AACA,cAAMyH,MAAM,GAAGD,WAAW,CAACR,cAA3B;AACA,cAAMU,UAAU,GAAGD,MAAM,CAAC7oC,KAAP,CAAasG,MAAb,KAAwB,CAAxB,GAA4BkI,GAA5B,GAAkCq6B,MAAM,CAAC7oC,KAA5D;;AAEA,YAAI,CAAC,KAAK6B,OAAL,CAAaH,MAAb,CAAoBK,WAAzB,EAAsC;AAClC,gBAAMgnC,EAAE,GAAG,KAAK7mC,IAAL,CAAUC,aAAV,CAAwB,GAAxB,CAAX;AACA4mC,UAAAA,EAAE,CAACpC,IAAH,GAAUn4B,GAAV;AACAu6B,UAAAA,EAAE,CAAC1qB,WAAH,GAAiByqB,UAAjB;AACAC,UAAAA,EAAE,CAAC3lC,MAAH,GAAawlC,WAAW,CAACT,kBAAZ,CAA+Bn1B,OAA/B,GAAyC,QAAzC,GAAoD,EAAjE;AAEA,gBAAMkU,eAAe,GAAG,KAAKnC,mBAAL,EAAxB;;AACA,cAAImC,eAAe,CAAC5gB,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,kBAAM6gB,OAAO,GAAG,KAAKjlB,IAAL,CAAUC,aAAV,CAAwB+kB,eAAe,CAAC,CAAD,CAAf,CAAmB/d,QAA3C,CAAhB;AACAge,YAAAA,OAAO,CAAC1kB,WAAR,CAAoBsmC,EAApB;AACA,gBAAI,CAAC,KAAK3hB,UAAL,CAAgBD,OAAhB,EAAyB,IAAzB,EAA+B,IAA/B,CAAL,EAA2C;AAC9C,WAJD,MAIO;AACH,gBAAI,CAAC,KAAKC,UAAL,CAAgB2hB,EAAhB,EAAoB,IAApB,EAA0B,IAA1B,CAAL,EAAsC;AACzC;;AAED,eAAK3qB,QAAL,CAAc2qB,EAAE,CAAC5X,UAAH,CAAc,CAAd,CAAd,EAAgC,CAAhC,EAAmC4X,EAAE,CAAC5X,UAAH,CAAc,CAAd,CAAnC,EAAqD4X,EAAE,CAAC1qB,WAAH,CAAe/X,MAApE;AACH,SAhBD,MAgBO;AACHsiC,UAAAA,WAAW,CAACP,WAAZ,CAAwB1B,IAAxB,GAA+Bn4B,GAA/B;AACAo6B,UAAAA,WAAW,CAACP,WAAZ,CAAwBhqB,WAAxB,GAAsCyqB,UAAtC;AACAF,UAAAA,WAAW,CAACP,WAAZ,CAAwBjlC,MAAxB,GAAkCwlC,WAAW,CAACT,kBAAZ,CAA+Bn1B,OAA/B,GAAyC,QAAzC,GAAoD,EAAtF,CAHG,CAKH;;AACA,gBAAMg2B,QAAQ,GAAGJ,WAAW,CAACP,WAAZ,CAAwBlX,UAAxB,CAAmC,CAAnC,CAAjB;AACA,eAAK/S,QAAL,CAAc4qB,QAAd,EAAwB,CAAxB,EAA2BA,QAA3B,EAAqCA,QAAQ,CAAC3qB,WAAT,CAAqB/X,MAA1D;AACH;;AAEDsiC,QAAAA,WAAW,CAACxH,UAAZ,GAAyBwH,WAAW,CAACl7B,OAAZ,CAAoB2Q,WAApB,GAAkCuqB,WAAW,CAACzkC,YAAZ,CAAyBnE,KAAzB,GAAiC4oC,WAAW,CAACR,cAAZ,CAA2BpoC,KAA3B,GAAmC,EAA/H;AACH,OAnCoB,CAmCnBO,IAnCmB,CAmCd,IAnCc,CAArB;;AAqCA,UAAI;AACAumB,QAAAA,YAAY;AACf,OAFD,SAEU;AACN,aAAKvjB,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACA,aAAK0H,YAAL,GAFM,CAGN;;AACA,aAAK4X,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;;AAED,aAAO,KAAP;AACH,KA9K0D;;AAgL3D;;;AAGAsb,IAAAA,MAAM,EAAE,UAAU1hB,OAAV,EAAmB;AACvB,UAAI,CAACA,OAAL,EAAc;AACV,YAAI,KAAK4kB,eAAL,CAAqBte,OAArB,CAA6B,KAAKzH,OAAL,CAAamL,IAAb,CAAkBy7B,cAA/C,IAAiE,CAAC,CAAtE,EAAyE;AACrE,eAAKnqB,cAAL;AACH;AACJ,OAJD,MAIO,IAAI,KAAKpc,IAAL,CAAUyhB,QAAV,CAAmB3gB,OAAnB,KAA+BA,OAAO,CAACM,YAAR,CAAqB,iBAArB,MAA4C,IAA/E,EAAqF;AACxF,YAAI,KAAKskB,eAAL,CAAqBte,OAArB,CAA6B,KAAKzH,OAAL,CAAamL,IAAb,CAAkBy7B,cAA/C,IAAiE,CAArE,EAAwE;AACpE,eAAKllC,OAAL,CAAayJ,IAAb,CAAkB6a,eAAlB,CAAkC3oB,IAAlC,CAAuC,IAAvC,EAA6C8D,OAA7C;AACH;;AACD,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH,KAhM0D;;AAkM3D;;;AAGAoB,IAAAA,EAAE,EAAE,UAAUV,MAAV,EAAkB;AAClB,YAAMklC,WAAW,GAAG,KAAK/mC,OAAL,CAAamL,IAAjC;;AACA,UAAI,CAACtJ,MAAL,EAAa;AACT,aAAKH,OAAL,CAAayJ,IAAb,CAAkB1I,IAAlB,CAAuBpF,IAAvB,CAA4B,IAA5B;AACA0pC,QAAAA,WAAW,CAACR,cAAZ,CAA2BpoC,KAA3B,GAAmC,KAAK04B,YAAL,GAAoB/vB,QAApB,EAAnC;AACH,OAHD,MAGO,IAAIigC,WAAW,CAACP,WAAhB,EAA6B;AAChC,aAAKxmC,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,IAAlC;AACA6mC,QAAAA,WAAW,CAACxH,UAAZ,GAAyBwH,WAAW,CAACl7B,OAAZ,CAAoB2Q,WAApB,GAAkCuqB,WAAW,CAACzkC,YAAZ,CAAyBnE,KAAzB,GAAiC4oC,WAAW,CAACP,WAAZ,CAAwB1B,IAApH;AACAiC,QAAAA,WAAW,CAACR,cAAZ,CAA2BpoC,KAA3B,GAAmC4oC,WAAW,CAACP,WAAZ,CAAwBhqB,WAA3D;AACAuqB,QAAAA,WAAW,CAACT,kBAAZ,CAA+Bn1B,OAA/B,GAA0C,UAAU7P,IAAV,CAAeylC,WAAW,CAACP,WAAZ,CAAwBjlC,MAAvC,IAAiD,IAAjD,GAAwD,KAAlG;AACH;AACJ,KAhN0D;AAkN3DykB,IAAAA,eAAe,EAAE,UAAUohB,aAAV,EAAyB;AACtC,WAAKC,QAAL,GAAgB,KAAKrnC,OAAL,CAAamL,IAAb,CAAkBq7B,WAAlB,GAAgCY,aAAhD;AACA,YAAME,OAAO,GAAG,KAAKtnC,OAAL,CAAamL,IAAb,CAAkBy7B,cAAlC;AACA,YAAMz7B,IAAI,GAAGm8B,OAAO,CAAC9yB,aAAR,CAAsB,GAAtB,CAAb;AAEArJ,MAAAA,IAAI,CAAC25B,IAAL,GAAYsC,aAAa,CAACtC,IAA1B;AACA35B,MAAAA,IAAI,CAACuB,KAAL,GAAa06B,aAAa,CAAC5qB,WAA3B;AACArR,MAAAA,IAAI,CAACqR,WAAL,GAAmB4qB,aAAa,CAAC5qB,WAAjC;AAEA,YAAM3D,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoBsuB,aAApB,EAAmC,KAAKpnC,OAAL,CAAamB,OAAb,CAAqB4X,YAAxD,CAAf;AACAuuB,MAAAA,OAAO,CAAC7mC,KAAR,CAAc4Y,GAAd,GAAqBR,MAAM,CAACQ,GAAP,GAAa+tB,aAAa,CAACjuB,YAA3B,GAA0C,EAA3C,GAAiD,IAArE;AACAmuB,MAAAA,OAAO,CAAC7mC,KAAR,CAAcmN,IAAd,GAAsBiL,MAAM,CAACjL,IAAP,GAAc,KAAK5N,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCO,UAAjD,GAA+D,IAApF;AAEAguB,MAAAA,OAAO,CAAC7mC,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AAEA,YAAMia,QAAQ,GAAG,KAAK3a,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCK,WAAlC,IAAiDkuB,OAAO,CAACnhB,UAAR,GAAqBmhB,OAAO,CAACluB,WAA9E,CAAjB;;AACA,UAAIuB,QAAQ,GAAG,CAAf,EAAkB;AACd2sB,QAAAA,OAAO,CAAC7mC,KAAR,CAAcmN,IAAd,GAAsB05B,OAAO,CAACnhB,UAAR,GAAqBxL,QAAtB,GAAkC,IAAvD;AACA2sB,QAAAA,OAAO,CAACptB,iBAAR,CAA0BzZ,KAA1B,CAAgCmN,IAAhC,GAAwC,KAAK+M,QAAN,GAAkB,IAAzD;AACH,OAHD,MAGO;AACH2sB,QAAAA,OAAO,CAACptB,iBAAR,CAA0BzZ,KAA1B,CAAgCmN,IAAhC,GAAuC,MAAvC;AACH;;AAED,WAAK8M,aAAL,CAAmB4sB,OAAnB,EAA4BF,aAA5B,EAA2C,MAA3C;AACH,KA1O0D;AA4O3DP,IAAAA,sBAAsB,EAAE,UAAUxlC,CAAV,EAAa;AACjCA,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMyZ,OAAO,GAAG5Z,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,KAAyCJ,CAAC,CAACE,MAAF,CAAS+Q,UAAT,CAAoB7Q,YAApB,CAAiC,cAAjC,CAAzD;AACA,UAAI,CAACwZ,OAAL,EAAc;AAEd5Z,MAAAA,CAAC,CAACoU,cAAF;;AAEA,UAAI,SAASnU,IAAT,CAAc2Z,OAAd,CAAJ,EAA4B;AACxB,cAAM8rB,WAAW,GAAG,KAAK/mC,OAAL,CAAamL,IAAjC;AACA47B,QAAAA,WAAW,CAACxH,UAAZ,GAAyBwH,WAAW,CAACl7B,OAAZ,CAAoB2Q,WAApB,GAAkCuqB,WAAW,CAACzkC,YAAZ,CAAyBnE,KAAzB,GAAiC4oC,WAAW,CAACP,WAAZ,CAAwB1B,IAApH;AACAiC,QAAAA,WAAW,CAACR,cAAZ,CAA2BpoC,KAA3B,GAAmC4oC,WAAW,CAACP,WAAZ,CAAwBhqB,WAA3D;AACAuqB,QAAAA,WAAW,CAACT,kBAAZ,CAA+Bn1B,OAA/B,GAA0C,UAAU7P,IAAV,CAAeylC,WAAW,CAACP,WAAZ,CAAwBjlC,MAAvC,IAAiD,IAAjD,GAAwD,KAAlG;AACA,aAAKG,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,MAApC,EAA4C,IAA5C;AACH,OAND,MAOK,IAAI,SAASiE,IAAT,CAAc2Z,OAAd,CAAJ,EAA4B;AAC7B,cAAM2P,EAAE,GAAG,KAAKvqB,IAAL,CAAUga,eAAV,CAA0B,KAAKra,OAAL,CAAamL,IAAb,CAAkBq7B,WAA5C,EAAyD,UAAUlqB,OAAV,EAAmB;AAAE,iBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,SAAjJ,EAAmJ,KAAnJ,CAAX;AACA,cAAMwY,EAAE,GAAG,KAAKxqB,IAAL,CAAUga,eAAV,CAA0B,KAAKra,OAAL,CAAamL,IAAb,CAAkBq7B,WAA5C,EAAyD,UAAUlqB,OAAV,EAAmB;AAAE,iBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,SAAjJ,EAAmJ,IAAnJ,CAAX;AACA,aAAKkK,QAAL,CAAcqO,EAAd,EAAkB,CAAlB,EAAqBC,EAArB,EAAyBA,EAAE,CAACrO,WAAH,CAAe/X,MAAxC;AACA,aAAKsjB,UAAL,CAAgB,IAAhB,EAAsB,IAAtB,EAA4B,CAAC,GAAD,CAA5B,EAAmC,KAAnC;AACH,OALI,MAMA;AACD;AACA,aAAK1nB,IAAL,CAAU8S,UAAV,CAAqB,KAAKnT,OAAL,CAAamL,IAAb,CAAkBq7B,WAAvC;AACA,aAAKxmC,OAAL,CAAamL,IAAb,CAAkBq7B,WAAlB,GAAgC,IAAhC;AACA,aAAKhkC,KAAL,GAJC,CAMD;;AACA,aAAKma,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;;AAED,WAAKkV,cAAL;AACH,KA5Q0D;;AA8Q3D;;;AAGAha,IAAAA,IAAI,EAAE,YAAY;AACd,YAAMskC,WAAW,GAAG,KAAK/mC,OAAL,CAAamL,IAAjC;AACA47B,MAAAA,WAAW,CAACH,cAAZ,CAA2BnmC,KAA3B,CAAiCC,OAAjC,GAA2C,MAA3C;AACAqmC,MAAAA,WAAW,CAACP,WAAZ,GAA0B,IAA1B;AACAO,MAAAA,WAAW,CAACxH,UAAZ,GAAyBwH,WAAW,CAACl7B,OAAZ,CAAoB2Q,WAApB,GAAkCuqB,WAAW,CAACzkC,YAAZ,CAAyBnE,KAAzB,GAAiC,EAA5F;AACA4oC,MAAAA,WAAW,CAACR,cAAZ,CAA2BpoC,KAA3B,GAAmC,EAAnC;AACA4oC,MAAAA,WAAW,CAACT,kBAAZ,CAA+Bn1B,OAA/B,GAAyC,KAAzC;AACH;AAxR0D,GAAlC;AA4R7B;AAAO,CAp2OG;AAq2OV;;AACA;AAAO,UAAStU,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAImT,4CAA4C,GAAGrmB,mBAAmB,CAAC,CAAD,CAAtE;AACrB;;;AAAqB,MAAIsmB,oDAAoD,GAAG,aAAatmB,mBAAmB,CAAC0B,CAApB,CAAsB2kB,4CAAtB,CAAxE;AACrB;;;AAAqB,MAAIqb,+CAA+C,GAAG1hC,mBAAmB,CAAC,CAAD,CAAzE;AACrB;;;AAAqB,MAAI2hC,uDAAuD,GAAG,aAAa3hC,mBAAmB,CAAC0B,CAApB,CAAsBggC,+CAAtB,CAA3E;AACrB;;;AAAqB,MAAIE,8CAA8C,GAAG5hC,mBAAmB,CAAC,CAAD,CAAxE;AACrB;;;AAAqB,MAAI6hC,sDAAsD,GAAG,aAAa7hC,mBAAmB,CAAC0B,CAApB,CAAsBkgC,8CAAtB,CAA1E;AACrB;;;AAAqB,MAAIE,iDAAiD,GAAG9hC,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;AAAqB,MAAI+hC,yDAAyD,GAAG,aAAa/hC,mBAAmB,CAAC0B,CAApB,CAAsBogC,iDAAtB,CAA7E;AACrB;;;;;;;;AAcA;;;AAA6B5uB,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,OADqD;AAE3DiD,IAAAA,OAAO,EAAE,QAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACD,oDAAoD,CAACrQ,CAAtD,EAAyD0rB,uDAAuD,CAAC1rB,CAAjH,EAAoH4rB,sDAAsD,CAAC5rB,CAA3K,EAA8K8rB,yDAAyD,CAAC9rB,CAAxO,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACA,YAAMunC,YAAY,GAAGvnC,OAAO,CAACsL,KAAR,GAAgB;AACjCjF,QAAAA,SAAS,EAAE,EADsB;AAClB;AACfmB,QAAAA,UAAU,EAAE,CAFqB;AAElB;AACfyB,QAAAA,iBAAiB,EAAE,CAHc;AAGX;AACtB6O,QAAAA,QAAQ,EAAE9X,OAAO,CAACmC,MAAR,CAAeqlC,cAJQ;AAKjCpI,QAAAA,MAAM,EAAE,MALyB;AAMjCC,QAAAA,iBAAiB,EAAE,sBANc;AAOjCoI,QAAAA,aAAa,EAAEznC,OAAO,CAACmC,MAAR,CAAeulC,YAPG;AAQjClvB,QAAAA,WAAW,EAAGxY,OAAO,CAACmC,MAAR,CAAewlC,UAAf,GAA4B,GAA7B,GAAoC,GARhB;AASjCC,QAAAA,aAAa,EAAG5nC,OAAO,CAACmC,MAAR,CAAewlC,UAAf,GAA4B,GAA7B,GAAoC,GATlB;AAUjCpI,QAAAA,UAAU,EAAE,EAVqB;AAWjC;AACAjpB,QAAAA,QAAQ,EAAE,IAZuB;AAajCC,QAAAA,MAAM,EAAE,IAbyB;AAcjCC,QAAAA,UAAU,EAAE,IAdqB;AAejC;AACAU,QAAAA,MAAM,EAAE,IAhByB;AAiBjCI,QAAAA,MAAM,EAAE,IAjByB;AAkBjCkH,QAAAA,UAAU,EAAE,CAlBqB;AAmBjCE,QAAAA,UAAU,EAAE,CAnBqB;AAoBjCghB,QAAAA,UAAU,EAAE,CApBqB;AAqBjCC,QAAAA,UAAU,EAAE,CArBqB;AAsBjC1oB,QAAAA,aAAa,EAAE,MAtBkB;AAuBjCI,QAAAA,aAAa,EAAGrX,OAAO,CAACmC,MAAR,CAAewlC,UAAf,GAA4B,GAA7B,GAAoC,GAvBlB;AAwBjCl0B,QAAAA,SAAS,EAAEzT,OAAO,CAACmC,MAAR,CAAe0lC,UAAf,KAA8B,MAA9B,GAAuC,EAAvC,GAA4C7nC,OAAO,CAACmC,MAAR,CAAe0lC,UAxBrC;AAyBjCn0B,QAAAA,SAAS,EAAE1T,OAAO,CAACmC,MAAR,CAAe2lC,WAAf,KAA+B,QAA/B,GAA0C,EAA1C,GAA+C9nC,OAAO,CAACmC,MAAR,CAAe2lC,WAzBxC;AA0BjC/wB,QAAAA,kBAAkB,EAAE,IA1Ba;AA2BjC4C,QAAAA,SAAS,EAAE3Z,OAAO,CAACmC,MAAR,CAAe4lC,aA3BO;AA4BjCluB,QAAAA,cAAc,EAAE,CAAC7Z,OAAO,CAACmC,MAAR,CAAe6lC,eA5BC;AA6BjCjuB,QAAAA,SAAS,EAAE/Z,OAAO,CAACmC,MAAR,CAAe8lC,aA7BO;AA8BjCnxB,QAAAA,eAAe,EAAE9W,OAAO,CAACmC,MAAR,CAAe+lC,uBA9BC;AA+BjCvwB,QAAAA,MAAM,EAAE,KA/ByB;AAgCjCO,QAAAA,OAAO,EAAE,CAhCwB;AAiCjCD,QAAAA,OAAO,EAAE,CAjCwB;AAkCjCmC,QAAAA,YAAY,EAAE;AAlCmB,OAArC;AAqCA;;AACA,UAAI+tB,YAAY,GAAG,KAAKtkB,SAAL,CAAexmB,IAAf,CAAoB0C,IAApB,CAAnB;AACAwnC,MAAAA,YAAY,CAACxmC,KAAb,GAAqBonC,YAArB;AACAZ,MAAAA,YAAY,CAACa,cAAb,GAA8BD,YAAY,CAAC3zB,aAAb,CAA2B,iBAA3B,CAA9B;AACA+yB,MAAAA,YAAY,CAACc,YAAb,GAA4BF,YAAY,CAAC3zB,aAAb,CAA2B,eAA3B,CAA5B;AACA+yB,MAAAA,YAAY,CAACjlC,YAAb,GAA4BilC,YAAY,CAACc,YAAb,IAA6Bd,YAAY,CAACa,cAAtE;AACAb,MAAAA,YAAY,CAAC17B,OAAb,GAAuBs8B,YAAY,CAAC3zB,aAAb,CAA2B,kBAA3B,CAAvB;AAEA;;AACA2zB,MAAAA,YAAY,CAAC3zB,aAAb,CAA2B,iBAA3B,EAA8CxT,gBAA9C,CAA+D,OAA/D,EAAwE,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAAxE;AACA,UAAIwnC,YAAY,CAACa,cAAjB,EAAiCD,YAAY,CAAC3zB,aAAb,CAA2B,8BAA3B,EAA2DxT,gBAA3D,CAA4E,OAA5E,EAAqF,KAAK0/B,oBAAL,CAA0BhiC,IAA1B,CAA+B6oC,YAAY,CAACa,cAA5C,EAA4Db,YAAY,CAACc,YAAzE,EAAuFd,YAAY,CAAC17B,OAApG,CAArF;AACjC,UAAI07B,YAAY,CAACa,cAAb,IAA+Bb,YAAY,CAACc,YAAhD,EAA8Dd,YAAY,CAACa,cAAb,CAA4BpnC,gBAA5B,CAA6C,QAA7C,EAAuD,KAAK2/B,gBAAL,CAAsBjiC,IAAtB,CAA2B6oC,YAA3B,CAAvD;AAC9D,UAAIA,YAAY,CAACc,YAAjB,EAA+Bd,YAAY,CAACc,YAAb,CAA0BrnC,gBAA1B,CAA2C,OAA3C,EAAoD,KAAK4/B,cAAL,CAAoBliC,IAApB,CAAyB6oC,YAAY,CAAC17B,OAAtC,EAA+C07B,YAA/C,EAA6DvnC,OAAO,CAAC+kB,OAAR,CAAgB8b,YAA7E,CAApD;AAE/B0G,MAAAA,YAAY,CAAC75B,UAAb,GAA0B,EAA1B;AACA65B,MAAAA,YAAY,CAACe,gBAAb,GAAgC,EAAhC;AACAf,MAAAA,YAAY,CAACrwB,MAAb,GAAsB,EAAtB;AACAqwB,MAAAA,YAAY,CAACjwB,MAAb,GAAsB,EAAtB;;AACA,UAAItX,OAAO,CAACmC,MAAR,CAAe4lC,aAAnB,EAAkC;AAC9BR,QAAAA,YAAY,CAAC75B,UAAb,GAA0By6B,YAAY,CAAC3zB,aAAb,CAA2B,6BAA3B,CAA1B;AACA+yB,QAAAA,YAAY,CAACe,gBAAb,GAAgCH,YAAY,CAAC3zB,aAAb,CAA2B,iBAA3B,CAAhC;AACA+yB,QAAAA,YAAY,CAACrwB,MAAb,GAAsBixB,YAAY,CAAC3zB,aAAb,CAA2B,mBAA3B,CAAtB;AACA+yB,QAAAA,YAAY,CAACjwB,MAAb,GAAsB6wB,YAAY,CAAC3zB,aAAb,CAA2B,mBAA3B,CAAtB;AACA+yB,QAAAA,YAAY,CAACrwB,MAAb,CAAoB/Y,KAApB,GAA4B6B,OAAO,CAACmC,MAAR,CAAe0lC,UAA3C;AACAN,QAAAA,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,GAA4B6B,OAAO,CAACmC,MAAR,CAAe2lC,WAA3C;AAEAP,QAAAA,YAAY,CAACrwB,MAAb,CAAoBlW,gBAApB,CAAqC,OAArC,EAA8C,KAAKmW,YAAL,CAAkBzY,IAAlB,CAAuBqB,IAAvB,EAA6B,GAA7B,CAA9C;AACAwnC,QAAAA,YAAY,CAACjwB,MAAb,CAAoBtW,gBAApB,CAAqC,OAArC,EAA8C,KAAKmW,YAAL,CAAkBzY,IAAlB,CAAuBqB,IAAvB,EAA6B,GAA7B,CAA9C;AAEAwnC,QAAAA,YAAY,CAACrwB,MAAb,CAAoBlW,gBAApB,CAAqC,QAArC,EAA+C,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAA/C;AACAwnC,QAAAA,YAAY,CAACjwB,MAAb,CAAoBtW,gBAApB,CAAqC,QAArC,EAA+C,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAA/C;AACAwnC,QAAAA,YAAY,CAAC75B,UAAb,CAAwB1M,gBAAxB,CAAyC,QAAzC,EAAmD,KAAKwW,QAAL,CAAc9Y,IAAd,CAAmBqB,IAAnB,CAAnD;AACAwnC,QAAAA,YAAY,CAACe,gBAAb,CAA8BtnC,gBAA9B,CAA+C,QAA/C,EAAyD,KAAKunC,aAAL,CAAmB7pC,IAAnB,CAAwBqB,IAAxB,CAAzD;AAEAooC,QAAAA,YAAY,CAAC3zB,aAAb,CAA2B,uBAA3B,EAAoDxT,gBAApD,CAAqE,OAArE,EAA8E,KAAKggC,UAAL,CAAgBtiC,IAAhB,CAAqBqB,IAArB,CAA9E;AACH;AAED;;;AACAC,MAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBH,WAArB,CAAiCunC,YAAjC;AAEA;;AACAA,MAAAA,YAAY,GAAG,IAAf;AACH,KAtF0D;;AAwF3D;AACAtkB,IAAAA,SAAS,EAAE,YAAY;AACnB,YAAM1hB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM1D,MAAM,GAAG,KAAKQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAf;AAEAT,MAAAA,MAAM,CAACU,SAAP,GAAmB,mBAAnB;AACAV,MAAAA,MAAM,CAACY,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACA,UAAIuqB,IAAI,GAAG,KACP,oDADO,GAEH,gCAFG,GAGC,sGAHD,GAG0G1nB,IAAI,CAACC,SAAL,CAAe7B,KAHzH,GAGiI,IAHjI,GAIK,KAAKuP,KAAL,CAAWiP,MAJhB,GAKC,WALD,GAMC,+BAND,GAMmC5c,IAAI,CAACC,SAAL,CAAe4J,QAAf,CAAwBV,KAN3D,GAMmE,SANnE,GAOH,QAPG,GAQH,8BARR;;AAUQ,UAAIvK,MAAM,CAACqmC,cAAX,EAA2B;AACvBvd,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe4J,QAAf,CAAwBvF,IAFpC,GAE2C,UAF3C,GAGA,oCAHA,GAII,kEAJJ,GAIyE1F,MAAM,CAACsmC,WAJhF,GAI8F,GAJ9F,IAIqGtmC,MAAM,CAACumC,iBAAP,GAA2B,sBAA3B,GAAoD,EAJzJ,IAI+J,IAJ/J,GAKI,oHALJ,GAK2HnlC,IAAI,CAAC0K,UAAL,CAAgBG,MAL3I,GAKoJ,IALpJ,GAK2J,KAAK8C,KAAL,CAAWiP,MALtK,GAK+K,WAL/K,GAMA,QANA,GAOJ,QAPJ;AAQH;;AAED,UAAIhe,MAAM,CAACwmC,aAAX,EAA0B;AACtB1d,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe4J,QAAf,CAAwBT,GAFpC,GAE0C,UAF1C,GAGA,0DAHA,GAIA,qCAJA,GAKJ,QALJ;AAMH;;AAEL,UAAIxK,MAAM,CAAC4lC,aAAX,EAA0B;AACtB,cAAMa,SAAS,GAAGzmC,MAAM,CAAC0mC,cAAP,IAAyB,CAAC;AAACprC,UAAAA,IAAI,EAAE,MAAP;AAAeU,UAAAA,KAAK,EAAE;AAAtB,SAAD,EAAgC;AAACV,UAAAA,IAAI,EAAE,KAAP;AAAcU,UAAAA,KAAK,EAAE;AAArB,SAAhC,EAA4D;AAACV,UAAAA,IAAI,EAAE,MAAP;AAAeU,UAAAA,KAAK,EAAE;AAAtB,SAA5D,CAA3C;AACA,cAAM6P,KAAK,GAAG7L,MAAM,CAACwlC,UAArB;AACA,cAAMrG,cAAc,GAAGn/B,MAAM,CAAC+lC,uBAA9B;AACA,cAAM3G,kBAAkB,GAAGD,cAAc,GAAG,oCAAH,GAA0C,EAAnF;AACA,cAAME,aAAa,GAAG,CAACr/B,MAAM,CAAC6lC,eAAR,GAA0B,oCAA1B,GAAiE,EAAvF;AACA,cAAMc,YAAY,GAAG,CAAC3mC,MAAM,CAAC4mC,cAAR,GAAyB,oCAAzB,GAAgE,EAArF;AACA,cAAMC,gBAAgB,GAAG,CAAC1H,cAAD,IAAmB,CAACn/B,MAAM,CAAC6lC,eAA3B,IAA8C,CAAC7lC,MAAM,CAAC4mC,cAAtD,GAAuE,oCAAvE,GAA8G,EAAvI;AACA9d,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,mCAFA,GAGI,wBAHJ,GAG+B1nB,IAAI,CAACC,SAAL,CAAesF,KAH9C,GAGsD,UAHtD,GAII,gDAJJ,GAKI,uBALJ,GAK8B04B,aAL9B,GAK8C,GAL9C,GAKoDj+B,IAAI,CAACC,SAAL,CAAeuK,MALnE,GAK4E,UAL5E,GAMI,uBANJ,GAM8B+6B,YAN9B,GAM6C,IAN7C,GAMoDvlC,IAAI,CAACC,SAAL,CAAewK,KANnE,GAM2E,WAN3E,GAOA,QAPA,GAQA,qEARA,IAQyEszB,cAAc,GAAG,wBAAH,GAA8B,aARrH,KAQuIA,cAAc,GAAG,YAAH,GAAkB,EARvK,IAQ6K,IAR7K,GASA,iCATA,GASoC0H,gBATpC,GASuD,GATvD,IAS8D1H,cAAc,GAAG,GAAH,GAAS,GATrF,IAS4F,UAT5F,GAUA,gEAVA,GAUoEn/B,MAAM,CAACwlC,UAAP,GAAoB,GAVxF,GAU+F,IAV/F,IAUuGrG,cAAc,GAAG,wBAAH,GAA8B,aAVnJ,KAUqKA,cAAc,GAAG,YAAH,GAAkB,EAVrM,IAU2ME,aAV3M,GAU2N,IAV3N,GAWA,wDAXA,GAW2Dj+B,IAAI,CAACC,SAAL,CAAewK,KAX1E,GAWkF,GAXlF,GAWwF86B,YAXxF,GAWuG,GAX/G;AAYY,YAAI,CAACtH,aAAL,EAAoBvW,IAAI,IAAI,+BAAR;;AACpB,aAAK,IAAI9tB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6iC,SAAS,CAACnkC,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD8tB,UAAAA,IAAI,IAAI,oBAAoB2d,SAAS,CAACzrC,CAAD,CAAT,CAAagB,KAAjC,GAAyC,GAAzC,IAAgD6P,KAAK,CAAClH,QAAN,OAAqB8hC,SAAS,CAACzrC,CAAD,CAAT,CAAagB,KAAb,CAAmB2I,QAAnB,EAArB,GAAqD,WAArD,GAAmE,EAAnH,IAAyH,GAAzH,GAA+H8hC,SAAS,CAACzrC,CAAD,CAAT,CAAaM,IAA5I,GAAmJ,WAA3J;AACH;;AACLwtB,QAAAA,IAAI,IAAI,cACR,+BADQ,GAC0B1nB,IAAI,CAACC,SAAL,CAAeiK,YADzC,GACwD,8DADxD,GACyH,KAAKyD,KAAL,CAAWiF,MADpI,GAC6I,WAD7I,GAEZ,QAFY,GAGZ,mDAHY,GAG0CorB,kBAH1C,GAG+DyH,gBAH/D,GAGkF,GAHlF,GAIR,sGAJQ,GAIiGzlC,IAAI,CAACC,SAAL,CAAekK,UAJhH,GAI6H,UAJ7H,GAKZ,QALI;AAMX;;AAEDud,MAAAA,IAAI,IAAI,KACJ,QADI,GAEJ,gCAFI,GAGA,OAHA,GAII,2GAJJ,GAIkH1nB,IAAI,CAACC,SAAL,CAAemK,KAJjI,GAIyI,UAJzI,GAKI,mGALJ,GAK0GpK,IAAI,CAACC,SAAL,CAAeoK,IALzH,GAKgI,UALhI,GAMI,qGANJ,GAM4GrK,IAAI,CAACC,SAAL,CAAesK,MAN3H,GAMoI,UANpI,GAOI,oGAPJ,GAO2GvK,IAAI,CAACC,SAAL,CAAeqK,KAP1H,GAOkI,UAPlI,GAQA,QARA,GASA,sDATA,GASyDtK,IAAI,CAACC,SAAL,CAAegK,YATxE,GASuF,UATvF,GASoGjK,IAAI,CAACC,SAAL,CAAegK,YATnH,GASkI,kBATlI,GAUJ,QAVI,GAWR,SAXA;AAaJ3N,MAAAA,MAAM,CAACyD,SAAP,GAAmB2nB,IAAnB;AAEA,aAAOprB,MAAP;AACH,KA9K0D;AAgL3D8gC,IAAAA,gBAAgB,EAAE,YAAY;AAC1B,UAAI,CAAC,KAAKyH,cAAL,CAAoBjqC,KAAzB,EAAgC;AAC5B,aAAKkqC,YAAL,CAAkB3gC,eAAlB,CAAkC,UAAlC;AACA,aAAKmE,OAAL,CAAapL,KAAb,CAAmBghC,cAAnB,GAAoC,EAApC;AACH,OAHD,MAGO;AACH,aAAK4G,YAAL,CAAkBnlC,YAAlB,CAA+B,UAA/B,EAA2C,IAA3C;AACA,aAAK2I,OAAL,CAAapL,KAAb,CAAmBghC,cAAnB,GAAoC,cAApC;AACH;AACJ,KAxL0D;AA0L3Df,IAAAA,oBAAoB,EAAE,UAAUgB,QAAV,EAAoB71B,OAApB,EAA6B;AAC/C,WAAK1N,KAAL,GAAa,EAAb;;AACA,UAAIujC,QAAJ,EAAc;AACVA,QAAAA,QAAQ,CAACh6B,eAAT,CAAyB,UAAzB;AACAmE,QAAAA,OAAO,CAACpL,KAAR,CAAcghC,cAAd,GAA+B,EAA/B;AACH;AACJ,KAhM0D;AAkM3Db,IAAAA,cAAc,EAAE,UAAU5gC,OAAV,EAAmB4hC,QAAnB,EAA6BvgC,CAA7B,EAAgC;AAC5C,YAAMlD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASpD,KAAT,CAAeyjB,IAAf,EAAd;;AACA,UAAI,uBAAuBtgB,IAAvB,CAA4BnD,KAA5B,CAAJ,EAAwC;AACpC6B,QAAAA,OAAO,CAACu/B,UAAR,GAAqBphC,KAArB;AACA,aAAKqe,WAAL,GAAmB,6BAAnB;AACH,OAHD,MAGO;AACHxc,QAAAA,OAAO,CAACu/B,UAAR,GAAqB,KAAK/iB,WAAL,GAAmB,CAACre,KAAD,GAAS,EAAT,GAAeyjC,QAAQ,IAAIzjC,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAAtC,IAA2CtJ,KAAK,CAACsJ,OAAN,CAAc,GAAd,MAAuB,CAAnE,GAAwEm6B,QAAQ,GAAGzjC,KAAnF,GAA2FA,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAA1B,GAA8B,MAAMtJ,KAApC,GAA4CA,KAA7L;AACH;AACJ,KA1M0D;AA4M3D8qC,IAAAA,YAAY,EAAE,UAAU9nC,OAAV,EAAmB;AAC7BA,MAAAA,OAAO,CAAC+B,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEA,YAAMomB,KAAK,GAAG,KAAKtpB,OAAL,CAAa+kB,OAAb,CAAqBmkB,aAAnC;AACA,UAAI,CAAC5f,KAAL,EAAY;;AAEZ,WAAK,IAAI7qB,GAAT,IAAgB6qB,KAAhB,EAAuB;AACnB,YAAI,CAAC,KAAKjpB,IAAL,CAAU8oC,MAAV,CAAiB7f,KAAjB,EAAwB7qB,GAAxB,CAAL,EAAmC;AACnC0C,QAAAA,OAAO,CAAC+B,YAAR,CAAqBzE,GAArB,EAA0B6qB,KAAK,CAAC7qB,GAAD,CAA/B;AACH;AACJ,KAtN0D;AAwN3D2qC,IAAAA,cAAc,EAAE,YAAY;AACxB,YAAMC,QAAQ,GAAG,KAAKhpC,IAAL,CAAUC,aAAV,CAAwB,OAAxB,CAAjB;;AACA,WAAKoB,OAAL,CAAa4J,KAAb,CAAmB29B,YAAnB,CAAgC5rC,IAAhC,CAAqC,IAArC,EAA2CgsC,QAA3C;;AACA,aAAOA,QAAP;AACH,KA5N0D;AA8N3DC,IAAAA,eAAe,EAAE,UAAUnoC,OAAV,EAAmB;AAChCA,MAAAA,OAAO,CAACooC,WAAR,GAAsB,GAAtB;AACApoC,MAAAA,OAAO,CAACqoC,eAAR,GAA0B,IAA1B;AAEA,YAAMlgB,KAAK,GAAG,KAAKtpB,OAAL,CAAa+kB,OAAb,CAAqB0kB,gBAAnC;AACA,UAAI,CAACngB,KAAL,EAAY;;AAEZ,WAAK,IAAI7qB,GAAT,IAAgB6qB,KAAhB,EAAuB;AACnB,YAAI,CAAC,KAAKjpB,IAAL,CAAU8oC,MAAV,CAAiB7f,KAAjB,EAAwB7qB,GAAxB,CAAL,EAAmC;AACnC0C,QAAAA,OAAO,CAAC+B,YAAR,CAAqBzE,GAArB,EAA0B6qB,KAAK,CAAC7qB,GAAD,CAA/B;AACH;AACJ,KAzO0D;AA2O3DirC,IAAAA,eAAe,EAAE,YAAY;AACzB,YAAMC,SAAS,GAAG,KAAKtpC,IAAL,CAAUC,aAAV,CAAwB,QAAxB,CAAlB;;AACA,WAAKoB,OAAL,CAAa4J,KAAb,CAAmBg+B,eAAnB,CAAmCjsC,IAAnC,CAAwC,IAAxC,EAA8CssC,SAA9C;;AACA,aAAOA,SAAP;AACH,KA/O0D;;AAiP3D;;;AAGA9H,IAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,OAAX,CApPiD;;AAsP3D;;;;;AAKAv5B,IAAAA,MAAM,EAAE,UAAUnH,OAAV,EAAmB;AACvB,WAAKO,OAAL,CAAa4J,KAAb,CAAmBvC,YAAnB,CAAgC1L,IAAhC,CAAqC,IAArC,EAA2C8D,OAA3C,EAAoD,KAAKO,OAAL,CAAamE,QAAb,CAAsB4S,sBAAtB,CAA6Cpb,IAA7C,CAAkD,IAAlD,EAAwD8D,OAAxD,EAAiE,OAAjE,CAApD;AACH,KA7P0D;;AA+P3D;;;AAGAkH,IAAAA,OAAO,EAAE,UAAUlH,OAAV,EAAmB;AACxB,YAAMyoC,KAAK,GAAGzoC,OAAO,IAAI,KAAKnB,OAAL,CAAasL,KAAb,CAAmBgL,QAA5C;AACA,YAAMrT,SAAS,GAAG,KAAKjD,OAAL,CAAasL,KAAb,CAAmBkL,UAArC;AACA,YAAM7O,SAAS,GAAGiiC,KAAK,CAACnoC,YAAN,CAAmB,YAAnB,IAAmC,CAArD;AACA,UAAIugC,OAAO,GAAI/+B,SAAS,CAACsqB,sBAAV,IAAoCtqB,SAAS,CAACwqB,kBAA7D;AAEA,YAAMgQ,QAAQ,GAAGx6B,SAAS,CAACqP,UAA3B;AACA,WAAKjS,IAAL,CAAU8S,UAAV,CAAqBlQ,SAArB;AACA,WAAKvB,OAAL,CAAa4J,KAAb,CAAmB7I,IAAnB,CAAwBpF,IAAxB,CAA6B,IAA7B;AACA,WAAKof,cAAL;AAEA,UAAIghB,QAAQ,KAAK,KAAKz9B,OAAL,CAAamB,OAAb,CAAqB+E,OAAtC,EAA+C,KAAK7F,IAAL,CAAUq9B,oBAAV,CAA+BD,QAA/B,EAAyC,UAAUnhB,OAAV,EAAmB;AAAE,eAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAArC;AAAyC,OAAvG,EAAyG,IAAzG,EAXvB,CAaxB;;AACA,WAAKy2B,SAAL,CAAe8G,OAAf,EAdwB,CAgBxB;;AACA,WAAKtgC,OAAL,CAAa+B,WAAb,CAAyByF,UAAzB,CAAoC7L,IAApC,CAAyC,IAAzC,EAA+C,OAA/C,EAAwDsK,SAAxD,EAAmE,KAAKrC,SAAL,CAAeukC,aAAlF,EAjBwB,CAmBxB;;AACA,WAAKltB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,KAvR0D;;AAyR3D;;;AAGAhF,IAAAA,EAAE,EAAE,UAAUV,MAAV,EAAkB;AAClB,YAAM0lC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;;AAEA,UAAI,CAACzJ,MAAL,EAAa;AACT0lC,QAAAA,YAAY,CAACrwB,MAAb,CAAoB/Y,KAApB,GAA4BopC,YAAY,CAAC9zB,SAAb,GAAyB,KAAKzT,OAAL,CAAamC,MAAb,CAAoB0lC,UAApB,KAAmCN,YAAY,CAACtwB,aAAhD,GAAgE,EAAhE,GAAqE,KAAKjX,OAAL,CAAamC,MAAb,CAAoB0lC,UAA9I;AACAN,QAAAA,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,GAA4BopC,YAAY,CAAC7zB,SAAb,GAAyB,KAAK1T,OAAL,CAAamC,MAAb,CAAoB2lC,WAApB,KAAoCP,YAAY,CAAClwB,aAAjD,GAAiE,EAAjE,GAAsE,KAAKrX,OAAL,CAAamC,MAAb,CAAoB2lC,WAA/I;AACAP,QAAAA,YAAY,CAAC75B,UAAb,CAAwB6J,QAAxB,GAAmC,IAAnC;AACA,YAAIgwB,YAAY,CAACa,cAAb,IAA+B,KAAKpoC,OAAL,CAAa+kB,OAAb,CAAqB2jB,iBAAxD,EAA2EnB,YAAY,CAACa,cAAb,CAA4BllC,YAA5B,CAAyC,UAAzC,EAAqD,UAArD;AAC9E,OALD,MAKO;AACH,YAAIqkC,YAAY,CAACa,cAAb,IAA+B,KAAKpoC,OAAL,CAAa+kB,OAAb,CAAqB2jB,iBAAxD,EAA2EnB,YAAY,CAACa,cAAb,CAA4B1gC,eAA5B,CAA4C,UAA5C;AAC9E;;AAED,UAAI6/B,YAAY,CAAC5tB,SAAjB,EAA4B;AACxB,aAAKjY,OAAL,CAAa4J,KAAb,CAAmBw+B,mBAAnB,CAAuCzsC,IAAvC,CAA4C,IAA5C,EAAkDkqC,YAAY,CAAC7zB,SAAb,IAA0B6zB,YAAY,CAACK,aAAzF;AACH;AACJ,KA3S0D;;AA6S3D;;;AAGAhmC,IAAAA,IAAI,EAAE,YAAY;AACd,WAAKF,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,YAAY,KAAKkd,qBAA9D;AACH,KAlT0D;AAoT3DguB,IAAAA,aAAa,EAAE,UAAUlnC,CAAV,EAAa;AACxB,YAAMkmC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,YAAMnN,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASwjB,OAAT,CAAiB1jB,CAAC,CAACE,MAAF,CAASwoC,aAA1B,EAAyC5rC,KAAvD;AAEAopC,MAAAA,YAAY,CAAClwB,aAAb,GAA6BkwB,YAAY,CAAC/uB,WAAb,GAA2B,CAACra,KAAD,GAASopC,YAAY,CAAClwB,aAAtB,GAAuClZ,KAAK,GAAG,GAAT,GAAgB,GAA9G;AACAopC,MAAAA,YAAY,CAACjwB,MAAb,CAAoB0yB,WAApB,GAAkC,CAAC7rC,KAAD,GAAS,EAAT,GAAeA,KAAK,GAAG,GAAT,GAAgB,GAAhE;AACAopC,MAAAA,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,GAA4B,EAA5B;AACH,KA3T0D;;AA6T3D;;;;;AAKAgZ,IAAAA,YAAY,EAAE,UAAUO,EAAV,EAAcrW,CAAd,EAAiB;AAC3B,UAAIA,CAAC,IAAIA,CAAC,CAACa,OAAF,KAAc,EAAvB,EAA2B;AACvBb,QAAAA,CAAC,CAACoU,cAAF;AACA;AACH;;AAED,YAAM8xB,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;;AACA,WAAK5J,OAAL,CAAamE,QAAb,CAAsB4R,oBAAtB,CAA2Cpa,IAA3C,CAAgD,IAAhD,EAAsDkqC,YAAtD,EAAoE7vB,EAApE;;AAEA,UAAIA,EAAE,KAAK,GAAX,EAAgB;AACZ,aAAKhW,OAAL,CAAa4J,KAAb,CAAmBw+B,mBAAnB,CAAuCzsC,IAAvC,CAA4C,IAA5C,EAAkDgE,CAAC,CAACE,MAAF,CAASpD,KAAT,IAAkBopC,YAAY,CAACK,aAAjF;AACH;AACJ,KA9U0D;;AAgV3D;;;AAGApwB,IAAAA,QAAQ,EAAE,YAAY;AAClB,WAAK9V,OAAL,CAAamE,QAAb,CAAsBsS,gBAAtB,CAAuC9a,IAAvC,CAA4C,IAA5C,EAAkD,KAAK2C,OAAL,CAAasL,KAA/D;AACH,KArV0D;AAuV3D4Y,IAAAA,MAAM,EAAE,UAAU7iB,CAAV,EAAa;AACjB,YAAMkmC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,YAAM2+B,WAAW,GAAG,KAAKvoC,OAAL,CAAa4J,KAAjC;AAEAjK,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AAEA+lC,MAAAA,YAAY,CAACnI,MAAb,GAAsBmI,YAAY,CAACxmC,KAAb,CAAmByT,aAAnB,CAAiC,6CAAjC,EAAgFrW,KAAtG;;AAEA,UAAI;AACA,YAAIopC,YAAY,CAACa,cAAb,IAA+Bb,YAAY,CAACa,cAAb,CAA4B5F,KAA5B,CAAkC/9B,MAAlC,GAA2C,CAA9E,EAAiF;AAC7E,eAAKR,WAAL;AACAgmC,UAAAA,WAAW,CAAChlB,YAAZ,CAAyB5nB,IAAzB,CAA8B,IAA9B,EAAoC,KAAK2C,OAAL,CAAasL,KAAb,CAAmB88B,cAAnB,CAAkC5F,KAAtE;AACH,SAHD,MAGO,IAAI+E,YAAY,CAACc,YAAb,IAA6Bd,YAAY,CAAChI,UAAb,CAAwB96B,MAAxB,GAAiC,CAAlE,EAAqE;AACxE,eAAKR,WAAL;AACAgmC,UAAAA,WAAW,CAACC,SAAZ,CAAsB7sC,IAAtB,CAA2B,IAA3B;AACH;AACJ,OARD,CAQE,OAAOqlC,KAAP,EAAc;AACZ,aAAK39B,YAAL;AACA,cAAMrF,KAAK,CAAC,4CAA4CgjC,KAAK,CAAC59B,OAAlD,GAA4D,GAA7D,CAAX;AACH,OAXD,SAWU;AACN,aAAKpD,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH;;AAED,aAAO,KAAP;AACH,KAhX0D;AAkX3D4nB,IAAAA,YAAY,EAAE,UAAU0d,QAAV,EAAoB;AAC9B,UAAIA,QAAQ,CAACl+B,MAAT,KAAoB,CAAxB,EAA2B;AAE3B,UAAIm+B,QAAQ,GAAG,CAAf;AACA,UAAIJ,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIrlC,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,YAAI,SAASmE,IAAT,CAAcqhC,QAAQ,CAACxlC,CAAD,CAAR,CAAY+gB,IAA1B,CAAJ,EAAqC;AACjCskB,UAAAA,KAAK,CAACj7B,IAAN,CAAWo7B,QAAQ,CAACxlC,CAAD,CAAnB;AACAylC,UAAAA,QAAQ,IAAID,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL,IAAxB;AACH;AACJ;;AAED,YAAM06B,SAAS,GAAG,KAAK7iC,OAAL,CAAamC,MAAb,CAAoBgoC,oBAAtC;;AACA,UAAItH,SAAS,GAAG,CAAhB,EAAmB;AACf,YAAIE,QAAQ,GAAG,CAAf;AACA,cAAMqH,UAAU,GAAG,KAAKpqC,OAAL,CAAasL,KAAb,CAAmBjF,SAAtC;;AACA,aAAK,IAAIlJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqkC,UAAU,CAAC3lC,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnD4lC,UAAAA,QAAQ,IAAIqH,UAAU,CAACjtC,CAAD,CAAV,CAAcgL,IAAd,GAAqB,CAAjC;AACH;;AAED,YAAKy6B,QAAQ,GAAGG,QAAZ,GAAwBF,SAA5B,EAAuC;AACnC,eAAK99B,YAAL;AACA,gBAAMK,GAAG,GAAG,mEAAoEy9B,SAAS,GAAC,IAA9E,GAAsF,IAAlG;;AACA,cAAI,KAAKv9B,SAAL,CAAe+kC,kBAAf,KAAsC,UAAtC,IAAoD,KAAK/kC,SAAL,CAAe+kC,kBAAf,CAAkCjlC,GAAlC,EAAuC;AAAE,yBAAay9B,SAAf;AAA0B,2BAAeE,QAAzC;AAAmD,0BAAcH;AAAjE,WAAvC,EAAoH,IAApH,CAAxD,EAAmL;AAC/K,iBAAKt9B,SAAL,CAAeC,UAAf,CAA0BH,GAA1B;AACH;;AACD;AACH;AACJ;;AAED,YAAMmiC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACAi8B,MAAAA,YAAY,CAACt+B,iBAAb,GAAiCu5B,KAAK,CAAC/9B,MAAvC;AAEA,YAAMiC,IAAI,GAAG;AACT08B,QAAAA,UAAU,EAAEmE,YAAY,CAACrwB,MAAb,CAAoB/Y,KADvB;AAETklC,QAAAA,WAAW,EAAEkE,YAAY,CAACjwB,MAAb,CAAoBnZ,KAFxB;AAGTmM,QAAAA,KAAK,EAAEi9B,YAAY,CAACnI,MAHX;AAITkE,QAAAA,QAAQ,EAAE,KAAKtjC,OAAL,CAAaH,MAAb,CAAoBK,WAJrB;AAKTiB,QAAAA,OAAO,EAAEomC,YAAY,CAACjxB;AALb,OAAb;;AAQA,UAAI,OAAO,KAAKhR,SAAL,CAAeglC,mBAAtB,KAA8C,UAAlD,EAA8D;AAC1D,cAAMtpB,MAAM,GAAG,KAAK1b,SAAL,CAAeglC,mBAAf,CAAmC9H,KAAnC,EAA0C97B,IAA1C,EAAgD,IAAhD,EAAsD,UAAU43B,IAAV,EAAgB;AACjF,cAAIA,IAAI,IAAI,KAAK/5B,EAAL,CAAQi/B,KAAR,CAAcC,OAAd,CAAsBnF,IAAI,CAACtd,MAA3B,CAAZ,EAAgD;AAC5C,iBAAKtf,OAAL,CAAa4J,KAAb,CAAmBo4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6C43B,IAA7C;AACH,WAFD,MAEO;AACH,iBAAK58B,OAAL,CAAa4J,KAAb,CAAmB3H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C43B,IAA3C;AACH;AACJ,SANoE,CAMnE5/B,IANmE,CAM9D,IAN8D,CAAtD,CAAf;AAQA,YAAI,OAAOsiB,MAAP,KAAkB,WAAtB,EAAmC;;AACnC,YAAI,CAACA,MAAL,EAAa;AACT,eAAKjc,YAAL;AACA;AACH;;AACD,YAAI,OAAOic,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACvc,MAAP,GAAgB,CAAlD,EAAqD+9B,KAAK,GAAGxhB,MAAR;AACxD;;AAED,WAAKtf,OAAL,CAAa4J,KAAb,CAAmB3H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C87B,KAA3C;AACH,KA7a0D;AA+a3DE,IAAAA,KAAK,EAAE,UAAU59B,OAAV,EAAmB6+B,QAAnB,EAA6B;AAChC,WAAK5+B,YAAL;;AACA,UAAI,OAAO,KAAKO,SAAL,CAAe+kC,kBAAtB,KAA6C,UAA7C,IAA2D,KAAK/kC,SAAL,CAAe+kC,kBAAf,CAAkCvlC,OAAlC,EAA2C6+B,QAA3C,EAAqD,IAArD,CAA/D,EAA2H;AACvH,aAAKr+B,SAAL,CAAeC,UAAf,CAA0BT,OAA1B;AACA,cAAMpF,KAAK,CAAC,8CAA8CoF,OAA/C,CAAX;AACH;AACJ,KArb0D;AAub3DnB,IAAAA,MAAM,EAAE,UAAU+C,IAAV,EAAgB87B,KAAhB,EAAuB;AAC3B,UAAI,CAACA,KAAL,EAAY;AACR,aAAKz9B,YAAL;AACA;AACH;;AACD,UAAI,OAAOy9B,KAAP,KAAiB,QAArB,EAA+B;AAC3B,aAAK9gC,OAAL,CAAa4J,KAAb,CAAmBo3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCmlC,KAApC,EAA2C,IAA3C;AACA;AACH;;AAED,YAAM+H,cAAc,GAAG,KAAKvqC,OAAL,CAAamC,MAAb,CAAoBooC,cAA3C;AACA,YAAM1G,QAAQ,GAAG,KAAK7jC,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,CAAlC,GAAsCsiC,KAAK,CAAC/9B,MAA7D,CAX2B,CAa3B;;AACA,UAAI,OAAO8lC,cAAP,KAA0B,QAA1B,IAAsCA,cAAc,CAAC9lC,MAAf,GAAwB,CAAlE,EAAqE;AACjE,cAAMX,QAAQ,GAAG,IAAIggC,QAAJ,EAAjB;;AACA,aAAK,IAAI3mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0mC,QAApB,EAA8B1mC,CAAC,EAA/B,EAAmC;AAC/B2G,UAAAA,QAAQ,CAACigC,MAAT,CAAgB,UAAU5mC,CAA1B,EAA6BqlC,KAAK,CAACrlC,CAAD,CAAlC;AACH;;AACD,aAAKuE,OAAL,CAAa+B,WAAb,CAAyBE,MAAzB,CAAgCtG,IAAhC,CAAqC,IAArC,EAA2CktC,cAA3C,EAA2D,KAAKvqC,OAAL,CAAamC,MAAb,CAAoBqoC,iBAA/E,EAAkG1mC,QAAlG,EAA4G,KAAKpC,OAAL,CAAa4J,KAAb,CAAmBm/B,oBAAnB,CAAwC/rC,IAAxC,CAA6C,IAA7C,EAAmDgI,IAAnD,CAA5G,EAAsK,KAAKpB,SAAL,CAAe+kC,kBAArL;AACH,OAND,MAMO;AACH,cAAM3qC,KAAK,CAAC,2EAAD,CAAX;AACH;AACJ,KA9c0D;AAgd3D+qC,IAAAA,oBAAoB,EAAE,UAAU/jC,IAAV,EAAgBvC,OAAhB,EAAyB;AAC3C,UAAI,OAAO,KAAKmB,SAAL,CAAeolC,kBAAtB,KAA6C,UAAjD,EAA6D;AACzD,aAAKplC,SAAL,CAAeolC,kBAAf,CAAkCvmC,OAAlC,EAA2CuC,IAA3C,EAAiD,IAAjD;AACH,OAFD,MAEO;AACH,cAAMi9B,QAAQ,GAAGz+B,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,CAAjB;;AACA,YAAI0+B,QAAQ,CAACt+B,YAAb,EAA2B;AACvB,eAAK3D,OAAL,CAAa4J,KAAb,CAAmBo3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCsmC,QAAQ,CAACt+B,YAA7C,EAA2Ds+B,QAA3D;AACH,SAFD,MAEO;AACH,eAAKjiC,OAAL,CAAa4J,KAAb,CAAmBo4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6Ci9B,QAA7C;AACH;AACJ;AACJ,KA3d0D;AA6d3DD,IAAAA,QAAQ,EAAE,UAAUh9B,IAAV,EAAgBi9B,QAAhB,EAA0B;AAChC,YAAMhB,QAAQ,GAAGgB,QAAQ,CAAC3iB,MAA1B;AACA,YAAMqoB,QAAQ,GAAG,KAAK3nC,OAAL,CAAa4J,KAAb,CAAmB89B,cAAnB,CAAkC/rC,IAAlC,CAAuC,IAAvC,CAAjB;;AAEA,WAAK,IAAIF,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA1B,EAAkCoD,IAAvC,EAA6C1K,CAAC,GAAG4I,GAAjD,EAAsD5I,CAAC,EAAvD,EAA2D;AACvD0K,QAAAA,IAAI,GAAG;AAAEpK,UAAAA,IAAI,EAAEklC,QAAQ,CAACxlC,CAAD,CAAR,CAAYM,IAApB;AAA0B0K,UAAAA,IAAI,EAAEw6B,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL;AAA5C,SAAP;AACA,aAAKzG,OAAL,CAAa4J,KAAb,CAAmBq/B,YAAnB,CAAgCttC,IAAhC,CAAqC,IAArC,EAA4CqJ,IAAI,CAAC48B,QAAL,GAAgB58B,IAAI,CAACvF,OAArB,GAA+BkoC,QAAQ,CAACjiB,SAAT,CAAmB,KAAnB,CAA3E,EAAuGub,QAAQ,CAACxlC,CAAD,CAAR,CAAYwP,GAAnH,EAAwHjG,IAAI,CAAC08B,UAA7H,EAAyI18B,IAAI,CAAC28B,WAA9I,EAA2J38B,IAAI,CAAC4D,KAAhK,EAAuKzC,IAAvK,EAA6KnB,IAAI,CAAC48B,QAAlL;AACH;;AAED,WAAKv+B,YAAL;AACH,KAve0D;AAye3DmlC,IAAAA,SAAS,EAAE,YAAY;AACnB,UAAI;AACA,cAAM3C,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,YAAIqB,GAAG,GAAG46B,YAAY,CAAChI,UAAvB;AAEA,YAAI5yB,GAAG,CAAClI,MAAJ,KAAe,CAAnB,EAAsB,OAAO,KAAP;AAEtB;;AACA,YAAI,uBAAuBnD,IAAvB,CAA4BqL,GAA5B,CAAJ,EAAsC;AAClC,gBAAMi+B,OAAO,GAAI,IAAI,KAAKrmC,EAAL,CAAQsmC,SAAZ,EAAD,CAA0BC,eAA1B,CAA0Cn+B,GAA1C,EAA+C,WAA/C,EAA4D6H,aAA5D,CAA0E,QAA1E,CAAhB;AACA7H,UAAAA,GAAG,GAAGi+B,OAAO,CAAChkC,GAAd;AACA,cAAI+F,GAAG,CAAClI,MAAJ,KAAe,CAAnB,EAAsB,OAAO,KAAP;AACzB;AAED;;;AACA,YAAI,aAAanD,IAAb,CAAkBqL,GAAlB,CAAJ,EAA4B;AACxB,cAAI,CAAC,QAAQrL,IAAR,CAAaqL,GAAb,CAAL,EAAwBA,GAAG,GAAG,aAAaA,GAAnB;AACxBA,UAAAA,GAAG,GAAGA,GAAG,CAACkL,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,CAAN;;AACA,cAAI,CAAC,mBAAmBvW,IAAnB,CAAwBqL,GAAxB,CAAL,EAAmC;AAC/BA,YAAAA,GAAG,GAAGA,GAAG,CAACkL,OAAJ,CAAYlL,GAAG,CAAC+F,KAAJ,CAAU,UAAV,EAAsB,CAAtB,CAAZ,EAAsC,0BAAtC,EAAkEmF,OAAlE,CAA0E,GAA1E,EAA+E,IAA/E,CAAN;AACH;;AAED,cAAI0vB,YAAY,CAACE,aAAb,CAA2BhjC,MAA3B,GAAoC,CAAxC,EAA2C;AACvC,gBAAI,KAAKnD,IAAL,CAAUqL,GAAV,CAAJ,EAAoB;AAChB,oBAAMo+B,QAAQ,GAAGp+B,GAAG,CAAC3E,KAAJ,CAAU,GAAV,CAAjB;AACA2E,cAAAA,GAAG,GAAGo+B,QAAQ,CAAC,CAAD,CAAR,GAAc,GAAd,GAAoBxD,YAAY,CAACE,aAAjC,GAAiD,GAAjD,GAAuDsD,QAAQ,CAAC,CAAD,CAArE;AACH,aAHD,MAGO;AACHp+B,cAAAA,GAAG,IAAI,MAAM46B,YAAY,CAACE,aAA1B;AACH;AACJ;AACJ,SAfD,MAeO,IAAI,aAAanmC,IAAb,CAAkBqL,GAAlB,CAAJ,EAA4B;AAC/B,cAAIA,GAAG,CAACq+B,QAAJ,CAAa,GAAb,CAAJ,EAAuB;AACnBr+B,YAAAA,GAAG,GAAGA,GAAG,CAAC1G,KAAJ,CAAU,CAAV,EAAa,CAAC,CAAd,CAAN;AACH;;AACD0G,UAAAA,GAAG,GAAG,oCAAoCA,GAAG,CAAC1G,KAAJ,CAAU0G,GAAG,CAACs+B,WAAJ,CAAgB,GAAhB,IAAuB,CAAjC,CAA1C;AACH;;AAED,aAAKvpC,OAAL,CAAa4J,KAAb,CAAmBq/B,YAAnB,CAAgCttC,IAAhC,CAAqC,IAArC,EAA2C,KAAKqE,OAAL,CAAa4J,KAAb,CAAmBo+B,eAAnB,CAAmCrsC,IAAnC,CAAwC,IAAxC,CAA3C,EAA0FsP,GAA1F,EAA+F46B,YAAY,CAACrwB,MAAb,CAAoB/Y,KAAnH,EAA0HopC,YAAY,CAACjwB,MAAb,CAAoBnZ,KAA9I,EAAqJopC,YAAY,CAACnI,MAAlK,EAA0K,IAA1K,EAAgL,KAAKp/B,OAAL,CAAaH,MAAb,CAAoBK,WAApM;AACH,OArCD,CAqCE,OAAOwiC,KAAP,EAAc;AACZ,cAAMhjC,KAAK,CAAC,4CAA4CgjC,KAAK,CAAC59B,OAAlD,GAA4D,GAA7D,CAAX;AACH,OAvCD,SAuCU;AACN,aAAKC,YAAL;AACH;AACJ,KAphB0D;AAshB3D4lC,IAAAA,YAAY,EAAE,UAAUO,MAAV,EAAkBtkC,GAAlB,EAAuBkC,KAAvB,EAA8BiF,MAA9B,EAAsCzD,KAAtC,EAA6CzC,IAA7C,EAAmDy7B,QAAnD,EAA6D;AACvE,WAAKtjC,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuC,OAAvC;AACA,YAAMwgC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEA,UAAItI,KAAK,GAAG,IAAZ;AACA,UAAIC,SAAS,GAAG,IAAhB;AACA,UAAIR,IAAI,GAAG,KAAX;AAEA;;AACA,UAAI6gC,QAAJ,EAAc;AACV4H,QAAAA,MAAM,GAAG3D,YAAY,CAACjxB,QAAtB;;AACA,YAAI40B,MAAM,CAACtkC,GAAP,KAAeA,GAAnB,EAAwB;AACpBnE,UAAAA,IAAI,GAAG,IAAP;AACA,gBAAM0oC,SAAS,GAAG,aAAa7pC,IAAb,CAAkBsF,GAAlB,CAAlB;AACA,gBAAMwkC,OAAO,GAAG,aAAa9pC,IAAb,CAAkBsF,GAAlB,CAAhB;;AACA,cAAI,CAACukC,SAAS,IAAIC,OAAd,KAA0B,CAAC,YAAY9pC,IAAZ,CAAiB4pC,MAAM,CAAC5jC,QAAxB,CAA/B,EAAkE;AAC9D,kBAAM+jC,MAAM,GAAG,KAAK3pC,OAAL,CAAa4J,KAAb,CAAmBo+B,eAAnB,CAAmCrsC,IAAnC,CAAwC,IAAxC,CAAf;AACAguC,YAAAA,MAAM,CAACzkC,GAAP,GAAaA,GAAb;AACAskC,YAAAA,MAAM,CAAC54B,UAAP,CAAkBwT,YAAlB,CAA+BulB,MAA/B,EAAuCH,MAAvC;AACA3D,YAAAA,YAAY,CAACjxB,QAAb,GAAwB40B,MAAM,GAAGG,MAAjC;AACH,WALD,MAKO,IAAI,CAACF,SAAD,IAAc,CAACC,OAAf,IAA0B,CAAC,YAAY9pC,IAAZ,CAAiB4pC,MAAM,CAAC5jC,QAAxB,CAA/B,EAAkE;AACrE,kBAAM+jC,MAAM,GAAG,KAAK3pC,OAAL,CAAa4J,KAAb,CAAmB89B,cAAnB,CAAkC/rC,IAAlC,CAAuC,IAAvC,CAAf;AACAguC,YAAAA,MAAM,CAACzkC,GAAP,GAAaA,GAAb;AACAskC,YAAAA,MAAM,CAAC54B,UAAP,CAAkBwT,YAAlB,CAA+BulB,MAA/B,EAAuCH,MAAvC;AACA3D,YAAAA,YAAY,CAACjxB,QAAb,GAAwB40B,MAAM,GAAGG,MAAjC;AACH,WALM,MAKA;AACHH,YAAAA,MAAM,CAACtkC,GAAP,GAAaA,GAAb;AACH;AACJ;;AACD3D,QAAAA,SAAS,GAAGskC,YAAY,CAAC/wB,UAAzB;AACAxT,QAAAA,KAAK,GAAG,KAAK3C,IAAL,CAAU8G,gBAAV,CAA2B+jC,MAA3B,EAAmC,QAAnC,CAAR;AACH;AACD;AAvBA,WAwBK;AACDzoC,UAAAA,IAAI,GAAG,IAAP;AACAyoC,UAAAA,MAAM,CAACtkC,GAAP,GAAaA,GAAb;AACA2gC,UAAAA,YAAY,CAACjxB,QAAb,GAAwB40B,MAAxB;AACAloC,UAAAA,KAAK,GAAG,KAAKtB,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4C6tC,MAA5C,CAAR;AACAjoC,UAAAA,SAAS,GAAG,KAAKvB,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,oBAAvD,CAAZ;AACH;AAED;;;AACAukC,MAAAA,YAAY,CAAChxB,MAAb,GAAsBvT,KAAtB;AACAukC,MAAAA,YAAY,CAAC/wB,UAAb,GAA0BvT,SAA1B;;AAEA,YAAMqoC,WAAW,GAAI,KAAK5pC,OAAL,CAAamE,QAAb,CAAsB8C,gBAAtB,CAAuCtL,IAAvC,CAA4C,IAA5C,EAAkDkqC,YAAlD,OAAqEz+B,KAAK,IAAIy+B,YAAY,CAACtwB,aAA3F,CAAD,IAAgH,KAAKvV,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkDkqC,YAAlD,OAAqEx5B,MAAM,IAAIw5B,YAAY,CAAC/uB,WAA5F,CAApI;;AACA,YAAM8sB,UAAU,GAAG,CAAChC,QAAD,IAAagI,WAAhC;;AAEA,UAAI/D,YAAY,CAAC5tB,SAAjB,EAA4B;AACxB,aAAK3Z,OAAL,CAAasL,KAAb,CAAmByL,kBAAnB,GAAwCwwB,YAAY,CAAC75B,UAAb,CAAwByD,OAAhE;AACA+5B,QAAAA,MAAM,CAAChoC,YAAP,CAAoB,iBAApB,EAAuCqkC,YAAY,CAACxwB,kBAApD;AACH,OAnDsE,CAqDvE;;;AACA,UAAI6uB,SAAS,GAAG,KAAhB;;AACA,UAAIN,UAAJ,EAAgB;AACZM,QAAAA,SAAS,GAAG,KAAKlkC,OAAL,CAAa4J,KAAb,CAAmBtC,SAAnB,CAA6B3L,IAA7B,CAAkC,IAAlC,CAAZ;AACH,OAzDsE,CA2DvE;;;AACA,UAAI,EAAEuoC,SAAS,IAAIt7B,KAAK,KAAK,QAAzB,CAAJ,EAAwC;AACpC,aAAK5I,OAAL,CAAa4J,KAAb,CAAmB0Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C6tC,MAA7C,EAAqDloC,KAArD,EAA4DC,SAA5D;AACH;;AAED,UAAIiyB,OAAO,GAAG,IAAd;;AACA,UAAI,CAACoO,QAAL,EAAe;AACXpO,QAAAA,OAAO,GAAG,KAAKlJ,eAAL,CAAqB/oB,SAArB,EAAgC,KAAhC,EAAuC,IAAvC,EAA6C,KAA7C,CAAV;AACH,OAFD,MAEO,IAAIskC,YAAY,CAAC5tB,SAAb,IAA0B,KAAK3Z,OAAL,CAAa6F,QAAb,CAAsB8N,eAAhD,IAAmE2xB,UAAvE,EAAmF;AACtF,aAAK5jC,OAAL,CAAamE,QAAb,CAAsBiW,gBAAtB,CAAuCze,IAAvC,CAA4C,IAA5C,EAAkD6tC,MAAlD,EAA0D,IAA1D,EAAgE,IAAhE;AACH;;AAED,UAAIhW,OAAJ,EAAa;AACT,YAAIzyB,IAAJ,EAAU;AACN,eAAKf,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqD6tC,MAArD,EAA6D,KAAK5lC,SAAL,CAAeukC,aAA5E,EAA2FhiC,IAA3F,EAAiG,IAAjG;AACH;;AACD,YAAIy7B,QAAJ,EAAc;AACV,eAAK/nB,eAAL,CAAqB2vB,MAArB,EAA6B,OAA7B,EADU,CAEV;;AACA,eAAKvuB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH;AACJ;;AAED,WAAKvH,OAAL,CAAa6F,QAAb,CAAsBkB,cAAtB,GAAuC,EAAvC;AACH,KAzmB0D;AA2mB3DwkC,IAAAA,kBAAkB,EAAE,UAAUL,MAAV,EAAkB;AAClC,UAAI,CAACA,MAAL,EAAa;AAEb,YAAM3D,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEA,UAAI,WAAWhK,IAAX,CAAgB4pC,MAAM,CAAC5jC,QAAvB,CAAJ,EAAsC,KAAK5F,OAAL,CAAa4J,KAAb,CAAmB29B,YAAnB,CAAgC5rC,IAAhC,CAAqC,IAArC,EAA2C6tC,MAA3C,EAAtC,KACK,KAAKxpC,OAAL,CAAa4J,KAAb,CAAmBg+B,eAAnB,CAAmCjsC,IAAnC,CAAwC,IAAxC,EAA8C6tC,MAA9C;AAEL,YAAMvF,YAAY,GAAG,KAAKtlC,IAAL,CAAU8G,gBAAV,CAA2B+jC,MAA3B,EAAmC,KAAK7qC,IAAL,CAAU+G,gBAA7C,KACjB,KAAK/G,IAAL,CAAU8G,gBAAV,CAA2B+jC,MAA3B,EAAmC,UAAU5uB,OAAV,EAAmB;AAClD,eAAO,KAAKlK,YAAL,CAAkBkK,OAAO,CAAChK,UAA1B,CAAP;AACH,OAFkC,CAEjC5T,IAFiC,CAE5B,KAAK2B,IAFuB,CAAnC,CADJ;AAKAknC,MAAAA,YAAY,CAACjxB,QAAb,GAAwB40B,MAAM,GAAGA,MAAM,CAAC9jB,SAAP,CAAiB,IAAjB,CAAjC;AACA,YAAMpkB,KAAK,GAAGukC,YAAY,CAAChxB,MAAb,GAAsB,KAAK7U,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4C6tC,MAA5C,CAApC;AACA,YAAMjoC,SAAS,GAAGskC,YAAY,CAAC/wB,UAAb,GAA0B,KAAK9U,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,oBAAvD,CAA5C;AAEA,YAAMwa,UAAU,GAAGmoB,YAAY,CAACnxB,aAAb,CAA2B,YAA3B,CAAnB;AACA,UAAInR,OAAO,GAAG,IAAd;;AACA,UAAI,CAAC,CAACma,UAAN,EAAkB;AACdna,QAAAA,OAAO,GAAG,KAAKhD,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAV;AACA+C,QAAAA,OAAO,CAACC,SAAR,GAAoBka,UAAU,CAACla,SAA/B;AACA,aAAKjD,IAAL,CAAU8S,UAAV,CAAqBqK,UAArB;AACH;;AAED,YAAMrV,IAAI,GAAG,CAAC+iC,MAAM,CAACzpC,YAAP,CAAoB,WAApB,KAAoCypC,MAAM,CAACzpC,YAAP,CAAoB,aAApB,CAApC,IAA0E,EAA3E,EAA+EuG,KAA/E,CAAqF,GAArF,CAAb;AACA,WAAKtG,OAAL,CAAa4J,KAAb,CAAmBtC,SAAnB,CAA6B3L,IAA7B,CAAkC,IAAlC,EAAwC8K,IAAI,CAAC,CAAD,CAA5C,EAAiDA,IAAI,CAAC,CAAD,CAArD;AAEAw9B,MAAAA,YAAY,CAACrzB,UAAb,CAAwBwT,YAAxB,CAAqC7iB,SAArC,EAAgD0iC,YAAhD;AACA,UAAI,CAAC,CAACtiC,OAAN,EAAesiC,YAAY,CAACrzB,UAAb,CAAwBqT,YAAxB,CAAqCtiB,OAArC,EAA8CJ,SAAS,CAACwqB,kBAAxD;AACf,WAAK/rB,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqD6tC,MAArD,EAA6D,KAAK5lC,SAAL,CAAeukC,aAA5E,EAA2F,IAA3F,EAAiG,IAAjG;AACH,KA1oB0D;;AA4oB3D;;;AAGA9gC,IAAAA,YAAY,EAAE,UAAU5H,OAAV,EAAmBgH,IAAnB,EAAyB;AACnC,YAAMo/B,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACAi8B,MAAAA,YAAY,CAACjxB,QAAb,GAAwBnV,OAAxB;AACAomC,MAAAA,YAAY,CAAChxB,MAAb,GAAsB,KAAKlW,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,QAApC,CAAtB;AACAomC,MAAAA,YAAY,CAAC/wB,UAAb,GAA0B,KAAKnW,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,KAAKd,IAAL,CAAU+G,gBAA9C,CAA1B;AACAmgC,MAAAA,YAAY,CAACnI,MAAb,GAAsBj+B,OAAO,CAACM,YAAR,CAAqB,YAArB,KAAsC,MAA5D;;AAEA,UAAI0G,IAAJ,EAAU;AACNo/B,QAAAA,YAAY,CAAC/oB,UAAb,GAA0BrW,IAAI,CAAC1I,CAA/B;AACA8nC,QAAAA,YAAY,CAAC7oB,UAAb,GAA0BvW,IAAI,CAACS,CAA/B;AACA2+B,QAAAA,YAAY,CAAC5H,UAAb,GAA0Bx3B,IAAI,CAAC/J,CAA/B;AACAmpC,QAAAA,YAAY,CAAC7H,UAAb,GAA0Bv3B,IAAI,CAAC/K,CAA/B;AACH;;AAED,UAAIouC,MAAM,GAAGjE,YAAY,CAACjxB,QAAb,CAAsB7U,YAAtB,CAAmC,WAAnC,KAAmD8lC,YAAY,CAACjxB,QAAb,CAAsB7U,YAAtB,CAAmC,aAAnC,CAAhE;;AACA,UAAI+pC,MAAJ,EAAY;AACRA,QAAAA,MAAM,GAAGA,MAAM,CAACxjC,KAAP,CAAa,GAAb,CAAT;AACAu/B,QAAAA,YAAY,CAAC9zB,SAAb,GAAyB+3B,MAAM,CAAC,CAAD,CAA/B;AACAjE,QAAAA,YAAY,CAAC7zB,SAAb,GAAyB83B,MAAM,CAAC,CAAD,CAA/B;AACH,OAJD,MAIO,IAAIrjC,IAAJ,EAAU;AACbo/B,QAAAA,YAAY,CAAC9zB,SAAb,GAAyBtL,IAAI,CAAC1I,CAA9B;AACA8nC,QAAAA,YAAY,CAAC7zB,SAAb,GAAyBvL,IAAI,CAACS,CAA9B;AACH;AACJ,KAtqB0D;;AAwqB3D;;;AAGAqT,IAAAA,UAAU,EAAE,UAAU6pB,OAAV,EAAmB;AAC3B,YAAMyB,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEA,UAAIi8B,YAAY,CAACc,YAAjB,EAA+Bd,YAAY,CAAChI,UAAb,GAA0BgI,YAAY,CAAC17B,OAAb,CAAqB2Q,WAArB,GAAmC+qB,YAAY,CAACc,YAAb,CAA0BlqC,KAA1B,GAAmCopC,YAAY,CAACjxB,QAAb,CAAsB1P,GAAtB,IAA6B,CAAC2gC,YAAY,CAACjxB,QAAb,CAAsB9B,aAAtB,CAAoC,QAApC,KAAiD,EAAlD,EAAsD5N,GAAnF,IAA0F,EAA1L;AAC/B2gC,MAAAA,YAAY,CAACxmC,KAAb,CAAmByT,aAAnB,CAAiC,gDAAgD+yB,YAAY,CAACnI,MAA7D,GAAsE,IAAvG,EAA6GjuB,OAA7G,GAAuH,IAAvH;;AAEA,UAAIo2B,YAAY,CAAC5tB,SAAjB,EAA4B;AACxB,aAAKjY,OAAL,CAAamE,QAAb,CAAsB8Q,0BAAtB,CAAiDtZ,IAAjD,CAAsD,IAAtD,EAA4DkqC,YAA5D,EAA0E,KAAK7lC,OAAL,CAAa4J,KAAvF;;AAEA,cAAM8L,CAAC,GAAGmwB,YAAY,CAAC/uB,WAAb,GAA2B,KAAK9W,OAAL,CAAamE,QAAb,CAAsBgD,gBAAtB,CAAuCxL,IAAvC,CAA4C,IAA5C,EAAkDkqC,YAAlD,CAArC;;AACA,cAAMkE,aAAa,GAAG,KAAK/pC,OAAL,CAAa4J,KAAb,CAAmBw+B,mBAAnB,CAAuCzsC,IAAvC,CAA4C,IAA5C,EAAkD+Z,CAAlD,CAAtB;AACA,YAAI,CAACq0B,aAAL,EAAoBlE,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,GAA4BopC,YAAY,CAACzwB,eAAb,GAA+B,KAAKzW,IAAL,CAAUoW,SAAV,CAAoBW,CAApB,EAAuB,CAAvB,CAA/B,GAA2DA,CAAvF;AACvB;;AAED,UAAI,CAAC0uB,OAAL,EAAc,KAAKpkC,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,IAA7C;AACjB,KA1rB0D;AA4rB3DysC,IAAAA,mBAAmB,EAAE,UAAU3rC,KAAV,EAAiB;AAClC,UAAIstC,aAAa,GAAG,KAApB;AACA,YAAMlE,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,YAAMogC,YAAY,GAAGnE,YAAY,CAACe,gBAAb,CAA8BvjB,OAAnD;AAEA,UAAI,KAAKzjB,IAAL,CAAUnD,KAAV,KAAoBopC,YAAY,CAACzwB,eAArC,EAAsD3Y,KAAK,GAAI,KAAKkC,IAAL,CAAUoW,SAAV,CAAoBtY,KAApB,EAA2B,CAA3B,IAAgC,GAAjC,GAAwC,EAAhD,CAAtD,KACK,IAAI,CAAC,KAAKkC,IAAL,CAAUklC,QAAV,CAAmBpnC,KAAnB,CAAD,IAA+BA,KAAK,GAAG,CAAT,IAAe,CAAjD,EAAoDA,KAAK,GAAG,EAAR;AAEzDopC,MAAAA,YAAY,CAACjwB,MAAb,CAAoB0yB,WAApB,GAAkC,EAAlC;;AACA,WAAK,IAAI7sC,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2lC,YAAY,CAACjnC,MAAnC,EAA2CtH,CAAC,GAAG4I,GAA/C,EAAoD5I,CAAC,EAArD,EAAyD;AACrD,YAAIuuC,YAAY,CAACvuC,CAAD,CAAZ,CAAgBgB,KAAhB,KAA0BA,KAA9B,EAAqC;AACjCstC,UAAAA,aAAa,GAAGC,YAAY,CAACvuC,CAAD,CAAZ,CAAgBwuC,QAAhB,GAA2B,IAA3C;AACApE,UAAAA,YAAY,CAACjwB,MAAb,CAAoB0yB,WAApB,GAAkC,CAAC7rC,KAAD,GAAS,EAAT,GAAeA,KAAK,GAAG,GAAT,GAAgB,GAAhE;AACH,SAHD,MAIKutC,YAAY,CAACvuC,CAAD,CAAZ,CAAgBwuC,QAAhB,GAA2B,KAA3B;AACR;;AAED,aAAOF,aAAP;AACH,KA9sB0D;;AAgtB3D;;;AAGA1G,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKrjC,OAAL,CAAa+B,WAAb,CAAyB+B,SAAzB,CAAmCnI,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,CAAC,QAAD,EAAW,OAAX,CAAvD,EAA4E,KAAKiI,SAAL,CAAeukC,aAA3F,EAA0G,KAAKnoC,OAAL,CAAa4J,KAAb,CAAmBigC,kBAAnB,CAAsC7sC,IAAtC,CAA2C,IAA3C,CAA1G,EAA4J,IAA5J;AACH,KArtB0D;;AAutB3D;;;AAGAsmC,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKtjC,OAAL,CAAa+B,WAAb,CAAyB0F,SAAzB,CAAmC9L,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,KAAKiI,SAAL,CAAeukC,aAAtE;AACH,KA5tB0D;;AA8tB3D;;;AAGA7I,IAAAA,UAAU,EAAE,YAAY;AACpB,WAAKt/B,OAAL,CAAamE,QAAb,CAAsByS,kBAAtB,CAAyCjb,IAAzC,CAA8C,IAA9C,EAAoD,KAAK2C,OAAL,CAAasL,KAAjE;AACH,KAnuB0D;;AAquB3D;;;AAGAtC,IAAAA,SAAS,EAAE,UAAUvJ,CAAV,EAAamJ,CAAb,EAAgB;AACvB,YAAM2+B,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEA,UAAI,CAAC7L,CAAL,EAAQA,CAAC,GAAG8nC,YAAY,CAACrwB,MAAb,CAAoB/Y,KAApB,IAA6B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB0lC,UAArD;AACR,UAAI,CAACj/B,CAAL,EAAQA,CAAC,GAAG2+B,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,IAA6B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB2lC,WAArD;;AAER,UAAIP,YAAY,CAACzwB,eAAb,IAAgC,KAAKxV,IAAL,CAAU7B,CAAV,CAAhC,IAAgD,CAACA,CAArD,EAAwD;AACpD,aAAKiC,OAAL,CAAa4J,KAAb,CAAmBoQ,cAAnB,CAAkCre,IAAlC,CAAuC,IAAvC,EAA8CoC,CAAC,IAAI,MAAnD,EAA6DmJ,CAAC,KAAK,KAAKtH,IAAL,CAAUimC,YAAY,CAAC/uB,WAAvB,IAAsC+uB,YAAY,CAAC/uB,WAAnD,GAAiE+uB,YAAY,CAACK,aAAnF,CAA9D;AACA,eAAO,IAAP;AACH,OAHD,MAGO,IAAI,CAAC,CAACnoC,CAAD,IAAMA,CAAC,KAAK,MAAb,MAAyB,CAACmJ,CAAD,IAAMA,CAAC,KAAK,MAArC,CAAJ,EAAkD;AACrD,aAAKlH,OAAL,CAAa4J,KAAb,CAAmBgQ,WAAnB,CAA+Bje,IAA/B,CAAoC,IAApC;AACH,OAFM,MAEA;AACH,aAAKqE,OAAL,CAAa4J,KAAb,CAAmByR,OAAnB,CAA2B1f,IAA3B,CAAgC,IAAhC,EAAsCoC,CAAtC,EAA0CmJ,CAAC,IAAI2+B,YAAY,CAAC/uB,WAAlB,IAAiC+uB,YAAY,CAACK,aAAxF,EAAwG,KAAxG;AACH;;AAED,aAAO,KAAP;AACH,KAxvB0D;;AA0vB3D;;;AAGA7qB,IAAAA,OAAO,EAAE,UAAUtd,CAAV,EAAamJ,CAAb,EAAgBm9B,kBAAhB,EAAoCroB,SAApC,EAA+C;AACpD,YAAM6pB,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,YAAM06B,KAAK,GAAG,YAAY1kC,IAAZ,CAAiBoc,SAAjB,CAAd;AACA,YAAMuoB,KAAK,GAAG,YAAY3kC,IAAZ,CAAiBoc,SAAjB,CAAd;AAEA,UAAI,CAACuoB,KAAL,EAAYxmC,CAAC,GAAG,KAAKY,IAAL,CAAUoW,SAAV,CAAoBhX,CAApB,EAAuB,CAAvB,CAAJ;AACZ,UAAI,CAACumC,KAAL,EAAYp9B,CAAC,GAAG,KAAKvI,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAG2+B,YAAY,CAACzvB,QAAzC,GAAoD,CAAClP,CAAD,GAAK,EAAL,GAAUA,CAAlE;AAEZ,UAAI,CAACq9B,KAAL,EAAYsB,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4BqI,KAA5B,GAAoCrJ,CAAC,GAAGA,CAAC,GAAG8nC,YAAY,CAACzvB,QAApB,GAA+B,EAApE;AACZ,UAAI,CAACkuB,KAAL,EAAYuB,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BiW,aAA1B,GAA0C6wB,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmCnF,CAA7E;;AAEZ,UAAI,CAACq9B,KAAD,IAAU,CAAC,KAAK3kC,IAAL,CAAU7B,CAAV,CAAf,EAA6B;AACzB8nC,QAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,EAAlC;AACAy+B,QAAAA,YAAY,CAAC/wB,UAAb,CAAwB/V,KAAxB,CAA8BqI,KAA9B,GAAsC,EAAtC;AACH;;AAED,UAAI,CAACk9B,KAAD,IAAU,CAAC,KAAK1kC,IAAL,CAAUsH,CAAV,CAAf,EAA6B;AACzB2+B,QAAAA,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqCnF,CAArC;AACH,OAFD,MAEO;AACH2+B,QAAAA,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqC,EAArC;AACH;;AAED,UAAI,CAACg4B,kBAAL,EAAyBwB,YAAY,CAACjxB,QAAb,CAAsB5O,eAAtB,CAAsC,iBAAtC,EAtB2B,CAwBpD;;AACA,WAAKhG,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyDkqC,YAAzD;AACH,KAvxB0D;;AAyxB3D;;;AAGAjsB,IAAAA,WAAW,EAAE,YAAY;AACrB,WAAK5Z,OAAL,CAAa4J,KAAb,CAAmBoQ,cAAnB,CAAkCre,IAAlC,CAAuC,IAAvC,EAA6C,GAA7C,EAAkD,KAAK2C,OAAL,CAAasL,KAAb,CAAmBs8B,aAArE;AACH,KA9xB0D;;AAgyB3D;;;AAGAlrB,IAAAA,aAAa,EAAE,UAAUkvB,QAAV,EAAoB;AAC/B,YAAMrE,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;;AACAi8B,MAAAA,YAAY,CAACjxB,QAAb,CAAsB5O,eAAtB,CAAsC,iBAAtC;;AAEA,WAAKhG,OAAL,CAAamE,QAAb,CAAsBwV,cAAtB,CAAqChe,IAArC,CAA0C,IAA1C,EAAgDkqC,YAAY,CAACjxB,QAA7D;AACA,WAAK5U,OAAL,CAAa4J,KAAb,CAAmB6R,iBAAnB,CAAqC9f,IAArC,CAA0C,IAA1C;AAEA,YAAMud,UAAU,GAAG,CAAC,CAACgxB,QAAQ,GAAGrE,YAAY,CAACjxB,QAAb,CAAsB7U,YAAtB,CAAmC,WAAnC,CAAH,GAAqD,EAA9D,KAAqE8lC,YAAY,CAACjxB,QAAb,CAAsB7U,YAAtB,CAAmC,aAAnC,CAArE,IAA0H,EAA3H,EAA+HuG,KAA/H,CAAqI,GAArI,CAAnB;;AAEA,UAAI4S,UAAJ,EAAgB;AACZ,cAAMnb,CAAC,GAAGmb,UAAU,CAAC,CAAD,CAApB;AACA,cAAMhS,CAAC,GAAGgS,UAAU,CAAC,CAAD,CAApB;;AAEA,YAAI2sB,YAAY,CAACzwB,eAAb,IAAiC,KAAKxV,IAAL,CAAU7B,CAAV,MAAiB,KAAK6B,IAAL,CAAUsH,CAAV,KAAgB,CAAC,KAAKtH,IAAL,CAAUsH,CAAV,CAAlC,CAArC,EAAuF;AACnF,eAAKlH,OAAL,CAAa4J,KAAb,CAAmBoQ,cAAnB,CAAkCre,IAAlC,CAAuC,IAAvC,EAA6CoC,CAA7C,EAAgDmJ,CAAhD;AACH,SAFD,MAEO;AACH,eAAKlH,OAAL,CAAa4J,KAAb,CAAmByR,OAAnB,CAA2B1f,IAA3B,CAAgC,IAAhC,EAAsCoC,CAAtC,EAAyCmJ,CAAzC;AACH,SARW,CAUZ;;;AACA,aAAKlH,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyDkqC,YAAzD;AACH;AACJ,KAzzB0D;;AA2zB3D;;;AAGA7rB,IAAAA,cAAc,EAAE,UAAUjc,CAAV,EAAamJ,CAAb,EAAgB;AAC5B,YAAM2+B,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA1C,MAAAA,CAAC,GAAG,CAAC,CAACA,CAAF,IAAO,CAAC,KAAKtH,IAAL,CAAUsH,CAAV,CAAR,IAAwB,CAAC,KAAKvI,IAAL,CAAUoW,SAAV,CAAoB7N,CAApB,EAAuB,CAAvB,CAAzB,GAAqD,KAAKvI,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAG,GAA5B,GAAkCA,CAAvF,GAA2F,KAAKvI,IAAL,CAAUklC,QAAV,CAAmB38B,CAAnB,IAAwBA,CAAC,GAAG2+B,YAAY,CAACzvB,QAAzC,GAAqDlP,CAAC,IAAI2+B,YAAY,CAACK,aAAtK;AAEAL,MAAAA,YAAY,CAAC/wB,UAAb,CAAwB/V,KAAxB,CAA8BqI,KAA9B,GAAsC,KAAKzI,IAAL,CAAUklC,QAAV,CAAmB9lC,CAAnB,IAAwBA,CAAC,GAAG,GAA5B,GAAkCA,CAAxE;AACA8nC,MAAAA,YAAY,CAAC/wB,UAAb,CAAwB/V,KAAxB,CAA8BsN,MAA9B,GAAuC,EAAvC;AACAw5B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,MAAlC;AACAy+B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmCnF,CAAnC;AACA2+B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BiW,aAA1B,GAA0C9N,CAA1C;AACA2+B,MAAAA,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4BqI,KAA5B,GAAoC,MAApC;AACAy+B,MAAAA,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4BsN,MAA5B,GAAqC,MAArC;AACAw5B,MAAAA,YAAY,CAACjxB,QAAb,CAAsB7V,KAAtB,CAA4Bmc,QAA5B,GAAuC,EAAvC;AAEA,UAAI2qB,YAAY,CAACnI,MAAb,KAAwB,QAA5B,EAAsC,KAAK19B,OAAL,CAAa4J,KAAb,CAAmB0Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;;AACtCkqC,MAAAA,YAAY,CAACjxB,QAAb,CAAsBpT,YAAtB,CAAmC,iBAAnC,EAAsDzD,CAAC,GAAG,GAAJ,GAAUmJ,CAAhE,EAd4B,CAgB5B;;;AACA,WAAKlH,OAAL,CAAamE,QAAb,CAAsB0S,uBAAtB,CAA8Clb,IAA9C,CAAmD,IAAnD,EAAyDkqC,YAAzD;AACH,KAh1B0D;;AAk1B3D;;;AAGApqB,IAAAA,iBAAiB,EAAE,YAAY;AAC3B,YAAMoqB,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEAi8B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BqI,KAA1B,GAAkC,EAAlC;AACAy+B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BsN,MAA1B,GAAmC,EAAnC;AACAw5B,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0BiW,aAA1B,GAA0C,EAA1C;AACA6wB,MAAAA,YAAY,CAAC/wB,UAAb,CAAwB/V,KAAxB,CAA8BqI,KAA9B,GAAsC,EAAtC;AACAy+B,MAAAA,YAAY,CAAC/wB,UAAb,CAAwB/V,KAAxB,CAA8BsN,MAA9B,GAAuC,EAAvC;AAEA,WAAK1N,IAAL,CAAUuR,WAAV,CAAsB21B,YAAY,CAAC/wB,UAAnC,EAA+C,KAAKxW,OAAL,CAAasL,KAAb,CAAmB+zB,iBAAlE;AACA,WAAKh/B,IAAL,CAAUsR,QAAV,CAAmB41B,YAAY,CAAC/wB,UAAhC,EAA4C,iBAAiB+wB,YAAY,CAACnI,MAA1E;AAEA,UAAImI,YAAY,CAACnI,MAAb,KAAwB,QAA5B,EAAsC,KAAK19B,OAAL,CAAa4J,KAAb,CAAmB0Q,QAAnB,CAA4B3e,IAA5B,CAAiC,IAAjC,EAAuC,IAAvC,EAA6C,IAA7C,EAAmD,IAAnD,EAAyD,IAAzD;AACzC,KAl2B0D;;AAo2B3D;;;AAGA2e,IAAAA,QAAQ,EAAE,UAAU1R,KAAV,EAAiBnJ,OAAjB,EAA0B6B,KAA1B,EAAiCC,SAAjC,EAA4C;AAClD,YAAMskC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AAEA,UAAI,CAAChB,KAAL,EAAYA,KAAK,GAAGi9B,YAAY,CAACnI,MAArB;AACZ,UAAI,CAACj+B,OAAL,EAAcA,OAAO,GAAGomC,YAAY,CAACjxB,QAAvB;AACd,UAAI,CAACtT,KAAL,EAAYA,KAAK,GAAGukC,YAAY,CAAChxB,MAArB;AACZ,UAAI,CAACtT,SAAL,EAAgBA,SAAS,GAAGskC,YAAY,CAAC/wB,UAAzB;;AAEhB,UAAIlM,KAAK,IAAIA,KAAK,KAAK,MAAvB,EAA+B;AAC3BtH,QAAAA,KAAK,CAACvC,KAAN,CAAY0lC,MAAZ,GAAqB,MAArB;AACH,OAFD,MAEO;AACHnjC,QAAAA,KAAK,CAACvC,KAAN,CAAY0lC,MAAZ,GAAqB,GAArB;AACH;;AAED,UAAI,KAAK7kC,IAAL,CAAUH,OAAO,CAACV,KAAR,CAAcqI,KAAxB,KAAkCwB,KAAK,KAAK,QAAhD,EAA0D;AACtDrH,QAAAA,SAAS,CAACxC,KAAV,CAAgB2lC,QAAhB,GAA2B,MAA3B;AACApjC,QAAAA,KAAK,CAACvC,KAAN,CAAYqI,KAAZ,GAAoB7F,SAAS,CAACxC,KAAV,CAAgBqI,KAApC;AACA9F,QAAAA,KAAK,CAACvC,KAAN,CAAYsN,MAAZ,GAAqB/K,KAAK,CAACvC,KAAN,CAAYsN,MAAjC;AACA/K,QAAAA,KAAK,CAACvC,KAAN,CAAYiW,aAAZ,GAA4B,CAAC,KAAKpV,IAAL,CAAU0B,KAAK,CAACvC,KAAN,CAAYsN,MAAtB,CAAD,GAAiC/K,KAAK,CAACvC,KAAN,CAAYsN,MAA7C,GAAsD,KAAK1N,IAAL,CAAUoW,SAAV,CAAqB,KAAKpW,IAAL,CAAUoW,SAAV,CAAoBzT,KAAK,CAACvC,KAAN,CAAYsN,MAAhC,EAAwC,CAAxC,IAA6C,GAA9C,GAAqD,KAAK1N,IAAL,CAAUoW,SAAV,CAAoBzT,KAAK,CAACvC,KAAN,CAAYqI,KAAhC,EAAuC,CAAvC,CAAzE,EAAoH,CAApH,IAAyH,GAA3M;AACH,OALD,MAKO;AACH7F,QAAAA,SAAS,CAACxC,KAAV,CAAgB2lC,QAAhB,GAA2B,EAA3B;AACApjC,QAAAA,KAAK,CAACvC,KAAN,CAAYqI,KAAZ,GAAoB,KAAK9I,OAAL,CAAa6F,QAAb,CAAsB8N,eAAtB,GAAyCxS,OAAO,CAACV,KAAR,CAAcsN,MAAd,IAAwB5M,OAAO,CAACgY,YAAzE,GAA0FhY,OAAO,CAACV,KAAR,CAAcqI,KAAd,IAAuB,MAArI;AACA9F,QAAAA,KAAK,CAACvC,KAAN,CAAYiW,aAAZ,GAA4B1T,KAAK,CAACvC,KAAN,CAAYsN,MAAxC;AACH;;AAED,UAAI,CAAC,KAAK1N,IAAL,CAAUmgB,QAAV,CAAmBvd,SAAnB,EAA8B,iBAAiBqH,KAA/C,CAAL,EAA4D;AACxD,aAAKjK,IAAL,CAAUuR,WAAV,CAAsB3O,SAAtB,EAAiCskC,YAAY,CAAClI,iBAA9C;AACA,aAAKh/B,IAAL,CAAUsR,QAAV,CAAmB1O,SAAnB,EAA8B,iBAAiBqH,KAA/C;AACH;;AAEDnJ,MAAAA,OAAO,CAAC+B,YAAR,CAAqB,YAArB,EAAmCoH,KAAnC;AACH,KAt4B0D;AAw4B3D+7B,IAAAA,UAAU,EAAE,YAAY;AACpB,YAAMkB,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;;AAEAi8B,MAAAA,YAAY,CAACjxB,QAAb,CAAsBpT,YAAtB,CAAmC,YAAnC,EAAiD,EAAjD;;AACAqkC,MAAAA,YAAY,CAACnI,MAAb,GAAsB,MAAtB;AACAmI,MAAAA,YAAY,CAAChxB,MAAb,CAAoB9V,KAApB,CAA0B0lC,MAA1B,GAAmC,GAAnC;AACA,WAAK9lC,IAAL,CAAUuR,WAAV,CAAsB21B,YAAY,CAAC/wB,UAAnC,EAA+C+wB,YAAY,CAAClI,iBAA5D;AACH,KA/4B0D;;AAi5B3D;;;AAGA58B,IAAAA,IAAI,EAAE,YAAY;AACd,YAAM8kC,YAAY,GAAG,KAAKvnC,OAAL,CAAasL,KAAlC;AACA,UAAIi8B,YAAY,CAACa,cAAjB,EAAiCb,YAAY,CAACa,cAAb,CAA4BjqC,KAA5B,GAAoC,EAApC;AACjC,UAAIopC,YAAY,CAACc,YAAjB,EAA+Bd,YAAY,CAAChI,UAAb,GAA0BgI,YAAY,CAAC17B,OAAb,CAAqB2Q,WAArB,GAAmC+qB,YAAY,CAACc,YAAb,CAA0BlqC,KAA1B,GAAkC,EAA/F;;AAC/B,UAAIopC,YAAY,CAACa,cAAb,IAA+Bb,YAAY,CAACc,YAAhD,EAA8D;AAC1Dd,QAAAA,YAAY,CAACc,YAAb,CAA0B3gC,eAA1B,CAA0C,UAA1C;AACA6/B,QAAAA,YAAY,CAAC17B,OAAb,CAAqBpL,KAArB,CAA2BghC,cAA3B,GAA4C,EAA5C;AACH;;AAED8F,MAAAA,YAAY,CAAC9zB,SAAb,GAAyB,KAAKzT,OAAL,CAAamC,MAAb,CAAoB0lC,UAA7C;AACAN,MAAAA,YAAY,CAAC7zB,SAAb,GAAyB,KAAK1T,OAAL,CAAamC,MAAb,CAAoB2lC,WAA7C;AACAP,MAAAA,YAAY,CAACxmC,KAAb,CAAmByT,aAAnB,CAAiC,mDAAjC,EAAsFrD,OAAtF,GAAgG,IAAhG;;AAEA,UAAIo2B,YAAY,CAAC5tB,SAAjB,EAA4B;AACxB4tB,QAAAA,YAAY,CAACrwB,MAAb,CAAoB/Y,KAApB,GAA4B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB0lC,UAApB,KAAmCN,YAAY,CAACtwB,aAAhD,GAAgE,EAAhE,GAAqE,KAAKjX,OAAL,CAAamC,MAAb,CAAoB0lC,UAArH;AACAN,QAAAA,YAAY,CAACjwB,MAAb,CAAoBnZ,KAApB,GAA4B,KAAK6B,OAAL,CAAamC,MAAb,CAAoB2lC,WAApB,KAAoCP,YAAY,CAAClwB,aAAjD,GAAiE,EAAjE,GAAsE,KAAKrX,OAAL,CAAamC,MAAb,CAAoB2lC,WAAtH;AACAP,QAAAA,YAAY,CAAC75B,UAAb,CAAwByD,OAAxB,GAAkC,IAAlC;AACAo2B,QAAAA,YAAY,CAAC75B,UAAb,CAAwB6J,QAAxB,GAAmC,IAAnC;AACA,aAAK7V,OAAL,CAAa4J,KAAb,CAAmBw+B,mBAAnB,CAAuCzsC,IAAvC,CAA4C,IAA5C,EAAkDkqC,YAAY,CAACK,aAA/D;AACH;AACJ;AAx6B0D,GAAlC;AA46B7B;AAAO,CA5yQG;AA6yQV;;AACA;AAAO,UAAS/qC,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB;AACA;;;AAAqB,MAAImT,4CAA4C,GAAGrmB,mBAAmB,CAAC,CAAD,CAAtE;AACrB;;;AAAqB,MAAIsmB,oDAAoD,GAAG,aAAatmB,mBAAmB,CAAC0B,CAApB,CAAsB2kB,4CAAtB,CAAxE;AACrB;;;AAAqB,MAAIqb,+CAA+C,GAAG1hC,mBAAmB,CAAC,CAAD,CAAzE;AACrB;;;AAAqB,MAAI2hC,uDAAuD,GAAG,aAAa3hC,mBAAmB,CAAC0B,CAApB,CAAsBggC,+CAAtB,CAA3E;AACrB;;;AAAqB,MAAIkN,iDAAiD,GAAG5uC,mBAAmB,CAAC,CAAD,CAA3E;AACrB;;;AAAqB,MAAI6uC,yDAAyD,GAAG,aAAa7uC,mBAAmB,CAAC0B,CAApB,CAAsBktC,iDAAtB,CAA7E;AACrB;;;;;;;;AAaA;;;AAA6B17B,EAAAA,mBAAmB,CAAC,SAAD,CAAnB,GAAkC;AAC3D1S,IAAAA,IAAI,EAAE,OADqD;AAE3DiD,IAAAA,OAAO,EAAE,QAFkD;AAG3DZ,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjBA,MAAAA,IAAI,CAACyjB,SAAL,CAAe,CAACD,oDAAoD,CAACrQ,CAAtD,EAAyD0rB,uDAAuD,CAAC1rB,CAAjH,EAAoH44B,yDAAyD,CAAC54B,CAA9K,CAAf;AAEA,YAAMlT,OAAO,GAAGD,IAAI,CAACC,OAArB;AACA,YAAM+rC,YAAY,GAAG/rC,OAAO,CAACuL,KAAR,GAAgB;AACjClF,QAAAA,SAAS,EAAE,EADsB;AAClB;AACfmB,QAAAA,UAAU,EAAE,CAFqB;AAElB;AACfyB,QAAAA,iBAAiB,EAAE,CAHc;AAGX;AACtB3G,QAAAA,YAAY,EAAE,IAJmB;AAIb;AACpB0pC,QAAAA,YAAY,EAAE,IALmB;AAMjCv4B,QAAAA,SAAS,EAAEzT,OAAO,CAACmC,MAAR,CAAe8pC,UANO;AAOjCv4B,QAAAA,SAAS,EAAE1T,OAAO,CAACmC,MAAR,CAAe+pC,WAPO;AAQjC3M,QAAAA,UAAU,EAAE,EARqB;AASjC;AACAjpB,QAAAA,QAAQ,EAAE,IAVuB;AAWjCC,QAAAA,MAAM,EAAE,IAXyB;AAYjCC,QAAAA,UAAU,EAAE;AAZqB,OAArC;AAeA;;AACA,UAAI21B,YAAY,GAAG,KAAKtoB,SAAL,CAAexmB,IAAf,CAAoB0C,IAApB,CAAnB;AACAgsC,MAAAA,YAAY,CAAChrC,KAAb,GAAqBorC,YAArB;AACAJ,MAAAA,YAAY,CAACK,cAAb,GAA8BD,YAAY,CAAC33B,aAAb,CAA2B,kBAA3B,CAA9B;AACAu3B,MAAAA,YAAY,CAACM,YAAb,GAA4BF,YAAY,CAAC33B,aAAb,CAA2B,eAA3B,CAA5B;AACAu3B,MAAAA,YAAY,CAACzpC,YAAb,GAA4BypC,YAAY,CAACK,cAAb,IAA+BL,YAAY,CAACM,YAAxE;AACAN,MAAAA,YAAY,CAAClgC,OAAb,GAAuBsgC,YAAY,CAAC33B,aAAb,CAA2B,kBAA3B,CAAvB;AAEA;;AACA,UAAI83B,gBAAgB,GAAG,KAAKC,aAAL,CAAmBlvC,IAAnB,CAAwB0C,IAAxB,CAAvB;AACAgsC,MAAAA,YAAY,CAAC99B,UAAb,GAA0Bq+B,gBAA1B;AAEAA,MAAAA,gBAAgB,CAACtrC,gBAAjB,CAAkC,WAAlC,EAA+CjB,IAAI,CAAC2V,SAApD;AAEA;;AACAy2B,MAAAA,YAAY,CAAC33B,aAAb,CAA2B,iBAA3B,EAA8CxT,gBAA9C,CAA+D,OAA/D,EAAwE,KAAKkjB,MAAL,CAAYxlB,IAAZ,CAAiBqB,IAAjB,CAAxE;AACA,UAAIgsC,YAAY,CAACK,cAAjB,EAAiCD,YAAY,CAAC33B,aAAb,CAA2B,8BAA3B,EAA2DxT,gBAA3D,CAA4E,OAA5E,EAAqF,KAAK0/B,oBAAL,CAA0BhiC,IAA1B,CAA+BqtC,YAAY,CAACK,cAA5C,EAA4DL,YAAY,CAACM,YAAzE,EAAuFN,YAAY,CAAClgC,OAApG,CAArF;AACjC,UAAIkgC,YAAY,CAACK,cAAb,IAA+BL,YAAY,CAACM,YAAhD,EAA8DN,YAAY,CAACK,cAAb,CAA4BprC,gBAA5B,CAA6C,QAA7C,EAAuD,KAAK2/B,gBAAL,CAAsBjiC,IAAtB,CAA2BqtC,YAA3B,CAAvD;AAC9DO,MAAAA,gBAAgB,CAACtrC,gBAAjB,CAAkC,OAAlC,EAA2C,KAAKwrC,kBAAL,CAAwB9tC,IAAxB,CAA6BqB,IAA7B,CAA3C;AACA,UAAIgsC,YAAY,CAACM,YAAjB,EAA+BN,YAAY,CAACM,YAAb,CAA0BrrC,gBAA1B,CAA2C,OAA3C,EAAoD,KAAK4/B,cAAL,CAAoBliC,IAApB,CAAyBqtC,YAAY,CAAClgC,OAAtC,EAA+CkgC,YAA/C,EAA6D/rC,OAAO,CAAC+kB,OAAR,CAAgB8b,YAA7E,CAApD;AAE/B;;AACA7gC,MAAAA,OAAO,CAACH,MAAR,CAAekB,KAAf,CAAqBH,WAArB,CAAiCurC,YAAjC;AAEA;;AACAnsC,MAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqC0rC,gBAArC;AAEA;;AACAH,MAAAA,YAAY,GAAG,IAAf,EAAqBG,gBAAgB,GAAG,IAAxC;AACH,KAnD0D;;AAqD3D;AACAzoB,IAAAA,SAAS,EAAE,YAAY;AACnB,YAAM1hB,MAAM,GAAG,KAAKnC,OAAL,CAAamC,MAA5B;AACA,YAAMoB,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM1D,MAAM,GAAG,KAAKQ,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAf;AAEAT,MAAAA,MAAM,CAACU,SAAP,GAAmB,mBAAnB;AACAV,MAAAA,MAAM,CAACY,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACA,UAAIuqB,IAAI,GAAG,KACP,oDADO,GAEH,gCAFG,GAGC,sGAHD,GAG0G1nB,IAAI,CAACC,SAAL,CAAe7B,KAHzH,GAGiI,IAHjI,GAIK,KAAKuP,KAAL,CAAWiP,MAJhB,GAKC,WALD,GAMC,+BAND,GAMmC5c,IAAI,CAACC,SAAL,CAAe6J,QAAf,CAAwBX,KAN3D,GAMmE,SANnE,GAOH,QAPG,GAQH,8BARR;;AAUQ,UAAIvK,MAAM,CAACsqC,cAAX,EAA2B;AACvBxhB,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe6J,QAAf,CAAwBxF,IAFpC,GAE2C,UAF3C,GAGA,oCAHA,GAII,mEAJJ,GAI0E1F,MAAM,CAACuqC,WAJjF,GAI+F,GAJ/F,IAIsGvqC,MAAM,CAACwqC,iBAAP,GAA2B,sBAA3B,GAAoD,EAJ1J,IAIgK,IAJhK,GAKI,oHALJ,GAK2HppC,IAAI,CAAC0K,UAAL,CAAgBG,MAL3I,GAKoJ,IALpJ,GAK2J,KAAK8C,KAAL,CAAWiP,MALtK,GAK+K,WAL/K,GAMA,QANA,GAOJ,QAPJ;AAQH;;AAED,UAAIhe,MAAM,CAACyqC,aAAX,EAA0B;AACtB3hB,QAAAA,IAAI,IAAI,KACJ,8BADI,GAEA,SAFA,GAEY1nB,IAAI,CAACC,SAAL,CAAe6J,QAAf,CAAwBV,GAFpC,GAE0C,UAF1C,GAGA,0DAHA,GAIA,qCAJA,GAKJ,QALJ;AAMH;;AAEDse,MAAAA,IAAI,IAAI,KACR,QADQ,GAER,gCAFQ,GAGJ,sDAHI,GAGqD1nB,IAAI,CAACC,SAAL,CAAegK,YAHpE,GAGmF,UAHnF,GAGgGjK,IAAI,CAACC,SAAL,CAAegK,YAH/G,GAG8H,kBAH9H,GAIR,QAJQ,GAKZ,SALI;AAOR3N,MAAAA,MAAM,CAACyD,SAAP,GAAmB2nB,IAAnB;AAEA,aAAOprB,MAAP;AACH,KArG0D;;AAuG3D;AACA0sC,IAAAA,aAAa,EAAE,YAAY;AACvB,YAAMhpC,IAAI,GAAG,KAAKA,IAAlB;AACA,YAAM2N,KAAK,GAAG,KAAKA,KAAnB;AACA,YAAM41B,QAAQ,GAAG,KAAKzmC,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAjB;AAEAwmC,MAAAA,QAAQ,CAACvmC,SAAT,GAAqB,kCAArB;AACAumC,MAAAA,QAAQ,CAACxjC,SAAT,GAAqB,KACjB,0CADiB,GAEjB,4BAFiB,GAGb,4BAHa,GAIT,+EAJS,GAKL4N,KAAK,CAAChD,IALD,GAML,+DANK,GAM6D3K,IAAI,CAAC0K,UAAL,CAAgBC,IAN7E,GAMoF,gBANpF,GAOT,WAPS,GAQT,+EARS,GASLgD,KAAK,CAAC9I,MATD,GAUL,+DAVK,GAU6D7E,IAAI,CAAC0K,UAAL,CAAgBG,MAV7E,GAUsF,gBAVtF,GAWT,WAXS,GAYb,QAZa,GAajB,QAbJ;AAeA,aAAO04B,QAAP;AACH,KA9H0D;AAgI3D;AACAnG,IAAAA,gBAAgB,EAAE,YAAY;AAC1B,UAAI,CAAC,KAAKyL,cAAL,CAAoBjuC,KAAzB,EAAgC;AAC5B,aAAKkuC,YAAL,CAAkB3kC,eAAlB,CAAkC,UAAlC;AACA,aAAKmE,OAAL,CAAapL,KAAb,CAAmBghC,cAAnB,GAAoC,EAApC;AACH,OAHD,MAGO;AACH,aAAK4K,YAAL,CAAkBnpC,YAAlB,CAA+B,UAA/B,EAA2C,IAA3C;AACA,aAAK2I,OAAL,CAAapL,KAAb,CAAmBghC,cAAnB,GAAoC,cAApC;AACH;AACJ,KAzI0D;AA2I3D;AACAf,IAAAA,oBAAoB,EAAE,UAAUgB,QAAV,EAAoB71B,OAApB,EAA6B;AAC/C,WAAK1N,KAAL,GAAa,EAAb;;AACA,UAAIujC,QAAJ,EAAc;AACVA,QAAAA,QAAQ,CAACh6B,eAAT,CAAyB,UAAzB;AACAmE,QAAAA,OAAO,CAACpL,KAAR,CAAcghC,cAAd,GAA+B,EAA/B;AACH;AACJ,KAlJ0D;AAoJ3D;AACAoL,IAAAA,eAAe,EAAE,YAAY;AACzB,YAAMC,MAAM,GAAG,KAAKzsC,IAAL,CAAUC,aAAV,CAAwB,OAAxB,CAAf;;AACA,WAAKoB,OAAL,CAAa6J,KAAb,CAAmB09B,YAAnB,CAAgC5rC,IAAhC,CAAqC,IAArC,EAA2CyvC,MAA3C;;AAEA,YAAMrtC,CAAC,GAAG,KAAKO,OAAL,CAAauL,KAAb,CAAmBkI,SAA7B;AACA,YAAM7K,CAAC,GAAG,KAAK5I,OAAL,CAAauL,KAAb,CAAmBmI,SAA7B;AACAo5B,MAAAA,MAAM,CAAC5pC,YAAP,CAAoB,aAApB,EAAmCzD,CAAC,GAAG,GAAJ,GAAUmJ,CAA7C;AACAkkC,MAAAA,MAAM,CAACrsC,KAAP,CAAa+9B,OAAb,GAAuB,CAAC/+B,CAAC,GAAI,WAAWA,CAAX,GAAe,IAAnB,GAA2B,EAA7B,KAAoCmJ,CAAC,GAAI,YAAYA,CAAZ,GAAgB,GAApB,GAA2B,EAAhE,CAAvB;AAEA,aAAOkkC,MAAP;AACH,KA/J0D;AAiK3D7D,IAAAA,YAAY,EAAE,UAAU9nC,OAAV,EAAmB;AAC7BA,MAAAA,OAAO,CAAC+B,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEA,YAAMomB,KAAK,GAAG,KAAKtpB,OAAL,CAAa+kB,OAAb,CAAqBgoB,aAAnC;AACA,UAAI,CAACzjB,KAAL,EAAY;;AAEZ,WAAK,IAAI7qB,GAAT,IAAgB6qB,KAAhB,EAAuB;AACnB,YAAI,CAAC,KAAKjpB,IAAL,CAAU8oC,MAAV,CAAiB7f,KAAjB,EAAwB7qB,GAAxB,CAAL,EAAmC;AACnC0C,QAAAA,OAAO,CAAC+B,YAAR,CAAqBzE,GAArB,EAA0B6qB,KAAK,CAAC7qB,GAAD,CAA/B;AACH;AACJ,KA3K0D;AA6K3DmiC,IAAAA,cAAc,EAAE,UAAU5gC,OAAV,EAAmB4hC,QAAnB,EAA6BvgC,CAA7B,EAAgC;AAC5C,YAAMlD,KAAK,GAAGkD,CAAC,CAACE,MAAF,CAASpD,KAAT,CAAeyjB,IAAf,EAAd;AACA5hB,MAAAA,OAAO,CAACu/B,UAAR,GAAqB,KAAK/iB,WAAL,GAAmB,CAACre,KAAD,GAAS,EAAT,GAAeyjC,QAAQ,IAAIzjC,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAAtC,IAA2CtJ,KAAK,CAACsJ,OAAN,CAAc,GAAd,MAAuB,CAAnE,GAAwEm6B,QAAQ,GAAGzjC,KAAnF,GAA2FA,KAAK,CAACsJ,OAAN,CAAc,KAAd,MAAyB,CAAC,CAA1B,GAA8B,MAAMtJ,KAApC,GAA4CA,KAA7L;AACH,KAhL0D;;AAkL3D;;;AAGA0jC,IAAAA,QAAQ,EAAE,CAAC,OAAD,CArLiD;;AAuL3D;;;;;AAKAv5B,IAAAA,MAAM,EAAE,UAAUnH,OAAV,EAAmB;AACvB,WAAKO,OAAL,CAAa6J,KAAb,CAAmBxC,YAAnB,CAAgC1L,IAAhC,CAAqC,IAArC,EAA2C8D,OAA3C;AACH,KA9L0D;;AAgM3D;;;AAGAkH,IAAAA,OAAO,EAAE,UAAUlH,OAAV,EAAmB;AACxBA,MAAAA,OAAO,GAAGA,OAAO,IAAI,KAAKnB,OAAL,CAAauL,KAAb,CAAmB+K,QAAxC;AACA,YAAMrT,SAAS,GAAG,KAAK5C,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,KAAKd,IAAL,CAAUkZ,WAA9C,KAA8DpY,OAAhF;AACA,YAAMwG,SAAS,GAAGxG,OAAO,CAACM,YAAR,CAAqB,YAArB,IAAqC,CAAvD;AACA,YAAMugC,OAAO,GAAI/+B,SAAS,CAACsqB,sBAAV,IAAoCtqB,SAAS,CAACwqB,kBAA/D;AAEA,YAAMgQ,QAAQ,GAAGx6B,SAAS,CAACqP,UAA3B;AACA,WAAKjS,IAAL,CAAU8S,UAAV,CAAqBlQ,SAArB;AACA,WAAKvB,OAAL,CAAa6J,KAAb,CAAmB9I,IAAnB,CAAwBpF,IAAxB,CAA6B,IAA7B;AACA,WAAKof,cAAL;AAEA,UAAIghB,QAAQ,KAAK,KAAKz9B,OAAL,CAAamB,OAAb,CAAqB+E,OAAtC,EAA+C,KAAK7F,IAAL,CAAUq9B,oBAAV,CAA+BD,QAA/B,EAAyC,UAAUnhB,OAAV,EAAmB;AAAE,eAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAArC;AAAyC,OAAvG,EAAyG,IAAzG,EAXvB,CAaxB;;AACA,WAAKy2B,SAAL,CAAe8G,OAAf,EAdwB,CAgBxB;;AACA,WAAKtgC,OAAL,CAAa+B,WAAb,CAAyByF,UAAzB,CAAoC7L,IAApC,CAAyC,IAAzC,EAA+C,OAA/C,EAAwDsK,SAAxD,EAAmE,KAAKrC,SAAL,CAAe0nC,aAAlF,EAjBwB,CAmBxB;;AACA,WAAKrwB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,KAxN0D;;AA0N3D;;;AAGAw9B,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKrjC,OAAL,CAAa+B,WAAb,CAAyB+B,SAAzB,CAAmCnI,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,CAAC,OAAD,CAAvD,EAAkE,KAAKiI,SAAL,CAAe0nC,aAAjF,EAAgG,KAAKtrC,OAAL,CAAa6J,KAAb,CAAmB0hC,WAAnB,CAA+BvuC,IAA/B,CAAoC,IAApC,CAAhG,EAA2I,KAA3I;AACH,KA/N0D;;AAiO3D;;;AAGAsmC,IAAAA,aAAa,EAAE,YAAY;AACvB,WAAKtjC,OAAL,CAAa+B,WAAb,CAAyB0F,SAAzB,CAAmC9L,IAAnC,CAAwC,IAAxC,EAA8C,OAA9C,EAAuD,KAAKiI,SAAL,CAAe0nC,aAAtE;AACH,KAtO0D;;AAwO3D;;;AAGAzqC,IAAAA,EAAE,EAAE,UAAUV,MAAV,EAAkB;AAClB,YAAMkqC,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;;AAEA,UAAI,CAAC1J,MAAL,EAAa;AACT,aAAKH,OAAL,CAAa6J,KAAb,CAAmB9I,IAAnB,CAAwBpF,IAAxB,CAA6B,IAA7B;AACA,YAAI0uC,YAAY,CAACK,cAAb,IAA+B,KAAKpsC,OAAL,CAAa+kB,OAAb,CAAqB4nB,iBAAxD,EAA2EZ,YAAY,CAACK,cAAb,CAA4BlpC,YAA5B,CAAyC,UAAzC,EAAqD,UAArD;AAC9E,OAHD,MAGO,IAAI6oC,YAAY,CAACz1B,QAAjB,EAA2B;AAC9B,aAAKtW,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,IAAlC;AACA6rC,QAAAA,YAAY,CAACxM,UAAb,GAA0BwM,YAAY,CAAClgC,OAAb,CAAqB2Q,WAArB,GAAmCuvB,YAAY,CAACM,YAAb,CAA0BluC,KAA1B,GAAkC4tC,YAAY,CAACz1B,QAAb,CAAsB1P,GAArH;AACA,YAAImlC,YAAY,CAACK,cAAb,IAA+B,KAAKpsC,OAAL,CAAa+kB,OAAb,CAAqB4nB,iBAAxD,EAA2EZ,YAAY,CAACK,cAAb,CAA4B1kC,eAA5B,CAA4C,UAA5C;AAC9E,OAJM,MAIA;AACH,YAAIqkC,YAAY,CAACK,cAAb,IAA+B,KAAKpsC,OAAL,CAAa+kB,OAAb,CAAqB4nB,iBAAxD,EAA2EZ,YAAY,CAACK,cAAb,CAA4B1kC,eAA5B,CAA4C,UAA5C;AAC9E;AACJ,KAxP0D;;AA0P3D;;;AAGA9F,IAAAA,IAAI,EAAE,YAAY;AACd,WAAKF,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,YAAY,KAAKkd,qBAA9D;AACH,KA/P0D;AAiQ3D2J,IAAAA,MAAM,EAAE,UAAU7iB,CAAV,EAAa;AACjB,YAAM0qC,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;AAEAlK,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;;AAEA,UAAI;AACA,YAAIuqC,YAAY,CAACK,cAAb,IAA+BL,YAAY,CAACK,cAAb,CAA4B5J,KAA5B,CAAkC/9B,MAAlC,GAA2C,CAA9E,EAAiF;AAC7E,eAAKR,WAAL;AACA,eAAKvC,OAAL,CAAa6J,KAAb,CAAmB0Z,YAAnB,CAAgC5nB,IAAhC,CAAqC,IAArC,EAA2C0uC,YAAY,CAACK,cAAb,CAA4B5J,KAAvE;AACH,SAHD,MAGO,IAAIuJ,YAAY,CAACM,YAAb,IAA6BN,YAAY,CAACxM,UAAb,CAAwB96B,MAAxB,GAAiC,CAAlE,EAAqE;AACxE,eAAKR,WAAL;AACA,eAAKvC,OAAL,CAAa6J,KAAb,CAAmB2hC,QAAnB,CAA4B7vC,IAA5B,CAAiC,IAAjC,EAAuC0uC,YAAY,CAACxM,UAApD;AACH;AACJ,OARD,CAQE,OAAOmD,KAAP,EAAc;AACZ,aAAK39B,YAAL;AACA,cAAMrF,KAAK,CAAC,4CAA4CgjC,KAAK,CAAC59B,OAAlD,GAA4D,GAA7D,CAAX;AACH,OAXD,SAWU;AACN,aAAKpD,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH;;AAED,aAAO,KAAP;AACH,KAvR0D;AAyR3D4nB,IAAAA,YAAY,EAAE,UAAU0d,QAAV,EAAoB;AAC9B,UAAIA,QAAQ,CAACl+B,MAAT,KAAoB,CAAxB,EAA2B;AAE3B,UAAIm+B,QAAQ,GAAG,CAAf;AACA,UAAIJ,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAIrlC,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD,YAAI,SAASmE,IAAT,CAAcqhC,QAAQ,CAACxlC,CAAD,CAAR,CAAY+gB,IAA1B,CAAJ,EAAqC;AACjCskB,UAAAA,KAAK,CAACj7B,IAAN,CAAWo7B,QAAQ,CAACxlC,CAAD,CAAnB;AACAylC,UAAAA,QAAQ,IAAID,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL,IAAxB;AACH;AACJ;;AAED,YAAM06B,SAAS,GAAG,KAAK7iC,OAAL,CAAamC,MAAb,CAAoBgrC,oBAAtC;;AACA,UAAItK,SAAS,GAAG,CAAhB,EAAmB;AACf,YAAIE,QAAQ,GAAG,CAAf;AACA,cAAMqK,UAAU,GAAG,KAAKptC,OAAL,CAAauL,KAAb,CAAmBlF,SAAtC;;AACA,aAAK,IAAIlJ,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqnC,UAAU,CAAC3oC,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnD4lC,UAAAA,QAAQ,IAAIqK,UAAU,CAACjwC,CAAD,CAAV,CAAcgL,IAAd,GAAqB,CAAjC;AACH;;AAED,YAAKy6B,QAAQ,GAAGG,QAAZ,GAAwBF,SAA5B,EAAuC;AACnC,eAAK99B,YAAL;AACA,gBAAMK,GAAG,GAAG,mEAAoEy9B,SAAS,GAAC,IAA9E,GAAsF,IAAlG;;AACA,cAAI,KAAKv9B,SAAL,CAAe+nC,kBAAf,KAAsC,UAAtC,IAAoD,KAAK/nC,SAAL,CAAe+nC,kBAAf,CAAkCjoC,GAAlC,EAAuC;AAAE,yBAAay9B,SAAf;AAA0B,2BAAeE,QAAzC;AAAmD,0BAAcH;AAAjE,WAAvC,EAAoH,IAApH,CAAxD,EAAmL;AAC/K,iBAAKt9B,SAAL,CAAeC,UAAf,CAA0BH,GAA1B;AACH;;AACD;AACH;AACJ;;AAED,YAAM2mC,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;AACAwgC,MAAAA,YAAY,CAAC9iC,iBAAb,GAAiCu5B,KAAK,CAAC/9B,MAAvC;AAEA,YAAMiC,IAAI,GAAG;AACT48B,QAAAA,QAAQ,EAAE,KAAKtjC,OAAL,CAAaH,MAAb,CAAoBK,WADrB;AAETiB,QAAAA,OAAO,EAAE4qC,YAAY,CAACz1B;AAFb,OAAb;;AAKA,UAAI,OAAO,KAAKhR,SAAL,CAAegoC,mBAAtB,KAA8C,UAAlD,EAA8D;AAC1D,cAAMtsB,MAAM,GAAG,KAAK1b,SAAL,CAAegoC,mBAAf,CAAmC9K,KAAnC,EAA0C97B,IAA1C,EAAgD,IAAhD,EAAsD,UAAU43B,IAAV,EAAgB;AACjF,cAAIA,IAAI,IAAI,KAAK/5B,EAAL,CAAQi/B,KAAR,CAAcC,OAAd,CAAsBnF,IAAI,CAACtd,MAA3B,CAAZ,EAAgD;AAC5C,iBAAKtf,OAAL,CAAa6J,KAAb,CAAmBm4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6C43B,IAA7C;AACH,WAFD,MAEO;AACH,iBAAK58B,OAAL,CAAa6J,KAAb,CAAmB5H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C43B,IAA3C;AACH;AACJ,SANoE,CAMnE5/B,IANmE,CAM9D,IAN8D,CAAtD,CAAf;AAQA,YAAI,OAAOsiB,MAAP,KAAkB,WAAtB,EAAmC;;AACnC,YAAI,CAACA,MAAL,EAAa;AACT,eAAKjc,YAAL;AACA;AACH;;AACD,YAAI,OAAOic,MAAP,KAAkB,QAAlB,IAA8BA,MAAM,CAACvc,MAAP,GAAgB,CAAlD,EAAqD+9B,KAAK,GAAGxhB,MAAR;AACxD;;AAED,WAAKtf,OAAL,CAAa6J,KAAb,CAAmB5H,MAAnB,CAA0BtG,IAA1B,CAA+B,IAA/B,EAAqCqJ,IAArC,EAA2C87B,KAA3C;AACH,KAjV0D;AAmV3DE,IAAAA,KAAK,EAAE,UAAU59B,OAAV,EAAmB6+B,QAAnB,EAA6B;AAChC,WAAK5+B,YAAL;;AACA,UAAI,OAAO,KAAKO,SAAL,CAAe+nC,kBAAtB,KAA6C,UAA7C,IAA2D,KAAK/nC,SAAL,CAAe+nC,kBAAf,CAAkCvoC,OAAlC,EAA2C6+B,QAA3C,EAAqD,IAArD,CAA/D,EAA2H;AACvH,aAAKr+B,SAAL,CAAeC,UAAf,CAA0BT,OAA1B;AACA,cAAMpF,KAAK,CAAC,kDAAkDoF,OAAnD,CAAX;AACH;AACJ,KAzV0D;AA2V3DnB,IAAAA,MAAM,EAAE,UAAU+C,IAAV,EAAgB87B,KAAhB,EAAuB;AAC3B,UAAI,CAACA,KAAL,EAAY;AACR,aAAKz9B,YAAL;AACA;AACH;;AACD,UAAI,OAAOy9B,KAAP,KAAiB,QAArB,EAA+B;AAC3B,aAAK9gC,OAAL,CAAa6J,KAAb,CAAmBm3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCmlC,KAApC,EAA2C,IAA3C;AACA;AACH;;AAED,YAAM+K,cAAc,GAAG,KAAKvtC,OAAL,CAAamC,MAAb,CAAoBorC,cAA3C;AACA,YAAM1J,QAAQ,GAAG,KAAK7jC,OAAL,CAAaH,MAAb,CAAoBK,WAApB,GAAkC,CAAlC,GAAsCsiC,KAAK,CAAC/9B,MAA7D,CAX2B,CAa3B;;AACA,YAAMX,QAAQ,GAAG,IAAIggC,QAAJ,EAAjB;;AACA,WAAK,IAAI3mC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0mC,QAApB,EAA8B1mC,CAAC,EAA/B,EAAmC;AAC/B2G,QAAAA,QAAQ,CAACigC,MAAT,CAAgB,UAAU5mC,CAA1B,EAA6BqlC,KAAK,CAACrlC,CAAD,CAAlC;AACH,OAjB0B,CAmB3B;;;AACA,WAAKuE,OAAL,CAAa+B,WAAb,CAAyBE,MAAzB,CAAgCtG,IAAhC,CAAqC,IAArC,EAA2CkwC,cAA3C,EAA2D,KAAKvtC,OAAL,CAAamC,MAAb,CAAoBqrC,iBAA/E,EAAkG1pC,QAAlG,EAA4G,KAAKpC,OAAL,CAAa6J,KAAb,CAAmBkiC,eAAnB,CAAmC/uC,IAAnC,CAAwC,IAAxC,EAA8CgI,IAA9C,CAA5G,EAAiK,KAAKpB,SAAL,CAAe+nC,kBAAhL;AACH,KAhX0D;AAkX3DI,IAAAA,eAAe,EAAE,UAAU/mC,IAAV,EAAgBvC,OAAhB,EAAyB;AACtC,UAAI,OAAO,KAAKmB,SAAL,CAAeooC,kBAAtB,KAA6C,UAAjD,EAA6D;AACzD,aAAKpoC,SAAL,CAAeooC,kBAAf,CAAkCvpC,OAAlC,EAA2CuC,IAA3C,EAAiD,IAAjD;AACH,OAFD,MAEO;AACH,cAAMi9B,QAAQ,GAAGz+B,IAAI,CAACC,KAAL,CAAWhB,OAAO,CAACc,YAAnB,CAAjB;;AACA,YAAI0+B,QAAQ,CAACt+B,YAAb,EAA2B;AACvB,eAAK3D,OAAL,CAAa6J,KAAb,CAAmBm3B,KAAnB,CAAyBrlC,IAAzB,CAA8B,IAA9B,EAAoCsmC,QAAQ,CAACt+B,YAA7C,EAA2Ds+B,QAA3D;AACH,SAFD,MAEO;AACH,eAAKjiC,OAAL,CAAa6J,KAAb,CAAmBm4B,QAAnB,CAA4BrmC,IAA5B,CAAiC,IAAjC,EAAuCqJ,IAAvC,EAA6Ci9B,QAA7C;AACH;AACJ;AACJ,KA7X0D;AA+X3DD,IAAAA,QAAQ,EAAE,UAAUh9B,IAAV,EAAgBi9B,QAAhB,EAA0B;AAChC,YAAMhB,QAAQ,GAAGgB,QAAQ,CAAC3iB,MAA1B;;AAEA,WAAK,IAAI7jB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG48B,QAAQ,CAACl+B,MAA1B,EAAkCoD,IAAlC,EAAwCilC,MAA7C,EAAqD3vC,CAAC,GAAG4I,GAAzD,EAA8D5I,CAAC,EAA/D,EAAmE;AAC/D,YAAIuJ,IAAI,CAAC48B,QAAT,EAAmBwJ,MAAM,GAAGpmC,IAAI,CAACvF,OAAd,CAAnB,KACK2rC,MAAM,GAAG,KAAKprC,OAAL,CAAa6J,KAAb,CAAmBshC,eAAnB,CAAmCxvC,IAAnC,CAAwC,IAAxC,CAAT;AAELwK,QAAAA,IAAI,GAAG;AAAEpK,UAAAA,IAAI,EAAEklC,QAAQ,CAACxlC,CAAD,CAAR,CAAYM,IAApB;AAA0B0K,UAAAA,IAAI,EAAEw6B,QAAQ,CAACxlC,CAAD,CAAR,CAAYgL;AAA5C,SAAP;AACA,aAAKzG,OAAL,CAAa6J,KAAb,CAAmBoiC,YAAnB,CAAgCtwC,IAAhC,CAAqC,IAArC,EAA2CyvC,MAA3C,EAAmDnK,QAAQ,CAACxlC,CAAD,CAAR,CAAYwP,GAA/D,EAAoE9E,IAApE,EAA0EnB,IAAI,CAAC48B,QAA/E;AACH;;AAED,WAAKv+B,YAAL;AACH,KA3Y0D;AA6Y3DmoC,IAAAA,QAAQ,EAAE,UAAUtmC,GAAV,EAAe;AACrB,UAAI;AACA,YAAIA,GAAG,CAACnC,MAAJ,KAAe,CAAnB,EAAsB,OAAO,KAAP;AACtB,aAAK/C,OAAL,CAAa6J,KAAb,CAAmBoiC,YAAnB,CAAgCtwC,IAAhC,CAAqC,IAArC,EAA2C,KAAKqE,OAAL,CAAa6J,KAAb,CAAmBshC,eAAnB,CAAmCxvC,IAAnC,CAAwC,IAAxC,CAA3C,EAA0FuJ,GAA1F,EAA+F,IAA/F,EAAqG,KAAK5G,OAAL,CAAaH,MAAb,CAAoBK,WAAzH;AACH,OAHD,CAGE,OAAOwiC,KAAP,EAAc;AACZ,cAAMhjC,KAAK,CAAC,2CAA2CgjC,KAAK,CAAC59B,OAAjD,GAA2D,GAA5D,CAAX;AACH,OALD,SAKU;AACN,aAAKC,YAAL;AACH;AACJ,KAtZ0D;AAwZ3D4oC,IAAAA,YAAY,EAAE,UAAUxsC,OAAV,EAAmByF,GAAnB,EAAwBiB,IAAxB,EAA8By7B,QAA9B,EAAwC;AAClD,YAAMyI,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC,CADkD,CAGlD;;AACA,UAAI,CAAC+3B,QAAL,EAAe;AACXniC,QAAAA,OAAO,CAACyF,GAAR,GAAcA,GAAd;AACA,cAAM5D,KAAK,GAAG,KAAKtB,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4C8D,OAA5C,CAAd;AACA,cAAM8B,SAAS,GAAG,KAAKvB,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,EAAvD,CAAlB;;AACA,YAAI,CAAC,KAAKgpB,eAAL,CAAqB/oB,SAArB,EAAgC,KAAhC,EAAuC,IAAvC,EAA6C,KAA7C,CAAL,EAA0D;AACtD,eAAKT,KAAL;AACA;AACH;AACJ,OARD,CAQE;AARF,WASK;AACD,cAAIupC,YAAY,CAACz1B,QAAjB,EAA2BnV,OAAO,GAAG4qC,YAAY,CAACz1B,QAAvB;;AAC3B,cAAInV,OAAO,IAAIA,OAAO,CAACyF,GAAR,KAAgBA,GAA/B,EAAoC;AAChCzF,YAAAA,OAAO,CAACyF,GAAR,GAAcA,GAAd;AACH,WAFD,MAEO;AACH,iBAAK2U,eAAL,CAAqBpa,OAArB,EAA8B,OAA9B;AACA;AACH;AACJ;;AAED,WAAKO,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqD8D,OAArD,EAA8D,KAAKmE,SAAL,CAAe0nC,aAA7E,EAA4FnlC,IAA5F,EAAkG,KAAlG;AACA,WAAK0T,eAAL,CAAqBpa,OAArB,EAA8B,OAA9B;AACA,UAAImiC,QAAJ,EAAc,KAAK3mB,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACjB,KAlb0D;AAob3D0lC,IAAAA,WAAW,EAAE,UAAU9rC,OAAV,EAAmB;AAC5B,YAAM4qC,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;;AACA,WAAK7J,OAAL,CAAa6J,KAAb,CAAmB09B,YAAnB,CAAgC5rC,IAAhC,CAAqC,IAArC,EAA2C8D,OAA3C,EAF4B,CAI5B;;;AACA,YAAMwkC,YAAY,GAAG,KAAKtlC,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,KAAKd,IAAL,CAAU+G,gBAA9C,KACjB,KAAK/G,IAAL,CAAU8G,gBAAV,CAA2BhG,OAA3B,EAAoC,UAAUmb,OAAV,EAAmB;AACnD,eAAO,KAAKlK,YAAL,CAAkBkK,OAAO,CAAChK,UAA1B,CAAP;AACH,OAFmC,CAElC5T,IAFkC,CAE7B,KAAK2B,IAFwB,CAApC,CADJ,CAL4B,CAU5B;;AACA0rC,MAAAA,YAAY,CAACz1B,QAAb,GAAwBnV,OAAO,GAAGA,OAAO,CAACimB,SAAR,CAAkB,KAAlB,CAAlC;AACA,YAAMpkB,KAAK,GAAG,KAAKtB,OAAL,CAAaoB,SAAb,CAAuBK,SAAvB,CAAiC9F,IAAjC,CAAsC,IAAtC,EAA4C8D,OAA5C,CAAd;AACA,YAAM8B,SAAS,GAAG,KAAKvB,OAAL,CAAaoB,SAAb,CAAuBC,aAAvB,CAAqC1F,IAArC,CAA0C,IAA1C,EAAgD2F,KAAhD,EAAuD,oBAAvD,CAAlB;AAEA2iC,MAAAA,YAAY,CAACrzB,UAAb,CAAwBwT,YAAxB,CAAqC7iB,SAArC,EAAgD0iC,YAAhD;AACA,WAAKjkC,OAAL,CAAa+B,WAAb,CAAyB8C,OAAzB,CAAiClJ,IAAjC,CAAsC,IAAtC,EAA4C,OAA5C,EAAqD8D,OAArD,EAA8D,KAAKmE,SAAL,CAAe0nC,aAA7E,EAA4F,IAA5F,EAAkG,KAAlG;AACH,KArc0D;;AAuc3D;;;AAGAjkC,IAAAA,YAAY,EAAE,UAAU6kC,YAAV,EAAwB;AAClC,YAAM7B,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;AAEA,YAAM0C,UAAU,GAAG89B,YAAY,CAAC99B,UAAhC;AACA,YAAM4K,MAAM,GAAG,KAAKxY,IAAL,CAAUyY,SAAV,CAAoB80B,YAApB,EAAkC,KAAK5tC,OAAL,CAAamB,OAAb,CAAqB4X,YAAvD,CAAf;AACA9K,MAAAA,UAAU,CAACxN,KAAX,CAAiB4Y,GAAjB,GAAwBR,MAAM,CAACQ,GAAP,GAAau0B,YAAY,CAACz0B,YAA1B,GAAyC,EAA1C,GAAgD,IAAvE;AACAlL,MAAAA,UAAU,CAACxN,KAAX,CAAiBmN,IAAjB,GAAyBiL,MAAM,CAACjL,IAAP,GAAc,KAAK5N,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCO,UAAjD,GAA+D,IAAvF;AAEArL,MAAAA,UAAU,CAACxN,KAAX,CAAiBC,OAAjB,GAA2B,OAA3B;AAEA,YAAMia,QAAQ,GAAG,KAAK3a,OAAL,CAAamB,OAAb,CAAqB4X,YAArB,CAAkCK,WAAlC,IAAiDnL,UAAU,CAACkY,UAAX,GAAwBlY,UAAU,CAACmL,WAApF,CAAjB;;AACA,UAAIuB,QAAQ,GAAG,CAAf,EAAkB;AACd1M,QAAAA,UAAU,CAACxN,KAAX,CAAiBmN,IAAjB,GAAyBK,UAAU,CAACkY,UAAX,GAAwBxL,QAAzB,GAAqC,IAA7D;AACA1M,QAAAA,UAAU,CAACiM,iBAAX,CAA6BzZ,KAA7B,CAAmCmN,IAAnC,GAA2C,KAAK+M,QAAN,GAAkB,IAA5D;AACH,OAHD,MAGO;AACH1M,QAAAA,UAAU,CAACiM,iBAAX,CAA6BzZ,KAA7B,CAAmCmN,IAAnC,GAA0C,MAA1C;AACH;;AAED,WAAK8M,aAAL,CAAmBzM,UAAnB,EAA+B2/B,YAA/B,EAA6C,KAAKlsC,OAAL,CAAa6J,KAAb,CAAmBsiC,eAAnB,CAAmCnvC,IAAnC,CAAwC,IAAxC,EAA8CkvC,YAA9C,CAA7C,EAA0G,OAA1G;AAEA,WAAKvtC,IAAL,CAAUsR,QAAV,CAAmBi8B,YAAnB,EAAiC,QAAjC;AACA7B,MAAAA,YAAY,CAACz1B,QAAb,GAAwBs3B,YAAxB;AACA7B,MAAAA,YAAY,CAACx1B,MAAb,GAAsB,KAAKlW,IAAL,CAAU8G,gBAAV,CAA2BymC,YAA3B,EAAyC,QAAzC,CAAtB;AACA7B,MAAAA,YAAY,CAACv1B,UAAb,GAA0B,KAAKnW,IAAL,CAAU8G,gBAAV,CAA2BymC,YAA3B,EAAyC,KAAKvtC,IAAL,CAAUkZ,WAAnD,CAA1B;AACH,KAle0D;;AAoe3D;;;AAGA0C,IAAAA,UAAU,EAAE,UAAU6pB,OAAV,EAAmB;AAC3B,UAAI,KAAK9lC,OAAL,CAAauL,KAAb,CAAmB8gC,YAAvB,EAAqC;AACjC,cAAMN,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;AACAwgC,QAAAA,YAAY,CAACxM,UAAb,GAA0BwM,YAAY,CAAClgC,OAAb,CAAqB2Q,WAArB,GAAmCuvB,YAAY,CAACM,YAAb,CAA0BluC,KAA1B,GAAkC4tC,YAAY,CAACz1B,QAAb,CAAsB1P,GAArH;AACH;;AACD,UAAI,CAACk/B,OAAL,EAAc,KAAKpkC,OAAL,CAAa7B,MAAb,CAAoB+B,IAApB,CAAyBvE,IAAzB,CAA8B,IAA9B,EAAoC,OAApC,EAA6C,IAA7C;AACjB,KA7e0D;AA+e3DmvC,IAAAA,kBAAkB,EAAE,UAAUnrC,CAAV,EAAa;AAC7BA,MAAAA,CAAC,CAACG,eAAF;AAEA,YAAMyZ,OAAO,GAAG5Z,CAAC,CAACE,MAAF,CAASE,YAAT,CAAsB,cAAtB,CAAhB;AACA,UAAI,CAACwZ,OAAL,EAAc;AAEd5Z,MAAAA,CAAC,CAACoU,cAAF;;AAEA,UAAI,SAASnU,IAAT,CAAc2Z,OAAd,CAAJ,EAA4B;AACxB,aAAKvZ,OAAL,CAAa6J,KAAb,CAAmB0Q,UAAnB,CAA8B5e,IAA9B,CAAmC,IAAnC,EAAyC,KAAzC;AACH,OAFD,MAGK;AAAE;AACH,aAAKqE,OAAL,CAAa6J,KAAb,CAAmBlD,OAAnB,CAA2BhL,IAA3B,CAAgC,IAAhC,EAAsC,KAAK2C,OAAL,CAAauL,KAAb,CAAmB+K,QAAzD;AACH;;AAED,WAAKmG,cAAL;AACH,KA/f0D;AAigB3DoxB,IAAAA,eAAe,EAAE,UAAUD,YAAV,EAAwB;AACrC,WAAKvtC,IAAL,CAAUuR,WAAV,CAAsBg8B,YAAtB,EAAoC,QAApC;AACA,WAAK5tC,OAAL,CAAauL,KAAb,CAAmB0C,UAAnB,CAA8BxN,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;AACH,KApgB0D;;AAsgB3D;;;AAGA+B,IAAAA,IAAI,EAAE,YAAY;AACd,UAAI,KAAKzC,OAAL,CAAaH,MAAb,CAAoBK,WAAxB,EAAqC;AACrC,YAAM6rC,YAAY,GAAG,KAAK/rC,OAAL,CAAauL,KAAlC;AAEA,UAAIwgC,YAAY,CAACK,cAAjB,EAAiCL,YAAY,CAACK,cAAb,CAA4BjuC,KAA5B,GAAoC,EAApC;AACjC,UAAI4tC,YAAY,CAACM,YAAjB,EAA+BN,YAAY,CAACxM,UAAb,GAA0BwM,YAAY,CAAClgC,OAAb,CAAqB2Q,WAArB,GAAmCuvB,YAAY,CAACM,YAAb,CAA0BluC,KAA1B,GAAkC,EAA/F;;AAC/B,UAAI4tC,YAAY,CAACK,cAAb,IAA+BL,YAAY,CAACM,YAAhD,EAA8D;AAC1DN,QAAAA,YAAY,CAACM,YAAb,CAA0B3kC,eAA1B,CAA0C,UAA1C;AACAqkC,QAAAA,YAAY,CAAClgC,OAAb,CAAqBpL,KAArB,CAA2BghC,cAA3B,GAA4C,EAA5C;AACH;;AAEDsK,MAAAA,YAAY,CAACz1B,QAAb,GAAwB,IAAxB;AACH;AArhB0D,GAAlC;AAwhB7B;AAAO,CA71RG;AA81RV;;AACA;AAAO,UAASzZ,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;;;;AAYC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,SADJ;AAELC,QAAAA,IAAI,EAAE,KAFD;AAGLC,QAAAA,IAAI,EAAE,YAHD;AAILC,QAAAA,OAAO,EAAE,QAJJ;AAKLC,QAAAA,QAAQ,EAAE,iBALL;AAMLC,QAAAA,IAAI,EAAE,KAND;AAOLC,QAAAA,SAAS,EAAE,cAPN;AAQLC,QAAAA,MAAM,EAAE,YARH;AASLC,QAAAA,MAAM,EAAE,aATH;AAULC,QAAAA,SAAS,EAAE,eAVN;AAWLC,QAAAA,WAAW,EAAE,cAXR;AAYLC,QAAAA,YAAY,EAAE,mBAZT;AAaLC,QAAAA,SAAS,EAAE,aAbN;AAcLC,QAAAA,WAAW,EAAE,gBAdR;AAeLC,QAAAA,MAAM,EAAE,SAfH;AAgBLC,QAAAA,OAAO,EAAE,QAhBJ;AAiBLC,QAAAA,KAAK,EAAE,WAjBF;AAkBLC,QAAAA,SAAS,EAAE,kBAlBN;AAmBLC,QAAAA,UAAU,EAAE,gBAnBP;AAoBLC,QAAAA,WAAW,EAAE,iBApBR;AAqBLC,QAAAA,YAAY,EAAE,eArBT;AAsBLC,QAAAA,IAAI,EAAE,QAtBD;AAuBLC,QAAAA,SAAS,EAAE,kBAvBN;AAwBLC,QAAAA,WAAW,EAAE,eAxBR;AAyBLC,QAAAA,cAAc,EAAE,kBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,YA1BL;AA2BLC,QAAAA,SAAS,EAAE,WA3BN;AA4BLC,QAAAA,SAAS,EAAE,SA5BN;AA6BLC,QAAAA,KAAK,EAAE,OA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,MA/BD;AAgCLC,QAAAA,KAAK,EAAE,SAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,YAnCP;AAoCLC,QAAAA,UAAU,EAAE,YApCP;AAqCLC,QAAAA,QAAQ,EAAE,WArCL;AAsCLC,QAAAA,IAAI,EAAE,MAtCD;AAuCLC,QAAAA,IAAI,EAAE,MAvCD;AAwCLC,QAAAA,OAAO,EAAE,SAxCJ;AAyCLC,QAAAA,KAAK,EAAE,OAzCF;AA0CLC,QAAAA,KAAK,EAAE,WA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,YA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,MA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,WA/CL;AAgDLC,QAAAA,UAAU,EAAE,YAhDP;AAiDLC,QAAAA,cAAc,EAAE,YAjDX;AAkDLC,QAAAA,SAAS,EAAE,WAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,aADF;AAELC,UAAAA,GAAG,EAAE,cAFA;AAGLC,UAAAA,IAAI,EAAE,gBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,MADF;AAELK,UAAAA,UAAU,EAAE,qBAFP;AAGLC,UAAAA,aAAa,EAAE,iBAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,gBAFA;AAGN8E,UAAAA,GAAG,EAAE,gBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,cADD;AAEN7E,UAAAA,IAAI,EAAE,gBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,cADD;AAEN7E,UAAAA,IAAI,EAAE,gBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,MADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,oBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,KAlCA;AAmCP6L,QAAAA,YAAY,EAAE,WAnCP;AAoCPC,QAAAA,YAAY,EAAE,QApCP;AAqCPC,QAAAA,UAAU,EAAE,oBArCL;AAsCPC,QAAAA,KAAK,EAAE,OAtCA;AAuCPC,QAAAA,IAAI,EAAE,SAvCC;AAwCPC,QAAAA,KAAK,EAAE,OAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,QA1CA;AA2CPiF,QAAAA,MAAM,EAAE,OA3CD;AA4CP5F,QAAAA,IAAI,EAAE,WA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,SADE;AAERC,QAAAA,MAAM,EAAE,YAFA;AAGRC,QAAAA,MAAM,EAAE,OAHA;AAIRC,QAAAA,cAAc,EAAE,sBAJR;AAKRC,QAAAA,cAAc,EAAE,uBALR;AAMRC,QAAAA,SAAS,EAAE,YANH;AAORC,QAAAA,kBAAkB,EAAE,oBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,sBARX;AASRC,QAAAA,YAAY,EAAE,cATN;AAURC,QAAAA,gBAAgB,EAAE,kBAVV;AAWRC,QAAAA,SAAS,EAAE,cAXH;AAYRC,QAAAA,QAAQ,EAAE,aAZF;AAaRC,QAAAA,QAAQ,EAAE,aAbF;AAcRC,QAAAA,QAAQ,EAAE,aAdF;AAeRC,QAAAA,QAAQ,EAAE,gBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,sBAhBV;AAiBRC,QAAAA,cAAc,EAAE,oBAjBR;AAkBRC,QAAAA,UAAU,EAAE,mBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,iBAnBL;AAoBRC,QAAAA,OAAO,EAAE,eApBD;AAqBRC,QAAAA,OAAO,EAAE,eArBD;AAsBRC,QAAAA,WAAW,EAAE,kBAtBL;AAuBRC,QAAAA,UAAU,EAAE,0BAvBJ;AAwBRC,QAAAA,UAAU,EAAE,cAxBJ;AAyBRC,QAAAA,eAAe,EAAE,mBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,cADN;AAEFC,QAAAA,QAAQ,EAAE,mBAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,cAJX;AAKFC,QAAAA,MAAM,EAAE,QALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AAgLA;;AAAO,CA9hSG;AA+hSV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,UADJ;AAELC,QAAAA,IAAI,EAAE,WAFD;AAGLC,QAAAA,IAAI,EAAE,YAHD;AAILC,QAAAA,OAAO,EAAE,QAJJ;AAKLC,QAAAA,QAAQ,EAAE,cALL;AAMLC,QAAAA,IAAI,EAAE,MAND;AAOLC,QAAAA,SAAS,EAAE,eAPN;AAQLC,QAAAA,MAAM,EAAE,QARH;AASLC,QAAAA,MAAM,EAAE,iBATH;AAULC,QAAAA,SAAS,EAAE,cAVN;AAWLC,QAAAA,WAAW,EAAE,cAXR;AAYLC,QAAAA,YAAY,EAAE,kBAZT;AAaLC,QAAAA,SAAS,EAAE,cAbN;AAcLC,QAAAA,WAAW,EAAE,0BAdR;AAeLC,QAAAA,MAAM,EAAE,mBAfH;AAgBLC,QAAAA,OAAO,EAAE,oBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,aAjBF;AAkBLC,QAAAA,SAAS,EAAE,kBAlBN;AAmBLC,QAAAA,UAAU,EAAE,mBAnBP;AAoBLC,QAAAA,WAAW,EAAE,sBApBR;AAqBLC,QAAAA,YAAY,EAAE,WArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,mBAvBN;AAwBLC,QAAAA,WAAW,EAAE,YAxBR;AAyBLC,QAAAA,cAAc,EAAE,mBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,QA1BL;AA2BLC,QAAAA,SAAS,EAAE,WA3BN;AA4BLC,QAAAA,SAAS,EAAE,aA5BN;AA6BLC,QAAAA,KAAK,EAAE,SA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,YA/BD;AAgCLC,QAAAA,KAAK,EAAE,MAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,UAnCP;AAoCLC,QAAAA,UAAU,EAAE,8BApCP;AAqCLC,QAAAA,QAAQ,EAAE,oBArCL;AAsCLC,QAAAA,IAAI,EAAE,YAtCD;AAuCLC,QAAAA,IAAI,EAAE,aAvCD;AAwCLC,QAAAA,OAAO,EAAE,UAxCJ;AAyCLC,QAAAA,KAAK,EAAE,SAzCF;AA0CLC,QAAAA,KAAK,EAAE,QA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,QA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,WA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,SA/CL;AAgDLC,QAAAA,UAAU,EAAE,YAhDP;AAiDLC,QAAAA,cAAc,EAAE,YAjDX;AAkDLC,QAAAA,SAAS,EAAE,UAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,eADF;AAELC,UAAAA,GAAG,EAAE,UAFA;AAGLC,UAAAA,IAAI,EAAE,WAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,YADF;AAELK,UAAAA,UAAU,EAAE,wBAFP;AAGLC,UAAAA,aAAa,EAAE,cAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,iBAFA;AAGN8E,UAAAA,GAAG,EAAE,UAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,iBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,iBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,YADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,uBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,WAlCA;AAmCP6L,QAAAA,YAAY,EAAE,YAnCP;AAoCPC,QAAAA,YAAY,EAAE,YApCP;AAqCPC,QAAAA,UAAU,EAAE,8BArCL;AAsCPC,QAAAA,KAAK,EAAE,UAtCA;AAuCPC,QAAAA,IAAI,EAAE,OAvCC;AAwCPC,QAAAA,KAAK,EAAE,QAxCA;AAyCPC,QAAAA,MAAM,EAAE,WAzCD;AA0CPhF,QAAAA,KAAK,EAAE,QA1CA;AA2CPiF,QAAAA,MAAM,EAAE,MA3CD;AA4CP5F,QAAAA,IAAI,EAAE,OA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,YADE;AAERC,QAAAA,MAAM,EAAE,gBAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,yBAJR;AAKRC,QAAAA,cAAc,EAAE,0BALR;AAMRC,QAAAA,SAAS,EAAE,eANH;AAORC,QAAAA,kBAAkB,EAAE,uBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,wBARX;AASRC,QAAAA,YAAY,EAAE,gBATN;AAURC,QAAAA,gBAAgB,EAAE,qBAVV;AAWRC,QAAAA,SAAS,EAAE,WAXH;AAYRC,QAAAA,QAAQ,EAAE,UAZF;AAaRC,QAAAA,QAAQ,EAAE,UAbF;AAcRC,QAAAA,QAAQ,EAAE,UAdF;AAeRC,QAAAA,QAAQ,EAAE,8BAfF;AAgBRC,QAAAA,gBAAgB,EAAE,qBAhBV;AAiBRC,QAAAA,cAAc,EAAE,mBAjBR;AAkBRC,QAAAA,UAAU,EAAE,mBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,oBAnBL;AAoBRC,QAAAA,OAAO,EAAE,gBApBD;AAqBRC,QAAAA,OAAO,EAAE,cArBD;AAsBRC,QAAAA,WAAW,EAAE,qBAtBL;AAuBRC,QAAAA,UAAU,EAAE,kBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,eAxBJ;AAyBRC,QAAAA,eAAe,EAAE,mBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,mBADN;AAEFC,QAAAA,QAAQ,EAAE,UAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,gBAJX;AAKFC,QAAAA,MAAM,EAAE,UALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CA3tSG;AA4tSV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AAC3B,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAChDD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GAChBD,OAAO,CAACD,MAAD,EAAS,IAAT,CADS,GAEhB,UAAUG,CAAV,EAAa;AACZ,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AAChB,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACA;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACA,OAPF;AAQA,KATD,MASO;AACNF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACA;AACD,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AAC5E,UAAM2D,IAAI,GAAG;AACZ6F,MAAAA,IAAI,EAAE,IADM;AAEZC,MAAAA,OAAO,EAAE;AACRC,QAAAA,OAAO,EAAE,mBADD;AAERC,QAAAA,IAAI,EAAE,SAFE;AAGRC,QAAAA,IAAI,EAAE,QAHE;AAIRC,QAAAA,OAAO,EAAE,SAJD;AAKRC,QAAAA,QAAQ,EAAE,kBALF;AAMRC,QAAAA,IAAI,EAAE,SANE;AAORC,QAAAA,SAAS,EAAE,WAPH;AAQRC,QAAAA,MAAM,EAAE,SARA;AASRC,QAAAA,MAAM,EAAE,SATA;AAURC,QAAAA,SAAS,EAAE,WAVH;AAWRC,QAAAA,WAAW,EAAE,aAXL;AAYRC,QAAAA,YAAY,EAAE,kBAZN;AAaRC,QAAAA,SAAS,EAAE,iBAbH;AAcRC,QAAAA,WAAW,EAAE,oBAdL;AAeRC,QAAAA,MAAM,EAAE,gBAfA;AAgBRC,QAAAA,OAAO,EAAE,kBAhBD;AAiBRC,QAAAA,KAAK,EAAE,SAjBC;AAkBRC,QAAAA,SAAS,EAAE,wBAlBH;AAmBRC,QAAAA,UAAU,EAAE,sBAnBJ;AAoBRC,QAAAA,WAAW,EAAE,mBApBL;AAqBRC,QAAAA,YAAY,EAAE,YArBN;AAsBRC,QAAAA,IAAI,EAAE,OAtBE;AAuBRC,QAAAA,SAAS,EAAE,gBAvBH;AAwBRC,QAAAA,WAAW,EAAE,mBAxBL;AAyBRC,QAAAA,cAAc,EAAE,iBAzBR;AA0BRC,QAAAA,QAAQ,EAAE,yBA1BF;AA2BRC,QAAAA,SAAS,EAAE,2BA3BH;AA4BRC,QAAAA,SAAS,EAAE,8BA5BH;AA6BRC,QAAAA,KAAK,EAAE,OA7BC;AA8BRC,QAAAA,IAAI,EAAE,MA9BE;AA+BRC,QAAAA,IAAI,EAAE,aA/BE;AAgCRC,QAAAA,KAAK,EAAE,QAhCC;AAiCRC,QAAAA,KAAK,EAAE,OAjCC;AAkCRC,QAAAA,KAAK,EAAE,OAlCC;AAmCRC,QAAAA,UAAU,EAAE,mBAnCJ;AAoCRC,QAAAA,UAAU,EAAE,aApCJ;AAqCRC,QAAAA,QAAQ,EAAE,mBArCF;AAsCRC,QAAAA,IAAI,EAAE,4BAtCE;AAuCRC,QAAAA,IAAI,EAAE,uBAvCE;AAwCRC,QAAAA,OAAO,EAAE,cAxCD;AAyCRC,QAAAA,KAAK,EAAE,UAzCC;AA0CRC,QAAAA,KAAK,EAAE,SA1CC;AA2CRC,QAAAA,OAAO,EAAE,cA3CD;AA4CRC,QAAAA,KAAK,EAAE,QA5CC;AA6CRC,QAAAA,cAAc,EAAE,MA7CR;AA8CRC,QAAAA,OAAO,EAAE,QA9CD;AA+CRC,QAAAA,QAAQ,EAAE,WA/CF;AAgDRC,QAAAA,UAAU,EAAE,oBAhDJ;AAiDRC,QAAAA,cAAc,EAAE,oBAjDR;AAkDRC,QAAAA,SAAS,EAAE,kBAlDH;AAmDCC,QAAAA,YAAY,EAAE;AAnDf,OAFG;AAuDZhJ,MAAAA,SAAS,EAAE;AACViJ,QAAAA,OAAO,EAAE;AACRC,UAAAA,KAAK,EAAE,eADC;AAERC,UAAAA,GAAG,EAAE,+BAFG;AAGRC,UAAAA,IAAI,EAAE,oBAHE;AAIRC,UAAAA,cAAc,EAAE;AAJR,SADC;AAOVC,QAAAA,OAAO,EAAE;AACIJ,UAAAA,KAAK,EAAE,aADX;AAEIK,UAAAA,UAAU,EAAE,qBAFhB;AAGIC,UAAAA,aAAa,EAAE,kBAHnB;AAIIC,UAAAA,YAAY,EAAE;AAJlB,SAPC;AAaVC,QAAAA,QAAQ,EAAE;AACTR,UAAAA,KAAK,EAAE,iBADE;AAET7E,UAAAA,IAAI,EAAE,gCAFG;AAGT8E,UAAAA,GAAG,EAAE,kBAHI;AAITQ,UAAAA,OAAO,EAAE;AAJA,SAbA;AAmBVC,QAAAA,QAAQ,EAAE;AACTV,UAAAA,KAAK,EAAE,gBADE;AAET7E,UAAAA,IAAI,EAAE,gCAFG;AAGT8E,UAAAA,GAAG,EAAE;AAHI,SAnBA;AAwBVU,QAAAA,QAAQ,EAAE;AACGX,UAAAA,KAAK,EAAE,gBADV;AAEG7E,UAAAA,IAAI,EAAE,gCAFT;AAGG8E,UAAAA,GAAG,EAAE;AAHR,SAxBA;AA6BDW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,WADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BR;AAiCVlK,QAAAA,OAAO,EAAE,sBAjCC;AAkCV1B,QAAAA,KAAK,EAAE,QAlCG;AAmCV6L,QAAAA,YAAY,EAAE,QAnCJ;AAoCVC,QAAAA,YAAY,EAAE,UApCJ;AAqCVC,QAAAA,UAAU,EAAE,6BArCF;AAsCVC,QAAAA,KAAK,EAAE,QAtCG;AAuCVC,QAAAA,IAAI,EAAE,WAvCI;AAwCVC,QAAAA,KAAK,EAAE,SAxCG;AAyCVC,QAAAA,MAAM,EAAE,QAzCE;AA0CVhF,QAAAA,KAAK,EAAE,OA1CG;AA2CViF,QAAAA,MAAM,EAAE,MA3CE;AA4CV5F,QAAAA,IAAI,EAAE,QA5CI;AA6CV6F,QAAAA,KAAK,EAAE;AA7CG,OAvDC;AAsGZC,MAAAA,UAAU,EAAE;AACXC,QAAAA,IAAI,EAAE,QADK;AAEXC,QAAAA,MAAM,EAAE,aAFG;AAGXC,QAAAA,MAAM,EAAE,cAHG;AAIXC,QAAAA,cAAc,EAAE,sBAJL;AAKXC,QAAAA,cAAc,EAAE,sBALL;AAMXC,QAAAA,SAAS,EAAE,eANA;AAOXC,QAAAA,kBAAkB,EAAE,wBAPT;AAQXC,QAAAA,iBAAiB,EAAE,0BARR;AASXC,QAAAA,YAAY,EAAE,kBATH;AAUXC,QAAAA,gBAAgB,EAAE,uBAVP;AAWXC,QAAAA,SAAS,EAAE,oBAXA;AAYXC,QAAAA,QAAQ,EAAE,mBAZC;AAaXC,QAAAA,QAAQ,EAAE,mBAbC;AAcXC,QAAAA,QAAQ,EAAE,mBAdC;AAeXC,QAAAA,QAAQ,EAAE,mBAfC;AAgBXC,QAAAA,gBAAgB,EAAE,oBAhBP;AAiBXC,QAAAA,cAAc,EAAE,kBAjBL;AAkBXC,QAAAA,UAAU,EAAE,sBAlBD;AAmBXC,QAAAA,WAAW,EAAE,oBAnBF;AAoBXC,QAAAA,OAAO,EAAE,eApBE;AAqBXC,QAAAA,OAAO,EAAE,eArBE;AAsBXC,QAAAA,WAAW,EAAE,qBAtBF;AAuBXC,QAAAA,UAAU,EAAE,iBAvBD;AAwBXC,QAAAA,UAAU,EAAE,gBAxBD;AAyBXC,QAAAA,eAAe,EAAE,qBAzBN;AA0BXC,QAAAA,aAAa,EAAE;AA1BJ,OAtGA;AAkIZC,MAAAA,IAAI,EAAE;AACLC,QAAAA,MAAM,EAAE,WADH;AAELC,QAAAA,QAAQ,EAAE,UAFL;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,WAAW,EAAE,aAJR;AAKLC,QAAAA,MAAM,EAAE,WALH;AAMI7G,QAAAA,IAAI,EAAE;AANV;AAlIM,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACzC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AAClBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMN;;AAED,WAAOA,IAAP;AACA,GA7KA,CAAD;AA+KA;;AAAO,CAx5SG;AAy5SV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,QADJ;AAELC,QAAAA,IAAI,EAAE,aAFD;AAGLC,QAAAA,IAAI,EAAE,QAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,QALL;AAMLC,QAAAA,IAAI,EAAE,MAND;AAOLC,QAAAA,SAAS,EAAE,UAPN;AAQLC,QAAAA,MAAM,EAAE,UARH;AASLC,QAAAA,MAAM,EAAE,OATH;AAULC,QAAAA,SAAS,EAAE,QAVN;AAWLC,QAAAA,WAAW,EAAE,UAXR;AAYLC,QAAAA,YAAY,EAAE,uBAZT;AAaLC,QAAAA,SAAS,EAAE,kBAbN;AAcLC,QAAAA,WAAW,EAAE,yBAdR;AAeLC,QAAAA,MAAM,EAAE,UAfH;AAgBLC,QAAAA,OAAO,EAAE,aAhBJ;AAiBLC,QAAAA,KAAK,EAAE,cAjBF;AAkBLC,QAAAA,SAAS,EAAE,UAlBN;AAmBLC,QAAAA,UAAU,EAAE,UAnBP;AAoBLC,QAAAA,WAAW,EAAE,QApBR;AAqBLC,QAAAA,YAAY,EAAE,UArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,UAvBN;AAwBLC,QAAAA,WAAW,EAAE,cAxBR;AAyBLC,QAAAA,cAAc,EAAE,mBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,QA1BL;AA2BLC,QAAAA,SAAS,EAAE,QA3BN;AA4BLC,QAAAA,SAAS,EAAE,QA5BN;AA6BLC,QAAAA,KAAK,EAAE,OA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,MA/BD;AAgCLC,QAAAA,KAAK,EAAE,OAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,UAlCF;AAmCLC,QAAAA,UAAU,EAAE,aAnCP;AAoCLC,QAAAA,UAAU,EAAE,gBApCP;AAqCLC,QAAAA,QAAQ,EAAE,cArCL;AAsCLC,QAAAA,IAAI,EAAE,SAtCD;AAuCLC,QAAAA,IAAI,EAAE,UAvCD;AAwCLC,QAAAA,OAAO,EAAE,eAxCJ;AAyCLC,QAAAA,KAAK,EAAE,UAzCF;AA0CLC,QAAAA,KAAK,EAAE,YA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,OA5CF;AA6CLC,QAAAA,cAAc,EAAE,UA7CX;AA8CLC,QAAAA,OAAO,EAAE,MA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,UA/CL;AAgDLC,QAAAA,UAAU,EAAE,qBAhDP;AAiDLC,QAAAA,cAAc,EAAE,qBAjDX;AAkDLC,QAAAA,SAAS,EAAE,gBAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,iBADF;AAELC,UAAAA,GAAG,EAAE,qBAFA;AAGLC,UAAAA,IAAI,EAAE,kBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,MADF;AAELK,UAAAA,UAAU,EAAE,uBAFP;AAGLC,UAAAA,aAAa,EAAE,QAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,mBADD;AAEN7E,UAAAA,IAAI,EAAE,yBAFA;AAGN8E,UAAAA,GAAG,EAAE,wBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,mBADD;AAEN7E,UAAAA,IAAI,EAAE,yBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,uBADD;AAEN7E,UAAAA,IAAI,EAAE,yBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,WADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,yBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,QAlCA;AAmCP6L,QAAAA,YAAY,EAAE,WAnCP;AAoCPC,QAAAA,YAAY,EAAE,oBApCP;AAqCPC,QAAAA,UAAU,EAAE,sCArCL;AAsCPC,QAAAA,KAAK,EAAE,SAtCA;AAuCPC,QAAAA,IAAI,EAAE,QAvCC;AAwCPC,QAAAA,KAAK,EAAE,QAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,SA1CA;AA2CPiF,QAAAA,MAAM,EAAE,SA3CD;AA4CP5F,QAAAA,IAAI,EAAE,WA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,UADE;AAERC,QAAAA,MAAM,EAAE,mBAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,8BAJR;AAKRC,QAAAA,cAAc,EAAE,6BALR;AAMRC,QAAAA,SAAS,EAAE,kBANH;AAORC,QAAAA,kBAAkB,EAAE,2BAPZ;AAQRC,QAAAA,iBAAiB,EAAE,2BARX;AASRC,QAAAA,YAAY,EAAE,oBATN;AAURC,QAAAA,gBAAgB,EAAE,yBAVV;AAWRC,QAAAA,SAAS,EAAE,uBAXH;AAYRC,QAAAA,QAAQ,EAAE,sBAZF;AAaRC,QAAAA,QAAQ,EAAE,sBAbF;AAcRC,QAAAA,QAAQ,EAAE,sBAdF;AAeRC,QAAAA,QAAQ,EAAE,oBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,qBAhBV;AAiBRC,QAAAA,cAAc,EAAE,mBAjBR;AAkBRC,QAAAA,UAAU,EAAE,mBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,mBAnBL;AAoBRC,QAAAA,OAAO,EAAE,YApBD;AAqBRC,QAAAA,OAAO,EAAE,YArBD;AAsBRC,QAAAA,WAAW,EAAE,kBAtBL;AAuBRC,QAAAA,UAAU,EAAE,wBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,sBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,sBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,YADN;AAEFC,QAAAA,QAAQ,EAAE,sBAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,aAJX;AAKFC,QAAAA,MAAM,EAAE,UALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AAgLA;;AAAO,CAtlTG;AAulTV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,OADJ;AAELC,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAE,MAJJ;AAKLC,QAAAA,QAAQ,EAAE,KALL;AAMLC,QAAAA,IAAI,EAAE,IAND;AAOLC,QAAAA,SAAS,EAAE,IAPN;AAQLC,QAAAA,MAAM,EAAE,OARH;AASLC,QAAAA,MAAM,EAAE,OATH;AAULC,QAAAA,SAAS,EAAE,KAVN;AAWLC,QAAAA,WAAW,EAAE,KAXR;AAYLC,QAAAA,YAAY,EAAE,OAZT;AAaLC,QAAAA,SAAS,EAAE,KAbN;AAcLC,QAAAA,WAAW,EAAE,QAdR;AAeLC,QAAAA,MAAM,EAAE,OAfH;AAgBLC,QAAAA,OAAO,EAAE,OAhBJ;AAiBLC,QAAAA,KAAK,EAAE,KAjBF;AAkBLC,QAAAA,SAAS,EAAE,KAlBN;AAmBLC,QAAAA,UAAU,EAAE,KAnBP;AAoBLC,QAAAA,WAAW,EAAE,MApBR;AAqBLC,QAAAA,YAAY,EAAE,MArBT;AAsBLC,QAAAA,IAAI,EAAE,KAtBD;AAuBLC,QAAAA,SAAS,EAAE,QAvBN;AAwBLC,QAAAA,WAAW,EAAE,QAxBR;AAyBLC,QAAAA,cAAc,EAAE,QAzBX;AA0BLC,QAAAA,QAAQ,EAAE,IA1BL;AA2BLC,QAAAA,SAAS,EAAE,IA3BN;AA4BLC,QAAAA,SAAS,EAAE,MA5BN;AA6BLC,QAAAA,KAAK,EAAE,MA7BF;AA8BLC,QAAAA,IAAI,EAAE,KA9BD;AA+BLC,QAAAA,IAAI,EAAE,IA/BD;AAgCLC,QAAAA,KAAK,EAAE,IAhCF;AAiCLC,QAAAA,KAAK,EAAE,IAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,SAnCP;AAoCLC,QAAAA,UAAU,EAAE,QApCP;AAqCLC,QAAAA,QAAQ,EAAE,SArCL;AAsCLC,QAAAA,IAAI,EAAE,MAtCD;AAuCLC,QAAAA,IAAI,EAAE,KAvCD;AAwCLC,QAAAA,OAAO,EAAE,OAxCJ;AAyCLC,QAAAA,KAAK,EAAE,IAzCF;AA0CLC,QAAAA,KAAK,EAAE,IA1CF;AA2CLC,QAAAA,OAAO,EAAE,SA3CJ;AA4CLC,QAAAA,KAAK,EAAE,MA5CF;AA6CLC,QAAAA,cAAc,EAAE,IA7CX;AA8CLC,QAAAA,OAAO,EAAE,KA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,QA/CL;AAgDLC,QAAAA,UAAU,EAAE,MAhDP;AAiDLC,QAAAA,cAAc,EAAE,QAjDX;AAkDLC,QAAAA,SAAS,EAAE,UAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,QADF;AAELC,UAAAA,GAAG,EAAE,aAFA;AAGLC,UAAAA,IAAI,EAAE,SAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,IADF;AAELK,UAAAA,UAAU,EAAE,MAFP;AAGLC,UAAAA,aAAa,EAAE,KAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,OADD;AAEN7E,UAAAA,IAAI,EAAE,SAFA;AAGN8E,UAAAA,GAAG,EAAE,UAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,OADD;AAEN7E,UAAAA,IAAI,EAAE,SAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,UADD;AAEN7E,UAAAA,IAAI,EAAE,SAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,IADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,MAjCF;AAkCP1B,QAAAA,KAAK,EAAE,KAlCA;AAmCP6L,QAAAA,YAAY,EAAE,IAnCP;AAoCPC,QAAAA,YAAY,EAAE,MApCP;AAqCPC,QAAAA,UAAU,EAAE,WArCL;AAsCPC,QAAAA,KAAK,EAAE,IAtCA;AAuCPC,QAAAA,IAAI,EAAE,GAvCC;AAwCPC,QAAAA,KAAK,EAAE,GAxCA;AAyCPC,QAAAA,MAAM,EAAE,IAzCD;AA0CPhF,QAAAA,KAAK,EAAE,GA1CA;AA2CPiF,QAAAA,MAAM,EAAE,GA3CD;AA4CP5F,QAAAA,IAAI,EAAE,KA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,IADE;AAERC,QAAAA,MAAM,EAAE,OAFA;AAGRC,QAAAA,MAAM,EAAE,IAHA;AAIRC,QAAAA,cAAc,EAAE,QAJR;AAKRC,QAAAA,cAAc,EAAE,QALR;AAMRC,QAAAA,SAAS,EAAE,MANH;AAORC,QAAAA,kBAAkB,EAAE,QAPZ;AAQRC,QAAAA,iBAAiB,EAAE,QARX;AASRC,QAAAA,YAAY,EAAE,QATN;AAURC,QAAAA,gBAAgB,EAAE,MAVV;AAWRC,QAAAA,SAAS,EAAE,UAXH;AAYRC,QAAAA,QAAQ,EAAE,SAZF;AAaRC,QAAAA,QAAQ,EAAE,SAbF;AAcRC,QAAAA,QAAQ,EAAE,SAdF;AAeRC,QAAAA,QAAQ,EAAE,OAfF;AAgBRC,QAAAA,gBAAgB,EAAE,MAhBV;AAiBRC,QAAAA,cAAc,EAAE,MAjBR;AAkBRC,QAAAA,UAAU,EAAE,MAlBJ;AAmBRC,QAAAA,WAAW,EAAE,MAnBL;AAoBRC,QAAAA,OAAO,EAAE,OApBD;AAqBRC,QAAAA,OAAO,EAAE,OArBD;AAsBRC,QAAAA,WAAW,EAAE,QAtBL;AAuBRC,QAAAA,UAAU,EAAE,OAvBJ;AAwBRC,QAAAA,UAAU,EAAE,OAxBJ;AAyBRC,QAAAA,eAAe,EAAE,KAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,MADN;AAEFC,QAAAA,QAAQ,EAAE,KAFR;AAGFC,QAAAA,IAAI,EAAE,KAHJ;AAIFC,QAAAA,WAAW,EAAE,KAJX;AAKFC,QAAAA,MAAM,EAAE,GALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CAnxTG;AAoxTV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,KADJ;AAELC,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,IAAI,EAAE,IAHD;AAILC,QAAAA,OAAO,EAAE,OAJJ;AAKLC,QAAAA,QAAQ,EAAE,IALL;AAMLC,QAAAA,IAAI,EAAE,IAND;AAOLC,QAAAA,SAAS,EAAE,IAPN;AAQLC,QAAAA,MAAM,EAAE,KARH;AASLC,QAAAA,MAAM,EAAE,KATH;AAULC,QAAAA,SAAS,EAAE,OAVN;AAWLC,QAAAA,WAAW,EAAE,MAXR;AAYLC,QAAAA,YAAY,EAAE,OAZT;AAaLC,QAAAA,SAAS,EAAE,KAbN;AAcLC,QAAAA,WAAW,EAAE,KAdR;AAeLC,QAAAA,MAAM,EAAE,MAfH;AAgBLC,QAAAA,OAAO,EAAE,MAhBJ;AAiBLC,QAAAA,KAAK,EAAE,IAjBF;AAkBLC,QAAAA,SAAS,EAAE,OAlBN;AAmBLC,QAAAA,UAAU,EAAE,QAnBP;AAoBLC,QAAAA,WAAW,EAAE,QApBR;AAqBLC,QAAAA,YAAY,EAAE,OArBT;AAsBLC,QAAAA,IAAI,EAAE,KAtBD;AAuBLC,QAAAA,SAAS,EAAE,SAvBN;AAwBLC,QAAAA,WAAW,EAAE,QAxBR;AAyBLC,QAAAA,cAAc,EAAE,SAzBX;AA0BLC,QAAAA,QAAQ,EAAE,IA1BL;AA2BLC,QAAAA,SAAS,EAAE,IA3BN;AA4BLC,QAAAA,SAAS,EAAE,IA5BN;AA6BLC,QAAAA,KAAK,EAAE,KA7BF;AA8BLC,QAAAA,IAAI,EAAE,IA9BD;AA+BLC,QAAAA,IAAI,EAAE,IA/BD;AAgCLC,QAAAA,KAAK,EAAE,KAhCF;AAiCLC,QAAAA,KAAK,EAAE,KAjCF;AAkCLC,QAAAA,KAAK,EAAE,KAlCF;AAmCLC,QAAAA,UAAU,EAAE,OAnCP;AAoCLC,QAAAA,UAAU,EAAE,OApCP;AAqCLC,QAAAA,QAAQ,EAAE,SArCL;AAsCLC,QAAAA,IAAI,EAAE,OAtCD;AAuCLC,QAAAA,IAAI,EAAE,OAvCD;AAwCLC,QAAAA,OAAO,EAAE,MAxCJ;AAyCLC,QAAAA,KAAK,EAAE,IAzCF;AA0CLC,QAAAA,KAAK,EAAE,IA1CF;AA2CLC,QAAAA,OAAO,EAAE,UA3CJ;AA4CLC,QAAAA,KAAK,EAAE,IA5CF;AA6CLC,QAAAA,cAAc,EAAE,KA7CX;AA8CLC,QAAAA,OAAO,EAAE,IA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,KA/CL;AAgDLC,QAAAA,UAAU,EAAE,MAhDP;AAiDLC,QAAAA,cAAc,EAAE,QAjDX;AAkDLC,QAAAA,SAAS,EAAE,QAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,OADF;AAELC,UAAAA,GAAG,EAAE,QAFA;AAGLC,UAAAA,IAAI,EAAE,QAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,IADF;AAELK,UAAAA,UAAU,EAAE,SAFP;AAGLC,UAAAA,aAAa,EAAE,OAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,QADD;AAEN7E,UAAAA,IAAI,EAAE,OAFA;AAGN8E,UAAAA,GAAG,EAAE,QAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,QADD;AAEN7E,UAAAA,IAAI,EAAE,OAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,QADD;AAEN7E,UAAAA,IAAI,EAAE,OAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,IADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,OAjCF;AAkCP1B,QAAAA,KAAK,EAAE,IAlCA;AAmCP6L,QAAAA,YAAY,EAAE,IAnCP;AAoCPC,QAAAA,YAAY,EAAE,MApCP;AAqCPC,QAAAA,UAAU,EAAE,OArCL;AAsCPC,QAAAA,KAAK,EAAE,IAtCA;AAuCPC,QAAAA,IAAI,EAAE,IAvCC;AAwCPC,QAAAA,KAAK,EAAE,KAxCA;AAyCPC,QAAAA,MAAM,EAAE,KAzCD;AA0CPhF,QAAAA,KAAK,EAAE,IA1CA;AA2CPiF,QAAAA,MAAM,EAAE,IA3CD;AA4CP5F,QAAAA,IAAI,EAAE,IA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,IADE;AAERC,QAAAA,MAAM,EAAE,OAFA;AAGRC,QAAAA,MAAM,EAAE,IAHA;AAIRC,QAAAA,cAAc,EAAE,SAJR;AAKRC,QAAAA,cAAc,EAAE,UALR;AAMRC,QAAAA,SAAS,EAAE,MANH;AAORC,QAAAA,kBAAkB,EAAE,UAPZ;AAQRC,QAAAA,iBAAiB,EAAE,WARX;AASRC,QAAAA,YAAY,EAAE,MATN;AAURC,QAAAA,gBAAgB,EAAE,WAVV;AAWRC,QAAAA,SAAS,EAAE,SAXH;AAYRC,QAAAA,QAAQ,EAAE,QAZF;AAaRC,QAAAA,QAAQ,EAAE,QAbF;AAcRC,QAAAA,QAAQ,EAAE,QAdF;AAeRC,QAAAA,QAAQ,EAAE,OAfF;AAgBRC,QAAAA,gBAAgB,EAAE,OAhBV;AAiBRC,QAAAA,cAAc,EAAE,OAjBR;AAkBRC,QAAAA,UAAU,EAAE,SAlBJ;AAmBRC,QAAAA,WAAW,EAAE,UAnBL;AAoBRC,QAAAA,OAAO,EAAE,KApBD;AAqBRC,QAAAA,OAAO,EAAE,KArBD;AAsBRC,QAAAA,WAAW,EAAE,QAtBL;AAuBRC,QAAAA,UAAU,EAAE,MAvBJ;AAwBRC,QAAAA,UAAU,EAAE,MAxBJ;AAyBRC,QAAAA,eAAe,EAAE,OAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,OADN;AAEFC,QAAAA,QAAQ,EAAE,KAFR;AAGFC,QAAAA,IAAI,EAAE,IAHJ;AAIFC,QAAAA,WAAW,EAAE,KAJX;AAKFC,QAAAA,MAAM,EAAE,KALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CAh9TG;AAi9TV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;;AAUC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,OADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,QADJ;AAELC,QAAAA,IAAI,EAAE,QAFD;AAGLC,QAAAA,IAAI,EAAE,OAHD;AAILC,QAAAA,OAAO,EAAE,UAJJ;AAKLC,QAAAA,QAAQ,EAAE,SALL;AAMLC,QAAAA,IAAI,EAAE,SAND;AAOLC,QAAAA,SAAS,EAAE,YAPN;AAQLC,QAAAA,MAAM,EAAE,SARH;AASLC,QAAAA,MAAM,EAAE,SATH;AAULC,QAAAA,SAAS,EAAE,YAVN;AAWLC,QAAAA,WAAW,EAAE,aAXR;AAYLC,QAAAA,YAAY,EAAE,oBAZT;AAaLC,QAAAA,SAAS,EAAE,cAbN;AAcLC,QAAAA,WAAW,EAAE,iBAdR;AAeLC,QAAAA,MAAM,EAAE,OAfH;AAgBLC,QAAAA,OAAO,EAAE,SAhBJ;AAiBLC,QAAAA,KAAK,EAAE,SAjBF;AAkBLC,QAAAA,SAAS,EAAE,oBAlBN;AAmBLC,QAAAA,UAAU,EAAE,mBAnBP;AAoBLC,QAAAA,WAAW,EAAE,mBApBR;AAqBLC,QAAAA,YAAY,EAAE,qBArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,gBAvBN;AAwBLC,QAAAA,WAAW,EAAE,mBAxBR;AAyBLC,QAAAA,cAAc,EAAE,kBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,QA1BL;AA2BLC,QAAAA,SAAS,EAAE,YA3BN;AA4BLC,QAAAA,SAAS,EAAE,WA5BN;AA6BLC,QAAAA,KAAK,EAAE,QA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,YA/BD;AAgCLC,QAAAA,KAAK,EAAE,QAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,YAnCP;AAoCLC,QAAAA,UAAU,EAAE,gBApCP;AAqCLC,QAAAA,QAAQ,EAAE,iBArCL;AAsCLC,QAAAA,IAAI,EAAE,QAtCD;AAuCLC,QAAAA,IAAI,EAAE,SAvCD;AAwCLC,QAAAA,OAAO,EAAE,QAxCJ;AAyCLC,QAAAA,KAAK,EAAE,UAzCF;AA0CLC,QAAAA,KAAK,EAAE,WA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,WA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,QA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,QA/CL;AAgDLC,QAAAA,UAAU,EAAE,iBAhDP;AAiDLC,QAAAA,cAAc,EAAE,qBAjDX;AAkDLC,QAAAA,SAAS,EAAE,iBAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,cADF;AAELC,UAAAA,GAAG,EAAE,eAFA;AAGLC,UAAAA,IAAI,EAAE,iBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,YADF;AAELK,UAAAA,UAAU,EAAE,oBAFP;AAGLC,UAAAA,aAAa,EAAE,SAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,qBAFA;AAGN8E,UAAAA,GAAG,EAAE,eAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,qBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,qBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,KADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,mBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,QAlCA;AAmCP6L,QAAAA,YAAY,EAAE,QAnCP;AAoCPC,QAAAA,YAAY,EAAE,UApCP;AAqCPC,QAAAA,UAAU,EAAE,uBArCL;AAsCPC,QAAAA,KAAK,EAAE,QAtCA;AAuCPC,QAAAA,IAAI,EAAE,UAvCC;AAwCPC,QAAAA,KAAK,EAAE,SAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,SA1CA;AA2CPiF,QAAAA,MAAM,EAAE,QA3CD;AA4CP5F,QAAAA,IAAI,EAAE,SA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,QADE;AAERC,QAAAA,MAAM,EAAE,cAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,qBAJR;AAKRC,QAAAA,cAAc,EAAE,sBALR;AAMRC,QAAAA,SAAS,EAAE,eANH;AAORC,QAAAA,kBAAkB,EAAE,sBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,uBARX;AASRC,QAAAA,YAAY,EAAE,gBATN;AAURC,QAAAA,gBAAgB,EAAE,wBAVV;AAWRC,QAAAA,SAAS,EAAE,yBAXH;AAYRC,QAAAA,QAAQ,EAAE,wBAZF;AAaRC,QAAAA,QAAQ,EAAE,wBAbF;AAcRC,QAAAA,QAAQ,EAAE,wBAdF;AAeRC,QAAAA,QAAQ,EAAE,oBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,qBAhBV;AAiBRC,QAAAA,cAAc,EAAE,mBAjBR;AAkBRC,QAAAA,UAAU,EAAE,qBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,oBAnBL;AAoBRC,QAAAA,OAAO,EAAE,SApBD;AAqBRC,QAAAA,OAAO,EAAE,SArBD;AAsBRC,QAAAA,WAAW,EAAE,qBAtBL;AAuBRC,QAAAA,UAAU,EAAE,iBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,iBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,oBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,UADN;AAEFC,QAAAA,QAAQ,EAAE,WAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,aAJX;AAKFC,QAAAA,MAAM,EAAE,WALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,OAA7C,EAAsD;AAClDpS,QAAAA,UAAU,EAAE,IADsC;AAElD8E,QAAAA,QAAQ,EAAE,IAFwC;AAGlDC,QAAAA,YAAY,EAAE,IAHoC;AAIlD1E,QAAAA,KAAK,EAAEoF;AAJ2C,OAAtD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CA9oUG;AA+oUV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,cADJ;AAELC,QAAAA,IAAI,EAAE,WAFD;AAGLC,QAAAA,IAAI,EAAE,OAHD;AAILC,QAAAA,OAAO,EAAE,cAJJ;AAKLC,QAAAA,QAAQ,EAAE,eALL;AAMLC,QAAAA,IAAI,EAAE,YAND;AAOLC,QAAAA,SAAS,EAAE,cAPN;AAQLC,QAAAA,MAAM,EAAE,QARH;AASLC,QAAAA,MAAM,EAAE,aATH;AAULC,QAAAA,SAAS,EAAE,eAVN;AAWLC,QAAAA,WAAW,EAAE,gBAXR;AAYLC,QAAAA,YAAY,EAAE,yBAZT;AAaLC,QAAAA,SAAS,EAAE,aAbN;AAcLC,QAAAA,WAAW,EAAE,WAdR;AAeLC,QAAAA,MAAM,EAAE,kBAfH;AAgBLC,QAAAA,OAAO,EAAE,kBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,cAjBF;AAkBLC,QAAAA,SAAS,EAAE,OAlBN;AAmBLC,QAAAA,UAAU,EAAE,QAnBP;AAoBLC,QAAAA,WAAW,EAAE,WApBR;AAqBLC,QAAAA,YAAY,EAAE,WArBT;AAsBLC,QAAAA,IAAI,EAAE,QAtBD;AAuBLC,QAAAA,SAAS,EAAE,cAvBN;AAwBLC,QAAAA,WAAW,EAAE,eAxBR;AAyBLC,QAAAA,cAAc,EAAE,sBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,UA1BL;AA2BLC,QAAAA,SAAS,EAAE,SA3BN;AA4BLC,QAAAA,SAAS,EAAE,WA5BN;AA6BLC,QAAAA,KAAK,EAAE,SA7BF;AA8BLC,QAAAA,IAAI,EAAE,QA9BD;AA+BLC,QAAAA,IAAI,EAAE,gBA/BD;AAgCLC,QAAAA,KAAK,EAAE,aAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,cAnCP;AAoCLC,QAAAA,UAAU,EAAE,aApCP;AAqCLC,QAAAA,QAAQ,EAAE,oBArCL;AAsCLC,QAAAA,IAAI,EAAE,UAtCD;AAuCLC,QAAAA,IAAI,EAAE,SAvCD;AAwCLC,QAAAA,OAAO,EAAE,0BAxCJ;AAyCLC,QAAAA,KAAK,EAAE,QAzCF;AA0CLC,QAAAA,KAAK,EAAE,OA1CF;AA2CLC,QAAAA,OAAO,EAAE,SA3CJ;AA4CLC,QAAAA,KAAK,EAAE,WA5CF;AA6CLC,QAAAA,cAAc,EAAE,QA7CX;AA8CLC,QAAAA,OAAO,EAAE,KA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,QA/CL;AAgDLC,QAAAA,UAAU,EAAE,cAhDP;AAiDLC,QAAAA,cAAc,EAAE,cAjDX;AAkDLC,QAAAA,SAAS,EAAE,cAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,iBADF;AAELC,UAAAA,GAAG,EAAE,QAFA;AAGLC,UAAAA,IAAI,EAAE,OAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,gBADF;AAELK,UAAAA,UAAU,EAAE,uBAFP;AAGLC,UAAAA,aAAa,EAAE,OAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,sBADD;AAEN7E,UAAAA,IAAI,EAAE,eAFA;AAGN8E,UAAAA,GAAG,EAAE,mBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,eAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,eAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,MADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,kBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,SAlCA;AAmCP6L,QAAAA,YAAY,EAAE,aAnCP;AAoCPC,QAAAA,YAAY,EAAE,UApCP;AAqCPC,QAAAA,UAAU,EAAE,qBArCL;AAsCPC,QAAAA,KAAK,EAAE,eAtCA;AAuCPC,QAAAA,IAAI,EAAE,OAvCC;AAwCPC,QAAAA,KAAK,EAAE,QAxCA;AAyCPC,QAAAA,MAAM,EAAE,WAzCD;AA0CPhF,QAAAA,KAAK,EAAE,QA1CA;AA2CPiF,QAAAA,MAAM,EAAE,QA3CD;AA4CP5F,QAAAA,IAAI,EAAE,QA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,UADE;AAERC,QAAAA,MAAM,EAAE,eAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,sBAJR;AAKRC,QAAAA,cAAc,EAAE,sBALR;AAMRC,QAAAA,SAAS,EAAE,gBANH;AAORC,QAAAA,kBAAkB,EAAE,wBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,yBARX;AASRC,QAAAA,YAAY,EAAE,iBATN;AAURC,QAAAA,gBAAgB,EAAE,8BAVV;AAWRC,QAAAA,SAAS,EAAE,aAXH;AAYRC,QAAAA,QAAQ,EAAE,YAZF;AAaRC,QAAAA,QAAQ,EAAE,YAbF;AAcRC,QAAAA,QAAQ,EAAE,YAdF;AAeRC,QAAAA,QAAQ,EAAE,aAfF;AAgBRC,QAAAA,gBAAgB,EAAE,yBAhBV;AAiBRC,QAAAA,cAAc,EAAE,uBAjBR;AAkBRC,QAAAA,UAAU,EAAE,kCAlBJ;AAmBRC,QAAAA,WAAW,EAAE,8BAnBL;AAoBRC,QAAAA,OAAO,EAAE,4BApBD;AAqBRC,QAAAA,OAAO,EAAE,uBArBD;AAsBRC,QAAAA,WAAW,EAAE,mBAtBL;AAuBRC,QAAAA,UAAU,EAAE,mBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,kBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,yBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,UADN;AAEFC,QAAAA,QAAQ,EAAE,iBAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,gBAJX;AAKFC,QAAAA,MAAM,EAAE,MALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CA30UG;AA40UV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,8CAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,aADJ;AAELC,QAAAA,IAAI,EAAE,OAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,WALL;AAMLC,QAAAA,IAAI,EAAE,WAND;AAOLC,QAAAA,SAAS,EAAE,cAPN;AAQLC,QAAAA,MAAM,EAAE,SARH;AASLC,QAAAA,MAAM,EAAE,YATH;AAULC,QAAAA,SAAS,EAAE,OAVN;AAWLC,QAAAA,WAAW,EAAE,QAXR;AAYLC,QAAAA,YAAY,EAAE,uBAZT;AAaLC,QAAAA,SAAS,EAAE,cAbN;AAcLC,QAAAA,WAAW,EAAE,uBAdR;AAeLC,QAAAA,MAAM,EAAE,iBAfH;AAgBLC,QAAAA,OAAO,EAAE,gBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,SAjBF;AAkBLC,QAAAA,SAAS,EAAE,UAlBN;AAmBLC,QAAAA,UAAU,EAAE,QAnBP;AAoBLC,QAAAA,WAAW,EAAE,UApBR;AAqBLC,QAAAA,YAAY,EAAE,cArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,gBAvBN;AAwBLC,QAAAA,WAAW,EAAE,eAxBR;AAyBLC,QAAAA,cAAc,EAAE,mBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,OA1BL;AA2BLC,QAAAA,SAAS,EAAE,WA3BN;AA4BLC,QAAAA,SAAS,EAAE,cA5BN;AA6BLC,QAAAA,KAAK,EAAE,SA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,YA/BD;AAgCLC,QAAAA,KAAK,EAAE,UAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,eAnCP;AAoCLC,QAAAA,UAAU,EAAE,oBApCP;AAqCLC,QAAAA,QAAQ,EAAE,mBArCL;AAsCLC,QAAAA,IAAI,EAAE,SAtCD;AAuCLC,QAAAA,IAAI,EAAE,YAvCD;AAwCLC,QAAAA,OAAO,EAAE,WAxCJ;AAyCLC,QAAAA,KAAK,EAAE,QAzCF;AA0CLC,QAAAA,KAAK,EAAE,WA1CF;AA2CLC,QAAAA,OAAO,EAAE,aA3CJ;AA4CLC,QAAAA,KAAK,EAAE,cA5CF;AA6CLC,QAAAA,cAAc,EAAE,WA7CX;AA8CLC,QAAAA,OAAO,EAAE,QA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,UA/CL;AAgDLC,QAAAA,UAAU,EAAE,eAhDP;AAiDLC,QAAAA,cAAc,EAAE,iBAjDX;AAkDLC,QAAAA,SAAS,EAAE,aAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,mBADF;AAELC,UAAAA,GAAG,EAAE,mBAFA;AAGLC,UAAAA,IAAI,EAAE,+BAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,YADF;AAELK,UAAAA,UAAU,EAAE,sBAFP;AAGLC,UAAAA,aAAa,EAAE,iBAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,oBADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE,oBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,KADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,uBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,aAlCA;AAmCP6L,QAAAA,YAAY,EAAE,OAnCP;AAoCPC,QAAAA,YAAY,EAAE,SApCP;AAqCPC,QAAAA,UAAU,EAAE,eArCL;AAsCPC,QAAAA,KAAK,EAAE,iBAtCA;AAuCPC,QAAAA,IAAI,EAAE,UAvCC;AAwCPC,QAAAA,KAAK,EAAE,QAxCA;AAyCPC,QAAAA,MAAM,EAAE,UAzCD;AA0CPhF,QAAAA,KAAK,EAAE,WA1CA;AA2CPiF,QAAAA,MAAM,EAAE,SA3CD;AA4CP5F,QAAAA,IAAI,EAAE,MA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,UADE;AAERC,QAAAA,MAAM,EAAE,cAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,uBAJR;AAKRC,QAAAA,cAAc,EAAE,uBALR;AAMRC,QAAAA,SAAS,EAAE,eANH;AAORC,QAAAA,kBAAkB,EAAE,6BAPZ;AAQRC,QAAAA,iBAAiB,EAAE,4BARX;AASRC,QAAAA,YAAY,EAAE,kBATN;AAURC,QAAAA,gBAAgB,EAAE,+BAVV;AAWRC,QAAAA,SAAS,EAAE,mBAXH;AAYRC,QAAAA,QAAQ,EAAE,kBAZF;AAaRC,QAAAA,QAAQ,EAAE,kBAbF;AAcRC,QAAAA,QAAQ,EAAE,kBAdF;AAeRC,QAAAA,QAAQ,EAAE,yBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,sBAhBV;AAiBRC,QAAAA,cAAc,EAAE,qBAjBR;AAkBRC,QAAAA,UAAU,EAAE,kBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,gBAnBL;AAoBRC,QAAAA,OAAO,EAAE,oBApBD;AAqBRC,QAAAA,OAAO,EAAE,mBArBD;AAsBRC,QAAAA,WAAW,EAAE,sBAtBL;AAuBRC,QAAAA,UAAU,EAAE,cAvBJ;AAwBRC,QAAAA,UAAU,EAAE,cAxBJ;AAyBRC,QAAAA,eAAe,EAAE,mBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,YADN;AAEFC,QAAAA,QAAQ,EAAE,OAFR;AAGFC,QAAAA,IAAI,EAAE,UAHJ;AAIFC,QAAAA,WAAW,EAAE,cAJX;AAKFC,QAAAA,MAAM,EAAE,OALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AAgLA;;AAAO,CAzgVG;AA0gVV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,OADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,IADJ;AAELC,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,IAAI,EAAE,IAHD;AAILC,QAAAA,OAAO,EAAE,IAJJ;AAKLC,QAAAA,QAAQ,EAAE,IALL;AAMLC,QAAAA,IAAI,EAAE,IAND;AAOLC,QAAAA,SAAS,EAAE,KAPN;AAQLC,QAAAA,MAAM,EAAE,IARH;AASLC,QAAAA,MAAM,EAAE,KATH;AAULC,QAAAA,SAAS,EAAE,IAVN;AAWLC,QAAAA,WAAW,EAAE,IAXR;AAYLC,QAAAA,YAAY,EAAE,MAZT;AAaLC,QAAAA,SAAS,EAAE,MAbN;AAcLC,QAAAA,WAAW,EAAE,MAdR;AAeLC,QAAAA,MAAM,EAAE,MAfH;AAgBLC,QAAAA,OAAO,EAAE,MAhBJ;AAiBLC,QAAAA,KAAK,EAAE,MAjBF;AAkBLC,QAAAA,SAAS,EAAE,KAlBN;AAmBLC,QAAAA,UAAU,EAAE,KAnBP;AAoBLC,QAAAA,WAAW,EAAE,IApBR;AAqBLC,QAAAA,YAAY,EAAE,MArBT;AAsBLC,QAAAA,IAAI,EAAE,IAtBD;AAuBLC,QAAAA,SAAS,EAAE,MAvBN;AAwBLC,QAAAA,WAAW,EAAE,MAxBR;AAyBLC,QAAAA,cAAc,EAAE,KAzBX;AA0BLC,QAAAA,QAAQ,EAAE,IA1BL;AA2BLC,QAAAA,SAAS,EAAE,IA3BN;AA4BLC,QAAAA,SAAS,EAAE,IA5BN;AA6BLC,QAAAA,KAAK,EAAE,IA7BF;AA8BLC,QAAAA,IAAI,EAAE,KA9BD;AA+BLC,QAAAA,IAAI,EAAE,IA/BD;AAgCLC,QAAAA,KAAK,EAAE,IAhCF;AAiCLC,QAAAA,KAAK,EAAE,IAjCF;AAkCLC,QAAAA,KAAK,EAAE,IAlCF;AAmCLC,QAAAA,UAAU,EAAE,IAnCP;AAoCLC,QAAAA,UAAU,EAAE,OApCP;AAqCLC,QAAAA,QAAQ,EAAE,MArCL;AAsCLC,QAAAA,IAAI,EAAE,IAtCD;AAuCLC,QAAAA,IAAI,EAAE,IAvCD;AAwCLC,QAAAA,OAAO,EAAE,IAxCJ;AAyCLC,QAAAA,KAAK,EAAE,IAzCF;AA0CLC,QAAAA,KAAK,EAAE,IA1CF;AA2CLC,QAAAA,OAAO,EAAE,UA3CJ;AA4CLC,QAAAA,KAAK,EAAE,IA5CF;AA6CLC,QAAAA,cAAc,EAAE,IA7CX;AA8CLC,QAAAA,OAAO,EAAE,IA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,IA/CL;AAgDLC,QAAAA,UAAU,EAAE,IAhDP;AAiDLC,QAAAA,cAAc,EAAE,MAjDX;AAkDLC,QAAAA,SAAS,EAAE,MAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,OADF;AAELC,UAAAA,GAAG,EAAE,IAFA;AAGLC,UAAAA,IAAI,EAAE,IAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,IADF;AAELK,UAAAA,UAAU,EAAE,MAFP;AAGLC,UAAAA,aAAa,EAAE,IAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,MADD;AAEN7E,UAAAA,IAAI,EAAE,MAFA;AAGN8E,UAAAA,GAAG,EAAE,MAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,MADD;AAEN7E,UAAAA,IAAI,EAAE,MAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,MADD;AAEN7E,UAAAA,IAAI,EAAE,MAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,IADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,IAjCF;AAkCP1B,QAAAA,KAAK,EAAE,IAlCA;AAmCP6L,QAAAA,YAAY,EAAE,IAnCP;AAoCPC,QAAAA,YAAY,EAAE,IApCP;AAqCPC,QAAAA,UAAU,EAAE,IArCL;AAsCPC,QAAAA,KAAK,EAAE,IAtCA;AAuCPC,QAAAA,IAAI,EAAE,GAvCC;AAwCPC,QAAAA,KAAK,EAAE,GAxCA;AAyCPC,QAAAA,MAAM,EAAE,IAzCD;AA0CPhF,QAAAA,KAAK,EAAE,IA1CA;AA2CPiF,QAAAA,MAAM,EAAE,IA3CD;AA4CP5F,QAAAA,IAAI,EAAE,IA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,IADE;AAERC,QAAAA,MAAM,EAAE,MAFA;AAGRC,QAAAA,MAAM,EAAE,IAHA;AAIRC,QAAAA,cAAc,EAAE,OAJR;AAKRC,QAAAA,cAAc,EAAE,OALR;AAMRC,QAAAA,SAAS,EAAE,KANH;AAORC,QAAAA,kBAAkB,EAAE,OAPZ;AAQRC,QAAAA,iBAAiB,EAAE,OARX;AASRC,QAAAA,YAAY,EAAE,KATN;AAURC,QAAAA,gBAAgB,EAAE,MAVV;AAWRC,QAAAA,SAAS,EAAE,SAXH;AAYRC,QAAAA,QAAQ,EAAE,QAZF;AAaRC,QAAAA,QAAQ,EAAE,QAbF;AAcRC,QAAAA,QAAQ,EAAE,QAdF;AAeRE,QAAAA,gBAAgB,EAAE,MAfV;AAgBRC,QAAAA,cAAc,EAAE,MAhBR;AAiBRC,QAAAA,UAAU,EAAE,MAjBJ;AAkBRC,QAAAA,WAAW,EAAE,MAlBL;AAmBRC,QAAAA,OAAO,EAAE,MAnBD;AAoBRC,QAAAA,OAAO,EAAE,MApBD;AAqBRC,QAAAA,WAAW,EAAE,MArBL;AAsBRC,QAAAA,UAAU,EAAE,OAtBJ;AAuBRC,QAAAA,UAAU,EAAE,OAvBJ;AAwBRC,QAAAA,eAAe,EAAE,MAxBT;AAyBRC,QAAAA,aAAa,EAAE;AAzBP,OAtGH;AAiITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,QAAQ,EAAE,KAFR;AAGFC,QAAAA,IAAI,EAAE,KAHJ;AAIFC,QAAAA,WAAW,EAAE,KAJX;AAKFC,QAAAA,MAAM,EAAE,IALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAjIG,KAAb;;AA2IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,OAA7C,EAAsD;AAClDpS,QAAAA,UAAU,EAAE,IADsC;AAElD8E,QAAAA,QAAQ,EAAE,IAFwC;AAGlDC,QAAAA,YAAY,EAAE,IAHoC;AAIlD1E,QAAAA,KAAK,EAAEoF;AAJ2C,OAAtD;AAMH;;AAED,WAAOA,IAAP;AACH,GA5KA,CAAD;AA+KA;;AAAO,CAtsVG;AAusVV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,SADJ;AAELC,QAAAA,IAAI,EAAE,UAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAE,QAJJ;AAKLC,QAAAA,QAAQ,EAAE,YALL;AAMLC,QAAAA,IAAI,EAAE,UAND;AAOLC,QAAAA,SAAS,EAAE,WAPN;AAQLC,QAAAA,MAAM,EAAE,UARH;AASLC,QAAAA,MAAM,EAAE,OATH;AAULC,QAAAA,SAAS,EAAE,WAVN;AAWLC,QAAAA,WAAW,EAAE,aAXR;AAYLC,QAAAA,YAAY,EAAE,kBAZT;AAaLC,QAAAA,SAAS,EAAE,cAbN;AAcLC,QAAAA,WAAW,EAAE,wBAdR;AAeLC,QAAAA,MAAM,EAAE,YAfH;AAgBLC,QAAAA,OAAO,EAAE,gBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,UAjBF;AAkBLC,QAAAA,SAAS,EAAE,oBAlBN;AAmBLC,QAAAA,UAAU,EAAE,qBAnBP;AAoBLC,QAAAA,WAAW,EAAE,oBApBR;AAqBLC,QAAAA,YAAY,EAAE,2BArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,gBAvBN;AAwBLC,QAAAA,WAAW,EAAE,kBAxBR;AAyBLC,QAAAA,cAAc,EAAE,kBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,OA1BL;AA2BLC,QAAAA,SAAS,EAAE,SA3BN;AA4BLC,QAAAA,SAAS,EAAE,UA5BN;AA6BLC,QAAAA,KAAK,EAAE,OA7BF;AA8BLC,QAAAA,IAAI,EAAE,MA9BD;AA+BLC,QAAAA,IAAI,EAAE,YA/BD;AAgCLC,QAAAA,KAAK,EAAE,SAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,aAnCP;AAoCLC,QAAAA,UAAU,EAAE,eApCP;AAqCLC,QAAAA,QAAQ,EAAE,iBArCL;AAsCLC,QAAAA,IAAI,EAAE,UAtCD;AAuCLC,QAAAA,IAAI,EAAE,MAvCD;AAwCLC,QAAAA,OAAO,EAAE,gBAxCJ;AAyCLC,QAAAA,KAAK,EAAE,WAzCF;AA0CLC,QAAAA,KAAK,EAAE,UA1CF;AA2CLC,QAAAA,OAAO,EAAE,cA3CJ;AA4CLC,QAAAA,KAAK,EAAE,OA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,OA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,UA/CL;AAgDLC,QAAAA,UAAU,EAAE,gBAhDP;AAiDLC,QAAAA,cAAc,EAAE,eAjDX;AAkDLC,QAAAA,SAAS,EAAE,WAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,gBADF;AAELC,UAAAA,GAAG,EAAE,aAFA;AAGLC,UAAAA,IAAI,EAAE,gBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,YADF;AAELK,UAAAA,UAAU,EAAE,oBAFP;AAGLC,UAAAA,aAAa,EAAE,iBAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,mBADD;AAEN7E,UAAAA,IAAI,EAAE,YAFA;AAGN8E,UAAAA,GAAG,EAAE,aAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,YAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,YAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,UADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,qBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,SAlCA;AAmCP6L,QAAAA,YAAY,EAAE,UAnCP;AAoCPC,QAAAA,YAAY,EAAE,UApCP;AAqCPC,QAAAA,UAAU,EAAE,wBArCL;AAsCPC,QAAAA,KAAK,EAAE,SAtCA;AAuCPC,QAAAA,IAAI,EAAE,QAvCC;AAwCPC,QAAAA,KAAK,EAAE,SAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,QA1CA;AA2CPiF,QAAAA,MAAM,EAAE,UA3CD;AA4CP5F,QAAAA,IAAI,EAAE,YA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,UADE;AAERC,QAAAA,MAAM,EAAE,aAFA;AAGRC,QAAAA,MAAM,EAAE,SAHA;AAIRC,QAAAA,cAAc,EAAE,yBAJR;AAKRC,QAAAA,cAAc,EAAE,yBALR;AAMRC,QAAAA,SAAS,EAAE,cANH;AAORC,QAAAA,kBAAkB,EAAE,2BAPZ;AAQRC,QAAAA,iBAAiB,EAAE,wBARX;AASRC,QAAAA,YAAY,EAAE,gBATN;AAURC,QAAAA,gBAAgB,EAAE,qBAVV;AAWRC,QAAAA,SAAS,EAAE,qBAXH;AAYRC,QAAAA,QAAQ,EAAE,oBAZF;AAaRC,QAAAA,QAAQ,EAAE,oBAbF;AAcRC,QAAAA,QAAQ,EAAE,oBAdF;AAeRC,QAAAA,QAAQ,EAAE,qBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,oBAhBV;AAiBRC,QAAAA,cAAc,EAAE,mBAjBR;AAkBRC,QAAAA,UAAU,EAAE,mBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,oBAnBL;AAoBRC,QAAAA,OAAO,EAAE,mBApBD;AAqBRC,QAAAA,OAAO,EAAE,mBArBD;AAsBRC,QAAAA,WAAW,EAAE,aAtBL;AAuBRC,QAAAA,UAAU,EAAE,eAvBJ;AAwBRC,QAAAA,UAAU,EAAE,kBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,sBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,SADN;AAEFC,QAAAA,QAAQ,EAAE,UAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,aAJX;AAKFC,QAAAA,MAAM,EAAE,OALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CAn4VG;AAo4VV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,UADJ;AAELC,QAAAA,IAAI,EAAE,QAFD;AAGLC,QAAAA,IAAI,EAAE,UAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,SALL;AAMLC,QAAAA,IAAI,EAAE,aAND;AAOLC,QAAAA,SAAS,EAAE,cAPN;AAQLC,QAAAA,MAAM,EAAE,SARH;AASLC,QAAAA,MAAM,EAAE,eATH;AAULC,QAAAA,SAAS,EAAE,cAVN;AAWLC,QAAAA,WAAW,EAAE,cAXR;AAYLC,QAAAA,YAAY,EAAE,sBAZT;AAaLC,QAAAA,SAAS,EAAE,cAbN;AAcLC,QAAAA,WAAW,EAAE,kBAdR;AAeLC,QAAAA,MAAM,EAAE,iBAfH;AAgBLC,QAAAA,OAAO,EAAE,kBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,UAjBF;AAkBLC,QAAAA,SAAS,EAAE,UAlBN;AAmBLC,QAAAA,UAAU,EAAE,WAnBP;AAoBLC,QAAAA,WAAW,EAAE,WApBR;AAqBLC,QAAAA,YAAY,EAAE,UArBT;AAsBLC,QAAAA,IAAI,EAAE,OAtBD;AAuBLC,QAAAA,SAAS,EAAE,kBAvBN;AAwBLC,QAAAA,WAAW,EAAE,oBAxBR;AAyBLC,QAAAA,cAAc,EAAE,eAzBX;AA0BLC,QAAAA,QAAQ,EAAE,QA1BL;AA2BLC,QAAAA,SAAS,EAAE,YA3BN;AA4BLC,QAAAA,SAAS,EAAE,YA5BN;AA6BLC,QAAAA,KAAK,EAAE,QA7BF;AA8BLC,QAAAA,IAAI,EAAE,UA9BD;AA+BLC,QAAAA,IAAI,EAAE,cA/BD;AAgCLC,QAAAA,KAAK,EAAE,OAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,aAnCP;AAoCLC,QAAAA,UAAU,EAAE,aApCP;AAqCLC,QAAAA,QAAQ,EAAE,YArCL;AAsCLC,QAAAA,IAAI,EAAE,QAtCD;AAuCLC,QAAAA,IAAI,EAAE,OAvCD;AAwCLC,QAAAA,OAAO,EAAE,SAxCJ;AAyCLC,QAAAA,KAAK,EAAE,QAzCF;AA0CLC,QAAAA,KAAK,EAAE,QA1CF;AA2CLC,QAAAA,OAAO,EAAE,YA3CJ;AA4CLC,QAAAA,KAAK,EAAE,YA5CF;AA6CLC,QAAAA,cAAc,EAAE,OA7CX;AA8CLC,QAAAA,OAAO,EAAE,KA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,SA/CL;AAgDLC,QAAAA,UAAU,EAAE,yBAhDP;AAiDLC,QAAAA,cAAc,EAAE,cAjDX;AAkDLC,QAAAA,SAAS,EAAE,aAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,gBADF;AAELC,UAAAA,GAAG,EAAE,WAFA;AAGLC,UAAAA,IAAI,EAAE,uBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,cADF;AAELK,UAAAA,UAAU,EAAE,oBAFP;AAGLC,UAAAA,aAAa,EAAE,kBAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,aADD;AAEN7E,UAAAA,IAAI,EAAE,cAFA;AAGN8E,UAAAA,GAAG,EAAE,mBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,aADD;AAEN7E,UAAAA,IAAI,EAAE,cAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,aADD;AAEN7E,UAAAA,IAAI,EAAE,cAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,MADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,YAjCF;AAkCP1B,QAAAA,KAAK,EAAE,SAlCA;AAmCP6L,QAAAA,YAAY,EAAE,WAnCP;AAoCPC,QAAAA,YAAY,EAAE,eApCP;AAqCPC,QAAAA,UAAU,EAAE,oBArCL;AAsCPC,QAAAA,KAAK,EAAE,gBAtCA;AAuCPC,QAAAA,IAAI,EAAE,UAvCC;AAwCPC,QAAAA,KAAK,EAAE,WAxCA;AAyCPC,QAAAA,MAAM,EAAE,WAzCD;AA0CPhF,QAAAA,KAAK,EAAE,WA1CA;AA2CPiF,QAAAA,MAAM,EAAE,UA3CD;AA4CP5F,QAAAA,IAAI,EAAE,SA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,QADE;AAERC,QAAAA,MAAM,EAAE,eAFA;AAGRC,QAAAA,MAAM,EAAE,MAHA;AAIRC,QAAAA,cAAc,EAAE,sBAJR;AAKRC,QAAAA,cAAc,EAAE,sBALR;AAMRC,QAAAA,SAAS,EAAE,aANH;AAORC,QAAAA,kBAAkB,EAAE,uBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,wBARX;AASRC,QAAAA,YAAY,EAAE,cATN;AAURC,QAAAA,gBAAgB,EAAE,yBAVV;AAWRC,QAAAA,SAAS,EAAE,sBAXH;AAYRC,QAAAA,QAAQ,EAAE,qBAZF;AAaRC,QAAAA,QAAQ,EAAE,qBAbF;AAcRC,QAAAA,QAAQ,EAAE,qBAdF;AAeRC,QAAAA,QAAQ,EAAE,sBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,8BAhBV;AAiBRC,QAAAA,cAAc,EAAE,4BAjBR;AAkBRC,QAAAA,UAAU,EAAE,cAlBJ;AAmBRC,QAAAA,WAAW,EAAE,eAnBL;AAoBRC,QAAAA,OAAO,EAAE,oBApBD;AAqBRC,QAAAA,OAAO,EAAE,mBArBD;AAsBRC,QAAAA,WAAW,EAAE,iBAtBL;AAuBRC,QAAAA,UAAU,EAAE,cAvBJ;AAwBRC,QAAAA,UAAU,EAAE,iBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,iBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,aADN;AAEFC,QAAAA,QAAQ,EAAE,WAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,kBAJX;AAKFC,QAAAA,MAAM,EAAE,MALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CAhkWG;AAikWV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,KADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,UADJ;AAELC,QAAAA,IAAI,EAAE,gBAFD;AAGLC,QAAAA,IAAI,EAAE,MAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,UALL;AAMLC,QAAAA,IAAI,EAAE,SAND;AAOLC,QAAAA,SAAS,EAAE,oBAPN;AAQLC,QAAAA,MAAM,EAAE,KARH;AASLC,QAAAA,MAAM,EAAE,oBATH;AAULC,QAAAA,SAAS,EAAE,WAVN;AAWLC,QAAAA,WAAW,EAAE,SAXR;AAYLC,QAAAA,YAAY,EAAE,gBAZT;AAaLC,QAAAA,SAAS,EAAE,aAbN;AAcLC,QAAAA,WAAW,EAAE,iBAdR;AAeLC,QAAAA,MAAM,EAAE,kBAfH;AAgBLC,QAAAA,OAAO,EAAE,gBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,UAjBF;AAkBLC,QAAAA,SAAS,EAAE,UAlBN;AAmBLC,QAAAA,UAAU,EAAE,UAnBP;AAoBLC,QAAAA,WAAW,EAAE,SApBR;AAqBLC,QAAAA,YAAY,EAAE,qBArBT;AAsBLC,QAAAA,IAAI,EAAE,MAtBD;AAuBLC,QAAAA,SAAS,EAAE,eAvBN;AAwBLC,QAAAA,WAAW,EAAE,kBAxBR;AAyBLC,QAAAA,cAAc,EAAE,aAzBX;AA0BLC,QAAAA,QAAQ,EAAE,OA1BL;AA2BLC,QAAAA,SAAS,EAAE,eA3BN;AA4BLC,QAAAA,SAAS,EAAE,SA5BN;AA6BLC,QAAAA,KAAK,EAAE,OA7BF;AA8BLC,QAAAA,IAAI,EAAE,UA9BD;AA+BLC,QAAAA,IAAI,EAAE,SA/BD;AAgCLC,QAAAA,KAAK,EAAE,OAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,cAnCP;AAoCLC,QAAAA,UAAU,EAAE,eApCP;AAqCLC,QAAAA,QAAQ,EAAE,iBArCL;AAsCLC,QAAAA,IAAI,EAAE,kBAtCD;AAuCLC,QAAAA,IAAI,EAAE,eAvCD;AAwCLC,QAAAA,OAAO,EAAE,UAxCJ;AAyCLC,QAAAA,KAAK,EAAE,OAzCF;AA0CLC,QAAAA,KAAK,EAAE,YA1CF;AA2CLC,QAAAA,OAAO,EAAE,gBA3CJ;AA4CLC,QAAAA,KAAK,EAAE,SA5CF;AA6CLC,QAAAA,cAAc,EAAE,MA7CX;AA8CLC,QAAAA,OAAO,EAAE,KA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,MA/CL;AAgDLC,QAAAA,UAAU,EAAE,WAhDP;AAiDLC,QAAAA,cAAc,EAAE,mBAjDX;AAkDLC,QAAAA,SAAS,EAAE,cAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,gBADF;AAELC,UAAAA,GAAG,EAAE,UAFA;AAGLC,UAAAA,IAAI,EAAE,iBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,SADF;AAELK,UAAAA,UAAU,EAAE,qBAFP;AAGLC,UAAAA,aAAa,EAAE,gBAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE,iBAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,eADD;AAEN7E,UAAAA,IAAI,EAAE,mBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,UADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,mBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,QAlCA;AAmCP6L,QAAAA,YAAY,EAAE,OAnCP;AAoCPC,QAAAA,YAAY,EAAE,8BApCP;AAqCPC,QAAAA,UAAU,EAAE,6BArCL;AAsCPC,QAAAA,KAAK,EAAE,YAtCA;AAuCPC,QAAAA,IAAI,EAAE,MAvCC;AAwCPC,QAAAA,KAAK,EAAE,MAxCA;AAyCPC,QAAAA,MAAM,EAAE,UAzCD;AA0CPhF,QAAAA,KAAK,EAAE,MA1CA;AA2CPiF,QAAAA,MAAM,EAAE,QA3CD;AA4CP5F,QAAAA,IAAI,EAAE,UA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,aADE;AAERC,QAAAA,MAAM,EAAE,iBAFA;AAGRC,QAAAA,MAAM,EAAE,WAHA;AAIRC,QAAAA,cAAc,EAAE,6BAJR;AAKRC,QAAAA,cAAc,EAAE,8BALR;AAMRC,QAAAA,SAAS,EAAE,cANH;AAORC,QAAAA,kBAAkB,EAAE,8BAPZ;AAQRC,QAAAA,iBAAiB,EAAE,4BARX;AASRC,QAAAA,YAAY,EAAE,iBATN;AAURC,QAAAA,gBAAgB,EAAE,sBAVV;AAWRC,QAAAA,SAAS,EAAE,yBAXH;AAYRC,QAAAA,QAAQ,EAAE,wBAZF;AAaRC,QAAAA,QAAQ,EAAE,wBAbF;AAcRC,QAAAA,QAAQ,EAAE,wBAdF;AAeRC,QAAAA,QAAQ,EAAE,qBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,6CAhBV;AAiBRC,QAAAA,cAAc,EAAE,4CAjBR;AAkBRC,QAAAA,UAAU,EAAE,wBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,wBAnBL;AAoBRC,QAAAA,OAAO,EAAE,sBApBD;AAqBRC,QAAAA,OAAO,EAAE,mBArBD;AAsBRC,QAAAA,WAAW,EAAE,iBAtBL;AAuBRC,QAAAA,UAAU,EAAE,qBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,yBAxBJ;AAyBRC,QAAAA,eAAe,EAAE,sBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,cADN;AAEFC,QAAAA,QAAQ,EAAE,eAFR;AAGFC,QAAAA,IAAI,EAAE,MAHJ;AAIFC,QAAAA,WAAW,EAAE,oBAJX;AAKFC,QAAAA,MAAM,EAAE,QALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,KAA7C,EAAoD;AAChDpS,QAAAA,UAAU,EAAE,IADoC;AAEhD8E,QAAAA,QAAQ,EAAE,IAFsC;AAGhDC,QAAAA,YAAY,EAAE,IAHkC;AAIhD1E,QAAAA,KAAK,EAAEoF;AAJyC,OAApD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CA7vWG;AA8vWV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;;AASC,aAAUqC,MAAV,EAAkBC,OAAlB,EAA2B;AACxB,QAAK,QAAQ,OAAO1C,MAAM,CAACC,OAAd,KAA0B,QAAvC,EAAiD;AAC7CD,MAAAA,MAAM,CAACC,OAAP,GAAiBwC,MAAM,CAACE,QAAP,GACbD,OAAO,CAACD,MAAD,EAAS,IAAT,CADM,GAEb,UAAUG,CAAV,EAAa;AACT,YAAI,CAACA,CAAC,CAACD,QAAP,EAAiB;AACb,gBAAM,IAAIE,KAAJ,CAAU,yCAAV,CAAN;AACH;;AACD,eAAOH,OAAO,CAACE,CAAD,CAAd;AACH,OAPL;AAQH,KATD,MASO;AACHF,MAAAA,OAAO,CAACD,MAAD,CAAP;AACH;AACJ,GAbA,EAaC,OAAOK,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC,IAb1C,EAagD,UAAUA,MAAV,EAAkBC,QAAlB,EAA4B;AACzE,UAAM2D,IAAI,GAAG;AACT6F,MAAAA,IAAI,EAAE,IADG;AAETC,MAAAA,OAAO,EAAE;AACLC,QAAAA,OAAO,EAAE,aADJ;AAELC,QAAAA,IAAI,EAAE,UAFD;AAGLC,QAAAA,IAAI,EAAE,OAHD;AAILC,QAAAA,OAAO,EAAE,SAJJ;AAKLC,QAAAA,QAAQ,EAAE,eALL;AAMLC,QAAAA,IAAI,EAAE,aAND;AAOLC,QAAAA,SAAS,EAAE,WAPN;AAQLC,QAAAA,MAAM,EAAE,YARH;AASLC,QAAAA,MAAM,EAAE,eATH;AAULC,QAAAA,SAAS,EAAE,aAVN;AAWLC,QAAAA,WAAW,EAAE,YAXR;AAYLC,QAAAA,YAAY,EAAE,gBAZT;AAaLC,QAAAA,SAAS,EAAE,aAbN;AAcLC,QAAAA,WAAW,EAAE,0BAdR;AAeLC,QAAAA,MAAM,EAAE,mBAfH;AAgBLC,QAAAA,OAAO,EAAE,kBAhBJ;AAiBLC,QAAAA,KAAK,EAAE,YAjBF;AAkBLC,QAAAA,SAAS,EAAE,oBAlBN;AAmBLC,QAAAA,UAAU,EAAE,kBAnBP;AAoBLC,QAAAA,WAAW,EAAE,SApBR;AAqBLC,QAAAA,YAAY,EAAE,SArBT;AAsBLC,QAAAA,IAAI,EAAE,UAtBD;AAuBLC,QAAAA,SAAS,EAAE,YAvBN;AAwBLC,QAAAA,WAAW,EAAE,UAxBR;AAyBLC,QAAAA,cAAc,EAAE,oBAzBX;AA0BLC,QAAAA,QAAQ,EAAE,OA1BL;AA2BLC,QAAAA,SAAS,EAAE,UA3BN;AA4BLC,QAAAA,SAAS,EAAE,OA5BN;AA6BLC,QAAAA,KAAK,EAAE,QA7BF;AA8BLC,QAAAA,IAAI,EAAE,OA9BD;AA+BLC,QAAAA,IAAI,EAAE,YA/BD;AAgCLC,QAAAA,KAAK,EAAE,QAhCF;AAiCLC,QAAAA,KAAK,EAAE,OAjCF;AAkCLC,QAAAA,KAAK,EAAE,OAlCF;AAmCLC,QAAAA,UAAU,EAAE,mBAnCP;AAoCLC,QAAAA,UAAU,EAAE,gBApCP;AAqCLC,QAAAA,QAAQ,EAAE,YArCL;AAsCLC,QAAAA,IAAI,EAAE,SAtCD;AAuCLC,QAAAA,IAAI,EAAE,UAvCD;AAwCLC,QAAAA,OAAO,EAAE,iBAxCJ;AAyCLC,QAAAA,KAAK,EAAE,QAzCF;AA0CLC,QAAAA,KAAK,EAAE,WA1CF;AA2CLC,QAAAA,OAAO,EAAE,eA3CJ;AA4CLC,QAAAA,KAAK,EAAE,SA5CF;AA6CLC,QAAAA,cAAc,EAAE,QA7CX;AA8CLC,QAAAA,OAAO,EAAE,MA9CJ;AA+CLC,QAAAA,QAAQ,EAAE,QA/CL;AAgDLC,QAAAA,UAAU,EAAE,kBAhDP;AAiDLC,QAAAA,cAAc,EAAE,iBAjDX;AAkDLC,QAAAA,SAAS,EAAE,cAlDN;AAmDLC,QAAAA,YAAY,EAAE;AAnDT,OAFA;AAuDThJ,MAAAA,SAAS,EAAE;AACPiJ,QAAAA,OAAO,EAAE;AACLC,UAAAA,KAAK,EAAE,gBADF;AAELC,UAAAA,GAAG,EAAE,YAFA;AAGLC,UAAAA,IAAI,EAAE,mBAHD;AAILC,UAAAA,cAAc,EAAE;AAJX,SADF;AAOPC,QAAAA,OAAO,EAAE;AACLJ,UAAAA,KAAK,EAAE,YADF;AAELK,UAAAA,UAAU,EAAE,sBAFP;AAGLC,UAAAA,aAAa,EAAE,eAHV;AAILC,UAAAA,YAAY,EAAE;AAJT,SAPF;AAaPC,QAAAA,QAAQ,EAAE;AACNR,UAAAA,KAAK,EAAE,iBADD;AAEN7E,UAAAA,IAAI,EAAE,wBAFA;AAGN8E,UAAAA,GAAG,EAAE,YAHC;AAINQ,UAAAA,OAAO,EAAE;AAJH,SAbH;AAmBPC,QAAAA,QAAQ,EAAE;AACNV,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,wBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAnBH;AAwBPU,QAAAA,QAAQ,EAAE;AACNX,UAAAA,KAAK,EAAE,gBADD;AAEN7E,UAAAA,IAAI,EAAE,wBAFA;AAGN8E,UAAAA,GAAG,EAAE;AAHC,SAxBH;AA6BPW,QAAAA,OAAO,EAAE;AACLxH,UAAAA,IAAI,EAAE,MADD;AAELyH,UAAAA,MAAM,EAAE;AAFH,SA7BF;AAiCPlK,QAAAA,OAAO,EAAE,mBAjCF;AAkCP1B,QAAAA,KAAK,EAAE,SAlCA;AAmCP6L,QAAAA,YAAY,EAAE,UAnCP;AAoCPC,QAAAA,YAAY,EAAE,UApCP;AAqCPC,QAAAA,UAAU,EAAE,sBArCL;AAsCPC,QAAAA,KAAK,EAAE,iBAtCA;AAuCPC,QAAAA,IAAI,EAAE,WAvCC;AAwCPC,QAAAA,KAAK,EAAE,aAxCA;AAyCPC,QAAAA,MAAM,EAAE,QAzCD;AA0CPhF,QAAAA,KAAK,EAAE,SA1CA;AA2CPiF,QAAAA,MAAM,EAAE,UA3CD;AA4CP5F,QAAAA,IAAI,EAAE,QA5CC;AA6CP6F,QAAAA,KAAK,EAAE;AA7CA,OAvDF;AAsGTC,MAAAA,UAAU,EAAE;AACRC,QAAAA,IAAI,EAAE,SADE;AAERC,QAAAA,MAAM,EAAE,WAFA;AAGRC,QAAAA,MAAM,EAAE,QAHA;AAIRC,QAAAA,cAAc,EAAE,qBAJR;AAKRC,QAAAA,cAAc,EAAE,sBALR;AAMRC,QAAAA,SAAS,EAAE,aANH;AAORC,QAAAA,kBAAkB,EAAE,wBAPZ;AAQRC,QAAAA,iBAAiB,EAAE,sBARX;AASRC,QAAAA,YAAY,EAAE,eATN;AAURo/B,QAAAA,cAAc,EAAE,0BAVR;AAWRl/B,QAAAA,SAAS,EAAE,oBAXH;AAYRC,QAAAA,QAAQ,EAAE,mBAZF;AAaRC,QAAAA,QAAQ,EAAE,mBAbF;AAcRC,QAAAA,QAAQ,EAAE,mBAdF;AAeRC,QAAAA,QAAQ,EAAE,sBAfF;AAgBRC,QAAAA,gBAAgB,EAAE,uBAhBV;AAiBRC,QAAAA,cAAc,EAAE,qBAjBR;AAkBRC,QAAAA,UAAU,EAAE,oBAlBJ;AAmBRC,QAAAA,WAAW,EAAE,kBAnBL;AAoBRC,QAAAA,OAAO,EAAE,oBApBD;AAqBRC,QAAAA,OAAO,EAAE,mBArBD;AAsBRC,QAAAA,WAAW,EAAE,iBAtBL;AAuBRC,QAAAA,UAAU,EAAE,gBAvBJ;AAwBRC,QAAAA,UAAU,EAAE,eAxBJ;AAyBRC,QAAAA,eAAe,EAAE,wBAzBT;AA0BRC,QAAAA,aAAa,EAAE;AA1BP,OAtGH;AAkITC,MAAAA,IAAI,EAAE;AACFC,QAAAA,MAAM,EAAE,aADN;AAEFC,QAAAA,QAAQ,EAAE,WAFR;AAGFC,QAAAA,IAAI,EAAE,OAHJ;AAIFC,QAAAA,WAAW,EAAE,aAJX;AAKFC,QAAAA,MAAM,EAAE,KALN;AAMF7G,QAAAA,IAAI,EAAE;AANJ;AAlIG,KAAb;;AA4IA,QAAI,OAAOxJ,QAAP,KAAoB,OAAO8C,SAA/B,EAA0C;AACtC,UAAI,CAAC/C,MAAM,CAACuQ,cAAZ,EAA4B;AACxBtS,QAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAtB,EAA8B,gBAA9B,EAAgD;AAC5C7B,UAAAA,UAAU,EAAE,IADgC;AAE5C8E,UAAAA,QAAQ,EAAE,KAFkC;AAG5CC,UAAAA,YAAY,EAAE,KAH8B;AAI5C1E,UAAAA,KAAK,EAAE;AAJqC,SAAhD;AAMH;;AAEDP,MAAAA,MAAM,CAACC,cAAP,CAAsB8B,MAAM,CAACuQ,cAA7B,EAA6C,IAA7C,EAAmD;AAC/CpS,QAAAA,UAAU,EAAE,IADmC;AAE/C8E,QAAAA,QAAQ,EAAE,IAFqC;AAG/CC,QAAAA,YAAY,EAAE,IAHiC;AAI/C1E,QAAAA,KAAK,EAAEoF;AAJwC,OAAnD;AAMH;;AAED,WAAOA,IAAP;AACH,GA7KA,CAAD;AA+KA;;AAAO,CA17WG;AA27WV;;AACA;AAAO,UAAS1G,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;AASA,MAAI8wC,oBAAoB,GAAG9wC,mBAAmB,CAAC,EAAD,CAA9C;;AAEA,WAAS+wC,aAAT,GAAyB,CAAE;;AAC3B,WAASC,sBAAT,GAAkC,CAAE;;AACpCA,EAAAA,sBAAsB,CAACC,iBAAvB,GAA2CF,aAA3C;;AAEAnxC,EAAAA,MAAM,CAACC,OAAP,GAAiB,YAAW;AAC1B,aAASqxC,IAAT,CAAcC,KAAd,EAAqBC,QAArB,EAA+BC,aAA/B,EAA8CC,QAA9C,EAAwDC,YAAxD,EAAsEC,MAAtE,EAA8E;AAC5E,UAAIA,MAAM,KAAKV,oBAAf,EAAqC;AACnC;AACA;AACD;;AACD,UAAI3oC,GAAG,GAAG,IAAI1F,KAAJ,CACR,yFACA,+CADA,GAEA,gDAHQ,CAAV;AAKA0F,MAAAA,GAAG,CAAC3H,IAAJ,GAAW,qBAAX;AACA,YAAM2H,GAAN;AACD;;AAAA;AACD+oC,IAAAA,IAAI,CAACO,UAAL,GAAkBP,IAAlB;;AACA,aAASQ,OAAT,GAAmB;AACjB,aAAOR,IAAP;AACD;;AAAA,KAjByB,CAkB1B;AACA;;AACA,QAAIS,cAAc,GAAG;AACnBC,MAAAA,KAAK,EAAEV,IADY;AAEnBW,MAAAA,IAAI,EAAEX,IAFa;AAGnBY,MAAAA,IAAI,EAAEZ,IAHa;AAInB1hB,MAAAA,MAAM,EAAE0hB,IAJW;AAKnBrvC,MAAAA,MAAM,EAAEqvC,IALW;AAMnBa,MAAAA,MAAM,EAAEb,IANW;AAOnBc,MAAAA,MAAM,EAAEd,IAPW;AASnBe,MAAAA,GAAG,EAAEf,IATc;AAUnBgB,MAAAA,OAAO,EAAER,OAVU;AAWnBxtC,MAAAA,OAAO,EAAEgtC,IAXU;AAYnBiB,MAAAA,WAAW,EAAEjB,IAZM;AAanBkB,MAAAA,UAAU,EAAEV,OAbO;AAcnBt9B,MAAAA,IAAI,EAAE88B,IAda;AAenBmB,MAAAA,QAAQ,EAAEX,OAfS;AAgBnBY,MAAAA,KAAK,EAAEZ,OAhBY;AAiBnBa,MAAAA,SAAS,EAAEb,OAjBQ;AAkBnBc,MAAAA,KAAK,EAAEd,OAlBY;AAmBnBe,MAAAA,KAAK,EAAEf,OAnBY;AAqBnBgB,MAAAA,cAAc,EAAE1B,sBArBG;AAsBnBC,MAAAA,iBAAiB,EAAEF;AAtBA,KAArB;AAyBAY,IAAAA,cAAc,CAACgB,SAAf,GAA2BhB,cAA3B;AAEA,WAAOA,cAAP;AACD,GAhDD;AAmDA;;AAAO,CAjgXG;AAkgXV;;AACA;AAAO,UAAS/xC,MAAT,EAAiBC,OAAjB,EAA0BG,mBAA1B,EAA+C;AAEtD;AACA;;;;;;;AASA,MAAI8wC,oBAAoB,GAAG,8CAA3B;AAEAlxC,EAAAA,MAAM,CAACC,OAAP,GAAiBixC,oBAAjB;AAGA;AAAO,CAphXG;AAqhXV;;AACA;AAAO,UAASlxC,MAAT,EAAiBsT,mBAAjB,EAAsClT,mBAAtC,EAA2D;AAElE,eAFkE,CAGlE;;AACAA,EAAAA,mBAAmB,CAACe,CAApB,CAAsBmS,mBAAtB,EAJkE,CAMlE;;;AACAlT,EAAAA,mBAAmB,CAACO,CAApB,CAAsB2S,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE;AAAO;AAAe0/B,MAAAA;AAAtB;AAAmD,GAAzH,EAPkE,CASlE;;;AACA,MAAIA,0BAA0B,GAAG,EAAjC;;AACA5yC,EAAAA,mBAAmB,CAACe,CAApB,CAAsB6xC,0BAAtB;;AACA5yC,EAAAA,mBAAmB,CAACO,CAApB,CAAsBqyC,0BAAtB,EAAkD,OAAlD,EAA2D,YAAW;AAAE,WAAOliC,KAAP;AAAe,GAAvF;;AACA1Q,EAAAA,mBAAmB,CAACO,CAApB,CAAsBqyC,0BAAtB,EAAkD,SAAlD,EAA6D,YAAW;AAAE,WAAOC,OAAP;AAAiB,GAA3F;;AACA7yC,EAAAA,mBAAmB,CAACO,CAApB,CAAsBqyC,0BAAtB,EAAkD,YAAlD,EAAgE,YAAW;AAAE,WAAOE,UAAP;AAAoB,GAAjG;;AACA9yC,EAAAA,mBAAmB,CAACO,CAApB,CAAsBqyC,0BAAtB,EAAkD,SAAlD,EAA6D,YAAW;AAAE,WAAOG,eAAP;AAAyB,GAAnG,EAfkE,CAiBlE;;;AACA,MAAIriC,KAAK,GAAG,CAAC,CAAC,MAAD,EAAS,UAAT,CAAD,EAAuB,CAAC,WAAD,CAAvB,EAAsC,CAAC,gBAAD,CAAtC,EAA0D,CAAC,MAAD,EAAS,OAAT,CAA1D,CAAZ;AACA,MAAImiC,OAAO,GAAG,CAAC,CAAC,MAAD,EAAS,MAAT,CAAD,EAAmB,CAAC,MAAD,EAAS,UAAT,EAAqB,aAArB,CAAnB,EAAwD,CAAC,MAAD,EAAS,WAAT,EAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD,aAAvD,CAAxD,EAA+H,CAAC,cAAD,CAA/H,EAAiJ,GAAjJ,EAAsJ,CAAC,WAAD,EAAc,aAAd,CAAtJ,EAAoL,CAAC,SAAD,EAAY,QAAZ,CAApL,EAA2M,CAAC,OAAD,EAAU,gBAAV,EAA4B,MAA5B,EAAoC,OAApC,CAA3M,EAAyP,CAAC,MAAD,EAAS,OAAT,EAAkB,OAAlB,CAAzP,EAAqR,CAAC,YAAD,EAAe,YAAf,EAA6B,UAA7B,CAArR,EAA+T,CAAC,SAAD,EAAY,OAAZ,CAA/T,EAAqV,CAAC,MAAD,EAAS,UAAT,CAArV,CAAd;AACA,MAAIC,UAAU,GAAG,CAAC,CAAC,MAAD,EAAS,MAAT,CAAD,EAAmB,CAAC,MAAD,EAAS,WAAT,EAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD,aAAvD,CAAnB,EAA0F,CAAC,cAAD,CAA1F,EAA4G,CAAC,SAAD,EAAY,QAAZ,CAA5G,EAAmI,CAAC,YAAD,EAAe,YAAf,EAA6B,UAA7B,CAAnI,EAA6K,CAAC,SAAD,EAAY,OAAZ,CAA7K,CAAjB;AACA;;AAA6B,MAAIC,eAAe,GAAI;AAClDriC,IAAAA,KADkD;AAElDmiC,IAAAA,OAFkD;AAGlDC,IAAAA;AAHkD,GAAvB,CArBqC,CA0BlE;;AACA,MAAIE,eAAe,GAAGhzC,mBAAmB,CAAC,CAAD,CAAzC;;AACA,MAAIizC,sBAAsB,GAAG,aAAajzC,mBAAmB,CAAC0B,CAApB,CAAsBsxC,eAAtB,CAA1C,CA5BkE,CA8BlE;;AACA;;;;;;;;AASA;;;AAA6B,MAAIE,YAAY,GAAI;AAC9CvkC,IAAAA,IAAI,EAAE,imBADwC;AAE9CD,IAAAA,IAAI,EAAE,mnBAFwC;AAG9ChC,IAAAA,IAAI,EAAE,gtBAHwC;AAI9CC,IAAAA,SAAS,EAAE,qZAJmC;AAK9CC,IAAAA,MAAM,EAAE,uuBALsC;AAM9CC,IAAAA,MAAM,EAAE,i2BANsC;AAO9CC,IAAAA,SAAS,EAAE,yvBAPmC;AAQ9CC,IAAAA,WAAW,EAAE,uxBARiC;AAS9CoH,IAAAA,KAAK,EAAE,6RATuC;AAU9ChH,IAAAA,MAAM,EAAE,m9BAVsC;AAW9CC,IAAAA,OAAO,EAAE,q+BAXqC;AAY9CgpB,IAAAA,SAAS,EAAE,0QAZmC;AAa9CC,IAAAA,SAAS,EAAE,yPAbmC;AAc9C8c,IAAAA,SAAS,EAAE,qwBAdmC;AAe9CvkC,IAAAA,OAAO,EAAE,04BAfqC;AAgB9CC,IAAAA,KAAK,EAAE,s5BAhBuC;AAiB9CM,IAAAA,QAAQ,EAAE,igCAjBoC;AAkB9CikC,IAAAA,WAAW,EAAE,+zCAlBiC;AAmB9CC,IAAAA,eAAe,EAAE,2MAnB6B;AAoB9CC,IAAAA,UAAU,EAAE,ytBApBkC;AAqB9ChnC,IAAAA,IAAI,EAAE,kpBArBwC;AAsB9Cud,IAAAA,UAAU,EAAE,omDAtBkC;AAuB9C0pB,IAAAA,UAAU,EAAE,sVAvBkC;AAwB9Cx8B,IAAAA,aAAa,EAAE,iOAxB+B;AAyB9CC,IAAAA,UAAU,EAAE,wOAzBkC;AA0B9CC,IAAAA,WAAW,EAAE,yOA1BiC;AA2B9CC,IAAAA,YAAY,EAAE,kOA3BgC;AA4B9Cs8B,IAAAA,UAAU,EAAE,uRA5BkC;AA6B9CC,IAAAA,eAAe,EAAC,+SA7B8B;AA8B9ClkB,IAAAA,YAAY,EAAE,giCA9BgC;AA+B9CE,IAAAA,WAAW,EAAE,o7CA/BiC;AAgC9CxhB,IAAAA,KAAK,EAAE,qYAhCuC;AAiC9CylC,IAAAA,eAAe,EAAE,mKAjC6B;AAkC9CC,IAAAA,WAAW,EAAE,kiDAlCiC;AAmC9CzwB,IAAAA,MAAM,EAAE,mlBAnCsC;AAoC9C9U,IAAAA,KAAK,EAAE,gsBApCuC;AAqC9CC,IAAAA,KAAK,EAAE,2qBArCuC;AAsC9CH,IAAAA,IAAI,EAAE,s7CAtCwC;AAuC9CC,IAAAA,IAAI,EAAE,oaAvCwC;AAwC9C+C,IAAAA,MAAM,EAAE,ugBAxCsC;AAyC9CmmB,IAAAA,YAAY,EAAE,8+BAzCgC;AA0C9CI,IAAAA,UAAU,EAAE,6pBA1CkC;AA2C9CI,IAAAA,UAAU,EAAE,0tBA3CkC;AA4C9CzxB,IAAAA,OAAO,EAAE,0eA5CqC;AA6C9C6K,IAAAA,IAAI,EAAE,yoBA7CwC;AA8C9C9F,IAAAA,MAAM,EAAE,wrBA9CsC;AA+C9CgO,IAAAA,MAAM,EAAE,41DA/CsC;AAgD9CD,IAAAA,MAAM,EAAE,wUAhDsC;AAiD9CL,IAAAA,SAAS,EAAE,scAjDmC;AAkD9C0e,IAAAA,gBAAgB,EAAE,u9BAlD4B;AAmD9CD,IAAAA,gBAAgB,EAAE,k9BAnD4B;AAoD9CI,IAAAA,kBAAkB,EAAE,u8BApD0B;AAqD9CC,IAAAA,mBAAmB,EAAE,s9BArDyB;AAsD9CH,IAAAA,UAAU,EAAE,sxBAtDkC;AAuD9CI,IAAAA,aAAa,EAAE,i7BAvD+B;AAwD9CR,IAAAA,kBAAkB,EAAE,gNAxD0B;AAyD9Cte,IAAAA,WAAW,EAAE,4sGAzDiC;AA0D9CC,IAAAA,YAAY,EAAE,s7GA1DgC;AA2D9CC,IAAAA,iBAAiB,EAAE,4LA3D2B;AA4D9CC,IAAAA,eAAe,EAAE,8LA5D6B;AA6D9C/E,IAAAA,OAAO,EAAE,sWA7DqC;AA8D9C0/B,IAAAA,UAAU,EAAE,6RA9DkC;AA+D9CtlC,IAAAA,KAAK,EAAE,wSA/DuC;AAgE9C81B,IAAAA,aAAa,EAAE,iiCAhE+B;AAiE9C;AACAyP,IAAAA,SAAS,EAAE,6vDAlEmC;AAmE9CC,IAAAA,cAAc,EAAE,kyCAnE8B;AAoE9CC,IAAAA,SAAS,EAAE,k5CApEmC;AAqE9CC,IAAAA,eAAe,EAAE,mnBArE6B;AAsE9CC,IAAAA,aAAa,EAAE,0oBAtE+B;AAuE9C;AACAC,IAAAA,UAAU,EAAE,0fAxEkC;AAyE9Cl+B,IAAAA,GAAG,EAAE,gvBAzEyC;AA0E9Cm+B,IAAAA,WAAW,EAAE,qqBA1EiC;AA2E9CC,IAAAA,UAAU,EAAE;AA3EkC,GAApB,CAxCqC,CAqHlE;;AACA,MAAIC,EAAE,GAAGr0C,mBAAmB,CAAC,CAAD,CAA5B;;AACA,MAAIs0C,UAAU,GAAG,aAAat0C,mBAAmB,CAAC0B,CAApB,CAAsB2yC,EAAtB,CAA9B,CAvHkE,CAyHlE;;AACA;;;;;;;;AASA;;;;;AAGA,QAAME,SAAS,GAAG;AACdxvC,IAAAA,EAAE,EAAE,IADU;AAEduC,IAAAA,EAAE,EAAE,IAFU;AAGdktC,IAAAA,IAAI,EAAE,IAHQ;AAIdC,IAAAA,SAAS,EAAE,IAJG;AAKdC,IAAAA,SAAS,EAAE,IALG;AAMdC,IAAAA,eAAe,EAAE,YAAY;AACzB,UAAI,KAAK5vC,EAAT,EAAa;AACb,WAAKA,EAAL,GAAWxC,QAAX;AACA,WAAK+E,EAAL,GAAU5E,MAAV;AACA,WAAK8xC,IAAL,GAAYI,SAAS,CAACC,SAAV,CAAoBrqC,OAApB,CAA4B,SAA5B,IAAyC,CAAC,CAAtD;AACA,WAAKiqC,SAAL,GAAkBG,SAAS,CAACC,SAAV,CAAoBrqC,OAApB,CAA4B,SAA5B,IAAyC,CAAC,CAA3C,IAAkDoqC,SAAS,CAACE,UAAV,CAAqBtqC,OAArB,CAA6B,MAA7B,IAAuC,CAAC,CAA3G;AACA,WAAKkqC,SAAL,GAAiB,yBAAyBrwC,IAAzB,CAA8BuwC,SAAS,CAACG,QAAxC,CAAjB;AACH,KAba;;AAed;;;;;;AAMAC,IAAAA,cAAc,EAAE,UAAUC,QAAV,EAAoB;AAChC,YAAMrnB,EAAE,GAAG;AAAC,aAAK,OAAN;AAAe,kBAAU,QAAzB;AAAmC,cAAM,QAAzC;AAAmD,aAAK,QAAxD;AAAkE,aAAK,MAAvE;AAA+E,aAAK;AAApF,OAAX;AACA,aAAOqnB,QAAQ,CAACr6B,OAAT,CAAiB,mBAAjB,EAAsC,UAAUva,CAAV,EAAa;AACtD,eAAQ,OAAOutB,EAAE,CAACvtB,CAAD,CAAT,KAAiB,QAAlB,GAA8ButB,EAAE,CAACvtB,CAAD,CAAhC,GAAsCA,CAA7C;AACH,OAFM,CAAP;AAGH,KA1Ba;;AA4Bd;;;AAGAooB,IAAAA,cAAc,EAAEysB,MAAM,CAACC,YAAP,CAAoB,IAApB,CA/BF;;AAiCd;;;AAGAC,IAAAA,eAAe,EAAE,IAAIC,MAAJ,CAAWH,MAAM,CAACC,YAAP,CAAoB,IAApB,CAAX,EAAsC,GAAtC,CApCH;;AAsCd;;;AAGAG,IAAAA,mBAAmB,EAAE,IAAID,MAAJ,CAAW,MAAMH,MAAM,CAACC,YAAP,CAAoB,IAApB,CAAN,GAAkC,IAA7C,CAzCP;;AA2Cd;;;;;AAKAzW,IAAAA,kBAAkB,EAAE,UAAU/uB,IAAV,EAAgB;AAChC,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAGA,IAAI,CAAC4P,WAAZ;AAC9B,aAAO5P,IAAI,KAAK,EAAT,IAAe,KAAK2lC,mBAAL,CAAyBjxC,IAAzB,CAA8BsL,IAA9B,CAAtB;AACH,KAnDa;;AAqDd;;;;AAIAxI,IAAAA,iBAAiB,EAAE,YAAY;AAC3B;AACA,UAAI,KAAKG,EAAL,CAAQiuC,aAAZ,EAA2B;AACvB,YAAI;AACA,iBAAO,IAAIA,aAAJ,CAAkB,gBAAlB,CAAP;AACH,SAFD,CAEE,OAAOnxC,CAAP,EAAU;AACR,cAAI;AACA,mBAAO,IAAImxC,aAAJ,CAAkB,mBAAlB,CAAP;AACH,WAFD,CAEE,OAAOC,EAAP,EAAW;AACT,mBAAO,IAAP;AACH;AACJ;AACJ;AACD;AAXA,WAYK,IAAI,KAAKluC,EAAL,CAAQmuC,cAAZ,EAA4B;AAC7B,iBAAO,IAAIA,cAAJ,EAAP;AACH;AACD;AAHK,aAIA;AACD,mBAAO,IAAP;AACH;AACJ,KA9Ea;;AAgFd;;;;;AAKApyC,IAAAA,aAAa,EAAE,UAAUqyC,WAAV,EAAuB;AAClC,aAAO,KAAK3wC,EAAL,CAAQ1B,aAAR,CAAsBqyC,WAAtB,CAAP;AACH,KAvFa;;AAyFd;;;;;AAKAltB,IAAAA,cAAc,EAAE,UAAU7Y,IAAV,EAAgB;AAC5B,aAAO,KAAK5K,EAAL,CAAQyjB,cAAR,CAAuB7Y,IAAI,IAAI,EAA/B,CAAP;AACH,KAhGa;;AAkGd;;;;;;;AAOAwY,IAAAA,WAAW,EAAE,UAAU8sB,QAAV,EAAoB;AAC7B,YAAMrnB,EAAE,GAAG;AAAC,aAAK,MAAN;AAAc,aAAK;AAAnB,OAAX;AACA,aAAOqnB,QAAQ,CAACr6B,OAAT,CAAiB,MAAjB,EAAyB,UAAUva,CAAV,EAAa;AACzC,eAAQ,OAAOutB,EAAE,CAACvtB,CAAD,CAAT,KAAiB,QAAlB,GAA8ButB,EAAE,CAACvtB,CAAD,CAAhC,GAAsCA,CAA7C;AACH,OAFM,CAAP;AAGH,KA9Ga;;AAgHd;;;;;;;AAOAqnB,IAAAA,WAAW,EAAE,UAAUutB,QAAV,EAAoB;AAC7B,YAAMrnB,EAAE,GAAG;AAAC,gBAAQ,GAAT;AAAc,gBAAQ;AAAtB,OAAX;AACA,aAAOqnB,QAAQ,CAACr6B,OAAT,CAAiB,cAAjB,EAAiC,UAAUva,CAAV,EAAa;AACjD,eAAQ,OAAOutB,EAAE,CAACvtB,CAAD,CAAT,KAAiB,QAAlB,GAA8ButB,EAAE,CAACvtB,CAAD,CAAhC,GAAsCA,CAA7C;AACH,OAFM,CAAP;AAGH,KA5Ha;;AA8Hd;;;;;;AAMA6rC,IAAAA,MAAM,EAAE,UAAUyJ,GAAV,EAAen0C,GAAf,EAAoB;AACxB,aAAO,KAAKo0C,OAAL,CAAax1C,IAAb,CAAkBu1C,GAAlB,EAAuBn0C,GAAvB,CAAP;AACH,KAtIa;AAuIdo0C,IAAAA,OAAO,EAAEj1C,MAAM,CAACoB,SAAP,CAAiBC,cAvIZ;;AAyId;;;;;;;;AAQA6zC,IAAAA,cAAc,EAAE,UAAUC,SAAV,EAAqBC,SAArB,EAAgC;AAC5C,UAAIC,IAAI,GAAG,EAAX;AACA,YAAMC,QAAQ,GAAG,EAAjB;AACA,YAAMnxB,OAAO,GAAGixB,SAAS,KAAK,IAAd,GAAqB,QAArB,GAAgC,MAAhD;AACA,YAAMpsC,GAAG,GAAGosC,SAAS,KAAK,IAAd,GAAqB,KAArB,GAA6B,MAAzC;AAEA,UAAIG,QAAQ,GAAG,KAAf;;AACA,WAAK,IAAIh2C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGgtC,SAAS,CAACtuC,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClDg2C,QAAAA,QAAQ,IAAIJ,SAAS,CAAC51C,CAAD,CAAT,IAAgBA,CAAC,GAAG4I,GAAG,GAAG,CAAV,GAAc,GAAd,GAAoB,GAApC,CAAZ;AACH;;AAED,YAAMqtC,MAAM,GAAG,IAAI,KAAK7uC,EAAL,CAAQ+tC,MAAZ,CAAmB,gBAAgBa,QAAhB,GAA2B,iBAA3B,GAA+CH,SAA/C,GAA2D,iBAA9E,EAAiG,GAAjG,CAAf;AACA,YAAMK,SAAS,GAAG,IAAI,KAAK9uC,EAAL,CAAQ+tC,MAAZ,CAAmB,UAAUU,SAAV,GAAsB,iBAAzC,EAA4D,GAA5D,CAAlB;;AAEA,WAAK,IAAIz1C,CAAC,GAAG,KAAKyE,EAAL,CAAQmE,oBAAR,CAA6B4b,OAA7B,CAAR,EAA+C5kB,CAAC,GAAG,CAAxD,EAA2DA,CAAC,GAAGI,CAAC,CAACkH,MAAjE,EAAyEtH,CAAC,EAA1E,EAA8E;AAC1E,YAAIk2C,SAAS,CAAC/xC,IAAV,CAAe/D,CAAC,CAACJ,CAAD,CAAD,CAAKyJ,GAAL,CAAf,CAAJ,EAA+B;AAC3BssC,UAAAA,QAAQ,CAAC3rC,IAAT,CAAchK,CAAC,CAACJ,CAAD,CAAf;AACH;AACJ;;AAED,WAAK,IAAIA,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+1C,QAAQ,CAACzuC,MAA7B,EAAqCtH,CAAC,EAAtC,EAA0C;AACtC,YAAIm2C,SAAS,GAAGJ,QAAQ,CAAC/1C,CAAD,CAAR,CAAYyJ,GAAZ,EAAiB8L,KAAjB,CAAuB0gC,MAAvB,CAAhB;;AACA,YAAIE,SAAJ,EAAe;AACXL,UAAAA,IAAI,GAAGK,SAAS,CAAC,CAAD,CAAhB;AACA;AACH;AACJ;;AAED,UAAIL,IAAI,KAAK,EAAb,EAAiBA,IAAI,GAAGC,QAAQ,CAACzuC,MAAT,GAAkB,CAAlB,GAAsByuC,QAAQ,CAAC,CAAD,CAAR,CAAYtsC,GAAZ,CAAtB,GAAyC,EAAhD;AAEjB,OAAC,CAAD,KAAOqsC,IAAI,CAACxrC,OAAL,CAAa,IAAb,CAAP,IAA6B,SAASwrC,IAAI,CAAChtC,KAAL,CAAW,CAAX,EAAc,CAAd,CAAtC,KAA2DgtC,IAAI,GAAG,MAAMA,IAAI,CAACxrC,OAAL,CAAa,GAAb,CAAN,GAA0B8mC,QAAQ,CAACzJ,IAAT,CAAcpyB,KAAd,CAAoB,iBAApB,EAAuC,CAAvC,IAA4CugC,IAAtE,GAA6E1E,QAAQ,CAACzJ,IAAT,CAAcpyB,KAAd,CAAoB,eAApB,EAAqC,CAArC,IAA0CugC,IAAzL;AAEA,UAAI,CAACA,IAAL,EAAW,MAAM,uHAAuHx1C,IAAvH,GAA8H,eAA9H,GAAgJu1C,SAAhJ,GAA4J,GAAlK;AAEX,aAAOC,IAAP;AACH,KApLa;;AAsLd;;;;;;AAMAM,IAAAA,YAAY,EAAE,UAAUC,GAAV,EAAe;AACzB,UAAIhV,OAAO,GAAG,EAAd;AACA,YAAMiV,MAAM,GAAG,CAACD,GAAG,IAAI,KAAKxxC,EAAb,EAAiB0xC,WAAhC;;AAEA,WAAK,IAAIv2C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG0tC,MAAM,CAAChvC,MAAxB,EAAgCkvC,KAArC,EAA4Cx2C,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD,YAAI;AACAw2C,UAAAA,KAAK,GAAGF,MAAM,CAACt2C,CAAD,CAAN,CAAUy2C,QAAlB;AACH,SAFD,CAEE,OAAOvyC,CAAP,EAAU;AACR;AACH;;AAED,aAAK,IAAI9D,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAG0jB,KAAK,CAAClvC,MAA7B,EAAqClH,CAAC,GAAG0yB,IAAzC,EAA+C1yB,CAAC,EAAhD,EAAoD;AAChDihC,UAAAA,OAAO,IAAImV,KAAK,CAACp2C,CAAD,CAAL,CAASihC,OAApB;AACH;AACJ;;AAED,aAAOA,OAAP;AACH,KA7Ma;;AA+Md;;;;;AAKAqV,IAAAA,iBAAiB,EAAE,UAAUC,MAAV,EAAkB;AACjC,UAAIC,SAAS,GAAGD,MAAM,CAACE,aAAP,IAAwBF,MAAM,CAACG,eAA/C;AACA,UAAIF,SAAS,CAACv0C,QAAd,EAAwBu0C,SAAS,GAAGA,SAAS,CAACv0C,QAAtB;AACxB,aAAOu0C,SAAP;AACH,KAxNa;;AA0Nd;;;;;;AAMAG,IAAAA,qBAAqB,EAAE,UAAU/yC,OAAV,EAAmBgzC,WAAnB,EAAgC;AACnD,UAAI,CAAChzC,OAAO,CAACizC,UAAb,EAAyB,OAAO,EAAP;AAEzB,YAAM9qB,KAAK,GAAGnoB,OAAO,CAACizC,UAAtB;AACA,UAAIC,UAAU,GAAG,EAAjB;;AAEA,WAAK,IAAIl3C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGujB,KAAK,CAAC7kB,MAA5B,EAAoCtH,CAAC,GAAG4I,GAAxC,EAA6C5I,CAAC,EAA9C,EAAkD;AAC9C,YAAIg3C,WAAW,IAAIA,WAAW,CAAC1sC,OAAZ,CAAoB6hB,KAAK,CAACnsB,CAAD,CAAL,CAASM,IAA7B,IAAqC,CAAC,CAAzD,EAA4D;AAC5D42C,QAAAA,UAAU,IAAI/qB,KAAK,CAACnsB,CAAD,CAAL,CAASM,IAAT,GAAgB,IAAhB,GAAuB6rB,KAAK,CAACnsB,CAAD,CAAL,CAASgB,KAAhC,GAAwC,IAAtD;AACH;;AAED,aAAOk2C,UAAP;AACH,KA5Oa;;AA8Od;;;;;;AAMAC,IAAAA,aAAa,EAAE,UAAS1nC,IAAT,EAAe;AAC1B,YAAM2nC,OAAO,GAAG,KAAKhwC,EAAL,CAAQiwC,kBAAxB;AACA,UAAIC,EAAJ,EAAQC,EAAR;;AACA,UAAI,KAAKhD,SAAT,EAAoB;AAChBgD,QAAAA,EAAE,GAAG,KAAKnwC,EAAL,CAAQowC,QAAR,CAAiBJ,OAAO,CAAC3nC,IAAI,CAAC9F,QAAL,EAAD,CAAxB,EAA2CrC,MAAhD;AACAgwC,QAAAA,EAAE,GAAG,CAAL;;AAEA,YAAIF,OAAO,CAAC3nC,IAAI,CAAC9F,QAAL,EAAD,CAAP,CAAyB4L,KAAzB,CAA+B,aAA/B,MAAkD,IAAtD,EAA4D;AACxD+hC,UAAAA,EAAE,GAAGF,OAAO,CAAC3nC,IAAI,CAAC9F,QAAL,EAAD,CAAP,CAAyB4L,KAAzB,CAA+B,aAA/B,EAA8CjO,MAAnD;AACH;;AAED,eAAOiwC,EAAE,GAAGD,EAAZ;AACH,OATD,MASO;AACHC,QAAAA,EAAE,GAAI,IAAI,KAAKnwC,EAAL,CAAQqwC,WAAZ,CAAwB,OAAxB,EAAiCC,MAAjC,CAAwCjoC,IAAI,CAAC9F,QAAL,EAAxC,CAAD,CAA2DrC,MAAhE;AACAgwC,QAAAA,EAAE,GAAG,CAAL;;AAEA,YAAIF,OAAO,CAAC3nC,IAAI,CAAC9F,QAAL,EAAD,CAAP,CAAyB4L,KAAzB,CAA+B,aAA/B,MAAkD,IAAtD,EAA4D;AACxD+hC,UAAAA,EAAE,GAAGF,OAAO,CAAC3nC,IAAI,CAAC9F,QAAL,EAAD,CAAP,CAAyB4L,KAAzB,CAA+B,aAA/B,EAA8CjO,MAAnD;AACH;;AAED,eAAOiwC,EAAE,GAAGD,EAAZ;AACH;AACJ,KA1Qa;;AA4Qd;;;;;AAKAriC,IAAAA,YAAY,EAAE,UAAUjR,OAAV,EAAmB;AAC7B,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,KAAKmO,QAAL,CAAcrf,OAAd,EAAuB,oBAAvB,KAAgD,UAAUG,IAAV,CAAeH,OAAO,CAACmG,QAAvB,CAAtF,CAAP;AACH,KAnRa;;AAqRd;;;;;AAKAwtC,IAAAA,aAAa,EAAE,UAAU3zC,OAAV,EAAmB;AAC9B,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,IAAqClR,OAAO,CAACM,YAAR,CAAqB,iBAArB,MAA4C,OAAxF;AACH,KA5Ra;;AA8Rd;;;;;;AAMAszC,IAAAA,kBAAkB,EAAE,UAAU5zC,OAAV,EAAmB;AACnC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,IAAqC,gFAAgF/Q,IAAhF,CAAqFH,OAAO,CAACmG,QAA7F,CAA5C;AACH,KAtSa;;AAwSd;;;;;;AAMAwb,IAAAA,eAAe,EAAE,UAAU3hB,OAAV,EAAmB;AAChC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,iCAAiC/Q,IAAjC,CAAsCH,OAAO,CAACmG,QAA9C,KAA2D,KAAKkZ,QAAL,CAAcrf,OAAd,EAAuB,4EAAvB,CAAjG,KAA0M,CAAC,KAAKoY,WAAL,CAAiBpY,OAAjB,CAA3M,IAAwO,CAAC,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAhP;AACH,KAhTa;;AAkTd;;;;;;AAMAquB,IAAAA,oBAAoB,EAAE,UAAUruB,OAAV,EAAmB;AACrC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,8DAA8D/Q,IAA9D,CAAmEH,OAAO,CAACmG,QAA3E,KAAwF,KAAKkZ,QAAL,CAAcrf,OAAd,EAAuB,sCAAvB,CAA9H,CAAP;AACH,KA1Ta;;AA4Td;;;;;;;;;AASA6zC,IAAAA,2BAA2B,EAAE,UAAU7zC,OAAV,EAAmB;AAC5C,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,aAAa/Q,IAAb,CAAkBH,OAAO,CAACmG,QAA1B,KAAuC,KAAKkZ,QAAL,CAAcrf,OAAd,EAAuB,+CAAvB,CAA7E,CAAP;AACH,KAvUa;;AAyUd;;;;;;;;AAQA8zC,IAAAA,mBAAmB,EAAE,UAAU9zC,OAAV,EAAmB;AACpC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,SAAS/Q,IAAT,CAAcH,OAAO,CAACmG,QAAtB,KAAmC,KAAKkZ,QAAL,CAAcrf,OAAd,EAAuB,qCAAvB,CAAzE,KAA2I,CAAC,KAAKoY,WAAL,CAAiBpY,OAAjB,CAA5I,IAAyK,CAAC,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAjL;AACH,KAnVa;;AAqVd;;;;;;;;;AASA+zC,IAAAA,0BAA0B,EAAE,UAAU/zC,OAAV,EAAmB;AAC3C,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,IAAqC,KAAKmO,QAAL,CAAcrf,OAAd,EAAuB,8CAAvB,CAA5C;AACH,KAhWa;;AAkWd;;;;;AAKAoY,IAAAA,WAAW,EAAE,UAAUpY,OAAV,EAAmB;AAC5B,aAAOA,OAAO,KAAK,eAAeG,IAAf,CAAoBH,OAAO,CAACZ,SAA5B,KAA0C,eAAee,IAAf,CAAoBH,OAAO,CAACmG,QAA5B,CAA/C,CAAd;AACH,KAzWa;;AA2Wd;;;;;AAKAF,IAAAA,gBAAgB,EAAE,UAAUjG,OAAV,EAAmB;AACjC,aAAOA,OAAO,IAAI,eAAeG,IAAf,CAAoBH,OAAO,CAACZ,SAA5B,CAAlB;AACH,KAlXa;;AAoXd;;;;;AAKA40C,IAAAA,iBAAiB,EAAE,UAAUh0C,OAAV,EAAmB;AAClC,aAAOA,OAAO,IAAI,kBAAkBG,IAAlB,CAAuBH,OAAO,CAACZ,SAA/B,CAAlB;AACH,KA3Xa;;AA6Xd;;;;;;AAMA6rB,IAAAA,gBAAgB,EAAE,UAAUjrB,OAAV,EAAmBi0C,UAAnB,EAA+B;AAC7C,UAAI,CAACj0C,OAAL,EAAc,OAAO,IAAP;;AACd,UAAI,CAACi0C,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAG,YAAY;AAAE,iBAAO,IAAP;AAAc,SAAzC;AACH;;AAED,aAAOj0C,OAAP,EAAgB;AACZ,YAAI,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAJ,EAAgC,OAAO,IAAP;AAChC,YAAI,KAAKquB,oBAAL,CAA0BruB,OAA1B,CAAJ,EAAwCA,OAAO,CAAC+Y,iBAAR;AACxC,YAAI,KAAK4I,eAAL,CAAqB3hB,OAArB,KAAiCi0C,UAAU,CAACj0C,OAAD,CAA/C,EAA0D,OAAOA,OAAP;AAE1DA,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAO,IAAP;AACH,KAlZa;;AAoZd;;;;;;AAMAwb,IAAAA,qBAAqB,EAAE,UAAU3sB,OAAV,EAAmBi0C,UAAnB,EAA+B;AAClD,UAAI,CAACj0C,OAAL,EAAc,OAAO,IAAP;;AACd,UAAI,CAACi0C,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAG,YAAY;AAAE,iBAAO,IAAP;AAAc,SAAzC;AACH;;AAED,aAAOj0C,OAAP,EAAgB;AACZ,YAAI,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAJ,EAAgC,OAAO,IAAP;AAChC,YAAI,KAAKquB,oBAAL,CAA0BruB,OAA1B,KAAsC,CAAC,sBAAsBG,IAAtB,CAA2BH,OAAO,CAACmG,QAAnC,CAAvC,IAAuF8tC,UAAU,CAACj0C,OAAD,CAArG,EAAgH,OAAOA,OAAP;AAChHA,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAO,IAAP;AACH,KAvaa;;AAyad;;;;;;AAMA+iC,IAAAA,oBAAoB,EAAE,UAAUl0C,OAAV,EAAmBi0C,UAAnB,EAA+B;AACjD,UAAI,CAACj0C,OAAL,EAAc,OAAO,IAAP;;AACd,UAAI,CAACi0C,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAG,YAAY;AAAE,iBAAO,IAAP;AAAc,SAAzC;AACH;;AAED,aAAOj0C,OAAP,EAAgB;AACZ,YAAI,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAJ,EAAgC,OAAO,IAAP;AAChC,YAAI,KAAK8zC,mBAAL,CAAyB9zC,OAAzB,KAAqCi0C,UAAU,CAACj0C,OAAD,CAAnD,EAA8D,OAAOA,OAAP;AAE9DA,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAO,IAAP;AACH,KA7ba;;AA+bd;;;;;;AAMAgjC,IAAAA,2BAA2B,EAAE,UAAUn0C,OAAV,EAAmBi0C,UAAnB,EAA+B;AACxD,UAAI,CAACj0C,OAAL,EAAc,OAAO,IAAP;;AACd,UAAI,CAACi0C,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAG,YAAY;AAAE,iBAAO,IAAP;AAAc,SAAzC;AACH;;AAED,aAAOj0C,OAAP,EAAgB;AACZ,YAAI,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAJ,EAAgC,OAAO,IAAP;AAChC,YAAI,KAAK+zC,0BAAL,CAAgC/zC,OAAhC,KAA4Ci0C,UAAU,CAACj0C,OAAD,CAA1D,EAAqE,OAAOA,OAAP;AAErEA,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAO,IAAP;AACH,KAnda;;AAqdd;;;;;AAKAijC,IAAAA,iBAAiB,EAAE,UAAUC,QAAV,EAAoBC,MAApB,EAA4B;AAC3C,UAAIA,MAAM,CAACh1C,KAAP,CAAa+9B,OAAjB,EAA0B;AACtBgX,QAAAA,QAAQ,CAAC/0C,KAAT,CAAe+9B,OAAf,IAA0BiX,MAAM,CAACh1C,KAAP,CAAa+9B,OAAvC;AACH;;AAED,YAAMC,OAAO,GAAGgX,MAAM,CAAC93B,SAAvB;;AACA,WAAK,IAAIxgB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG04B,OAAO,CAACh6B,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChD,aAAKwU,QAAL,CAAc6jC,QAAd,EAAwB/W,OAAO,CAACthC,CAAD,CAA/B;AACH;;AAED,UAAI,CAACq4C,QAAQ,CAAC/0C,KAAT,CAAe+9B,OAApB,EAA6BgX,QAAQ,CAAC9tC,eAAT,CAAyB,OAAzB;AAC7B,UAAI,CAAC8tC,QAAQ,CAACj1C,SAAT,CAAmBqhB,IAAnB,EAAL,EAAgC4zB,QAAQ,CAAC9tC,eAAT,CAAyB,OAAzB;AACnC,KAtea;;AAwed;;;;;AAKAgkB,IAAAA,oBAAoB,EAAE,UAAU8pB,QAAV,EAAoBC,MAApB,EAA4B;AAC9CA,MAAAA,MAAM,GAAGA,MAAM,CAACruB,SAAP,CAAiB,KAAjB,CAAT;AACAquB,MAAAA,MAAM,CAACl1C,SAAP,GAAmBk1C,MAAM,CAACl1C,SAAP,CAAiBsX,OAAjB,CAAyB,6BAAzB,EAAwD,EAAxD,CAAnB;AACA,WAAK09B,iBAAL,CAAuBC,QAAvB,EAAiCC,MAAjC;AACH,KAjfa;;AAmfd;;;;;;;;AAQAC,IAAAA,YAAY,EAAE,UAAU7G,KAAV,EAAiBuG,UAAjB,EAA6BO,KAA7B,EAAoC;AAC9C,UAAI,CAAC9G,KAAD,IAAUA,KAAK,CAACpqC,MAAN,KAAiB,CAA/B,EAAkC,OAAO,IAAP;;AAElC2wC,MAAAA,UAAU,GAAGA,UAAU,IAAI,YAAY;AAAE,eAAO,IAAP;AAAc,OAAvD;;AACA,YAAMld,GAAG,GAAG,EAAZ;;AAEA,WAAK,IAAI/6B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG8oC,KAAK,CAACpqC,MAAvB,EAA+ByO,CAApC,EAAuC/V,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD+V,QAAAA,CAAC,GAAG27B,KAAK,CAAC1xC,CAAD,CAAT;;AACA,YAAIi4C,UAAU,CAACliC,CAAD,CAAd,EAAmB;AACf,cAAI,CAACyiC,KAAL,EAAY,OAAOziC,CAAP,CAAZ,KACKglB,GAAG,CAAC3wB,IAAJ,CAAS2L,CAAT;AACR;AACJ;;AAED,aAAO,CAACyiC,KAAD,GAAS,IAAT,GAAgBzd,GAAvB;AACH,KA1gBa;;AA4gBd;;;;;;AAMAiC,IAAAA,aAAa,EAAE,UAAU0U,KAAV,EAAiB1tC,OAAjB,EAA0B;AACrC,UAAIy0C,GAAG,GAAG,CAAC,CAAX;;AACA,WAAK,IAAIz4C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG8oC,KAAK,CAACpqC,MAA5B,EAAoCtH,CAAC,GAAG4I,GAAxC,EAA6C5I,CAAC,EAA9C,EAAkD;AAC9C,YAAI0xC,KAAK,CAAC1xC,CAAD,CAAL,KAAagE,OAAjB,EAA0B;AACtBy0C,UAAAA,GAAG,GAAGz4C,CAAN;AACA;AACH;AACJ;;AAED,aAAOy4C,GAAP;AACH,KA5hBa;;AA8hBd;;;;;;AAMAC,IAAAA,OAAO,EAAE,UAAUhH,KAAV,EAAiBntB,IAAjB,EAAuB;AAC5B,UAAIk0B,GAAG,GAAG,KAAKzb,aAAL,CAAmB0U,KAAnB,EAA0BntB,IAA1B,CAAV;AACA,UAAIk0B,GAAG,KAAK,CAAC,CAAb,EAAgB,OAAO,CAAC,CAAR;AAChB,aAAOA,GAAG,GAAG,CAAb;AACH,KAxiBa;;AA0iBd;;;;;;AAMAE,IAAAA,OAAO,EAAE,UAAUjH,KAAV,EAAiBntB,IAAjB,EAAuB;AAC5B,UAAIk0B,GAAG,GAAG,KAAKzb,aAAL,CAAmB0U,KAAnB,EAA0BntB,IAA1B,CAAV;AACA,UAAIk0B,GAAG,KAAK,CAAC,CAAb,EAAgB,OAAO,CAAC,CAAR;AAChB,aAAOA,GAAG,GAAG,CAAb;AACH,KApjBa;;AAsjBd;;;;;AAKAzlB,IAAAA,gBAAgB,EAAE,UAAU9e,IAAV,EAAgB;AAC9B,UAAIukC,GAAG,GAAG,CAAV;;AACA,aAAQvkC,IAAI,GAAGA,IAAI,CAACma,eAApB,EAAsC;AAClCoqB,QAAAA,GAAG,IAAI,CAAP;AACH;;AACD,aAAOA,GAAP;AACH,KAjkBa;;AAmkBd;;;;;;;;;;AAUAtrB,IAAAA,WAAW,EAAE,UAAUjZ,IAAV,EAAgBiB,UAAhB,EAA4ByjC,WAA5B,EAAyC;AAClD,YAAM9C,IAAI,GAAG,EAAb;AACA,UAAI+C,KAAK,GAAG,IAAZ;AAEA,WAAK7uC,gBAAL,CAAsBkK,IAAtB,EAA4B,UAAUof,EAAV,EAAc;AACtC,YAAIA,EAAE,KAAKne,UAAX,EAAuB0jC,KAAK,GAAG,KAAR;;AACvB,YAAIA,KAAK,IAAI,CAAC,KAAK5jC,YAAL,CAAkBqe,EAAlB,CAAd,EAAqC;AACjC;AACA,cAAIslB,WAAW,IAAItlB,EAAE,CAACpe,QAAH,KAAgB,CAAnC,EAAsC;AAClC,gBAAIQ,IAAI,GAAG,IAAX;AAAA,gBAAiBojC,QAAQ,GAAG,IAA5B;AACAF,YAAAA,WAAW,CAAC52C,CAAZ,GAAgB42C,WAAW,CAAC10C,CAAZ,GAAgB,CAAhC;AAEA,gBAAI60C,QAAQ,GAAGzlB,EAAE,CAACjF,eAAlB;;AACA,mBAAO0qB,QAAQ,IAAIA,QAAQ,CAAC7jC,QAAT,KAAsB,CAAzC,EAA4C;AACxC4jC,cAAAA,QAAQ,GAAGC,QAAQ,CAAC15B,WAAT,CAAqB3E,OAArB,CAA6B,KAAKw6B,eAAlC,EAAmD,EAAnD,CAAX;AACA0D,cAAAA,WAAW,CAAC52C,CAAZ,IAAiB82C,QAAQ,CAACxxC,MAA1B;AACAgsB,cAAAA,EAAE,CAACjU,WAAH,GAAiBy5B,QAAQ,GAAGxlB,EAAE,CAACjU,WAA/B;AACA3J,cAAAA,IAAI,GAAGqjC,QAAP;AACAA,cAAAA,QAAQ,GAAGA,QAAQ,CAAC1qB,eAApB;AACA,mBAAKrY,UAAL,CAAgBN,IAAhB;AACH;;AAED,gBAAIsY,IAAI,GAAGsF,EAAE,CAAC7K,WAAd;;AACA,mBAAOuF,IAAI,IAAIA,IAAI,CAAC9Y,QAAL,KAAkB,CAAjC,EAAoC;AAChC4jC,cAAAA,QAAQ,GAAG9qB,IAAI,CAAC3O,WAAL,CAAiB3E,OAAjB,CAAyB,KAAKw6B,eAA9B,EAA+C,EAA/C,CAAX;AACA0D,cAAAA,WAAW,CAAC10C,CAAZ,IAAiB40C,QAAQ,CAACxxC,MAA1B;AACAgsB,cAAAA,EAAE,CAACjU,WAAH,IAAkBy5B,QAAlB;AACApjC,cAAAA,IAAI,GAAGsY,IAAP;AACAA,cAAAA,IAAI,GAAGA,IAAI,CAACvF,WAAZ;AACA,mBAAKzS,UAAL,CAAgBN,IAAhB;AACH;AACJ,WAzBgC,CA2BjC;;;AACAogC,UAAAA,IAAI,CAAC1rC,IAAL,CAAUkpB,EAAV;AACH;;AACD,eAAO,KAAP;AACH,OAjC2B,CAiC1B/xB,IAjC0B,CAiCrB,IAjCqB,CAA5B;AAmCA,aAAOu0C,IAAI,CAAChgC,GAAL,CAAS,KAAKkd,gBAAd,EAAgCgmB,OAAhC,EAAP;AACH,KArnBa;;AAunBd;;;;;;AAMArrB,IAAAA,eAAe,EAAE,UAAUsrB,OAAV,EAAmB9jC,UAAnB,EAA+B;AAC5C,UAAIgK,OAAO,GAAGhK,UAAd;AACA,UAAI+jC,KAAJ;;AAEA,WAAK,IAAIl5C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGqwC,OAAO,CAAC3xC,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChDk5C,QAAAA,KAAK,GAAG/5B,OAAO,CAACgT,UAAhB;AACA,YAAI+mB,KAAK,CAAC5xC,MAAN,KAAiB,CAArB,EAAwB;;AACxB,YAAI4xC,KAAK,CAAC5xC,MAAN,IAAgB2xC,OAAO,CAACj5C,CAAD,CAA3B,EAAgC;AAC5Bmf,UAAAA,OAAO,GAAG+5B,KAAK,CAACA,KAAK,CAAC5xC,MAAN,GAAe,CAAhB,CAAf;AACH,SAFD,MAEO;AACH6X,UAAAA,OAAO,GAAG+5B,KAAK,CAACD,OAAO,CAACj5C,CAAD,CAAR,CAAf;AACH;AACJ;;AAED,aAAOmf,OAAP;AACH,KA5oBa;;AA8oBd;;;;;;;AAOAgP,IAAAA,gBAAgB,EAAE,UAAUpY,CAAV,EAAamlB,CAAb,EAAgB;AAC9B,UAAInlB,CAAC,CAACb,QAAF,KAAe,CAAf,IAAoBgmB,CAAC,CAAChmB,QAAF,KAAe,CAAvC,EAA0C,OAAO,IAAP;AAC1C,UAAIa,CAAC,CAACb,QAAF,KAAe,CAAf,IAAoBgmB,CAAC,CAAChmB,QAAF,KAAe,CAAvC,EAA0C,OAAO,KAAP;AAE1C,YAAMikC,OAAO,GAAGpjC,CAAC,CAACzS,KAAlB;AACA,YAAM81C,OAAO,GAAGle,CAAC,CAAC53B,KAAlB;AACA,UAAI+1C,SAAS,GAAG,CAAhB;;AAEA,WAAK,IAAIr5C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuwC,OAAO,CAAC7xC,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChD,YAAIm5C,OAAO,CAACA,OAAO,CAACn5C,CAAD,CAAR,CAAP,KAAwBo5C,OAAO,CAACD,OAAO,CAACn5C,CAAD,CAAR,CAAnC,EAAiDq5C,SAAS;AAC7D;;AAED,YAAMC,OAAO,GAAGvjC,CAAC,CAACyK,SAAlB;AACA,YAAM+4B,OAAO,GAAGre,CAAC,CAAC1a,SAAlB;AACA,YAAMg5B,GAAG,GAAG,KAAKpyC,EAAL,CAAQ+tC,MAApB;AACA,UAAIsE,SAAS,GAAG,CAAhB;;AAEA,WAAK,IAAIz5C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG0wC,OAAO,CAAChyC,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChD,YAAIw5C,GAAG,CAAC,WAAWF,OAAO,CAACt5C,CAAD,CAAlB,GAAwB,QAAzB,CAAH,CAAsCmE,IAAtC,CAA2Co1C,OAAO,CAACv4C,KAAnD,CAAJ,EAA+Dy4C,SAAS;AAC3E;;AAED,aAAQJ,SAAS,KAAKD,OAAO,CAAC9xC,MAAtB,IAAgC+xC,SAAS,KAAKF,OAAO,CAAC7xC,MAAvD,IAAmEmyC,SAAS,KAAKF,OAAO,CAACjyC,MAAtB,IAAgCmyC,SAAS,KAAKH,OAAO,CAAChyC,MAAhI;AACH,KA3qBa;;AA6qBd;;;;;AAKAooB,IAAAA,MAAM,EAAE,UAAUxb,IAAV,EAAgB;AACpB,aAAOA,IAAI,IAAI,aAAa/P,IAAb,CAAkB,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAAzD,CAAf;AACH,KAprBa;;AAsrBd;;;;;AAKAgmB,IAAAA,UAAU,EAAE,UAAUjc,IAAV,EAAgB;AACxB,aAAOA,IAAI,IAAI,QAAQ/P,IAAR,CAAa,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAApD,CAAf;AACH,KA7rBa;;AA+rBd;;;;;AAKAuvC,IAAAA,OAAO,EAAE,UAAUxlC,IAAV,EAAgB;AACrB,aAAOA,IAAI,IAAI,kCAAkC/P,IAAlC,CAAuC,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAA9E,CAAf;AACH,KAtsBa;;AAwsBd;;;;;AAKA0nB,IAAAA,MAAM,EAAE,UAAU3d,IAAV,EAAgB;AACpB,aAAOA,IAAI,IAAI,aAAa/P,IAAb,CAAkB,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAAzD,CAAf;AACH,KA/sBa;;AAitBd;;;;;AAKAwvC,IAAAA,OAAO,EAAE,UAAUzlC,IAAV,EAAgB;AACrB,aAAOA,IAAI,IAAI,QAAQ/P,IAAR,CAAa,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAApD,CAAf;AACH,KAxtBa;;AA2tBd;;;;;AAKAwa,IAAAA,QAAQ,EAAE,UAAUzQ,IAAV,EAAgB;AACtB,aAAOA,IAAI,IAAI,OAAO/P,IAAP,CAAY,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAAnD,CAAf;AACH,KAluBa;;AAouBd;;;;;AAKAyvC,IAAAA,OAAO,EAAE,UAAU1lC,IAAV,EAAgB;AACrB,aAAOA,IAAI,IAAI,qCAAqC/P,IAArC,CAA0C,OAAO+P,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkCA,IAAI,CAAC/J,QAAjF,CAAf;AACH,KA3uBa;;AA6uBd;;;;;AAKAi+B,IAAAA,QAAQ,EAAE,UAAU34B,IAAV,EAAgB;AACtB,aAAO,CAAC,CAACA,IAAF,IAAU,kBAAkBtL,IAAlB,CAAuBsL,IAAI,GAAG,EAA9B,CAAjB;AACH,KApvBa;;AAsvBd;;;;;;AAMA6J,IAAAA,SAAS,EAAE,UAAU7J,IAAV,EAAgBoqC,MAAhB,EAAwB;AAC/B,UAAI,CAACpqC,IAAL,EAAW,OAAO,CAAP;AAEX,UAAI6f,MAAM,GAAG,CAAC7f,IAAI,GAAG,EAAR,EAAY8F,KAAZ,CAAkB,eAAlB,CAAb;AACA,UAAI,CAAC+Z,MAAD,IAAW,CAACA,MAAM,CAAC,CAAD,CAAtB,EAA2B,OAAO,CAAP;AAE3BA,MAAAA,MAAM,GAAGA,MAAM,CAAC,CAAD,CAAf;AACA,aAAOuqB,MAAM,GAAG,CAAT,GAAavqB,MAAM,GAAG,CAAtB,GAA0BuqB,MAAM,KAAK,CAAX,GAAe,KAAKzyC,EAAL,CAAQ0U,IAAR,CAAa2F,KAAb,CAAmB6N,MAAM,GAAG,CAA5B,CAAf,GAAgD,CAACA,MAAM,GAAG,CAAV,EAAawqB,OAAb,CAAqBD,MAArB,IAA+B,CAAhH;AACH,KApwBa;;AAswBd;;;;;;AAMAE,IAAAA,eAAe,EAAE,UAAU/1C,OAAV,EAAmBi0C,UAAnB,EAA+B;AAC5C,YAAMxlB,QAAQ,GAAG,EAAjB;AACA,UAAI,CAACzuB,OAAD,IAAY,CAACA,OAAO,CAACyuB,QAArB,IAAiCzuB,OAAO,CAACyuB,QAAR,CAAiBnrB,MAAjB,KAA4B,CAAjE,EAAoE,OAAOmrB,QAAP;;AAEpEwlB,MAAAA,UAAU,GAAGA,UAAU,IAAI,YAAY;AAAE,eAAO,IAAP;AAAc,OAAvD;;AAEA,OAAC,SAAS+B,aAAT,CAAuB76B,OAAvB,EAAgC;AAC7B,YAAInb,OAAO,KAAKmb,OAAZ,IAAuB84B,UAAU,CAAC94B,OAAD,CAArC,EAAgD;AAC5CsT,UAAAA,QAAQ,CAACroB,IAAT,CAAc+U,OAAd;AACH;;AAED,aAAK,IAAInf,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuW,OAAO,CAACsT,QAAR,CAAiBnrB,MAAvC,EAA+CtH,CAAC,GAAG4I,GAAnD,EAAwD5I,CAAC,EAAzD,EAA6D;AACzDg6C,UAAAA,aAAa,CAAC76B,OAAO,CAACsT,QAAR,CAAiBzyB,CAAjB,CAAD,CAAb;AACH;AACJ,OARD,EAQGgE,OARH;;AAUA,aAAOyuB,QAAP;AACH,KA7xBa;;AA+xBd;;;;;;AAMAwnB,IAAAA,iBAAiB,EAAE,UAAUj2C,OAAV,EAAmBi0C,UAAnB,EAA+B;AAC9C,YAAMxlB,QAAQ,GAAG,EAAjB;AACA,UAAI,CAACzuB,OAAD,IAAYA,OAAO,CAACmuB,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9C,EAAiD,OAAOmrB,QAAP;;AAEjDwlB,MAAAA,UAAU,GAAGA,UAAU,IAAI,YAAY;AAAE,eAAO,IAAP;AAAc,OAAvD;;AAEA,OAAC,SAAS+B,aAAT,CAAuB76B,OAAvB,EAAgC;AAC7B,YAAInb,OAAO,KAAKmb,OAAZ,IAAuB84B,UAAU,CAAC94B,OAAD,CAArC,EAAgD;AAC5CsT,UAAAA,QAAQ,CAACroB,IAAT,CAAc+U,OAAd;AACH;;AAED,aAAK,IAAInf,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuW,OAAO,CAACgT,UAAR,CAAmB7qB,MAAzC,EAAiDtH,CAAC,GAAG4I,GAArD,EAA0D5I,CAAC,EAA3D,EAA+D;AAC3Dg6C,UAAAA,aAAa,CAAC76B,OAAO,CAACgT,UAAR,CAAmBnyB,CAAnB,CAAD,CAAb;AACH;AACJ,OARD,EAQGgE,OARH;;AAUA,aAAOyuB,QAAP;AACH,KAtzBa;;AAwzBd;;;;;;;AAOAC,IAAAA,eAAe,EAAE,UAAU1uB,OAAV,EAAmB;AAChC,UAAI,CAACA,OAAD,IAAY,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAhB,EAA4C,OAAO,CAAC,CAAR;AAE5C,UAAIk2C,KAAK,GAAG,CAAZ;AACAl2C,MAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;;AAEA,aAAOnR,OAAO,IAAI,CAAC,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAnB,EAA+C;AAC3Ck2C,QAAAA,KAAK,IAAI,CAAT;AACAl2C,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAO+kC,KAAP;AACH,KA30Ba;;AA60Bd;;;;;;AAMAC,IAAAA,eAAe,EAAE,UAAUpkC,CAAV,EAAamlB,CAAb,EAAgB;AAC7B,UAAIkf,KAAK,GAAGrkC,CAAZ;AAAA,UAAeskC,KAAK,GAAGnf,CAAvB;;AACA,aAAOkf,KAAK,IAAIC,KAAT,IAAkBD,KAAK,CAACjlC,UAAN,KAAqBklC,KAAK,CAACllC,UAApD,EAAgE;AAC5DilC,QAAAA,KAAK,GAAGA,KAAK,CAACjlC,UAAd;AACAklC,QAAAA,KAAK,GAAGA,KAAK,CAACllC,UAAd;AACH;;AAED,UAAI,CAACilC,KAAD,IAAU,CAACC,KAAf,EAAsB,OAAO;AAAEC,QAAAA,QAAQ,EAAE,IAAZ;AAAkBvkC,QAAAA,CAAC,EAAEA,CAArB;AAAwBmlB,QAAAA,CAAC,EAAEA,CAA3B;AAA8BrX,QAAAA,MAAM,EAAE;AAAtC,OAAP;AAEtB,YAAM4O,QAAQ,GAAG2nB,KAAK,CAACjlC,UAAN,CAAiBgd,UAAlC;AACA,YAAMooB,MAAM,GAAG,KAAKvd,aAAL,CAAmBvK,QAAnB,EAA6B2nB,KAA7B,CAAf;AACA,YAAMI,MAAM,GAAG,KAAKxd,aAAL,CAAmBvK,QAAnB,EAA6B4nB,KAA7B,CAAf;AAEA,aAAO;AACHC,QAAAA,QAAQ,EAAEF,KAAK,CAACjlC,UADb;AAEHY,QAAAA,CAAC,EAAEqkC,KAFA;AAGHlf,QAAAA,CAAC,EAAEmf,KAHA;AAIHx2B,QAAAA,MAAM,EAAE02B,MAAM,GAAGC,MAAT,GAAkB,CAAlB,GAAsBD,MAAM,GAAGC,MAAT,GAAkB,CAAC,CAAnB,GAAuB;AAJlD,OAAP;AAMH,KAt2Ba;;AAw2Bd;;;;;;;;;;AAUAxwC,IAAAA,gBAAgB,EAAE,UAAUhG,OAAV,EAAmBy2C,KAAnB,EAA0B;AACxC,UAAIC,KAAJ;;AAEA,UAAI,OAAOD,KAAP,KAAiB,UAArB,EAAiC;AAC7BC,QAAAA,KAAK,GAAGD,KAAR;AACH,OAFD,MAEO;AACH,YAAIE,IAAJ;;AACA,YAAI,MAAMx2C,IAAN,CAAWs2C,KAAX,CAAJ,EAAuB;AACnBE,UAAAA,IAAI,GAAG,WAAP;AACAF,UAAAA,KAAK,GAAGA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAR;AACH,SAHD,MAGO,IAAI,KAAK1G,IAAL,CAAUs2C,KAAV,CAAJ,EAAsB;AACzBE,UAAAA,IAAI,GAAG,IAAP;AACAF,UAAAA,KAAK,GAAG,MAAMA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAN,GAA4B,GAApC;AACH,SAHM,MAGA,IAAI,KAAK1G,IAAL,CAAUs2C,KAAV,CAAJ,EAAsB;AACzBE,UAAAA,IAAI,GAAG,MAAP;AACAF,UAAAA,KAAK,GAAG,MAAMA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAN,GAA4B,GAApC;AACH,SAHM,MAGA;AACH8vC,UAAAA,IAAI,GAAG,UAAP;AACAF,UAAAA,KAAK,GAAG,MAAMA,KAAN,GAAc,GAAtB;AACH;;AAED,cAAMxE,MAAM,GAAG,IAAI,KAAK7uC,EAAL,CAAQ+tC,MAAZ,CAAmBsF,KAAnB,EAA0B,GAA1B,CAAf;;AACAC,QAAAA,KAAK,GAAG,UAAUpnB,EAAV,EAAc;AAClB,iBAAO2iB,MAAM,CAAC9xC,IAAP,CAAYmvB,EAAE,CAACqnB,IAAD,CAAd,CAAP;AACH,SAFD;AAGH;;AAED,aAAO32C,OAAO,IAAI,CAAC02C,KAAK,CAAC12C,OAAD,CAAxB,EAAmC;AAC/B,YAAI,KAAKiR,YAAL,CAAkBjR,OAAlB,CAAJ,EAAgC;AAC5B,iBAAO,IAAP;AACH;;AACDA,QAAAA,OAAO,GAAGA,OAAO,CAACmR,UAAlB;AACH;;AAED,aAAOnR,OAAP;AACH,KAr5Ba;;AAu5Bd;;;;;;;;;;;AAWAkZ,IAAAA,eAAe,EAAE,UAAUlZ,OAAV,EAAmBy2C,KAAnB,EAA0BxtB,IAA1B,EAAgC;AAC7C,UAAIytB,KAAJ;;AAEA,UAAI,OAAOD,KAAP,KAAiB,UAArB,EAAiC;AAC7BC,QAAAA,KAAK,GAAGD,KAAR;AACH,OAFD,MAEO;AACH,YAAIE,IAAJ;;AACA,YAAI,MAAMx2C,IAAN,CAAWs2C,KAAX,CAAJ,EAAuB;AACnBE,UAAAA,IAAI,GAAG,WAAP;AACAF,UAAAA,KAAK,GAAGA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAR;AACH,SAHD,MAGO,IAAI,KAAK1G,IAAL,CAAUs2C,KAAV,CAAJ,EAAsB;AACzBE,UAAAA,IAAI,GAAG,IAAP;AACAF,UAAAA,KAAK,GAAG,MAAMA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAN,GAA4B,GAApC;AACH,SAHM,MAGA,IAAI,KAAK1G,IAAL,CAAUs2C,KAAV,CAAJ,EAAsB;AACzBE,UAAAA,IAAI,GAAG,MAAP;AACAF,UAAAA,KAAK,GAAG,MAAMA,KAAK,CAAC5vC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAN,GAA4B,GAApC;AACH,SAHM,MAGA;AACH8vC,UAAAA,IAAI,GAAG,UAAP;AACAF,UAAAA,KAAK,GAAG,OAAOA,KAAK,KAAK,MAAV,GAAmB,MAAMA,KAAzB,GAAiCA,KAAxC,IAAiD,GAAzD;AACH;;AAED,cAAMxE,MAAM,GAAG,IAAI,KAAK7uC,EAAL,CAAQ+tC,MAAZ,CAAmBsF,KAAnB,EAA0B,GAA1B,CAAf;;AACAC,QAAAA,KAAK,GAAG,UAAUpnB,EAAV,EAAc;AAClB,iBAAO2iB,MAAM,CAAC9xC,IAAP,CAAYmvB,EAAE,CAACqnB,IAAD,CAAd,CAAP;AACH,SAFD;AAGH;;AAED,YAAMC,SAAS,GAAG,KAAKX,iBAAL,CAAuBj2C,OAAvB,EAAgC,UAAUmb,OAAV,EAAmB;AACjE,eAAOu7B,KAAK,CAACv7B,OAAD,CAAZ;AACH,OAFiB,CAAlB;AAIA,aAAOy7B,SAAS,CAAC3tB,IAAI,GAAG2tB,SAAS,CAACtzC,MAAV,GAAmB,CAAtB,GAA0B,CAA/B,CAAhB;AACH,KAl8Ba;;AAo8Bd;;;;;;;;;AASA6rB,IAAAA,iBAAiB,EAAE,UAAUnG,KAAV,EAAiBC,IAAjB,EAAuB;AACtC,UAAI,CAACD,KAAL,EAAY;AACZ,UAAI,CAACC,IAAL,EAAWA,IAAI,GAAGD,KAAP;;AAEX,aAAOA,KAAK,IAAIA,KAAK,CAAC9X,QAAN,KAAmB,CAA5B,IAAiC8X,KAAK,CAACmF,UAAN,CAAiB7qB,MAAjB,GAA0B,CAA3D,IAAgE,CAAC,KAAKqyC,OAAL,CAAa3sB,KAAb,CAAxE,EAA6FA,KAAK,GAAGA,KAAK,CAACR,UAAd;;AAC7F,aAAOS,IAAI,IAAIA,IAAI,CAAC/X,QAAL,KAAkB,CAA1B,IAA+B+X,IAAI,CAACkF,UAAL,CAAgB7qB,MAAhB,GAAyB,CAAxD,IAA8D,CAAC,KAAKqyC,OAAL,CAAa1sB,IAAb,CAAtE,EAA0FA,IAAI,GAAGA,IAAI,CAAC4tB,SAAZ;;AAE1F,aAAO;AACHptB,QAAAA,EAAE,EAAET,KADD;AAEHU,QAAAA,EAAE,EAAET,IAAI,IAAID;AAFT,OAAP;AAIH,KAx9Ba;;AA09Bd;;;;;;AAMArR,IAAAA,SAAS,EAAE,UAAU3X,OAAV,EAAmB4X,YAAnB,EAAiC;AACxC,UAAIoN,UAAU,GAAG,CAAjB;AACA,UAAI8xB,SAAS,GAAG,CAAhB;AACA,UAAIC,aAAa,GAAG/2C,OAAO,CAACkR,QAAR,KAAqB,CAArB,GAAyBlR,OAAO,CAACkG,aAAjC,GAAiDlG,OAArE;AACA,YAAM+E,OAAO,GAAG,KAAKiB,gBAAL,CAAsBhG,OAAtB,EAA+B,KAAKiR,YAAL,CAAkB1T,IAAlB,CAAuB,IAAvB,CAA/B,CAAhB;;AAEA,aAAOw5C,aAAa,IAAI,CAAC,KAAK13B,QAAL,CAAc03B,aAAd,EAA6B,cAA7B,CAAlB,IAAkEA,aAAa,KAAKhyC,OAA3F,EAAoG;AAChGigB,QAAAA,UAAU,IAAI+xB,aAAa,CAAC/xB,UAA5B;AACA8xB,QAAAA,SAAS,IAAIC,aAAa,CAACD,SAA3B;AACAC,QAAAA,aAAa,GAAGA,aAAa,CAACC,YAA9B;AACH;;AAED,YAAMrE,MAAM,GAAG/6B,YAAY,IAAI,UAAUzX,IAAV,CAAeyX,YAAY,CAACzR,QAA5B,CAA/B;AAEA,aAAO;AACHsG,QAAAA,IAAI,EAAEuY,UAAU,IAAI2tB,MAAM,GAAG/6B,YAAY,CAAC1R,aAAb,CAA2B8e,UAA9B,GAA2C,CAArD,CADb;AAEH9M,QAAAA,GAAG,EAAG4+B,SAAS,GAAG/xC,OAAO,CAACkyC,SAArB,IAAmCtE,MAAM,GAAG/6B,YAAY,CAAC1R,aAAb,CAA2B4wC,SAA9B,GAA0C,CAAnF;AAFF,OAAP;AAIH,KAl/Ba;;AAo/Bd;;;;;;;;;AASAle,IAAAA,sBAAsB,EAAE,UAAUse,MAAV,EAAkBC,IAAlB,EAAwBC,MAAxB,EAAgCC,IAAhC,EAAsC;AAC1D,UAAIH,MAAM,IAAIG,IAAV,GAAiBF,IAAI,GAAGC,MAAxB,GAAiCD,IAAI,GAAGC,MAA5C,EAAoD,OAAO,CAAP;AAEpD,YAAME,OAAO,GAAG,CAACJ,MAAM,GAAGE,MAAT,GAAkBF,MAAlB,GAA2BE,MAA5B,KAAuCD,IAAI,GAAGE,IAAP,GAAcF,IAAd,GAAqBE,IAA5D,CAAhB;AACA,aAAO,CAACC,OAAO,GAAG,CAAV,GAAcA,OAAO,GAAG,CAAC,CAAzB,GAA6BA,OAA9B,IAAyC,CAAhD;AACH,KAlgCa;;AAogCd;;;;;AAKA/+B,IAAAA,SAAS,EAAE,UAAUvY,OAAV,EAAmBu3C,GAAnB,EAAwB;AAC/B,UAAI,CAACv3C,OAAD,IAAY,CAACu3C,GAAjB,EAAsB;AACtBv3C,MAAAA,OAAO,CAACqb,WAAR,GAAsBk8B,GAAtB;AACH,KA5gCa;;AA8gCd;;;;;AAKAz+B,IAAAA,aAAa,EAAE,UAAU9Y,OAAV,EAAmBw3C,UAAnB,EAA+B;AAC1C,UAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;AAChC,YAAIx3C,OAAO,CAACuuB,SAAZ,EAAuB;AACnBvuB,UAAAA,OAAO,CAACuuB,SAAR,GAAoBipB,UAApB;AACH,SAFD,MAEO;AACH,gBAAMnF,GAAG,GAAG,KAAKlzC,aAAL,CAAmB,KAAnB,CAAZ;AACAkzC,UAAAA,GAAG,CAAClwC,SAAJ,GAAgBq1C,UAAhB;AACAA,UAAAA,UAAU,GAAGnF,GAAG,CAAC7pB,UAAjB;AACAxoB,UAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC6yB,UAAhC,EAA4Cx3C,OAA5C;AACH;AACJ,OATD,MASO,IAAIw3C,UAAU,CAACtmC,QAAX,KAAwB,CAA5B,EAA+B;AAClClR,QAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC6yB,UAAhC,EAA4Cx3C,OAA5C;AACH;AACJ,KAhiCa;;AAkiCd;;;;;;AAMAgiB,IAAAA,QAAQ,EAAE,UAAUhiB,OAAV,EAAmBy3C,SAAnB,EAA8Bz6C,KAA9B,EAAqC;AAC3CgD,MAAAA,OAAO,CAACV,KAAR,CAAcm4C,SAAd,IAA2Bz6C,KAA3B;;AAEA,UAAI,CAACA,KAAD,IAAU,CAACgD,OAAO,CAACV,KAAR,CAAc+9B,OAA7B,EAAsC;AAClCr9B,QAAAA,OAAO,CAACuG,eAAR,CAAwB,OAAxB;AACH;AACJ,KA9iCa;;AAgjCd;;;;;;AAMA8Y,IAAAA,QAAQ,EAAE,UAAUrf,OAAV,EAAmBZ,SAAnB,EAA8B;AACpC,UAAI,CAACY,OAAL,EAAc;AAEd,aAAQ,IAAI,KAAKoD,EAAL,CAAQ+tC,MAAZ,CAAmB/xC,SAAnB,CAAD,CAAgCe,IAAhC,CAAqCH,OAAO,CAACZ,SAA7C,CAAP;AACH,KA1jCa;;AA4jCd;;;;;AAKAoR,IAAAA,QAAQ,EAAE,UAAUxQ,OAAV,EAAmBZ,SAAnB,EAA8B;AACpC,UAAI,CAACY,OAAL,EAAc;AAEd,YAAM02C,KAAK,GAAG,IAAI,KAAKtzC,EAAL,CAAQ+tC,MAAZ,CAAmB,YAAY/xC,SAAZ,GAAwB,SAA3C,CAAd;AACA,UAAIs3C,KAAK,CAACv2C,IAAN,CAAWH,OAAO,CAACZ,SAAnB,CAAJ,EAAmC;AAEnCY,MAAAA,OAAO,CAACZ,SAAR,IAAqB,CAACY,OAAO,CAACZ,SAAR,CAAkBkE,MAAlB,GAA2B,CAA3B,GAA+B,GAA/B,GAAqC,EAAtC,IAA4ClE,SAAjE;AACH,KAxkCa;;AA0kCd;;;;;AAKAqR,IAAAA,WAAW,EAAE,UAAUzQ,OAAV,EAAmBZ,SAAnB,EAA8B;AACvC,UAAI,CAACY,OAAL,EAAc;AAEd,YAAM02C,KAAK,GAAG,IAAI,KAAKtzC,EAAL,CAAQ+tC,MAAZ,CAAmB,YAAY/xC,SAAZ,GAAwB,SAA3C,CAAd;AACAY,MAAAA,OAAO,CAACZ,SAAR,GAAoBY,OAAO,CAACZ,SAAR,CAAkBsX,OAAlB,CAA0BggC,KAA1B,EAAiC,GAAjC,EAAsCj2B,IAAtC,EAApB;AAEA,UAAI,CAACzgB,OAAO,CAACZ,SAAR,CAAkBqhB,IAAlB,EAAL,EAA+BzgB,OAAO,CAACuG,eAAR,CAAwB,OAAxB;AAClC,KAtlCa;;AAwlCd;;;;;AAKAmqB,IAAAA,WAAW,EAAE,UAAU1wB,OAAV,EAAmBZ,SAAnB,EAA8B;AACvC,UAAI,CAACY,OAAL,EAAc;AAEd,YAAM02C,KAAK,GAAG,IAAI,KAAKtzC,EAAL,CAAQ+tC,MAAZ,CAAmB,YAAY/xC,SAAZ,GAAwB,SAA3C,CAAd;;AACA,UAAIs3C,KAAK,CAACv2C,IAAN,CAAWH,OAAO,CAACZ,SAAnB,CAAJ,EAAmC;AAC/BY,QAAAA,OAAO,CAACZ,SAAR,GAAoBY,OAAO,CAACZ,SAAR,CAAkBsX,OAAlB,CAA0BggC,KAA1B,EAAiC,GAAjC,EAAsCj2B,IAAtC,EAApB;AACH,OAFD,MAGK;AACDzgB,QAAAA,OAAO,CAACZ,SAAR,IAAqB,MAAMA,SAA3B;AACH;;AAED,UAAI,CAACY,OAAO,CAACZ,SAAR,CAAkBqhB,IAAlB,EAAL,EAA+BzgB,OAAO,CAACuG,eAAR,CAAwB,OAAxB;AAClC,KAzmCa;;AA2mCd;;;;;;;AAOA8S,IAAAA,kBAAkB,EAAE,UAAUjD,QAAV,EAAoBshC,UAApB,EAAgC;AAChD,WAAK,IAAI17C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG8yC,UAAU,CAACp0C,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnD07C,QAAAA,UAAU,CAAC17C,CAAD,CAAV,CAAcoa,QAAd,GAAyBA,QAAzB;AACH;AACJ,KAtnCa;;AAwnCd;;;;AAIApE,IAAAA,UAAU,EAAE,UAAUuO,IAAV,EAAgB;AACxB,UAAI,CAACA,IAAL,EAAW;;AACX,UAAI;AACAA,QAAAA,IAAI,CAACtT,MAAL;AACH,OAFD,CAEE,OAAO/M,CAAP,EAAU;AACR,YAAIqgB,IAAI,CAACpP,UAAT,EAAqBoP,IAAI,CAACpP,UAAL,CAAgB2e,WAAhB,CAA4BvP,IAA5B;AACxB;AACJ,KAnoCa;;AAqoCd;;;;;;;;AAQAgc,IAAAA,oBAAoB,EAAE,UAAUhc,IAAV,EAAgB0zB,UAAhB,EAA4B0D,UAA5B,EAAwC;AAC1D,UAAI,CAACp3B,IAAL,EAAW,OAAO,IAAP;AACX,UAAI6O,EAAE,GAAG,IAAT;;AACA,UAAI,CAAC6kB,UAAL,EAAiB;AACbA,QAAAA,UAAU,GAAG,UAAU94B,OAAV,EAAmB;AAC5B,cAAIA,OAAO,KAAKw8B,UAAZ,IAA0B,KAAKv/B,WAAL,CAAiB+C,OAAjB,CAA9B,EAAyD,OAAO,KAAP;AACzD,gBAAM1P,IAAI,GAAG0P,OAAO,CAACE,WAAR,CAAoBoF,IAApB,EAAb;AACA,iBAAOhV,IAAI,CAACnI,MAAL,KAAgB,CAAhB,IAAqB,iBAAiBnD,IAAjB,CAAsBsL,IAAtB,CAA5B;AACH,SAJY,CAIXlO,IAJW,CAIN,IAJM,CAAb;AAKH;;AAEA,gBAASy4C,aAAT,CAAwBh2C,OAAxB,EAAiC;AAC9B,YAAI,CAACqwC,SAAS,CAACp/B,YAAV,CAAuBjR,OAAvB,CAAL,EAAsC;AAClC,gBAAM43C,MAAM,GAAG53C,OAAO,CAACmR,UAAvB;;AACA,cAAIymC,MAAM,IAAI3D,UAAU,CAACj0C,OAAD,CAAxB,EAAmC;AAC/BovB,YAAAA,EAAE,GAAG;AACD3F,cAAAA,EAAE,EAAEzpB,OAAO,CAACosB,sBADX;AAED1C,cAAAA,EAAE,EAAE1pB,OAAO,CAACssB;AAFX,aAAL;AAIA+jB,YAAAA,SAAS,CAACr+B,UAAV,CAAqBhS,OAArB;AACAg2C,YAAAA,aAAa,CAAC4B,MAAD,CAAb;AACH;AACJ;AACJ,OAZA,EAYCr3B,IAZD,CAAD;;AAcA,aAAO6O,EAAP;AACH,KAvqCa;;AAyqCd;;;;;;;AAOAyoB,IAAAA,gBAAgB,EAAE,UAAUC,QAAV,EAAoBC,GAApB,EAAyB;AACvC,YAAMC,KAAK,GAAG,KAAKC,iBAAL,CAAuBH,QAAvB,CAAd;;AACA,UAAIrvB,YAAJ,EAAkByvB,MAAlB;;AAEA,UAAIF,KAAJ,EAAW;AACPvvB,QAAAA,YAAY,GAAGuvB,KAAK,CAAC/xB,SAAN,CAAgB,KAAhB,CAAf;AACAiyB,QAAAA,MAAM,GAAGF,KAAK,CAAC7pB,UAAf;AACA,cAAMzoB,KAAK,GAAG,KAAKspB,gBAAL,CAAsB8oB,QAAtB,CAAd;;AACA,eAAOI,MAAM,CAACxyC,KAAD,CAAb,EAAsB;AAClB+iB,UAAAA,YAAY,CAAChpB,WAAb,CAAyBy4C,MAAM,CAACxyC,KAAD,CAA/B;AACH;AACJ,OAPD,MAOO;AACH+iB,QAAAA,YAAY,GAAGqvB,QAAf;AACH;;AAED,UAAIK,SAAJ;;AACA,UAAI,CAACJ,GAAL,EAAU;AACN,cAAM7B,KAAK,GAAG,KAAKxnB,eAAL,CAAqBopB,QAArB,IAAiC,CAA/C;AACAK,QAAAA,SAAS,GAAG,KAAKpC,eAAL,CAAqB+B,QAArB,EAA+B,UAAU38B,OAAV,EAAmB;AAAE,iBAAO,KAAKgR,UAAL,CAAgBhR,OAAhB,KAA4B,CAACA,OAAO,CAACiR,sBAArC,IAA+D,KAAKsC,eAAL,CAAqBvT,OAArB,MAAkC+6B,KAAxG;AAAgH,SAArI,CAAsI34C,IAAtI,CAA2I,IAA3I,CAA/B,CAAZ;AACH,OAHD,MAGO;AACH46C,QAAAA,SAAS,GAAG,KAAKpC,eAAL,CAAqBttB,YAArB,EAAmC,UAAUtN,OAAV,EAAmB;AAAE,iBAAO,KAAKgR,UAAL,CAAgBhR,OAAhB,KAA4B,CAACA,OAAO,CAACiR,sBAA5C;AAAqE,SAA1F,CAA2F7uB,IAA3F,CAAgG,IAAhG,CAAnC,CAAZ;AACH;;AAED,WAAK,IAAIvB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuzC,SAAS,CAAC70C,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD,aAAKi8C,iBAAL,CAAuBE,SAAS,CAACn8C,CAAD,CAAhC;AACH;;AAED,UAAIg8C,KAAJ,EAAW;AACPA,QAAAA,KAAK,CAAC7mC,UAAN,CAAiBqT,YAAjB,CAA8BiE,YAA9B,EAA4CuvB,KAAK,CAACvzB,WAAlD;AACA,YAAIyzB,MAAM,IAAIA,MAAM,CAAC50C,MAAP,KAAkB,CAAhC,EAAmC,KAAK0O,UAAL,CAAgBgmC,KAAhB;AACtC;;AAED,aAAOvvB,YAAY,KAAKqvB,QAAjB,GAA4BrvB,YAAY,CAACtX,UAAzC,GAAsDsX,YAA7D;AACH,KAjtCa;;AAmtCd;;;;AAIAwvB,IAAAA,iBAAiB,EAAE,UAAUH,QAAV,EAAoB;AACnC,YAAMM,UAAU,GAAGN,QAAQ,CAAC3mC,UAA5B;AACA,UAAI0d,OAAO,GAAGupB,UAAd;AACA,UAAIR,MAAM,GAAG/oB,OAAO,CAAC1d,UAArB;AACA,UAAIknC,SAAJ,EAAeC,QAAf,EAAyBC,KAAzB,EAAgC7yC,KAAhC,EAAuCtJ,CAAvC;;AAEA,aAAO,KAAK+vB,UAAL,CAAgByrB,MAAhB,CAAP,EAAgC;AAC5BlyC,QAAAA,KAAK,GAAG,KAAKspB,gBAAL,CAAsB8oB,QAAtB,CAAR;AACAO,QAAAA,SAAS,GAAGT,MAAM,CAACtrB,kBAAnB;AACAgsB,QAAAA,QAAQ,GAAGV,MAAM,CAACzmC,UAAlB;AACAonC,QAAAA,KAAK,GAAG1pB,OAAR;;AACA,eAAM0pB,KAAN,EAAa;AACT1pB,UAAAA,OAAO,GAAGA,OAAO,CAACpK,WAAlB;;AACA,cAAI,KAAKiH,MAAL,CAAY6sB,KAAZ,CAAJ,EAAwB;AACpBn8C,YAAAA,CAAC,GAAGm8C,KAAK,CAACpqB,UAAV;;AACA,mBAAO/xB,CAAC,CAACsJ,KAAD,CAAR,EAAiB;AACb4yC,cAAAA,QAAQ,CAAC9zB,YAAT,CAAsBpoB,CAAC,CAACsJ,KAAD,CAAvB,EAAgC2yC,SAAhC;AACH;;AACD,gBAAIj8C,CAAC,CAACkH,MAAF,KAAa,CAAjB,EAAoB,KAAK0O,UAAL,CAAgBumC,KAAhB;AACvB,WAND,MAMO;AACHD,YAAAA,QAAQ,CAAC74C,WAAT,CAAqB84C,KAArB;AACH;;AACDA,UAAAA,KAAK,GAAG1pB,OAAR;AACH;;AACDA,QAAAA,OAAO,GAAGypB,QAAV;AACAV,QAAAA,MAAM,GAAGU,QAAQ,CAACnnC,UAAlB;AACH;;AAED,UAAIinC,UAAU,CAAC3pB,QAAX,CAAoBnrB,MAApB,KAA+B,CAAnC,EAAsC,KAAK0O,UAAL,CAAgBomC,UAAhB;AAEtC,aAAOE,QAAP;AACH,KAtvCa;;AAwvCd;;;;;;;;AAQAE,IAAAA,YAAY,EAAE,UAAUV,QAAV,EAAoBpgC,MAApB,EAA4Bw+B,KAA5B,EAAmC;AAC7C,YAAMuC,EAAE,GAAGX,QAAQ,CAAC3mC,UAApB;AACA,UAAIzL,KAAK,GAAG,CAAZ;AAAA,UAAe4+B,KAAf;AAAA,UAAsB7V,QAAtB;AAAA,UAAgC/c,IAAhC;AACA,UAAIsY,IAAI,GAAG,IAAX;AACA,UAAI,CAACksB,KAAD,IAAUA,KAAK,GAAG,CAAtB,EAAyBA,KAAK,GAAG,CAAR;;AAEzB,UAAI4B,QAAQ,CAAC5mC,QAAT,KAAsB,CAA1B,EAA6B;AACzBxL,QAAAA,KAAK,GAAG,KAAKspB,gBAAL,CAAsB8oB,QAAtB,CAAR;;AACA,YAAIpgC,MAAM,IAAI,CAAd,EAAiB;AACbogC,UAAAA,QAAQ,CAACY,SAAT,CAAmBhhC,MAAnB;AACA,gBAAMihC,KAAK,GAAG,KAAKhvB,eAAL,CAAqB,CAACjkB,KAAK,GAAG,CAAT,CAArB,EAAkC+yC,EAAlC,CAAd;AACA,cAAI,KAAKje,kBAAL,CAAwBme,KAAxB,CAAJ,EAAoCA,KAAK,CAACxb,IAAN,GAAa,KAAK5Y,cAAlB;AACvC;AACJ,OAPD,MAOO,IAAIuzB,QAAQ,CAAC5mC,QAAT,KAAsB,CAA1B,EAA6B;AAChC,YAAI,CAAC4mC,QAAQ,CAACztB,eAAd,EAA+B;AAC3B,cAAI,KAAKqE,eAAL,CAAqBopB,QAArB,MAAmC5B,KAAvC,EAA8ClsB,IAAI,GAAG,KAAP;AACjD,SAFD,MAEO;AACH8tB,UAAAA,QAAQ,GAAGA,QAAQ,CAACztB,eAApB;AACH;AACJ;;AAED,UAAIuuB,OAAO,GAAGd,QAAd;;AACA,aAAO,KAAKppB,eAAL,CAAqBkqB,OAArB,IAAgC1C,KAAvC,EAA8C;AAC1CxwC,QAAAA,KAAK,GAAG,KAAKspB,gBAAL,CAAsB4pB,OAAtB,IAAiC,CAAzC;AACAA,QAAAA,OAAO,GAAGA,OAAO,CAACznC,UAAlB;AAEAO,QAAAA,IAAI,GAAG4yB,KAAP;AACAA,QAAAA,KAAK,GAAGsU,OAAO,CAAC3yB,SAAR,CAAkB,KAAlB,CAAR;AACAwI,QAAAA,QAAQ,GAAGmqB,OAAO,CAACzqB,UAAnB;;AAEA,YAAIzc,IAAJ,EAAU;AACN,cAAI,KAAKya,UAAL,CAAgBmY,KAAhB,KAA0B,KAAK5Y,MAAL,CAAYha,IAAZ,CAA1B,IAA+CA,IAAI,CAACqH,iBAAxD,EAA2E;AACvEurB,YAAAA,KAAK,CAACniC,SAAN,GAAkBuP,IAAI,CAACqH,iBAAL,CAAuB5W,SAAzC;AACAkuC,YAAAA,SAAS,CAACr+B,UAAV,CAAqBN,IAAI,CAACqH,iBAA1B;AACA,gBAAIrH,IAAI,CAAC+c,QAAL,CAAcnrB,MAAd,GAAuB,CAA3B,EAA8BghC,KAAK,CAAC7kC,WAAN,CAAkBiS,IAAlB;AACjC,WAJD,MAIO;AACH4yB,YAAAA,KAAK,CAAC7kC,WAAN,CAAkBiS,IAAlB;AACH;AACJ;;AAED,eAAO+c,QAAQ,CAAC/oB,KAAD,CAAf,EAAwB;AACpB4+B,UAAAA,KAAK,CAAC7kC,WAAN,CAAkBgvB,QAAQ,CAAC/oB,KAAD,CAA1B;AACH;AACJ;;AAED,UAAIkzC,OAAO,CAACzqB,UAAR,CAAmB7qB,MAAnB,IAA6B,CAA7B,KAAmC,CAACs1C,OAAO,CAACpwB,UAAT,IAAuBowB,OAAO,CAACpwB,UAAR,CAAmBnN,WAAnB,CAA+B/X,MAA/B,KAA0C,CAApG,CAAJ,EAA4Gs1C,OAAO,CAACz2C,SAAR,GAAoB,MAApB;AAE5G,YAAM02C,QAAQ,GAAGD,OAAO,CAACznC,UAAzB;AACA,UAAI6Y,IAAJ,EAAU4uB,OAAO,GAAGA,OAAO,CAACn0B,WAAlB;AACV,UAAI,CAAC6f,KAAL,EAAY,OAAOsU,OAAP;AAEZ,WAAK3pB,aAAL,CAAmBqV,KAAnB,EAA0B,IAA1B,EAAgC,KAAhC;AACA,WAAKrU,eAAL,CAAqBqU,KAArB,EAA4B,UAAUnpB,OAAV,EAAmB;AAAE,eAAO,KAAKuQ,MAAL,CAAYvQ,OAAZ,CAAP;AAA8B,OAAnD,CAAoD5d,IAApD,CAAyD,IAAzD,CAA5B;AAEA,UAAI+mC,KAAK,CAACnW,UAAN,CAAiB7qB,MAAjB,GAA0B,CAA9B,EAAiCu1C,QAAQ,CAACr0B,YAAT,CAAsB8f,KAAtB,EAA6BsU,OAA7B,EAAjC,KACKtU,KAAK,GAAGsU,OAAR;AAEL,UAAIH,EAAE,CAACtqB,UAAH,CAAc7qB,MAAd,KAAyB,CAA7B,EAAgC,KAAK0O,UAAL,CAAgBymC,EAAhB;AAEhC,aAAOnU,KAAP;AACH,KA5zCa;;AA8zCd;;;;;;;;;AASArV,IAAAA,aAAa,EAAE,UAAUjvB,OAAV,EAAmB84C,aAAnB,EAAkCC,QAAlC,EAA4C;AACvD,YAAMC,IAAI,GAAG,IAAb;AACA,YAAMC,WAAW,GAAGH,aAAa,GAAGA,aAAa,CAACx1C,MAAjB,GAA0B,CAA3D;AACA,UAAI2xC,OAAO,GAAG,IAAd;;AAEA,UAAIgE,WAAJ,EAAiB;AACbhE,QAAAA,OAAO,GAAG,KAAK7xC,EAAL,CAAQi/B,KAAR,CAAc6W,KAAd,CAAoB,IAApB,EAA0B,IAAI,KAAK91C,EAAL,CAAQi/B,KAAZ,CAAkB4W,WAAlB,CAA1B,EAA0DnnC,GAA1D,CAA8D,KAAK1O,EAAL,CAAQ+1C,MAAR,CAAet7C,SAAf,CAAyBu7C,OAAvF,EAAgG,CAAhG,CAAV;AACH;;AAED,OAAC,SAASpD,aAAT,CAAuB76B,OAAvB,EAAgC+6B,KAAhC,EAAuCmD,UAAvC,EAAmD;AAChD,cAAM5qB,QAAQ,GAAGtT,OAAO,CAACgT,UAAzB;;AAEA,aAAK,IAAInyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B,EAAkCi1C,KAAlC,EAAyCvuB,IAA9C,EAAoDhuB,CAAC,GAAG4I,GAAxD,EAA6D5I,CAAC,EAA9D,EAAkE;AAC9Du8C,UAAAA,KAAK,GAAG9pB,QAAQ,CAACzyB,CAAD,CAAhB;AACAguB,UAAAA,IAAI,GAAGyE,QAAQ,CAACzyB,CAAC,GAAG,CAAL,CAAf;AACA,cAAI,CAACu8C,KAAL,EAAY;;AACZ,cAAIQ,QAAQ,IAAIC,IAAI,CAAC5qB,mBAAL,CAAyBmqB,KAAzB,CAAb,IAAkD,CAACQ,QAAD,KAAcC,IAAI,CAACtD,OAAL,CAAa6C,KAAb,KAAuBS,IAAI,CAAC7sB,UAAL,CAAgBosB,KAAhB,CAAvB,IAAkDS,IAAI,CAACr3B,eAAL,CAAqB42B,KAArB,KAA+B,CAACS,IAAI,CAAClF,mBAAL,CAAyByE,KAAzB,CAAhG,CAArD,EAAyL;AACrL,gBAAIS,IAAI,CAACtD,OAAL,CAAa6C,KAAb,KAAuBS,IAAI,CAAC7sB,UAAL,CAAgBosB,KAAhB,CAA3B,EAAmD;AAC/CvC,cAAAA,aAAa,CAACuC,KAAD,EAAQrC,KAAK,GAAG,CAAhB,EAAmBl6C,CAAnB,CAAb;AACH;;AACD;AACH;;AACD,cAAI4I,GAAG,KAAK,CAAR,IAAauW,OAAO,CAAChV,QAAR,KAAqBoyC,KAAK,CAACpyC,QAAxC,IAAoDgV,OAAO,CAAChK,UAAhE,EAA4E;AACxE;AACA,gBAAI8nC,WAAJ,EAAiB;AACb,kBAAInH,IAAJ,EAAU11C,CAAV,EAAa2B,CAAb,EAAgBu7C,MAAhB,EAAwBC,WAAxB;;AACA,mBAAK,IAAI/7C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGy7C,WAApB,EAAiCz7C,CAAC,EAAlC,EAAsC;AAClCs0C,gBAAAA,IAAI,GAAGgH,aAAa,CAACt7C,CAAD,CAApB;;AACA,oBAAIs0C,IAAI,IAAIA,IAAI,CAACoE,KAAD,CAAJ,KAAgBl6C,CAA5B,EAA+B;AAC3BI,kBAAAA,CAAC,GAAGm8C,KAAJ,EAAWx6C,CAAC,GAAGod,OAAf,EAAwBm+B,MAAM,GAAGpD,KAAjC,EAAwCqD,WAAW,GAAG,IAAtD;;AACA,yBAAOD,MAAM,IAAI,CAAjB,EAAoB;AAChB,wBAAIN,IAAI,CAAChgB,aAAL,CAAmBj7B,CAAC,CAACowB,UAArB,EAAiC/xB,CAAjC,MAAwC01C,IAAI,CAACwH,MAAD,CAAhD,EAA0D;AACtDC,sBAAAA,WAAW,GAAG,KAAd;AACA;AACH;;AACDn9C,oBAAAA,CAAC,GAAGm8C,KAAK,CAACpnC,UAAV;AACApT,oBAAAA,CAAC,GAAG3B,CAAC,CAAC+U,UAAN;AACAmoC,oBAAAA,MAAM;AACT;;AACD,sBAAIC,WAAJ,EAAiB;AACbzH,oBAAAA,IAAI,CAACrrC,MAAL,CAAYyvC,KAAZ,EAAmB,CAAnB;AACApE,oBAAAA,IAAI,CAACoE,KAAD,CAAJ,GAAcl6C,CAAd;AACH;AACJ;AACJ;AACJ,aAvBuE,CAyBxE;;;AACAg9C,YAAAA,IAAI,CAAC5E,iBAAL,CAAuBmE,KAAvB,EAA8Bp9B,OAA9B;AACAA,YAAAA,OAAO,CAAChK,UAAR,CAAmBqT,YAAnB,CAAgC+zB,KAAhC,EAAuCp9B,OAAvC;AACA69B,YAAAA,IAAI,CAAChnC,UAAL,CAAgBmJ,OAAhB;AACH;;AACD,cAAI,CAAC6O,IAAL,EAAW;AACP,gBAAIuuB,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B8kC,aAAa,CAACuC,KAAD,EAAQrC,KAAK,GAAG,CAAhB,EAAmBl6C,CAAnB,CAAb;AAC1B;AACH;;AAED,cAAIu8C,KAAK,CAACpyC,QAAN,KAAmB6jB,IAAI,CAAC7jB,QAAxB,IAAoC6yC,IAAI,CAAC7uB,gBAAL,CAAsBouB,KAAtB,EAA6BvuB,IAA7B,CAApC,IAA0EuuB,KAAK,CAAC5U,IAAN,KAAe3Z,IAAI,CAAC2Z,IAAlG,EAAwG;AACpG,kBAAM6V,MAAM,GAAGjB,KAAK,CAACpqB,UAArB;AACA,gBAAIsrB,WAAW,GAAG,CAAlB;;AACA,iBAAK,IAAIj8C,CAAC,GAAG,CAAR,EAAWk8C,IAAI,GAAGF,MAAM,CAACl2C,MAA9B,EAAsC9F,CAAC,GAAGk8C,IAA1C,EAAgDl8C,CAAC,EAAjD,EAAqD;AACjD,kBAAIg8C,MAAM,CAACh8C,CAAD,CAAN,CAAU6d,WAAV,CAAsB/X,MAAtB,GAA+B,CAAnC,EAAsCm2C,WAAW;AACpD;;AAED,kBAAMx9C,CAAC,GAAGs8C,KAAK,CAAC1B,SAAhB;AACA,kBAAMh6C,CAAC,GAAGmtB,IAAI,CAACxB,UAAf;AACA,gBAAImxB,SAAS,GAAG,CAAhB;;AACA,gBAAI19C,CAAC,IAAIY,CAAT,EAAY;AACR,oBAAM+8C,UAAU,GAAG39C,CAAC,CAACiV,QAAF,KAAe,CAAf,IAAoBrU,CAAC,CAACqU,QAAF,KAAe,CAAtD;AACAyoC,cAAAA,SAAS,GAAG19C,CAAC,CAACof,WAAF,CAAc/X,MAA1B;AACA,kBAAIu2C,KAAK,GAAG59C,CAAC,CAACouB,eAAd;;AACA,qBAAMwvB,KAAK,IAAIA,KAAK,CAAC3oC,QAAN,KAAmB,CAAlC,EAAqC;AACjCyoC,gBAAAA,SAAS,IAAIE,KAAK,CAACx+B,WAAN,CAAkB/X,MAA/B;AACAu2C,gBAAAA,KAAK,GAAGA,KAAK,CAACxvB,eAAd;AACH;;AAED,kBAAIovB,WAAW,GAAG,CAAd,IAAmBx9C,CAAC,CAACiV,QAAF,KAAe,CAAlC,IAAuCrU,CAAC,CAACqU,QAAF,KAAe,CAAtD,KAA4DjV,CAAC,CAACof,WAAF,CAAc/X,MAAd,GAAuB,CAAvB,IAA4BzG,CAAC,CAACwe,WAAF,CAAc/X,MAAd,GAAuB,CAA/G,CAAJ,EAAuHm2C,WAAW;;AAElI,kBAAIR,WAAJ,EAAiB;AACb,oBAAInH,IAAI,GAAG,IAAX;;AACA,qBAAK,IAAIt0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGy7C,WAApB,EAAiCz7C,CAAC,EAAlC,EAAsC;AAClCs0C,kBAAAA,IAAI,GAAGgH,aAAa,CAACt7C,CAAD,CAApB;;AACA,sBAAIs0C,IAAI,IAAIA,IAAI,CAACoE,KAAD,CAAJ,GAAcl6C,CAA1B,EAA6B;AACzB,wBAAIk6C,KAAK,GAAG,CAAR,IAAapE,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,KAAoBmD,UAArC,EAAiD;AAEjDvH,oBAAAA,IAAI,CAACoE,KAAD,CAAJ,IAAe,CAAf;;AACA,wBAAIpE,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,IAAmB,CAAnB,IAAwBpE,IAAI,CAACoE,KAAD,CAAJ,KAAgBl6C,CAA5C,EAA+C;AAC3C81C,sBAAAA,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,IAAmBuD,WAAnB;;AACA,0BAAIG,UAAJ,EAAgB;AACZ,4BAAI39C,CAAC,IAAIA,CAAC,CAACiV,QAAF,KAAe,CAApB,IAAyBrU,CAAzB,IAA8BA,CAAC,CAACqU,QAAF,KAAe,CAAjD,EAAoD;AAChD+jC,0BAAAA,OAAO,CAACz3C,CAAD,CAAP,IAAcm8C,SAAd;AACH;AACJ;AACJ;AACJ;AACJ;AACJ;AACJ;;AAED,gBAAIpB,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B;AACtByoC,cAAAA,SAAS,GAAGpB,KAAK,CAACl9B,WAAN,CAAkB/X,MAA9B;AACAi1C,cAAAA,KAAK,CAACl9B,WAAN,IAAqB2O,IAAI,CAAC3O,WAA1B;;AACA,kBAAI49B,WAAJ,EAAiB;AACb,oBAAInH,IAAI,GAAG,IAAX;;AACA,qBAAK,IAAIt0C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGy7C,WAApB,EAAiCz7C,CAAC,EAAlC,EAAsC;AAClCs0C,kBAAAA,IAAI,GAAGgH,aAAa,CAACt7C,CAAD,CAApB;;AACA,sBAAIs0C,IAAI,IAAIA,IAAI,CAACoE,KAAD,CAAJ,GAAcl6C,CAA1B,EAA6B;AACzB,wBAAIk6C,KAAK,GAAG,CAAR,IAAapE,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,KAAoBmD,UAArC,EAAiD;AAEjDvH,oBAAAA,IAAI,CAACoE,KAAD,CAAJ,IAAe,CAAf;;AACA,wBAAIpE,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,IAAmB,CAAnB,IAAwBpE,IAAI,CAACoE,KAAD,CAAJ,KAAgBl6C,CAA5C,EAA+C;AAC3C81C,sBAAAA,IAAI,CAACoE,KAAK,GAAG,CAAT,CAAJ,IAAmBuD,WAAnB;AACAxE,sBAAAA,OAAO,CAACz3C,CAAD,CAAP,IAAcm8C,SAAd;AACH;AACJ;AACJ;AACJ;AACJ,aAlBD,MAkBO;AACHpB,cAAAA,KAAK,CAACp2C,SAAN,IAAmB6nB,IAAI,CAAC7nB,SAAxB;AACH;;AAED62C,YAAAA,IAAI,CAAChnC,UAAL,CAAgBgY,IAAhB;AACAhuB,YAAAA,CAAC;AACJ,WAlED,MAkEO,IAAIu8C,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B;AAC7B8kC,YAAAA,aAAa,CAACuC,KAAD,EAAQrC,KAAK,GAAG,CAAhB,EAAmBl6C,CAAnB,CAAb;AACH;AACJ;AACJ,OAtHD,EAsHGgE,OAtHH,EAsHY,CAtHZ,EAsHe,CAtHf;;AAwHA,aAAOi1C,OAAP;AACH,KAz8Ca;;AA28Cd;;;;;AAKAhlB,IAAAA,eAAe,EAAE,UAAUjwB,OAAV,EAAmBi0C,UAAnB,EAA+B;AAC5C,UAAI,OAAOA,UAAP,KAAsB,QAA1B,EAAoC;AAChCA,QAAAA,UAAU,GAAG,UAAU94B,OAAV,EAAmB;AAAE,iBAAO,KAAKhb,IAAL,CAAUgb,OAAO,CAACyF,OAAlB,CAAP;AAAoC,SAAzD,CAA0DrjB,IAA1D,CAA+D,IAAI,KAAK6F,EAAL,CAAQ+tC,MAAZ,CAAmB,QAAQ8C,UAAU,GAAGA,UAAH,GAAgB,IAAlC,IAA0C,IAA7D,EAAmE,GAAnE,CAA/D,CAAb;AACH,OAFD,MAEO,IAAI,OAAOA,UAAP,KAAsB,UAA1B,EAAsC;AACzCA,QAAAA,UAAU,GAAG,YAAY;AAAE,iBAAO,IAAP;AAAc,SAAzC;AACH;;AAED,OAAC,SAAS+B,aAAT,CAAuB76B,OAAvB,EAAgC;AAC7B,YAAIsT,QAAQ,GAAGtT,OAAO,CAACsT,QAAvB;;AACA,YAAIA,QAAQ,CAACnrB,MAAT,KAAoB,CAApB,IAAyBmrB,QAAQ,CAAC,CAAD,CAAR,CAAYtoB,QAAZ,KAAyBgV,OAAO,CAAChV,QAA1D,IAAsE8tC,UAAU,CAAC94B,OAAD,CAApF,EAA+F;AAC3F,gBAAMzJ,IAAI,GAAG+c,QAAQ,CAAC,CAAD,CAArB;AACAA,UAAAA,QAAQ,GAAG/c,IAAI,CAAC+c,QAAhB;;AACA,iBAAOA,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBtT,YAAAA,OAAO,CAAC1b,WAAR,CAAoBgvB,QAAQ,CAAC,CAAD,CAA5B;AACH;;AACDtT,UAAAA,OAAO,CAAC2U,WAAR,CAAoBpe,IAApB;AACH;;AAED,aAAK,IAAI1V,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuW,OAAO,CAACsT,QAAR,CAAiBnrB,MAAvC,EAA+CtH,CAAC,GAAG4I,GAAnD,EAAwD5I,CAAC,EAAzD,EAA6D;AACzDg6C,UAAAA,aAAa,CAAC76B,OAAO,CAACsT,QAAR,CAAiBzyB,CAAjB,CAAD,CAAb;AACH;AACJ,OAdD,EAcGgE,OAdH;AAeH,KAt+Ca;;AAw+Cd;;;;;AAKA85C,IAAAA,eAAe,EAAE,UAAU95C,OAAV,EAAmB+5C,aAAnB,EAAkC;AAC/C,YAAMf,IAAI,GAAG,IAAb;;AAEA,UAAIe,aAAJ,EAAmB;AACfA,QAAAA,aAAa,GAAGf,IAAI,CAAChzC,gBAAL,CAAsB+zC,aAAtB,EAAqC,UAAU5+B,OAAV,EAAmB;AACpE,iBAAOnb,OAAO,KAAKmb,OAAO,CAACjV,aAA3B;AACH,SAFe,CAAhB;AAGH;;AAED,OAAC,SAAS8vC,aAAT,CAAuB76B,OAAvB,EAAgC;AAC7B,YAAI69B,IAAI,CAACgB,YAAL,CAAkB7+B,OAAlB,KAA8BA,OAAO,KAAK4+B,aAA1C,IAA2Df,IAAI,CAACrF,aAAL,CAAmBx4B,OAAnB,CAA/D,EAA4F,OAAO,CAAP;;AAC5F,YAAIA,OAAO,KAAKnb,OAAZ,IAAuBg5C,IAAI,CAACxe,kBAAL,CAAwBrf,OAAO,CAACE,WAAhC,CAAvB,KAAwE,CAACF,OAAO,CAACqN,UAAT,IAAuB,CAACwwB,IAAI,CAACrD,OAAL,CAAax6B,OAAO,CAACqN,UAArB,CAAhG,CAAJ,EAAuI;AACnI,cAAIrN,OAAO,CAAChK,UAAZ,EAAwB;AACpBgK,YAAAA,OAAO,CAAChK,UAAR,CAAmB2e,WAAnB,CAA+B3U,OAA/B;AACA,mBAAO,CAAC,CAAR;AACH;AACJ,SALD,MAKO;AACH,gBAAMsT,QAAQ,GAAGtT,OAAO,CAACsT,QAAzB;;AACA,eAAK,IAAIzyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B,EAAkCzG,CAAC,GAAG,CAA3C,EAA8Cb,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxD,gBAAI,CAACyyB,QAAQ,CAACzyB,CAAC,GAAGa,CAAL,CAAT,IAAoBm8C,IAAI,CAAC5gC,WAAL,CAAiBqW,QAAQ,CAACzyB,CAAC,GAAGa,CAAL,CAAzB,CAAxB,EAA2D;AAC3DA,YAAAA,CAAC,IAAIm5C,aAAa,CAACvnB,QAAQ,CAACzyB,CAAC,GAAGa,CAAL,CAAT,CAAlB;AACH;AACJ;;AAED,eAAO,CAAP;AACH,OAhBD,EAgBGmD,OAhBH;;AAkBA,UAAIA,OAAO,CAACmuB,UAAR,CAAmB7qB,MAAnB,KAA8B,CAAlC,EAAqCtD,OAAO,CAACmC,SAAR,GAAoB,MAApB;AACxC,KAzgDa;;AA2gDd;;;;;AAKA83C,IAAAA,oBAAoB,EAAE,UAAUnwB,IAAV,EAAgB;AAClC,UAAI,CAACA,IAAL,EAAW,OAAO,EAAP;AACX,aAAOA,IAAI,CAACrJ,IAAL,GAAY/J,OAAZ,CAAoB,oGAApB,EAA0H,UAAUva,CAAV,EAAa;AAAE,eAAOA,CAAC,CAACskB,IAAF,EAAP;AAAkB,OAA3J,CAAP;AACH,KAnhDa;;AAqhDd;;;;;AAKAsL,IAAAA,WAAW,EAAE,UAAU2hB,KAAV,EAAiBwM,GAAjB,EAAsB;AAC/B,YAAMj9C,CAAC,GAAG,CAACi9C,GAAD,GAAO,CAAC,CAAR,GAAY,CAAtB;AACA,YAAM3xB,CAAC,GAAGtrB,CAAC,GAAG,CAAC,CAAf;AAEAywC,MAAAA,KAAK,CAACzW,IAAN,CAAW,UAAUllB,CAAV,EAAamlB,CAAb,EAAgB;AACvB,YAAI,CAAC,KAAK/K,UAAL,CAAgBpa,CAAhB,CAAD,IAAuB,CAAC,KAAKoa,UAAL,CAAgB+K,CAAhB,CAA5B,EAAgD,OAAO,CAAP;AAChDnlB,QAAAA,CAAC,GAAG,KAAK2c,eAAL,CAAqB3c,CAArB,CAAJ;AACAmlB,QAAAA,CAAC,GAAG,KAAKxI,eAAL,CAAqBwI,CAArB,CAAJ;AACA,eAAOnlB,CAAC,GAAGmlB,CAAJ,GAAQj6B,CAAR,GAAY8U,CAAC,GAAGmlB,CAAJ,GAAQ3O,CAAR,GAAY,CAA/B;AACH,OALU,CAKThrB,IALS,CAKJ,IALI,CAAX;AAMH,KApiDa;;AAsiDd;;;;;;AAMA6wB,IAAAA,mBAAmB,EAAE,UAAUpuB,OAAV,EAAmB;AACpC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,KAAKyiC,aAAL,CAAmB3zC,OAAnB,KAA+B,CAAC,KAAK4zC,kBAAL,CAAwB5zC,OAAxB,CAAtE,CAAP;AACH,KA9iDa;;AAgjDd;;;;;;AAMAm6C,IAAAA,iBAAiB,EAAE,UAAUn6C,OAAV,EAAmB;AAClC,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,IAAqC,oBAAoB/Q,IAApB,CAAyB,OAAOH,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwCA,OAAO,CAACmG,QAAzE,CAA5C;AACH,KAxjDa;;AA0jDd;;;;;;AAMAi0C,IAAAA,WAAW,EAAE,UAAUp6C,OAAV,EAAmB;AAC5B,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,IAAqC,KAAK0iC,kBAAL,CAAwB5zC,OAAxB,CAArC,IAAyE,CAAC,CAACA,OAAO,CAACV,KAAR,CAAciJ,QAAhG;AACH,KAlkDa;;AAokDd;;;;;;AAMAyxC,IAAAA,YAAY,EAAE,UAAUh6C,OAAV,EAAmB;AAC7B,aAAOA,OAAO,IAAIA,OAAO,CAACkR,QAAR,KAAqB,CAAhC,KAAsC,KAAKkH,WAAL,CAAiBpY,OAAjB,KAA6B,qDAAqDG,IAArD,CAA0D,OAAOH,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwCA,OAAO,CAACmG,QAA1G,CAAnE,CAAP;AACH,KA5kDa;;AA8kDd;;;;;;AAMAk0C,IAAAA,eAAe,EAAE,UAAUr6C,OAAV,EAAmB;AAChC,aAAO,6CAA6CG,IAA7C,CAAkDH,OAAO,CAACmG,QAA1D,CAAP;AACH,KAtlDa;;AAwlDd;;;;;;AAMAm0C,IAAAA,mBAAmB,EAAE,UAAU9wC,IAAV,EAAgB;AACjC,YAAM+wC,aAAa,GAAG/wC,IAAI,CAAC3C,KAAL,CAAW,GAAX,CAAtB;AACA,UAAI2zC,MAAM,GAAG,QAAb;;AAEA,WAAK,IAAIx+C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG21C,aAAa,CAACj3C,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtDw+C,QAAAA,MAAM,IAAI,WAAWD,aAAa,CAACv+C,CAAD,CAAxB,GAA8B,MAAxC;AACH;;AAEDw+C,MAAAA,MAAM,IAAI,QAAV;AAEA,aAAO,IAAIrJ,MAAJ,CAAWqJ,MAAX,EAAmB,GAAnB,CAAP;AACH,KAzmDa;;AA2mDd;;;;;;AAMAC,IAAAA,uBAAuB,EAAE,UAAUC,gBAAV,EAA4BC,wBAA5B,EAAsD;AAC3E;;;;AAIA,YAAMC,UAAU,GAAG,EAAnB;AAAA,YAAuBC,SAAS,GAAG,EAAnC;AAAA,YAAuCC,SAAS,GAAG,EAAnD;AAAA,YAAuDC,kBAAkB,GAAG,EAA5E,CAL2E,CAO3E;;AACA,YAAMC,SAAS,GAAG,KAAK/E,iBAAL,CAAuByE,gBAAvB,EAAyC,UAAUv/B,OAAV,EAAmB;AAC1E,YAAIA,OAAO,CAACjK,QAAR,KAAqB,CAAzB,EAA4B,OAAO,KAAP,CAD8C,CAG1E;;AACA,YAAI,CAACypC,wBAAwB,CAACx6C,IAAzB,CAA8Bgb,OAAO,CAAChV,QAAtC,CAAD,IAAoDgV,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAAlF,IAAuF,KAAK0wC,iBAAL,CAAuB74B,OAAvB,CAA3F,EAA4H;AACxHy/B,UAAAA,UAAU,CAACx0C,IAAX,CAAgB+U,OAAhB;AACA,iBAAO,KAAP;AACH;;AAED,cAAM8/B,KAAK,GAAG,CAAC,KAAKj1C,gBAAL,CAAsBmV,OAAtB,EAA+B,KAAK64B,iBAApC,CAAf,CAT0E,CAU1E;;AACA,YAAK,CAAC,KAAK0B,OAAL,CAAav6B,OAAb,CAAD,IAA0B,CAAC,KAAKgR,UAAL,CAAgBhR,OAAhB,CAA5B,KAA0D,KAAKwG,eAAL,CAAqBxG,OAArB,KAAiC,KAAKkT,oBAAL,CAA0BlT,OAA1B,CAAjC,IAAuE,KAAKy4B,kBAAL,CAAwBz4B,OAAxB,CAAjI,KAAsKA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAApM,IAAyM23C,KAA7M,EAAoN;AAChNJ,UAAAA,SAAS,CAACz0C,IAAV,CAAe+U,OAAf;AACA,iBAAO,KAAP;AACH,SAdyE,CAgB1E;;;AACA,YAAI,KAAKuQ,MAAL,CAAYvQ,OAAO,CAAChK,UAApB,KAAmC,CAAC,KAAKua,MAAL,CAAYvQ,OAAZ,CAApC,IAA4D,CAAC,KAAKgR,UAAL,CAAgBhR,OAAhB,CAAjE,EAA2F;AACvF2/B,UAAAA,SAAS,CAAC10C,IAAV,CAAe+U,OAAf;AACA,iBAAO,KAAP;AACH,SApByE,CAsB1E;;;AACA,YAAI,KAAK0S,MAAL,CAAY1S,OAAZ,CAAJ,EAA0B;AACtB,gBAAM+/B,GAAG,GAAG//B,OAAO,CAACpC,iBAApB;;AACA,cAAI,CAAC,KAAK4I,eAAL,CAAqBu5B,GAArB,CAAD,IAA8B,CAAC,KAAK7sB,oBAAL,CAA0B6sB,GAA1B,CAA/B,IAAiE,CAAC,KAAK9iC,WAAL,CAAiB8iC,GAAjB,CAAtE,EAA6F;AACzFH,YAAAA,kBAAkB,CAAC30C,IAAnB,CAAwB+U,OAAxB;AACA,mBAAO,KAAP;AACH;AACJ;;AAED,eAAOA,OAAO,CAAChK,UAAR,KAAuBupC,gBAAvB,KACL,KAAK/4B,eAAL,CAAqBxG,OAArB,KAAiC,KAAK/C,WAAL,CAAiB+C,OAAjB,CAAjC,IAA8D,KAAKuQ,MAAL,CAAYvQ,OAAZ,CADzD,KAEN,CAAC,KAAKkT,oBAAL,CAA0BlT,OAAO,CAAChK,UAAlC,CAFK,IAE4C,CAAC,KAAKgb,UAAL,CAAgBhR,OAAO,CAAChK,UAAxB,CAF7C,IAGN,CAAC,KAAKnL,gBAAL,CAAsBmV,OAAtB,EAA+B,KAAK/C,WAApC,CAHK,IAG+C6iC,KAHtD;AAIH,OAnC0D,CAmCzD19C,IAnCyD,CAmCpD,IAnCoD,CAAzC,CAAlB;;AAqCA,WAAK,IAAIvB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGg2C,UAAU,CAACt3C,MAAjC,EAAyCtH,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnD,aAAKgW,UAAL,CAAgB4oC,UAAU,CAAC5+C,CAAD,CAA1B;AACH;;AAED,YAAMm/C,SAAS,GAAG,EAAlB;;AACA,WAAK,IAAIn/C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGo2C,SAAS,CAAC13C,MAA3B,EAAmCrG,CAAnC,EAAsCc,CAA3C,EAA8C/B,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxDiB,QAAAA,CAAC,GAAG+9C,SAAS,CAACh/C,CAAD,CAAb;AACA+B,QAAAA,CAAC,GAAGd,CAAC,CAACkU,UAAN;AACA,YAAI,CAACpT,CAAD,IAAM,CAACA,CAAC,CAACoT,UAAb,EAAyB;AACzBpT,QAAAA,CAAC,CAACoT,UAAF,CAAaqT,YAAb,CAA0BvnB,CAA1B,EAA6Bc,CAA7B;AACAo9C,QAAAA,SAAS,CAAC/0C,IAAV,CAAerI,CAAf;AACH;;AAED,WAAK,IAAI/B,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGu2C,SAAS,CAAC73C,MAA3B,EAAmCrG,CAAxC,EAA2CjB,CAAC,GAAG4I,GAA/C,EAAoD5I,CAAC,EAArD,EAAyD;AACrDiB,QAAAA,CAAC,GAAGk+C,SAAS,CAACn/C,CAAD,CAAb;;AACA,YAAI,KAAKw+B,kBAAL,CAAwBv9B,CAAC,CAACoe,WAAF,CAAcoF,IAAd,EAAxB,CAAJ,EAAmD;AAC/C,eAAKzO,UAAL,CAAgB/U,CAAhB;AACH;AACJ;;AAED,WAAK,IAAIjB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGi2C,SAAS,CAACv3C,MAAhC,EAAwCtH,CAAC,GAAG4I,GAA5C,EAAiD5I,CAAC,EAAlD,EAAsD;AAClD,aAAKgW,UAAL,CAAgB6oC,SAAS,CAAC7+C,CAAD,CAAzB;AACH;;AAED,WAAK,IAAIA,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGk2C,SAAS,CAACx3C,MAA3B,EAAmCrG,CAAnC,EAAsCm+C,EAAtC,EAA0C3sB,QAA1C,EAAoD1wB,CAAzD,EAA4D/B,CAAC,GAAG4I,GAAhE,EAAqE5I,CAAC,EAAtE,EAA0E;AACtEiB,QAAAA,CAAC,GAAG69C,SAAS,CAAC9+C,CAAD,CAAb;AAEAo/C,QAAAA,EAAE,GAAG,KAAKj8C,aAAL,CAAmB,IAAnB,CAAL;AACAsvB,QAAAA,QAAQ,GAAGxxB,CAAC,CAACkxB,UAAb;;AACA,eAAOM,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChB2sB,UAAAA,EAAE,CAAC37C,WAAH,CAAegvB,QAAQ,CAAC,CAAD,CAAvB;AACH;;AAED1wB,QAAAA,CAAC,GAAGd,CAAC,CAACkU,UAAN;AACA,YAAI,CAACpT,CAAL,EAAQ;AACRA,QAAAA,CAAC,CAACymB,YAAF,CAAe42B,EAAf,EAAmBn+C,CAAnB;AACA,aAAK+U,UAAL,CAAgB/U,CAAhB;AACH;;AAED,WAAK,IAAIjB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGm2C,kBAAkB,CAACz3C,MAApC,EAA4CrG,CAA5C,EAA+CsrB,CAApD,EAAuDvsB,CAAC,GAAG4I,GAA3D,EAAgE5I,CAAC,EAAjE,EAAqE;AACjEiB,QAAAA,CAAC,GAAG89C,kBAAkB,CAAC/+C,CAAD,CAAtB;AACAusB,QAAAA,CAAC,GAAG,KAAKppB,aAAL,CAAmB,KAAnB,CAAJ;AACAopB,QAAAA,CAAC,CAACpmB,SAAF,GAAclF,CAAC,CAACoe,WAAF,CAAcoF,IAAd,GAAqBnd,MAArB,KAAgC,CAAhC,GAAoC,MAApC,GAA6CrG,CAAC,CAACkF,SAA7D;AACAlF,QAAAA,CAAC,CAACkF,SAAF,GAAcomB,CAAC,CAACgG,SAAhB;AACH;AACJ,KA3sDa;AA6sDd8sB,IAAAA,sBAAsB,EAAE,UAAUz3B,OAAV,EAAmB2M,YAAnB,EAAiC;AACrD,UAAI+qB,WAAW,GAAG,EAAlB;AACA,UAAI13B,OAAO,CAAChX,MAAZ,EAAoB0uC,WAAW,IAAI,YAAY13B,OAAO,CAAChX,MAApB,GAA6B,GAA5C;AACpB,UAAIgX,OAAO,CAAC23B,SAAZ,EAAuBD,WAAW,IAAI,gBAAgB13B,OAAO,CAAC23B,SAAxB,GAAoC,GAAnD;AACvB,UAAI33B,OAAO,CAAC9D,SAAZ,EAAuBw7B,WAAW,IAAI,gBAAgB13B,OAAO,CAAC9D,SAAxB,GAAoC,GAAnD;AACvB,UAAI8D,OAAO,CAAC1iB,QAAZ,EAAsBo6C,WAAW,IAAI,cAAc13B,OAAO,CAAC1iB,QAAtB,GAAiC,GAAhD;AACtB,UAAI0iB,OAAO,CAACjc,KAAZ,EAAmB2zC,WAAW,IAAI,WAAW13B,OAAO,CAACjc,KAAnB,GAA2B,GAA1C;AACnB,UAAIic,OAAO,CAACqhB,QAAZ,EAAsBqW,WAAW,IAAI,eAAe13B,OAAO,CAACqhB,QAAvB,GAAkC,GAAjD;AACtB,UAAIrhB,OAAO,CAACnI,QAAZ,EAAsB6/B,WAAW,IAAI,eAAe13B,OAAO,CAACnI,QAAvB,GAAkC,GAAjD;AAEtB,UAAIvD,GAAG,GAAG,EAAV;AAAA,UAAcuwB,KAAK,GAAG,EAAtB;AAAA,UAA0B+S,MAAM,GAAG,EAAnC;AACAjrB,MAAAA,YAAY,GAAG+qB,WAAW,GAAG/qB,YAA7B;AACA,YAAMkrB,QAAQ,GAAGlrB,YAAY,CAAC1pB,KAAb,CAAmB,GAAnB,CAAjB;;AACA,WAAK,IAAI7K,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG62C,QAAQ,CAACn4C,MAA1B,EAAkCtF,CAAvC,EAA0ChC,CAAC,GAAG4I,GAA9C,EAAmD5I,CAAC,EAApD,EAAwD;AACpDgC,QAAAA,CAAC,GAAGy9C,QAAQ,CAACz/C,CAAD,CAAR,CAAYykB,IAAZ,EAAJ;AACA,YAAI,CAACziB,CAAL,EAAQ;;AACR,YAAI,yBAAyBmC,IAAzB,CAA8BnC,CAA9B,CAAJ,EAAsC;AAClCka,UAAAA,GAAG,IAAIla,CAAC,GAAG,GAAX;AACA;AACH;;AACD,YAAI,0BAA0BmC,IAA1B,CAA+BnC,CAA/B,CAAJ,EAAuC;AACnC,cAAI,UAAUmC,IAAV,CAAenC,CAAf,KAAqBA,CAAC,CAAC6I,KAAF,CAAQ,GAAR,EAAa,CAAb,EAAgB4Z,IAAhB,OAA2B,MAApD,EAA4D;AACxDmD,YAAAA,OAAO,CAAChX,MAAR,GAAiB,MAAjB;AACH;;AACD67B,UAAAA,KAAK,IAAIzqC,CAAC,GAAG,GAAb;AACA;AACH;;AACDw9C,QAAAA,MAAM,IAAIx9C,CAAC,GAAG,GAAd;AACH;;AAED,aAAO;AACHka,QAAAA,GAAG,EAAEA,GADF;AAEHuwB,QAAAA,KAAK,EAAEA,KAFJ;AAGH+S,QAAAA,MAAM,EAAEA;AAHL,OAAP;AAKH,KAhvDa;AAkvDdE,IAAAA,kBAAkB,EAAE,UAAUjT,KAAV,EAAiB7kB,OAAjB,EAA0B;AAC1C6kB,MAAAA,KAAK,CAAC1mC,YAAN,CAAmB,WAAnB,EAAgC,MAAhC;AACA0mC,MAAAA,KAAK,CAACqK,eAAN,CAAsB6I,IAAtB,CAA2Bx5C,SAA3B,GAAuC,KACnC,0BADmC,GAEnC,sEAFmC,GAGnC,iBAHmC,GAInC,KAAKy5C,iBAAL,CAAuBh4B,OAAvB,CAJJ;AAKA6kB,MAAAA,KAAK,CAACqK,eAAN,CAAsBjhC,IAAtB,CAA2BzS,SAA3B,GAAuC,qBAAvC;AACAqpC,MAAAA,KAAK,CAACqK,eAAN,CAAsBjhC,IAAtB,CAA2B9P,YAA3B,CAAwC,iBAAxC,EAA2D,IAA3D;AACH,KA3vDa;AA6vDd65C,IAAAA,iBAAiB,EAAE,UAAUh4B,OAAV,EAAmB;AAClC,YAAMi4B,SAAS,GAAGj4B,OAAO,CAACk4B,iBAA1B;AACA,YAAMC,OAAO,GAAG,KAAK34C,EAAL,CAAQ+tC,MAAxB;AACA,UAAI6K,SAAS,GAAG,EAAhB;;AAEA,WAAK,IAAIzzB,CAAC,GAAG,CAAR,EAAW3jB,GAAG,GAAGi3C,SAAS,CAACv4C,MAA3B,EAAmCwuC,IAAxC,EAA8CvpB,CAAC,GAAG3jB,GAAlD,EAAuD2jB,CAAC,EAAxD,EAA4D;AACxDupB,QAAAA,IAAI,GAAG,EAAP;;AAEA,YAAI,oCAAoC3xC,IAApC,CAAyC07C,SAAS,CAACtzB,CAAD,CAAlD,CAAJ,EAA4D;AACxDupB,UAAAA,IAAI,CAAC1rC,IAAL,CAAUy1C,SAAS,CAACtzB,CAAD,CAAnB;AACH,SAFD,MAEO;AACH,gBAAM0zB,WAAW,GAAG,IAAIF,OAAJ,CAAY,gBAAgBF,SAAS,CAACtzB,CAAD,CAAzB,GAA+B,+BAA3C,EAA4E,GAA5E,CAApB;;AACA,eAAK,IAAInsB,CAAC,GAAGiC,QAAQ,CAAC2G,oBAAT,CAA8B,MAA9B,CAAR,EAA+ChJ,CAAC,GAAG,CAAnD,EAAsD4I,GAAG,GAAGxI,CAAC,CAACkH,MAA9D,EAAsE44C,QAA3E,EAAqFlgD,CAAC,GAAG4I,GAAzF,EAA8F5I,CAAC,EAA/F,EAAmG;AAC/FkgD,YAAAA,QAAQ,GAAG9/C,CAAC,CAACJ,CAAD,CAAD,CAAK2nC,IAAL,CAAUpyB,KAAV,CAAgB0qC,WAAhB,CAAX;AACA,gBAAIC,QAAJ,EAAcpK,IAAI,CAAC1rC,IAAL,CAAU81C,QAAQ,CAAC,CAAD,CAAlB;AACjB;AACJ;;AAED,YAAI,CAACpK,IAAD,IAASA,IAAI,CAACxuC,MAAL,KAAgB,CAA7B,EAAgC,MAAM,yMAAN;;AAEhC,aAAK,IAAItH,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGktC,IAAI,CAACxuC,MAA3B,EAAmCtH,CAAC,GAAG4I,GAAvC,EAA4C5I,CAAC,EAA7C,EAAiD;AAC7CggD,UAAAA,SAAS,IAAI,iBAAiBlK,IAAI,CAAC91C,CAAD,CAArB,GAA2B,qBAAxC;AACH;AACJ;;AAED,aAAOggD,SAAS,IAAIp4B,OAAO,CAAChX,MAAR,KAAmB,MAAnB,GAA4B,4FAA5B,GAA2H,EAA/H,CAAhB;AACH;AAvxDa,GAAlB;AA0xDA;;AAA6B,MAAIuvC,QAAQ,GAAI9L,SAAhB,CAh6DqC,CAi6DlE;;AACA;;;;;;;;AAaA;;AAA6B,MAAI+L,eAAe,GAAI;AAChD;;;;;;AAMA96C,IAAAA,IAAI,EAAE,UAAUtB,OAAV,EAAmB4jB,OAAnB,EAA4B;AAC9B,UAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiCA,OAAO,GAAG,EAAV;AAEjC,YAAMyuB,GAAG,GAAGh0C,QAAZ;AAEA;;AACA,WAAKg+C,YAAL,CAAkBr8C,OAAlB,EAA2B4jB,OAA3B,EAN8B,CAQ9B;;;AACA,YAAM04B,OAAO,GAAGjK,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAhB;AACAm9C,MAAAA,OAAO,CAACl9C,SAAR,GAAoB,YAApB;AACA,UAAIY,OAAO,CAACu8C,EAAZ,EAAgBD,OAAO,CAACC,EAAR,GAAa,eAAev8C,OAAO,CAACu8C,EAApC,CAXc,CAa9B;;AACA,YAAMt8C,QAAQ,GAAGoyC,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAjB;AACAc,MAAAA,QAAQ,CAACb,SAAT,GAAqB,cAArB,CAf8B,CAiB9B;;AACA,YAAMo9C,QAAQ,GAAG,KAAKC,cAAL,CAAoBpK,GAApB,EAAyBzuB,OAAO,CAAC8zB,UAAjC,EAA6C9zB,OAAO,CAACrjB,OAArD,EAA8DqjB,OAA9D,CAAjB;;AACA44B,MAAAA,QAAQ,CAACx8C,OAAT,CAAiBV,KAAjB,CAAuB62B,UAAvB,GAAoC,QAApC;AACA,UAAIqmB,QAAQ,CAACE,iBAAT,CAA2BzyC,IAA/B,EAAqC,KAAK0yC,eAAL,CAAqB/4B,OAAO,CAACF,KAA7B;AACrC,YAAMk5B,KAAK,GAAGvK,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAd;AACAy9C,MAAAA,KAAK,CAACx9C,SAAN,GAAkB,UAAlB,CAtB8B,CAwB9B;;AACA,YAAMy9C,YAAY,GAAGxK,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAArB;AACA09C,MAAAA,YAAY,CAACz9C,SAAb,GAAyB,yBAAzB,CA1B8B,CA4B9B;;AACA,YAAM09C,UAAU,GAAGzK,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAnB;AACA29C,MAAAA,UAAU,CAAC19C,SAAX,GAAuB,YAAvB;AAEA;;AACA,YAAM29C,YAAY,GAAG,KAAKC,aAAL,CAAmBp5B,OAAnB,EAA4B04B,OAA5B,EAAqCE,QAAQ,CAACx8C,OAA9C,EAAuD48C,KAAvD,CAArB;;AAEA,YAAMK,SAAS,GAAGF,YAAY,CAACE,SAA/B;AACA,YAAMC,WAAW,GAAGH,YAAY,CAACnlC,YAAjC;AACA,YAAMulC,gBAAgB,GAAGJ,YAAY,CAAClU,WAAtC;AACA,UAAIuU,QAAQ,GAAGL,YAAY,CAACxyC,QAA5B,CAtC8B,CAwC9B;;AACA,YAAM8yC,YAAY,GAAGJ,SAAS,CAACK,WAA/B;AACA,YAAMC,UAAU,GAAGN,SAAS,CAACM,UAA7B;AACA,YAAMC,YAAY,GAAGP,SAAS,CAACQ,WAA/B;AACA,YAAMC,YAAY,GAAGT,SAAS,CAACU,WAA/B,CA5C8B,CA8C9B;;AACA,YAAMC,WAAW,GAAGvL,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAApB;AACAy+C,MAAAA,WAAW,CAACx+C,SAAZ,GAAwB,kCAAxB;AACAw+C,MAAAA,WAAW,CAACz7C,SAAZ,GAAwB,uCAAxB,CAjD8B,CAmD9B;;AACA,YAAM07C,YAAY,GAAGxL,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAArB;AACA0+C,MAAAA,YAAY,CAACz+C,SAAb,GAAyB,iBAAzB;AACAy+C,MAAAA,YAAY,CAAC17C,SAAb,GAAyB,4BAA4ByhB,OAAO,CAAC7T,KAAR,CAAc2/B,UAA1C,GAAuD,WAAhF;AACA,YAAMoO,cAAc,GAAGzL,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAvB;AACA2+C,MAAAA,cAAc,CAAC1+C,SAAf,IAA4B,2BAA5B;AACA,YAAM2+C,cAAc,GAAGD,cAAc,CAAC73B,SAAf,CAAyB,IAAzB,CAAvB;AACA63B,MAAAA,cAAc,CAAC37C,SAAf,GAA2B47C,cAAc,CAAC57C,SAAf,GAA2ByhB,OAAO,CAAC7T,KAAR,CAAc2/B,UAApE,CA1D8B,CA4D9B;;AACA,YAAMsO,WAAW,GAAG3L,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAApB;AACA6+C,MAAAA,WAAW,CAAC5+C,SAAZ,GAAwB,kBAAxB,CA9D8B,CAgE9B;;AACA,YAAM6+C,gBAAgB,GAAGr6B,OAAO,CAACq6B,gBAAjC;;AACA,UAAIA,gBAAJ,EAAsB;AAClBA,QAAAA,gBAAgB,CAACx+C,WAAjB,CAA6B+8C,QAAQ,CAACx8C,OAAtC;AACH;AAED;;;AACA88C,MAAAA,UAAU,CAACr9C,WAAX,CAAuB29C,QAAvB;AACA,UAAID,gBAAJ,EAAsBL,UAAU,CAACr9C,WAAX,CAAuB09C,gBAAvB;AACtB,UAAI,CAACc,gBAAL,EAAuBh+C,QAAQ,CAACR,WAAT,CAAqB+8C,QAAQ,CAACx8C,OAA9B;AACvBC,MAAAA,QAAQ,CAACR,WAAT,CAAqBo9C,YAArB;AACA58C,MAAAA,QAAQ,CAACR,WAAT,CAAqBq9C,UAArB;AACA78C,MAAAA,QAAQ,CAACR,WAAT,CAAqBu+C,WAArB;AACA/9C,MAAAA,QAAQ,CAACR,WAAT,CAAqBm+C,WAArB;AACA39C,MAAAA,QAAQ,CAACR,WAAT,CAAqBo+C,YAArB;AACA59C,MAAAA,QAAQ,CAACR,WAAT,CAAqBq+C,cAArB;AACA79C,MAAAA,QAAQ,CAACR,WAAT,CAAqBs+C,cAArB;AACA,UAAIV,YAAJ,EAAkBp9C,QAAQ,CAACR,WAAT,CAAqB49C,YAArB;AAClBf,MAAAA,OAAO,CAAC78C,WAAR,CAAoBQ,QAApB;AAEAm9C,MAAAA,QAAQ,GAAG,KAAKc,gBAAL,CAAsBt6B,OAAtB,EAA+Bw5B,QAA/B,CAAX;AAEA,aAAO;AACHe,QAAAA,WAAW,EAAE;AACTC,UAAAA,IAAI,EAAE9B,OADG;AAET+B,UAAAA,SAAS,EAAEp+C,QAFF;AAGTq+C,UAAAA,QAAQ,EAAE9B,QAAQ,CAACx8C,OAHV;AAITu+C,UAAAA,SAAS,EAAE/B,QAAQ,CAAC+B,SAJX;AAKTC,UAAAA,WAAW,EAAE1B,UALJ;AAMT2B,UAAAA,YAAY,EAAEvB,WANL;AAOTwB,UAAAA,SAAS,EAAEtB,QAPF;AAQTuB,UAAAA,YAAY,EAAExB,gBARL;AASTyB,UAAAA,YAAY,EAAEvB,YATL;AAUTwB,UAAAA,WAAW,EAAEtB,UAVJ;AAWTuB,UAAAA,YAAY,EAAEtB,YAXL;AAYTuB,UAAAA,YAAY,EAAErB,YAZL;AAaT3/B,UAAAA,QAAQ,EAAE6/B,WAbD;AAcToB,UAAAA,YAAY,EAAEnB,YAdL;AAeToB,UAAAA,cAAc,EAAEnB,cAfP;AAgBToB,UAAAA,cAAc,EAAEnB,cAhBP;AAiBToB,UAAAA,WAAW,EAAEnB,WAjBJ;AAkBToB,UAAAA,YAAY,EAAEvC,YAlBL;AAmBTwC,UAAAA,MAAM,EAAEzC;AAnBC,SADV;AAsBHh5B,QAAAA,OAAO,EAAEA,OAtBN;AAuBHrjB,QAAAA,OAAO,EAAEi8C,QAAQ,CAACj8C,OAvBf;AAwBHm8C,QAAAA,iBAAiB,EAAEF,QAAQ,CAACE,iBAxBzB;AAyBH4C,QAAAA,kBAAkB,EAAE9C,QAAQ,CAAC+C;AAzB1B,OAAP;AA2BH,KAxH+C;;AA0HhD;;;;;;AAMArB,IAAAA,gBAAgB,EAAE,UAAUt6B,OAAV,EAAmBw5B,QAAnB,EAA6B;AAC3C,UAAIx5B,OAAO,CAAC47B,UAAZ,EAAwB;AACpB,cAAMC,SAAS,GAAG,CAAC;AACfviD,UAAAA,IAAI,EAAE,WADS;AAEfwiD,UAAAA,QAAQ,EAAE,IAFK;AAGfC,UAAAA,WAAW,EAAE,IAHE;AAIfC,UAAAA,YAAY,EAAE;AAJC,SAAD,EAKdh8B,OAAO,CAAC47B,UAAR,CAAmB57B,OAAnB,IAA8B,EALhB,EAKqBi8B,MALrB,CAK4B,UAAUv+C,IAAV,EAAgBN,MAAhB,EAAwB;AAClE,eAAK,IAAI1D,GAAT,IAAgB0D,MAAhB,EAAwB;AACpB,gBAAIm7C,QAAQ,CAACnU,MAAT,CAAgBhnC,MAAhB,EAAwB1D,GAAxB,CAAJ,EAAkCgE,IAAI,CAAChE,GAAD,CAAJ,GAAY0D,MAAM,CAAC1D,GAAD,CAAlB;AACrC;;AACD,iBAAOgE,IAAP;AACH,SAViB,EAUf,EAVe,CAAlB;;AAYA,YAAIsiB,OAAO,CAAChX,MAAR,KAAmB,MAAvB,EAA+B;AAC3B6yC,UAAAA,SAAS,CAACK,cAAV,GAA2BC,QAA3B;AACAN,UAAAA,SAAS,CAAC7yC,MAAV,GAAmB,MAAnB;AACH;;AAED,cAAMozC,EAAE,GAAGp8B,OAAO,CAAC47B,UAAR,CAAmB/5C,GAAnB,CAAuBw6C,YAAvB,CAAoC7C,QAApC,EAA8CqC,SAA9C,CAAX;AACAO,QAAAA,EAAE,CAACzgD,OAAH,CAAW2gD,OAAX,CAAmB5gD,KAAnB,CAAyB+9B,OAAzB,GAAmC+f,QAAQ,CAAC99C,KAAT,CAAe+9B,OAAlD;AAEAzZ,QAAAA,OAAO,CAACu8B,gBAAR,GAA2BH,EAA3B;AACA5C,QAAAA,QAAQ,GAAG4C,EAAE,CAACzgD,OAAH,CAAW2gD,OAAtB;AACA9C,QAAAA,QAAQ,CAACh+C,SAAT,IAAsB,yBAAtB;AACH;;AAED,aAAOg+C,QAAP;AACH,KA5J+C;;AA8JhD;;;;;AAKAT,IAAAA,eAAe,EAAE,UAAUj5B,KAAV,EAAiB;AAC9B,UAAI,CAACA,KAAL,EAAY,MAAMnlB,KAAK,CAAC,iGAAD,CAAX;AAEZ,YAAM6hD,YAAY,GAAG,CAAC;AAClBC,QAAAA,YAAY,EAAE;AADI,OAAD,EAEjB38B,KAAK,CAACE,OAAN,IAAiB,EAFA,EAEKi8B,MAFL,CAEY,UAAUv+C,IAAV,EAAgBN,MAAhB,EAAwB;AACrD,aAAK,IAAI1D,GAAT,IAAgB0D,MAAhB,EAAwB;AACpB,cAAIm7C,QAAQ,CAACnU,MAAT,CAAgBhnC,MAAhB,EAAwB1D,GAAxB,CAAJ,EAAkCgE,IAAI,CAAChE,GAAD,CAAJ,GAAY0D,MAAM,CAAC1D,GAAD,CAAlB;AACrC;;AACD,eAAOgE,IAAP;AACH,OAPoB,EAOlB,EAPkB,CAArB;AASAoiB,MAAAA,KAAK,CAACE,OAAN,GAAgBw8B,YAAhB;AACH,KAhL+C;;AAkLhD;;;;;;;;;AASAE,IAAAA,WAAW,EAAE,UAAUC,YAAV,EAAwB1hD,OAAxB,EAAiC0B,OAAjC,EAA0CigD,aAA1C,EAAyD;AAClE,WAAKnE,YAAL,CAAkBx9C,OAAO,CAACmB,OAAR,CAAgBygD,aAAlC,EAAiDF,YAAjD;;AAEA,YAAMjxB,EAAE,GAAGzwB,OAAO,CAACmB,OAAnB;AACA,YAAMC,QAAQ,GAAGqvB,EAAE,CAACrvB,QAApB;AACA,YAAMygD,UAAU,GAAGpxB,EAAE,CAACoxB,UAAtB;AACA,YAAMC,qBAAqB,GAAGJ,YAAY,CAACtC,gBAAb,IAAiCsC,YAAY,CAACtC,gBAAb,KAAkCuC,aAAa,CAACvC,gBAA/G;AACA,YAAM2C,YAAY,GAAG,CAAC,CAACL,YAAY,CAAC7I,UAAf,IAA6B6I,YAAY,CAACrjD,IAAb,KAAsBsjD,aAAa,CAACtjD,IAAjE,IAAyEyjD,qBAA9F;AACA,YAAME,YAAY,GAAG,CAAC,CAACN,YAAY,CAAChgD,OAApC;;AAEA,YAAMi8C,QAAQ,GAAG,KAAKC,cAAL,CAAoBp+C,QAApB,EAA+BuiD,YAAY,GAAGL,YAAY,CAAC7I,UAAhB,GAA6B8I,aAAa,CAAC9I,UAAtF,EAAoGmJ,YAAY,GAAGN,YAAY,CAAChgD,OAAhB,GAA0BA,OAA1I,EAAoJggD,YAApJ,CAAjB;;AACA,UAAI/D,QAAQ,CAACE,iBAAT,CAA2BzyC,IAA/B,EAAqC,KAAK0yC,eAAL,CAAqB4D,YAAY,CAAC78B,KAAlC;AACrC,YAAMk5B,KAAK,GAAGv+C,QAAQ,CAACc,aAAT,CAAuB,KAAvB,CAAd;AACAy9C,MAAAA,KAAK,CAACx9C,SAAN,GAAkB,UAAlB;;AAEA,UAAIwhD,YAAJ,EAAkB;AACdpE,QAAAA,QAAQ,CAACx8C,OAAT,CAAiBV,KAAjB,CAAuB62B,UAAvB,GAAoC,QAApC,CADc,CAEd;;AACA,YAAIwqB,qBAAJ,EAA2B;AACvBJ,UAAAA,YAAY,CAACtC,gBAAb,CAA8Bx+C,WAA9B,CAA0C+8C,QAAQ,CAACx8C,OAAnD;AACAsvB,UAAAA,EAAE,CAACpnB,OAAH,CAAWhC,aAAX,CAAyB4pB,WAAzB,CAAqCR,EAAE,CAACpnB,OAAxC;AACH,SAHD,MAGO;AACHonB,UAAAA,EAAE,CAACpnB,OAAH,CAAWhC,aAAX,CAAyBye,YAAzB,CAAsC63B,QAAQ,CAACx8C,OAA/C,EAAwDsvB,EAAE,CAACpnB,OAA3D;AACH;;AAEDonB,QAAAA,EAAE,CAACpnB,OAAH,GAAas0C,QAAQ,CAACx8C,OAAtB;AACAsvB,QAAAA,EAAE,CAACivB,SAAH,GAAe/B,QAAQ,CAAC+B,SAAxB;AACAjvB,QAAAA,EAAE,CAAC+vB,MAAH,GAAYzC,KAAZ;AACH;;AAED,YAAMG,YAAY,GAAG,KAAKC,aAAL,CAAmBuD,YAAnB,EAAiCjxB,EAAE,CAACwxB,OAApC,EAA8CF,YAAY,GAAGpE,QAAQ,CAACx8C,OAAZ,GAAsBsvB,EAAE,CAACpnB,OAAnF,EAA6F00C,KAA7F,CAArB;;AAEA,YAAMK,SAAS,GAAGF,YAAY,CAACE,SAA/B;AACA,YAAMrlC,YAAY,GAAGmlC,YAAY,CAACnlC,YAAlC;AACA,YAAMulC,gBAAgB,GAAGJ,YAAY,CAAClU,WAAtC;AACA,UAAI5gC,IAAI,GAAG80C,YAAY,CAACxyC,QAAxB;AAEA,UAAI+kB,EAAE,CAACguB,WAAP,EAAoBr9C,QAAQ,CAAC6vB,WAAT,CAAqBR,EAAE,CAACguB,WAAxB;AACpB,UAAIL,SAAS,CAACK,WAAd,EAA2Br9C,QAAQ,CAACR,WAAT,CAAqBw9C,SAAS,CAACK,WAA/B;AAE3BoD,MAAAA,UAAU,CAACv+C,SAAX,GAAuB,EAAvB;AACAu+C,MAAAA,UAAU,CAACjhD,WAAX,CAAuBwI,IAAvB;AACA,UAAIk1C,gBAAJ,EAAsBuD,UAAU,CAACjhD,WAAX,CAAuB09C,gBAAvB;AAEtBl1C,MAAAA,IAAI,GAAG,KAAKi2C,gBAAL,CAAsBqC,YAAtB,EAAoCt4C,IAApC,CAAP;AAEAqnB,MAAAA,EAAE,CAACguB,WAAH,GAAiBL,SAAS,CAACK,WAA3B;AACAhuB,MAAAA,EAAE,CAACiuB,UAAH,GAAgBN,SAAS,CAACM,UAA1B;AACAjuB,MAAAA,EAAE,CAACmuB,WAAH,GAAiBR,SAAS,CAACQ,WAA3B;AACAnuB,MAAAA,EAAE,CAACquB,WAAH,GAAiBV,SAAS,CAACU,WAA3B;AACAruB,MAAAA,EAAE,CAAC1X,YAAH,GAAkBA,YAAlB;AACA0X,MAAAA,EAAE,CAACrnB,IAAH,GAAUA,IAAV;AACAqnB,MAAAA,EAAE,CAACuZ,WAAH,GAAiBsU,gBAAjB;AAEA,aAAO;AACH4D,QAAAA,WAAW,EAAEH,YAAY,GAAGpE,QAAQ,CAACE,iBAAZ,GAAgC,IADtD;AAEHn8C,QAAAA,OAAO,EAAEqgD,YAAY,IAAIC,YAAhB,GAA+BrE,QAAQ,CAACj8C,OAAxC,GAAkD,IAFxD;AAGH2H,QAAAA,OAAO,EAAEs0C;AAHN,OAAP;AAKH,KAtP+C;;AAwPhD;;;;;;;;;AASAQ,IAAAA,aAAa,EAAE,UAAUp5B,OAAV,EAAmBo9B,MAAnB,EAA2BC,OAA3B,EAAoCC,YAApC,EAAkD;AAC7D;AACAF,MAAAA,MAAM,CAAC1hD,KAAP,CAAa+9B,OAAb,GAAuBzZ,OAAO,CAACu9B,aAAR,CAAsBjpC,GAA7C;AAEA;;AACA,UAAI,UAAU/X,IAAV,CAAeyjB,OAAO,CAAC1mB,IAAvB,CAAJ,EAAkC;AAC9B+jD,QAAAA,OAAO,CAAC7hD,SAAR,IAAqB,oBAArB;AACA6hD,QAAAA,OAAO,CAAC3hD,KAAR,CAAcqI,KAAd,GAAsBic,OAAO,CAACw9B,YAA9B;AACH,OAHD,MAGO,IAAI,WAAWjhD,IAAX,CAAgByjB,OAAO,CAAC1mB,IAAxB,CAAJ,EAAmC;AACtC+jD,QAAAA,OAAO,CAAC7hD,SAAR,IAAqB,qBAArB;AACA6hD,QAAAA,OAAO,CAAC3hD,KAAR,CAAcqI,KAAd,GAAsBic,OAAO,CAACw9B,YAA9B;AACAH,QAAAA,OAAO,CAACxhD,WAAR,CAAoByhD,YAApB;AACH;AAED;AACA;;;AACA,YAAMG,UAAU,GAAGhjD,QAAQ,CAACc,aAAT,CAAuB,CAACykB,OAAO,CAAC+uB,MAAT,GAAkB,KAAlB,GAA0B,QAAjD,CAAnB;AACA0O,MAAAA,UAAU,CAACjiD,SAAX,GAAuB,qCAAvB;;AAEA,UAAI,CAACwkB,OAAO,CAAC+uB,MAAb,EAAqB;AACjB0O,QAAAA,UAAU,CAACt/C,YAAX,CAAwB,iBAAxB,EAA2C,IAA3C;AACAs/C,QAAAA,UAAU,CAACt/C,YAAX,CAAwB,WAAxB,EAAqC,MAArC;AACAs/C,QAAAA,UAAU,CAACjiD,SAAX,IAAwB,sBAAxB;AACAiiD,QAAAA,UAAU,CAAC/hD,KAAX,CAAiB+9B,OAAjB,GAA2BzZ,OAAO,CAACu9B,aAAR,CAAsB1Y,KAAtB,GAA8B7kB,OAAO,CAACu9B,aAAR,CAAsB3F,MAA/E;AACH,OALD,MAKO;AACH6F,QAAAA,UAAU,CAAChZ,eAAX,GAA6B,IAA7B;AACAgZ,QAAAA,UAAU,CAACjZ,WAAX,GAAyB,CAAzB;AACAiZ,QAAAA,UAAU,CAAC/hD,KAAX,CAAiB+9B,OAAjB,GAA2BzZ,OAAO,CAACu9B,aAAR,CAAsB1Y,KAAjD;AACH,OA5B4D,CA8B7D;;;AACA,YAAM2U,QAAQ,GAAG/+C,QAAQ,CAACc,aAAT,CAAuB,UAAvB,CAAjB;AACAi+C,MAAAA,QAAQ,CAACh+C,SAAT,GAAqB,kCAArB;AACAg+C,MAAAA,QAAQ,CAAC99C,KAAT,CAAe+9B,OAAf,GAAyBzZ,OAAO,CAACu9B,aAAR,CAAsB1Y,KAA/C;AACA2U,MAAAA,QAAQ,CAAC99C,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACA,UAAIqkB,OAAO,CAAChX,MAAR,KAAmB,MAAvB,EAA+BwwC,QAAQ,CAAC99C,KAAT,CAAegiD,QAAf,GAA0B,QAA1B;AAE/B;;AACA,UAAIhE,WAAW,GAAG,IAAlB;AACA,UAAIC,UAAU,GAAG,IAAjB;AACA,UAAIE,WAAW,GAAG,IAAlB;AACA,UAAIE,WAAW,GAAG,IAAlB;;AACA,UAAI/5B,OAAO,CAAC05B,WAAZ,EAAyB;AACrBA,QAAAA,WAAW,GAAGj/C,QAAQ,CAACc,aAAT,CAAuB,KAAvB,CAAd;AACAm+C,QAAAA,WAAW,CAACl+C,SAAZ,GAAwB,mCAAxB;AAEA;;AACAm+C,QAAAA,UAAU,GAAGl/C,QAAQ,CAACc,aAAT,CAAuB,KAAvB,CAAb;AACAo+C,QAAAA,UAAU,CAACn+C,SAAX,GAAuB,iCAAvB;AACAk+C,QAAAA,WAAW,CAAC79C,WAAZ,CAAwB89C,UAAxB;AAEA;;AACA,YAAI35B,OAAO,CAAC+5B,WAAZ,EAAyB;AACrBF,UAAAA,WAAW,GAAGp/C,QAAQ,CAACc,aAAT,CAAuB,KAAvB,CAAd;AACAs+C,UAAAA,WAAW,CAACr+C,SAAZ,GAAwB,yBAAxB;;AAEA,cAAIwkB,OAAO,CAAC29B,gBAAZ,EAA8B;AAC1B,kBAAMC,SAAS,GAAGnjD,QAAQ,CAACc,aAAT,CAAuB,MAAvB,CAAlB;AACAqiD,YAAAA,SAAS,CAACpiD,SAAV,GAAsB,eAAtB;AACAoiD,YAAAA,SAAS,CAACnmC,WAAV,GAAwBuI,OAAO,CAAC29B,gBAAhC;AACA9D,YAAAA,WAAW,CAACh+C,WAAZ,CAAwB+hD,SAAxB;AACH;;AAED7D,UAAAA,WAAW,GAAGt/C,QAAQ,CAACc,aAAT,CAAuB,MAAvB,CAAd;AACAw+C,UAAAA,WAAW,CAACv+C,SAAZ,GAAwB,iBAAxB;AACAu+C,UAAAA,WAAW,CAACtiC,WAAZ,GAA0B,GAA1B;AACAoiC,UAAAA,WAAW,CAACh+C,WAAZ,CAAwBk+C,WAAxB;;AAEA,cAAI/5B,OAAO,CAAC69B,YAAR,GAAuB,CAA3B,EAA8B;AAC1B,kBAAMC,QAAQ,GAAGrjD,QAAQ,CAACc,aAAT,CAAuB,MAAvB,CAAjB;AACAuiD,YAAAA,QAAQ,CAACrmC,WAAT,GAAuB,QAAQuI,OAAO,CAAC69B,YAAvC;AACAhE,YAAAA,WAAW,CAACh+C,WAAZ,CAAwBiiD,QAAxB;AACH;;AAEDpE,UAAAA,WAAW,CAAC79C,WAAZ,CAAwBg+C,WAAxB;AACH;AACJ;;AAED,UAAI5U,WAAW,GAAG,IAAlB;;AACA,UAAIjlB,OAAO,CAACilB,WAAZ,EAAyB;AACrBA,QAAAA,WAAW,GAAGxqC,QAAQ,CAACc,aAAT,CAAuB,MAAvB,CAAd;AACA0pC,QAAAA,WAAW,CAACzpC,SAAZ,GAAwB,gBAAxB;AACAypC,QAAAA,WAAW,CAAC8Y,SAAZ,GAAwB/9B,OAAO,CAACilB,WAAhC;AACH;;AAED,aAAO;AACHoU,QAAAA,SAAS,EAAE;AACPK,UAAAA,WAAW,EAAEA,WADN;AAEPC,UAAAA,UAAU,EAAEA,UAFL;AAGPE,UAAAA,WAAW,EAAEA,WAHN;AAIPE,UAAAA,WAAW,EAAEA;AAJN,SADR;AAOH/lC,QAAAA,YAAY,EAAEypC,UAPX;AAQH92C,QAAAA,QAAQ,EAAE6yC,QARP;AASHvU,QAAAA,WAAW,EAAEA;AATV,OAAP;AAWH,KAjW+C;;AAmWhD;;;;;;AAMAwT,IAAAA,YAAY,EAAE,UAAUr8C,OAAV,EAAmB4jB,OAAnB,EAA4B;AACtC;AACAA,MAAAA,OAAO,CAACxhB,IAAR,GAAewhB,OAAO,CAACxhB,IAAR,IAAgBguC,UAAU,CAACr+B,CAA1C;AACA6R,MAAAA,OAAO,CAAC5mB,KAAR,GAAgB,OAAO4mB,OAAO,CAAC5mB,KAAf,KAAyB,QAAzB,GAAoC4mB,OAAO,CAAC5mB,KAA5C,GAAoD,IAApE;AACA4mB,MAAAA,OAAO,CAACg+B,qBAAR,GAAgC,OAAOh+B,OAAO,CAACg+B,qBAAf,KAAyC,QAAzC,GAAoDh+B,OAAO,CAACg+B,qBAA5D,GAAoF,GAApH;AACA;;AACAh+B,MAAAA,OAAO,CAACi+B,qBAAR,GAAgC,OAAOj+B,OAAO,CAACi+B,qBAAf,KAAyC,QAAzC,GAAoDj+B,OAAO,CAACi+B,qBAA5D,GAAoF,gLAApH;AACAj+B,MAAAA,OAAO,CAACk+B,oBAAR,GAA+Bl+B,OAAO,CAACi+B,qBAAR,IAAiC,OAAOj+B,OAAO,CAACm+B,gBAAf,KAAoC,QAApC,IAAgDn+B,OAAO,CAACm+B,gBAAR,CAAyBz+C,MAAzB,GAAkC,CAAlF,GAAsF,MAAMsgB,OAAO,CAACm+B,gBAApG,GAAuH,EAAxJ,CAA/B;AACAn+B,MAAAA,OAAO,CAACo+B,kBAAR,GAA6B,OAAOp+B,OAAO,CAACo+B,kBAAf,KAAsC,QAAtC,GAAiDp+B,OAAO,CAACo+B,kBAAzD,GAA8Ep+B,OAAO,CAACk+B,oBAAnH;AACAl+B,MAAAA,OAAO,CAACq+B,mBAAR,GAA+B,CAACr+B,OAAO,CAACq+B,mBAAT,IAAgC,OAAOr+B,OAAO,CAACq+B,mBAAf,KAAuC,QAAxE,GAAoF,IAApF,GAA2Fr+B,OAAO,CAACq+B,mBAAjI;AACA;;AACAr+B,MAAAA,OAAO,CAAC1mB,IAAR,GAAe0mB,OAAO,CAAC1mB,IAAR,IAAgB,SAA/B,CAXsC,CAWI;;AAC1C0mB,MAAAA,OAAO,CAACw9B,YAAR,GAAuBx9B,OAAO,CAACw9B,YAAR,GAAwBjF,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACw9B,YAA1B,IAA0Cx9B,OAAO,CAACw9B,YAAR,GAAuB,IAAjE,GAAwEx9B,OAAO,CAACw9B,YAAxG,GAAwH,MAA/I;AACAx9B,MAAAA,OAAO,CAACq6B,gBAAR,GAA2B,WAAW99C,IAAX,CAAgByjB,OAAO,CAAC1mB,IAAxB,IAAgC,IAAhC,GAAwC,OAAO0mB,OAAO,CAACq6B,gBAAf,KAAoC,QAApC,GAA+C5/C,QAAQ,CAACgV,aAAT,CAAuBuQ,OAAO,CAACq6B,gBAA/B,CAA/C,GAAkGr6B,OAAO,CAACq6B,gBAA7K;AACAr6B,MAAAA,OAAO,CAACs+B,aAAR,GAAyB,WAAW/hD,IAAX,CAAgByjB,OAAO,CAAC1mB,IAAxB,KAAiC,CAAC,CAAC0mB,OAAO,CAACq6B,gBAA5C,GAAgE,CAAC,CAAjE,GAAqEr6B,OAAO,CAACs+B,aAAR,KAA0B3gD,SAA1B,GAAsC,CAAtC,GAA2C,OAAOpB,IAAP,CAAYyjB,OAAO,CAACs+B,aAApB,IAAqC/F,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAACs+B,aAA3B,EAA0C,CAA1C,CAArC,GAAoF,CAAC,CAA7N;AACAt+B,MAAAA,OAAO,CAACu+B,QAAR,GAAmB,CAAC,CAACv+B,OAAO,CAACu+B,QAA7B;AACAv+B,MAAAA,OAAO,CAAC+uB,MAAR,GAAiB/uB,OAAO,CAACu+B,QAAR,IAAoBv+B,OAAO,CAAC+uB,MAA7C;AACA/uB,MAAAA,OAAO,CAACk4B,iBAAR,GAA4Bl4B,OAAO,CAAC+uB,MAAR,GAAiB,OAAO/uB,OAAO,CAACk4B,iBAAf,KAAqC,QAArC,GAAgD,CAACl4B,OAAO,CAACk4B,iBAAT,CAAhD,GAA+El4B,OAAO,CAACk4B,iBAAR,IAA6B,CAAC,WAAD,CAA7H,GAA8I,IAA1K;AACAl4B,MAAAA,OAAO,CAAC47B,UAAR,GAAqB57B,OAAO,CAAC47B,UAAR,GAAqB57B,OAAO,CAAC47B,UAAR,CAAmB/5C,GAAnB,GAAyBme,OAAO,CAAC47B,UAAjC,GAA8C;AAAC/5C,QAAAA,GAAG,EAAEme,OAAO,CAAC47B;AAAd,OAAnE,GAA+F,IAApH;AACA;;AACA57B,MAAAA,OAAO,CAAC1iB,QAAR,GAAmB,OAAO0iB,OAAO,CAAC1iB,QAAf,KAA4B,QAA5B,GAAuC0iB,OAAO,CAAC1iB,QAA/C,GAA0D,IAA7E;AACA0iB,MAAAA,OAAO,CAACrkB,OAAR,GAAkBqkB,OAAO,CAACrkB,OAAR,KAAoBS,OAAO,CAACV,KAAR,CAAcC,OAAd,KAA0B,MAA1B,IAAoC,CAACS,OAAO,CAACV,KAAR,CAAcC,OAAnD,GAA6D,OAA7D,GAAuES,OAAO,CAACV,KAAR,CAAcC,OAAzG,CAAlB;AACAqkB,MAAAA,OAAO,CAAC3iB,YAAR,GAAuB2iB,OAAO,CAAC3iB,YAAR,IAAwB,MAA/C;AACA;;AACA2iB,MAAAA,OAAO,CAAC05B,WAAR,GAAsB15B,OAAO,CAAC05B,WAAR,KAAwB/7C,SAAxB,GAAqC,kBAAkBpB,IAAlB,CAAuByjB,OAAO,CAAC1mB,IAA/B,IAAuC,KAAvC,GAA+C,IAApF,GAA4F0mB,OAAO,CAAC05B,WAA1H;AACA15B,MAAAA,OAAO,CAACw+B,aAAR,GAAwB,CAACx+B,OAAO,CAAC05B,WAAT,GAAuB,KAAvB,GAA+B,OAAO15B,OAAO,CAACw+B,aAAf,KAAiC,SAAjC,GAA6Cx+B,OAAO,CAACw+B,aAArD,GAAqE,IAA5H;AACA;;AACAx+B,MAAAA,OAAO,CAAC+5B,WAAR,GAAsB/5B,OAAO,CAAC69B,YAAR,GAAuB,CAAvB,GAA2B,IAA3B,GAAkC,OAAO79B,OAAO,CAAC+5B,WAAf,KAA+B,SAA/B,GAA2C/5B,OAAO,CAAC+5B,WAAnD,GAAiE,KAAzH;AACA/5B,MAAAA,OAAO,CAACy+B,eAAR,GAA0B,OAAOz+B,OAAO,CAACy+B,eAAf,KAAmC,QAAnC,GAA8Cz+B,OAAO,CAACy+B,eAAtD,GAAwE,MAAlG;AACAz+B,MAAAA,OAAO,CAAC29B,gBAAR,GAA2B,OAAO39B,OAAO,CAAC29B,gBAAf,KAAoC,QAApC,GAA+C39B,OAAO,CAAC29B,gBAAR,CAAyB9gC,IAAzB,EAA/C,GAAiF,IAA5G;AACAmD,MAAAA,OAAO,CAAC69B,YAAR,GAAuBtF,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC69B,YAA1B,KAA2C79B,OAAO,CAAC69B,YAAR,GAAuB,CAAC,CAAnE,GAAuE79B,OAAO,CAAC69B,YAAR,GAAuB,CAA9F,GAAkG,IAAzH;AACA;;AACA79B,MAAAA,OAAO,CAACjc,KAAR,GAAgBic,OAAO,CAACjc,KAAR,GAAiBw0C,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACjc,KAA1B,IAAmCic,OAAO,CAACjc,KAAR,GAAgB,IAAnD,GAA0Dic,OAAO,CAACjc,KAAnF,GAA6F3H,OAAO,CAAC4d,WAAR,GAAsB5d,OAAO,CAAC4d,WAAR,GAAsB,IAA5C,GAAmD,MAAhK;AACAgG,MAAAA,OAAO,CAACqhB,QAAR,GAAmB,CAACkX,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACqhB,QAA1B,IAAsCrhB,OAAO,CAACqhB,QAAR,GAAmB,IAAzD,GAAgErhB,OAAO,CAACqhB,QAAzE,KAAsF,EAAzG;AACArhB,MAAAA,OAAO,CAACnI,QAAR,GAAmB,CAAC0gC,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACnI,QAA1B,IAAsCmI,OAAO,CAACnI,QAAR,GAAmB,IAAzD,GAAgEmI,OAAO,CAACnI,QAAzE,KAAsF,EAAzG;AACA;;AACAmI,MAAAA,OAAO,CAAChX,MAAR,GAAiBgX,OAAO,CAAChX,MAAR,GAAkBuvC,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAChX,MAA1B,IAAoCgX,OAAO,CAAChX,MAAR,GAAiB,IAArD,GAA4DgX,OAAO,CAAChX,MAAtF,GAAiG5M,OAAO,CAACsiD,YAAR,GAAuBtiD,OAAO,CAACsiD,YAAR,GAAuB,IAA9C,GAAqD,MAAvK;AACA1+B,MAAAA,OAAO,CAAC23B,SAAR,GAAoB,CAACY,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC23B,SAA1B,IAAuC33B,OAAO,CAAC23B,SAAR,GAAoB,IAA3D,GAAkE33B,OAAO,CAAC23B,SAA3E,KAAyF,EAA7G;AACA33B,MAAAA,OAAO,CAAC9D,SAAR,GAAoB,CAACq8B,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC9D,SAA1B,IAAuC8D,OAAO,CAAC9D,SAAR,GAAoB,IAA3D,GAAkE8D,OAAO,CAAC9D,SAA3E,KAAyF,EAA7G;AACA;;AACA8D,MAAAA,OAAO,CAAC2M,YAAR,GAAuB,OAAO3M,OAAO,CAAC2M,YAAf,KAAgC,QAAhC,GAA2C3M,OAAO,CAAC2M,YAAnD,GAAkE,EAAzF;AACA;;AACA3M,MAAAA,OAAO,CAACvb,IAAR,GAAe,CAACub,OAAO,CAACvb,IAAT,GAAgB,IAAhB,GAAuBub,OAAO,CAACvb,IAA9C;AACAub,MAAAA,OAAO,CAACrb,QAAR,GAAmB,CAACqb,OAAO,CAACrb,QAAT,GAAoB,IAApB,GAA2Bqb,OAAO,CAACrb,QAAtD;AACAqb,MAAAA,OAAO,CAACtb,OAAR,GAAkB,CAACsb,OAAO,CAACtb,OAAT,GAAmB,IAAnB,GAA0Bsb,OAAO,CAACtb,OAApD;AACAsb,MAAAA,OAAO,CAAChU,SAAR,GAAoB,CAACgU,OAAO,CAAChU,SAAT,GAAqB,IAArB,GAA4BgU,OAAO,CAAChU,SAAxD;AACAgU,MAAAA,OAAO,CAACmH,WAAR,GAAsB,CAACnH,OAAO,CAACmH,WAAT,GAAuB,IAAvB,GAA8BnH,OAAO,CAACmH,WAA5D;AACAnH,MAAAA,OAAO,CAAC0M,eAAR,GAA0B,CAAC1M,OAAO,CAAC0M,eAAT,GAA2B,IAA3B,GAAkC1M,OAAO,CAAC0M,eAApE;AACA1M,MAAAA,OAAO,CAACkZ,UAAR,GAAqB,CAAClZ,OAAO,CAACkZ,UAAT,GAAsB,IAAtB,GAA6BlZ,OAAO,CAACkZ,UAA1D;AACAlZ,MAAAA,OAAO,CAAC6D,YAAR,GAAuB,OAAO7D,OAAO,CAAC6D,YAAf,KAAgC,QAAhC,GAA4C7D,OAAO,CAAC6D,YAAR,CAAqBhH,IAArB,MAA+B,IAA3E,GAAmF,IAA1G;AACA;;AACAmD,MAAAA,OAAO,CAAC+a,aAAR,GAAwB/a,OAAO,CAAC+a,aAAR,KAA0Bp9B,SAA1B,GAAsC,IAAtC,GAA6CqiB,OAAO,CAAC+a,aAA7E;AACA/a,MAAAA,OAAO,CAACgb,eAAR,GAA0Bhb,OAAO,CAACgb,eAAR,KAA4Br9B,SAA5B,GAAwC,IAAxC,GAA+C,CAAC,CAACqiB,OAAO,CAACgb,eAAnF;AACAhb,MAAAA,OAAO,CAAC6a,UAAR,GAAqB,CAAC7a,OAAO,CAAC6a,UAAT,GAAsB,MAAtB,GAA+B0d,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC6a,UAA1B,IAAwC7a,OAAO,CAAC6a,UAAR,GAAqB,IAA7D,GAAoE7a,OAAO,CAAC6a,UAAhI;AACA7a,MAAAA,OAAO,CAAC8a,WAAR,GAAsB,CAAC9a,OAAO,CAAC8a,WAAT,GAAuB,MAAvB,GAAgCyd,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC8a,WAA1B,IAAyC9a,OAAO,CAAC8a,WAAR,GAAsB,IAA/D,GAAsE9a,OAAO,CAAC8a,WAApI;AACA9a,MAAAA,OAAO,CAACkb,uBAAR,GAAkC,CAAC,CAAClb,OAAO,CAACkb,uBAA5C;AACAlb,MAAAA,OAAO,CAACma,cAAR,GAAyBna,OAAO,CAACkb,uBAAR,GAAkC,GAAlC,GAAwC,IAAjE;AACAlb,MAAAA,OAAO,CAACib,aAAR,GAAwBjb,OAAO,CAACib,aAAR,KAA0Bt9B,SAA1B,GAAsCqiB,OAAO,CAACib,aAA9C,GAA8D,EAAEjb,OAAO,CAACkb,uBAAR,IAAmC,CAAClb,OAAO,CAACgb,eAA9C,CAAtF;AACAhb,MAAAA,OAAO,CAACkc,cAAR,GAAyBlc,OAAO,CAACkc,cAAR,KAA2Bv+B,SAA3B,GAAuC,IAAvC,GAA8CqiB,OAAO,CAACkc,cAA/E;AACAlc,MAAAA,OAAO,CAACqc,aAAR,GAAyBrc,OAAO,CAACqc,aAAR,KAA0B1+B,SAA1B,IAAuC,CAACqiB,OAAO,CAACkc,cAAjD,GAAmE,IAAnE,GAA0Elc,OAAO,CAACqc,aAA1G;AACArc,MAAAA,OAAO,CAACif,iBAAR,GAA4Bjf,OAAO,CAACif,iBAAR,IAA6B,IAAzD;AACAjf,MAAAA,OAAO,CAAC6e,cAAR,GAAyB,OAAO7e,OAAO,CAAC6e,cAAf,KAAkC,QAAlC,GAA6C7e,OAAO,CAAC6e,cAArD,GAAsE,IAA/F;AACA7e,MAAAA,OAAO,CAAC+d,oBAAR,GAA+B,MAAMxhC,IAAN,CAAWyjB,OAAO,CAAC+d,oBAAnB,IAA2Cwa,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAAC+d,oBAA3B,EAAiD,CAAjD,CAA3C,GAAiG,IAAhI;AACA/d,MAAAA,OAAO,CAACoc,iBAAR,GAA4B,CAAC,CAACpc,OAAO,CAACoc,iBAAtC;AACApc,MAAAA,OAAO,CAACmc,WAAR,GAAuB,OAAOnc,OAAO,CAACmc,WAAf,KAA+B,QAA/B,IAA2Cnc,OAAO,CAACmc,WAAR,CAAoBtf,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8FmD,OAAO,CAACmc,WAAR,CAAoBtf,IAApB,MAA8B,SAAlJ;AACA;;AACAmD,MAAAA,OAAO,CAACuB,eAAR,GAA0B,OAAOvB,OAAO,CAACuB,eAAf,KAAmC,QAAnC,GAA8CvB,OAAO,CAACuB,eAAtD,GAAwE,IAAlG;AACA;;AACAvB,MAAAA,OAAO,CAACgjB,aAAR,GAAwBhjB,OAAO,CAACgjB,aAAR,KAA0BrlC,SAA1B,GAAsC,IAAtC,GAA6CqiB,OAAO,CAACgjB,aAA7E;AACAhjB,MAAAA,OAAO,CAACijB,eAAR,GAA0BjjB,OAAO,CAACijB,eAAR,KAA4BtlC,SAA5B,GAAwC,IAAxC,GAA+C,CAAC,CAACqiB,OAAO,CAACijB,eAAnF;AACAjjB,MAAAA,OAAO,CAACgkB,cAAR,GAAyBhkB,OAAO,CAACgkB,cAAR,KAA2BrmC,SAA3B,GAAuC,IAAvC,GAA8C,CAAC,CAACqiB,OAAO,CAACgkB,cAAjF;AACAhkB,MAAAA,OAAO,CAAC8iB,UAAR,GAAqB,CAAC9iB,OAAO,CAAC8iB,UAAT,IAAuB,CAACyV,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAAC8iB,UAA3B,EAAuC,CAAvC,CAAxB,GAAoE,EAApE,GAAyEyV,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC8iB,UAA1B,IAAwC9iB,OAAO,CAAC8iB,UAAR,GAAqB,IAA7D,GAAoE9iB,OAAO,CAAC8iB,UAA1K;AACA9iB,MAAAA,OAAO,CAAC+iB,WAAR,GAAsB,CAAC/iB,OAAO,CAAC+iB,WAAT,IAAwB,CAACwV,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAAC+iB,WAA3B,EAAwC,CAAxC,CAAzB,GAAsE,EAAtE,GAA2EwV,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAAC+iB,WAA1B,IAAyC/iB,OAAO,CAAC+iB,WAAR,GAAsB,IAA/D,GAAsE/iB,OAAO,CAAC+iB,WAA/K;AACA/iB,MAAAA,OAAO,CAACmjB,uBAAR,GAAkC,CAAC,CAACnjB,OAAO,CAACmjB,uBAA5C;AACAnjB,MAAAA,OAAO,CAACyiB,cAAR,GAAyBziB,OAAO,CAACmjB,uBAAR,GAAkC,GAAlC,GAAwC,IAAjE;AACAnjB,MAAAA,OAAO,CAACkjB,aAAR,GAAwBljB,OAAO,CAACkjB,aAAR,KAA0BvlC,SAA1B,GAAsCqiB,OAAO,CAACkjB,aAA9C,GAA8D,EAAEljB,OAAO,CAACmjB,uBAAR,IAAmC,CAACnjB,OAAO,CAACijB,eAA9C,CAAtF;AACAjjB,MAAAA,OAAO,CAAC4iB,UAAR,GAAsB2V,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAAC4iB,UAA3B,EAAuC,CAAvC,KAA6C,MAAnE;AACA5iB,MAAAA,OAAO,CAAC8jB,cAAR,GAAyB,CAAC9jB,OAAO,CAAC8jB,cAAT,GAA0B,IAA1B,GAAiC9jB,OAAO,CAAC8jB,cAAlE;AACA9jB,MAAAA,OAAO,CAAC2iB,YAAR,GAAuB,CAAC3iB,OAAO,CAAC2iB,YAAR,IAAwB,EAAzB,EAA6B7vB,OAA7B,CAAqC,GAArC,EAA0C,EAA1C,CAAvB;AACAkN,MAAAA,OAAO,CAACyjB,cAAR,GAAyB,CAAC,CAACzjB,OAAO,CAACyjB,cAAnC;AACAzjB,MAAAA,OAAO,CAAC4jB,aAAR,GAAyB5jB,OAAO,CAAC4jB,aAAR,KAA0BjmC,SAA1B,IAAuC,CAACqiB,OAAO,CAACyjB,cAAjD,GAAmE,IAAnE,GAA0EzjB,OAAO,CAAC4jB,aAA1G;AACA5jB,MAAAA,OAAO,CAACylB,iBAAR,GAA4BzlB,OAAO,CAACylB,iBAAR,IAA6B,IAAzD;AACAzlB,MAAAA,OAAO,CAACwlB,cAAR,GAAyB,OAAOxlB,OAAO,CAACwlB,cAAf,KAAkC,QAAlC,GAA6CxlB,OAAO,CAACwlB,cAArD,GAAsE,IAA/F;AACAxlB,MAAAA,OAAO,CAAColB,oBAAR,GAA+B,MAAM7oC,IAAN,CAAWyjB,OAAO,CAAColB,oBAAnB,IAA2CmT,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAAColB,oBAA3B,EAAiD,CAAjD,CAA3C,GAAiG,IAAhI;AACAplB,MAAAA,OAAO,CAAC2jB,iBAAR,GAA4B,CAAC,CAAC3jB,OAAO,CAAC2jB,iBAAtC;AACA3jB,MAAAA,OAAO,CAACmkB,aAAR,GAAwBnkB,OAAO,CAACmkB,aAAR,IAAyB,IAAjD;AACAnkB,MAAAA,OAAO,CAAC0kB,gBAAR,GAA2B1kB,OAAO,CAAC0kB,gBAAR,IAA4B,IAAvD;AACA1kB,MAAAA,OAAO,CAAC0jB,WAAR,GAAuB,OAAO1jB,OAAO,CAAC0jB,WAAf,KAA+B,QAA/B,IAA2C1jB,OAAO,CAAC0jB,WAAR,CAAoB7mB,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8FmD,OAAO,CAAC0jB,WAAR,CAAoB7mB,IAApB,MAA8B,SAAlJ;AACA;;AACAmD,MAAAA,OAAO,CAACknB,UAAR,GAAqB,CAAClnB,OAAO,CAACknB,UAAT,GAAsB,EAAtB,GAA2BqR,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACknB,UAA1B,IAAwClnB,OAAO,CAACknB,UAAR,GAAqB,IAA7D,GAAoElnB,OAAO,CAACknB,UAA5H;AACAlnB,MAAAA,OAAO,CAACmnB,WAAR,GAAsB,CAACnnB,OAAO,CAACmnB,WAAT,GAAuB,EAAvB,GAA4BoR,QAAQ,CAAC/X,QAAT,CAAkBxgB,OAAO,CAACmnB,WAA1B,IAAyCnnB,OAAO,CAACmnB,WAAR,GAAsB,IAA/D,GAAsEnnB,OAAO,CAACmnB,WAAhI;AACAnnB,MAAAA,OAAO,CAAC0nB,cAAR,GAAyB,CAAC,CAAC1nB,OAAO,CAAC0nB,cAAnC;AACA1nB,MAAAA,OAAO,CAAC6nB,aAAR,GAAyB7nB,OAAO,CAAC6nB,aAAR,KAA0BlqC,SAA1B,IAAuC,CAACqiB,OAAO,CAAC0nB,cAAjD,GAAmE,IAAnE,GAA0E1nB,OAAO,CAAC6nB,aAA1G;AACA7nB,MAAAA,OAAO,CAACyoB,iBAAR,GAA4BzoB,OAAO,CAACyoB,iBAAR,IAA6B,IAAzD;AACAzoB,MAAAA,OAAO,CAACwoB,cAAR,GAAyB,OAAOxoB,OAAO,CAACwoB,cAAf,KAAkC,QAAlC,GAA6CxoB,OAAO,CAACwoB,cAArD,GAAsE,IAA/F;AACAxoB,MAAAA,OAAO,CAACooB,oBAAR,GAA+B,MAAM7rC,IAAN,CAAWyjB,OAAO,CAACooB,oBAAnB,IAA2CmQ,QAAQ,CAAC7mC,SAAT,CAAmBsO,OAAO,CAACooB,oBAA3B,EAAiD,CAAjD,CAA3C,GAAiG,IAAhI;AACApoB,MAAAA,OAAO,CAAC4nB,iBAAR,GAA4B,CAAC,CAAC5nB,OAAO,CAAC4nB,iBAAtC;AACA5nB,MAAAA,OAAO,CAACgoB,aAAR,GAAwBhoB,OAAO,CAACgoB,aAAR,IAAyB,IAAjD;AACAhoB,MAAAA,OAAO,CAAC2nB,WAAR,GAAuB,OAAO3nB,OAAO,CAAC2nB,WAAf,KAA+B,QAA/B,IAA2C3nB,OAAO,CAAC2nB,WAAR,CAAoB9qB,IAApB,OAA+B,GAA3E,GAAkF,SAAlF,GAA8FmD,OAAO,CAAC2nB,WAAR,CAAoB9qB,IAApB,MAA8B,SAAlJ;AACA;;AACAmD,MAAAA,OAAO,CAACsN,2BAAR,GAAsC,OAAOtN,OAAO,CAACsN,2BAAf,KAA+C,QAA/C,GAA0DtN,OAAO,CAACsN,2BAAR,CAAoC3gB,WAApC,EAA1D,GAA8G,MAApJ;AACA;;AACAqT,MAAAA,OAAO,CAAC2+B,UAAR,GAAqB,CAAC,CAAC3+B,OAAO,CAAC2+B,UAA/B;AACA3+B,MAAAA,OAAO,CAAC4+B,gBAAR,GAA4BngB,KAAK,CAACC,OAAN,CAAc1e,OAAO,CAAC4+B,gBAAtB,KAA2C5+B,OAAO,CAAC4+B,gBAAR,CAAyBl/C,MAAzB,GAAkC,CAA9E,GAAmFsgB,OAAO,CAAC4+B,gBAAR,CAAyB1wC,GAAzB,CAA6B,UAAU0O,CAAV,EAAa;AAAE,eAAOA,CAAC,CAACjQ,WAAF,EAAP;AAAyB,OAArE,CAAnF,GAA4J,EAAvL;AACAqT,MAAAA,OAAO,CAAC6+B,aAAR,GAAwB7+B,OAAO,CAAC6+B,aAAR,KAA0BlhD,SAA1B,GAAsC,IAAtC,GAA6C,CAAC,CAACqiB,OAAO,CAAC6+B,aAA/E;AACA;;AACA7+B,MAAAA,OAAO,CAAC8+B,YAAR,GAAuB,CAAC9+B,OAAO,CAAC8+B,YAAT,GAAwB,IAAxB,GAA+B9+B,OAAO,CAAC8+B,YAA9D;AACA;;AACA9+B,MAAAA,OAAO,CAAC8Y,SAAR,GAAoB,CAAC9Y,OAAO,CAAC8Y,SAAT,GAAqB,IAArB,GAA4B9Y,OAAO,CAAC8Y,SAAxD;AACA;;AACA9Y,MAAAA,OAAO,CAACilB,WAAR,GAAsB,OAAOjlB,OAAO,CAACilB,WAAf,KAA+B,QAA/B,GAA0CjlB,OAAO,CAACilB,WAAlD,GAAgE,IAAtF;AACAjlB,MAAAA,OAAO,CAAC8b,YAAR,GAAuB,OAAO9b,OAAO,CAAC8b,YAAf,KAAgC,QAAhC,GAA2C9b,OAAO,CAAC8b,YAAnD,GAAkE,IAAzF;AACA;;AACA9b,MAAAA,OAAO,CAACF,KAAR,GAAgBE,OAAO,CAACF,KAAR,GAAgBE,OAAO,CAACF,KAAR,CAAcje,GAAd,GAAoBme,OAAO,CAACF,KAA5B,GAAoC;AAACje,QAAAA,GAAG,EAAEme,OAAO,CAACF;AAAd,OAApD,GAA2E,IAA3F;AACA;;AACAE,MAAAA,OAAO,CAAC8zB,UAAR,GAAqB9zB,OAAO,CAAC8zB,UAAR,IAAsB,CACvC,CAAC,MAAD,EAAS,MAAT,CADuC,EAEvC,CAAC,MAAD,EAAS,WAAT,EAAsB,QAAtB,EAAgC,QAAhC,EAA0C,WAA1C,EAAuD,aAAvD,CAFuC,EAGvC,CAAC,cAAD,CAHuC,EAIvC,CAAC,SAAD,EAAY,QAAZ,CAJuC,EAKvC,CAAC,YAAD,EAAe,YAAf,EAA6B,UAA7B,CALuC,EAMvC,CAAC,SAAD,EAAY,OAAZ,CANuC,CAA3C;AASA;;AACA9zB,MAAAA,OAAO,CAAC7T,KAAR,GAAiB,CAAC6T,OAAO,CAAC7T,KAAT,IAAkB,OAAO6T,OAAO,CAAC7T,KAAf,KAAyB,QAA5C,GAAwDi/B,YAAxD,GAAuE,CAACA,YAAD,EAAeprB,OAAO,CAAC7T,KAAvB,EAA8B8vC,MAA9B,CAAqC,UAAU8C,QAAV,EAAoBC,IAApB,EAA0B;AAClJ,aAAK,IAAItlD,GAAT,IAAgBslD,IAAhB,EAAsB;AAClB,cAAIzG,QAAQ,CAACnU,MAAT,CAAgB4a,IAAhB,EAAsBtlD,GAAtB,CAAJ,EAAgCqlD,QAAQ,CAACrlD,GAAD,CAAR,GAAgBslD,IAAI,CAACtlD,GAAD,CAApB;AACnC;;AACD,eAAOqlD,QAAP;AACH,OALsF,EAKpF,EALoF,CAAvF;AAOA;;AACA/+B,MAAAA,OAAO,CAACu9B,aAAR,GAAwBhF,QAAQ,CAACd,sBAAT,CAAgCz3B,OAAhC,EAAyCA,OAAO,CAAC2M,YAAjD,CAAxB;AACH,KA/e+C;;AAifhD;;;;;AAKAsyB,IAAAA,eAAe,EAAE,UAAUj/B,OAAV,EAAmB;AAChC,YAAM7T,KAAK,GAAG6T,OAAO,CAAC7T,KAAtB;AACA,YAAM3N,IAAI,GAAGwhB,OAAO,CAACxhB,IAArB;AACA,YAAM0gD,GAAG,GAAG3G,QAAQ,CAAC3L,SAAT,GAAqB,GAArB,GAA2B,MAAvC;AACA,YAAMgS,gBAAgB,GAAG,CAAC5+B,OAAO,CAAC6+B,aAAT,GAAyB,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,EAAgC,QAAhC,EAA0C,MAA1C,EAAkD,QAAlD,CAAzB,GAAuF7+B,OAAO,CAAC4+B,gBAAxH;AAEA,aAAO;AACH;AACAh6C,QAAAA,IAAI,EAAE,CAAC,kBAAD,EAAqBpG,IAAI,CAAC8F,OAAL,CAAaM,IAAb,IAAqBg6C,gBAAgB,CAACl8C,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6C,OAAOw8C,GAAP,GAAa,KAA/E,CAArB,EAA4G,QAA5G,EAAsH,EAAtH,EAA0H/yC,KAAK,CAACvH,IAAhI,CAFH;AAGHC,QAAAA,SAAS,EAAE,CAAC,uBAAD,EAA0BrG,IAAI,CAAC8F,OAAL,CAAaO,SAAb,IAA0B+5C,gBAAgB,CAACl8C,OAAjB,CAAyB,WAAzB,IAAwC,CAAC,CAAzC,GAA6C,EAA7C,GAAkD,OAAOw8C,GAAP,GAAa,KAAzF,CAA1B,EAA2H,GAA3H,EAAgI,EAAhI,EAAoI/yC,KAAK,CAACtH,SAA1I,CAHR;AAIHC,QAAAA,MAAM,EAAE,CAAC,oBAAD,EAAuBtG,IAAI,CAAC8F,OAAL,CAAaQ,MAAb,IAAuB85C,gBAAgB,CAACl8C,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+C,OAAOw8C,GAAP,GAAa,KAAnF,CAAvB,EAAkH,IAAlH,EAAwH,EAAxH,EAA4H/yC,KAAK,CAACrH,MAAlI,CAJL;AAKHC,QAAAA,MAAM,EAAE,CAAC,oBAAD,EAAuBvG,IAAI,CAAC8F,OAAL,CAAaS,MAAb,IAAuB65C,gBAAgB,CAACl8C,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+C,OAAOw8C,GAAP,GAAa,WAAnF,CAAvB,EAAwH,KAAxH,EAA+H,EAA/H,EAAmI/yC,KAAK,CAACpH,MAAzI,CALL;AAMHC,QAAAA,SAAS,EAAE,CAAC,uBAAD,EAA0BxG,IAAI,CAAC8F,OAAL,CAAaU,SAAvC,EAAkD,KAAlD,EAAyD,EAAzD,EAA6DmH,KAAK,CAACnH,SAAnE,CANR;AAOHC,QAAAA,WAAW,EAAE,CAAC,yBAAD,EAA4BzG,IAAI,CAAC8F,OAAL,CAAaW,WAAzC,EAAsD,KAAtD,EAA6D,EAA7D,EAAiEkH,KAAK,CAAClH,WAAvE,CAPV;AAQHC,QAAAA,YAAY,EAAE,CAAC,EAAD,EAAK1G,IAAI,CAAC8F,OAAL,CAAaY,YAAlB,EAAgC,cAAhC,EAAgD,EAAhD,EAAoDiH,KAAK,CAACE,KAA1D,CARX;AASHhH,QAAAA,MAAM,EAAE,CAAC,oBAAD,EAAuB7G,IAAI,CAAC8F,OAAL,CAAae,MAAb,IAAuBu5C,gBAAgB,CAACl8C,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+C,OAAOw8C,GAAP,GAAa,KAAnF,CAAvB,EAAkH,QAAlH,EAA4H,EAA5H,EAAgI/yC,KAAK,CAAC7G,OAAtI,CATL;AAUHA,QAAAA,OAAO,EAAE,CAAC,qBAAD,EAAwB9G,IAAI,CAAC8F,OAAL,CAAagB,OAAb,IAAwBs5C,gBAAgB,CAACl8C,OAAjB,CAAyB,QAAzB,IAAqC,CAAC,CAAtC,GAA0C,EAA1C,GAA+C,OAAOw8C,GAAP,GAAa,KAApF,CAAxB,EAAoH,SAApH,EAA+H,EAA/H,EAAmI/yC,KAAK,CAAC9G,MAAzI,CAVN;AAWHoB,QAAAA,UAAU,EAAE,CAAC,iEAAD,EAAoEjI,IAAI,CAAC8F,OAAL,CAAamC,UAAjF,EAA6F,YAA7F,EAA2G,EAA3G,EAA+G0F,KAAK,CAACmiB,SAArH,CAXT;AAYH5nB,QAAAA,UAAU,EAAE,CAAC,wBAAD,EAA2BlI,IAAI,CAAC8F,OAAL,CAAaoC,UAAxC,EAAoD,YAApD,EAAkE,EAAlE,EAAsEyF,KAAK,CAAC0/B,WAA5E,CAZT;AAaHllC,QAAAA,QAAQ,EAAE,CAAC,+DAAD,EAAkEnI,IAAI,CAAC8F,OAAL,CAAaqC,QAA/E,EAAyF,UAAzF,EAAqG,EAArG,EAAyGwF,KAAK,CAACk/B,SAA/G,CAbP;AAcHzkC,QAAAA,IAAI,EAAE,CAAC,sCAAD,EAAyCpI,IAAI,CAAC8F,OAAL,CAAasC,IAAb,IAAqBg4C,gBAAgB,CAACl8C,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6C,OAAOw8C,GAAP,GAAa,KAA/E,CAAzC,EAAgI,MAAhI,EAAwI,EAAxI,EAA4I/yC,KAAK,CAACvF,IAAlJ,CAdH;AAeHC,QAAAA,IAAI,EAAE,CAAC,sCAAD,EAAyCrI,IAAI,CAAC8F,OAAL,CAAauC,IAAb,IAAqB+3C,gBAAgB,CAACl8C,OAAjB,CAAyB,MAAzB,IAAmC,CAAC,CAApC,GAAwC,EAAxC,GAA6C,OAAOw8C,GAAP,GAAa,OAAb,GAAuBA,GAAvB,GAA6B,WAA/F,CAAzC,EAAsJ,MAAtJ,EAA8J,EAA9J,EAAkK/yC,KAAK,CAACtF,IAAxK,CAfH;AAgBHC,QAAAA,OAAO,EAAE,CAAC,qBAAD,EAAwBtI,IAAI,CAAC8F,OAAL,CAAawC,OAArC,EAA8C,SAA9C,EAAyD,EAAzD,EAA6DqF,KAAK,CAACrF,OAAnE,CAhBN;AAiBHC,QAAAA,KAAK,EAAE,CAAC,qBAAD,EAAwBvI,IAAI,CAAC8F,OAAL,CAAayC,KAArC,EAA4C,OAA5C,EAAqD,EAArD,EAAyDoF,KAAK,CAACpF,KAA/D,CAjBJ;AAkBHvC,QAAAA,IAAI,EAAE,CAAC,sCAAD,EAAyChG,IAAI,CAAC8F,OAAL,CAAaE,IAAtD,EAA4D,MAA5D,EAAoE,EAApE,EAAwE2H,KAAK,CAAC3H,IAA9E,CAlBH;;AAmBH;AACAud,QAAAA,UAAU,EAAE,CAAC,EAAD,EAAKvjB,IAAI,CAAC8F,OAAL,CAAa6C,cAAlB,EAAkC,YAAlC,EAAgD,SAAhD,EAA2DgF,KAAK,CAAC4V,UAAjE,CApBT;;AAqBH;AACAtd,QAAAA,IAAI,EAAE,CAAC,gCAAD,EAAmCjG,IAAI,CAAC8F,OAAL,CAAaG,IAAhD,EAAsD,MAAtD,EAA8D,SAA9D,EAAyE,uBAAuBjG,IAAI,CAAC8F,OAAL,CAAaG,IAApC,GAA2C,SAA3C,GAAuD0H,KAAK,CAACs/B,UAAtI,CAtBH;AAuBH1nB,QAAAA,WAAW,EAAE,CAAC,kCAAD,EAAqCvlB,IAAI,CAAC8F,OAAL,CAAaI,OAAlD,EAA2D,aAA3D,EAA0E,SAA1E,EAAqF,uBAAuBlG,IAAI,CAAC8F,OAAL,CAAaI,OAApC,GAA8C,SAA9C,GAA0DyH,KAAK,CAACs/B,UAArJ,CAvBV;AAwBH9mC,QAAAA,QAAQ,EAAE,CAAC,gCAAD,EAAmCnG,IAAI,CAAC8F,OAAL,CAAaK,QAAhD,EAA0D,UAA1D,EAAsE,SAAtE,EAAiF,uBAAuBnG,IAAI,CAAC8F,OAAL,CAAaK,QAApC,GAA+C,SAA/C,GAA2DwH,KAAK,CAACs/B,UAAlJ,CAxBP;AAyBHtmC,QAAAA,SAAS,EAAE,CAAC,EAAD,EAAK3G,IAAI,CAAC8F,OAAL,CAAaa,SAAlB,EAA6B,WAA7B,EAA0C,SAA1C,EAAqDgH,KAAK,CAACu/B,UAA3D,CAzBR;AA0BHtmC,QAAAA,WAAW,EAAE,CAAC,EAAD,EAAK5G,IAAI,CAAC8F,OAAL,CAAac,WAAlB,EAA+B,aAA/B,EAA8C,SAA9C,EAAyD+G,KAAK,CAACw/B,eAA/D,CA1BV;AA2BHpmC,QAAAA,KAAK,EAAE,CAAC,cAAD,EAAiB/G,IAAI,CAAC8F,OAAL,CAAaiB,KAA9B,EAAqC,OAArC,EAA8C,SAA9C,EAAyD4G,KAAK,CAAC+C,UAA/D,CA3BJ;AA4BHtJ,QAAAA,IAAI,EAAE,CAAC,EAAD,EAAKpH,IAAI,CAAC8F,OAAL,CAAasB,IAAlB,EAAwB,MAAxB,EAAgC,SAAhC,EAA2CuG,KAAK,CAACwb,WAAjD,CA5BH;AA6BH5hB,QAAAA,cAAc,EAAE,CAAC,UAAD,EAAavH,IAAI,CAAC8F,OAAL,CAAayB,cAA1B,EAA0C,gBAA1C,EAA4D,SAA5D,EAAuEoG,KAAK,CAACy/B,eAA7E,CA7Bb;AA8BHzlC,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAK3H,IAAI,CAAC8F,OAAL,CAAa6B,KAAlB,EAAyB,OAAzB,EAAkC,SAAlC,EAA6CgG,KAAK,CAAChG,KAAnD,CA9BJ;AA+BHmB,QAAAA,UAAU,EAAE,CAAC,EAAD,EAAK9I,IAAI,CAAC8F,OAAL,CAAagD,UAAlB,EAA8B,YAA9B,EAA4C,SAA5C,EAAuD6E,KAAK,CAACm/B,WAA7D,CA/BT;AAgCHjkC,QAAAA,QAAQ,EAAE,CAAC,EAAD,EAAK7I,IAAI,CAAC8F,OAAL,CAAa+C,QAAlB,EAA4B,UAA5B,EAAwC,SAAxC,EAAmD8E,KAAK,CAAC9E,QAAzD,CAhCP;AAiCHE,QAAAA,cAAc,EAAE,CAAC,EAAD,EAAK/I,IAAI,CAAC8F,OAAL,CAAaiD,cAAlB,EAAkC,gBAAlC,EAAoD,SAApD,EAA+D4E,KAAK,CAACo/B,eAArE,CAjCb;AAkCH/jC,QAAAA,SAAS,EAAE,CAAC,EAAD,EAAKhJ,IAAI,CAAC8F,OAAL,CAAakD,SAAlB,EAA6B,WAA7B,EAA0C,SAA1C,EAAqD2E,KAAK,CAACq/B,UAA3D,CAlCR;;AAmCH;AACAplC,QAAAA,IAAI,EAAE,CAAC,EAAD,EAAK5H,IAAI,CAAC8F,OAAL,CAAa8B,IAAlB,EAAwB,MAAxB,EAAgC,QAAhC,EAA0C+F,KAAK,CAAC/F,IAAhD,CApCH;AAqCHE,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAK9H,IAAI,CAAC8F,OAAL,CAAagC,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4C6F,KAAK,CAAC7F,KAAlD,CArCJ;AAsCHC,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAK/H,IAAI,CAAC8F,OAAL,CAAaiC,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4C4F,KAAK,CAAC5F,KAAlD,CAtCJ;AAuCHC,QAAAA,KAAK,EAAE,CAAC,EAAD,EAAKhI,IAAI,CAAC8F,OAAL,CAAakC,KAAlB,EAAyB,OAAzB,EAAkC,QAAlC,EAA4C2F,KAAK,CAAC3F,KAAlD,CAvCJ;AAwCHH,QAAAA,IAAI,EAAE,CAAC,EAAD,EAAK7H,IAAI,CAAC8F,OAAL,CAAa+B,IAAlB,EAAwB,MAAxB,EAAgC,QAAhC,EAA0C8F,KAAK,CAAC9F,IAAhD,CAxCH;;AAyCH;AACAoB,QAAAA,YAAY,EAAE,CAAC,EAAD,EAAKjJ,IAAI,CAAC8F,OAAL,CAAamD,YAAlB,EAAgC,cAAhC,EAAgD,aAAhD,EAA+D0E,KAAK,CAACmwB,aAArE;AA1CX,OAAP;AA4CH,KAxiB+C;;AA0iBhD;;;;;AAKA6iB,IAAAA,kBAAkB,EAAE,YAAY;AAC5B,YAAMC,IAAI,GAAG7G,QAAQ,CAACh9C,aAAT,CAAuB,KAAvB,CAAb;AACA6jD,MAAAA,IAAI,CAAC5jD,SAAL,GAAiB,oCAAjB;AAEA,YAAM6jD,GAAG,GAAG9G,QAAQ,CAACh9C,aAAT,CAAuB,IAAvB,CAAZ;AACA8jD,MAAAA,GAAG,CAAC7jD,SAAJ,GAAgB,cAAhB;AACA4jD,MAAAA,IAAI,CAACvjD,WAAL,CAAiBwjD,GAAjB;AAEA,aAAO;AACH,eAAOD,IADJ;AAEH,cAAMC;AAFH,OAAP;AAIH,KA3jB+C;;AA6jBhD;;;;;;;;;;;;AAYAC,IAAAA,aAAa,EAAE,UAAUC,WAAV,EAAuB53C,KAAvB,EAA8B63C,WAA9B,EAA2CC,WAA3C,EAAwDlhD,SAAxD,EAAmEmhD,SAAnE,EAA8EC,MAA9E,EAAsF;AACjG,YAAMC,GAAG,GAAGrH,QAAQ,CAACh9C,aAAT,CAAuB,IAAvB,CAAZ;AACA,YAAMskD,OAAO,GAAGtH,QAAQ,CAACh9C,aAAT,CAAuB,QAAvB,CAAhB;AAEAskD,MAAAA,OAAO,CAAC1hD,YAAR,CAAqB,MAArB,EAA6B,QAA7B;AACA0hD,MAAAA,OAAO,CAAC1hD,YAAR,CAAqB,OAArB,EAA8B,YAAYohD,WAAW,GAAG,MAAMA,WAAT,GAAuB,EAA9C,IAAoD,aAAlF;AACAM,MAAAA,OAAO,CAAC1hD,YAAR,CAAqB,cAArB,EAAqCqhD,WAArC;AACAK,MAAAA,OAAO,CAAC1hD,YAAR,CAAqB,cAArB,EAAqCshD,WAArC;AACAI,MAAAA,OAAO,CAAC1hD,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEA,UAAI,CAACI,SAAL,EAAgBA,SAAS,GAAG,qCAAZ;;AAChB,UAAI,cAAchC,IAAd,CAAmBgC,SAAnB,CAAJ,EAAmC;AAC/BA,QAAAA,SAAS,GAAGohD,MAAM,CAACphD,SAAS,CAACuU,OAAV,CAAkB,aAAlB,EAAiC,EAAjC,CAAD,CAAlB;AACH;;AACD,UAAI,WAAWvW,IAAX,CAAgBgC,SAAhB,CAAJ,EAAgC;AAC5BA,QAAAA,SAAS,GAAGA,SAAS,CAACuU,OAAV,CAAkB,UAAlB,EAA8B,EAA9B,CAAZ;AACA+sC,QAAAA,OAAO,CAACrkD,SAAR,IAAqB,mBAArB;AACH;;AAED+C,MAAAA,SAAS,IAAI,mEAAmEoJ,KAAK,IAAI63C,WAA5E,IAA2F,gBAAxG;AAEA,UAAIE,SAAJ,EAAeG,OAAO,CAAC1hD,YAAR,CAAqB,UAArB,EAAiC,IAAjC;AAEf0hD,MAAAA,OAAO,CAACthD,SAAR,GAAoBA,SAApB;AACAqhD,MAAAA,GAAG,CAAC/jD,WAAJ,CAAgBgkD,OAAhB;AAEA,aAAO;AACH,cAAMD,GADH;AAEH,kBAAUC;AAFP,OAAP;AAIH,KAvmB+C;;AAymBhD;;;;;;;;;AASAhH,IAAAA,cAAc,EAAE,UAAUpK,GAAV,EAAeqF,UAAf,EAA2BgM,QAA3B,EAAqC9/B,OAArC,EAA8C;AAC1D,YAAM+/B,kBAAkB,GAAGtR,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAA3B;AACAwkD,MAAAA,kBAAkB,CAACvkD,SAAnB,GAA+B,+BAA/B;AAEA,YAAMo9C,QAAQ,GAAGnK,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAjB;AACAq9C,MAAAA,QAAQ,CAACp9C,SAAT,GAAqB,8BAArB;;AAEA,YAAMwkD,WAAW,GAAGvR,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAApB;;AACAykD,MAAAA,WAAW,CAACxkD,SAAZ,GAAwB,aAAxB;AACAo9C,MAAAA,QAAQ,CAAC/8C,WAAT,CAAqBmkD,WAArB;AAEA;;AACA,YAAM7zC,KAAK,GAAG6T,OAAO,CAAC7T,KAAtB;;AACA,YAAM8zC,iBAAiB,GAAG,KAAKhB,eAAL,CAAqBj/B,OAArB,CAA1B;;AACA,YAAM84B,iBAAiB,GAAG,EAA1B;AACA,YAAM6C,iBAAiB,GAAG,EAA1B;AACA,YAAMh/C,OAAO,GAAG,EAAhB;;AACA,UAAImjD,QAAJ,EAAc;AACV,cAAMI,aAAa,GAAGJ,QAAQ,CAACpgD,MAAT,GAAkBogD,QAAlB,GAA6BjnD,MAAM,CAAC4G,IAAP,CAAYqgD,QAAZ,EAAsB5xC,GAAtB,CAA0B,UAASxV,IAAT,EAAe;AAAE,iBAAOonD,QAAQ,CAACpnD,IAAD,CAAf;AAAwB,SAAnE,CAAnD;;AACA,aAAK,IAAIN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGk/C,aAAa,CAACxgD,MAA/B,EAAuCvF,CAA5C,EAA+C/B,CAAC,GAAG4I,GAAnD,EAAwD5I,CAAC,EAAzD,EAA6D;AACzD+B,UAAAA,CAAC,GAAG+lD,aAAa,CAAC9nD,CAAD,CAAb,CAAiBmM,OAAjB,IAA4B27C,aAAa,CAAC9nD,CAAD,CAA7C;AACAuE,UAAAA,OAAO,CAACxC,CAAC,CAACzB,IAAH,CAAP,GAAkByB,CAAlB;AACH;AACJ;;AAED,UAAIrC,MAAM,GAAG,IAAb;AACA,UAAI8vB,MAAM,GAAG,IAAb;AACA,UAAIu4B,aAAa,GAAG,IAApB;AACA,UAAIC,aAAa,GAAG,IAApB;AACA,UAAI1/C,UAAU,GAAG,EAAjB;AACA,UAAI80B,QAAQ,GAAG,KAAf;AACA,YAAM6qB,SAAS,GAAG9H,QAAQ,CAACh9C,aAAT,CAAuB,KAAvB,CAAlB;AACA8kD,MAAAA,SAAS,CAAC7kD,SAAV,GAAsB,uBAAtB;;AAEA8kD,MAAAA,eAAe,EACf,KAAK,IAAIloD,CAAC,GAAG,CAAR,EAAWmoD,IAAX,EAAiBC,aAAjB,EAAgCC,WAAhC,EAA6CC,WAA7C,EAA0Dn7C,KAA/D,EAAsEnN,CAAC,GAAG07C,UAAU,CAACp0C,MAArF,EAA6FtH,CAAC,EAA9F,EAAkG;AAC9FmoD,QAAAA,IAAI,GAAG,KAAP;AACAh7C,QAAAA,KAAK,GAAG,EAAR;AACAm7C,QAAAA,WAAW,GAAG5M,UAAU,CAAC17C,CAAD,CAAxB;AACA+nD,QAAAA,aAAa,GAAG,KAAKhB,kBAAL,EAAhB,CAJ8F,CAM9F;;AACA,YAAI,OAAOuB,WAAP,KAAuB,QAA3B,EAAqC;AACjC;AACA,eAAK,IAAIz3B,CAAC,GAAG,CAAR,EAAW03B,UAAhB,EAA4B13B,CAAC,GAAGy3B,WAAW,CAAChhD,MAA5C,EAAoDupB,CAAC,EAArD,EAAyD;AACrDrB,YAAAA,MAAM,GAAG84B,WAAW,CAACz3B,CAAD,CAApB;AACA03B,YAAAA,UAAU,GAAG,KAAb;;AAEA,gBAAI,SAASpkD,IAAT,CAAcqrB,MAAd,KAAyBqB,CAAC,KAAK,CAAnC,EAAsC;AAClCy3B,cAAAA,WAAW,CAAC,CAAD,CAAX,GAAiB94B,MAAM,CAAC9U,OAAP,CAAe,QAAf,EAAyB,EAAzB,CAAjB;AACA6oC,cAAAA,iBAAiB,CAACn5C,IAAlB,CAAuBk+C,WAAvB;AACA5M,cAAAA,UAAU,CAACjxC,MAAX,CAAkBzK,CAAC,EAAnB,EAAuB,CAAvB;AACA,uBAASkoD,eAAT;AACH;;AAED,gBAAI,OAAO14B,MAAP,KAAkB,QAAtB,EAAgC;AAC5B,kBAAI,OAAOA,MAAM,CAAC7sB,GAAd,KAAsB,UAA1B,EAAsC;AAClC2F,gBAAAA,UAAU,GAAGknB,MAAM,CAAClvB,IAApB;AACAZ,gBAAAA,MAAM,GAAGmoD,iBAAiB,CAACv/C,UAAD,CAA1B;AACA/D,gBAAAA,OAAO,CAAC+D,UAAD,CAAP,GAAsBknB,MAAtB;AACH,eAJD,MAIO;AACHlnB,gBAAAA,UAAU,GAAGknB,MAAM,CAAClvB,IAApB;AACAZ,gBAAAA,MAAM,GAAG,CAAC8vB,MAAM,CAAC23B,WAAR,EAAqB33B,MAAM,CAACjgB,KAA5B,EAAmCigB,MAAM,CAAClvB,IAA1C,EAAgDkvB,MAAM,CAAC63B,WAAvD,EAAoE73B,MAAM,CAACrpB,SAA3E,EAAsFqpB,MAAM,CAAC83B,SAA7F,CAAT;AACH;AACJ,aATD,MASO;AACH;AACA,kBAAI,MAAMnjD,IAAN,CAAWqrB,MAAX,CAAJ,EAAwB;AACpBriB,gBAAAA,KAAK,GAAGqiB,MAAM,CAACvZ,MAAP,CAAc,CAAd,CAAR;AACA8xC,gBAAAA,aAAa,CAACS,GAAd,CAAkBllD,KAAlB,CAAwBsd,KAAxB,GAAgCzT,KAAhC;AACA;AACH,eANE,CAQH;;;AACA,kBAAI,MAAMhJ,IAAN,CAAWqrB,MAAX,CAAJ,EAAwB;AACpB+4B,gBAAAA,UAAU,GAAG,IAAb;AACA,sBAAME,OAAO,GAAGj5B,MAAM,CAACja,KAAP,CAAa,iCAAb,CAAhB;AACA8yC,gBAAAA,WAAW,GAAG,WAAWI,OAAO,CAAC,CAAD,CAAP,CAAWhkC,IAAX,EAAzB;AACA,sBAAMlV,KAAK,GAAGk5C,OAAO,CAAC,CAAD,CAAP,CAAWhkC,IAAX,EAAd;AACA,sBAAMte,SAAS,GAAGsiD,OAAO,CAAC,CAAD,CAAP,CAAWhkC,IAAX,EAAlB;AACA/kB,gBAAAA,MAAM,GAAG,CAAC,aAAD,EAAgB6P,KAAhB,EAAuB84C,WAAvB,EAAoC,MAApC,EAA4CliD,SAA5C,CAAT;AACH,eAPD,CAQA;AARA,mBASK;AACDzG,kBAAAA,MAAM,GAAGmoD,iBAAiB,CAACr4B,MAAD,CAA1B;AACH;;AAEDlnB,cAAAA,UAAU,GAAGknB,MAAb;;AACA,kBAAI,CAAC9vB,MAAL,EAAa;AACT,sBAAMgpD,MAAM,GAAGnkD,OAAO,CAAC+D,UAAD,CAAtB;AACA,oBAAI,CAACogD,MAAL,EAAa,MAAMnmD,KAAK,CAAC,uFAAuF+F,UAAvF,GAAoG,GAArG,CAAX;AACb5I,gBAAAA,MAAM,GAAG,CAACgpD,MAAM,CAACvB,WAAR,EAAqBuB,MAAM,CAACn5C,KAA5B,EAAmCm5C,MAAM,CAACpoD,IAA1C,EAAgDooD,MAAM,CAACnlD,OAAvD,EAAgEmlD,MAAM,CAACviD,SAAvE,EAAkFuiD,MAAM,CAACpB,SAAzF,CAAT;AACH;AACJ;;AAEDU,YAAAA,aAAa,GAAG,KAAKd,aAAL,CAAmBxnD,MAAM,CAAC,CAAD,CAAzB,EAA8BA,MAAM,CAAC,CAAD,CAApC,EAAyCA,MAAM,CAAC,CAAD,CAA/C,EAAoDA,MAAM,CAAC,CAAD,CAA1D,EAA+DA,MAAM,CAAC,CAAD,CAArE,EAA0EA,MAAM,CAAC,CAAD,CAAhF,EAAqFqU,KAArF,CAAhB;AACA,aAACo0C,IAAI,GAAGC,aAAH,GAAmBL,aAAa,CAACY,EAAtC,EAA0CllD,WAA1C,CAAsDukD,aAAa,CAACY,EAApE;;AAEA,gBAAIrkD,OAAO,CAAC+D,UAAD,CAAX,EAAyB;AACrBo4C,cAAAA,iBAAiB,CAACp4C,UAAD,CAAjB,GAAgC0/C,aAAa,CAACx4B,MAA9C;AACH,aAvDoD,CAyDrD;;;AACA,gBAAI+4B,UAAJ,EAAgB;AACZJ,cAAAA,IAAI,GAAG,IAAP;AACAC,cAAAA,aAAa,GAAGjI,QAAQ,CAACh9C,aAAT,CAAuB,KAAvB,CAAhB;AACAilD,cAAAA,aAAa,CAAChlD,SAAd,GAA0B,mBAAmBilD,WAA7C;AACAD,cAAAA,aAAa,CAACjiD,SAAd,GAA0B,wDAAwDgH,KAAK,GAAG,oBAAoBA,KAApB,GAA4B,IAA/B,GAAsC,EAAnG,IAAyG,cAAnI;AACA86C,cAAAA,SAAS,CAACxkD,WAAV,CAAsB2kD,aAAtB;AACAA,cAAAA,aAAa,GAAGA,aAAa,CAACrrC,iBAAd,CAAgCA,iBAAhD;AACH;AACJ;;AAED,cAAIqgB,QAAJ,EAAc;AACV,kBAAMyrB,EAAE,GAAIlB,kBAAkB,CAAC19B,SAAnB,CAA6B,KAA7B,CAAZ;AACA,gBAAI9c,KAAJ,EAAW07C,EAAE,CAACvlD,KAAH,CAASsd,KAAT,GAAiBzT,KAAjB;;AACXy6C,YAAAA,WAAW,CAACnkD,WAAZ,CAAwBolD,EAAxB;AACH;;AAEDjB,UAAAA,WAAW,CAACnkD,WAAZ,CAAwBskD,aAAa,CAACS,GAAtC;;AACAprB,UAAAA,QAAQ,GAAG,IAAX;AACH;AACD;AA/EA,aAgFK,IAAI,OAAOj5B,IAAP,CAAYmkD,WAAZ,CAAJ,EAA8B;AAC/B,kBAAMQ,QAAQ,GAAGzS,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAjB;AACA2lD,YAAAA,QAAQ,CAAC1lD,SAAT,GAAqB,qBAArB;;AACAwkD,YAAAA,WAAW,CAACnkD,WAAZ,CAAwBqlD,QAAxB;;AACA1rB,YAAAA,QAAQ,GAAG,KAAX;AACH;AACJ;;AAED,UAAIwqB,WAAW,CAACn1B,QAAZ,CAAqBnrB,MAArB,KAAgC,CAApC,EAAuC64C,QAAQ,CAAC1rC,WAAT,CAAqBmzC,WAAW,CAAC7qC,iBAAjC,EAAoD,sBAApD;AACvC,UAAIwmC,iBAAiB,CAACj8C,MAAlB,GAA2B,CAA/B,EAAkCi8C,iBAAiB,CAACwF,OAAlB,CAA0BrN,UAA1B;AAClC,UAAIuM,SAAS,CAACx1B,QAAV,CAAmBnrB,MAAnB,GAA4B,CAAhC,EAAmCsgD,WAAW,CAACnkD,WAAZ,CAAwBwkD,SAAxB,EApIuB,CAsI1D;;AACA,YAAM1F,SAAS,GAAGlM,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAlB;;AACAo/C,MAAAA,SAAS,CAACn/C,SAAV,GAAsB,cAAtB;AACAo9C,MAAAA,QAAQ,CAAC/8C,WAAT,CAAqB8+C,SAArB,EAzI0D,CA2I1D;;AACA,YAAMyG,UAAU,GAAG3S,GAAG,CAAClzC,aAAJ,CAAkB,KAAlB,CAAnB;AACA6lD,MAAAA,UAAU,CAAC5lD,SAAX,GAAuB,kBAAvB;AACAo9C,MAAAA,QAAQ,CAAC/8C,WAAT,CAAqBulD,UAArB;AAEA,aAAO;AACH,mBAAWxI,QADR;AAEH,mBAAWj8C,OAFR;AAGH,6BAAqBm8C,iBAHlB;AAIH,6BAAqB6C,iBAJlB;AAKH,qBAAahB,SALV;AAMH,uBAAeqF;AANZ,OAAP;AAQH;AA1wB+C,GAAvB,CA/6DqC,CA2rFlE;;AACA;;;;;;;;AASA;;;;;;;;;AAQA,QAAMqB,QAAQ,GAAG,UAAUjlD,OAAV,EAAmBklD,IAAnB,EAAyBthC,OAAzB,EAAkC;AAC/C,WAAO;AACH5jB,MAAAA,OAAO,EAAE;AACLygD,QAAAA,aAAa,EAAEzgD,OADV;AAEL8gD,QAAAA,OAAO,EAAEoE,IAAI,CAAC9G,IAFT;AAGLn+C,QAAAA,QAAQ,EAAEilD,IAAI,CAAC7G,SAHV;AAILn2C,QAAAA,OAAO,EAAEg9C,IAAI,CAAC5G,QAJT;AAKLsF,QAAAA,WAAW,EAAEsB,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,cAA5B,CALR;AAMLkrC,QAAAA,SAAS,EAAE2G,IAAI,CAAC3G,SANX;AAOLjB,QAAAA,WAAW,EAAE4H,IAAI,CAACtG,YAPb;AAQLrB,QAAAA,UAAU,EAAE2H,IAAI,CAACrG,WARZ;AASLpB,QAAAA,WAAW,EAAEyH,IAAI,CAACpG,YATb;AAULnB,QAAAA,WAAW,EAAEuH,IAAI,CAACnG,YAVb;AAWL2B,QAAAA,UAAU,EAAEwE,IAAI,CAAC1G,WAXZ;AAYL5mC,QAAAA,YAAY,EAAEstC,IAAI,CAACzG,YAZd;AAaL15C,QAAAA,OAAO,EAAEmgD,IAAI,CAACzG,YAbT;AAauB;AAC5Bx2C,QAAAA,IAAI,EAAEi9C,IAAI,CAACxG,SAdN;AAeL7V,QAAAA,WAAW,EAAEqc,IAAI,CAACvG,YAfb;AAgBLwG,QAAAA,OAAO,EAAED,IAAI,CAACnnC,QAhBT;AAiBLqnC,QAAAA,WAAW,EAAEF,IAAI,CAAClG,YAjBb;AAkBLqG,QAAAA,aAAa,EAAEH,IAAI,CAACjG,cAlBf;AAmBLqG,QAAAA,aAAa,EAAEJ,IAAI,CAAChG,cAnBf;AAoBLviC,QAAAA,gBAAgB,EAAEuoC,IAAI,CAAC/F,WApBlB;AAqBLC,QAAAA,YAAY,EAAE8F,IAAI,CAAC9F,YArBd;AAsBLC,QAAAA,MAAM,EAAE6F,IAAI,CAAC7F;AAtBR,OADN;AAyBHkG,MAAAA,IAAI,EAAE;AACF1jD,QAAAA,KAAK,EAAEqjD,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,mBAA5B,CADL;AAEF7K,QAAAA,IAAI,EAAE08C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,mBAA5B,CAFJ;AAGF5K,QAAAA,SAAS,EAAEy8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,wBAA5B,CAHT;AAIF3K,QAAAA,MAAM,EAAEw8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,qBAA5B,CAJN;AAKF1K,QAAAA,MAAM,EAAEu8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,qBAA5B,CALN;AAMFzK,QAAAA,SAAS,EAAEs8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,wBAA5B,CANT;AAOFxK,QAAAA,WAAW,EAAEq8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,0BAA5B,CAPX;AAQF7I,QAAAA,IAAI,EAAE06C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,mBAA5B,CARJ;AASF5I,QAAAA,IAAI,EAAEy6C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,mBAA5B,CATJ;AAUFjL,QAAAA,IAAI,EAAE88C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,mBAA5B,CAVJ;AAWFnK,QAAAA,OAAO,EAAEg8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,sBAA5B,CAXP;AAYFpK,QAAAA,MAAM,EAAEi8C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,qBAA5B,CAZN;AAaFhJ,QAAAA,UAAU,EAAE66C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,yBAA5B,CAbV;AAcF/I,QAAAA,UAAU,EAAE46C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,yBAA5B,CAdV;AAeF9I,QAAAA,QAAQ,EAAE26C,IAAI,CAAC5G,QAAL,CAAcjrC,aAAd,CAA4B,uBAA5B;AAfR,OAzBH;AA0CHuQ,MAAAA,OAAO,EAAEA,OA1CN;AA2CH5iB,MAAAA,MAAM,EAAE4iB;AA3CL,KAAP;AA6CH,GA9CD;AAgDA;;;AAA6B,MAAI4hC,WAAW,GAAIP,QAAnB,CA7vFqC,CA8vFlE;;AACA;;;;;;;;AASA;;AAA6B,MAAIQ,WAAW,GAAI,UAAU7mD,IAAV,EAAgBoe,MAAhB,EAAwB;AACpE,UAAM5Z,EAAE,GAAGxE,IAAI,CAACwE,EAAhB;AACA,UAAMlE,IAAI,GAAGN,IAAI,CAACM,IAAlB;AACA,UAAMwmD,SAAS,GAAG9mD,IAAI,CAACC,OAAL,CAAa+kB,OAAb,CAAqBg+B,qBAAvC;AACA,QAAIpG,MAAM,GAAG58C,IAAI,CAACC,OAAL,CAAamB,OAA1B;AACA,QAAIwK,IAAI,GAAG5L,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkB/6C,IAA7B;AACA,QAAIC,IAAI,GAAG7L,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkB96C,IAA7B;AAEA,QAAIk7C,SAAS,GAAG,IAAhB;AACA,QAAIC,UAAU,GAAG,CAAjB;AACA,QAAIC,KAAK,GAAG,EAAZ;;AAEA,aAASC,oBAAT,GAAiC;AAC7B,YAAMvlC,IAAI,GAAGslC,KAAK,CAACD,UAAD,CAAlB;AACApK,MAAAA,MAAM,CAACz2C,OAAP,CAAe5C,SAAf,GAA2Boe,IAAI,CAACwwB,QAAhC;AAEAnyC,MAAAA,IAAI,CAACwc,QAAL,CAAclc,IAAI,CAACyqB,eAAL,CAAqBpJ,IAAI,CAACviB,CAAL,CAAO8zC,IAA5B,EAAkC0J,MAAM,CAACz2C,OAAzC,CAAd,EAAiEwb,IAAI,CAACviB,CAAL,CAAO0Z,MAAxE,EAAgFxY,IAAI,CAACyqB,eAAL,CAAqBpJ,IAAI,CAACrgB,CAAL,CAAO4xC,IAA5B,EAAkC0J,MAAM,CAACz2C,OAAzC,CAAhF,EAAmIwb,IAAI,CAACrgB,CAAL,CAAOwX,MAA1I;AACA9Y,MAAAA,IAAI,CAACyC,KAAL;;AAEA,UAAIukD,UAAU,KAAK,CAAnB,EAAsB;AAClB,YAAIp7C,IAAJ,EAAUA,IAAI,CAACzI,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACV,YAAI0I,IAAJ,EAAUA,IAAI,CAAClE,eAAL,CAAqB,UAArB;AACb,OAHD,MAGO,IAAIq/C,UAAU,KAAKC,KAAK,CAACviD,MAAN,GAAe,CAAlC,EAAqC;AACxC,YAAIkH,IAAJ,EAAUA,IAAI,CAACjE,eAAL,CAAqB,UAArB;AACV,YAAIkE,IAAJ,EAAUA,IAAI,CAAC1I,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACb,OAHM,MAGA;AACH,YAAIyI,IAAJ,EAAUA,IAAI,CAACjE,eAAL,CAAqB,UAArB;AACV,YAAIkE,IAAJ,EAAUA,IAAI,CAAClE,eAAL,CAAqB,UAArB;AACb;;AAED3H,MAAAA,IAAI,CAAC0c,cAAL;;AACA1c,MAAAA,IAAI,CAACmnD,gBAAL;;AACAnnD,MAAAA,IAAI,CAAConD,aAAL;;AACApnD,MAAAA,IAAI,CAACqnD,qBAAL,GArB6B,CAuB7B;;;AACAjpC,MAAAA,MAAM;AACT;;AAED,aAASkpC,SAAT,GAAsB;AAClBtnD,MAAAA,IAAI,CAACmnD,gBAAL;;AACA,YAAM5qC,OAAO,GAAGvc,IAAI,CAACunD,WAAL,CAAiB,IAAjB,CAAhB;AACA,UAAI,CAAC,CAACN,KAAK,CAACD,UAAD,CAAP,IAAuBzqC,OAAO,KAAK0qC,KAAK,CAACD,UAAD,CAAL,CAAkB7U,QAAzD,EAAmE;AAEnE6U,MAAAA,UAAU;AACV,YAAMl9B,KAAK,GAAG9pB,IAAI,CAACwnD,SAAL,CAAeC,MAA7B;;AAEA,UAAIR,KAAK,CAACviD,MAAN,GAAesiD,UAAnB,EAA+B;AAC3BC,QAAAA,KAAK,GAAGA,KAAK,CAAC/gD,KAAN,CAAY,CAAZ,EAAe8gD,UAAf,CAAR;AACA,YAAIn7C,IAAJ,EAAUA,IAAI,CAAC1I,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACb;;AAED,UAAI,CAAC2mB,KAAL,EAAY;AACRm9B,QAAAA,KAAK,CAACD,UAAD,CAAL,GAAoB;AAChB7U,UAAAA,QAAQ,EAAE51B,OADM;AAEhBnd,UAAAA,CAAC,EAAE;AAAE8zC,YAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CAAR;AAAgBp6B,YAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ;AAAxB,WAFa;AAGhBxX,UAAAA,CAAC,EAAE;AAAE4xC,YAAAA,IAAI,EAAE,CAAR;AAAWp6B,YAAAA,MAAM,EAAE;AAAnB;AAHa,SAApB;AAKH,OAND,MAMO;AACHmuC,QAAAA,KAAK,CAACD,UAAD,CAAL,GAAoB;AAChB7U,UAAAA,QAAQ,EAAE51B,OADM;AAEhBnd,UAAAA,CAAC,EAAE;AACC8zC,YAAAA,IAAI,EAAE5yC,IAAI,CAACiqB,WAAL,CAAiBT,KAAK,CAACU,cAAvB,EAAuC,IAAvC,EAA6C,IAA7C,CADP;AAEC1R,YAAAA,MAAM,EAAEgR,KAAK,CAACI;AAFf,WAFa;AAMhB5oB,UAAAA,CAAC,EAAE;AACC4xC,YAAAA,IAAI,EAAE5yC,IAAI,CAACiqB,WAAL,CAAiBT,KAAK,CAACY,YAAvB,EAAqC,IAArC,EAA2C,IAA3C,CADP;AAEC5R,YAAAA,MAAM,EAAEgR,KAAK,CAACK;AAFf;AANa,SAApB;AAWH;;AAED,UAAI68B,UAAU,KAAK,CAAf,IAAoBp7C,IAAxB,EAA8BA,IAAI,CAACjE,eAAL,CAAqB,UAArB;;AAE9B3H,MAAAA,IAAI,CAAConD,aAAL,GAnCkB,CAoClB;;;AACAhpC,MAAAA,MAAM;AACT;;AAED,WAAO;AACH;;;AAGA6oC,MAAAA,KAAK,EAAEA,KAJJ;;AAMH;;;;;;;AAOAz/C,MAAAA,IAAI,EAAE,UAAUkgD,KAAV,EAAiB;AACnBljD,QAAAA,EAAE,CAACiE,UAAH,CAAczI,IAAI,CAACqnD,qBAAL,CAA2B1oD,IAA3B,CAAgCqB,IAAhC,CAAd;;AACA,cAAM2nD,IAAI,GAAG,OAAOD,KAAP,KAAiB,QAAjB,GAA6BA,KAAK,GAAG,CAAR,GAAYA,KAAZ,GAAoB,CAAjD,GAAuD,CAACA,KAAD,GAAS,CAAT,GAAaZ,SAAjF;;AAEA,YAAI,CAACa,IAAD,IAASZ,SAAb,EAAwB;AACpBviD,UAAAA,EAAE,CAACojD,YAAH,CAAgBb,SAAhB;;AACA,cAAI,CAACY,IAAL,EAAW;AACPL,YAAAA,SAAS;AACT;AACH;AACJ;;AAEDP,QAAAA,SAAS,GAAGviD,EAAE,CAACiE,UAAH,CAAc,YAAY;AAClCjE,UAAAA,EAAE,CAACojD,YAAH,CAAgBb,SAAhB;;AACAA,UAAAA,SAAS,GAAG,IAAZ;AACAO,UAAAA,SAAS;AACZ,SAJW,EAITK,IAJS,CAAZ;AAKH,OA9BE;;AAgCH;;;AAGA/7C,MAAAA,IAAI,EAAE,YAAY;AACd,YAAIo7C,UAAU,GAAG,CAAjB,EAAoB;AAChBA,UAAAA,UAAU;AACVE,UAAAA,oBAAoB;AACvB;AACJ,OAxCE;;AA0CH;;;AAGAr7C,MAAAA,IAAI,EAAE,YAAY;AACd,YAAIo7C,KAAK,CAACviD,MAAN,GAAe,CAAf,GAAmBsiD,UAAvB,EAAmC;AAC/BA,UAAAA,UAAU;AACVE,UAAAA,oBAAoB;AACvB;AACJ,OAlDE;;AAoDH;;;;;AAKAW,MAAAA,EAAE,EAAE,UAAU/gD,KAAV,EAAiB;AACjBkgD,QAAAA,UAAU,GAAGlgD,KAAK,GAAG,CAAR,GAAamgD,KAAK,CAACviD,MAAN,GAAe,CAA5B,GAAiCoC,KAA9C;AACAogD,QAAAA,oBAAoB;AACvB,OA5DE;;AA8DH;;;AAGA7vB,MAAAA,KAAK,EAAE,UAAUywB,iBAAV,EAA6B;AAChC,YAAIl8C,IAAJ,EAAUA,IAAI,CAACzI,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACV,YAAI0I,IAAJ,EAAUA,IAAI,CAAC1I,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACV,YAAInD,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkBn9C,IAAtB,EAA4BxJ,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkBn9C,IAAlB,CAAuBrG,YAAvB,CAAoC,UAApC,EAAgD,IAAhD;AAE5B8jD,QAAAA,KAAK,CAACp/C,MAAN,CAAa,CAAb;AACAm/C,QAAAA,UAAU,GAAG,CAAb,CANgC,CAQhC;;AACAC,QAAAA,KAAK,CAACD,UAAD,CAAL,GAAoB;AAChB7U,UAAAA,QAAQ,EAAEnyC,IAAI,CAACunD,WAAL,CAAiB,IAAjB,CADM;AAEhBnoD,UAAAA,CAAC,EAAE;AACC8zC,YAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CADP;AAECp6B,YAAAA,MAAM,EAAE;AAFT,WAFa;AAMhBxX,UAAAA,CAAC,EAAE;AACC4xC,YAAAA,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,CADP;AAECp6B,YAAAA,MAAM,EAAE;AAFT;AANa,SAApB;AAYA,YAAI,CAACgvC,iBAAL,EAAwB1pC,MAAM;AACjC,OAvFE;;AAyFH;;;;AAIA2pC,MAAAA,mBAAmB,EAAE,YAAY;AAC7BnL,QAAAA,MAAM,GAAG58C,IAAI,CAACC,OAAL,CAAamB,OAAtB;AACAwK,QAAAA,IAAI,GAAG5L,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkB/6C,IAAzB;AACAC,QAAAA,IAAI,GAAG7L,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkB96C,IAAzB;;AAEA,YAAIm7C,UAAU,KAAK,CAAnB,EAAsB;AAClB,cAAIp7C,IAAJ,EAAUA,IAAI,CAACzI,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACV,cAAI0I,IAAI,IAAIm7C,UAAU,KAAKC,KAAK,CAACviD,MAAN,GAAe,CAA1C,EAA6CmH,IAAI,CAAC1I,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AAC7C,cAAInD,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkBn9C,IAAtB,EAA4BxJ,IAAI,CAACC,OAAL,CAAa0mD,IAAb,CAAkBn9C,IAAlB,CAAuBrG,YAAvB,CAAoC,UAApC,EAAgD,IAAhD;AAC/B,SAJD,MAIO,IAAI6jD,UAAU,KAAKC,KAAK,CAACviD,MAAN,GAAe,CAAlC,EAAqC;AACxC,cAAImH,IAAJ,EAAUA,IAAI,CAAC1I,YAAL,CAAkB,UAAlB,EAA8B,IAA9B;AACb;AACJ,OAzGE;;AA2GH;;;;AAIA6kD,MAAAA,QAAQ,EAAE,YAAY;AAClB,YAAIjB,SAAJ,EAAeviD,EAAE,CAACojD,YAAH,CAAgBb,SAAhB;AACfE,QAAAA,KAAK,GAAG,IAAR;AACH;AAlHE,KAAP;AAoHH,GAnM4B,CAxwFqC,CA48FlE;;AACA;;;;;;;;AASA;;;AAA6B,MAAIgB,OAAO,GAAI;AACxCvqD,IAAAA,IAAI,EAAE,QADkC;;AAExC;;;;AAIAqC,IAAAA,GAAG,EAAE,UAAUC,IAAV,EAAgB;AACjB,YAAMC,OAAO,GAAGD,IAAI,CAACC,OAArB;AACAA,MAAAA,OAAO,CAACioD,MAAR,GAAiB,EAAjB;AAEA;;AACA,UAAIC,UAAU,GAAGnoD,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,KAAxB,CAAjB;AACA,UAAI6nD,WAAW,GAAGpoD,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,MAAxB,CAAlB;AACA,UAAI8nD,aAAa,GAAGroD,IAAI,CAACM,IAAL,CAAUC,aAAV,CAAwB,QAAxB,CAApB;AAEA4nD,MAAAA,UAAU,CAAC3nD,SAAX,GAAuB,WAAvB;AACA6nD,MAAAA,aAAa,CAAC7nD,SAAd,GAA0B,OAA1B;AACA6nD,MAAAA,aAAa,CAACllD,YAAd,CAA2B,YAA3B,EAAyC,OAAzC;AACAklD,MAAAA,aAAa,CAACllD,YAAd,CAA2B,OAA3B,EAAoCnD,IAAI,CAACwD,IAAL,CAAUC,SAAV,CAAoB7B,KAAxD;AACAymD,MAAAA,aAAa,CAAC9kD,SAAd,GAA0BvD,IAAI,CAACmR,KAAL,CAAWiP,MAArC;AAEA+nC,MAAAA,UAAU,CAACtnD,WAAX,CAAuBunD,WAAvB;AACAD,MAAAA,UAAU,CAACtnD,WAAX,CAAuBwnD,aAAvB;AAEApoD,MAAAA,OAAO,CAACioD,MAAR,CAAelnD,KAAf,GAAuBmnD,UAAvB;AACAloD,MAAAA,OAAO,CAACioD,MAAR,CAAenjD,OAAf,GAAyBqjD,WAAzB;AAEA;;AACAC,MAAAA,aAAa,CAACpnD,gBAAd,CAA+B,OAA/B,EAAwC,KAAKqnD,cAAL,CAAoB3pD,IAApB,CAAyBqB,IAAzB,CAAxC;AAEA;;AACAC,MAAAA,OAAO,CAACmB,OAAR,CAAgB0gD,UAAhB,CAA2BjhD,WAA3B,CAAuCsnD,UAAvC;AAEA;;AACAA,MAAAA,UAAU,GAAG,IAAb;AACH,KAnCuC;;AAqCxC;;;;AAIAG,IAAAA,cAAc,EAAE,UAAUhnD,CAAV,EAAa;AACzBA,MAAAA,CAAC,CAACoU,cAAF;AACApU,MAAAA,CAAC,CAACG,eAAF;AACA,WAAKE,OAAL,CAAaumD,MAAb,CAAoBtmD,KAApB,CAA0BtE,IAA1B,CAA+B,IAA/B;AACH,KA7CuC;;AA+CxC;;;;AAIAuE,IAAAA,IAAI,EAAE,UAAUgL,IAAV,EAAiB;AACnB,WAAK5M,OAAL,CAAaioD,MAAb,CAAoBnjD,OAApB,CAA4B0X,WAA5B,GAA0C5P,IAA1C;AACA,WAAK5M,OAAL,CAAaioD,MAAb,CAAoBlnD,KAApB,CAA0BN,KAA1B,CAAgCC,OAAhC,GAA0C,OAA1C;AACH,KAtDuC;;AAwDxC;;;AAGAiB,IAAAA,KAAK,EAAE,YAAY;AACf,WAAK3B,OAAL,CAAaioD,MAAb,CAAoBlnD,KAApB,CAA0BN,KAA1B,CAAgCC,OAAhC,GAA0C,MAA1C;AACH;AA7DuC,GAAf,CAt9FqC,CAshGlE;;AACA;;;;;;;;AAeA;;;;;;;;;;;;;AAYA;;AAA6B,MAAI4nD,QAAQ,GAAI,UAAUtoD,OAAV,EAAmB69C,iBAAnB,EAAsCn8C,OAAtC,EAA+C6B,IAA/C,EAAqDwhB,OAArD,EAA8D07B,kBAA9D,EAAkF;AAC3H,UAAMz+C,EAAE,GAAGhC,OAAO,CAACmB,OAAR,CAAgBygD,aAAhB,CAA8B2G,aAA9B,IAA+C/oD,QAA1D;;AACA,UAAM+E,EAAE,GAAGvC,EAAE,CAACwmD,WAAH,IAAkB7oD,MAA7B;;AACA,UAAMU,IAAI,GAAGi9C,QAAb;AACA,UAAMpsC,KAAK,GAAG6T,OAAO,CAAC7T,KAAtB;AAEA;;;;;AAIA,UAAMnR,IAAI,GAAG;AACTiC,MAAAA,EAAE,EAAEA,EADK;AAETuC,MAAAA,EAAE,EAAEA,EAFK;AAGTkkD,MAAAA,OAAO,EAAE,IAAIlkD,EAAE,CAACsmC,SAAP,EAHA;;AAKT;;;;AAIAjO,MAAAA,GAAG,EAAE,IATI;;AAWT;;;;AAIA8rB,MAAAA,GAAG,EAAE,IAfI;;AAiBT;;;;AAIAC,MAAAA,WAAW,EAAE,IArBJ;;AAuBT;;;AAGAtoD,MAAAA,IAAI,EAAEA,IA1BG;;AA4BT;;;AAGAiF,MAAAA,SAAS,EAAE,IA/BF;;AAiCT;;;AAGA2iD,MAAAA,MAAM,EAAED,OApCC;;AAsCT;;;AAGA92C,MAAAA,KAAK,EAAEA,KAzCE;;AA2CT;;;AAGAyL,MAAAA,OAAO,EAAE,IA9CA;;AAgDT;;;AAGA3c,MAAAA,OAAO,EAAEA,OAnDA;;AAqDT;;;AAGA69C,MAAAA,iBAAiB,EAAEA,iBAxDV;;AA0DT;;;AAGAn8C,MAAAA,OAAO,EAAEA,OAAO,IAAI,EA7DX;;AA+DT;;;AAGAknD,MAAAA,WAAW,EAAE,EAlEJ;;AAoET;;;;AAIAC,MAAAA,cAAc,EAAE,EAxEP;;AA0ET;;;;AAIAnJ,MAAAA,SAAS,EAAE,EA9EF;;AAgFT;;;AAGAn8C,MAAAA,IAAI,EAAEA,IAnFG;;AAqFT;;;AAGA6f,MAAAA,UAAU,EAAE,IAxFH;;AA0FT;;;AAGA0lC,MAAAA,OAAO,EAAE,IA7FA;;AA+FT;;;AAGA7lD,MAAAA,SAAS,EAAE,IAlGF;;AAoGT;;;;AAIA8lD,MAAAA,YAAY,EAAE,EAxGL;;AA0GT;;;;AAIAC,MAAAA,iBAAiB,EAAE,IA9GV;;AAgHT;;;;AAIAC,MAAAA,mBAAmB,EAAE,IApHZ;;AAsHT;;;AAGAC,MAAAA,mBAAmB,EAAE,IAzHZ;;AA2HT;;;AAGAC,MAAAA,qBAAqB,EAAE,IA9Hd;;AAgIT;;;AAGApjC,MAAAA,eAAe,EAAE,EAnIR;;AAqIT;;;AAGAxL,MAAAA,qBAAqB,EAAE,EAxId;;AA0IT;;;AAGA6uC,MAAAA,uBAAuB,EAAE,IA7IhB;;AA+IT;;;AAGAC,MAAAA,wBAAwB,EAAE,IAlJjB;;AAoJT;;;AAGAC,MAAAA,uBAAuB,EAAE,IAvJhB;;AAyJT;;;AAGA7uC,MAAAA,uBAAuB,EAAE,IA5JhB;;AA8JT;;;;AAIA8uC,MAAAA,sBAAsB,EAAE,IAlKf;;AAoKT;;;;;AAKAC,MAAAA,yBAAyB,EAAE,IAzKlB;;AA2KT;;;;AAIAC,MAAAA,yBAAyB,EAAE,IA/KlB;;AAiLT;;;;AAIAC,MAAAA,yBAAyB,EAAE,IArLlB;;AAuLT;;;;AAIAC,MAAAA,wBAAwB,EAAE,IA3LjB;;AA6LT;;;AAGAC,MAAAA,QAAQ,EAAE,KAhMD;;AAkMT;;;AAGAC,MAAAA,UAAU,EAAE,KArMH;;AAuMT;;;;AAIAC,MAAAA,0BAA0B,EAAE,IA3MnB;;AA6MT;;;;AAIAC,MAAAA,wBAAwB,EAAE,IAjNjB;;AAmNT;;;;AAIAC,MAAAA,mBAAmB,EAAE,IAvNZ;;AAyNT;;;;AAIAC,MAAAA,SAAS,EAAE,IA7NF;;AA+NT;;;;AAIAC,MAAAA,UAAU,EAAE,IAnOH;;AAqOT;;;;AAIAC,MAAAA,gBAAgB,EAAE,IAzOT;;AA2OT;;;;AAIAC,MAAAA,kBAAkB,EAAE;AAAC/wC,QAAAA,GAAG,EAAE,EAAN;AAAUvQ,QAAAA,KAAK,EAAE,EAAjB;AAAqBuhD,QAAAA,MAAM,EAAE;AAA7B,OA/OX;;AAiPT;;;;AAIAC,MAAAA,eAAe,EAAE,KArPR;;AAuPT;;;;AAIAC,MAAAA,OAAO,EAAE,KA3PA;;AA6PT;;;;AAIAztB,MAAAA,SAAS,EAAE,KAjQF;;AAmQT;;;;AAIAqjB,MAAAA,YAAY,EAAE,IAvQL;AAwQTqK,MAAAA,kBAAkB,EAAE,IAxQX;;AA0QT;;;;AAIAtiD,MAAAA,mBAAmB,EAAE,IA9QZ;AA+QT1B,MAAAA,oBAAoB,EAAE,KA/Qb;;AAiRT;;;;AAIAikD,MAAAA,aAAa,EAAE,IArRN;;AAuRT;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BAC,MAAAA,eAAe,EAAE,IAnTR;;AAqTT;;;;AAIAC,MAAAA,aAAa,EAAE,KAzTN;;AA2TT;;;;;;;AAOAC,MAAAA,qBAAqB,EAAE,IAlUd;;AAoUT;;;;;;AAMAC,MAAAA,qBAAqB,EAAE,IA1Ud;;AA4UT;;;;AAIAC,MAAAA,YAAY,EAAE;AACVhlD,QAAAA,IAAI,EAAE,IADI;AAEVstC,QAAAA,MAAM,EAAE,IAFE;AAGV2X,QAAAA,WAAW,EAAE,IAHH;AAIVC,QAAAA,YAAY,EAAE,IAJJ;AAKVC,QAAAA,SAAS,EAAE;AALD,OAhVL;;AAwVT;;;;;;;;;;;;AAYAC,MAAAA,UAAU,EAAE,IApWH;;AAsWT;;;;;;;AAOAC,MAAAA,gBAAgB,EAAE,IA7WT;;AA+WT;;;;AAIAC,MAAAA,eAAe,EAAE;AACbzhD,QAAAA,IAAI,EAAE,QADO;AAEbC,QAAAA,SAAS,EAAE,GAFE;AAGbC,QAAAA,MAAM,EAAE,IAHK;AAIbC,QAAAA,MAAM,EAAE,KAJK;AAKbC,QAAAA,SAAS,EAAE,KALE;AAMbC,QAAAA,WAAW,EAAE;AANA,OAnXR;;AA4XT;;;;;;;;;;;;AAYAu9C,MAAAA,SAAS,EAAE;AACP8D,QAAAA,UAAU,EAAE,KADL;AAEPC,QAAAA,YAAY,EAAE,KAFP;AAGPC,QAAAA,sBAAsB,EAAE,CAHjB;AAIPC,QAAAA,aAAa,EAAE,CAJR;AAKPC,QAAAA,OAAO,EAAE,CALF;AAMPC,QAAAA,UAAU,EAAE,CANL;AAOPC,QAAAA,eAAe,EAAEtrD,IAAI,CAACoW,SAAL,CAAgBzW,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCi8C,SAAnC,IAAgD,IAAhE,EAAuE,CAAvE,CAPV;AAQPkP,QAAAA,YAAY,EAAE,EARP;AASPC,QAAAA,eAAe,EAAE,EATV;AAUPrE,QAAAA,MAAM,EAAE,IAVD;AAWPsE,QAAAA,cAAc,EAAE,IAXT;AAYPC,QAAAA,cAAc,EAAE/rD,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwBxhD,KAAxB,CAA8B+9B,OAZvC;AAaPwtB,QAAAA,aAAa,EAAE,EAbR;AAcPC,QAAAA,wBAAwB,EAAE,EAdnB;AAePC,QAAAA,qBAAqB,EAAE,EAfhB;AAgBPC,QAAAA,kBAAkB,EAAE,EAhBb;AAiBPC,QAAAA,gBAAgB,EAAE;AAACC,UAAAA,MAAM,EAAE,KAAT;AAAgBC,UAAAA,OAAO,EAAE,KAAzB;AAAgCC,UAAAA,MAAM,EAAE;AAAxC,SAjBX;AAkBPC,QAAAA,cAAc,EAAE,IAlBT;AAmBPC,QAAAA,aAAa,EAAE;AAnBR,OAxYF;;AA8ZT;;;;;;;AAOA9lC,MAAAA,UAAU,EAAE,UAAUlhB,UAAV,EAAsBinD,gBAAtB,EAAwCC,OAAxC,EAAiD;AACzDA,QAAAA,OAAO,GAAGA,OAAO,IAAI9O,iBAAiB,CAACp4C,UAAD,CAAtC;;AAEA,YAAI,CAAC,KAAK/D,OAAL,CAAa+D,UAAb,CAAL,EAA+B;AAC3B,gBAAM/F,KAAK,CAAC,gHAAgH+F,UAAhH,GAA6H,IAA9H,CAAX;AACH,SAFD,MAEO,IAAI,CAAC,KAAKmjD,WAAL,CAAiBnjD,UAAjB,CAAL,EAAmC;AACtC,eAAK/D,OAAL,CAAa+D,UAAb,EAAyB3F,GAAzB,CAA6B,IAA7B,EAAmC6sD,OAAnC;AACA,eAAK/D,WAAL,CAAiBnjD,UAAjB,IAA+B,IAA/B;AACH,SAHM,MAGA,IAAI,OAAO,KAAKojD,cAAL,CAAoBpjD,UAApB,CAAP,KAA2C,QAA3C,IAAuD,CAAC,CAACknD,OAA7D,EAAsE;AACzE,eAAK/pC,cAAL,CAAoBnd,UAApB,EAAgCknD,OAAhC,EAAyC,KAAK9D,cAAL,CAAoBpjD,UAApB,CAAzC;AACH;;AAED,YAAI,KAAK/D,OAAL,CAAa+D,UAAb,EAAyBod,MAAzB,IAAmC,CAAC,KAAKqoC,UAAL,CAAgBzlD,UAAhB,CAApC,IAAmE,CAAC,CAACknD,OAAzE,EAAkF;AAC9E,eAAKzB,UAAL,CAAgBzlD,UAAhB,IAA8BknD,OAA9B;AACA,eAAKlC,aAAL,CAAmBljD,IAAnB,CAAwB9B,UAAxB;AACH;;AAED,YAAI,OAAOinD,gBAAP,KAA4B,UAAhC,EAA4CA,gBAAgB;AAC/D,OAvbQ;;AAybT;;;;AAIAlpC,MAAAA,SAAS,EAAE,UAAUopC,WAAV,EAAuB;AAC9B,aAAK,IAAIzvD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6mD,WAAW,CAACnoD,MAA7B,EAAqCooD,UAA1C,EAAsD1vD,CAAC,GAAG4I,GAA1D,EAA+D5I,CAAC,EAAhE,EAAoE;AAChE0vD,UAAAA,UAAU,GAAGD,WAAW,CAACzvD,CAAD,CAAX,CAAeM,IAA5B;;AACA,cAAI,CAAC,KAAKiE,OAAL,CAAamrD,UAAb,CAAL,EAA+B;AAC3B,iBAAKnrD,OAAL,CAAamrD,UAAb,IAA2BD,WAAW,CAACzvD,CAAD,CAAtC;AACH;;AACD,cAAI,CAAC,KAAKyrD,WAAL,CAAiBiE,UAAjB,CAAL,EAAmC;AAC/B,iBAAKjE,WAAL,CAAiBiE,UAAjB,IAA+B,IAA/B;AACA,gBAAI,OAAO,KAAKnrD,OAAL,CAAamrD,UAAb,EAAyB/sD,GAAhC,KAAwC,UAA5C,EAAwD,KAAK4B,OAAL,CAAamrD,UAAb,EAAyB/sD,GAAzB,CAA6B,IAA7B;AAC3D;AACJ;AACJ,OAxcQ;;AA0cT;;;;;;;AAOA8iB,MAAAA,cAAc,EAAE,UAAUnd,UAAV,EAAsBlE,MAAtB,EAA8BqO,IAA9B,EAAoC;AAChD,YAAI,CAACrO,MAAL,EAAa;AACT,eAAKsnD,cAAL,CAAoBpjD,UAApB,IAAkCmK,IAAlC;AACH,SAFD,MAEO;AACH5P,UAAAA,OAAO,CAACmB,OAAR,CAAgBu+C,SAAhB,CAA0B9+C,WAA1B,CAAsCgP,IAAtC;;AACA,eAAKi5C,cAAL,CAAoBpjD,UAApB,IAAkC,IAAlC;AACA,eAAKi6C,SAAL,CAAen+C,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAf,IAAsDmO,IAAtD;AACH;AACJ,OAzdQ;;AA2dT;;;;AAIAk9C,MAAAA,SAAS,EAAE,UAAU3rD,OAAV,EAAmB;AAC1B,YAAI,KAAK6nD,iBAAT,EAA4B,KAAKA,iBAAL;AAC5B,YAAI,KAAKgB,mBAAT,EAA8B,KAAKvtC,cAAL;AAE9B,cAAMswC,WAAW,GAAG,KAAKhE,YAAL,GAAoB5nD,OAAO,CAACM,YAAR,CAAqB,cAArB,CAAxC;AACA,cAAMmO,IAAI,GAAG,KAAKk5C,OAAL,GAAe,KAAKpJ,SAAL,CAAeqN,WAAf,CAA5B;AACA,aAAK7D,mBAAL,GAA2B/nD,OAA3B;;AACA,aAAK6rD,gBAAL,CAAsB7rD,OAAtB,EAA+ByO,IAA/B;;AAEA,aAAKo5C,iBAAL,GAAyB,KAAK3lC,UAAL,CAAgB3kB,IAAhB,CAAqB,IAArB,CAAzB;AACA,aAAKsc,WAAL,CAAiB,WAAjB,EAA8B,KAAKguC,iBAAnC,EAAsD,KAAtD;AAEA,YAAI,KAAKtnD,OAAL,CAAaqrD,WAAb,EAA0BxqD,EAA9B,EAAkC,KAAKb,OAAL,CAAaqrD,WAAb,EAA0BxqD,EAA1B,CAA6BlF,IAA7B,CAAkC,IAAlC;AAClC,aAAKy/B,SAAL,GAAiB,IAAjB;AACH,OA7eQ;;AA+eT;;;AAGAzZ,MAAAA,UAAU,EAAE,YAAY;AACpB,aAAKtI,cAAL,CAAoB,WAApB,EAAiC,KAAKiuC,iBAAtC;AACA,aAAKA,iBAAL,GAAyB,IAAzB;;AAEA,YAAI,KAAKF,OAAT,EAAkB;AACd,eAAKC,YAAL,GAAoB,EAApB;AACA,eAAKD,OAAL,CAAaroD,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACA,eAAKooD,OAAL,GAAe,IAAf;AACAzoD,UAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAKs3C,mBAAtB,EAA2C,IAA3C;AACA,eAAKA,mBAAL,GAA2B,IAA3B;AACA,eAAKoB,eAAL,GAAuB,KAAvB;AACH;;AAED,aAAKxtB,SAAL,GAAiB,KAAjB;AACH,OAhgBQ;;AAkgBT;;;;AAIAmwB,MAAAA,WAAW,EAAE,UAAU9rD,OAAV,EAAmB;AAC5B,YAAI,KAAK8nD,mBAAT,EAA8B,KAAKA,mBAAL;AAE9B,cAAMiE,aAAa,GAAG,KAAKC,cAAL,GAAsBhsD,OAAO,CAACM,YAAR,CAAqB,cAArB,CAA5C;AACA,cAAMmO,IAAI,GAAG,KAAK3M,SAAL,GAAiB,KAAKy8C,SAAL,CAAewN,aAAf,CAA9B;AACA,aAAK/D,qBAAL,GAA6BhoD,OAA7B;;AACA,aAAK6rD,gBAAL,CAAsB7rD,OAAtB,EAA+ByO,IAA/B;;AAEA,aAAKq5C,mBAAL,GAA2B,KAAKmE,YAAL,CAAkB1uD,IAAlB,CAAuB,IAAvB,CAA3B;AACA,aAAKsc,WAAL,CAAiB,WAAjB,EAA8B,KAAKiuC,mBAAnC,EAAwD,KAAxD;AAEA,YAAI,KAAKvnD,OAAL,CAAawrD,aAAb,EAA4B3qD,EAAhC,EAAoC,KAAKb,OAAL,CAAawrD,aAAb,EAA4B3qD,EAA5B,CAA+BlF,IAA/B,CAAoC,IAApC;AACpC,aAAKy/B,SAAL,GAAiB,IAAjB;AACH,OAnhBQ;;AAqhBT;;;AAGAswB,MAAAA,YAAY,EAAE,YAAY;AACtB,aAAKryC,cAAL,CAAoB,WAApB,EAAiC,KAAKkuC,mBAAtC;AACA,aAAKA,mBAAL,GAA2B,IAA3B;;AAEA,YAAI,KAAKhmD,SAAT,EAAoB;AAChB,eAAKkqD,cAAL,GAAsB,EAAtB;AACA,eAAKlqD,SAAL,CAAexC,KAAf,CAAqBC,OAArB,GAA+B,MAA/B;AACA,eAAKuC,SAAL,GAAiB,IAAjB;AACA5C,UAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAKu3C,qBAAtB,EAA6C,IAA7C;AACA,eAAKA,qBAAL,GAA6B,IAA7B;AACA,eAAKmB,eAAL,GAAuB,KAAvB;AACH;;AAED,aAAKxtB,SAAL,GAAiB,KAAjB;AACH,OAtiBQ;;AAwiBT;;;;;;AAMAkwB,MAAAA,gBAAgB,EAAE,UAAU7rD,OAAV,EAAmByO,IAAnB,EAAyB;AACvCA,QAAAA,IAAI,CAACnP,KAAL,CAAW4Y,GAAX,GAAiB,UAAjB;AACAzJ,QAAAA,IAAI,CAACnP,KAAL,CAAW62B,UAAX,GAAwB,QAAxB;AACA1nB,QAAAA,IAAI,CAACnP,KAAL,CAAWC,OAAX,GAAqB,OAArB;AACAkP,QAAAA,IAAI,CAACnP,KAAL,CAAWsN,MAAX,GAAoB,EAApB;AACA1N,QAAAA,IAAI,CAACsR,QAAL,CAAcxQ,OAAd,EAAuB,IAAvB;AAEA,cAAMkI,OAAO,GAAG,KAAKrJ,OAAL,CAAamB,OAAb,CAAqBkI,OAArC;AACA,cAAMgkD,QAAQ,GAAGhkD,OAAO,CAAC+P,WAAzB;AACA,cAAMk0C,KAAK,GAAG19C,IAAI,CAACwJ,WAAnB;AACA,cAAMhc,CAAC,GAAG+D,OAAO,CAACkG,aAAR,CAAsB8e,UAAtB,GAAmC,CAA7C;AACA,cAAMxL,QAAQ,GAAG0yC,QAAQ,IAAIC,KAAZ,GAAoB,CAApB,GAAwBD,QAAQ,IAAIjwD,CAAC,GAAGkwD,KAAR,CAAjD;AACA,YAAI3yC,QAAQ,GAAG,CAAf,EAAkB/K,IAAI,CAACnP,KAAL,CAAWmN,IAAX,GAAmBxQ,CAAC,GAAGud,QAAL,GAAiB,IAAnC,CAAlB,KACK/K,IAAI,CAACnP,KAAL,CAAWmN,IAAX,GAAkBxQ,CAAC,GAAG,IAAtB,CAbkC,CAevC;;AACA,YAAIgB,CAAC,GAAG,CAAR;AACA,YAAImvD,QAAQ,GAAGpsD,OAAf;;AACA,eAAOosD,QAAQ,IAAIA,QAAQ,KAAKlkD,OAAhC,EAAyC;AACrCjL,UAAAA,CAAC,IAAImvD,QAAQ,CAACtV,SAAd;AACAsV,UAAAA,QAAQ,GAAGA,QAAQ,CAACpV,YAApB;AACH;;AAED,cAAMqV,EAAE,GAAGpvD,CAAX;;AACA,YAAI,KAAK8rD,UAAT,EAAqB;AACjB9rD,UAAAA,CAAC,IAAIiL,OAAO,CAAC4uC,SAAR,GAAoB92C,OAAO,CAACgY,YAAjC;AACH,SAFD,MAEO;AACH/a,UAAAA,CAAC,IAAI+C,OAAO,CAACgY,YAAb;AACH,SA5BsC,CA8BvC;;;AACA,cAAMs0C,UAAU,GAAGC,KAAK,CAACC,iBAAN,CAAwB3tD,OAAO,CAACmB,OAAR,CAAgBkI,OAAxC,EAAiDgQ,GAApE;;AACA,YAAIu0C,UAAU,GAAGh+C,IAAI,CAACuJ,YAAtB;AACA,YAAIsX,EAAE,GAAGzwB,OAAO,CAACmB,OAAR,CAAgB8gD,OAAzB;AACA,YAAI7J,SAAS,GAAG,CAAhB;;AACA,eAAO,CAAC,CAAC3nB,EAAT,EAAa;AACT2nB,UAAAA,SAAS,IAAI3nB,EAAE,CAAC2nB,SAAhB;AACA3nB,UAAAA,EAAE,GAAGA,EAAE,CAACppB,aAAR;AACH;;AAED,cAAMwmD,iBAAiB,GAAGtpD,EAAE,CAAC2c,WAAH,IAAkBusC,UAAU,GAAGrV,SAAb,GAAyBoV,EAAzB,GAA8BrsD,OAAO,CAACkG,aAAR,CAAsB8R,YAAtE,CAA1B;;AACA,YAAI00C,iBAAiB,GAAGD,UAAxB,EAAoC;AAChC,cAAIE,OAAO,GAAG,CAAC,CAAD,IAAMF,UAAU,GAAGJ,EAAb,GAAkB,CAAxB,CAAd;AACA,gBAAMO,MAAM,GAAGN,UAAU,GAAGrV,SAAb,GAAyB0V,OAAxC;AACA,gBAAME,cAAc,GAAGJ,UAAU,IAAIG,MAAM,GAAG,CAAT,GAAaA,MAAb,GAAsB,CAA1B,CAAjC;;AAEA,cAAIC,cAAc,GAAGH,iBAArB,EAAwC;AACpCj+C,YAAAA,IAAI,CAACnP,KAAL,CAAWsN,MAAX,GAAoBigD,cAAc,GAAG,IAArC;AACAF,YAAAA,OAAO,GAAG,CAAC,CAAD,IAAME,cAAc,GAAGR,EAAjB,GAAsB,CAA5B,CAAV;AACH,WAHD,MAGO;AACH59C,YAAAA,IAAI,CAACnP,KAAL,CAAWsN,MAAX,GAAoB8/C,iBAAiB,GAAG,IAAxC;AACAC,YAAAA,OAAO,GAAGN,EAAE,GAAGrsD,OAAO,CAACkG,aAAR,CAAsB8R,YAArC;AACH;;AAEDvJ,UAAAA,IAAI,CAACnP,KAAL,CAAW4Y,GAAX,GAAiBy0C,OAAO,GAAG,IAA3B;AACH,SAdD,MAcO;AACHl+C,UAAAA,IAAI,CAACnP,KAAL,CAAW4Y,GAAX,GAAkBm0C,EAAE,GAAGrsD,OAAO,CAACkG,aAAR,CAAsB8R,YAA5B,GAA4C,IAA7D;AACH;;AAEDvJ,QAAAA,IAAI,CAACnP,KAAL,CAAW62B,UAAX,GAAwB,EAAxB;AACH,OA1mBQ;;AA4mBT;;;;AAIA5c,MAAAA,aAAa,EAAE,YAAY;AACvB,YAAI,KAAKsvC,mBAAT,EAA8B,KAAKA,mBAAL;AAC9B,aAAKjkC,eAAL,GAAuB,EAAvB;;AAEA,aAAK,IAAI5oB,CAAC,GAAG,CAAR,EAAW8wD,GAAhB,EAAqB9wD,CAAC,GAAG+wD,SAAS,CAACzpD,MAAnC,EAA2CtH,CAAC,EAA5C,EAAgD;AAC5C8wD,UAAAA,GAAG,GAAGC,SAAS,CAAC/wD,CAAD,CAAf;AACA,cAAI,CAAC8wD,GAAL,EAAU;;AAEV,cAAI,OAAOA,GAAP,KAAe,QAAnB,EAA6B;AACzB,iBAAK1zC,qBAAL,GAA6B0zC,GAA7B;AACA;AACH;;AACD,cAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AAC3B,iBAAKloC,eAAL,CAAqBxe,IAArB,CAA0B0mD,GAA1B;AACA;AACH;;AACD,cAAI,CAAC5tD,IAAI,CAACmgB,QAAL,CAAcytC,GAAd,EAAmB,eAAnB,CAAL,EAA0C;AACtC,iBAAK7E,uBAAL,GAA+B6E,GAA/B;AACA,iBAAK5E,wBAAL,GAAgC,KAAK8E,gBAAL,CAAsBF,GAAtB,CAAhC;AACA;AACH;;AACD,cAAIA,GAAG,CAACxtD,KAAR,EAAewtD,GAAG,CAACxtD,KAAJ,CAAUC,OAAV,GAAoB,OAApB;AACf,eAAKqlB,eAAL,CAAqBxe,IAArB,CAA0B0mD,GAA1B;AACH;;AAED,aAAKjE,mBAAL,GAA2B,KAAKvtC,cAAL,CAAoB/d,IAApB,CAAyB,IAAzB,CAA3B;AACA,aAAKsc,WAAL,CAAiB,WAAjB,EAA8B,KAAKgvC,mBAAnC,EAAwD,KAAxD;AACA,aAAKhvC,WAAL,CAAiB,SAAjB,EAA4B,KAAKgvC,mBAAjC,EAAsD,KAAtD;AACA,aAAKltB,SAAL,GAAiB,IAAjB;AAEA,YAAI,OAAOx3B,SAAS,CAAC8oD,cAAjB,KAAoC,UAAxC,EAAoD9oD,SAAS,CAAC8oD,cAAV,CAAyB,KAAK7zC,qBAA9B,EAAqD,KAAKwL,eAA1D,EAA2E,IAA3E;AACvD,OA/oBQ;;AAipBT;;;;AAIAtJ,MAAAA,cAAc,EAAE,UAAUpb,CAAV,EAAa;AACzB,YAAI,KAAKypD,YAAL,CAAkBE,YAAlB,CAA+B1pD,IAA/B,CAAoC,KAAKiZ,qBAAzC,KAAmElZ,CAAnE,IAAwEA,CAAC,CAAC6c,IAAF,KAAW,SAAnF,IAAgG7c,CAAC,CAACa,OAAF,KAAc,EAAlH,EAAsH;AACtHlC,QAAAA,OAAO,CAACmB,OAAR,CAAgBqlD,aAAhB,CAA8B/lD,KAA9B,CAAoCC,OAApC,GAA8CV,OAAO,CAACmB,OAAR,CAAgBslD,aAAhB,CAA8BhmD,KAA9B,CAAoCC,OAApC,GAA8C,MAA5F;AACA,aAAK6mD,SAAL,CAAeiF,cAAf,GAAgC,IAAhC;AAEA,aAAKjyC,qBAAL,GAA6B,EAA7B;AACA,aAAK6uC,uBAAL,GAA+B,IAA/B;AACA,aAAKC,wBAAL,GAAgC,IAAhC;AACA,aAAKjmC,UAAL,GAAkB,IAAlB;AACA,YAAI,CAAC,KAAK4mC,mBAAV,EAA+B;AAE/B,aAAKjvC,cAAL,CAAoB,WAApB,EAAiC,KAAKivC,mBAAtC;AACA,aAAKjvC,cAAL,CAAoB,SAApB,EAA+B,KAAKivC,mBAApC;AACA,aAAKA,mBAAL,GAA2B,IAA3B;AAEA,cAAMjkD,GAAG,GAAG,KAAKggB,eAAL,CAAqBthB,MAAjC;;AACA,YAAIsB,GAAG,GAAG,CAAV,EAAa;AACT,eAAK,IAAI5I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4I,GAApB,EAAyB5I,CAAC,EAA1B,EAA8B;AAC1B,gBAAI,OAAO,KAAK4oB,eAAL,CAAqB5oB,CAArB,CAAP,KAAmC,UAAvC,EAAmD,KAAK4oB,eAAL,CAAqB5oB,CAArB,IAAnD,KACK,KAAK4oB,eAAL,CAAqB5oB,CAArB,EAAwBsD,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACR;;AAED,eAAKqlB,eAAL,GAAuB,EAAvB;AACH;;AAED,aAAK+W,SAAL,GAAiB,KAAjB;AACH,OA/qBQ;;AAirBT;;;;AAIApnB,MAAAA,SAAS,EAAE,UAAUrU,CAAV,EAAa;AACpBA,QAAAA,CAAC,CAACG,eAAF;AACAH,QAAAA,CAAC,CAACoU,cAAF;AACH,OAxrBQ;;AA0rBT;;;;;;AAMA44C,MAAAA,WAAW,EAAE,UAAUpzC,OAAV,EAAmBqzC,aAAnB,EAAkCnwD,KAAlC,EAAyC;AAClD,aAAKy+B,GAAL,CAASyxB,WAAT,CAAqBpzC,OAArB,EAA8BqzC,aAA9B,EAA8CrzC,OAAO,KAAK,aAAZ,GAA4B,MAAM9c,KAAN,GAAc,GAA1C,GAAgDA,KAA9F,EADkD,CAElD;;;AACA,aAAKwe,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AACH,OApsBQ;;AAssBT;;;AAGAgnD,MAAAA,WAAW,EAAE,YAAY;AACrB,cAAMlrD,OAAO,GAAGhD,IAAI,CAAC8G,gBAAL,CAAsB,KAAK8f,gBAAL,EAAtB,EAA+C,YAA/C,CAAhB;;AACA,YAAI5jB,OAAJ,EAAa;AACTA,UAAAA,OAAO,CAACb,KAAR;AACH,SAFD,MAEO;AACHxC,UAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB1D,KAAxB;AACH;;AAED,aAAKgsD,YAAL;AACH,OAltBQ;;AAotBT;;;AAGAhsD,MAAAA,KAAK,EAAE,YAAY;AACf,YAAIxC,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCC,OAAnC,KAA+C,MAAnD,EAA2D;;AAE3D,YAAIqkB,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,eAAKya,WAAL;AACH,SAFD,MAEO;AACH,cAAI;AACA,kBAAM1kC,KAAK,GAAG,KAAKC,QAAL,EAAd;;AAEA,gBAAID,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAA/B,IAA+CpqB,IAAI,CAAC+R,YAAL,CAAkByX,KAAK,CAACU,cAAxB,CAAnD,EAA4F;AACxF,oBAAMlB,MAAM,GAAGhpB,IAAI,CAACC,aAAL,CAAmB,GAAnB,CAAf;AACA,oBAAMmuD,EAAE,GAAGpuD,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAX;AACA+oB,cAAAA,MAAM,CAACzoB,WAAP,CAAmB6tD,EAAnB;AACAzuD,cAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBtF,WAAxB,CAAoCyoB,MAApC;AACA,mBAAK9M,QAAL,CAAckyC,EAAd,EAAkB,CAAlB,EAAqBA,EAArB,EAAyB,CAAzB;AACH,aAND,MAMO;AACH,mBAAKlyC,QAAL,CAAcsN,KAAK,CAACU,cAApB,EAAoCV,KAAK,CAACI,WAA1C,EAAuDJ,KAAK,CAACY,YAA7D,EAA2EZ,KAAK,CAACK,SAAjF;AACH;AACJ,WAZD,CAYE,OAAO7oB,CAAP,EAAU;AACR,iBAAKktD,WAAL;AACH;AACJ;;AAEDb,QAAAA,KAAK,CAACgB,gBAAN;;AACA,YAAI,KAAKxE,UAAT,EAAqBwD,KAAK,CAACiB,qBAAN;AACxB,OAhvBQ;;AAkvBT;;;;;AAKAzzB,MAAAA,SAAS,EAAE,UAAU8G,OAAV,EAAmB;AAC1B,YAAI,CAACA,OAAL,EAAcA,OAAO,GAAGhiC,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBirB,gBAAlC;AAEd,cAAMy9B,iBAAiB,GAAG,KAAKT,gBAAL,CAAsBnsB,OAAtB,CAA1B;;AACA,YAAI4sB,iBAAJ,EAAuB;AACnB,eAAKrzC,eAAL,CAAqBqzC,iBAAiB,CAACrtD,MAAvC,EAA+CqtD,iBAAiB,CAACnpD,UAAjE;AACH,SAFD,MAEO,IAAIu8B,OAAJ,EAAa;AAChBA,UAAAA,OAAO,GAAG3hC,IAAI,CAACga,eAAL,CAAqB2nB,OAArB,EAA8B,UAAU1lB,OAAV,EAAmB;AAAE,mBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,WAAtH,EAAwH,IAAxH,CAAV;AACA,cAAI,CAAC2vB,OAAL,EAAc,KAAKusB,WAAL,GAAd,KACK,KAAKhyC,QAAL,CAAcylB,OAAd,EAAuBA,OAAO,CAACxlB,WAAR,CAAoB/X,MAA3C,EAAmDu9B,OAAnD,EAA4DA,OAAO,CAACxlB,WAAR,CAAoB/X,MAAhF;AACR,SAJM,MAIA;AACH,eAAKjC,KAAL;AACH;AACJ,OApwBQ;;AAswBT;;;;;;;;AAQA+Z,MAAAA,QAAQ,EAAE,UAAUsyC,QAAV,EAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,MAAtC,EAA8C;AACpD,YAAI,CAACH,QAAD,IAAa,CAACE,MAAlB,EAA0B;AAC1B,YAAID,QAAQ,GAAGD,QAAQ,CAACryC,WAAT,CAAqB/X,MAApC,EAA4CqqD,QAAQ,GAAGD,QAAQ,CAACryC,WAAT,CAAqB/X,MAAhC;AAC5C,YAAIuqD,MAAM,GAAGD,MAAM,CAACvyC,WAAP,CAAmB/X,MAAhC,EAAwCuqD,MAAM,GAAGD,MAAM,CAACvyC,WAAP,CAAmB/X,MAA5B;;AAExC,cAAMolB,KAAK,GAAG,KAAK+S,GAAL,CAASpY,WAAT,EAAd;;AAEA,YAAI;AACAqF,UAAAA,KAAK,CAAColC,QAAN,CAAeJ,QAAf,EAAyBC,QAAzB;AACAjlC,UAAAA,KAAK,CAACqlC,MAAN,CAAaH,MAAb,EAAqBC,MAArB;AACH,SAHD,CAGE,OAAOtsB,KAAP,EAAc;AACZysB,UAAAA,OAAO,CAACC,IAAR,CAAa,kCAAkC1sB,KAA/C;AACA,eAAK6rB,WAAL;AACA;AACH;;AAED,cAAMc,SAAS,GAAG,KAAKx4B,YAAL,EAAlB;;AAEA,YAAIw4B,SAAS,CAACC,eAAd,EAA+B;AAC3BD,UAAAA,SAAS,CAACC,eAAV;AACH;;AAEDD,QAAAA,SAAS,CAACE,QAAV,CAAmB1lC,KAAnB;;AACA,aAAK2kC,YAAL;;AACA,YAAIzpC,OAAO,CAAC+uB,MAAZ,EAAoB,KAAKya,WAAL;AAEpB,eAAO1kC,KAAP;AACH,OAzyBQ;;AA2yBT;;;AAGA2lC,MAAAA,WAAW,EAAE,YAAY;AACrB,aAAKjI,SAAL,CAAeC,MAAf,GAAwB,IAAxB;AACA,aAAKD,SAAL,CAAeuE,cAAf,GAAgC,IAAhC;AACA,aAAKj1B,YAAL,GAAoBy4B,eAApB;AAEA,cAAMpE,UAAU,GAAG,KAAKA,UAAxB;AACA,cAAMT,aAAa,GAAG,KAAKA,aAA3B;;AACA,aAAK,IAAIhsD,GAAT,IAAgBysD,UAAhB,EAA4B;AACxB,cAAI,CAAC7qD,IAAI,CAAC8oC,MAAL,CAAY+hB,UAAZ,EAAwBzsD,GAAxB,CAAL,EAAmC;;AACnC,cAAIgsD,aAAa,CAAChjD,OAAd,CAAsBhJ,GAAtB,IAA6B,CAAC,CAAlC,EAAqC;AACjCiD,YAAAA,OAAO,CAACjD,GAAD,CAAP,CAAaokB,MAAb,CAAoBxlB,IAApB,CAAyB,IAAzB,EAA+B,IAA/B;AACH,WAFD,MAEO,IAAI6tD,UAAU,CAACuE,OAAX,IAAsB,aAAanuD,IAAb,CAAkB7C,GAAlB,CAA1B,EAAkD;AACrDysD,YAAAA,UAAU,CAACuE,OAAX,CAAmBvsD,YAAnB,CAAgC,UAAhC,EAA4C,IAA5C;AACH,WAFM,MAEA,IAAIgoD,UAAU,CAACwE,MAAX,IAAqB,YAAYpuD,IAAZ,CAAiB7C,GAAjB,CAAzB,EAAgD;AACnDysD,YAAAA,UAAU,CAACwE,MAAX,CAAkBhoD,eAAlB,CAAkC,UAAlC;AACH,WAFM,MAEA;AACHrH,YAAAA,IAAI,CAACuR,WAAL,CAAiBs5C,UAAU,CAACzsD,GAAD,CAA3B,EAAkC,QAAlC;AACH;AACJ;AACJ,OAj0BQ;;AAm0BT;;;;AAIAqrB,MAAAA,QAAQ,EAAE,YAAY;AAClB,cAAMD,KAAK,GAAG,KAAK09B,SAAL,CAAeC,MAAf,IAAyB,KAAKmI,mBAAL,EAAvC;;AACA,cAAMN,SAAS,GAAG,KAAKx4B,YAAL,EAAlB;AACA,YAAIhN,KAAK,CAAC+lC,SAAN,KAAoBP,SAAS,CAACv4B,WAA9B,IAA6C,CAAC92B,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB+nB,QAAxB,CAAiCohC,SAAS,CAACQ,SAA3C,CAAlD,EAAyG,OAAOhmC,KAAP;;AAEzG,YAAIwlC,SAAS,CAACS,UAAV,GAAuB,CAA3B,EAA8B;AAC1B,eAAKvI,SAAL,CAAeC,MAAf,GAAwB6H,SAAS,CAACU,UAAV,CAAqB,CAArB,CAAxB;AACA,iBAAO,KAAKxI,SAAL,CAAeC,MAAtB;AACH,SAHD,MAGO;AACH,gBAAM58B,EAAE,GAAGykC,SAAS,CAACW,UAArB;AAAA,gBAAiCnlC,EAAE,GAAGwkC,SAAS,CAACQ,SAAhD;AAAA,gBAA2DliC,EAAE,GAAG0hC,SAAS,CAACY,YAA1E;AAAA,gBAAwFriC,EAAE,GAAGyhC,SAAS,CAACa,WAAvG;AACA,gBAAMC,YAAY,GAAG9vD,IAAI,CAACi3C,eAAL,CAAqB1sB,EAArB,EAAyBC,EAAzB,CAArB;AACA,gBAAMulC,QAAQ,GAAGD,YAAY,CAAC1Y,QAAb,KAA0B0Y,YAAY,CAACnvC,MAAb,KAAwB,CAAxB,GAA4B2M,EAAE,IAAIC,EAAlC,GAAuCuiC,YAAY,CAACnvC,MAAb,GAAsB,CAAtB,GAA0B,IAA1B,GAAiC,KAAlG,CAAjB;AACA,iBAAO,KAAKzE,QAAL,CACH6zC,QAAQ,GAAGxlC,EAAH,GAAQC,EADb,EAEHulC,QAAQ,GAAGziC,EAAH,GAAQC,EAFb,EAGHwiC,QAAQ,GAAGvlC,EAAH,GAAQD,EAHb,EAIHwlC,QAAQ,GAAGxiC,EAAH,GAAQD,EAJb,CAAP;AAMH;AACJ,OA11BQ;;AA41BT;;;;;;AAMA3D,MAAAA,gBAAgB,EAAE,UAAUH,KAAV,EAAiB;AAC/B,YAAI,KAAKwmC,cAAL,CAAoBxmC,KAApB,CAAJ,EAAgC;AAC5B,gBAAM3jB,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;AACA,gBAAMoqD,EAAE,GAAGjwD,IAAI,CAACC,aAAL,CAAmB,GAAnB,CAAX;AACAgwD,UAAAA,EAAE,CAAChtD,SAAH,GAAe,MAAf;AACA4C,UAAAA,OAAO,CAACyf,YAAR,CAAqB2qC,EAArB,EAAyBpqD,OAAO,CAACgU,iBAAjC;AACA,eAAKqC,QAAL,CAAc+zC,EAAE,CAACp2C,iBAAjB,EAAoC,CAApC,EAAuCo2C,EAAE,CAACp2C,iBAA1C,EAA6D,CAA7D;AACA2P,UAAAA,KAAK,GAAG,KAAK09B,SAAL,CAAeC,MAAvB;AACH;;AACD,eAAO39B,KAAP;AACH,OA52BQ;;AA82BT;;;;AAIAgN,MAAAA,YAAY,EAAE,YAAY;AACtB,eAAO,KAAK8xB,WAAL,IAAoB,KAAKA,WAAL,CAAiB9xB,YAArC,GAAoD,KAAK8xB,WAAL,CAAiB9xB,YAAjB,EAApD,GAAsF,KAAK6xB,GAAL,CAAS7xB,YAAT,EAA7F;AACH,OAp3BQ;;AAs3BT;;;;AAIA5P,MAAAA,gBAAgB,EAAE,YAAY;AAC1B,YAAI5mB,IAAI,CAAC+R,YAAL,CAAkB,KAAKm1C,SAAL,CAAeuE,cAAjC,CAAJ,EAAsD,KAAK0C,YAAL;;AACtD,YAAI,CAAC,KAAKjH,SAAL,CAAeuE,cAApB,EAAoC;AAChC,gBAAM1tB,aAAa,GAAG/9B,IAAI,CAACga,eAAL,CAAqBra,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwByjB,UAA7C,EAAyD,UAAUrN,OAAV,EAAmB;AAAE,mBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,WAAjJ,EAAmJ,KAAnJ,CAAtB;;AACA,cAAI,CAAC+rB,aAAL,EAAoB;AAChB,iBAAKowB,YAAL;AACH,WAFD,MAEO;AACH,iBAAKjH,SAAL,CAAeuE,cAAf,GAAgC1tB,aAAhC;AACA,mBAAOA,aAAP;AACH;AACJ;;AACD,eAAO,KAAKmpB,SAAL,CAAeuE,cAAtB;AACH,OAt4BQ;;AAw4BT;;;;AAIA0C,MAAAA,YAAY,EAAE,YAAY;AACtB,cAAMa,SAAS,GAAG,KAAKx4B,YAAL,EAAlB;AACA,YAAI,CAACw4B,SAAL,EAAgB,OAAO,IAAP;AAChB,YAAIxlC,KAAK,GAAG,IAAZ;AACA,YAAIuU,aAAa,GAAG,IAApB;;AAEA,YAAIixB,SAAS,CAACS,UAAV,GAAuB,CAA3B,EAA8B;AAC1BjmC,UAAAA,KAAK,GAAGwlC,SAAS,CAACU,UAAV,CAAqB,CAArB,CAAR;AACH,SAFD,MAEO;AACHlmC,UAAAA,KAAK,GAAG,KAAK8lC,mBAAL,EAAR;AACH;;AAED,aAAKpI,SAAL,CAAeC,MAAf,GAAwB39B,KAAxB;;AAEA,YAAIA,KAAK,CAAC+lC,SAAV,EAAqB;AACjBxxB,UAAAA,aAAa,GAAGvU,KAAK,CAAC0mC,uBAAtB;AACH,SAFD,MAEO;AACHnyB,UAAAA,aAAa,GAAGixB,SAAS,CAACmB,UAAV,IAAwBnB,SAAS,CAACW,UAAlD;AACH;;AAED,aAAKzI,SAAL,CAAeuE,cAAf,GAAgC1tB,aAAhC;AACH,OAj6BQ;;AAm6BT;;;;;AAKAuxB,MAAAA,mBAAmB,EAAE,YAAY;AAC7B,cAAMzpD,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;AACAA,QAAAA,OAAO,CAAC1D,KAAR;;AACA,cAAMqnB,KAAK,GAAG,KAAK+S,GAAL,CAASpY,WAAT,EAAd;;AAEA,YAAIwd,OAAO,GAAG97B,OAAO,CAACgU,iBAAtB;;AACA,YAAI,CAAC8nB,OAAL,EAAc;AACVA,UAAAA,OAAO,GAAG3hC,IAAI,CAACC,aAAL,CAAmB,GAAnB,CAAV;AACA0hC,UAAAA,OAAO,CAAC1+B,SAAR,GAAoB,MAApB;AACA4C,UAAAA,OAAO,CAACtF,WAAR,CAAoBohC,OAApB;AACH;;AAEDnY,QAAAA,KAAK,CAAColC,QAAN,CAAejtB,OAAf,EAAwB,CAAxB;AACAnY,QAAAA,KAAK,CAACqlC,MAAN,CAAaltB,OAAb,EAAsB,CAAtB;AAEA,eAAOnY,KAAP;AACH,OAx7BQ;;AA07BT;;;;;;AAMAwmC,MAAAA,cAAc,EAAE,UAAUxmC,KAAV,EAAiB;AAC7B,cAAM4mC,IAAI,GAAG5mC,KAAK,CAAC0mC,uBAAnB;AACA,eAAQlwD,IAAI,CAAC+R,YAAL,CAAkByX,KAAK,CAACU,cAAxB,KAA2ClqB,IAAI,CAAC+R,YAAL,CAAkByX,KAAK,CAACY,YAAxB,CAA5C,IAAsF,UAAUnpB,IAAV,CAAemvD,IAAI,CAACnpD,QAApB,CAAtF,IAAuH,KAAKwjD,YAAL,CAAkB1X,MAAlB,CAAyB9xC,IAAzB,CAA8BmvD,IAAI,CAACnpD,QAAnC,CAAvH,IAAuKjH,IAAI,CAAC+G,gBAAL,CAAsBqpD,IAAtB,CAA9K;AACH,OAn8BQ;;AAq8BT;;;;;AAKAC,MAAAA,qBAAqB,EAAE,YAAY;AAC/B,cAAM7mC,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,YAAI,KAAKumC,cAAL,CAAoBxmC,KAApB,CAAJ,EAAgC,OAAO,KAAP;AAEhC,YAAIglC,QAAQ,GAAGhlC,KAAK,CAACU,cAArB;AACA,YAAIukC,QAAQ,GAAGjlC,KAAK,CAACI,WAArB;AACA,YAAI8kC,MAAM,GAAGllC,KAAK,CAACY,YAAnB;AACA,YAAIukC,MAAM,GAAGnlC,KAAK,CAACK,SAAnB;AACA,YAAIymC,OAAJ,EAAaC,UAAb,EAAyBC,SAAzB;;AAEA,YAAIxwD,IAAI,CAACyiB,eAAL,CAAqB+rC,QAArB,CAAJ,EAAoC;AAChCA,UAAAA,QAAQ,GAAGA,QAAQ,CAACv/B,UAAT,CAAoBw/B,QAApB,KAAiCD,QAAQ,CAAC7W,SAArD;AACA8W,UAAAA,QAAQ,GAAGD,QAAQ,CAACryC,WAAT,CAAqB/X,MAAhC;AACH;;AACD,YAAIpE,IAAI,CAACyiB,eAAL,CAAqBisC,MAArB,CAAJ,EAAkC;AAC9BA,UAAAA,MAAM,GAAGA,MAAM,CAACz/B,UAAP,CAAkB0/B,MAAlB,KAA6BD,MAAM,CAAC/W,SAA7C;AACAgX,UAAAA,MAAM,GAAGD,MAAM,CAACvyC,WAAP,CAAmB/X,MAA5B;AACH,SAjB8B,CAmB/B;;;AACAksD,QAAAA,OAAO,GAAGtwD,IAAI,CAAC+R,YAAL,CAAkBy8C,QAAlB,IAA8B7uD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwByjB,UAAtD,GAAmEklC,QAA7E;AACA+B,QAAAA,UAAU,GAAG9B,QAAb;;AAEA,YAAIzuD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,KAA0BA,OAAO,CAACt+C,QAAR,KAAqB,CAArB,IAA0Bs+C,OAAO,CAACrhC,UAAR,CAAmB7qB,MAAnB,GAA4B,CAApF,EAAwF;AACpF,gBAAMqsD,SAAS,GAAGzwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAlB;;AACA,cAAI,CAACG,SAAL,EAAgB;AACZ,mBAAOH,OAAO,IAAI,CAACtwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAZ,IAAqCA,OAAO,CAACt+C,QAAR,KAAqB,CAAjE,EAAoE;AAChEs+C,cAAAA,OAAO,GAAGA,OAAO,CAACrhC,UAAR,CAAmBshC,UAAnB,KAAkCD,OAAO,CAACljC,kBAA1C,IAAgEkjC,OAAO,CAAC/qC,WAAlF;AACAgrC,cAAAA,UAAU,GAAG,CAAb;AACH;;AAED,gBAAIvnC,MAAM,GAAGhpB,IAAI,CAAC+rB,gBAAL,CAAsBukC,OAAtB,EAA+B,IAA/B,CAAb;;AACA,gBAAItnC,MAAM,KAAKhpB,IAAI,CAACytB,qBAAL,CAA2BzE,MAA3B,EAAmC,IAAnC,CAAf,EAAyD;AACrDA,cAAAA,MAAM,GAAGhpB,IAAI,CAACC,aAAL,CAAmBD,IAAI,CAAC8G,gBAAL,CAAsBwpD,OAAtB,EAA+BtwD,IAAI,CAAC2uB,MAApC,IAA8C,KAA9C,GAAsD,GAAzE,CAAT;AACA2hC,cAAAA,OAAO,CAACr+C,UAAR,CAAmBqT,YAAnB,CAAgC0D,MAAhC,EAAwCsnC,OAAxC;AACAtnC,cAAAA,MAAM,CAACzoB,WAAP,CAAmB+vD,OAAnB;AACH;AACJ;;AAED,cAAItwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAJ,EAA2B;AACvB,kBAAMI,SAAS,GAAG1wD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACAirC,YAAAA,OAAO,CAACr+C,UAAR,CAAmBqT,YAAnB,CAAgCorC,SAAhC,EAA2CJ,OAA3C;AACAA,YAAAA,OAAO,GAAGI,SAAV;;AACA,gBAAID,SAAJ,EAAe;AACX,kBAAIjC,QAAQ,KAAKE,MAAjB,EAAyB;AACrBA,gBAAAA,MAAM,GAAG4B,OAAT;AACA3B,gBAAAA,MAAM,GAAG,CAAT;AACH;AACJ;AACJ;AACJ,SAlD8B,CAoD/B;;;AACAH,QAAAA,QAAQ,GAAG8B,OAAX;AACA7B,QAAAA,QAAQ,GAAG8B,UAAX,CAtD+B,CAwD/B;;AACAD,QAAAA,OAAO,GAAGtwD,IAAI,CAAC+R,YAAL,CAAkB28C,MAAlB,IAA4B/uD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB8xC,SAApD,GAAgE+W,MAA1E;AACA6B,QAAAA,UAAU,GAAG5B,MAAb;;AAEA,YAAI3uD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,KAA0BA,OAAO,CAACt+C,QAAR,KAAqB,CAArB,IAA0Bs+C,OAAO,CAACrhC,UAAR,CAAmB7qB,MAAnB,GAA4B,CAApF,EAAwF;AACpF,gBAAMqsD,SAAS,GAAGzwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAlB;;AACA,cAAI,CAACG,SAAL,EAAgB;AACZ,mBAAOH,OAAO,IAAI,CAACtwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAZ,IAAqCA,OAAO,CAACt+C,QAAR,KAAqB,CAAjE,EAAoE;AAChEw+C,cAAAA,SAAS,GAAGF,OAAO,CAACrhC,UAApB;AACA,kBAAIuhC,SAAS,CAACpsD,MAAV,KAAqB,CAAzB,EAA4B;AAC5BksD,cAAAA,OAAO,GAAGE,SAAS,CAACD,UAAU,GAAG,CAAb,GAAiBA,UAAU,GAAG,CAA9B,GAAkCA,UAAnC,CAAT,IAA2D,CAAC,UAAUtvD,IAAV,CAAeuvD,SAAS,CAAC,CAAD,CAAT,CAAavpD,QAA5B,CAA5D,GAAoGupD,SAAS,CAAC,CAAD,CAA7G,GAAoHF,OAAO,CAACpjC,sBAAR,IAAkCojC,OAAO,CAACnlC,eAA1C,IAA6DqjC,QAA3L;AACA+B,cAAAA,UAAU,GAAGA,UAAU,GAAG,CAAb,GAAiBD,OAAO,CAACn0C,WAAR,CAAoB/X,MAArC,GAA8CmsD,UAA3D;AACH;;AAED,gBAAIvnC,MAAM,GAAGhpB,IAAI,CAAC+rB,gBAAL,CAAsBukC,OAAtB,EAA+B,IAA/B,CAAb;;AACA,gBAAItnC,MAAM,KAAKhpB,IAAI,CAACytB,qBAAL,CAA2BzE,MAA3B,EAAmC,IAAnC,CAAf,EAAyD;AACrDA,cAAAA,MAAM,GAAGhpB,IAAI,CAACC,aAAL,CAAmBD,IAAI,CAAC2uB,MAAL,CAAY3F,MAAZ,IAAsB,KAAtB,GAA8B,GAAjD,CAAT;AACAsnC,cAAAA,OAAO,CAACr+C,UAAR,CAAmBqT,YAAnB,CAAgC0D,MAAhC,EAAwCsnC,OAAxC;AACAtnC,cAAAA,MAAM,CAACzoB,WAAP,CAAmB+vD,OAAnB;AACH;AACJ;;AAED,cAAItwD,IAAI,CAACy2C,OAAL,CAAa6Z,OAAb,CAAJ,EAA2B;AACvB,kBAAMI,SAAS,GAAG1wD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACAirC,YAAAA,OAAO,CAACr+C,UAAR,CAAmBqT,YAAnB,CAAgCorC,SAAhC,EAA2CJ,OAA3C;AACAA,YAAAA,OAAO,GAAGI,SAAV;AACAH,YAAAA,UAAU,GAAG,CAAb;;AACA,gBAAIE,SAAS,IAAI,CAACH,OAAO,CAACnlC,eAA1B,EAA2C;AACvCnrB,cAAAA,IAAI,CAAC8S,UAAL,CAAgB47C,MAAhB;AACH;AACJ;AACJ,SAvF8B,CAyF/B;;;AACAA,QAAAA,MAAM,GAAG4B,OAAT;AACA3B,QAAAA,MAAM,GAAG4B,UAAT,CA3F+B,CA6F/B;;AACA,aAAKr0C,QAAL,CAAcsyC,QAAd,EAAwBC,QAAxB,EAAkCC,MAAlC,EAA0CC,MAA1C;AACA,eAAO,IAAP;AACH,OA1iCQ;;AA4iCT;;;;;AAKA9rC,MAAAA,mBAAmB,EAAE,UAAUkyB,UAAV,EAAsB;AACvC,YAAI,CAAC,KAAKsb,qBAAL,EAAL,EAAmC,OAAO,EAAP;AACnC,YAAI7mC,KAAK,GAAG,KAAKC,QAAL,EAAZ;;AAEA,YAAIzpB,IAAI,CAAC+R,YAAL,CAAkByX,KAAK,CAACU,cAAxB,CAAJ,EAA6C;AACzC,gBAAMqF,QAAQ,GAAG5vB,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB0pB,QAAzC;AACA,cAAIA,QAAQ,CAACnrB,MAAT,KAAoB,CAAxB,EAA2B,OAAO,EAAP;AAE3B,eAAK8X,QAAL,CAAcqT,QAAQ,CAAC,CAAD,CAAtB,EAA2B,CAA3B,EAA8BA,QAAQ,CAACA,QAAQ,CAACnrB,MAAT,GAAkB,CAAnB,CAAtC,EAA6DmrB,QAAQ,CAACA,QAAQ,CAACnrB,MAAT,GAAkB,CAAnB,CAAR,CAA8B+X,WAA9B,CAA0CoF,IAA1C,GAAiDnd,MAA9G;AACAolB,UAAAA,KAAK,GAAG,KAAKC,QAAL,EAAR;AACH;;AAED,cAAM+kC,QAAQ,GAAGhlC,KAAK,CAACU,cAAvB;AACA,cAAMwkC,MAAM,GAAGllC,KAAK,CAACY,YAArB;AACA,cAAMumC,SAAS,GAAGnnC,KAAK,CAAC0mC,uBAAxB,CAduC,CAgBvC;;AACA,cAAMU,SAAS,GAAG5wD,IAAI,CAAC62C,eAAL,CAAqB8Z,SAArB,EAAgC,UAAU10C,OAAV,EAAmB;AACjE,iBAAO84B,UAAU,GAAGA,UAAU,CAAC94B,OAAD,CAAb,GAAyBjc,IAAI,CAACyiB,eAAL,CAAqBxG,OAArB,CAA1C;AACH,SAFiB,CAAlB;AAIA,YAAI,CAACjc,IAAI,CAAC+R,YAAL,CAAkB4+C,SAAlB,CAAD,IAAiC,CAAC3wD,IAAI,CAACmvB,oBAAL,CAA0BwhC,SAA1B,CAAtC,EAA4EC,SAAS,CAAC/K,OAAV,CAAkB7lD,IAAI,CAAC+rB,gBAAL,CAAsB4kC,SAAtB,EAAiC,IAAjC,CAAlB;AAC5E,YAAInC,QAAQ,KAAKE,MAAb,IAAuBkC,SAAS,CAACxsD,MAAV,KAAqB,CAAhD,EAAmD,OAAOwsD,SAAP;AAEnD,YAAIC,SAAS,GAAG7wD,IAAI,CAAC+rB,gBAAL,CAAsByiC,QAAtB,EAAgC,IAAhC,CAAhB;AACA,YAAIsC,OAAO,GAAG9wD,IAAI,CAAC+rB,gBAAL,CAAsB2iC,MAAtB,EAA8B,IAA9B,CAAd;AACA,YAAIqC,QAAQ,GAAG,IAAf;AACA,YAAIC,MAAM,GAAG,IAAb;;AAEA,cAAMC,SAAS,GAAG,UAAUh1C,OAAV,EAAmB;AACjC,iBAAOjc,IAAI,CAACw2C,OAAL,CAAav6B,OAAb,IAAwB,WAAWhb,IAAX,CAAgBgb,OAAO,CAAChV,QAAxB,CAAxB,GAA4D,IAAnE;AACH,SAFD;;AAIA,YAAIiqD,YAAY,GAAGlxD,IAAI,CAACytB,qBAAL,CAA2BojC,SAA3B,EAAsCI,SAAtC,CAAnB;AACA,YAAIE,UAAU,GAAGnxD,IAAI,CAACytB,qBAAL,CAA2BqjC,OAA3B,EAAoCG,SAApC,CAAjB;AACA,YAAIjxD,IAAI,CAACw2C,OAAL,CAAa0a,YAAb,KAA8BlxD,IAAI,CAACitB,UAAL,CAAgBikC,YAAY,CAACj/C,UAA7B,CAAlC,EAA4Ei/C,YAAY,GAAGA,YAAY,CAACj/C,UAA5B;AAC5E,YAAIjS,IAAI,CAACw2C,OAAL,CAAa2a,UAAb,KAA4BnxD,IAAI,CAACitB,UAAL,CAAgBkkC,UAAU,CAACl/C,UAA3B,CAAhC,EAAwEk/C,UAAU,GAAGA,UAAU,CAACl/C,UAAxB;AAExE,cAAMm/C,SAAS,GAAGF,YAAY,KAAKC,UAAnC;;AACA,aAAK,IAAIr0D,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGkrD,SAAS,CAACxsD,MAA3B,EAAmCitD,IAAxC,EAA8Cv0D,CAAC,GAAG4I,GAAlD,EAAuD5I,CAAC,EAAxD,EAA4D;AACxDu0D,UAAAA,IAAI,GAAGT,SAAS,CAAC9zD,CAAD,CAAhB;;AAEA,cAAI+zD,SAAS,KAAKQ,IAAd,IAAuB,CAACD,SAAD,IAAcC,IAAI,KAAKH,YAAlD,EAAiE;AAC7DH,YAAAA,QAAQ,GAAGj0D,CAAX;AACA;AACH;;AAED,cAAIg0D,OAAO,KAAKO,IAAZ,IAAqB,CAACD,SAAD,IAAcC,IAAI,KAAKF,UAAhD,EAA6D;AACzDH,YAAAA,MAAM,GAAGl0D,CAAT;AACA;AACH;AACJ;;AAED,YAAIi0D,QAAQ,KAAK,IAAjB,EAAuBA,QAAQ,GAAG,CAAX;AACvB,YAAIC,MAAM,KAAK,IAAf,EAAqBA,MAAM,GAAGJ,SAAS,CAACxsD,MAAV,GAAmB,CAA5B;AAErB,eAAOwsD,SAAS,CAAChrD,KAAV,CAAgBmrD,QAAhB,EAA0BC,MAAM,GAAG,CAAnC,CAAP;AACH,OA1mCQ;;AA4mCT;;;;;;AAMAtnC,MAAAA,gCAAgC,EAAE,UAAU4nC,eAAV,EAA2B;AACzD,cAAMX,SAAS,GAAG,KAAKlnC,QAAL,GAAgBymC,uBAAlC;AACA,cAAMqB,WAAW,GAAGvxD,IAAI,CAAC8G,gBAAL,CAAsB6pD,SAAtB,EAAiC3wD,IAAI,CAACkZ,WAAtC,CAApB;AACA,cAAMs4C,aAAa,GAAGxxD,IAAI,CAACw2C,OAAL,CAAama,SAAb,IAClB,KAAK9tC,mBAAL,CAAyB,IAAzB,CADkB,GAElB,KAAKA,mBAAL,CAAyB,UAAU5G,OAAV,EAAmB;AACxC,gBAAMxZ,SAAS,GAAG,KAAKqE,gBAAL,CAAsBmV,OAAtB,EAA+B,KAAK/C,WAApC,CAAlB;AACA,iBAAQ,KAAKuJ,eAAL,CAAqBxG,OAArB,MAAkC,CAACxZ,SAAD,IAAcA,SAAS,KAAK8uD,WAA9D,CAAD,IAAiF,KAAKr4C,WAAL,CAAiB+C,OAAjB,KAA6B,CAAC,KAAK8P,gBAAL,CAAsB9P,OAAtB,CAAtH;AACH,SAHwB,CAGvB5d,IAHuB,CAGlB2B,IAHkB,CAAzB,CAFJ;;AAOA,YAAIsxD,eAAJ,EAAqB;AACjB,eAAK,IAAIx0D,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG8rD,aAAa,CAACptD,MAApC,EAA4CtH,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtD,iBAAK,IAAI6wB,CAAC,GAAG7wB,CAAC,GAAG,CAAjB,EAAoB6wB,CAAC,IAAI,CAAzB,EAA4BA,CAAC,EAA7B,EAAiC;AAC7B,kBAAI6jC,aAAa,CAAC7jC,CAAD,CAAb,CAAiBC,QAAjB,CAA0B4jC,aAAa,CAAC10D,CAAD,CAAvC,CAAJ,EAAiD;AAC7C00D,gBAAAA,aAAa,CAACjqD,MAAd,CAAqBzK,CAArB,EAAwB,CAAxB;AACAA,gBAAAA,CAAC;AAAI4I,gBAAAA,GAAG;AACR;AACH;AACJ;AACJ;AACJ;;AAED,eAAO8rD,aAAP;AACH,OAzoCQ;;AA2oCT;;;;;;AAMAC,MAAAA,WAAW,EAAE,UAAU7uD,SAAV,EAAqB4V,MAArB,EAA6B;AACtC,eAAQA,MAAM,KAAK,CAAZ,IAAmB,CAAC5V,SAAS,CAAC8uD,SAAX,IAAwBl5C,MAAM,KAAK,CAAtD,IAA6DA,MAAM,KAAK5V,SAAS,CAAC8uD,SAAV,CAAoBttD,MAAnG;AACH,OAnpCQ;;AAqpCT;;;AAGAR,MAAAA,WAAW,EAAE,YAAY;AACrBjE,QAAAA,OAAO,CAACmB,OAAR,CAAgBmlD,OAAhB,CAAwB7lD,KAAxB,CAA8BC,OAA9B,GAAwC,OAAxC;AACH,OA1pCQ;;AA4pCT;;;AAGAqE,MAAAA,YAAY,EAAE,YAAY;AACtB/E,QAAAA,OAAO,CAACmB,OAAR,CAAgBmlD,OAAhB,CAAwB7lD,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACH,OAjqCQ;;AAmqCT;;;;;;;;AAQAsxD,MAAAA,eAAe,EAAE,UAAU7wD,OAAV,EAAmB8wD,UAAnB,EAA+B;AAC5C,cAAMC,eAAe,GAAG7xD,IAAI,CAAC+rB,gBAAL,CAAsB,KAAKnF,gBAAL,EAAtB,EAA+C,IAA/C,CAAxB;AACA,cAAMkrC,WAAW,GAAGF,UAAU,GAAI,OAAOA,UAAP,KAAsB,QAAtB,GAAiCA,UAAjC,GAA8CA,UAAU,CAAC3qD,QAA7D,GAA0EjH,IAAI,CAACyiB,eAAL,CAAqBovC,eAArB,KAAyC,CAAC7xD,IAAI,CAAC40C,mBAAL,CAAyBid,eAAzB,CAA3C,GAAwFA,eAAe,CAAC5qD,QAAxG,GAAmH,GAA1N;AACA,cAAMge,OAAO,GAAGjlB,IAAI,CAACC,aAAL,CAAmB6xD,WAAnB,CAAhB;AACA7sC,QAAAA,OAAO,CAAChiB,SAAR,GAAoB,MAApB;;AAEA,YAAK2uD,UAAU,IAAI,OAAOA,UAAP,KAAsB,QAArC,IAAmD,CAACA,UAAD,IAAe5xD,IAAI,CAACyiB,eAAL,CAAqBovC,eAArB,CAAtE,EAA8G;AAC1G7xD,UAAAA,IAAI,CAACk1C,iBAAL,CAAuBjwB,OAAvB,EAAgC2sC,UAAU,IAAIC,eAA9C;AACH;;AAED,YAAI7xD,IAAI,CAAC2uB,MAAL,CAAY7tB,OAAZ,CAAJ,EAA0BA,OAAO,CAACwkB,YAAR,CAAqBL,OAArB,EAA8BnkB,OAAO,CAACssB,kBAAtC,EAA1B,KACKtsB,OAAO,CAACmR,UAAR,CAAmBqT,YAAnB,CAAgCL,OAAhC,EAAyCnkB,OAAO,CAACssB,kBAAjD;AAEL,eAAOnI,OAAP;AACH,OAzrCQ;;AA2rCT;;;;;;;;;AASA0G,MAAAA,eAAe,EAAE,UAAU7qB,OAAV,EAAmBikC,cAAnB,EAAmCgtB,cAAnC,EAAmDC,SAAnD,EAA8D;AAC3E,YAAID,cAAc,IAAI,CAAC,KAAKA,cAAL,CAAoBjxD,OAApB,EAA6B,IAA7B,CAAvB,EAA2D;AACvD,iBAAO,IAAP;AACH;;AAED,cAAMnD,CAAC,GAAG,KAAKs0D,UAAL,EAAV;AACA,aAAKtoC,gBAAL,CAAsB,KAAKF,QAAL,EAAtB;AACA,YAAImC,KAAK,GAAG,IAAZ;AACA,YAAImS,aAAa,GAAG,KAAKnX,gBAAL,EAApB;AACA,YAAIsrC,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBgS,aAAtB,EAAqC,IAArC,CAAf;;AAEA,YAAI/9B,IAAI,CAACitB,UAAL,CAAgBilC,QAAhB,CAAJ,EAA+B;AAC3B,eAAKhtC,UAAL,CAAgBpkB,OAAhB,EAAyBi9B,aAAa,KAAKm0B,QAAlB,GAA6B,IAA7B,GAAoCv0D,CAAC,CAACiF,SAAF,CAAY2iB,WAAzE,EAAsF,KAAtF;AACA,cAAI,CAACzkB,OAAO,CAACykB,WAAb,EAA0BzkB,OAAO,CAACmR,UAAR,CAAmB1R,WAAnB,CAA+BP,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAA/B;AAC7B,SAHD,MAGO;AACH,cAAI,KAAKwpB,QAAL,GAAgB8lC,SAAhB,KAA8B5xD,CAAC,CAACiF,SAAF,CAAYoP,QAAZ,KAAyB,CAAzB,IAA8BhS,IAAI,CAACy2C,OAAL,CAAa94C,CAAC,CAACiF,SAAf,CAA5D,CAAJ,EAA4F;AACxF,kBAAMuvD,WAAW,GAAGnyD,IAAI,CAAC8G,gBAAL,CAAsBnJ,CAAC,CAACiF,SAAxB,EAAmC,UAAUqZ,OAAV,EAAmB;AAAE,qBAAO,KAAKkT,oBAAL,CAA0BlT,OAA1B,CAAP;AAA4C,aAAjE,CAAkE5d,IAAlE,CAAuE2B,IAAvE,CAAnC,CAApB;AACA4rB,YAAAA,KAAK,GAAG5rB,IAAI,CAACs5C,YAAL,CAAkB37C,CAAC,CAACiF,SAApB,EAA+BjF,CAAC,CAAC6a,MAAjC,EAAyC,CAAC25C,WAAD,GAAe,CAAf,GAAmBnyD,IAAI,CAACwvB,eAAL,CAAqB2iC,WAArB,IAAoC,CAAhG,CAAR;AACA,gBAAIvmC,KAAJ,EAAWsmC,QAAQ,GAAGtmC,KAAK,CAACT,eAAjB;AACd;;AACD,eAAKjG,UAAL,CAAgBpkB,OAAhB,EAAyBoxD,QAAzB,EAAmC,KAAnC;AACA,cAAIA,QAAQ,IAAIlyD,IAAI,CAACs7B,kBAAL,CAAwB42B,QAAxB,CAAhB,EAAmDlyD,IAAI,CAAC8S,UAAL,CAAgBo/C,QAAhB;AACtD;;AAED,YAAI,CAACF,SAAL,EAAgB;AACZ,gBAAMzD,iBAAiB,GAAG,KAAKT,gBAAL,CAAsBhtD,OAAtB,CAA1B;;AACA,cAAIytD,iBAAJ,EAAuB;AACnB,iBAAKrzC,eAAL,CAAqBqzC,iBAAiB,CAACrtD,MAAvC,EAA+CqtD,iBAAiB,CAACnpD,UAAjE;AACH,WAFD,MAEO,IAAIwmB,KAAJ,EAAW;AACdA,YAAAA,KAAK,GAAG5rB,IAAI,CAACiwB,iBAAL,CAAuBrE,KAAvB,EAA8B,IAA9B,EAAoCrB,EAApC,IAA0CqB,KAAlD;AACA,iBAAK1P,QAAL,CAAc0P,KAAd,EAAqB,CAArB,EAAwBA,KAAxB,EAA+B,CAA/B;AACH;AACJ,SAhC0E,CAkC3E;;;AACA,YAAI,CAACmZ,cAAL,EAAqB,KAAKzoB,OAAL,CAAapV,IAAb,CAAkB,CAAlB;AAErB,eAAO0kB,KAAK,IAAI9qB,OAAhB;AACH,OA1uCQ;;AA4uCT;;;;;;AAMAgtD,MAAAA,gBAAgB,EAAE,UAAUhtD,OAAV,EAAmB;AACjC,YAAI,CAAC,KAAK2pD,YAAL,CAAkBC,WAAnB,IAAkC,CAAC5pD,OAAvC,EAAgD,OAAO,IAAP;AAEhD,YAAII,MAAJ,EAAYkE,UAAZ;;AACA,YAAI,YAAYnE,IAAZ,CAAiBH,OAAO,CAACmG,QAAzB,KAAsC,eAAehG,IAAf,CAAoBH,OAAO,CAACZ,SAA5B,CAA1C,EAAkF;AAC9EgB,UAAAA,MAAM,GAAGJ,OAAO,CAACqT,aAAR,CAAsB,KAAKs2C,YAAL,CAAkBC,WAAxC,CAAT;AACH;;AACD,YAAI,CAACxpD,MAAD,IAAWJ,OAAO,CAACmG,QAAnB,IAA+B,KAAKwjD,YAAL,CAAkB1X,MAAlB,CAAyB9xC,IAAzB,CAA8BH,OAAO,CAACmG,QAAtC,CAAnC,EAAoF;AAChF/F,UAAAA,MAAM,GAAGJ,OAAT;AACH;;AAED,YAAII,MAAJ,EAAY;AACRkE,UAAAA,UAAU,GAAG,KAAKqlD,YAAL,CAAkBG,SAAlB,CAA4B1pD,MAAM,CAAC+F,QAAP,CAAgBoK,WAAhB,EAA5B,CAAb;;AACA,cAAIjM,UAAJ,EAAgB;AACZ,mBAAO;AACHlE,cAAAA,MAAM,EAAEA,MADL;AAEHuB,cAAAA,SAAS,EAAEzC,IAAI,CAAC8G,gBAAL,CAAsB5F,MAAtB,EAA8BlB,IAAI,CAACkZ,WAAnC,CAFR;AAGH9T,cAAAA,UAAU,EAAEA;AAHT,aAAP;AAKH;AACJ;;AAED,eAAO,IAAP;AACH,OAzwCQ;;AA2wCT;;;;;AAKA8V,MAAAA,eAAe,EAAE,UAAUpa,OAAV,EAAmBsE,UAAnB,EAA+B;AAC5C,YAAI,CAAC,KAAKmkD,QAAV,EAAoB,KAAKpnD,KAAL;AACpB,cAAMmW,MAAM,GAAG,KAAKjX,OAAL,CAAa+D,UAAb,CAAf;AACA,YAAI,CAACkT,MAAL,EAAa;;AACbpU,QAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtB,cAAI,OAAOmQ,MAAM,CAACrQ,MAAd,KAAyB,UAA7B,EAAyC,KAAKqe,UAAL,CAAgBlhB,UAAhB,EAA4BkT,MAAM,CAACrQ,MAAP,CAAc5J,IAAd,CAAmB,IAAnB,EAAyByC,OAAzB,CAA5B,EAA+D,IAA/D;;AACzC,eAAKsxD,wBAAL,CAA8BtxD,OAA9B;AACH,SAHa,CAGZzC,IAHY,CAGP,IAHO,CAAd;AAIH,OAxxCQ;;AA0xCT;;;;;AAKA+zD,MAAAA,wBAAwB,EAAE,UAAUtxD,OAAV,EAAmB;AACzC;AACA,aAAKg/C,YAAL,CAAkB1/C,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA,cAAMuC,SAAS,GAAG5C,IAAI,CAAC8G,gBAAL,CAAsBhG,OAAtB,EAA+Bd,IAAI,CAACkZ,WAApC,CAAlB;AACA,cAAMm5C,OAAO,GAAG1yD,OAAO,CAACmB,OAAR,CAAgBqlD,aAAhB,CAA8B/lD,KAA9C;AACA,cAAMkyD,OAAO,GAAG3yD,OAAO,CAACmB,OAAR,CAAgBslD,aAAhB,CAA8BhmD,KAA9C;AACA,cAAMc,MAAM,GAAG,KAAKvB,OAAL,CAAa6F,QAAb,CAAsByO,eAAtB,CAAsC7T,KAAtC,CAA4CC,OAA5C,KAAwD,OAAxD,GAAkE,KAAKV,OAAL,CAAa6F,QAAb,CAAsByO,eAAxF,GAA0GnT,OAAzH;AAEA,cAAM0rB,MAAM,GAAGxsB,IAAI,CAACitB,UAAL,CAAgBrqB,SAAS,CAACqP,UAA1B,CAAf;AACA,YAAIsgD,YAAJ,EAAkBC,OAAlB,EAA2BpzD,CAA3B,CATyC,CAUzC;;AACA,YAAIotB,MAAM,GAAG,CAAC5pB,SAAS,CAACuoB,eAAd,GAAgC,CAACnrB,IAAI,CAACyiB,eAAL,CAAqB7f,SAAS,CAACsqB,sBAA/B,CAA3C,EAAmG;AAC/F,eAAKg6B,SAAL,CAAeiF,cAAf,GAAgCvpD,SAAhC;AACA4vD,UAAAA,OAAO,GAAG7yD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBkyC,SAAlC;AACAwa,UAAAA,YAAY,GAAGvyD,IAAI,CAACyY,SAAL,CAAe3X,OAAf,EAAwBnB,OAAO,CAACmB,OAAR,CAAgB4X,YAAxC,EAAsDM,GAAtD,GAA4Dw5C,OAA3E;AACApzD,UAAAA,CAAC,GAAI8B,MAAM,CAAC6X,WAAP,GAAqB,CAAtB,GAA2B,CAA/B;AAEAs5C,UAAAA,OAAO,CAACr5C,GAAR,GAAeu5C,YAAY,GAAGC,OAAf,GAAyB,EAA1B,GAAgC,IAA9C;AACAH,UAAAA,OAAO,CAAC9kD,IAAR,GAAgBvN,IAAI,CAACyY,SAAL,CAAevX,MAAf,EAAuBqM,IAAvB,GAA8BnO,CAA/B,GAAoC,IAAnD;AACAizD,UAAAA,OAAO,CAAChyD,OAAR,GAAkB,OAAlB;AACH,SATD,MASO;AACHgyD,UAAAA,OAAO,CAAChyD,OAAR,GAAkB,MAAlB;AACH,SAtBwC,CAuBzC;;;AACA,YAAImsB,MAAM,GAAG,CAAC5pB,SAAS,CAAC2iB,WAAd,GAA4B,CAACvlB,IAAI,CAACyiB,eAAL,CAAqB7f,SAAS,CAACwqB,kBAA/B,CAAvC,EAA2F;AACvF,cAAI,CAACmlC,YAAL,EAAmB;AACf,iBAAKrL,SAAL,CAAeiF,cAAf,GAAgCvpD,SAAhC;AACA4vD,YAAAA,OAAO,GAAG7yD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBkyC,SAAlC;AACAwa,YAAAA,YAAY,GAAGvyD,IAAI,CAACyY,SAAL,CAAe3X,OAAf,EAAwBnB,OAAO,CAACmB,OAAR,CAAgB4X,YAAxC,EAAsDM,GAAtD,GAA4Dw5C,OAA3E;AACApzD,YAAAA,CAAC,GAAI8B,MAAM,CAAC6X,WAAP,GAAqB,CAAtB,GAA2B,CAA/B;AACH;;AAEDu5C,UAAAA,OAAO,CAACt5C,GAAR,GAAeu5C,YAAY,GAAGrxD,MAAM,CAAC4X,YAAtB,GAAqC05C,OAArC,GAA+C,EAAhD,GAAsD,IAApE;AACAF,UAAAA,OAAO,CAAC/kD,IAAR,GAAgBvN,IAAI,CAACyY,SAAL,CAAevX,MAAf,EAAuBqM,IAAvB,GAA8BrM,MAAM,CAAC6X,WAArC,GAAmD3Z,CAAnD,GAAuD,EAAxD,GAA8D,IAA7E;AACAkzD,UAAAA,OAAO,CAACjyD,OAAR,GAAkB,OAAlB;AACH,SAXD,MAWO;AACHiyD,UAAAA,OAAO,CAACjyD,OAAR,GAAkB,MAAlB;AACH;AACJ,OAr0CQ;;AAu0CT;;;;;;;;;AASA6kB,MAAAA,UAAU,EAAE,UAAU0G,KAAV,EAAiB6mC,SAAjB,EAA4BV,cAA5B,EAA4C;AACpD,YAAIA,cAAc,IAAI,CAAC,KAAKA,cAAL,CAAoBnmC,KAApB,EAA2B,IAA3B,CAAvB,EAAyD;AACrD,iBAAO,IAAP;AACH;;AAED,cAAM8mC,UAAU,GAAG1yD,IAAI,CAACg1C,oBAAL,CAA0B,KAAKpuB,gBAAL,EAA1B,EAAmD,IAAnD,CAAnB;AACA,cAAM+rC,SAAS,GAAI,CAACD,UAAD,KAAgB1yD,IAAI,CAACyiB,eAAL,CAAqBmJ,KAArB,KAA+B5rB,IAAI,CAACmvB,oBAAL,CAA0BvD,KAA1B,CAA/C,CAAD,IAAsF5rB,IAAI,CAACkZ,WAAL,CAAiB0S,KAAjB,CAAxG;;AAEA,YAAI,CAAC6mC,SAAD,IAAcE,SAAlB,EAA6B;AACzB,gBAAMh1D,CAAC,GAAG,KAAKs0D,UAAL,EAAV;;AACA,cAAIt0D,CAAC,CAACiF,SAAF,CAAYoP,QAAZ,KAAyB,CAAzB,IAA8BhS,IAAI,CAACy2C,OAAL,CAAa94C,CAAC,CAACiF,SAAf,CAAlC,EAA6D;AACzD,kBAAMuvD,WAAW,GAAGnyD,IAAI,CAAC8G,gBAAL,CAAsBnJ,CAAC,CAACiF,SAAxB,EAAmC,UAAUqZ,OAAV,EAAmB;AAAE,qBAAO,KAAKkT,oBAAL,CAA0BlT,OAA1B,KAAsC,KAAKgR,UAAL,CAAgBhR,OAAhB,CAA7C;AAAwE,aAA7F,CAA8F5d,IAA9F,CAAmG2B,IAAnG,CAAnC,CAApB;AACAyyD,YAAAA,SAAS,GAAGzyD,IAAI,CAACs5C,YAAL,CAAkB37C,CAAC,CAACiF,SAApB,EAA+BjF,CAAC,CAAC6a,MAAjC,EAAyC,CAAC25C,WAAD,GAAe,CAAf,GAAmBnyD,IAAI,CAACwvB,eAAL,CAAqB2iC,WAArB,IAAoC,CAAhG,CAAZ;AACA,gBAAIM,SAAJ,EAAeA,SAAS,GAAGA,SAAS,CAACtnC,eAAtB;AAClB;AACJ;;AAED,cAAM3B,KAAK,GAAI,CAACipC,SAAD,IAAc,CAACE,SAAhB,GAA6B,KAAKhpC,gBAAL,CAAsB,KAAKF,QAAL,EAAtB,CAA7B,GAAsE,KAAKA,QAAL,EAApF;AACA,cAAMknC,SAAS,GAAGnnC,KAAK,CAAC0mC,uBAAxB;AACA,cAAMzB,QAAQ,GAAGjlC,KAAK,CAACI,WAAvB;AACA,cAAM+kC,MAAM,GAAGnlC,KAAK,CAACK,SAArB;AACA,cAAM+oC,WAAW,GAAGppC,KAAK,CAACU,cAAN,KAAyBymC,SAAzB,IAAsC3wD,IAAI,CAACyiB,eAAL,CAAqBkuC,SAArB,CAA1D;AACA,cAAMnC,QAAQ,GAAGoE,WAAW,GAAGjC,SAAS,CAAC1hC,UAAV,CAAqBw/B,QAArB,CAAH,GAAoCjlC,KAAK,CAACU,cAAtE;AACA,cAAMwkC,MAAM,GAAGkE,WAAW,GAAGjC,SAAS,CAAC1hC,UAAV,CAAqB0/B,MAArB,CAAH,GAAkCnlC,KAAK,CAACY,YAAlE;AACA,YAAInY,UAAJ;AAAA,YAAgB4gD,WAAW,GAAG,IAA9B;;AAEA,YAAI,CAACJ,SAAL,EAAgB;AACZxgD,UAAAA,UAAU,GAAGu8C,QAAb;;AACA,cAAIA,QAAQ,CAACx8C,QAAT,KAAsB,CAA1B,EAA6B;AACzBC,YAAAA,UAAU,GAAGu8C,QAAQ,CAACv8C,UAAtB;AACH;AAED;;;AACA,cAAIuX,KAAK,CAAC+lC,SAAV,EAAqB;AACjB,gBAAIoB,SAAS,CAAC3+C,QAAV,KAAuB,CAA3B,EAA8B;AAC1B,kBAAI2+C,SAAS,CAACx0C,WAAV,CAAsB/X,MAAtB,GAA+BuqD,MAAnC,EAA2C8D,SAAS,GAAG9B,SAAS,CAACnX,SAAV,CAAoBmV,MAApB,CAAZ,CAA3C,KACK8D,SAAS,GAAG9B,SAAS,CAACprC,WAAtB;AACR,aAHD,MAGO;AACH,kBAAI,CAACvlB,IAAI,CAACy2C,OAAL,CAAaxkC,UAAb,CAAL,EAA+B;AAC3B,oBAAI/U,CAAC,GAAG+U,UAAU,CAACgd,UAAX,CAAsBw/B,QAAtB,CAAR;AACA,sBAAMe,SAAS,GAAItyD,CAAC,IAAIA,CAAC,CAAC8U,QAAF,KAAe,CAApB,IAAyBhS,IAAI,CAACs7B,kBAAL,CAAwBp+B,CAAxB,CAAzB,IAAuD8C,IAAI,CAACy2C,OAAL,CAAav5C,CAAC,CAACqoB,WAAf,CAAxD,GAAuFroB,CAAC,CAACqoB,WAAzF,GAAuGroB,CAAzH;;AACA,oBAAIsyD,SAAJ,EAAe;AACX,sBAAI,CAACA,SAAS,CAACjqC,WAAf,EAA4B;AACxBtT,oBAAAA,UAAU,CAAC2e,WAAX,CAAuB4+B,SAAvB;AACAiD,oBAAAA,SAAS,GAAG,IAAZ;AACH,mBAHD,MAGO;AACHA,oBAAAA,SAAS,GAAIzyD,IAAI,CAACy2C,OAAL,CAAa+Y,SAAb,KAA2B,CAACxvD,IAAI,CAACy2C,OAAL,CAAa7qB,KAAb,CAA7B,GAAoD4jC,SAApD,GAAgEA,SAAS,CAACjqC,WAAtF;AACH;AACJ,iBAPD,MAOO;AACHktC,kBAAAA,SAAS,GAAG,IAAZ;AACH;AACJ,eAbD,MAaO;AACHA,gBAAAA,SAAS,GAAGxgD,UAAZ;AACAA,gBAAAA,UAAU,GAAGA,UAAU,CAACA,UAAxB;AACH;AACJ;AACJ,WAvBD,MAuBO;AAAE;AACL,kBAAM6gD,eAAe,GAAGtE,QAAQ,KAAKE,MAArC;;AAEA,gBAAIoE,eAAJ,EAAqB;AACjB,kBAAI,KAAKrB,WAAL,CAAiB/C,MAAjB,EAAyBC,MAAzB,CAAJ,EAAsC8D,SAAS,GAAG/D,MAAM,CAACnpC,WAAnB,CAAtC,KACKktC,SAAS,GAAG/D,MAAM,CAAClV,SAAP,CAAiBmV,MAAjB,CAAZ;AAEL,kBAAIsD,UAAU,GAAGzD,QAAjB;AACA,kBAAI,CAAC,KAAKiD,WAAL,CAAiBjD,QAAjB,EAA2BC,QAA3B,CAAL,EAA2CwD,UAAU,GAAGzD,QAAQ,CAAChV,SAAT,CAAmBiV,QAAnB,CAAb;AAE3Cx8C,cAAAA,UAAU,CAAC2e,WAAX,CAAuBqhC,UAAvB;;AACA,kBAAIhgD,UAAU,CAACgd,UAAX,CAAsB7qB,MAAtB,KAAiC,CAAjC,IAAsCuuD,SAA1C,EAAqD;AACjD1gD,gBAAAA,UAAU,CAAChP,SAAX,GAAuB,MAAvB;AACH;AACJ,aAXD,MAYK;AACD,oBAAM8vD,UAAU,GAAG,KAAKd,UAAL,EAAnB;AACA,oBAAMrvD,SAAS,GAAGmwD,UAAU,CAACnwD,SAA7B;AACA,oBAAMowD,aAAa,GAAGD,UAAU,CAACC,aAAjC;;AACA,kBAAIpwD,SAAS,IAAIA,SAAS,CAACqsB,UAAV,CAAqB7qB,MAArB,KAAgC,CAA7C,IAAkDuuD,SAAtD,EAAiE;AAC7D,oBAAI3yD,IAAI,CAACyiB,eAAL,CAAqB7f,SAArB,CAAJ,EAAqC;AACjCA,kBAAAA,SAAS,CAACK,SAAV,GAAsB,MAAtB;AACH,iBAFD,MAEO,IAAIjD,IAAI,CAACmvB,oBAAL,CAA0BvsB,SAA1B,CAAJ,EAA0C;AAC7CA,kBAAAA,SAAS,CAACK,SAAV,GAAsB,aAAtB;AACH;AACJ;;AAED,kBAAI,CAAC0vD,SAAD,IAAcK,aAAlB,EAAiC;AAC7B/gD,gBAAAA,UAAU,GAAG+gD,aAAa,CAAChhD,QAAd,KAA2B,CAA3B,GAA+BghD,aAAa,CAAC/gD,UAA7C,GAA0D+gD,aAAvE;;AACA,oBAAI/gD,UAAU,CAAC2b,QAAX,CAAoBhrB,SAApB,CAAJ,EAAoC;AAChC6vD,kBAAAA,SAAS,GAAG7vD,SAAZ;;AACA,yBAAO6vD,SAAS,CAACxgD,UAAV,KAAyBA,UAAhC,EAA4C;AACxCwgD,oBAAAA,SAAS,GAAGA,SAAS,CAACxgD,UAAtB;AACH;AACJ,iBALD,MAKO;AACHwgD,kBAAAA,SAAS,GAAG,IAAZ;AACH;AACJ,eAVD,MAUO;AACHxgD,gBAAAA,UAAU,GAAG0gD,SAAS,GAAGhC,SAAH,GAAe/tD,SAArC;AACA6vD,gBAAAA,SAAS,GAAGE,SAAS,GAAGjE,MAAH,GAAY,IAAjC;AACH;;AAED,qBAAO+D,SAAS,IAAI,CAACzyD,IAAI,CAACyiB,eAAL,CAAqBgwC,SAArB,CAAd,IAAiDA,SAAS,CAACxgD,UAAV,KAAyB0+C,SAAjF,EAA4F;AACxF8B,gBAAAA,SAAS,GAAGA,SAAS,CAACxgD,UAAtB;AACH;AACJ;AACJ;AACJ,SA7ED,CA8EA;AA9EA,aA+EK;AACDA,YAAAA,UAAU,GAAGwgD,SAAS,CAACxgD,UAAvB;AACAwgD,YAAAA,SAAS,GAAGA,SAAS,CAACltC,WAAtB;AACAstC,YAAAA,WAAW,GAAG,IAAd;AACH,WA7GmD,CA+GpD;;;AACA,YAAI;AACA,cAAI7yD,IAAI,CAACyiB,eAAL,CAAqBmJ,KAArB,KAA+B5rB,IAAI,CAACmvB,oBAAL,CAA0BvD,KAA1B,CAA/B,IAAoE,CAAC5rB,IAAI,CAACitB,UAAL,CAAgBhb,UAAhB,CAAD,IAAgCjS,IAAI,CAACkZ,WAAL,CAAiB0S,KAAjB,CAAxG,EAAkI;AAC9H,kBAAMqnC,SAAS,GAAGhhD,UAAlB;;AACA,gBAAIjS,IAAI,CAACwsB,MAAL,CAAYimC,SAAZ,CAAJ,EAA4B;AACxBxgD,cAAAA,UAAU,GAAGwgD,SAAb;AACAA,cAAAA,SAAS,GAAG,IAAZ;AACH,aAHD,MAGO,IAAIzyD,IAAI,CAACitB,UAAL,CAAgBwlC,SAAhB,CAAJ,EAAgC;AACnCxgD,cAAAA,UAAU,GAAGwgD,SAAS,CAACvlC,sBAAV,IAAoCulC,SAAjD;AACH,aAFM,MAEA,IAAI,CAACI,WAAD,IAAgB,CAACJ,SAArB,EAAgC;AACnC,oBAAM90D,CAAC,GAAG,KAAKs0D,UAAL,EAAV;AACA,oBAAMrvD,SAAS,GAAGjF,CAAC,CAACiF,SAAF,CAAYoP,QAAZ,KAAyB,CAAzB,GAA8BhS,IAAI,CAACitB,UAAL,CAAgBjtB,IAAI,CAAC+rB,gBAAL,CAAsBpuB,CAAC,CAACiF,SAAxB,EAAmC,IAAnC,CAAhB,IAA4DjF,CAAC,CAACiF,SAA9D,GAA2E5C,IAAI,CAAC+rB,gBAAL,CAAsBpuB,CAAC,CAACiF,SAAxB,EAAmC,IAAnC,KAA4CjF,CAAC,CAACiF,SAAF,CAAYqP,UAAjK,GAAgLtU,CAAC,CAACiF,SAApM;AACA,oBAAMswD,QAAQ,GAAGlzD,IAAI,CAAC+R,YAAL,CAAkBnP,SAAlB,KAAgC5C,IAAI,CAACmvB,oBAAL,CAA0BvsB,SAA1B,CAAjD;AACAqP,cAAAA,UAAU,GAAGihD,QAAQ,GAAGtwD,SAAH,GAAeA,SAAS,CAACqP,UAA9C;AACAwgD,cAAAA,SAAS,GAAGS,QAAQ,GAAG,IAAH,GAAUtwD,SAAS,CAAC2iB,WAAxC;AACH;;AAED,gBAAI0tC,SAAS,CAAChkC,UAAV,CAAqB7qB,MAArB,KAAgC,CAAhC,IAAqC6N,UAAU,KAAKghD,SAAxD,EAAmEjzD,IAAI,CAAC8S,UAAL,CAAgBmgD,SAAhB;AACtE;;AAED,cAAIN,SAAS,IAAI,CAACD,UAAd,IAA4B,CAAC1yD,IAAI,CAACmvB,oBAAL,CAA0Bld,UAA1B,CAA7B,IAAsE,CAACjS,IAAI,CAACitB,UAAL,CAAgBhb,UAAhB,CAAvE,IAAsG,CAACjS,IAAI,CAAC+R,YAAL,CAAkBE,UAAlB,CAA3G,EAA0I;AACtIwgD,YAAAA,SAAS,GAAGxgD,UAAU,CAACmb,kBAAvB;AACAnb,YAAAA,UAAU,GAAGA,UAAU,CAACA,UAAxB;AACH;;AACDA,UAAAA,UAAU,CAACqT,YAAX,CAAwBsG,KAAxB,EAA+B3Z,UAAU,KAAKwgD,SAAf,GAA2BxgD,UAAU,CAAC0lC,SAAtC,GAAkD8a,SAAjF;AACH,SAxBD,CAwBE,OAAOzxD,CAAP,EAAU;AACRiR,UAAAA,UAAU,CAAC1R,WAAX,CAAuBqrB,KAAvB;AACH,SA1BD,SA0BU;AACN,cAAI8mC,UAAU,KAAK1yD,IAAI,CAACyiB,eAAL,CAAqBmJ,KAArB,KAA+B5rB,IAAI,CAACmvB,oBAAL,CAA0BvD,KAA1B,CAApC,CAAd,EAAqF;AACjFA,YAAAA,KAAK,GAAG,KAAKunC,kBAAL,CAAwBvnC,KAAxB,CAAR;AACH;;AAED,cAAI,CAAC5rB,IAAI,CAACkZ,WAAL,CAAiB0S,KAAjB,CAAL,EAA8B;AAC1B,gBAAIpT,MAAM,GAAG,CAAb;;AACA,gBAAIoT,KAAK,CAAC5Z,QAAN,KAAmB,CAAvB,EAA0B;AACtB,oBAAM6jC,QAAQ,GAAGjqB,KAAK,CAACT,eAAvB;AACA,oBAAML,IAAI,GAAGc,KAAK,CAACrG,WAAnB;AACA,oBAAM6tC,YAAY,GAAI,CAACvd,QAAD,IAAcA,QAAQ,CAAC7jC,QAAT,KAAsB,CAApC,IAAyChS,IAAI,CAACs7B,kBAAL,CAAwBua,QAAxB,CAA1C,GAA+E,EAA/E,GAAoFA,QAAQ,CAAC15B,WAAlH;AACA,oBAAMk3C,QAAQ,GAAI,CAACvoC,IAAD,IAASA,IAAI,CAAC9Y,QAAL,KAAkB,CAA3B,IAAgChS,IAAI,CAACs7B,kBAAL,CAAwBxQ,IAAxB,CAAjC,GAAkE,EAAlE,GAAuEA,IAAI,CAAC3O,WAA7F;;AAEA,kBAAI05B,QAAQ,IAAIud,YAAY,CAAChvD,MAAb,GAAsB,CAAtC,EAAyC;AACrCwnB,gBAAAA,KAAK,CAACzP,WAAN,GAAoBi3C,YAAY,GAAGxnC,KAAK,CAACzP,WAAzC;AACAnc,gBAAAA,IAAI,CAAC8S,UAAL,CAAgB+iC,QAAhB;AACH;;AAED,kBAAI/qB,IAAI,IAAIA,IAAI,CAAC1mB,MAAL,GAAc,CAA1B,EAA6B;AACzBwnB,gBAAAA,KAAK,CAACzP,WAAN,IAAqBk3C,QAArB;AACArzD,gBAAAA,IAAI,CAAC8S,UAAL,CAAgBgY,IAAhB;AACH;;AAED,oBAAMwoC,QAAQ,GAAG;AACb1wD,gBAAAA,SAAS,EAAEgpB,KADE;AAEbhC,gBAAAA,WAAW,EAAEwpC,YAAY,CAAChvD,MAFb;AAGbylB,gBAAAA,SAAS,EAAE+B,KAAK,CAACzP,WAAN,CAAkB/X,MAAlB,GAA2BivD,QAAQ,CAACjvD;AAHlC,eAAjB;AAMA,mBAAK8X,QAAL,CAAc0P,KAAd,EAAqB0nC,QAAQ,CAAC1pC,WAA9B,EAA2CgC,KAA3C,EAAkD0nC,QAAQ,CAACzpC,SAA3D;AAEA,qBAAOypC,QAAP;AACH,aAzBD,MAyBO,IAAI,CAACtzD,IAAI,CAACy2C,OAAL,CAAa7qB,KAAb,CAAD,IAAwB5rB,IAAI,CAACyiB,eAAL,CAAqBxQ,UAArB,CAA5B,EAA8D;AACjE,kBAAIshD,SAAS,GAAG,IAAhB;;AACA,kBAAI,CAAC3nC,KAAK,CAACT,eAAX,EAA4B;AACxBooC,gBAAAA,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAZ;AACAuG,gBAAAA,KAAK,CAAC3Z,UAAN,CAAiBqT,YAAjB,CAA8BiuC,SAA9B,EAAyC3nC,KAAzC;AACH;;AAED,kBAAI,CAACA,KAAK,CAACrG,WAAX,EAAwB;AACpBguC,gBAAAA,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAZ;AACAuG,gBAAAA,KAAK,CAAC3Z,UAAN,CAAiB1R,WAAjB,CAA6BgzD,SAA7B;AACH;;AAED,kBAAIvzD,IAAI,CAACkvB,mBAAL,CAAyBtD,KAAzB,CAAJ,EAAqC;AACjCA,gBAAAA,KAAK,GAAGA,KAAK,CAACrG,WAAd;AACA/M,gBAAAA,MAAM,GAAG,CAAT;AACH;AACJ;;AAED,iBAAK0D,QAAL,CAAc0P,KAAd,EAAqBpT,MAArB,EAA6BoT,KAA7B,EAAoCpT,MAApC;AACH,WAnDK,CAqDN;;;AACA,eAAK8D,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AAEA,iBAAO0kB,KAAP;AACH;AACJ,OAphDQ;AAshDTunC,MAAAA,kBAAkB,EAAE,UAAUvnC,KAAV,EAAiB;AACjC,cAAM3Z,UAAU,GAAG2Z,KAAK,CAAC3Z,UAAzB;AACA,YAAIuhD,aAAJ,EAAmBC,SAAnB;;AAEA,eAAOzzD,IAAI,CAACyiB,eAAL,CAAqBmJ,KAArB,KAA+B5rB,IAAI,CAACmvB,oBAAL,CAA0BvD,KAA1B,CAAtC,EAAwE;AACpE4nC,UAAAA,aAAa,GAAG5nC,KAAK,CAACqD,UAAtB;AACAwkC,UAAAA,SAAS,GAAG,IAAZ;;AAEA,iBAAOD,aAAa,CAAC,CAAD,CAApB,EAAyB;AACrBC,YAAAA,SAAS,GAAGD,aAAa,CAAC,CAAD,CAAzB;;AACA,gBAAIxzD,IAAI,CAACyiB,eAAL,CAAqBgxC,SAArB,KAAmCzzD,IAAI,CAACmvB,oBAAL,CAA0BskC,SAA1B,CAAvC,EAA6E;AACzE,mBAAKN,kBAAL,CAAwBM,SAAxB;;AACA,kBAAI,CAAC7nC,KAAK,CAAC3Z,UAAX,EAAuB;AACvBuhD,cAAAA,aAAa,GAAG5nC,KAAK,CAACqD,UAAtB;AACA;AACH;;AAEDhd,YAAAA,UAAU,CAACqT,YAAX,CAAwBmuC,SAAxB,EAAmC7nC,KAAnC;AACH;;AAED,cAAIA,KAAK,CAACqD,UAAN,CAAiB7qB,MAAjB,KAA4B,CAAhC,EAAmCpE,IAAI,CAAC8S,UAAL,CAAgB8Y,KAAhB;AACnCA,UAAAA,KAAK,GAAG5rB,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAR;AACAgS,UAAAA,UAAU,CAACqT,YAAX,CAAwBsG,KAAxB,EAA+B6nC,SAAS,CAACluC,WAAzC;AACH;;AAED,eAAOqG,KAAP;AACH,OAhjDQ;;AAkjDT;;;;;AAKAqmC,MAAAA,UAAU,EAAE,YAAY;AACpB,YAAI,CAAC,KAAK5B,qBAAL,EAAL,EAAmCvB,OAAO,CAACC,IAAR,CAAa,iGAAb;AAEnC,cAAMvlC,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,YAAI7mB,SAAJ;AAAA,YAAe4V,MAAM,GAAG,CAAxB;AACA,YAAIg2C,QAAQ,GAAGhlC,KAAK,CAACU,cAArB;AACA,YAAIwkC,MAAM,GAAGllC,KAAK,CAACY,YAAnB;AACA,cAAMqkC,QAAQ,GAAGjlC,KAAK,CAACI,WAAvB;AACA,cAAM+kC,MAAM,GAAGnlC,KAAK,CAACK,SAArB;AACA,cAAM8mC,SAAS,GAAGnnC,KAAK,CAAC0mC,uBAAxB;AAEA,YAAIwD,UAAU,GAAG,IAAjB;AACA,YAAIjB,SAAS,GAAG,IAAhB;AAEA,cAAMxjC,UAAU,GAAGjvB,IAAI,CAAC+2C,iBAAL,CAAuB4Z,SAAvB,EAAkC,IAAlC,CAAnB;AACA,YAAIgD,UAAU,GAAG3zD,IAAI,CAAC85B,aAAL,CAAmB7K,UAAnB,EAA+Bu/B,QAA/B,CAAjB;AACA,YAAIoF,QAAQ,GAAG5zD,IAAI,CAAC85B,aAAL,CAAmB7K,UAAnB,EAA+By/B,MAA/B,CAAf;;AAEA,YAAIz/B,UAAU,CAAC7qB,MAAX,GAAoB,CAApB,IAAyBuvD,UAAU,GAAG,CAAC,CAAvC,IAA4CC,QAAQ,GAAG,CAAC,CAA5D,EAA+D;AAC3D,eAAK,IAAI92D,CAAC,GAAG62D,UAAU,GAAG,CAArB,EAAwBE,SAAS,GAAGrF,QAAzC,EAAmD1xD,CAAC,IAAI,CAAxD,EAA2DA,CAAC,EAA5D,EAAgE;AAC5D,gBAAImyB,UAAU,CAACnyB,CAAD,CAAV,KAAkB+2D,SAAS,CAAC5hD,UAA5B,IAA0Cgd,UAAU,CAACnyB,CAAD,CAAV,CAAcwsB,UAAd,KAA6BuqC,SAAvE,IAAoFpF,QAAQ,KAAK,CAArG,EAAwG;AACpGkF,cAAAA,UAAU,GAAG72D,CAAb;AACA+2D,cAAAA,SAAS,GAAGA,SAAS,CAAC5hD,UAAtB;AACH;AACJ;;AAED,eAAK,IAAInV,CAAC,GAAG82D,QAAQ,GAAG,CAAnB,EAAsBE,OAAO,GAAGpF,MAArC,EAA6C5xD,CAAC,GAAG62D,UAAjD,EAA6D72D,CAAC,EAA9D,EAAkE;AAC9D,gBAAImyB,UAAU,CAACnyB,CAAD,CAAV,KAAkBg3D,OAAO,CAAC7hD,UAA1B,IAAwCgd,UAAU,CAACnyB,CAAD,CAAV,CAAckV,QAAd,KAA2B,CAAvE,EAA0E;AACtEid,cAAAA,UAAU,CAAC1nB,MAAX,CAAkBzK,CAAlB,EAAqB,CAArB;AACAg3D,cAAAA,OAAO,GAAGA,OAAO,CAAC7hD,UAAlB;AACA,gBAAE2hD,QAAF;AACH;AACJ;AACJ,SAfD,MAeO;AACH,cAAI3kC,UAAU,CAAC7qB,MAAX,KAAsB,CAA1B,EAA6B;AACzB,gBAAIpE,IAAI,CAACyiB,eAAL,CAAqBkuC,SAArB,KAAmC3wD,IAAI,CAACmvB,oBAAL,CAA0BwhC,SAA1B,CAAnC,IAA2E3wD,IAAI,CAAC+R,YAAL,CAAkB4+C,SAAlB,CAA3E,IAA2G3wD,IAAI,CAACy2C,OAAL,CAAaka,SAAb,CAA3G,IAAsI3wD,IAAI,CAAC02C,OAAL,CAAaia,SAAb,CAA1I,EAAmK;AAC/J,qBAAO;AACH/tD,gBAAAA,SAAS,EAAE+tD,SADR;AAEHn4C,gBAAAA,MAAM,EAAE;AAFL,eAAP;AAIH;;AACDyW,YAAAA,UAAU,CAAC/nB,IAAX,CAAgBypD,SAAhB;AACAnC,YAAAA,QAAQ,GAAGE,MAAM,GAAGiC,SAApB;AACH,WATD,MASO;AACHnC,YAAAA,QAAQ,GAAGE,MAAM,GAAGz/B,UAAU,CAAC,CAAD,CAA9B;;AACA,gBAAIjvB,IAAI,CAACy2C,OAAL,CAAa+X,QAAb,KAA0BxuD,IAAI,CAACs7B,kBAAL,CAAwBkzB,QAAxB,CAA9B,EAAiE;AAC7D,qBAAO;AACH5rD,gBAAAA,SAAS,EAAE4rD,QADR;AAEHh2C,gBAAAA,MAAM,EAAE;AAFL,eAAP;AAIH;AACJ;;AAEDm7C,UAAAA,UAAU,GAAGC,QAAQ,GAAG,CAAxB;AACH;;AAED,iBAAS7lD,MAAT,CAAiBsT,IAAjB,EAAuB;AACnB,gBAAM2H,MAAM,GAAGhpB,IAAI,CAAC+rB,gBAAL,CAAsB1K,IAAtB,EAA4B,IAA5B,CAAf;AACArhB,UAAAA,IAAI,CAAC8S,UAAL,CAAgBuO,IAAhB;;AAEA,cAAGrhB,IAAI,CAACitB,UAAL,CAAgBjE,MAAhB,CAAH,EAA4B;AACxB,kBAAM1e,IAAI,GAAGtK,IAAI,CAACq1C,YAAL,CAAkBrsB,MAAM,CAACuG,QAAzB,EAAmCvvB,IAAI,CAACwsB,MAAxC,EAAgD,KAAhD,CAAb;;AACA,gBAAIliB,IAAJ,EAAU;AACN,oBAAM+uC,KAAK,GAAG/uC,IAAI,CAACuP,iBAAnB;AACA,oBAAM0V,QAAQ,GAAG8pB,KAAK,CAACpqB,UAAvB;;AACA,qBAAOM,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBvG,gBAAAA,MAAM,CAAC1D,YAAP,CAAoBiK,QAAQ,CAAC,CAAD,CAA5B,EAAiCjlB,IAAjC;AACH;;AACDtK,cAAAA,IAAI,CAACq9B,oBAAL,CAA0Bgc,KAA1B,EAAiC,IAAjC,EAAuC,IAAvC;AACH;AACJ;AACJ;;AAED,aAAK,IAAIv8C,CAAC,GAAG62D,UAAb,EAAyB72D,CAAC,IAAI82D,QAA9B,EAAwC92D,CAAC,EAAzC,EAA6C;AACzC,gBAAMukB,IAAI,GAAG4N,UAAU,CAACnyB,CAAD,CAAvB;;AAEA,cAAIukB,IAAI,CAACjd,MAAL,KAAgB,CAAhB,IAAsBid,IAAI,CAACrP,QAAL,KAAkB,CAAlB,IAAuBqP,IAAI,CAAC4c,IAAL,KAAc57B,SAA/D,EAA2E;AACvE0L,YAAAA,MAAM,CAACsT,IAAD,CAAN;AACA;AACH;;AAED,cAAIA,IAAI,KAAKmtC,QAAb,EAAuB;AACnB,gBAAIA,QAAQ,CAACx8C,QAAT,KAAsB,CAA1B,EAA6B;AACzB0hD,cAAAA,UAAU,GAAG1zD,IAAI,CAAColB,cAAL,CAAoBopC,QAAQ,CAACryC,WAA7B,CAAb;AACH,aAFD,MAEO;AACH,kBAAIkF,IAAI,KAAKqtC,MAAb,EAAqB;AACjBgF,gBAAAA,UAAU,GAAG1zD,IAAI,CAAColB,cAAL,CAAoBopC,QAAQ,CAACuF,aAAT,CAAuB,CAAvB,EAA0BtF,QAA1B,IAAsCC,MAAM,CAACqF,aAAP,CAAqBpF,MAArB,EAA8BD,MAAM,CAACtqD,MAAP,GAAgBuqD,MAA9C,CAA1D,CAAb;AACAn2C,gBAAAA,MAAM,GAAGi2C,QAAT;AACH,eAHD,MAGO;AACHiF,gBAAAA,UAAU,GAAG1zD,IAAI,CAAColB,cAAL,CAAoBopC,QAAQ,CAACuF,aAAT,CAAuB,CAAvB,EAA0BtF,QAA1B,CAApB,CAAb;AACH;AACJ;;AAED,gBAAIiF,UAAU,CAACtvD,MAAX,GAAoB,CAAxB,EAA2B;AACvBoqD,cAAAA,QAAQ,CAACvwB,IAAT,GAAgBy1B,UAAU,CAACz1B,IAA3B;AACH,aAFD,MAEO;AACHlwB,cAAAA,MAAM,CAACygD,QAAD,CAAN;AACH;;AAED,gBAAIntC,IAAI,KAAKqtC,MAAb,EAAqB;AACrB;AACH;;AAED,cAAIrtC,IAAI,KAAKqtC,MAAb,EAAqB;AACjB,gBAAIA,MAAM,CAAC18C,QAAP,KAAoB,CAAxB,EAA2B;AACvBygD,cAAAA,SAAS,GAAGzyD,IAAI,CAAColB,cAAL,CAAoBspC,MAAM,CAACvyC,WAA3B,CAAZ;AACH,aAFD,MAEO;AACHs2C,cAAAA,SAAS,GAAGzyD,IAAI,CAAColB,cAAL,CAAoBspC,MAAM,CAACqF,aAAP,CAAqBpF,MAArB,EAA8BD,MAAM,CAACtqD,MAAP,GAAgBuqD,MAA9C,CAApB,CAAZ;AACH;;AAED,gBAAI8D,SAAS,CAACruD,MAAV,GAAmB,CAAvB,EAA0B;AACtBsqD,cAAAA,MAAM,CAACzwB,IAAP,GAAcw0B,SAAS,CAACx0B,IAAxB;AACH,aAFD,MAEO;AACHlwB,cAAAA,MAAM,CAAC2gD,MAAD,CAAN;AACH;;AAED;AACH;;AAED3gD,UAAAA,MAAM,CAACsT,IAAD,CAAN;AACH;;AAEDze,QAAAA,SAAS,GAAG8rD,MAAM,IAAIA,MAAM,CAACz8C,UAAjB,GAA8By8C,MAA9B,GAAuCF,QAAQ,IAAIA,QAAQ,CAACv8C,UAArB,GAAkCu8C,QAAlC,GAA8ChlC,KAAK,CAACY,YAAN,IAAsBZ,KAAK,CAACU,cAA7H;;AAEA,YAAI,CAAClqB,IAAI,CAAC+R,YAAL,CAAkBnP,SAAlB,CAAL,EAAmC;AAC/B,gBAAMoxD,EAAE,GAAGh0D,IAAI,CAACq9B,oBAAL,CAA0Bz6B,SAA1B,EAAqC,UAAUqZ,OAAV,EAAmB;AAC/D,gBAAI,KAAK/C,WAAL,CAAiB+C,OAAjB,CAAJ,EAA+B,OAAO,KAAP;AAC/B,kBAAM1P,IAAI,GAAG0P,OAAO,CAACE,WAArB;AACA,mBAAO5P,IAAI,CAACnI,MAAL,KAAgB,CAAhB,IAAqB,iBAAiBnD,IAAjB,CAAsBsL,IAAtB,CAA5B;AACH,WAJ+C,CAI9ClO,IAJ8C,CAIzC2B,IAJyC,CAArC,EAIG,IAJH,CAAX;AAMA,cAAIg0D,EAAJ,EAAQpxD,SAAS,GAAGoxD,EAAE,CAACzpC,EAAH,IAASypC,EAAE,CAACxpC,EAAZ,IAAkB7qB,OAAO,CAACmB,OAAR,CAAgB+E,OAA9C;AACX,SApImB,CAsIpB;;;AACA,aAAKqW,QAAL,CAActZ,SAAd,EAAyB4V,MAAzB,EAAiC5V,SAAjC,EAA4C4V,MAA5C,EAvIoB,CAwIpB;;AACA,aAAK8D,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AAEA,eAAO;AACHtE,UAAAA,SAAS,EAAEA,SADR;AAEH4V,UAAAA,MAAM,EAAEA,MAFL;AAGHw6C,UAAAA,aAAa,EAAExE,QAAQ,IAAIA,QAAQ,CAACv8C,UAArB,GAAkCu8C,QAAlC,GAA6C;AAHzD,SAAP;AAKH,OAvsDQ;;AAysDT;;;;AAIA1nC,MAAAA,uBAAuB,EAAE,UAAUyC,YAAV,EAAwB;AAC7C,aAAKI,gBAAL,CAAsB,KAAKF,QAAL,EAAtB;AACA,cAAMwqC,UAAU,GAAG,KAAKvqC,gCAAL,CAAsC,KAAtC,CAAnB;AACA,YAAI,CAACuqC,UAAD,IAAeA,UAAU,CAAC7vD,MAAX,KAAsB,CAAzC,EAA4C;;AAE5C8vD,QAAAA,SAAS,EACT,KAAK,IAAIp3D,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuuD,UAAU,CAAC7vD,MAA5B,EAAoCitD,IAApC,EAA0C8C,MAA1C,EAAkDC,GAAlD,EAAuDC,GAAvD,EAA4DhrC,CAA5D,EAA+DtsB,CAApE,EAAuED,CAAC,GAAG4I,GAA3E,EAAgF5I,CAAC,EAAjF,EAAqF;AACjFu0D,UAAAA,IAAI,GAAG4C,UAAU,CAACn3D,CAAD,CAAjB;AACA,cAAI,CAACkD,IAAI,CAACitB,UAAL,CAAgBokC,IAAhB,CAAL,EAA4B;AAE5B8C,UAAAA,MAAM,GAAG9C,IAAI,CAACvgC,gBAAd;;AACA,cAAIqjC,MAAM,IAAIn0D,IAAI,CAACitB,UAAL,CAAgBokC,IAAI,CAACjkC,kBAArB,CAAV,IAAsD6mC,UAAU,CAAC7sD,OAAX,CAAmBiqD,IAAI,CAACjkC,kBAAxB,IAA8C,CAAC,CAAzG,EAA4G;AACxGinC,YAAAA,GAAG,GAAGF,MAAM,CAACrjC,gBAAb;;AACA,gBAAImjC,UAAU,CAAC7sD,OAAX,CAAmBitD,GAAnB,IAA0B,CAAC,CAA/B,EAAkC;AAC9B,kBAAI/pD,IAAI,GAAG,IAAX;;AACA,qBAAQA,IAAI,GAAG+pD,GAAG,CAACvjC,gBAAnB,EAAsC;AAClC,oBAAI9wB,IAAI,CAACwsB,MAAL,CAAYliB,IAAZ,CAAJ,EAAuB;AACnB,sBAAI2pD,UAAU,CAAC7sD,OAAX,CAAmBkD,IAAI,CAACwmB,gBAAxB,IAA4C,CAAC,CAAjD,EAAoD;AAChDujC,oBAAAA,GAAG,GAAG/pD,IAAI,CAACwmB,gBAAX;AACH,mBAFD,MAEO;AACH,6BAASojC,SAAT;AACH;AACJ;AACJ;;AAEDE,cAAAA,GAAG,GAAGD,MAAM,CAACt6C,iBAAb;AACAwP,cAAAA,CAAC,GAAG4qC,UAAU,CAAC7sD,OAAX,CAAmBgtD,GAAnB,CAAJ;AACAr3D,cAAAA,CAAC,GAAGk3D,UAAU,CAAC7sD,OAAX,CAAmBitD,GAAnB,CAAJ;AACAJ,cAAAA,UAAU,CAAC1sD,MAAX,CAAkB8hB,CAAlB,EAAsBtsB,CAAC,GAAGssB,CAAL,GAAU,CAA/B;AACA3jB,cAAAA,GAAG,GAAGuuD,UAAU,CAAC7vD,MAAjB;AACA;AACH;AACJ;AACJ;;AAED,YAAI2lB,IAAI,GAAIkqC,UAAU,CAACA,UAAU,CAAC7vD,MAAX,GAAoB,CAArB,CAAtB;AACA,YAAIkwD,QAAJ,EAAcC,SAAd,EAAyB5a,QAAzB;;AAEA,YAAI35C,IAAI,CAACmvB,oBAAL,CAA0BpF,IAA1B,KAAmC/pB,IAAI,CAACyiB,eAAL,CAAqBsH,IAArB,CAAvC,EAAmE;AAC/DuqC,UAAAA,QAAQ,GAAGvqC,IAAX;AACH,SAFD,MAEO;AACHuqC,UAAAA,QAAQ,GAAGt0D,IAAI,CAACytB,qBAAL,CAA2B1D,IAA3B,EAAiC,IAAjC,KAA0C/pB,IAAI,CAAC+rB,gBAAL,CAAsBhC,IAAtB,EAA4B,IAA5B,CAArD;AACH;;AAED,YAAI/pB,IAAI,CAAC2uB,MAAL,CAAY2lC,QAAZ,CAAJ,EAA2B;AACvBC,UAAAA,SAAS,GAAG,IAAZ;AACA5a,UAAAA,QAAQ,GAAG2a,QAAX;AACH,SAHD,MAGO;AACHC,UAAAA,SAAS,GAAGD,QAAQ,CAAC/uC,WAArB;AACAo0B,UAAAA,QAAQ,GAAG2a,QAAQ,CAACriD,UAApB;AACH;;AAED,YAAIuiD,WAAW,GAAGx0D,IAAI,CAACwvB,eAAL,CAAqB8kC,QAArB,CAAlB;AACA,YAAIG,UAAU,GAAG,IAAjB;AACA,cAAMC,OAAO,GAAG,EAAhB;;AACA,cAAMC,WAAW,GAAG,UAAUjc,MAAV,EAAkBvN,MAAlB,EAA0BtgB,MAA1B,EAAkC;AAClD,cAAIqF,EAAE,GAAG,IAAT;;AACA,cAAIwoB,MAAM,KAAKvN,MAAX,IAAqB,CAACnrC,IAAI,CAACw2C,OAAL,CAAarL,MAAb,CAA1B,EAAgD;AAC5C,gBAAIA,MAAM,IAAInrC,IAAI,CAACwvB,eAAL,CAAqBkpB,MAArB,MAAiC14C,IAAI,CAACwvB,eAAL,CAAqB2b,MAArB,CAA/C,EAA6E,OAAOtgB,MAAP;AAC7EqF,YAAAA,EAAE,GAAGlwB,IAAI,CAACq9B,oBAAL,CAA0B8N,MAA1B,EAAkC,IAAlC,EAAwCuN,MAAxC,CAAL;AACH;;AAED,iBAAOxoB,EAAE,GAAGA,EAAE,CAAC1F,EAAN,GAAWK,MAApB;AACH,SARD;;AAUA,aAAK,IAAI/tB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuuD,UAAU,CAAC7vD,MAA5B,EAAoCitD,IAApC,EAA0CziC,YAA1C,EAAwDooB,KAAxD,EAA+DnsB,MAA/D,EAAuE+pC,QAAvE,EAAiFC,QAAjF,EAA2FV,MAAhG,EAAwGr3D,CAAC,GAAG4I,GAA5G,EAAiH5I,CAAC,EAAlH,EAAsH;AAClHu0D,UAAAA,IAAI,GAAG4C,UAAU,CAACn3D,CAAD,CAAjB;AACA8xB,UAAAA,YAAY,GAAGyiC,IAAI,CAACp/C,UAApB;AACA,cAAI,CAAC2c,YAAD,IAAiBrF,YAAY,CAACqE,QAAb,CAAsBgB,YAAtB,CAArB,EAA0D;AAE1DooB,UAAAA,KAAK,GAAGh3C,IAAI,CAACwvB,eAAL,CAAqB6hC,IAArB,CAAR;;AAEA,cAAIrxD,IAAI,CAACwsB,MAAL,CAAYoC,YAAZ,CAAJ,EAA+B;AAC3B,gBAAI6lC,UAAU,KAAK,IAAnB,EAAyB;AACrB,kBAAII,QAAJ,EAAc;AACVJ,gBAAAA,UAAU,GAAGI,QAAb;AACAV,gBAAAA,MAAM,GAAG,IAAT;AACAU,gBAAAA,QAAQ,GAAG,IAAX;AACH,eAJD,MAIO;AACHJ,gBAAAA,UAAU,GAAG7lC,YAAY,CAAC7H,SAAb,CAAuB,KAAvB,CAAb;AACH;AACJ;;AAED2tC,YAAAA,OAAO,CAACxtD,IAAR,CAAamqD,IAAb;AACAuD,YAAAA,QAAQ,GAAGX,UAAU,CAACn3D,CAAC,GAAG,CAAL,CAArB;;AAEA,gBAAIA,CAAC,KAAK4I,GAAG,GAAG,CAAZ,IAAkBkvD,QAAQ,IAAIA,QAAQ,CAAC3iD,UAAT,KAAwB2c,YAA1D,EAAyE;AACrE;AACA,kBAAIgmC,QAAQ,IAAIvD,IAAI,CAACzjC,QAAL,CAAcgnC,QAAQ,CAAC3iD,UAAvB,CAAhB,EAAoD;AAChD4iD,gBAAAA,QAAQ,GAAGD,QAAQ,CAAC3iD,UAAT,CAAoB8U,SAApB,CAA8B,KAA9B,CAAX;AACH;;AAED,kBAAIzc,IAAI,GAAGskB,YAAY,CAAC3c,UAAxB;AAAA,kBAAoCpT,CAApC;;AACA,qBAAOmB,IAAI,CAACwsB,MAAL,CAAYliB,IAAZ,CAAP,EAA0B;AACtBzL,gBAAAA,CAAC,GAAGmB,IAAI,CAACC,aAAL,CAAmBqK,IAAI,CAACrD,QAAxB,CAAJ;AACApI,gBAAAA,CAAC,CAAC0B,WAAF,CAAck0D,UAAd;AACAA,gBAAAA,UAAU,GAAG51D,CAAb;AACAyL,gBAAAA,IAAI,GAAGA,IAAI,CAAC2H,UAAZ;AACH;;AAED,oBAAM+d,IAAI,GAAG,KAAKnJ,wBAAL,CAA8B+H,YAA9B,EAA4C8lC,OAA5C,EAAqD,IAArD,EAA2D,IAA3D,EAAiE,IAAjE,CAAb;;AAEA,kBAAIF,WAAW,IAAIxd,KAAnB,EAA0B;AACtBwd,gBAAAA,WAAW,GAAGxd,KAAd;AACA2C,gBAAAA,QAAQ,GAAG3pB,IAAI,CAACE,EAAhB;AACAqkC,gBAAAA,SAAS,GAAGI,WAAW,CAAChb,QAAD,EAAW/qB,YAAX,EAAyBoB,IAAI,CAACxF,EAA9B,CAAvB;AACA,oBAAI+pC,SAAJ,EAAe5a,QAAQ,GAAG4a,SAAS,CAACtiD,UAArB;AAClB,eALD,MAKO,IAAI0nC,QAAQ,KAAK3pB,IAAI,CAACE,EAAtB,EAA0B;AAC7BqkC,gBAAAA,SAAS,GAAGvkC,IAAI,CAACxF,EAAjB;AACH;;AAED,kBAAImvB,QAAQ,KAAK3pB,IAAI,CAACE,EAAtB,EAA0B;AACtBrF,gBAAAA,MAAM,GAAG8pC,WAAW,CAAChb,QAAD,EAAW3pB,IAAI,CAACE,EAAhB,EAAoBrF,MAApB,CAApB;AACA,oBAAIA,MAAM,KAAKxoB,SAAf,EAA0BkyD,SAAS,GAAG1pC,MAAZ,CAA1B,KACK0pC,SAAS,GAAGvkC,IAAI,CAACE,EAAjB;AACR;;AAED,mBAAK,IAAIhzB,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGI,IAAI,CAAC8kC,WAAL,CAAiB1wD,MAAxC,EAAgDlH,CAAC,GAAG0yB,IAApD,EAA0D1yB,CAAC,EAA3D,EAA+D;AAC3Du3D,gBAAAA,UAAU,CAACl0D,WAAX,CAAuByvB,IAAI,CAAC8kC,WAAL,CAAiB53D,CAAjB,CAAvB;AACH;;AAED,kBAAI,CAACi3D,MAAL,EAAa5qC,YAAY,CAAChpB,WAAb,CAAyBk0D,UAAzB;AACb,kBAAII,QAAJ,EAAc7kC,IAAI,CAAC8kC,WAAL,CAAiB9kC,IAAI,CAAC8kC,WAAL,CAAiB1wD,MAAjB,GAA0B,CAA3C,EAA8C7D,WAA9C,CAA0Ds0D,QAA1D;AACdJ,cAAAA,UAAU,GAAG,IAAb;AACAN,cAAAA,MAAM,GAAG,KAAT;AACH;AACJ,WAtDD,MAsDO;AACH,gBAAIK,WAAW,IAAIxd,KAAnB,EAA0B;AACtBwd,cAAAA,WAAW,GAAGxd,KAAd;AACA2C,cAAAA,QAAQ,GAAG/qB,YAAX;AACA2lC,cAAAA,SAAS,GAAGlD,IAAI,CAAC9rC,WAAjB;AACH;;AAEDgE,YAAAA,YAAY,CAAChpB,WAAb,CAAyB8wD,IAAzB;;AAEA,gBAAI1X,QAAQ,KAAK/qB,YAAjB,EAA+B;AAC3B/D,cAAAA,MAAM,GAAG8pC,WAAW,CAAChb,QAAD,EAAW/qB,YAAX,CAApB;AACA,kBAAI/D,MAAM,KAAKxoB,SAAf,EAA0BkyD,SAAS,GAAG1pC,MAAZ;AAC7B;AACJ;AACJ;;AAED,aAAK9H,UAAL,GAAkB,IAAlB;AACA/iB,QAAAA,IAAI,CAAC+vB,aAAL,CAAmBxG,YAAnB,EAAiC,IAAjC,EAAuC,KAAvC;AACAvpB,QAAAA,IAAI,CAAC+wB,eAAL,CAAqBxH,YAArB,EAAmC,UAAUtN,OAAV,EAAmB;AAAE,iBAAO,KAAKuQ,MAAL,CAAYvQ,OAAZ,CAAP;AAA8B,SAAnD,CAAoD5d,IAApD,CAAyD2B,IAAzD,CAAnC,EAhJ6C,CAkJ7C;;AACA,YAAIu0D,SAAS,IAAIv0D,IAAI,CAACwvB,eAAL,CAAqB+kC,SAArB,IAAkC,CAA/C,KAAqDv0D,IAAI,CAACwsB,MAAL,CAAY+nC,SAAS,CAACtiD,UAAtB,KAAqCjS,IAAI,CAACwsB,MAAL,CAAY+nC,SAAS,CAACtiD,UAAV,CAAqBA,UAAjC,CAA1F,CAAJ,EAA6I;AACzI,gBAAMkgD,WAAW,GAAGnyD,IAAI,CAAC8G,gBAAL,CAAsBytD,SAAtB,EAAiC,UAAUt4C,OAAV,EAAmB;AAAE,mBAAO,KAAKkT,oBAAL,CAA0BlT,OAA1B,KAAsC,CAAC,KAAKuQ,MAAL,CAAYvQ,OAAZ,CAA9C;AAAqE,WAA1F,CAA2F5d,IAA3F,CAAgG2B,IAAhG,CAAjC,CAApB;AACA,gBAAM+0D,UAAU,GAAG/0D,IAAI,CAACs5C,YAAL,CAAkBib,SAAlB,EAA6B,IAA7B,EAAmC,CAACpC,WAAD,GAAe,CAAf,GAAmBnyD,IAAI,CAACwvB,eAAL,CAAqB2iC,WAArB,IAAoC,CAA1F,CAAnB;AACA4C,UAAAA,UAAU,CAAC9iD,UAAX,CAAsBqT,YAAtB,CAAmCiE,YAAnC,EAAiDwrC,UAAjD;AACH,SAJD,MAIO;AAAE;AACLpb,UAAAA,QAAQ,CAACr0B,YAAT,CAAsBiE,YAAtB,EAAoCgrC,SAApC;AACAI,UAAAA,WAAW,CAACprC,YAAD,EAAegrC,SAAf,CAAX;AACH;;AAED,cAAMvkC,IAAI,GAAGhwB,IAAI,CAACiwB,iBAAL,CAAuB1G,YAAY,CAAC1P,iBAApC,EAAuD0P,YAAY,CAACuH,gBAApE,CAAb;;AACA,YAAImjC,UAAU,CAAC7vD,MAAX,GAAoB,CAAxB,EAA2B;AACvB,eAAK8X,QAAL,CAAc8T,IAAI,CAACzF,EAAnB,EAAuB,CAAvB,EAA0ByF,IAAI,CAACxF,EAA/B,EAAmCwF,IAAI,CAACxF,EAAL,CAAQrO,WAAR,CAAoB/X,MAAvD;AACH,SAFD,MAEO;AACH,eAAK8X,QAAL,CAAc8T,IAAI,CAACxF,EAAnB,EAAuBwF,IAAI,CAACxF,EAAL,CAAQrO,WAAR,CAAoB/X,MAA3C,EAAmD4rB,IAAI,CAACxF,EAAxD,EAA4DwF,IAAI,CAACxF,EAAL,CAAQrO,WAAR,CAAoB/X,MAAhF;AACH,SAjK4C,CAmK7C;;;AACA,aAAKkY,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OAl3DQ;;AAo3DT;;;;;;;;;;;AAWA2f,MAAAA,wBAAwB,EAAE,UAAU0C,YAAV,EAAwBvE,eAAxB,EAAyCgwC,eAAzC,EAA0DjnD,MAA1D,EAAkEg3B,cAAlE,EAAkF;AACxG,cAAMvb,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,cAAM6D,EAAE,GAAG9D,KAAK,CAACI,WAAjB;AACA,cAAM2D,EAAE,GAAG/D,KAAK,CAACK,SAAjB;AAEA,YAAI0F,QAAQ,GAAGvvB,IAAI,CAAC+2C,iBAAL,CAAuBxtB,YAAvB,EAAqC,UAAUtN,OAAV,EAAmB;AAAE,iBAAOA,OAAO,CAAChK,UAAR,KAAuBsX,YAA9B;AAA6C,SAAvG,CAAf;AACA,YAAImvB,MAAM,GAAGnvB,YAAY,CAACtX,UAA1B;AACA,YAAIgjD,SAAS,GAAG,IAAhB;AACA,YAAIC,QAAQ,GAAG,IAAf;AACA,YAAIC,OAAO,GAAG5rC,YAAY,CAACxC,SAAb,CAAuB,KAAvB,CAAd;AAEA,cAAM+tC,WAAW,GAAG,EAApB;AACA,cAAMjlC,OAAO,GAAG7vB,IAAI,CAACwsB,MAAL,CAAYwoC,eAAZ,CAAhB;AACA,YAAII,WAAW,GAAG,KAAlB;AACA,YAAIr+B,KAAK,GAAG,KAAZ;AACA,YAAIs+B,YAAY,GAAG,KAAnB;;AAEA,iBAASC,UAAT,CAAqB5c,MAArB,EAA6B6c,OAA7B,EAAsC5lC,OAAtC,EAA+C6lC,UAA/C,EAA2D;AACvD,cAAIx1D,IAAI,CAACs7B,kBAAL,CAAwBi6B,OAAxB,CAAJ,EAAsCA,OAAO,CAACtyD,SAAR,GAAoBjD,IAAI,CAACqlB,cAAzB;;AAEtC,cAAIkwC,OAAO,CAACvjD,QAAR,KAAqB,CAAzB,EAA4B;AACxB0mC,YAAAA,MAAM,CAACpzB,YAAP,CAAoBiwC,OAApB,EAA6B5lC,OAA7B;AACA,mBAAO4lC,OAAP;AACH;;AAED,gBAAME,WAAW,GAAG,CAACJ,YAAY,GAAGE,OAAH,GAAaC,UAA1B,EAAsCvmC,UAA1D;AACA,cAAIjG,MAAM,GAAGusC,OAAO,CAACxuC,SAAR,CAAkB,KAAlB,CAAb;AACA,cAAI+C,KAAK,GAAG,IAAZ;AACA,cAAI5sB,CAAC,GAAG,IAAR;;AAEA,iBAAOu4D,WAAW,CAAC,CAAD,CAAlB,EAAuB;AACnBv4D,YAAAA,CAAC,GAAGu4D,WAAW,CAAC,CAAD,CAAf;;AACA,gBAAIz1D,IAAI,CAAC86C,YAAL,CAAkB59C,CAAlB,KAAwB,CAAC8C,IAAI,CAACy2C,OAAL,CAAav5C,CAAb,CAAzB,IAA4C,CAAC8C,IAAI,CAACitB,UAAL,CAAgBjE,MAAhB,CAAjD,EAA0E;AACtE,kBAAIA,MAAM,CAACiG,UAAP,CAAkB7qB,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,oBAAI,CAAC0lB,KAAL,EAAYA,KAAK,GAAGd,MAAR;AACZ0vB,gBAAAA,MAAM,CAACpzB,YAAP,CAAoB0D,MAApB,EAA4B2G,OAA5B;AACA3G,gBAAAA,MAAM,GAAGusC,OAAO,CAACxuC,SAAR,CAAkB,KAAlB,CAAT;AACH;;AACD2xB,cAAAA,MAAM,CAACpzB,YAAP,CAAoBpoB,CAApB,EAAuByyB,OAAvB;AACA,kBAAI,CAAC7F,KAAL,EAAYA,KAAK,GAAG5sB,CAAR;AACf,aARD,MAQO;AACH8rB,cAAAA,MAAM,CAACzoB,WAAP,CAAmBrD,CAAnB;AACH;AACJ;;AAED,cAAI8rB,MAAM,CAACiG,UAAP,CAAkB7qB,MAAlB,GAA2B,CAA/B,EAAkC;AAC9B,gBAAIpE,IAAI,CAACitB,UAAL,CAAgByrB,MAAhB,KAA2B14C,IAAI,CAACitB,UAAL,CAAgBjE,MAAhB,CAA3B,IAAsDhpB,IAAI,CAACwsB,MAAL,CAAYmD,OAAZ,CAA1D,EAAgF;AAC5E,kBAAIE,OAAJ,EAAa;AACT/F,gBAAAA,KAAK,GAAG6F,OAAR;;AACA,uBAAMA,OAAN,EAAe;AACX3G,kBAAAA,MAAM,CAACzoB,WAAP,CAAmBovB,OAAnB;AACAA,kBAAAA,OAAO,GAAGA,OAAO,CAACpK,WAAlB;AACH;;AACDmzB,gBAAAA,MAAM,CAACzmC,UAAP,CAAkBqT,YAAlB,CAA+B0D,MAA/B,EAAuC0vB,MAAM,CAACtrB,kBAA9C;AACH,eAPD,MAOO;AACH,sBAAMsoC,UAAU,GAAGF,UAAU,CAACpoC,kBAA9B;AACA,sBAAMuoC,WAAW,GAAG31D,IAAI,CAAC24C,gBAAL,CAAsB6c,UAAtB,EAAkC,KAAlC,CAApB;;AACA,oBAAKjsC,YAAY,KAAKosC,WAAlB,IAAmCD,UAAU,KAAKF,UAAU,CAACpoC,kBAAjE,EAAsF;AAClF,wBAAMkC,SAAS,GAAGtG,MAAM,CAACiG,UAAzB;;AACA,yBAAOK,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBkmC,oBAAAA,UAAU,CAACj1D,WAAX,CAAuB+uB,SAAS,CAAC,CAAD,CAAhC;AACH;;AAED/F,kBAAAA,YAAY,GAAGosC,WAAf;AACA5+B,kBAAAA,KAAK,GAAG,IAAR;AACH;AACJ;AACJ,aArBD,MAqBO;AACH2hB,cAAAA,MAAM,CAACpzB,YAAP,CAAoB0D,MAApB,EAA4B2G,OAA5B;AACH;;AAED,gBAAI,CAAC7F,KAAL,EAAYA,KAAK,GAAGd,MAAR;AACf;;AAED,iBAAOc,KAAP;AACH,SA3EuG,CA6ExG;;;AACA,aAAK,IAAIhtB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B,EAAkCmxD,OAAlC,EAA2CK,SAA3C,EAAsD9qC,IAA3D,EAAiEhuB,CAAC,GAAG4I,GAArE,EAA0E5I,CAAC,EAA3E,EAA+E;AAC3Ey4D,UAAAA,OAAO,GAAGhmC,QAAQ,CAACzyB,CAAD,CAAlB;AACA,cAAIy4D,OAAO,CAACvjD,QAAR,KAAqB,CAArB,IAA0BhS,IAAI,CAACwsB,MAAL,CAAY2oC,OAAZ,CAA9B,EAAoD;AAEpDE,UAAAA,YAAY,GAAG,KAAf;;AACA,cAAItnD,MAAM,IAAIjR,CAAC,KAAK,CAApB,EAAuB;AACnB,gBAAI,CAACkoB,eAAD,IAAoBA,eAAe,CAAC5gB,MAAhB,KAA2BsB,GAA/C,IAAsDsf,eAAe,CAAC,CAAD,CAAf,KAAuBuwC,OAAjF,EAA0F;AACtFN,cAAAA,SAAS,GAAG1rC,YAAY,CAAC4B,eAAzB;AACH,aAFD,MAEO;AACH8pC,cAAAA,SAAS,GAAGE,OAAZ;AACH;AACJ;;AAED,cAAInwC,eAAJ,EAAqB4wC,SAAS,GAAG5wC,eAAe,CAAC5d,OAAhB,CAAwBmuD,OAAxB,CAAZ;;AACrB,cAAIvwC,eAAe,IAAI4wC,SAAS,KAAK,CAAC,CAAtC,EAAyC;AACrC,gBAAI,CAACT,OAAL,EAAcA,OAAO,GAAG5rC,YAAY,CAACxC,SAAb,CAAuB,KAAvB,CAAV;AACdouC,YAAAA,OAAO,CAAC50D,WAAR,CAAoBg1D,OAApB;AACH,WAHD,MAGO;AACH,gBAAIvwC,eAAJ,EAAqB8F,IAAI,GAAG9F,eAAe,CAAC4wC,SAAS,GAAG,CAAb,CAAtB;;AACrB,gBAAIT,OAAO,IAAIA,OAAO,CAAC5lC,QAAR,CAAiBnrB,MAAjB,GAA0B,CAAzC,EAA4C;AACxCs0C,cAAAA,MAAM,CAACpzB,YAAP,CAAoB6vC,OAApB,EAA6B5rC,YAA7B;AACA4rC,cAAAA,OAAO,GAAG,IAAV;AACH;;AAED,gBAAI,CAACtlC,OAAD,IAAY7vB,IAAI,CAACitB,UAAL,CAAgBsoC,OAAhB,CAAhB,EAA0C;AACtC,kBAAIzqC,IAAI,IAAI9qB,IAAI,CAACwvB,eAAL,CAAqB+lC,OAArB,MAAkCv1D,IAAI,CAACwvB,eAAL,CAAqB1E,IAArB,CAA1C,KAAyE9qB,IAAI,CAACitB,UAAL,CAAgByrB,MAAhB,KAA2B14C,IAAI,CAACq1C,YAAL,CAAkBkgB,OAAO,CAAChmC,QAA1B,EAAoCvvB,IAAI,CAACwsB,MAAzC,EAAiD,KAAjD,CAApG,CAAJ,EAAkK;AAC9J,sBAAMqpC,OAAO,GAAGN,OAAO,CAACnoC,kBAAxB;AACA,sBAAMuoC,WAAW,GAAG31D,IAAI,CAAC24C,gBAAL,CAAsB4c,OAAtB,EAA+B,KAA/B,CAApB;;AACA,oBAAKhsC,YAAY,KAAKosC,WAAlB,IAAkCE,OAAO,KAAKN,OAAO,CAACnoC,kBAA1D,EAA8E;AAC1E7D,kBAAAA,YAAY,GAAGosC,WAAf;AACA5+B,kBAAAA,KAAK,GAAG,IAAR;AACH;AACJ,eAPD,MAOO;AACH,sBAAMhM,KAAK,GAAGwqC,OAAd;AACAA,gBAAAA,OAAO,GAAGv1D,IAAI,CAACC,aAAL,CAAmB8N,MAAM,GAAGgd,KAAK,CAAC9jB,QAAT,GAAqBjH,IAAI,CAACwsB,MAAL,CAAYjD,YAAY,CAACtX,UAAzB,KAAwCjS,IAAI,CAACitB,UAAL,CAAgB1D,YAAY,CAACtX,UAA7B,CAAzC,GAAqF,IAArF,GAA4FjS,IAAI,CAAC2uB,MAAL,CAAYpF,YAAY,CAACtX,UAAzB,IAAuC,KAAvC,GAA+C,GAAxL,CAAV;AACA,sBAAM0c,MAAM,GAAG3uB,IAAI,CAACitB,UAAL,CAAgBsoC,OAAhB,CAAf;AACA,sBAAMO,aAAa,GAAG/qC,KAAK,CAACkE,UAA5B;;AACA,uBAAO6mC,aAAa,CAAC,CAAD,CAApB,EAAyB;AACrB,sBAAI91D,IAAI,CAACwsB,MAAL,CAAYspC,aAAa,CAAC,CAAD,CAAzB,KAAiC,CAACnnC,MAAtC,EAA8C;AAC9C4mC,kBAAAA,OAAO,CAACh1D,WAAR,CAAoBu1D,aAAa,CAAC,CAAD,CAAjC;AACH;;AACD91D,gBAAAA,IAAI,CAACqrB,oBAAL,CAA0BkqC,OAA1B,EAAmCxqC,KAAnC;AACAsqC,gBAAAA,YAAY,GAAG,IAAf;AACH;AACJ,aApBD,MAoBO;AACHE,cAAAA,OAAO,GAAGA,OAAO,CAACxuC,SAAR,CAAkB,KAAlB,CAAV;AACH;;AAED,gBAAI,CAACgQ,KAAL,EAAY;AACR,kBAAI,CAAChpB,MAAL,EAAa;AACT,oBAAIinD,eAAJ,EAAqB;AACjB,sBAAI,CAACI,WAAL,EAAkB;AACd1c,oBAAAA,MAAM,CAACpzB,YAAP,CAAoB0vC,eAApB,EAAqCzrC,YAArC;AACA6rC,oBAAAA,WAAW,GAAG,IAAd;AACH;;AACDG,kBAAAA,OAAO,GAAGD,UAAU,CAACN,eAAD,EAAkBO,OAAlB,EAA2B,IAA3B,EAAiChmC,QAAQ,CAACzyB,CAAD,CAAzC,CAApB;AACH,iBAND,MAMO;AACHy4D,kBAAAA,OAAO,GAAGD,UAAU,CAAC5c,MAAD,EAAS6c,OAAT,EAAkBhsC,YAAlB,EAAgCgG,QAAQ,CAACzyB,CAAD,CAAxC,CAApB;AACH;;AAED,oBAAI,CAACi6B,KAAL,EAAY;AACR,sBAAI/R,eAAJ,EAAqB;AACjBkwC,oBAAAA,QAAQ,GAAGK,OAAX;;AACA,wBAAI,CAACN,SAAL,EAAgB;AACZA,sBAAAA,SAAS,GAAGM,OAAZ;AACH;AACJ,mBALD,MAKO,IAAI,CAACN,SAAL,EAAgB;AACnBA,oBAAAA,SAAS,GAAGC,QAAQ,GAAGK,OAAvB;AACH;AACJ;AACJ,eArBD,MAqBO;AACHT,gBAAAA,WAAW,CAAC5tD,IAAZ,CAAiBquD,OAAjB;AACAv1D,gBAAAA,IAAI,CAAC8S,UAAL,CAAgByc,QAAQ,CAACzyB,CAAD,CAAxB;AACH;;AAED,kBAAIi6B,KAAJ,EAAW;AACPA,gBAAAA,KAAK,GAAGs+B,YAAY,GAAG,KAAvB;AACA9lC,gBAAAA,QAAQ,GAAGvvB,IAAI,CAAC+2C,iBAAL,CAAuBxtB,YAAvB,EAAqC,UAAUtN,OAAV,EAAmB;AAAE,yBAAOA,OAAO,CAAChK,UAAR,KAAuBsX,YAA9B;AAA6C,iBAAvG,CAAX;AACA4rC,gBAAAA,OAAO,GAAG5rC,YAAY,CAACxC,SAAb,CAAuB,KAAvB,CAAV;AACA2xB,gBAAAA,MAAM,GAAGnvB,YAAY,CAACtX,UAAtB;AACAnV,gBAAAA,CAAC,GAAG,CAAC,CAAL;AACA4I,gBAAAA,GAAG,GAAG6pB,QAAQ,CAACnrB,MAAf;AACA;AACH;AACJ;AACJ;AACJ;;AAED,cAAM2xD,WAAW,GAAGxsC,YAAY,CAACtX,UAAjC;AACA,YAAI+jD,UAAU,GAAGzsC,YAAY,CAAChE,WAA9B;;AACA,YAAI4vC,OAAO,IAAIA,OAAO,CAAC5lC,QAAR,CAAiBnrB,MAAjB,GAA0B,CAAzC,EAA4C;AACxC2xD,UAAAA,WAAW,CAACzwC,YAAZ,CAAyB6vC,OAAzB,EAAkCa,UAAlC;AACH;;AAED,YAAIhB,eAAJ,EAAqBC,SAAS,GAAGD,eAAe,CAAC7pC,eAA5B,CAArB,KACK,IAAI,CAAC8pC,SAAL,EAAgBA,SAAS,GAAG1rC,YAAY,CAAC4B,eAAzB;AACrB6qC,QAAAA,UAAU,GAAGzsC,YAAY,CAAChE,WAA1B;;AAEA,YAAIgE,YAAY,CAACgG,QAAb,CAAsBnrB,MAAtB,KAAiC,CAAjC,IAAsCmlB,YAAY,CAACpN,WAAb,CAAyB/X,MAAzB,KAAoC,CAA9E,EAAiF;AAC7EpE,UAAAA,IAAI,CAAC8S,UAAL,CAAgByW,YAAhB;AACH,SAFD,MAEO;AACHvpB,UAAAA,IAAI,CAAC46C,eAAL,CAAqBrxB,YAArB,EAAmC,IAAnC;AACH;;AAED,YAAIyG,IAAI,GAAG,IAAX;;AACA,YAAIjiB,MAAJ,EAAY;AACRiiB,UAAAA,IAAI,GAAG;AACHE,YAAAA,EAAE,EAAE6lC,WADD;AAEHxrC,YAAAA,EAAE,EAAE0qC,SAFD;AAGHzqC,YAAAA,EAAE,EAAEwrC,UAHD;AAIHlB,YAAAA,WAAW,EAAEA;AAJV,WAAP;AAMH,SAPD,MAOO;AACH,cAAI,CAACG,SAAL,EAAgBA,SAAS,GAAGC,QAAZ;AAChB,cAAI,CAACA,QAAL,EAAeA,QAAQ,GAAGD,SAAX;AACf,gBAAMgB,SAAS,GAAGj2D,IAAI,CAACiwB,iBAAL,CAAuBglC,SAAvB,EAAmCC,QAAQ,CAACjjD,UAAT,GAAsBgjD,SAAtB,GAAkCC,QAArE,CAAlB;AACAllC,UAAAA,IAAI,GAAG;AACHE,YAAAA,EAAE,EAAE,CAAC+lC,SAAS,CAAC1rC,EAAV,IAAgB0rC,SAAS,CAACzrC,EAA3B,EAA+BvY,UADhC;AAEHsY,YAAAA,EAAE,EAAE0rC,SAAS,CAAC1rC,EAFX;AAGHC,YAAAA,EAAE,EAAEyrC,SAAS,CAACzrC;AAHX,WAAP;AAKH;;AAED,aAAKzH,UAAL,GAAkB,IAAlB;AACA,YAAIgiB,cAAJ,EAAoB,OAAO/U,IAAP;;AAEpB,YAAI,CAACjiB,MAAD,IAAWiiB,IAAf,EAAqB;AACjB,cAAI,CAAChL,eAAL,EAAsB;AAClB,iBAAK9I,QAAL,CAAc8T,IAAI,CAACzF,EAAnB,EAAuB,CAAvB,EAA0ByF,IAAI,CAACzF,EAA/B,EAAmC,CAAnC;AACH,WAFD,MAEO;AACH,iBAAKrO,QAAL,CAAc8T,IAAI,CAACzF,EAAnB,EAAuB+C,EAAvB,EAA2B0C,IAAI,CAACxF,EAAhC,EAAoC+C,EAApC;AACH;AACJ,SAlNuG,CAoNxG;;;AACA,aAAKjR,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OArlEQ;;AAulET;;;;;;;AAOAojB,MAAAA,UAAU,EAAE,UAAUtF,eAAV,EAA2BjX,MAA3B,EAAmC;AAC3C,YAAI8f,QAAQ,GAAG,EAAf;AACA,YAAIqoC,SAAS,GAAG,KAAhB;AACA,YAAIC,QAAQ,GAAG,KAAf;AACA,YAAIrsC,KAAK,GAAG,IAAZ;AACA,YAAIC,IAAI,GAAG,IAAX;;AACA,cAAMgE,aAAa,GAAG,UAAU9R,OAAV,EAAmB;AAAE,iBAAO,CAAC,KAAK/C,WAAL,CAAiB+C,OAAjB,CAAR;AAAoC,SAAzD,CAA0D5d,IAA1D,CAA+D2B,IAA/D,CAAtB;;AAEA,aAAK,IAAIlD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAjC,EAAyCzG,CAAzC,EAA4CL,CAA5C,EAA+C84D,SAA/C,EAA0D5pC,MAA/D,EAAuE1vB,CAAC,GAAG4I,GAA3E,EAAgF5I,CAAC,EAAjF,EAAqF;AACjFs5D,UAAAA,SAAS,GAAGt5D,CAAC,KAAK4I,GAAG,GAAG,CAAxB;AACApI,UAAAA,CAAC,GAAG0C,IAAI,CAACytB,qBAAL,CAA2BzI,eAAe,CAACloB,CAAD,CAA1C,EAA+CixB,aAA/C,CAAJ;AACAvB,UAAAA,MAAM,GAAGxsB,IAAI,CAACwsB,MAAL,CAAYlvB,CAAZ,CAAT;;AACA,cAAI,CAACK,CAAD,IAAM6uB,MAAV,EAAkB;AACd7uB,YAAAA,CAAC,GAAGL,CAAJ;AACAuwB,YAAAA,QAAQ,GAAG;AAAClwB,cAAAA,CAAC,EAAEA,CAAJ;AAAO0rB,cAAAA,CAAC,EAAE,CAACrpB,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAD;AAAV,aAAX;AACA,gBAAIA,CAAC,KAAK,CAAV,EAAao5D,SAAS,GAAG,IAAZ;AAChB,WAJD,MAIO,IAAIv4D,CAAC,IAAI6uB,MAAT,EAAiB;AACpB,gBAAI7uB,CAAC,KAAKL,CAAV,EAAa;AACT,oBAAM0yB,IAAI,GAAG,KAAKnJ,wBAAL,CAA8BgH,QAAQ,CAACxE,CAAT,CAAW,CAAX,EAAcpX,UAA5C,EAAwD4b,QAAQ,CAACxE,CAAjE,EAAoE,IAApE,EAA0Etb,MAA1E,EAAkF,IAAlF,CAAb;AACAzQ,cAAAA,CAAC,GAAG0nB,eAAe,CAACloB,CAAD,CAAf,CAAmBmV,UAAvB;;AACA,kBAAIikD,SAAJ,EAAe;AACXpsC,gBAAAA,KAAK,GAAGkG,IAAI,CAACzF,EAAb;AACA2rC,gBAAAA,SAAS,GAAG,KAAZ;AACH;;AACD,kBAAIE,SAAJ,EAAersC,IAAI,GAAGiG,IAAI,CAACxF,EAAZ;;AAEf,kBAAIgC,MAAJ,EAAY;AACR7uB,gBAAAA,CAAC,GAAGL,CAAJ;AACAuwB,gBAAAA,QAAQ,GAAG;AAAClwB,kBAAAA,CAAC,EAAEA,CAAJ;AAAO0rB,kBAAAA,CAAC,EAAE,CAACrpB,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAD;AAAV,iBAAX;AACA,oBAAIs5D,SAAJ,EAAeD,QAAQ,GAAG,IAAX;AAClB,eAJD,MAIO;AACHx4D,gBAAAA,CAAC,GAAG,IAAJ;AACH;AACJ,aAhBD,MAgBO;AACHkwB,cAAAA,QAAQ,CAACxE,CAAT,CAAWniB,IAAX,CAAgBlH,IAAI,CAAC8G,gBAAL,CAAsBke,eAAe,CAACloB,CAAD,CAArC,EAA0C,IAA1C,CAAhB;AACA,kBAAIs5D,SAAJ,EAAeD,QAAQ,GAAG,IAAX;AAClB;AACJ;;AAED,cAAIC,SAAS,IAAIp2D,IAAI,CAACwsB,MAAL,CAAY7uB,CAAZ,CAAjB,EAAiC;AAC7B,kBAAMqyB,IAAI,GAAG,KAAKnJ,wBAAL,CAA8BgH,QAAQ,CAACxE,CAAT,CAAW,CAAX,EAAcpX,UAA5C,EAAwD4b,QAAQ,CAACxE,CAAjE,EAAoE,IAApE,EAA0Etb,MAA1E,EAAkF,IAAlF,CAAb;AACA,gBAAIooD,QAAQ,IAAIzwD,GAAG,KAAK,CAAxB,EAA2BqkB,IAAI,GAAGiG,IAAI,CAACxF,EAAZ;AAC3B,gBAAI0rC,SAAJ,EAAepsC,KAAK,GAAGkG,IAAI,CAACzF,EAAL,IAAWR,IAAnB;AAClB;AACJ;;AAED,eAAO;AACHQ,UAAAA,EAAE,EAAET,KADD;AAEHU,UAAAA,EAAE,EAAET;AAFD,SAAP;AAIH,OAhpEQ;;AAkpET;;;;;;;;;;;;;;;;;;;;AAoBArC,MAAAA,UAAU,EAAE,UAAU4tC,UAAV,EAAsBe,UAAtB,EAAkCC,eAAlC,EAAmDC,YAAnD,EAAiE;AACzE,aAAKlG,qBAAL;;AACA,YAAI7mC,KAAK,GAAG,KAAKG,gBAAL,CAAsB,KAAKF,QAAL,EAAtB,CAAZ;AACA4sC,QAAAA,UAAU,GAAGA,UAAU,IAAIA,UAAU,CAACjyD,MAAX,GAAoB,CAAlC,GAAsCiyD,UAAtC,GAAmD,KAAhE;AACAC,QAAAA,eAAe,GAAGA,eAAe,IAAIA,eAAe,CAAClyD,MAAhB,GAAyB,CAA5C,GAAgDkyD,eAAhD,GAAkE,KAApF;AAEA,cAAME,YAAY,GAAG,CAAClB,UAAtB;AACA,cAAMmB,cAAc,GAAGD,YAAY,IAAI,CAACF,eAAjB,IAAoC,CAACD,UAA5D;AACA,YAAI7H,QAAQ,GAAGhlC,KAAK,CAACU,cAArB;AACA,YAAIukC,QAAQ,GAAGjlC,KAAK,CAACI,WAArB;AACA,YAAI8kC,MAAM,GAAGllC,KAAK,CAACY,YAAnB;AACA,YAAIukC,MAAM,GAAGnlC,KAAK,CAACK,SAAnB;;AAEA,YAAK4sC,cAAc,IAAIjtC,KAAK,CAAC+lC,SAAxB,IAAqCvvD,IAAI,CAACyiB,eAAL,CAAqB+rC,QAAQ,CAACv8C,UAA9B,CAArC,IAAkFjS,IAAI,CAACyiB,eAAL,CAAqBisC,MAAM,CAACz8C,UAA5B,CAAnF,IAAgIu8C,QAAQ,KAAKE,MAAb,IAAuBF,QAAQ,CAACx8C,QAAT,KAAsB,CAA7C,IAAkDhS,IAAI,CAACy0C,aAAL,CAAmB+Z,QAAnB,CAAtL,EAAqN;AACjN;AACH;;AAED,YAAIhlC,KAAK,CAAC+lC,SAAN,IAAmB,CAACkH,cAAxB,EAAwC;AACpC,cAAIjI,QAAQ,CAACx8C,QAAT,KAAsB,CAAtB,IAA2B,CAAChS,IAAI,CAACy2C,OAAL,CAAa+X,QAAb,CAA5B,IAAsD,CAACxuD,IAAI,CAACkZ,WAAL,CAAiBs1C,QAAjB,CAA3D,EAAuF;AACnF,gBAAIiE,SAAS,GAAG,IAAhB;AACA,kBAAMjD,SAAS,GAAGhB,QAAQ,CAACv/B,UAAT,CAAoBw/B,QAApB,CAAlB;;AAEA,gBAAIe,SAAJ,EAAe;AACX,kBAAI,CAACA,SAAS,CAACjqC,WAAf,EAA4B;AACxBktC,gBAAAA,SAAS,GAAG,IAAZ;AACH,eAFD,MAEO;AACHA,gBAAAA,SAAS,GAAGzyD,IAAI,CAACy2C,OAAL,CAAa+Y,SAAb,IAA0BA,SAA1B,GAAsCA,SAAS,CAACjqC,WAA5D;AACH;AACJ;;AAED,kBAAMguC,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACAmpC,YAAAA,QAAQ,CAAClpC,YAAT,CAAsBiuC,SAAtB,EAAiCd,SAAjC;AACA,iBAAKv2C,QAAL,CAAcq3C,SAAd,EAAyB,CAAzB,EAA4BA,SAA5B,EAAuC,CAAvC;AAEA/pC,YAAAA,KAAK,GAAG,KAAKC,QAAL,EAAR;AACA+kC,YAAAA,QAAQ,GAAGhlC,KAAK,CAACU,cAAjB;AACAukC,YAAAA,QAAQ,GAAGjlC,KAAK,CAACI,WAAjB;AACA8kC,YAAAA,MAAM,GAAGllC,KAAK,CAACY,YAAf;AACAukC,YAAAA,MAAM,GAAGnlC,KAAK,CAACK,SAAf;AACH;AACJ;;AAED,YAAI7pB,IAAI,CAACyiB,eAAL,CAAqB+rC,QAArB,CAAJ,EAAoC;AAChCA,UAAAA,QAAQ,GAAGA,QAAQ,CAACv/B,UAAT,CAAoBw/B,QAApB,KAAiCD,QAAQ,CAACllC,UAArD;AACAmlC,UAAAA,QAAQ,GAAG,CAAX;AACH;;AACD,YAAIzuD,IAAI,CAACyiB,eAAL,CAAqBisC,MAArB,CAAJ,EAAkC;AAC9BA,UAAAA,MAAM,GAAGA,MAAM,CAACz/B,UAAP,CAAkB0/B,MAAlB,KAA6BD,MAAM,CAAC/W,SAA7C;AACAgX,UAAAA,MAAM,GAAGD,MAAM,CAACvyC,WAAP,CAAmB/X,MAA5B;AACH;;AAED,YAAIoyD,YAAJ,EAAkB;AACdlB,UAAAA,UAAU,GAAGt1D,IAAI,CAACC,aAAL,CAAmB,KAAnB,CAAb;AACH;;AAED,cAAM48C,OAAO,GAAG34C,EAAE,CAAC+tC,MAAnB;AACA,cAAMykB,WAAW,GAAGpB,UAAU,CAACruD,QAA/B;AAEA;;AACA,YAAI,CAACwvD,cAAD,IAAmBjI,QAAQ,KAAKE,MAAhC,IAA0C,CAAC4H,eAA3C,IAA8DhB,UAAlE,EAA8E;AAC1E,cAAIqB,KAAK,GAAGnI,QAAZ;AACA,cAAIoI,QAAQ,GAAG,CAAf;AACA,gBAAMC,UAAU,GAAG,EAAnB;AAEA,gBAAM34B,WAAW,GAAGo3B,UAAU,CAACl1D,KAA/B;;AACA,eAAK,IAAItD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGw4B,WAAW,CAAC95B,MAAlC,EAA0CtH,CAAC,GAAG4I,GAA9C,EAAmD5I,CAAC,EAApD,EAAwD;AACpD+5D,YAAAA,UAAU,CAAC3vD,IAAX,CAAgBg3B,WAAW,CAACphC,CAAD,CAA3B;AACH;;AAED,gBAAMg6D,YAAY,GAAGxB,UAAU,CAACh4C,SAAhC;;AACA,eAAK,IAAIxgB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGoxD,YAAY,CAAC1yD,MAAnC,EAA2CtH,CAAC,GAAG4I,GAA/C,EAAoD5I,CAAC,EAArD,EAAyD;AACrD+5D,YAAAA,UAAU,CAAC3vD,IAAX,CAAgB,MAAM4vD,YAAY,CAACh6D,CAAD,CAAlC;AACH;;AAED,cAAI+5D,UAAU,CAACzyD,MAAX,GAAoB,CAAxB,EAA2B;AACvB,mBAAM,CAACpE,IAAI,CAACyiB,eAAL,CAAqBk0C,KAArB,CAAD,IAAgC,CAAC32D,IAAI,CAAC+R,YAAL,CAAkB4kD,KAAlB,CAAvC,EAAiE;AAC7D,mBAAK,IAAI75D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+5D,UAAU,CAACzyD,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,oBAAI65D,KAAK,CAAC3kD,QAAN,KAAmB,CAAvB,EAA0B;AACtB,wBAAMlT,CAAC,GAAG+3D,UAAU,CAAC/5D,CAAD,CAApB;AACA,wBAAMi6D,QAAQ,GAAG,MAAM91D,IAAN,CAAWnC,CAAX,IAAgB,IAAI+9C,OAAJ,CAAY,SAAS/9C,CAAC,CAAC0Y,OAAF,CAAU,KAAV,EAAiB,EAAjB,CAAT,GAAgC,UAA5C,EAAwD,IAAxD,CAAhB,GAAgF,KAAjG;AAEA,wBAAMw/C,UAAU,GAAGR,YAAY,GAAG,CAAC,CAACG,KAAK,CAACv2D,KAAN,CAAYtB,CAAZ,CAAL,GAAuB,CAAC,CAAC63D,KAAK,CAACv2D,KAAN,CAAYtB,CAAZ,CAAF,IAAoB,CAAC,CAACw2D,UAAU,CAACl1D,KAAX,CAAiBtB,CAAjB,CAAtB,IAA6C63D,KAAK,CAACv2D,KAAN,CAAYtB,CAAZ,MAAmBw2D,UAAU,CAACl1D,KAAX,CAAiBtB,CAAjB,CAAtH;AACA,wBAAMm4D,UAAU,GAAGF,QAAQ,KAAK,KAAb,GAAqB,KAArB,GAA6BP,YAAY,GAAG,CAAC,CAACG,KAAK,CAACz2D,SAAN,CAAgBmS,KAAhB,CAAsB0kD,QAAtB,CAAL,GAAuC,CAAC,CAACJ,KAAK,CAACz2D,SAAN,CAAgBmS,KAAhB,CAAsB0kD,QAAtB,CAAF,IAAqC,CAAC,CAACzB,UAAU,CAACp1D,SAAX,CAAqBmS,KAArB,CAA2B0kD,QAA3B,CAA1I;;AACA,sBAAIC,UAAU,IAAIC,UAAlB,EAA8B;AAC1BL,oBAAAA,QAAQ;AACX;AACJ;AACJ;;AACDD,cAAAA,KAAK,GAAGA,KAAK,CAAC1kD,UAAd;AACH;;AAED,gBAAI2kD,QAAQ,IAAIC,UAAU,CAACzyD,MAA3B,EAAmC;AACtC;AACJ;;AAED,YAAI8yD,KAAK,GAAG,EAAZ;AAAA,YAAgBC,GAAG,GAAG,EAAtB;AACA,YAAI1vC,OAAJ;AAAA,YAAa2vC,WAAW,GAAG,EAA3B;AAAA,YAA+BC,WAAW,GAAG,EAA7C;AAAA,YAAiDC,gBAAgB,GAAG,EAApE;;AAEA,YAAIjB,UAAJ,EAAgB;AACZ,eAAK,IAAIv5D,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG2wD,UAAU,CAACjyD,MAA5B,EAAoCtF,CAAzC,EAA4ChC,CAAC,GAAG4I,GAAhD,EAAqD5I,CAAC,EAAtD,EAA0D;AACtDgC,YAAAA,CAAC,GAAGu3D,UAAU,CAACv5D,CAAD,CAAd;;AACA,gBAAI,MAAMmE,IAAN,CAAWnC,CAAX,CAAJ,EAAmB;AACfu4D,cAAAA,WAAW,IAAI,CAACA,WAAW,GAAG,GAAH,GAAS,SAArB,IAAkCv4D,CAAC,CAAC0Y,OAAF,CAAU,KAAV,EAAiB,EAAjB,CAAjD;AACH,aAFD,MAEO;AACH4/C,cAAAA,WAAW,IAAI,CAACA,WAAW,GAAG,GAAH,GAAS,gBAArB,IAAyCt4D,CAAxD;AACH;AACJ;;AAED,cAAIs4D,WAAJ,EAAiB;AACbA,YAAAA,WAAW,IAAI,wBAAf;AACAA,YAAAA,WAAW,GAAG,IAAIva,OAAJ,CAAYua,WAAZ,EAAyB,IAAzB,CAAd;AACH;;AAED,cAAIC,WAAJ,EAAiB;AACbA,YAAAA,WAAW,IAAI,aAAf;AACAA,YAAAA,WAAW,GAAG,IAAIxa,OAAJ,CAAYwa,WAAZ,EAAyB,IAAzB,CAAd;AACH;AACJ;;AAED,YAAIf,eAAJ,EAAqB;AACjBgB,UAAAA,gBAAgB,GAAG,SAAShB,eAAe,CAAC,CAAD,CAA3C;;AACA,eAAK,IAAIx5D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGw5D,eAAe,CAAClyD,MAApC,EAA4CtH,CAAC,EAA7C,EAAiD;AAC7Cw6D,YAAAA,gBAAgB,IAAI,MAAMhB,eAAe,CAACx5D,CAAD,CAAzC;AACH;;AACDw6D,UAAAA,gBAAgB,IAAI,IAApB;AACAA,UAAAA,gBAAgB,GAAG,IAAIza,OAAJ,CAAYya,gBAAZ,EAA8B,GAA9B,CAAnB;AACH;AAED;;;AACA,cAAMC,QAAQ,GAAGrzD,EAAE,CAACszD,OAApB;AACA,cAAMC,YAAY,GAAG;AAACn2C,UAAAA,CAAC,EAAE;AAAJ,SAArB;;AACA,cAAMyzB,UAAU,GAAG,UAAU2iB,SAAV,EAAqB;AACpC,gBAAMC,KAAK,GAAGD,SAAS,CAAC3wC,SAAV,CAAoB,KAApB,CAAd,CADoC,CAGpC;;AACA,cAAI4wC,KAAK,CAAC3lD,QAAN,KAAmB,CAAnB,IAAwBhS,IAAI,CAACy2C,OAAL,CAAakhB,KAAb,CAA5B,EAAiD,OAAOA,KAAP,CAJb,CAKpC;;AACA,cAAIlB,cAAJ,EAAoB,OAAO,IAAP,CANgB,CAQpC;;AACA,gBAAMmB,SAAS,GAAI,CAACN,gBAAD,IAAqBd,YAAtB,IAAwCc,gBAAgB,IAAIA,gBAAgB,CAACr2D,IAAjB,CAAsB02D,KAAK,CAAC1wD,QAA5B,CAA9E,CAToC,CAWpC;;AACA,cAAI2wD,SAAS,IAAI,CAACrB,YAAlB,EAAgC;AAC5BkB,YAAAA,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AACA,mBAAO,IAAP;AACH,WAfmC,CAiBpC;;;AACA,gBAAMu2C,WAAW,GAAGF,KAAK,CAACv3D,KAAN,CAAY+9B,OAAhC;AACA,cAAI/9B,KAAK,GAAG,EAAZ;;AACA,cAAIg3D,WAAW,IAAIS,WAAW,CAACzzD,MAAZ,GAAqB,CAAxC,EAA2C;AACvChE,YAAAA,KAAK,GAAGy3D,WAAW,CAACrgD,OAAZ,CAAoB4/C,WAApB,EAAiC,EAAjC,EAAqC71C,IAArC,EAAR;AACA,gBAAInhB,KAAK,KAAKy3D,WAAd,EAA2BJ,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AAC9B,WAvBmC,CAyBpC;;;AACA,gBAAMw2C,aAAa,GAAGH,KAAK,CAACz3D,SAA5B;AACA,cAAIk+B,OAAO,GAAG,EAAd;;AACA,cAAIi5B,WAAW,IAAIS,aAAa,CAAC1zD,MAAd,GAAuB,CAA1C,EAA6C;AACzCg6B,YAAAA,OAAO,GAAG05B,aAAa,CAACtgD,OAAd,CAAsB6/C,WAAtB,EAAmC,EAAnC,EAAuC91C,IAAvC,EAAV;AACA,gBAAI6c,OAAO,KAAK05B,aAAhB,EAA+BL,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AAClC,WA/BmC,CAiCpC;;;AACA,cAAIk1C,YAAJ,EAAkB;AACd,gBAAI,CAACa,WAAW,IAAI,CAACS,aAAjB,MAAoCV,WAAW,IAAI,CAACS,WAApD,KAAoE,CAACz3D,KAArE,IAA8E,CAACg+B,OAA/E,IAA0Fw5B,SAA9F,EAAyG;AACrGH,cAAAA,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AACA,qBAAO,IAAP;AACH;AACJ,WAvCmC,CAyCpC;;;AACA,cAAIlhB,KAAK,IAAIg+B,OAAT,IAAoBu5B,KAAK,CAAC1wD,QAAN,KAAmByvD,WAAvC,IAAuDa,QAAQ,CAACH,WAAD,CAAR,KAA0BG,QAAQ,CAACM,WAAD,CAAzF,IAA4GN,QAAQ,CAACF,WAAD,CAAR,KAA0BE,QAAQ,CAACO,aAAD,CAAlJ,EAAoK;AAChK,gBAAIV,WAAW,IAAIS,WAAW,CAACzzD,MAAZ,GAAqB,CAAxC,EAA2CuzD,KAAK,CAACv3D,KAAN,CAAY+9B,OAAZ,GAAsB/9B,KAAtB;;AAC3C,gBAAI,CAACu3D,KAAK,CAACv3D,KAAN,CAAY+9B,OAAjB,EAA0B;AACtBw5B,cAAAA,KAAK,CAACtwD,eAAN,CAAsB,OAAtB;AACH;;AAED,gBAAIgwD,WAAW,IAAIS,aAAa,CAAC1zD,MAAd,GAAuB,CAA1C,EAA6CuzD,KAAK,CAACz3D,SAAN,GAAkBk+B,OAAO,CAAC7c,IAAR,EAAlB;;AAC7C,gBAAI,CAACo2C,KAAK,CAACz3D,SAAN,CAAgBqhB,IAAhB,EAAL,EAA6B;AACzBo2C,cAAAA,KAAK,CAACtwD,eAAN,CAAsB,OAAtB;AACH;;AAED,gBAAI,CAACswD,KAAK,CAACv3D,KAAN,CAAY+9B,OAAb,IAAwB,CAACw5B,KAAK,CAACz3D,SAA/B,KAA6Cy3D,KAAK,CAAC1wD,QAAN,KAAmByvD,WAAnB,IAAkCkB,SAA/E,CAAJ,EAA+F;AAC3FH,cAAAA,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AACA,qBAAO,IAAP;AACH;;AAED,mBAAOq2C,KAAP;AACH;;AAEDF,UAAAA,YAAY,CAACn2C,CAAb,GAAiB,IAAjB;AACA,iBAAO,IAAP;AACH,SA/DD,CAnIyE,CAoMzE;;;AACA,cAAMsvC,SAAS,GAAG,KAAK/tC,mBAAL,CAAyB,IAAzB,CAAlB;AACA2G,QAAAA,KAAK,GAAG,KAAKC,QAAL,EAAR;AACA+kC,QAAAA,QAAQ,GAAGhlC,KAAK,CAACU,cAAjB;AACAukC,QAAAA,QAAQ,GAAGjlC,KAAK,CAACI,WAAjB;AACA8kC,QAAAA,MAAM,GAAGllC,KAAK,CAACY,YAAf;AACAukC,QAAAA,MAAM,GAAGnlC,KAAK,CAACK,SAAf;;AAEA,YAAI,CAAC7pB,IAAI,CAAC+rB,gBAAL,CAAsByiC,QAAtB,EAAgC,IAAhC,CAAL,EAA4C;AACxCA,UAAAA,QAAQ,GAAGxuD,IAAI,CAACga,eAAL,CAAqB42C,SAAS,CAAC,CAAD,CAA9B,EAAmC,UAAU30C,OAAV,EAAmB;AAAE,mBAAOA,OAAO,CAACjK,QAAR,KAAqB,CAA5B;AAAgC,WAAxF,EAA0F,KAA1F,CAAX;AACAy8C,UAAAA,QAAQ,GAAG,CAAX;AACH;;AAED,YAAI,CAACzuD,IAAI,CAAC+rB,gBAAL,CAAsB2iC,MAAtB,EAA8B,IAA9B,CAAL,EAA0C;AACtCA,UAAAA,MAAM,GAAG1uD,IAAI,CAACga,eAAL,CAAqB42C,SAAS,CAACA,SAAS,CAACxsD,MAAV,GAAmB,CAApB,CAA9B,EAAsD,UAAU6X,OAAV,EAAmB;AAAE,mBAAOA,OAAO,CAACjK,QAAR,KAAqB,CAA5B;AAAgC,WAA3G,EAA6G,KAA7G,CAAT;AACA28C,UAAAA,MAAM,GAAGD,MAAM,CAACvyC,WAAP,CAAmB/X,MAA5B;AACH;;AAGD,cAAM2zD,OAAO,GAAG/3D,IAAI,CAAC+rB,gBAAL,CAAsByiC,QAAtB,EAAgC,IAAhC,MAA0CxuD,IAAI,CAAC+rB,gBAAL,CAAsB2iC,MAAtB,EAA8B,IAA9B,CAA1D;AACA,cAAMsJ,SAAS,GAAGpH,SAAS,CAACxsD,MAAV,IAAoB2zD,OAAO,GAAG,CAAH,GAAO,CAAlC,CAAlB,CAxNyE,CA0NzE;;AACAtwC,QAAAA,OAAO,GAAG6tC,UAAU,CAACvuC,SAAX,CAAqB,KAArB,CAAV;;AAEA,cAAMkxC,cAAc,GAAGxB,cAAc,IAAKD,YAAY,IAAK,UAAU3+B,GAAV,EAAe;AACtE,eAAK,IAAIv5B,CAAC,GAAG,CAAR,EAAWoH,GAAG,GAAGmyB,GAAG,CAACzzB,MAA1B,EAAkC9F,CAAC,GAAGoH,GAAtC,EAA2CpH,CAAC,EAA5C,EAAgD;AAC5C,gBAAI0B,IAAI,CAACi7C,iBAAL,CAAuBpjB,GAAG,CAACv5B,CAAD,CAA1B,KAAkC0B,IAAI,CAACk7C,WAAL,CAAiBrjB,GAAG,CAACv5B,CAAD,CAApB,CAAtC,EAAgE,OAAO,IAAP;AACnE;;AACD,iBAAO,KAAP;AACH,SALyD,CAKvDg4D,eALuD,CAA1D;;AAOA,cAAM4B,UAAU,GAAGl4D,IAAI,CAACk7C,WAAL,CAAiBzzB,OAAjB,CAAnB;;AACA,cAAM0wC,kBAAkB,GAAG,KAAKC,uBAAL,CAA6B/5D,IAA7B,CAAkC2B,IAAlC,EAAwCi4D,cAAxC,EAAwDC,UAAxD,CAA3B;;AACA,cAAMjd,iBAAiB,GAAG,KAAKod,sBAAL,CAA4Bh6D,IAA5B,CAAiC2B,IAAjC,EAAuCi4D,cAAvC,EAAuDC,UAAvD,CAA1B,CAtOyE,CAwOzE;;;AACA,YAAIH,OAAJ,EAAa;AACT,gBAAMzE,QAAQ,GAAG,KAAKgF,mBAAL,CAAyB1H,SAAS,CAAC,CAAD,CAAlC,EAAuCnpC,OAAvC,EAAgDstB,UAAhD,EAA4DyZ,QAA5D,EAAsEC,QAAtE,EAAgFC,MAAhF,EAAwFC,MAAxF,EAAgG8H,cAAhG,EAAgHD,YAAhH,EAA8HhtC,KAAK,CAAC+lC,SAApI,EAA+IkI,YAA/I,EAA6JU,kBAA7J,EAAiLld,iBAAjL,CAAjB;;AACAic,UAAAA,KAAK,CAACt0D,SAAN,GAAkB0wD,QAAQ,CAACppC,cAA3B;AACAgtC,UAAAA,KAAK,CAAC1+C,MAAN,GAAe86C,QAAQ,CAAC1pC,WAAxB;AACAutC,UAAAA,GAAG,CAACv0D,SAAJ,GAAgB0wD,QAAQ,CAAClpC,YAAzB;AACA+sC,UAAAA,GAAG,CAAC3+C,MAAJ,GAAa86C,QAAQ,CAACzpC,SAAtB;;AACA,cAAIqtC,KAAK,CAACt0D,SAAN,KAAoBu0D,GAAG,CAACv0D,SAAxB,IAAqC5C,IAAI,CAACs7B,kBAAL,CAAwB47B,KAAK,CAACt0D,SAA9B,CAAzC,EAAmF;AAC/Es0D,YAAAA,KAAK,CAAC1+C,MAAN,GAAe2+C,GAAG,CAAC3+C,MAAJ,GAAa,CAA5B;AACH;;AACD,eAAK+/C,mBAAL,CAAyBjF,QAAQ,CAAClc,QAAlC,EAA4C,IAA5C;AACH,SAVD,MAUO;AAAE;AACL;AACA,cAAI4gB,SAAS,GAAG,CAAhB,EAAmB;AACfvwC,YAAAA,OAAO,GAAG6tC,UAAU,CAACvuC,SAAX,CAAqB,KAArB,CAAV;AACAowC,YAAAA,GAAG,GAAG,KAAKqB,mBAAL,CAAyB5H,SAAS,CAACoH,SAAD,CAAlC,EAA+CvwC,OAA/C,EAAwDstB,UAAxD,EAAoE2Z,MAApE,EAA4EC,MAA5E,EAAoF8H,cAApF,EAAoGD,YAApG,EAAkHiB,YAAlH,EAAgIU,kBAAhI,EAAoJld,iBAApJ,CAAN;AACH,WALE,CAOH;;;AACA,eAAK,IAAIn+C,CAAC,GAAGk7D,SAAS,GAAG,CAApB,EAAuB1E,QAA5B,EAAsCx2D,CAAC,GAAG,CAA1C,EAA6CA,CAAC,EAA9C,EAAkD;AAC9C2qB,YAAAA,OAAO,GAAG6tC,UAAU,CAACvuC,SAAX,CAAqB,KAArB,CAAV;AACAusC,YAAAA,QAAQ,GAAG,KAAKmF,sBAAL,CAA4B7H,SAAS,CAAC9zD,CAAD,CAArC,EAA0C2qB,OAA1C,EAAmDstB,UAAnD,EAA+D0hB,cAA/D,EAA+ED,YAA/E,EAA6FiB,YAA7F,EAA2GN,GAAG,CAACv0D,SAA/G,CAAX;;AACA,gBAAI0wD,QAAQ,CAAClpC,YAAb,EAA2B;AACvB+sC,cAAAA,GAAG,CAAC/f,QAAJ,GAAe,IAAf;AACA+f,cAAAA,GAAG,CAACv0D,SAAJ,GAAgB0wD,QAAQ,CAAClpC,YAAzB;AACH;;AACD,iBAAKmuC,mBAAL,CAAyBjF,QAAQ,CAAClc,QAAlC,EAA4C,IAA5C;AACH,WAhBE,CAkBH;;;AACA3vB,UAAAA,OAAO,GAAG6tC,UAAU,CAACvuC,SAAX,CAAqB,KAArB,CAAV;AACAmwC,UAAAA,KAAK,GAAG,KAAKwB,qBAAL,CAA2B9H,SAAS,CAAC,CAAD,CAApC,EAAyCnpC,OAAzC,EAAkDstB,UAAlD,EAA8DyZ,QAA9D,EAAwEC,QAAxE,EAAkFgI,cAAlF,EAAkGD,YAAlG,EAAgHiB,YAAhH,EAA8HU,kBAA9H,EAAkJld,iBAAlJ,EAAqKkc,GAAG,CAACv0D,SAAzK,CAAR;;AAEA,cAAIs0D,KAAK,CAAC9sC,YAAV,EAAwB;AACpB+sC,YAAAA,GAAG,CAAC/f,QAAJ,GAAe,IAAf;AACA+f,YAAAA,GAAG,CAACv0D,SAAJ,GAAgBs0D,KAAK,CAAC9sC,YAAtB;AACH;;AAED,cAAI4tC,SAAS,IAAI,CAAjB,EAAoB;AAChBb,YAAAA,GAAG,GAAGD,KAAN;AACH,WAFD,MAEO,IAAI,CAACC,GAAG,CAACv0D,SAAT,EAAoB;AACvBu0D,YAAAA,GAAG,CAAC/f,QAAJ,GAAe,IAAf;AACA+f,YAAAA,GAAG,CAACv0D,SAAJ,GAAgBs0D,KAAK,CAACt0D,SAAtB;AACAu0D,YAAAA,GAAG,CAAC3+C,MAAJ,GAAa0+C,KAAK,CAACt0D,SAAN,CAAgBuZ,WAAhB,CAA4B/X,MAAzC;AACH;;AAED,eAAKm0D,mBAAL,CAAyBrB,KAAK,CAAC9f,QAA/B,EAAyC,IAAzC;;AACA,eAAKmhB,mBAAL,CAAyBpB,GAAG,CAAC/f,QAAJ,IAAgBp3C,IAAI,CAAC+rB,gBAAL,CAAsBorC,GAAG,CAACv0D,SAA1B,CAAzC,EAA+E,IAA/E;AACH,SAxRwE,CA0RzE;;;AACA,aAAKwZ,cAAL;AACA,aAAKF,QAAL,CAAcg7C,KAAK,CAACt0D,SAApB,EAA+Bs0D,KAAK,CAAC1+C,MAArC,EAA6C2+C,GAAG,CAACv0D,SAAjD,EAA4Du0D,GAAG,CAAC3+C,MAAhE,EA5RyE,CA8RzE;;AACA,aAAK8D,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OAt8EQ;;AAw8ET;;;;;;AAMAqxD,MAAAA,mBAAmB,EAAE,UAAUnoC,EAAV,EAAcipB,KAAd,EAAqB;AACtC,YAAI,CAACr5C,IAAI,CAACitB,UAAL,CAAgBmD,EAAhB,CAAL,EAA0B;AAC1B,YAAI,CAACipB,KAAL,EAAYjpB,EAAE,CAAC/oB,eAAH,CAAmB,OAAnB;AAEZ,cAAMkoB,QAAQ,GAAGvvB,IAAI,CAACq1C,YAAL,CAAkB,CAACgE,KAAK,IAAIjpB,EAAV,EAAcnB,UAAhC,EAA4C,UAAUhT,OAAV,EAAmB;AAAE,iBAAO,CAACjc,IAAI,CAACy2C,OAAL,CAAax6B,OAAb,CAAD,IAA0B,CAACjc,IAAI,CAACs7B,kBAAL,CAAwBrf,OAAO,CAACE,WAAR,CAAoBoF,IAApB,EAAxB,CAAlC;AAAwF,SAAzJ,EAA2J,IAA3J,CAAjB;;AACA,YAAIgO,QAAQ,CAAC,CAAD,CAAR,IAAeA,QAAQ,CAACnrB,MAAT,KAAoB,CAAvC,EAAyC;AACrCi1C,UAAAA,KAAK,GAAG9pB,QAAQ,CAAC,CAAD,CAAhB;AACA,cAAI,CAAC8pB,KAAD,IAAUA,KAAK,CAACrnC,QAAN,KAAmB,CAAjC,EAAoC;AAEpC,gBAAM2mD,UAAU,GAAGtf,KAAK,CAACj5C,KAAzB;AACA,gBAAMw4D,OAAO,GAAGxoC,EAAE,CAAChwB,KAAnB,CALqC,CAOrC;;AACA,cAAI,UAAUa,IAAV,CAAeo4C,KAAK,CAACpyC,QAArB,CAAJ,EAAoC2xD,OAAO,CAACC,UAAR,GAAqB,MAArB,CAApC,CAAiE;AAAjE,eACK,IAAIF,UAAU,CAACE,UAAf,EAA2BD,OAAO,CAACC,UAAR,GAAqBF,UAAU,CAACE,UAAhC,CATK,CAWrC;;AACA,cAAIF,UAAU,CAAC/nD,KAAf,EAAsBgoD,OAAO,CAAChoD,KAAR,GAAgB+nD,UAAU,CAAC/nD,KAA3B,CAZe,CAYmB;;AACxD,cAAI+nD,UAAU,CAACtvD,QAAf,EAAyBuvD,OAAO,CAACvvD,QAAR,GAAmBsvD,UAAU,CAACtvD,QAA9B,CAbY,CAa4B;;AAEjE,eAAKkvD,mBAAL,CAAyBnoC,EAAzB,EAA6BipB,KAA7B;AACH;AACJ,OAp+EQ;;AAs+ET;;;;;AAKAyf,MAAAA,gBAAgB,EAAE,UAAU7G,UAAV,EAAsB;AACpC,cAAMnxD,OAAO,GAAGmxD,UAAU,CAAChgD,UAA3B;AACA,YAAI,CAACggD,UAAD,IAAeA,UAAU,CAACjgD,QAAX,KAAwB,CAAvC,IAA4C,CAAClR,OAAjD,EAA0D;AAE1D,cAAMyuB,QAAQ,GAAG0iC,UAAU,CAAChjC,UAA5B;;AACA,eAAOM,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChBzuB,UAAAA,OAAO,CAACwkB,YAAR,CAAqBiK,QAAQ,CAAC,CAAD,CAA7B,EAAkC0iC,UAAlC;AACH;;AAEDnxD,QAAAA,OAAO,CAAC8vB,WAAR,CAAoBqhC,UAApB;AACH,OAr/EQ;;AAu/ET;;;;;;AAMAmG,MAAAA,uBAAuB,EAAE,UAAUW,SAAV,EAAqB7d,WAArB,EAAkCp6C,OAAlC,EAA2C;AAChE,YAAI,CAACA,OAAD,IAAYi4D,SAAhB,EAA2B,OAAO,IAAP;AAC3B,eAAO,KAAKjyD,gBAAL,CAAsBhG,OAAtB,EAA+B,KAAKm6C,iBAAL,CAAuB58C,IAAvB,CAA4B,IAA5B,CAA/B,MAAsE,CAAC68C,WAAD,GAAe,KAAKp0C,gBAAL,CAAsBhG,OAAtB,EAA+B,KAAKo6C,WAAL,CAAiB78C,IAAjB,CAAsB,IAAtB,CAA/B,CAAf,GAA6E,IAAnJ,CAAP;AACH,OAhgFQ;;AAkgFT;;;;;;AAMAg6D,MAAAA,sBAAsB,EAAE,UAAUU,SAAV,EAAqB7d,WAArB,EAAkCp6C,OAAlC,EAA2C;AAC/D,YAAI,CAACA,OAAD,IAAYi4D,SAAZ,IAAyBj4D,OAAO,CAACkR,QAAR,KAAqB,CAAlD,EAAqD,OAAO,KAAP;;AACrD,cAAM20B,MAAM,GAAG,KAAKsU,iBAAL,CAAuBn6C,OAAvB,CAAf;;AACA,eAAO,KAAKgG,gBAAL,CAAsBhG,OAAtB,EAA+B,KAAKm6C,iBAAL,CAAuB58C,IAAvB,CAA4B,IAA5B,CAA/B,IAAoEsoC,MAApE,GAA8EA,MAAM,KAAK,CAACuU,WAAD,GAAe,KAAKA,WAAL,CAAiBp6C,OAAjB,CAAf,GAA2C,KAAhD,CAA3F;AACH,OA5gFQ;;AA8gFT;;;;;;;;;;;;;;;AAeAw3D,MAAAA,mBAAmB,EAAE,UAAUx3D,OAAV,EAAmBk4D,YAAnB,EAAiCjkB,UAAjC,EAA6CyZ,QAA7C,EAAuDC,QAAvD,EAAiEC,MAAjE,EAAyEC,MAAzE,EAAiF8H,cAAjF,EAAiGD,YAAjG,EAA+GjH,SAA/G,EAA0HkI,YAA1H,EAAwIU,kBAAxI,EAA4Jld,iBAA5J,EAA+K;AAChM;AACA,YAAIge,SAAS,GAAGzK,QAAQ,CAACv8C,UAAzB;;AACA,eAAO,CAACgnD,SAAS,CAAC1zC,WAAX,IAA0B,CAAC0zC,SAAS,CAAC9tC,eAArC,IAAwD,CAACnrB,IAAI,CAACyiB,eAAL,CAAqBw2C,SAAS,CAAChnD,UAA/B,CAAzD,IAAuG,CAACjS,IAAI,CAAC+R,YAAL,CAAkBknD,SAAS,CAAChnD,UAA5B,CAA/G,EAAwJ;AACpJ,cAAIgnD,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAAxC,EAAkD;AAClDgyD,UAAAA,SAAS,GAAGA,SAAS,CAAChnD,UAAtB;AACH;;AAED,YAAI,CAACukD,YAAD,IAAiByC,SAAS,KAAKvK,MAAM,CAACz8C,UAAtC,IAAoDgnD,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAA5F,EAAsG;AAClG,cAAIjH,IAAI,CAACs7B,kBAAL,CAAwBkzB,QAAQ,CAACryC,WAAT,CAAqBvW,KAArB,CAA2B,CAA3B,EAA8B6oD,QAA9B,CAAxB,KAAoEzuD,IAAI,CAACs7B,kBAAL,CAAwBozB,MAAM,CAACvyC,WAAP,CAAmBvW,KAAnB,CAAyB+oD,MAAzB,CAAxB,CAAxE,EAAmI;AAC/H,kBAAMp/B,QAAQ,GAAG0pC,SAAS,CAAChqC,UAA3B;AACA,gBAAIiqC,OAAO,GAAG,IAAd;;AAEA,iBAAK,IAAIp8D,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B,EAAkClH,CAAlC,EAAqC4B,CAArC,EAAwCkC,CAAxC,EAA2Cm4D,CAAhD,EAAmDr8D,CAAC,GAAG4I,GAAvD,EAA4D5I,CAAC,EAA7D,EAAiE;AAC7DI,cAAAA,CAAC,GAAGqyB,QAAQ,CAACzyB,CAAD,CAAZ;AACAq8D,cAAAA,CAAC,GAAG,CAACn5D,IAAI,CAACs7B,kBAAL,CAAwBp+B,CAAxB,CAAL;;AACA,kBAAIA,CAAC,KAAKsxD,QAAV,EAAoB;AAChB1vD,gBAAAA,CAAC,GAAG,IAAJ;AACA;AACH;;AACD,kBAAI5B,CAAC,KAAKwxD,MAAV,EAAkB;AACd1tD,gBAAAA,CAAC,GAAG,IAAJ;AACA;AACH;;AACD,kBAAK,CAAClC,CAAD,IAAMq6D,CAAP,IAAcr6D,CAAC,IAAIkC,CAAL,IAAUm4D,CAA5B,EAAgC;AAC5BD,gBAAAA,OAAO,GAAG,KAAV;AACA;AACH;AACJ;;AAED,gBAAIA,OAAJ,EAAa;AACTl5D,cAAAA,IAAI,CAACk1C,iBAAL,CAAuB+jB,SAAvB,EAAkCD,YAAlC;AAEA,qBAAO;AACH9uC,gBAAAA,cAAc,EAAEskC,QADb;AAEH5kC,gBAAAA,WAAW,EAAE6kC,QAFV;AAGHrkC,gBAAAA,YAAY,EAAEskC,MAHX;AAIH7kC,gBAAAA,SAAS,EAAE8kC;AAJR,eAAP;AAMH;AACJ;AACJ,SAzC+L,CA2ChM;;;AACA8I,QAAAA,YAAY,CAACn2C,CAAb,GAAiB,KAAjB;AACA,cAAM8O,EAAE,GAAGtvB,OAAX;AACA,cAAMs4D,UAAU,GAAG,CAACJ,YAAD,CAAnB;AACA,cAAMK,KAAK,GAAGv4D,OAAO,CAACimB,SAAR,CAAkB,KAAlB,CAAd;AACA,cAAMuyC,UAAU,GAAG9K,QAAQ,KAAKE,MAAhC;AACA,YAAIxkC,cAAc,GAAGskC,QAArB;AACA,YAAI5kC,WAAW,GAAG6kC,QAAlB;AACA,YAAIrkC,YAAY,GAAGskC,MAAnB;AACA,YAAI7kC,SAAS,GAAG8kC,MAAhB;AACA,YAAI4K,SAAS,GAAG,KAAhB;AACA,YAAIC,OAAO,GAAG,KAAd;AACA,YAAIC,QAAJ,EAAchyC,OAAd,EAAuB6tC,UAAvB,EAAmCn3B,OAAnC,EAA4CwxB,UAA5C;AAEA,cAAM9S,OAAO,GAAG34C,EAAE,CAAC+tC,MAAnB;;AACA,iBAASynB,QAAT,CAAmB/B,KAAnB,EAA0B;AACtB,gBAAM5kB,MAAM,GAAG,IAAI8J,OAAJ,CAAY,mBAAmB1e,OAAnB,GAA6B,4BAAzC,EAAuE,IAAvE,CAAf;AACA,cAAI/9B,KAAK,GAAG,EAAZ;;AAEA,cAAI2yC,MAAM,IAAI4kB,KAAK,CAACv3D,KAAN,CAAY+9B,OAAZ,CAAoB/5B,MAApB,GAA6B,CAA3C,EAA8C;AAC1ChE,YAAAA,KAAK,GAAG2yC,MAAM,CAAC9xC,IAAP,CAAY02D,KAAK,CAACv3D,KAAN,CAAY+9B,OAAxB,CAAR;AACH;;AAED,iBAAO,CAAC/9B,KAAR;AACH;;AAED,SAAC,SAAS02C,aAAT,CAAuB76B,OAAvB,EAAgCm7B,QAAhC,EAA0C;AACvC,gBAAMnoB,UAAU,GAAGhT,OAAO,CAACgT,UAA3B;;AAEA,eAAK,IAAInyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGupB,UAAU,CAAC7qB,MAA5B,EAAoCuzD,KAAzC,EAAgD76D,CAAC,GAAG4I,GAApD,EAAyD5I,CAAC,EAA1D,EAA8D;AAC1D,gBAAIu8C,KAAK,GAAGpqB,UAAU,CAACnyB,CAAD,CAAtB;AACA,gBAAI,CAACu8C,KAAL,EAAY;AACZ,gBAAIsgB,SAAS,GAAGviB,QAAhB;AACA,gBAAIrwB,SAAJ,CAJ0D,CAM1D;;AACA,gBAAI,CAACwyC,SAAD,IAAclgB,KAAK,KAAKnvB,cAA5B,EAA4C;AACxC,kBAAImnC,IAAI,GAAGgI,KAAX;AACA1J,cAAAA,UAAU,GAAGwI,kBAAkB,CAAC9e,KAAD,CAA/B;AACA,oBAAMugB,QAAQ,GAAG55D,IAAI,CAAColB,cAAL,CAAoB8E,cAAc,CAAClY,QAAf,KAA4B,CAA5B,GAAgC,EAAhC,GAAqCkY,cAAc,CAAC6pC,aAAf,CAA6B,CAA7B,EAAgCnqC,WAAhC,CAAzD,CAAjB;AACA,oBAAMkd,QAAQ,GAAG9mC,IAAI,CAAColB,cAAL,CAAoB8E,cAAc,CAAClY,QAAf,KAA4B,CAA5B,GAAgC,EAAhC,GAAqCkY,cAAc,CAAC6pC,aAAf,CAA6BnqC,WAA7B,EAClE0vC,UAAU,GACTzvC,SAAS,IAAID,WAAb,GAA2BC,SAAS,GAAGD,WAAvC,GAAqDM,cAAc,CAAC+T,IAAf,CAAoB75B,MAApB,GAA6BwlB,WADzE,GAEVM,cAAc,CAAC+T,IAAf,CAAoB75B,MAApB,GAA6BwlB,WAHqC,CAAzD,CAAjB;;AAMA,kBAAI+lC,UAAJ,EAAgB;AACZ,sBAAM98C,CAAC,GAAGslD,kBAAkB,CAAC/gB,QAAD,CAA5B;;AACA,oBAAIvkC,CAAC,IAAIA,CAAC,CAACZ,UAAF,KAAiBo/C,IAA1B,EAAgC;AAC5B,sBAAIp0D,CAAC,GAAG4V,CAAR;AACA,sBAAIhU,CAAC,GAAG,IAAR;;AACA,yBAAO5B,CAAC,CAACgV,UAAF,KAAiBo/C,IAAxB,EAA8B;AAC1Bja,oBAAAA,QAAQ,GAAGv4C,CAAC,GAAG5B,CAAC,CAACgV,UAAF,CAAa8U,SAAb,CAAuB,KAAvB,CAAf;;AACA,2BAAM9pB,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAN,EAAuB;AACnBpwB,sBAAAA,CAAC,CAAC0B,WAAF,CAActD,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAd;AACH;;AACDhyB,oBAAAA,CAAC,CAACsD,WAAF,CAAc1B,CAAd;AACA5B,oBAAAA,CAAC,GAAGA,CAAC,CAACgV,UAAN;AACH;;AACDhV,kBAAAA,CAAC,CAACgV,UAAF,CAAa1R,WAAb,CAAyBsS,CAAzB;AACH;;AACD88C,gBAAAA,UAAU,GAAGA,UAAU,CAAC5oC,SAAX,CAAqB,KAArB,CAAb;AACH;;AAED,kBAAI,CAAC/mB,IAAI,CAACs7B,kBAAL,CAAwBs+B,QAAxB,CAAL,EAAwC;AACpCxiB,gBAAAA,QAAQ,CAAC72C,WAAT,CAAqBq5D,QAArB;AACH;;AAED,oBAAMC,cAAc,GAAG1B,kBAAkB,CAAC/gB,QAAD,CAAzC;;AACA,kBAAI,CAAC,CAACyiB,cAAN,EAAsBlK,UAAU,GAAGkK,cAAb;AACtB,kBAAIlK,UAAJ,EAAgB0B,IAAI,GAAG1B,UAAP;AAEhBloC,cAAAA,OAAO,GAAG4xB,KAAV;AACAogB,cAAAA,QAAQ,GAAG,EAAX;AACAt7B,cAAAA,OAAO,GAAG,EAAV;;AACA,qBAAO1W,OAAO,KAAK4pC,IAAZ,IAAoB5pC,OAAO,KAAK2I,EAAhC,IAAsC3I,OAAO,KAAK,IAAzD,EAA+D;AAC3DkwC,gBAAAA,KAAK,GAAG1c,iBAAiB,CAACxzB,OAAD,CAAjB,GAA6B,IAA7B,GAAoCstB,UAAU,CAACttB,OAAD,CAAtD;;AACA,oBAAIkwC,KAAK,IAAIlwC,OAAO,CAACzV,QAAR,KAAqB,CAA9B,IAAmC0nD,QAAQ,CAACjyC,OAAD,CAA/C,EAA0D;AACtDgyC,kBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACAx5B,kBAAAA,OAAO,IAAI1W,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsBprB,MAAtB,CAA6B,CAA7B,EAAgC0U,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsB/2B,OAAtB,CAA8B,GAA9B,CAAhC,IAAsE,GAAjF;AACH;;AACDqgB,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AAED,oBAAM6nD,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkBk/B,QAApC;AACAwuB,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAEDuxC,cAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACAzI,cAAAA,IAAI,CAAC9wD,WAAL,CAAiBy4D,YAAjB;;AAEA,kBAAIrJ,UAAU,IAAI,CAACwI,kBAAkB,CAAC/tC,YAAD,CAArC,EAAqD;AACjD4uC,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED9uC,cAAAA,cAAc,GAAG4c,QAAjB;AACAld,cAAAA,WAAW,GAAG,CAAd;AACA2vC,cAAAA,SAAS,GAAG,IAAZ;AAEA,kBAAI9xC,OAAO,KAAKqf,QAAhB,EAA0Brf,OAAO,CAAClnB,WAAR,CAAoB2pB,cAApB;AAC1B,kBAAI,CAACovC,UAAL,EAAiB;AACpB,aA9EyD,CAgF1D;;;AACA,gBAAI,CAACE,OAAD,IAAYngB,KAAK,KAAKjvB,YAA1B,EAAwC;AACpCulC,cAAAA,UAAU,GAAGwI,kBAAkB,CAAC9e,KAAD,CAA/B;AACA,oBAAMoZ,SAAS,GAAGzyD,IAAI,CAAColB,cAAL,CAAoBgF,YAAY,CAACpY,QAAb,KAA0B,CAA1B,GAA8B,EAA9B,GAAmCoY,YAAY,CAAC2pC,aAAb,CAA2BlqC,SAA3B,EAAuCO,YAAY,CAAChmB,MAAb,GAAsBylB,SAA7D,CAAvD,CAAlB;AACA,oBAAMid,QAAQ,GAAG9mC,IAAI,CAAColB,cAAL,CAAoBk0C,UAAU,IAAIlvC,YAAY,CAACpY,QAAb,KAA0B,CAAxC,GAA4C,EAA5C,GAAiDoY,YAAY,CAAC2pC,aAAb,CAA2B,CAA3B,EAA8BlqC,SAA9B,CAArE,CAAjB;;AAEA,kBAAI8lC,UAAJ,EAAgB;AACZA,gBAAAA,UAAU,GAAGA,UAAU,CAAC5oC,SAAX,CAAqB,KAArB,CAAb;AACH,eAFD,MAEO,IAAIk0B,iBAAiB,CAAC+d,YAAY,CAAC/mD,UAAd,CAAjB,IAA8C,CAAC09C,UAAnD,EAA+D;AAClEqJ,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED,kBAAI,CAACh5D,IAAI,CAACs7B,kBAAL,CAAwBm3B,SAAxB,CAAL,EAAyC;AACrChrC,gBAAAA,OAAO,GAAG4xB,KAAV;AACAlb,gBAAAA,OAAO,GAAG,EAAV;AACAs7B,gBAAAA,QAAQ,GAAG,EAAX;AACA,sBAAMM,OAAO,GAAG,EAAhB;;AACA,uBAAOtyC,OAAO,KAAK4xC,KAAZ,IAAqB5xC,OAAO,KAAK2I,EAAjC,IAAuC3I,OAAO,KAAK,IAA1D,EAAgE;AAC5D,sBAAIA,OAAO,CAACzV,QAAR,KAAqB,CAArB,IAA0B0nD,QAAQ,CAACjyC,OAAD,CAAtC,EAAiD;AAC7C,wBAAIwzB,iBAAiB,CAACxzB,OAAD,CAArB,EAAgCsyC,OAAO,CAAC7yD,IAAR,CAAaugB,OAAO,CAACV,SAAR,CAAkB,KAAlB,CAAb,EAAhC,KACK0yC,QAAQ,CAACvyD,IAAT,CAAcugB,OAAO,CAACV,SAAR,CAAkB,KAAlB,CAAd;AACLoX,oBAAAA,OAAO,IAAI1W,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsBprB,MAAtB,CAA6B,CAA7B,EAAgC0U,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsB/2B,OAAtB,CAA8B,GAA9B,CAAhC,IAAsE,GAAjF;AACH;;AACDqgB,kBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AACDwnD,gBAAAA,QAAQ,GAAGA,QAAQ,CAAC9zD,MAAT,CAAgBo0D,OAAhB,CAAX;AAEAhzC,gBAAAA,SAAS,GAAGuuC,UAAU,GAAG7tC,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,MAAkB6qD,SAArD;;AACA,uBAAOgH,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,kBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,kBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,kBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED4xC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBwmB,SAAlB;AACAU,gBAAAA,OAAO,CAACtL,WAAR,GAAsBs2C,SAAS,CAACx0B,IAAhC;AACH;;AAED,kBAAI0xB,UAAU,IAAI5oC,SAAlB,EAA6B;AACzB,sBAAMizC,eAAe,GAAG7B,kBAAkB,CAACpxC,SAAD,CAA1C;;AACA,oBAAIizC,eAAJ,EAAqB;AACjBrK,kBAAAA,UAAU,GAAGqK,eAAb;AACH;AACJ;;AAEDvyC,cAAAA,OAAO,GAAG4xB,KAAV;AACAogB,cAAAA,QAAQ,GAAG,EAAX;AACAt7B,cAAAA,OAAO,GAAG,EAAV;;AACA,qBAAO1W,OAAO,KAAK4xC,KAAZ,IAAqB5xC,OAAO,KAAK2I,EAAjC,IAAuC3I,OAAO,KAAK,IAA1D,EAAgE;AAC5DkwC,gBAAAA,KAAK,GAAG1c,iBAAiB,CAACxzB,OAAD,CAAjB,GAA6B,IAA7B,GAAoCstB,UAAU,CAACttB,OAAD,CAAtD;;AACA,oBAAIkwC,KAAK,IAAIlwC,OAAO,CAACzV,QAAR,KAAqB,CAA9B,IAAmC0nD,QAAQ,CAACjyC,OAAD,CAA/C,EAA0D;AACtDgyC,kBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACAx5B,kBAAAA,OAAO,IAAI1W,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsBprB,MAAtB,CAA6B,CAA7B,EAAgC0U,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsB/2B,OAAtB,CAA8B,GAA9B,CAAhC,IAAsE,GAAjF;AACH;;AACDqgB,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AAED,oBAAM6nD,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkBk/B,QAApC;AACAwuB,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIkoC,UAAJ,EAAgB;AACZqJ,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAiyC,gBAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACAnK,gBAAAA,UAAU,CAACrqC,YAAX,CAAwB0zC,YAAxB,EAAsCrJ,UAAU,CAACrmC,UAAjD;AACA+vC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBovD,UAAlB;AACAyJ,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACArJ,gBAAAA,UAAU,GAAG,IAAb;AACH,eAPD,MAOO;AACHqJ,gBAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACH;;AAED1vC,cAAAA,YAAY,GAAG0c,QAAf;AACAjd,cAAAA,SAAS,GAAGid,QAAQ,CAAC7I,IAAT,CAAc75B,MAA1B;AACAo1D,cAAAA,OAAO,GAAG,IAAV;;AAEA,kBAAI,CAAC/C,cAAD,IAAmBlH,SAAvB,EAAkC;AAC9ByJ,gBAAAA,YAAY,GAAGlyB,QAAf;AACAA,gBAAAA,QAAQ,CAAC3qB,WAAT,GAAuBnc,IAAI,CAACqlB,cAA5B;AACH;;AAED,kBAAIoC,OAAO,KAAKqf,QAAhB,EAA0Brf,OAAO,CAAClnB,WAAR,CAAoB6pB,YAApB;AAC1B;AACH,aAzKyD,CA2K1D;;;AACA,gBAAImvC,SAAJ,EAAe;AACX,kBAAIlgB,KAAK,CAACrnC,QAAN,KAAmB,CAAnB,IAAwB,CAAChS,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAA7B,EAAkD;AAC9C,oBAAIr5C,IAAI,CAACkvB,mBAAL,CAAyBmqB,KAAzB,CAAJ,EAAqC;AACjCggB,kBAAAA,KAAK,CAAC94D,WAAN,CAAkB84C,KAAK,CAACtyB,SAAN,CAAgB,IAAhB,CAAlB;;AACA,sBAAI,CAACwoC,SAAL,EAAgB;AACZyJ,oBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,oBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,oBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;AACJ,iBAPD,MAOO;AACHliB,kBAAAA,aAAa,CAACuC,KAAD,EAAQA,KAAR,CAAb;AACH;;AACD;AACH;;AAED5xB,cAAAA,OAAO,GAAG4xB,KAAV;AACAogB,cAAAA,QAAQ,GAAG,EAAX;AACAt7B,cAAAA,OAAO,GAAG,EAAV;AACA,oBAAM47B,OAAO,GAAG,EAAhB;;AACA,qBAAOtyC,OAAO,CAACxV,UAAR,KAAuB,IAAvB,IAA+BwV,OAAO,KAAK2I,EAA3C,IAAiD3I,OAAO,KAAKuxC,YAApE,EAAkF;AAC9ErB,gBAAAA,KAAK,GAAG6B,OAAO,GAAG/xC,OAAO,CAACV,SAAR,CAAkB,KAAlB,CAAH,GAA8BguB,UAAU,CAACttB,OAAD,CAAvD;;AACA,oBAAIA,OAAO,CAACzV,QAAR,KAAqB,CAArB,IAA0B,CAAChS,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAA3B,IAAkDse,KAAlD,IAA2D+B,QAAQ,CAACjyC,OAAD,CAAvE,EAAkF;AAC9E,sBAAIwzB,iBAAiB,CAACxzB,OAAD,CAArB,EAAgC;AAC5B,wBAAI,CAACkoC,UAAL,EAAiBoK,OAAO,CAAC7yD,IAAR,CAAaywD,KAAb;AACpB,mBAFD,MAEO;AACH8B,oBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACH;;AACDx5B,kBAAAA,OAAO,IAAI1W,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsBprB,MAAtB,CAA6B,CAA7B,EAAgC0U,OAAO,CAACrnB,KAAR,CAAc+9B,OAAd,CAAsB/2B,OAAtB,CAA8B,GAA9B,CAAhC,IAAsE,GAAjF;AACH;;AACDqgB,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AACDwnD,cAAAA,QAAQ,GAAGA,QAAQ,CAAC9zD,MAAT,CAAgBo0D,OAAhB,CAAX;AAEA,oBAAMD,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkByxC,KAApC;AACAic,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIwzB,iBAAiB,CAAC+d,YAAY,CAAC/mD,UAAd,CAAjB,IAA8C,CAACgpC,iBAAiB,CAAC6e,SAAD,CAApE,EAAiF;AAC7Ed,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED,kBAAI,CAACQ,OAAD,IAAY,CAAC7J,UAAb,IAA2B1U,iBAAiB,CAAC6e,SAAD,CAAhD,EAA6D;AACzDd,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACA,sBAAMkzC,SAAS,GAAGH,SAAS,CAAC7qC,UAA5B;;AACA,qBAAK,IAAIpc,CAAC,GAAG,CAAR,EAAWqnD,IAAI,GAAGD,SAAS,CAAC71D,MAAjC,EAAyCyO,CAAC,GAAGqnD,IAA7C,EAAmDrnD,CAAC,EAApD,EAAwD;AACpDmmD,kBAAAA,YAAY,CAACz4D,WAAb,CAAyB05D,SAAS,CAACpnD,CAAD,CAAlC;AACH;;AACDinD,gBAAAA,SAAS,CAACv5D,WAAV,CAAsBy4D,YAAtB;AACAK,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBu5D,SAAlB;AACAV,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACA,oBAAIA,YAAY,CAACzpC,QAAb,CAAsBnrB,MAAtB,GAA+B,CAAnC,EAAsCgzC,QAAQ,GAAG3vB,OAAX,CAAtC,KACK2vB,QAAQ,GAAG4hB,YAAX;AACR,eAXD,MAWO,IAAIc,SAAS,KAAKzgB,KAAlB,EAAyB;AAC5B,oBAAI,CAACmgB,OAAL,EAAcpiB,QAAQ,GAAG4hB,YAAX,CAAd,KACK5hB,QAAQ,GAAGiiB,KAAX;AACR,eAHM,MAGA,IAAIG,OAAJ,EAAa;AAChBH,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBu5D,SAAlB;AACA1iB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH,eAHM,MAGA;AACHuxC,gBAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACA1iB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH;;AAED,kBAAIkoC,UAAU,IAAItW,KAAK,CAACrnC,QAAN,KAAmB,CAArC,EAAwC;AACpC,oBAAImmD,kBAAkB,CAAC9e,KAAD,CAAtB,EAA+B;AAC3B,wBAAM8gB,kBAAkB,GAAGn6D,IAAI,CAAC8G,gBAAL,CAAsBswC,QAAtB,EAAgC,UAAUn7B,OAAV,EAAmB;AAAC,2BAAO,KAAKg/B,iBAAL,CAAuBh/B,OAAO,CAAChK,UAA/B,KAA8CgK,OAAO,CAAChK,UAAR,KAAuBonD,KAA5E;AAAmF,mBAAvG,CAAwGh7D,IAAxG,CAA6G2B,IAA7G,CAAhC,CAA3B;AACA2vD,kBAAAA,UAAU,CAACpvD,WAAX,CAAuB45D,kBAAvB;AACAnB,kBAAAA,YAAY,GAAGmB,kBAAkB,CAACpzC,SAAnB,CAA6B,KAA7B,CAAf;AACAqyC,kBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACAK,kBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACH,iBAND,MAMO;AACHrJ,kBAAAA,UAAU,GAAG,IAAb;AACH;AACJ;AACJ;;AAED5oC,YAAAA,SAAS,GAAGsyB,KAAK,CAACtyB,SAAN,CAAgB,KAAhB,CAAZ;AACAqwB,YAAAA,QAAQ,CAAC72C,WAAT,CAAqBwmB,SAArB;AACA,gBAAIsyB,KAAK,CAACrnC,QAAN,KAAmB,CAAnB,IAAwB,CAAChS,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAA7B,EAAkDsgB,SAAS,GAAG5yC,SAAZ;AAElD+vB,YAAAA,aAAa,CAACuC,KAAD,EAAQsgB,SAAR,CAAb;AACH;AACJ,SAvQD,EAuQG74D,OAvQH,EAuQYu4D,KAvQZ,EArEgM,CA8UhM;;;AACA,YAAI7C,YAAY,IAAI,CAACC,cAAjB,IAAmC,CAACgB,YAAY,CAACn2C,CAArD,EAAwD;AACpD,iBAAO;AACH81B,YAAAA,QAAQ,EAAEt2C,OADP;AAEHopB,YAAAA,cAAc,EAAEskC,QAFb;AAGH5kC,YAAAA,WAAW,EAAE6kC,QAHV;AAIHrkC,YAAAA,YAAY,EAAEskC,MAJX;AAKH7kC,YAAAA,SAAS,EAAE8kC;AALR,WAAP;AAOH;;AAED8H,QAAAA,cAAc,GAAGA,cAAc,IAAID,YAAnC;;AAEA,YAAIC,cAAJ,EAAoB;AAChB,eAAK,IAAI35D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,gBAAIm1D,UAAU,GAAGmH,UAAU,CAACt8D,CAAD,CAA3B;AACA,gBAAIgqC,QAAJ,EAAcszB,UAAd,EAA0BC,UAA1B;;AAEA,gBAAI9K,SAAJ,EAAe;AACXzoB,cAAAA,QAAQ,GAAG9mC,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAX;AACAg0C,cAAAA,KAAK,CAAC5zC,YAAN,CAAmBqhB,QAAnB,EAA6BmrB,UAA7B;AACH,aAHD,MAGO;AACH,oBAAMhZ,SAAS,GAAGgZ,UAAU,CAAChjC,UAA7B;AACAmrC,cAAAA,UAAU,GAAGnhB,SAAS,CAAC,CAAD,CAAtB;;AACA,qBAAOA,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBohB,gBAAAA,UAAU,GAAGphB,SAAS,CAAC,CAAD,CAAtB;AACAogB,gBAAAA,KAAK,CAAC/zC,YAAN,CAAmB+0C,UAAnB,EAA+BpI,UAA/B;AACH;;AACDjyD,cAAAA,IAAI,CAAC8S,UAAL,CAAgBm/C,UAAhB;AACH;;AAED,gBAAIn1D,CAAC,KAAK,CAAV,EAAa;AACT,kBAAIyyD,SAAJ,EAAe;AACXrlC,gBAAAA,cAAc,GAAGE,YAAY,GAAG0c,QAAhC;AACH,eAFD,MAEO;AACH5c,gBAAAA,cAAc,GAAGkwC,UAAjB;AACAhwC,gBAAAA,YAAY,GAAGiwC,UAAf;AACH;AACJ;AACJ;AACJ,SA3BD,MA2BO;AACH,cAAI7D,YAAJ,EAAkB;AACd,iBAAK,IAAI15D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,mBAAKg8D,gBAAL,CAAsBM,UAAU,CAACt8D,CAAD,CAAhC;AACH;AACJ;;AAED,cAAIyyD,SAAJ,EAAe;AACXrlC,YAAAA,cAAc,GAAGE,YAAY,GAAG4uC,YAAhC;AACH;AACJ;;AAEDh5D,QAAAA,IAAI,CAAC46C,eAAL,CAAqBye,KAArB,EAA4BL,YAA5B;;AAEA,YAAIzJ,SAAJ,EAAe;AACX3lC,UAAAA,WAAW,GAAGM,cAAc,CAAC/N,WAAf,CAA2B/X,MAAzC;AACAylB,UAAAA,SAAS,GAAGO,YAAY,CAACjO,WAAb,CAAyB/X,MAArC;AACH,SAvY+L,CAyYhM;;;AACA,cAAMk2D,WAAW,GAAG7D,cAAc,IAAIrsC,YAAY,CAACjO,WAAb,CAAyB/X,MAAzB,KAAoC,CAA1E;;AAEA,YAAI,CAACpE,IAAI,CAACy2C,OAAL,CAAarsB,YAAb,CAAD,IAA+BA,YAAY,CAACjO,WAAb,CAAyB/X,MAAzB,KAAoC,CAAvE,EAA0E;AACtEpE,UAAAA,IAAI,CAAC8S,UAAL,CAAgBsX,YAAhB;AACAA,UAAAA,YAAY,GAAGF,cAAf;AACH;;AACDL,QAAAA,SAAS,GAAGywC,WAAW,GAAGlwC,YAAY,CAACjO,WAAb,CAAyB/X,MAA5B,GAAqCylB,SAA5D,CAhZgM,CAkZhM;;AACA,cAAM0wC,cAAc,GAAG;AAACz7D,UAAAA,CAAC,EAAE,CAAJ;AAAOkC,UAAAA,CAAC,EAAE;AAAV,SAAvB;AACA,cAAMw5D,SAAS,GAAGx6D,IAAI,CAACiqB,WAAL,CAAiBC,cAAjB,EAAiCmvC,KAAjC,EAAwCkB,cAAxC,CAAlB;AAEA,cAAME,WAAW,GAAG,CAACrwC,YAAY,CAACnY,UAAlC;AACA,YAAIwoD,WAAJ,EAAiBrwC,YAAY,GAAGF,cAAf;AACjB,cAAMwwC,YAAY,GAAG;AAAC57D,UAAAA,CAAC,EAAE,CAAJ;AAAOkC,UAAAA,CAAC,EAAE;AAAV,SAArB;AACA,cAAM25D,OAAO,GAAG36D,IAAI,CAACiqB,WAAL,CAAiBG,YAAjB,EAAgCivC,KAAhC,EAAwC,CAACoB,WAAD,IAAgB,CAACH,WAAlB,GAAiCI,YAAjC,GAAgD,IAAvF,CAAhB;AAEA9wC,QAAAA,WAAW,IAAI2wC,cAAc,CAACz7D,CAA9B;AACA+qB,QAAAA,SAAS,GAAI0lC,SAAS,GAAG3lC,WAAH,GAAiB6wC,WAAW,GAAGvwC,cAAc,CAAC/N,WAAf,CAA2B/X,MAA9B,GAAuCk2D,WAAW,GAAGzwC,SAAS,GAAG0wC,cAAc,CAACz7D,CAA9B,GAAkC+qB,SAAS,GAAG6wC,YAAY,CAAC57D,CAA/J,CA5ZgM,CA8ZhM;;AACA,cAAM87D,UAAU,GAAG56D,IAAI,CAAC+vB,aAAL,CAAmBspC,KAAnB,EAA0B,CAACmB,SAAD,EAAYG,OAAZ,CAA1B,EAAgD,IAAhD,CAAnB;AAEA75D,QAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC4zC,KAAhC,EAAuCv4D,OAAvC;AAEAopB,QAAAA,cAAc,GAAGlqB,IAAI,CAACyqB,eAAL,CAAqB+vC,SAArB,EAAgCnB,KAAhC,CAAjB;AACAjvC,QAAAA,YAAY,GAAGpqB,IAAI,CAACyqB,eAAL,CAAqBkwC,OAArB,EAA8BtB,KAA9B,CAAf;AAEA,eAAO;AACHjiB,UAAAA,QAAQ,EAAEiiB,KADP;AAEHnvC,UAAAA,cAAc,EAAEA,cAFb;AAGHN,UAAAA,WAAW,EAAEA,WAAW,GAAGgxC,UAAU,CAAC,CAAD,CAHlC;AAIHxwC,UAAAA,YAAY,EAAEA,YAJX;AAKHP,UAAAA,SAAS,EAAEA,SAAS,GAAG+wC,UAAU,CAAC,CAAD;AAL9B,SAAP;AAOH,OA18FQ;;AA48FT;;;;;;;;;;;;;AAaAlC,MAAAA,qBAAqB,EAAE,UAAU53D,OAAV,EAAmBk4D,YAAnB,EAAiCjkB,UAAjC,EAA6CyZ,QAA7C,EAAuDC,QAAvD,EAAiEgI,cAAjE,EAAiFD,YAAjF,EAA+FiB,YAA/F,EAA6GU,kBAA7G,EAAiIld,iBAAjI,EAAoJ4f,aAApJ,EAAmK;AACtL;AACA,YAAI5B,SAAS,GAAGzK,QAAQ,CAACv8C,UAAzB;;AACA,eAAO,CAACgnD,SAAS,CAAC1zC,WAAX,IAA0B,CAAC0zC,SAAS,CAAC9tC,eAArC,IAAwD,CAACnrB,IAAI,CAACyiB,eAAL,CAAqBw2C,SAAS,CAAChnD,UAA/B,CAAzD,IAAuG,CAACjS,IAAI,CAAC+R,YAAL,CAAkBknD,SAAS,CAAChnD,UAA5B,CAA/G,EAAwJ;AACpJ,cAAIgnD,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAAxC,EAAkD;AAClDgyD,UAAAA,SAAS,GAAGA,SAAS,CAAChnD,UAAtB;AACH;;AAED,YAAI,CAACukD,YAAD,IAAiByC,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAArD,IAAiE,CAACjH,IAAI,CAACyiB,eAAL,CAAqBw2C,SAArB,CAAlE,IAAqG,CAACA,SAAS,CAAC1zC,WAAhH,IAA+HvlB,IAAI,CAACs7B,kBAAL,CAAwBkzB,QAAQ,CAACryC,WAAT,CAAqBvW,KAArB,CAA2B,CAA3B,EAA8B6oD,QAA9B,CAAxB,CAAnI,EAAqM;AACjM,cAAIyK,OAAO,GAAG,IAAd;AACA,cAAIp6D,CAAC,GAAG0vD,QAAQ,CAACrjC,eAAjB;;AACA,iBAAOrsB,CAAP,EAAU;AACN,gBAAI,CAACkB,IAAI,CAACs7B,kBAAL,CAAwBx8B,CAAxB,CAAL,EAAiC;AAC7Bo6D,cAAAA,OAAO,GAAG,KAAV;AACA;AACH;;AACDp6D,YAAAA,CAAC,GAAGA,CAAC,CAACqsB,eAAN;AACH;;AAED,cAAI+tC,OAAJ,EAAa;AACTl5D,YAAAA,IAAI,CAACk1C,iBAAL,CAAuB+jB,SAAvB,EAAkCD,YAAlC;AAEA,mBAAO;AACH5hB,cAAAA,QAAQ,EAAEt2C,OADP;AAEH8B,cAAAA,SAAS,EAAE4rD,QAFR;AAGHh2C,cAAAA,MAAM,EAAEi2C;AAHL,aAAP;AAKH;AACJ,SA5BqL,CA8BtL;;;AACAgJ,QAAAA,YAAY,CAACn2C,CAAb,GAAiB,KAAjB;AACA,cAAM8O,EAAE,GAAGtvB,OAAX;AACA,cAAMs4D,UAAU,GAAG,CAACJ,YAAD,CAAnB;AACA,cAAMK,KAAK,GAAGv4D,OAAO,CAACimB,SAAR,CAAkB,KAAlB,CAAd;AAEA,YAAInkB,SAAS,GAAG4rD,QAAhB;AACA,YAAIh2C,MAAM,GAAGi2C,QAAb;AACA,YAAIqM,QAAQ,GAAG,KAAf;AACA,YAAIrB,QAAJ,EAAchyC,OAAd,EAAuB6tC,UAAvB,EAAmC3F,UAAnC;;AAEA,SAAC,SAAS7Y,aAAT,CAAuB76B,OAAvB,EAAgCm7B,QAAhC,EAA0C;AACvC,gBAAMnoB,UAAU,GAAGhT,OAAO,CAACgT,UAA3B;;AAEA,eAAK,IAAInyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGupB,UAAU,CAAC7qB,MAA5B,EAAoCuzD,KAApC,EAA2CoD,UAAhD,EAA4Dj+D,CAAC,GAAG4I,GAAhE,EAAqE5I,CAAC,EAAtE,EAA0E;AACtE,kBAAMu8C,KAAK,GAAGpqB,UAAU,CAACnyB,CAAD,CAAxB;AACA,gBAAI,CAACu8C,KAAL,EAAY;AACZ,gBAAIsgB,SAAS,GAAGviB,QAAhB;;AAEA,gBAAI0jB,QAAQ,IAAI,CAAC96D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAjB,EAAsC;AAClC,kBAAIA,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B;AACtB,oBAAIhS,IAAI,CAACkvB,mBAAL,CAAyBmqB,KAAzB,CAAJ,EAAqC;AACjC2f,kBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAg0C,kBAAAA,UAAU,GAAG1hB,KAAK,CAACtyB,SAAN,CAAgB,IAAhB,CAAb;AACAsyC,kBAAAA,KAAK,CAAC94D,WAAN,CAAkBw6D,UAAlB;AACA1B,kBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,kBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB,EALiC,CAOjC;;AACA,sBAAI6B,aAAa,IAAIxhB,KAAK,CAACzrB,QAAN,CAAeitC,aAAf,CAArB,EAAoD;AAChD,0BAAMF,OAAO,GAAG36D,IAAI,CAACiqB,WAAL,CAAiB4wC,aAAjB,EAAgCxhB,KAAhC,CAAhB;AACAwhB,oBAAAA,aAAa,GAAG76D,IAAI,CAACyqB,eAAL,CAAqBkwC,OAArB,EAA8BI,UAA9B,CAAhB;AACH;AACJ,iBAZD,MAYO;AACHjkB,kBAAAA,aAAa,CAACuC,KAAD,EAAQA,KAAR,CAAb;AACH;;AACD;AACH;;AAED5xB,cAAAA,OAAO,GAAG4xB,KAAV;AACAogB,cAAAA,QAAQ,GAAG,EAAX;AACA,oBAAMM,OAAO,GAAG,EAAhB;;AACA,qBAAOtyC,OAAO,CAACxV,UAAR,KAAuB,IAAvB,IAA+BwV,OAAO,KAAK2I,EAA3C,IAAiD3I,OAAO,KAAKuxC,YAApE,EAAkF;AAC9ErB,gBAAAA,KAAK,GAAG5iB,UAAU,CAACttB,OAAD,CAAlB;;AACA,oBAAIA,OAAO,CAACzV,QAAR,KAAqB,CAArB,IAA0B2lD,KAA9B,EAAqC;AACjC,sBAAI1c,iBAAiB,CAACxzB,OAAD,CAArB,EAAgC;AAC5B,wBAAI,CAACkoC,UAAL,EAAiBoK,OAAO,CAAC7yD,IAAR,CAAaywD,KAAb;AACpB,mBAFD,MAEO;AACH8B,oBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACH;AACJ;;AACDlwC,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AACDwnD,cAAAA,QAAQ,GAAGA,QAAQ,CAAC9zD,MAAT,CAAgBo0D,OAAhB,CAAX;AAEA,oBAAMiB,SAAS,GAAGvB,QAAQ,CAACr1D,MAAT,GAAkB,CAApC;AACA,oBAAM01D,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkByxC,KAApC;AACAic,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIwzB,iBAAiB,CAAC+d,YAAY,CAAC/mD,UAAd,CAAjB,IAA8C,CAACgpC,iBAAiB,CAAC6e,SAAD,CAApE,EAAiF;AAC7Ed,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED,kBAAI,CAACrJ,UAAD,IAAe1U,iBAAiB,CAAC6e,SAAD,CAApC,EAAiD;AAC7Cd,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACA,sBAAMkzC,SAAS,GAAGH,SAAS,CAAC7qC,UAA5B;;AACA,qBAAK,IAAIpc,CAAC,GAAG,CAAR,EAAWqnD,IAAI,GAAGD,SAAS,CAAC71D,MAAjC,EAAyCyO,CAAC,GAAGqnD,IAA7C,EAAmDrnD,CAAC,EAApD,EAAwD;AACpDmmD,kBAAAA,YAAY,CAACz4D,WAAb,CAAyB05D,SAAS,CAACpnD,CAAD,CAAlC;AACH;;AACDinD,gBAAAA,SAAS,CAACv5D,WAAV,CAAsBy4D,YAAtB;AACAK,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBu5D,SAAlB;AACA1iB,gBAAAA,QAAQ,GAAG,CAAC6D,iBAAiB,CAACxzB,OAAD,CAAlB,GAA8BA,OAA9B,GAAwCuxC,YAAnD;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH,eAVD,MAUO,IAAIgC,SAAJ,EAAe;AAClBhC,gBAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACA1iB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH,eAHM,MAGA;AACH2vB,gBAAAA,QAAQ,GAAG4hB,YAAX;AACH;;AAED,kBAAIrJ,UAAU,IAAItW,KAAK,CAACrnC,QAAN,KAAmB,CAArC,EAAwC;AACpC,oBAAImmD,kBAAkB,CAAC9e,KAAD,CAAtB,EAA+B;AAC3B,wBAAM8gB,kBAAkB,GAAGn6D,IAAI,CAAC8G,gBAAL,CAAsBswC,QAAtB,EAAgC,UAAUn7B,OAAV,EAAmB;AAAC,2BAAO,KAAKg/B,iBAAL,CAAuBh/B,OAAO,CAAChK,UAA/B,KAA8CgK,OAAO,CAAChK,UAAR,KAAuBonD,KAA5E;AAAmF,mBAAvG,CAAwGh7D,IAAxG,CAA6G2B,IAA7G,CAAhC,CAA3B;AACA2vD,kBAAAA,UAAU,CAACpvD,WAAX,CAAuB45D,kBAAvB;AACAnB,kBAAAA,YAAY,GAAGmB,kBAAkB,CAACpzC,SAAnB,CAA6B,KAA7B,CAAf;AACAqyC,kBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACAK,kBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACH,iBAND,MAMO;AACHrJ,kBAAAA,UAAU,GAAG,IAAb;AACH;AACJ;AACJ,aApFqE,CAsFtE;;;AACA,gBAAI,CAACmL,QAAD,IAAazhB,KAAK,KAAKz2C,SAA3B,EAAsC;AAClC,kBAAIyuD,IAAI,GAAGgI,KAAX;AACA1J,cAAAA,UAAU,GAAGwI,kBAAkB,CAAC9e,KAAD,CAA/B;AACA,oBAAMugB,QAAQ,GAAG55D,IAAI,CAAColB,cAAL,CAAoBxiB,SAAS,CAACoP,QAAV,KAAuB,CAAvB,GAA2B,EAA3B,GAAgCpP,SAAS,CAACmxD,aAAV,CAAwB,CAAxB,EAA2Bv7C,MAA3B,CAApD,CAAjB;AACA,oBAAMsuB,QAAQ,GAAG9mC,IAAI,CAAColB,cAAL,CAAoBxiB,SAAS,CAACoP,QAAV,KAAuB,CAAvB,GAA2B,EAA3B,GAAgCpP,SAAS,CAACmxD,aAAV,CAAwBv7C,MAAxB,EAAiC5V,SAAS,CAACwB,MAAV,GAAmBoU,MAApD,CAApD,CAAjB;;AAEA,kBAAIm3C,UAAJ,EAAgB;AACZ,sBAAM98C,CAAC,GAAGslD,kBAAkB,CAAC/gB,QAAD,CAA5B;;AACA,oBAAIvkC,CAAC,IAAIA,CAAC,CAACZ,UAAF,KAAiBo/C,IAA1B,EAAgC;AAC5B,sBAAIp0D,CAAC,GAAG4V,CAAR;AACA,sBAAIhU,CAAC,GAAG,IAAR;;AACA,yBAAO5B,CAAC,CAACgV,UAAF,KAAiBo/C,IAAxB,EAA8B;AAC1Bja,oBAAAA,QAAQ,GAAGv4C,CAAC,GAAG5B,CAAC,CAACgV,UAAF,CAAa8U,SAAb,CAAuB,KAAvB,CAAf;;AACA,2BAAM9pB,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAN,EAAuB;AACnBpwB,sBAAAA,CAAC,CAAC0B,WAAF,CAActD,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAd;AACH;;AACDhyB,oBAAAA,CAAC,CAACsD,WAAF,CAAc1B,CAAd;AACA5B,oBAAAA,CAAC,GAAGA,CAAC,CAACgV,UAAN;AACH;;AACDhV,kBAAAA,CAAC,CAACgV,UAAF,CAAa1R,WAAb,CAAyBsS,CAAzB;AACH;;AACD88C,gBAAAA,UAAU,GAAGA,UAAU,CAAC5oC,SAAX,CAAqB,KAArB,CAAb;AACH;;AAED,kBAAI,CAAC/mB,IAAI,CAACs7B,kBAAL,CAAwBs+B,QAAxB,CAAL,EAAwC;AACpCxiB,gBAAAA,QAAQ,CAAC72C,WAAT,CAAqBq5D,QAArB;AACH;;AAED,oBAAMC,cAAc,GAAG1B,kBAAkB,CAAC/gB,QAAD,CAAzC;;AACA,kBAAI,CAAC,CAACyiB,cAAN,EAAsBlK,UAAU,GAAGkK,cAAb;AACtB,kBAAIlK,UAAJ,EAAgB0B,IAAI,GAAG1B,UAAP;AAEhBloC,cAAAA,OAAO,GAAG2vB,QAAV;AACAqiB,cAAAA,QAAQ,GAAG,EAAX;;AACA,qBAAOhyC,OAAO,KAAK4pC,IAAZ,IAAoB5pC,OAAO,KAAK,IAAvC,EAA6C;AACzCkwC,gBAAAA,KAAK,GAAG5iB,UAAU,CAACttB,OAAD,CAAlB;;AACA,oBAAIA,OAAO,CAACzV,QAAR,KAAqB,CAArB,IAA0B2lD,KAA9B,EAAqC;AACjC8B,kBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACH;;AACDlwC,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AAED,oBAAM6nD,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkBwvC,QAApC;AACAke,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIqyC,SAAS,KAAK1iB,QAAlB,EAA4B;AACxB4hB,gBAAAA,YAAY,CAACz4D,WAAb,CAAyBu5D,SAAzB;AACA1iB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH,eAHD,MAGO;AACH2vB,gBAAAA,QAAQ,GAAG4hB,YAAX;AACH;;AAED,kBAAIh5D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAJ,EAAyB2f,YAAY,CAACz4D,WAAb,CAAyB84C,KAAK,CAACtyB,SAAN,CAAgB,KAAhB,CAAzB;AACzBsqC,cAAAA,IAAI,CAAC9wD,WAAL,CAAiBy4D,YAAjB;AAEAp2D,cAAAA,SAAS,GAAGkkC,QAAZ;AACAtuB,cAAAA,MAAM,GAAG,CAAT;AACAsiD,cAAAA,QAAQ,GAAG,IAAX;AAEA1jB,cAAAA,QAAQ,CAAC72C,WAAT,CAAqBqC,SAArB;AACA;AACH;;AAED+0D,YAAAA,KAAK,GAAG,CAACmD,QAAD,GAAYzhB,KAAK,CAACtyB,SAAN,CAAgB,KAAhB,CAAZ,GAAqCguB,UAAU,CAACsE,KAAD,CAAvD;;AACA,gBAAIse,KAAJ,EAAW;AACPvgB,cAAAA,QAAQ,CAAC72C,WAAT,CAAqBo3D,KAArB;AACA,kBAAIte,KAAK,CAACrnC,QAAN,KAAmB,CAAnB,IAAwB,CAAChS,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAA7B,EAAkDsgB,SAAS,GAAGhC,KAAZ;AACrD;;AAED7gB,YAAAA,aAAa,CAACuC,KAAD,EAAQsgB,SAAR,CAAb;AACH;AACJ,SAtKD,EAsKG74D,OAtKH,EAsKYu4D,KAtKZ,EAzCsL,CAiNtL;;;AACA,YAAI7C,YAAY,IAAI,CAACC,cAAjB,IAAmC,CAACgB,YAAY,CAACn2C,CAArD,EAAwD;AACpD,iBAAO;AACH81B,YAAAA,QAAQ,EAAEt2C,OADP;AAEH8B,YAAAA,SAAS,EAAE4rD,QAFR;AAGHh2C,YAAAA,MAAM,EAAEi2C,QAHL;AAIHrkC,YAAAA,YAAY,EAAEywC;AAJX,WAAP;AAMH;;AAEDpE,QAAAA,cAAc,GAAGA,cAAc,IAAID,YAAnC;;AAEA,YAAIC,cAAJ,EAAoB;AAChB,eAAK,IAAI35D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,gBAAIm1D,UAAU,GAAGmH,UAAU,CAACt8D,CAAD,CAA3B;AAEA,kBAAMm8C,SAAS,GAAGgZ,UAAU,CAAChjC,UAA7B;AACA,kBAAM6X,QAAQ,GAAGmS,SAAS,CAAC,CAAD,CAA1B;;AACA,mBAAOA,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBogB,cAAAA,KAAK,CAAC/zC,YAAN,CAAmB2zB,SAAS,CAAC,CAAD,CAA5B,EAAiCgZ,UAAjC;AACH;;AACDjyD,YAAAA,IAAI,CAAC8S,UAAL,CAAgBm/C,UAAhB;AAEA,gBAAIn1D,CAAC,KAAK,CAAV,EAAa8F,SAAS,GAAGkkC,QAAZ;AAChB;AACJ,SAbD,MAaO,IAAI0vB,YAAJ,EAAkB;AACrB,eAAK,IAAI15D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,iBAAKg8D,gBAAL,CAAsBM,UAAU,CAACt8D,CAAD,CAAhC;AACH;AACJ;;AAED,YAAI,CAAC25D,cAAD,IAAmB4C,KAAK,CAACpqC,UAAN,CAAiB7qB,MAAjB,KAA4B,CAAnD,EAAsD;AAClD,cAAItD,OAAO,CAACmuB,UAAZ,EAAwB;AACpBrsB,YAAAA,SAAS,GAAG9B,OAAO,CAACmuB,UAAR,CAAmB,CAAnB,CAAZ;AACH,WAFD,MAEO;AACHrsB,YAAAA,SAAS,GAAG5C,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAZ;AACAvkB,YAAAA,OAAO,CAACP,WAAR,CAAoBqC,SAApB;AACH;AACJ,SAPD,MAOO;AACH5C,UAAAA,IAAI,CAAC46C,eAAL,CAAqBye,KAArB,EAA4BL,YAA5B;;AAEA,cAAIh5D,IAAI,CAACs7B,kBAAL,CAAwB+9B,KAAK,CAACl9C,WAA9B,CAAJ,EAAgD;AAC5CvZ,YAAAA,SAAS,GAAGy2D,KAAK,CAAC/vC,UAAlB;AACA9Q,YAAAA,MAAM,GAAG,CAAT;AACH,WANE,CAQH;;;AACA,gBAAMu9B,OAAO,GAAG;AAACj3C,YAAAA,CAAC,EAAE,CAAJ;AAAOkC,YAAAA,CAAC,EAAE;AAAV,WAAhB;AACA,gBAAM4xC,IAAI,GAAG5yC,IAAI,CAACiqB,WAAL,CAAiBrnB,SAAjB,EAA4By2D,KAA5B,EAAmCtjB,OAAnC,CAAb;AACAv9B,UAAAA,MAAM,IAAIu9B,OAAO,CAACj3C,CAAlB,CAXG,CAaH;;AACA,gBAAM87D,UAAU,GAAG56D,IAAI,CAAC+vB,aAAL,CAAmBspC,KAAnB,EAA0B,CAACzmB,IAAD,CAA1B,EAAkC,IAAlC,CAAnB;AAEA9xC,UAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC4zC,KAAhC,EAAuCv4D,OAAvC;AAEA8B,UAAAA,SAAS,GAAG5C,IAAI,CAACyqB,eAAL,CAAqBmoB,IAArB,EAA2BymB,KAA3B,CAAZ;AACA7gD,UAAAA,MAAM,IAAIoiD,UAAU,CAAC,CAAD,CAApB;AACH;;AAED,eAAO;AACHxjB,UAAAA,QAAQ,EAAEiiB,KADP;AAEHz2D,UAAAA,SAAS,EAAEA,SAFR;AAGH4V,UAAAA,MAAM,EAAEA,MAHL;AAIH4R,UAAAA,YAAY,EAAEywC;AAJX,SAAP;AAMH,OA5uGQ;;AA8uGT;;;;;;;;;;;AAWApC,MAAAA,sBAAsB,EAAE,UAAU33D,OAAV,EAAmBk4D,YAAnB,EAAiCjkB,UAAjC,EAA6C0hB,cAA7C,EAA6DD,YAA7D,EAA2EiB,YAA3E,EAAyFoD,aAAzF,EAAwG;AAC5H;AACA,YAAI,CAACrE,YAAL,EAAmB;AACf;AACA,cAAImE,OAAO,GAAG,IAAd;AACA,cAAIE,aAAa,IAAI/5D,OAAO,CAAC8sB,QAAR,CAAiBitC,aAAjB,CAArB,EAAsDF,OAAO,GAAG36D,IAAI,CAACiqB,WAAL,CAAiB4wC,aAAjB,EAAgC/5D,OAAhC,CAAV;AAEtD,gBAAMm6D,QAAQ,GAAGn6D,OAAO,CAACimB,SAAR,CAAkB,IAAlB,CAAjB;AACA,gBAAM2vC,WAAW,GAAGsC,YAAY,CAAC/xD,QAAjC;AACA,gBAAMi0D,UAAU,GAAGlC,YAAY,CAAC54D,KAAb,CAAmB+9B,OAAtC;AACA,gBAAMg9B,QAAQ,GAAGnC,YAAY,CAAC94D,SAA9B;AAEA,cAAIqvB,QAAQ,GAAG0rC,QAAQ,CAAChsC,UAAxB;AACA,cAAInyB,CAAC,GAAG,CAAR;AAAA,cAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B;;AACA,eAAK,IAAIi1C,KAAT,EAAgBv8C,CAAC,GAAG4I,GAApB,EAAyB5I,CAAC,EAA1B,EAA8B;AAC1Bu8C,YAAAA,KAAK,GAAG9pB,QAAQ,CAACzyB,CAAD,CAAhB;AACA,gBAAIu8C,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B;;AAC1B,gBAAIqnC,KAAK,CAACpyC,QAAN,KAAmByvD,WAAvB,EAAoC;AAChCrd,cAAAA,KAAK,CAACj5C,KAAN,CAAY+9B,OAAZ,IAAuB+8B,UAAvB;AACAl7D,cAAAA,IAAI,CAACsR,QAAL,CAAc+nC,KAAd,EAAqB8hB,QAArB;AACH,aAHD,MAGO,IAAI,CAACn7D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAD,IAAwBr5C,IAAI,CAACkvB,mBAAL,CAAyBmqB,KAAzB,CAA5B,EAA6D;AAChE;AACH,aAFM,MAEA,IAAI3zC,GAAG,KAAK,CAAZ,EAAe;AAClB6pB,cAAAA,QAAQ,GAAG8pB,KAAK,CAACpqB,UAAjB;AACAvpB,cAAAA,GAAG,GAAG6pB,QAAQ,CAACnrB,MAAf;AACAtH,cAAAA,CAAC,GAAG,CAAC,CAAL;AACA;AACH,aALM,MAKA;AACH;AACH;AACJ;;AAED,cAAI4I,GAAG,GAAG,CAAN,IAAW5I,CAAC,KAAK4I,GAArB,EAA0B;AACtB5E,YAAAA,OAAO,CAACmC,SAAR,GAAoBg4D,QAAQ,CAACh4D,SAA7B;AACA,mBAAO;AACHm0C,cAAAA,QAAQ,EAAEt2C,OADP;AAEHspB,cAAAA,YAAY,EAAEuwC,OAAO,GAAG36D,IAAI,CAACyqB,eAAL,CAAqBkwC,OAArB,EAA8B75D,OAA9B,CAAH,GAA4C;AAF9D,aAAP;AAIH;AACJ,SAvC2H,CAyC5H;;;AACA22D,QAAAA,YAAY,CAACn2C,CAAb,GAAiB,KAAjB;AACA,cAAM+3C,KAAK,GAAGv4D,OAAO,CAACimB,SAAR,CAAkB,KAAlB,CAAd;AACA,cAAMqyC,UAAU,GAAG,CAACJ,YAAD,CAAnB;AACA,YAAIoC,UAAU,GAAG,IAAjB;;AAEA,SAAC,SAAStkB,aAAT,CAAuB76B,OAAvB,EAAgCm7B,QAAhC,EAA0C;AACvC,gBAAMnoB,UAAU,GAAGhT,OAAO,CAACgT,UAA3B;;AAEA,eAAK,IAAInyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGupB,UAAU,CAAC7qB,MAA5B,EAAoCuzD,KAApC,EAA2CoD,UAAhD,EAA4Dj+D,CAAC,GAAG4I,GAAhE,EAAqE5I,CAAC,EAAtE,EAA0E;AACtE,gBAAIu8C,KAAK,GAAGpqB,UAAU,CAACnyB,CAAD,CAAtB;AACA,gBAAI,CAACu8C,KAAL,EAAY;AACZ,gBAAIsgB,SAAS,GAAGviB,QAAhB;;AAEA,gBAAI,CAACp3C,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAD,IAAwBr5C,IAAI,CAACkvB,mBAAL,CAAyBmqB,KAAzB,CAA5B,EAA6D;AACzD,kBAAI2f,YAAY,CAAC/pC,UAAb,CAAwB7qB,MAAxB,GAAiC,CAArC,EAAwC;AACpCi1D,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAA,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACH;;AAEDg0C,cAAAA,UAAU,GAAG1hB,KAAK,CAACtyB,SAAN,CAAgB,IAAhB,CAAb;AACAsyC,cAAAA,KAAK,CAAC94D,WAAN,CAAkBw6D,UAAlB;AACA1B,cAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,cAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACA5hB,cAAAA,QAAQ,GAAG4hB,YAAX,CAVyD,CAYzD;;AACA,kBAAI6B,aAAa,IAAIxhB,KAAK,CAACzrB,QAAN,CAAeitC,aAAf,CAArB,EAAoD;AAChD,sBAAMF,OAAO,GAAG36D,IAAI,CAACiqB,WAAL,CAAiB4wC,aAAjB,EAAgCxhB,KAAhC,CAAhB;AACAwhB,gBAAAA,aAAa,GAAG76D,IAAI,CAACyqB,eAAL,CAAqBkwC,OAArB,EAA8BI,UAA9B,CAAhB;AACH;;AAED;AACH,aAnBD,MAmBO;AACHpD,cAAAA,KAAK,GAAG5iB,UAAU,CAACsE,KAAD,CAAlB;;AACA,kBAAIse,KAAJ,EAAW;AACPyD,gBAAAA,UAAU,GAAG,KAAb;AACAhkB,gBAAAA,QAAQ,CAAC72C,WAAT,CAAqBo3D,KAArB;AACA,oBAAIte,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B2nD,SAAS,GAAGhC,KAAZ;AAC7B;AACJ;;AAED,gBAAI,CAAC33D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAL,EAA0BvC,aAAa,CAACuC,KAAD,EAAQsgB,SAAR,CAAb;AAC7B;AACJ,SAtCD,EAsCG74D,OAtCH,EAsCYk4D,YAtCZ,EA/C4H,CAuF5H;;;AACA,YAAIoC,UAAU,IAAK5E,YAAY,IAAI,CAACC,cAAjB,IAAmC,CAACgB,YAAY,CAACn2C,CAApE,EAAwE,OAAO;AAAE81B,UAAAA,QAAQ,EAAEt2C,OAAZ;AAAqBspB,UAAAA,YAAY,EAAEywC;AAAnC,SAAP;AAExExB,QAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;;AAEA,YAAIvC,cAAc,IAAID,YAAtB,EAAoC;AAChC,eAAK,IAAI15D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,gBAAIm1D,UAAU,GAAGmH,UAAU,CAACt8D,CAAD,CAA3B;AAEA,kBAAMm8C,SAAS,GAAGgZ,UAAU,CAAChjC,UAA7B;;AACA,mBAAOgqB,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBogB,cAAAA,KAAK,CAAC/zC,YAAN,CAAmB2zB,SAAS,CAAC,CAAD,CAA5B,EAAiCgZ,UAAjC;AACH;;AACDjyD,YAAAA,IAAI,CAAC8S,UAAL,CAAgBm/C,UAAhB;AACH;AACJ,SAVD,MAUO,IAAIuE,YAAJ,EAAkB;AACrB,eAAK,IAAI15D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,iBAAKg8D,gBAAL,CAAsBM,UAAU,CAACt8D,CAAD,CAAhC;AACH;AACJ;;AAEDkD,QAAAA,IAAI,CAAC46C,eAAL,CAAqBye,KAArB,EAA4BL,YAA5B;AACAh5D,QAAAA,IAAI,CAAC+vB,aAAL,CAAmBspC,KAAnB,EAA0B,IAA1B,EAAgC,IAAhC,EA7G4H,CA+G5H;;AACAv4D,QAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC4zC,KAAhC,EAAuCv4D,OAAvC;AACA,eAAO;AAAEs2C,UAAAA,QAAQ,EAAEiiB,KAAZ;AAAmBjvC,UAAAA,YAAY,EAAEywC;AAAjC,SAAP;AACH,OA32GQ;;AA62GT;;;;;;;;;;;;AAYArC,MAAAA,mBAAmB,EAAE,UAAU13D,OAAV,EAAmBk4D,YAAnB,EAAiCjkB,UAAjC,EAA6C2Z,MAA7C,EAAqDC,MAArD,EAA6D8H,cAA7D,EAA6ED,YAA7E,EAA2FiB,YAA3F,EAAyGU,kBAAzG,EAA6Hld,iBAA7H,EAAgJ;AACjK;AACA,YAAIge,SAAS,GAAGvK,MAAM,CAACz8C,UAAvB;;AACA,eAAO,CAACgnD,SAAS,CAAC1zC,WAAX,IAA0B,CAAC0zC,SAAS,CAAC9tC,eAArC,IAAwD,CAACnrB,IAAI,CAACyiB,eAAL,CAAqBw2C,SAAS,CAAChnD,UAA/B,CAAzD,IAAuG,CAACjS,IAAI,CAAC+R,YAAL,CAAkBknD,SAAS,CAAChnD,UAA5B,CAA/G,EAAwJ;AACpJ,cAAIgnD,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAAxC,EAAkD;AAClDgyD,UAAAA,SAAS,GAAGA,SAAS,CAAChnD,UAAtB;AACH;;AAED,YAAI,CAACukD,YAAD,IAAiByC,SAAS,CAAChyD,QAAV,KAAuB+xD,YAAY,CAAC/xD,QAArD,IAAiE,CAACjH,IAAI,CAACyiB,eAAL,CAAqBw2C,SAArB,CAAlE,IAAqG,CAACA,SAAS,CAAC9tC,eAAhH,IAAmInrB,IAAI,CAACs7B,kBAAL,CAAwBozB,MAAM,CAACvyC,WAAP,CAAmBvW,KAAnB,CAAyB+oD,MAAzB,CAAxB,CAAvI,EAAkM;AAC9L,cAAIuK,OAAO,GAAG,IAAd;AACA,cAAIl4D,CAAC,GAAG0tD,MAAM,CAACnpC,WAAf;;AACA,iBAAOvkB,CAAP,EAAU;AACN,gBAAI,CAAChB,IAAI,CAACs7B,kBAAL,CAAwBt6B,CAAxB,CAAL,EAAiC;AAC7Bk4D,cAAAA,OAAO,GAAG,KAAV;AACA;AACH;;AACDl4D,YAAAA,CAAC,GAAGA,CAAC,CAACukB,WAAN;AACH;;AAED,cAAI2zC,OAAJ,EAAa;AACTl5D,YAAAA,IAAI,CAACk1C,iBAAL,CAAuB+jB,SAAvB,EAAkCD,YAAlC;AAEA,mBAAO;AACH5hB,cAAAA,QAAQ,EAAEt2C,OADP;AAEH8B,cAAAA,SAAS,EAAE8rD,MAFR;AAGHl2C,cAAAA,MAAM,EAAEm2C;AAHL,aAAP;AAKH;AACJ,SA5BgK,CA8BjK;;;AACA8I,QAAAA,YAAY,CAACn2C,CAAb,GAAiB,KAAjB;AACA,cAAM8O,EAAE,GAAGtvB,OAAX;AACA,cAAMs4D,UAAU,GAAG,CAACJ,YAAD,CAAnB;AACA,cAAMK,KAAK,GAAGv4D,OAAO,CAACimB,SAAR,CAAkB,KAAlB,CAAd;AAEA,YAAInkB,SAAS,GAAG8rD,MAAhB;AACA,YAAIl2C,MAAM,GAAGm2C,MAAb;AACA,YAAImM,QAAQ,GAAG,KAAf;AACA,YAAIrB,QAAJ,EAAchyC,OAAd,EAAuB6tC,UAAvB,EAAmC3F,UAAnC;;AAEA,SAAC,SAAS7Y,aAAT,CAAuB76B,OAAvB,EAAgCm7B,QAAhC,EAA0C;AACvC,gBAAMnoB,UAAU,GAAGhT,OAAO,CAACgT,UAA3B;;AAEA,eAAK,IAAInyB,CAAC,GAAGmyB,UAAU,CAAC7qB,MAAX,GAAoB,CAA5B,EAA+BuzD,KAApC,EAA2C,KAAK76D,CAAhD,EAAmDA,CAAC,EAApD,EAAwD;AACpD,kBAAMu8C,KAAK,GAAGpqB,UAAU,CAACnyB,CAAD,CAAxB;AACA,gBAAI,CAACu8C,KAAL,EAAY;AACZ,gBAAIsgB,SAAS,GAAGviB,QAAhB;;AAEA,gBAAI0jB,QAAQ,IAAI,CAAC96D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAjB,EAAsC;AAClC,kBAAIA,KAAK,CAACrnC,QAAN,KAAmB,CAAvB,EAA0B;AACtB,oBAAIhS,IAAI,CAACkvB,mBAAL,CAAyBmqB,KAAzB,CAAJ,EAAqC;AACjC2f,kBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACA,wBAAMg0C,UAAU,GAAG1hB,KAAK,CAACtyB,SAAN,CAAgB,IAAhB,CAAnB;AACAsyC,kBAAAA,KAAK,CAAC/zC,YAAN,CAAmBy1C,UAAnB,EAA+B3jB,QAA/B;AACAiiB,kBAAAA,KAAK,CAAC/zC,YAAN,CAAmB0zC,YAAnB,EAAiC+B,UAAjC;AACA3B,kBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH,iBAND,MAMO;AACHliB,kBAAAA,aAAa,CAACuC,KAAD,EAAQA,KAAR,CAAb;AACH;;AACD;AACH;;AAED5xB,cAAAA,OAAO,GAAG4xB,KAAV;AACAogB,cAAAA,QAAQ,GAAG,EAAX;AACA,oBAAMM,OAAO,GAAG,EAAhB;;AACA,qBAAOtyC,OAAO,CAACxV,UAAR,KAAuB,IAAvB,IAA+BwV,OAAO,KAAK2I,EAA3C,IAAiD3I,OAAO,KAAKuxC,YAApE,EAAkF;AAC9ErB,gBAAAA,KAAK,GAAG5iB,UAAU,CAACttB,OAAD,CAAlB;;AACA,oBAAIkwC,KAAK,IAAIlwC,OAAO,CAACzV,QAAR,KAAqB,CAAlC,EAAqC;AACjC,sBAAIipC,iBAAiB,CAACxzB,OAAD,CAArB,EAAgC;AAC5B,wBAAI,CAACkoC,UAAL,EAAiBoK,OAAO,CAAC7yD,IAAR,CAAaywD,KAAb;AACpB,mBAFD,MAEO;AACH8B,oBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACH;AACJ;;AACDlwC,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AACDwnD,cAAAA,QAAQ,GAAGA,QAAQ,CAAC9zD,MAAT,CAAgBo0D,OAAhB,CAAX;AAEA,oBAAMiB,SAAS,GAAGvB,QAAQ,CAACr1D,MAAT,GAAkB,CAApC;AACA,oBAAM01D,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkByxC,KAApC;AACAic,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIwzB,iBAAiB,CAAC+d,YAAY,CAAC/mD,UAAd,CAAjB,IAA8C,CAACgpC,iBAAiB,CAAC6e,SAAD,CAApE,EAAiF;AAC7Ed,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC/zC,YAAN,CAAmB0zC,YAAnB,EAAiCK,KAAK,CAAC/vC,UAAvC;AACA8vC,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED,kBAAI,CAACrJ,UAAD,IAAe1U,iBAAiB,CAAC6e,SAAD,CAApC,EAAiD;AAC7Cd,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACA,sBAAMkzC,SAAS,GAAGH,SAAS,CAAC7qC,UAA5B;;AACA,qBAAK,IAAIpc,CAAC,GAAG,CAAR,EAAWqnD,IAAI,GAAGD,SAAS,CAAC71D,MAAjC,EAAyCyO,CAAC,GAAGqnD,IAA7C,EAAmDrnD,CAAC,EAApD,EAAwD;AACpDmmD,kBAAAA,YAAY,CAACz4D,WAAb,CAAyB05D,SAAS,CAACpnD,CAAD,CAAlC;AACH;;AACDinD,gBAAAA,SAAS,CAACv5D,WAAV,CAAsBy4D,YAAtB;AACAK,gBAAAA,KAAK,CAAC/zC,YAAN,CAAmBw0C,SAAnB,EAA8BT,KAAK,CAAC/vC,UAApC;AACA8vC,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACA,oBAAIA,YAAY,CAACzpC,QAAb,CAAsBnrB,MAAtB,GAA+B,CAAnC,EAAsCgzC,QAAQ,GAAG3vB,OAAX,CAAtC,KACK2vB,QAAQ,GAAG4hB,YAAX;AACR,eAXD,MAWO,IAAIgC,SAAJ,EAAe;AAClBhC,gBAAAA,YAAY,CAAC1zC,YAAb,CAA0Bw0C,SAA1B,EAAqCd,YAAY,CAAC1vC,UAAlD;AACA8tB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH,eAHM,MAGA;AACH2vB,gBAAAA,QAAQ,GAAG4hB,YAAX;AACH;;AAED,kBAAIrJ,UAAU,IAAItW,KAAK,CAACrnC,QAAN,KAAmB,CAArC,EAAwC;AACpC,oBAAImmD,kBAAkB,CAAC9e,KAAD,CAAtB,EAA+B;AAC3B,wBAAM8gB,kBAAkB,GAAGn6D,IAAI,CAAC8G,gBAAL,CAAsBswC,QAAtB,EAAgC,UAAUn7B,OAAV,EAAmB;AAAC,2BAAO,KAAKg/B,iBAAL,CAAuBh/B,OAAO,CAAChK,UAA/B,KAA8CgK,OAAO,CAAChK,UAAR,KAAuBonD,KAA5E;AAAmF,mBAAvG,CAAwGh7D,IAAxG,CAA6G2B,IAA7G,CAAhC,CAA3B;AACA2vD,kBAAAA,UAAU,CAACpvD,WAAX,CAAuB45D,kBAAvB;AACAnB,kBAAAA,YAAY,GAAGmB,kBAAkB,CAACpzC,SAAnB,CAA6B,KAA7B,CAAf;AACAqyC,kBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACAK,kBAAAA,KAAK,CAAC/zC,YAAN,CAAmB0zC,YAAnB,EAAiCK,KAAK,CAAC/vC,UAAvC;AACH,iBAND,MAMO;AACHqmC,kBAAAA,UAAU,GAAG,IAAb;AACH;AACJ;AACJ,aA/EmD,CAiFpD;;;AACA,gBAAI,CAACmL,QAAD,IAAazhB,KAAK,KAAKz2C,SAA3B,EAAsC;AAClC+sD,cAAAA,UAAU,GAAGwI,kBAAkB,CAAC9e,KAAD,CAA/B;AACA,oBAAMoZ,SAAS,GAAGzyD,IAAI,CAAColB,cAAL,CAAoBxiB,SAAS,CAACoP,QAAV,KAAuB,CAAvB,GAA2B,EAA3B,GAAgCpP,SAAS,CAACmxD,aAAV,CAAwBv7C,MAAxB,EAAiC5V,SAAS,CAACwB,MAAV,GAAmBoU,MAApD,CAApD,CAAlB;AACA,oBAAMsuB,QAAQ,GAAG9mC,IAAI,CAAColB,cAAL,CAAoBxiB,SAAS,CAACoP,QAAV,KAAuB,CAAvB,GAA2B,EAA3B,GAAgCpP,SAAS,CAACmxD,aAAV,CAAwB,CAAxB,EAA2Bv7C,MAA3B,CAApD,CAAjB;;AAEA,kBAAIm3C,UAAJ,EAAgB;AACZA,gBAAAA,UAAU,GAAGA,UAAU,CAAC5oC,SAAX,CAAqB,KAArB,CAAb;;AACA,sBAAMlU,CAAC,GAAGslD,kBAAkB,CAAC/gB,QAAD,CAA5B;;AACA,oBAAIvkC,CAAC,IAAIA,CAAC,CAACZ,UAAF,KAAiBonD,KAA1B,EAAiC;AAC7B,sBAAIp8D,CAAC,GAAG4V,CAAR;AACA,sBAAIhU,CAAC,GAAG,IAAR;;AACA,yBAAO5B,CAAC,CAACgV,UAAF,KAAiBonD,KAAxB,EAA+B;AAC3BjiB,oBAAAA,QAAQ,GAAGv4C,CAAC,GAAG5B,CAAC,CAACgV,UAAF,CAAa8U,SAAb,CAAuB,KAAvB,CAAf;;AACA,2BAAM9pB,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAN,EAAuB;AACnBpwB,sBAAAA,CAAC,CAAC0B,WAAF,CAActD,CAAC,CAACgyB,UAAF,CAAa,CAAb,CAAd;AACH;;AACDhyB,oBAAAA,CAAC,CAACsD,WAAF,CAAc1B,CAAd;AACA5B,oBAAAA,CAAC,GAAGA,CAAC,CAACgV,UAAN;AACH;;AACDhV,kBAAAA,CAAC,CAACgV,UAAF,CAAaqT,YAAb,CAA0BzS,CAA1B,EAA6B5V,CAAC,CAACgV,UAAF,CAAaqX,UAA1C;AACH;;AACDqmC,gBAAAA,UAAU,GAAGA,UAAU,CAAC5oC,SAAX,CAAqB,KAArB,CAAb;AACH,eAjBD,MAiBO,IAAIk0B,iBAAiB,CAAC+d,YAAY,CAAC/mD,UAAd,CAAjB,IAA8C,CAAC09C,UAAnD,EAA+D;AAClEqJ,gBAAAA,YAAY,GAAGA,YAAY,CAACjyC,SAAb,CAAuB,KAAvB,CAAf;AACAsyC,gBAAAA,KAAK,CAAC94D,WAAN,CAAkBy4D,YAAlB;AACAI,gBAAAA,UAAU,CAAClyD,IAAX,CAAgB8xD,YAAhB;AACH;;AAED,kBAAI,CAACh5D,IAAI,CAACs7B,kBAAL,CAAwBm3B,SAAxB,CAAL,EAAyC;AACrCrb,gBAAAA,QAAQ,CAAC9xB,YAAT,CAAsBmtC,SAAtB,EAAiCrb,QAAQ,CAAC9tB,UAA1C;AACH;;AAED7B,cAAAA,OAAO,GAAG2vB,QAAV;AACAqiB,cAAAA,QAAQ,GAAG,EAAX;;AACA,qBAAOhyC,OAAO,KAAK4xC,KAAZ,IAAqB5xC,OAAO,KAAK,IAAxC,EAA8C;AAC1CkwC,gBAAAA,KAAK,GAAG1c,iBAAiB,CAACxzB,OAAD,CAAjB,GAA6B,IAA7B,GAAoCstB,UAAU,CAACttB,OAAD,CAAtD;;AACA,oBAAIkwC,KAAK,IAAIlwC,OAAO,CAACzV,QAAR,KAAqB,CAAlC,EAAqC;AACjCynD,kBAAAA,QAAQ,CAACvyD,IAAT,CAAcywD,KAAd;AACH;;AACDlwC,gBAAAA,OAAO,GAAGA,OAAO,CAACxV,UAAlB;AACH;;AAED,oBAAM6nD,SAAS,GAAGL,QAAQ,CAAC7xD,GAAT,MAAkBwvC,QAApC;AACAke,cAAAA,UAAU,GAAG7tC,OAAO,GAAGqyC,SAAvB;;AACA,qBAAOL,QAAQ,CAACr1D,MAAT,GAAkB,CAAzB,EAA4B;AACxBqjB,gBAAAA,OAAO,GAAGgyC,QAAQ,CAAC7xD,GAAT,EAAV;AACA0tD,gBAAAA,UAAU,CAAC/0D,WAAX,CAAuBknB,OAAvB;AACA6tC,gBAAAA,UAAU,GAAG7tC,OAAb;AACH;;AAED,kBAAIqyC,SAAS,KAAK1iB,QAAlB,EAA4B;AACxB4hB,gBAAAA,YAAY,CAAC1zC,YAAb,CAA0Bw0C,SAA1B,EAAqCd,YAAY,CAAC1vC,UAAlD;AACA8tB,gBAAAA,QAAQ,GAAG3vB,OAAX;AACH,eAHD,MAGO;AACH2vB,gBAAAA,QAAQ,GAAG4hB,YAAX;AACH;;AAED,kBAAIh5D,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAJ,EAAyB2f,YAAY,CAACz4D,WAAb,CAAyB84C,KAAK,CAACtyB,SAAN,CAAgB,KAAhB,CAAzB;;AAEzB,kBAAI4oC,UAAJ,EAAgB;AACZA,gBAAAA,UAAU,CAACrqC,YAAX,CAAwB0zC,YAAxB,EAAsCrJ,UAAU,CAACrmC,UAAjD;AACA+vC,gBAAAA,KAAK,CAAC/zC,YAAN,CAAmBqqC,UAAnB,EAA+B0J,KAAK,CAAC/vC,UAArC;AACAqmC,gBAAAA,UAAU,GAAG,IAAb;AACH,eAJD,MAIO;AACH0J,gBAAAA,KAAK,CAAC/zC,YAAN,CAAmB0zC,YAAnB,EAAiCK,KAAK,CAAC/vC,UAAvC;AACH;;AAED1mB,cAAAA,SAAS,GAAGkkC,QAAZ;AACAtuB,cAAAA,MAAM,GAAGsuB,QAAQ,CAAC7I,IAAT,CAAc75B,MAAvB;AACA02D,cAAAA,QAAQ,GAAG,IAAX;AAEA1jB,cAAAA,QAAQ,CAAC9xB,YAAT,CAAsB1iB,SAAtB,EAAiCw0C,QAAQ,CAAC9tB,UAA1C;AACA;AACH;;AAEDquC,YAAAA,KAAK,GAAG,CAACmD,QAAD,GAAYzhB,KAAK,CAACtyB,SAAN,CAAgB,KAAhB,CAAZ,GAAqCguB,UAAU,CAACsE,KAAD,CAAvD;;AACA,gBAAIse,KAAJ,EAAW;AACPvgB,cAAAA,QAAQ,CAAC9xB,YAAT,CAAsBqyC,KAAtB,EAA6BvgB,QAAQ,CAAC9tB,UAAtC;AACA,kBAAI+vB,KAAK,CAACrnC,QAAN,KAAmB,CAAnB,IAAwB,CAAChS,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAA7B,EAAkDsgB,SAAS,GAAGhC,KAAZ;AACrD;;AAED7gB,YAAAA,aAAa,CAACuC,KAAD,EAAQsgB,SAAR,CAAb;AACH;AACJ,SAxKD,EAwKG74D,OAxKH,EAwKYu4D,KAxKZ,EAzCiK,CAmNjK;;;AACA,YAAI7C,YAAY,IAAI,CAACC,cAAjB,IAAmC,CAACgB,YAAY,CAACn2C,CAArD,EAAwD;AACpD,iBAAO;AACH81B,YAAAA,QAAQ,EAAEt2C,OADP;AAEH8B,YAAAA,SAAS,EAAE8rD,MAFR;AAGHl2C,YAAAA,MAAM,EAAEm2C;AAHL,WAAP;AAKH;;AAED8H,QAAAA,cAAc,GAAGA,cAAc,IAAID,YAAnC;;AAEA,YAAIC,cAAJ,EAAoB;AAChB,eAAK,IAAI35D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,gBAAIm1D,UAAU,GAAGmH,UAAU,CAACt8D,CAAD,CAA3B;AAEA,kBAAMm8C,SAAS,GAAGgZ,UAAU,CAAChjC,UAA7B;AACA,gBAAI6X,QAAQ,GAAG,IAAf;;AACA,mBAAOmS,SAAS,CAAC,CAAD,CAAhB,EAAqB;AACjBnS,cAAAA,QAAQ,GAAGmS,SAAS,CAAC,CAAD,CAApB;AACAogB,cAAAA,KAAK,CAAC/zC,YAAN,CAAmBwhB,QAAnB,EAA6BmrB,UAA7B;AACH;;AACDjyD,YAAAA,IAAI,CAAC8S,UAAL,CAAgBm/C,UAAhB;;AAEA,gBAAIn1D,CAAC,KAAKs8D,UAAU,CAACh1D,MAAX,GAAoB,CAA9B,EAAiC;AAC7BxB,cAAAA,SAAS,GAAGkkC,QAAZ;AACAtuB,cAAAA,MAAM,GAAGsuB,QAAQ,CAAC3qB,WAAT,CAAqB/X,MAA9B;AACH;AACJ;AACJ,SAjBD,MAiBO,IAAIoyD,YAAJ,EAAkB;AACrB,eAAK,IAAI15D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGs8D,UAAU,CAACh1D,MAA/B,EAAuCtH,CAAC,EAAxC,EAA4C;AACxC,iBAAKg8D,gBAAL,CAAsBM,UAAU,CAACt8D,CAAD,CAAhC;AACH;AACJ;;AAED,YAAI,CAAC25D,cAAD,IAAmB4C,KAAK,CAACpqC,UAAN,CAAiB7qB,MAAjB,KAA4B,CAAnD,EAAsD;AAClD,cAAItD,OAAO,CAACmuB,UAAZ,EAAwB;AACpBrsB,YAAAA,SAAS,GAAG9B,OAAO,CAACmuB,UAAR,CAAmB,CAAnB,CAAZ;AACH,WAFD,MAEO;AACHrsB,YAAAA,SAAS,GAAG5C,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAZ;AACAvkB,YAAAA,OAAO,CAACP,WAAR,CAAoBqC,SAApB;AACH;AACJ,SAPD,MAOO;AACH,cAAI,CAAC4zD,YAAD,IAAiBwC,YAAY,CAAC78C,WAAb,CAAyB/X,MAAzB,KAAoC,CAAzD,EAA4D;AACxDpE,YAAAA,IAAI,CAAC46C,eAAL,CAAqBye,KAArB,EAA4B,IAA5B;AACA,mBAAO;AACHjiB,cAAAA,QAAQ,EAAE,IADP;AAEHx0C,cAAAA,SAAS,EAAE,IAFR;AAGH4V,cAAAA,MAAM,EAAE;AAHL,aAAP;AAKH;;AAEDxY,UAAAA,IAAI,CAAC46C,eAAL,CAAqBye,KAArB,EAA4BL,YAA5B;;AAEA,cAAIh5D,IAAI,CAACs7B,kBAAL,CAAwB+9B,KAAK,CAACl9C,WAA9B,CAAJ,EAAgD;AAC5CvZ,YAAAA,SAAS,GAAGy2D,KAAK,CAAC/vC,UAAlB;AACA9Q,YAAAA,MAAM,GAAG5V,SAAS,CAACuZ,WAAV,CAAsB/X,MAA/B;AACH,WAHD,MAGO,IAAIpE,IAAI,CAACs7B,kBAAL,CAAwB14B,SAAxB,CAAJ,EAAwC;AAC3CA,YAAAA,SAAS,GAAGo2D,YAAZ;AACAxgD,YAAAA,MAAM,GAAG,CAAT;AACH,WAlBE,CAoBH;;;AACA,gBAAMu9B,OAAO,GAAG;AAACj3C,YAAAA,CAAC,EAAE,CAAJ;AAAOkC,YAAAA,CAAC,EAAE;AAAV,WAAhB;AACA,gBAAM4xC,IAAI,GAAG5yC,IAAI,CAACiqB,WAAL,CAAiBrnB,SAAjB,EAA4By2D,KAA5B,EAAmCtjB,OAAnC,CAAb;AACAv9B,UAAAA,MAAM,IAAIu9B,OAAO,CAACj3C,CAAlB,CAvBG,CAyBH;;AACA,gBAAM87D,UAAU,GAAG56D,IAAI,CAAC+vB,aAAL,CAAmBspC,KAAnB,EAA0B,CAACzmB,IAAD,CAA1B,EAAkC,IAAlC,CAAnB;AAEA9xC,UAAAA,OAAO,CAACmR,UAAR,CAAmBwT,YAAnB,CAAgC4zC,KAAhC,EAAuCv4D,OAAvC;AAEA8B,UAAAA,SAAS,GAAG5C,IAAI,CAACyqB,eAAL,CAAqBmoB,IAArB,EAA2BymB,KAA3B,CAAZ;AACA7gD,UAAAA,MAAM,IAAIoiD,UAAU,CAAC,CAAD,CAApB;AACH;;AAED,eAAO;AACHxjB,UAAAA,QAAQ,EAAEiiB,KADP;AAEHz2D,UAAAA,SAAS,EAAEA,SAFR;AAGH4V,UAAAA,MAAM,EAAEA;AAHL,SAAP;AAKH,OA5pHQ;;AA8pHT;;;;;;AAMA6iD,MAAAA,UAAU,EAAE,UAAUzgD,OAAV,EAAmBva,OAAnB,EAA4Ba,MAA5B,EAAoC;AAC5C;AACA,YAAIb,OAAJ,EAAa;AACT,cAAI,QAAQY,IAAR,CAAaZ,OAAb,KAAyBa,MAAM,KAAK,KAAKgoD,sBAA7C,EAAqE;AACjE,kBAAMoS,KAAK,GAAG37D,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBmL,aAAxB,CAAsC,MAAMyG,OAA5C,CAAd;;AACA,gBAAI0gD,KAAJ,EAAW;AACP,kBAAI,KAAKpS,sBAAT,EAAiC;AAC5BvpD,gBAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBmL,aAAxB,CAAsC,MAAM,KAAK+0C,sBAAL,CAA4B9nD,YAA5B,CAAyC,cAAzC,CAA5C,CAAD,CAAwGhB,KAAxG,CAA8GC,OAA9G,GAAwH,MAAxH;AACAL,gBAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAK23C,sBAAtB,EAA8C,IAA9C;AACH;;AACDlpD,cAAAA,IAAI,CAACsR,QAAL,CAAcpQ,MAAd,EAAsB,IAAtB;AACA,mBAAKgoD,sBAAL,GAA8BhoD,MAA9B;AACAo6D,cAAAA,KAAK,CAACl7D,KAAN,CAAYC,OAAZ,GAAsB,OAAtB;;AAEAgtD,cAAAA,KAAK,CAACkO,mBAAN;;AACAlO,cAAAA,KAAK,CAACmO,kBAAN;AACH;;AACD;AACH,WAfD,MAeO,IAAI,UAAUv6D,IAAV,CAAeZ,OAAf,MAA4B,KAAKg/C,SAAL,CAAezkC,OAAf,MAA4B,IAA5B,IAAoC1Z,MAAM,KAAK,KAAK2nD,mBAAhF,CAAJ,EAA0G;AAC7G,iBAAKviC,UAAL,CAAgB1L,OAAhB,EAAyB,KAAK6xC,SAAL,CAAepuD,IAAf,CAAoB,IAApB,EAA0B6C,MAA1B,CAAzB,EAA4DA,MAA5D;AACA;AACH,WAHM,MAGA,IAAI,SAASD,IAAT,CAAcZ,OAAd,CAAJ,EAA4B;AAC/B,iBAAKimB,UAAL,CAAgB1L,OAAhB,EAAyB,KAAKvZ,OAAL,CAAauZ,OAAb,EAAsBrZ,IAAtB,CAA2BlD,IAA3B,CAAgC,IAAhC,CAAzB,EAAgE6C,MAAhE;AACA;AACH,WAHM,MAGA,IAAI,UAAUD,IAAV,CAAeZ,OAAf,CAAJ,EAA6B;AAChC,iBAAKimB,UAAL,CAAgB1L,OAAhB,EAAyB,KAAKvZ,OAAL,CAAauZ,OAAb,EAAsB8L,MAAtB,CAA6BroB,IAA7B,CAAkC,IAAlC,CAAzB,EAAkE6C,MAAlE;AACH,WAFM,MAEA,IAAI,YAAYD,IAAZ,CAAiBZ,OAAjB,MAA8B,KAAKg/C,SAAL,CAAezkC,OAAf,MAA4B,IAA5B,IAAoC1Z,MAAM,KAAK,KAAK4nD,qBAAlF,CAAJ,EAA8G;AACjH,iBAAKxiC,UAAL,CAAgB1L,OAAhB,EAAyB,KAAKgyC,WAAL,CAAiBvuD,IAAjB,CAAsB,IAAtB,EAA4B6C,MAA5B,CAAzB,EAA8DA,MAA9D;AACA;AACH,WAHM,MAGA,IAAI,cAAcD,IAAd,CAAmBZ,OAAnB,CAAJ,EAAiC;AACpC,iBAAKimB,UAAL,CAAgB1L,OAAhB,EAAyB,KAAKvZ,OAAL,CAAauZ,OAAb,EAAsBrZ,IAAtB,CAA2BlD,IAA3B,CAAgC,IAAhC,EAAsC,IAAtC,CAAzB,EAAsE6C,MAAtE;AACH;AACJ,SA9BD,CA8BE;AA9BF,aA+BK,IAAI0Z,OAAJ,EAAa;AACd,iBAAK6gD,cAAL,CAAoBv6D,MAApB,EAA4B0Z,OAA5B;AACH;;AAED,YAAI,QAAQ3Z,IAAR,CAAaZ,OAAb,CAAJ,EAA2B;AACvB,gBAAMi7D,KAAK,GAAG37D,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBmL,aAAxB,CAAsC,MAAM,KAAK+0C,sBAAL,CAA4B9nD,YAA5B,CAAyC,cAAzC,CAA5C,CAAd;;AACA,cAAIk6D,KAAJ,EAAW;AACPt7D,YAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAK23C,sBAAtB,EAA8C,IAA9C;AACA,iBAAKA,sBAAL,GAA8B,IAA9B;AACAoS,YAAAA,KAAK,CAACl7D,KAAN,CAAYC,OAAZ,GAAsB,MAAtB;;AAEAgtD,YAAAA,KAAK,CAACkO,mBAAN;;AACAlO,YAAAA,KAAK,CAACmO,kBAAN;AACH;AACJ,SAVD,MAUO,IAAI,UAAUv6D,IAAV,CAAeZ,OAAf,CAAJ,EAA6B;AAChC,eAAK2iB,UAAL;AACH,SAFM,MAEA;AACH,eAAKA,UAAL;AACA,eAAK+pC,YAAL;AACH;AACJ,OAztHQ;;AA2tHT;;;;;;AAMA0O,MAAAA,cAAc,EAAE,UAAUv6D,MAAV,EAAkB0Z,OAAlB,EAA2B;AACvC,gBAAQA,OAAR;AACI,eAAK,WAAL;AACI,kBAAM/U,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;AACA,kBAAMikB,KAAK,GAAG9pB,IAAI,CAACga,eAAL,CAAqBnU,OAAO,CAACyjB,UAA7B,EAAyC,UAAUrN,OAAV,EAAmB;AAAE,qBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,aAAjI,EAAmI,KAAnI,KAA6InM,OAAO,CAACyjB,UAAnK;AACA,kBAAMS,IAAI,GAAG/pB,IAAI,CAACga,eAAL,CAAqBnU,OAAO,CAAC8xC,SAA7B,EAAwC,UAAU17B,OAAV,EAAmB;AAAE,qBAAOA,OAAO,CAACgT,UAAR,CAAmB7qB,MAAnB,KAA8B,CAA9B,IAAmC6X,OAAO,CAACjK,QAAR,KAAqB,CAA/D;AAAmE,aAAhI,EAAkI,IAAlI,KAA2InM,OAAO,CAAC8xC,SAAhK;AACA,gBAAI,CAAC7tB,KAAD,IAAU,CAACC,IAAf,EAAqB;AACrB,iBAAK7N,QAAL,CAAc4N,KAAd,EAAqB,CAArB,EAAwBC,IAAxB,EAA8BA,IAAI,CAAC5N,WAAL,CAAiB/X,MAA/C;AACA;;AACJ,eAAK,UAAL;AACI,iBAAKs3D,cAAL;AACA;;AACJ,eAAK,YAAL;AACI,iBAAKC,gBAAL,CAAsBz6D,MAAtB;AACA;;AACJ,eAAK,QAAL;AACA,eAAK,SAAL;AACI,iBAAK6I,MAAL,CAAY6Q,OAAZ;AACA;;AACJ,eAAK,MAAL;AACI,iBAAK0B,OAAL,CAAahR,IAAb;AACA;;AACJ,eAAK,MAAL;AACI,iBAAKgR,OAAL,CAAa/Q,IAAb;AACA;;AACJ,eAAK,cAAL;AACI,iBAAK3B,YAAL;AACA,iBAAKzH,KAAL;AACA;;AACJ,eAAK,OAAL;AACI,iBAAKsJ,KAAL;AACA;;AACJ,eAAK,SAAL;AACI,iBAAKD,OAAL;AACA;;AACJ,eAAK,YAAL;AACI,iBAAKowD,mBAAL;AACA;;AACJ,eAAK,MAAL;AACI,gBAAI,OAAOl3C,OAAO,CAAC8+B,YAAf,KAAgC,UAApC,EAAgD;AAC5C9+B,cAAAA,OAAO,CAAC8+B,YAAR,CAAqB,KAAKyD,WAAL,CAAiB,KAAjB,CAArB;AACH,aAFD,MAEO,IAAI,OAAOhiD,SAAS,CAACiE,IAAjB,KAA0B,UAA9B,EAA0C;AAC7CjE,cAAAA,SAAS,CAACiE,IAAV;AACH,aAFM,MAEA;AACH,oBAAM7J,KAAK,CAAC,uHAAD,CAAX;AACH;;AAED,gBAAIM,OAAO,CAAC0mD,IAAR,CAAan9C,IAAjB,EAAuBvJ,OAAO,CAAC0mD,IAAR,CAAan9C,IAAb,CAAkBrG,YAAlB,CAA+B,UAA/B,EAA2C,IAA3C;AACvB;;AACJ;AAAU;AACN+X,YAAAA,OAAO,GAAG,KAAKmwC,eAAL,CAAqBnwC,OAAO,CAACvJ,WAAR,EAArB,KAA+CuJ,OAAzD;AACA,gBAAI,CAAC,KAAKiwC,UAAL,CAAgBjwC,OAAhB,CAAL,EAA+B,KAAKiwC,UAAL,CAAgBjwC,OAAhB,IAA2B1Z,MAA3B;AAE/B,kBAAM26D,QAAQ,GAAG,KAAK3U,SAAL,CAAesE,eAAhC;AACA,kBAAM5H,GAAG,GAAGiY,QAAQ,CAACz0D,OAAT,CAAiBwT,OAAjB,IAA4B,CAAC,CAA7B,GAAiC,IAAjC,GAAwC5a,IAAI,CAACC,aAAL,CAAmB2a,OAAnB,CAApD;AACA,gBAAIq3C,UAAU,GAAGr3C,OAAjB;;AAEA,gBAAI,SAAS3Z,IAAT,CAAc2Z,OAAd,KAA0BihD,QAAQ,CAACz0D,OAAT,CAAiB,KAAjB,IAA0B,CAAC,CAAzD,EAA4D;AACxD6qD,cAAAA,UAAU,GAAG,KAAb;AACH,aAFD,MAEO,IAAI,SAAShxD,IAAT,CAAc2Z,OAAd,KAA0BihD,QAAQ,CAACz0D,OAAT,CAAiB,KAAjB,IAA0B,CAAC,CAAzD,EAA4D;AAC/D6qD,cAAAA,UAAU,GAAG,KAAb;AACH;;AAED,iBAAKvqC,UAAL,CAAgBk8B,GAAhB,EAAqB,IAArB,EAA2B,CAACqO,UAAD,CAA3B,EAAyC,KAAzC;AACA,iBAAK9vD,KAAL;AA/DR;AAiEH,OAnyHQ;;AAqyHT;;;AAGAyH,MAAAA,YAAY,EAAE,YAAY;AACtB,aAAK8d,UAAL,CAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,EAAkC,IAAlC;AACH,OA1yHQ;;AA4yHT;;;;;AAKA3d,MAAAA,MAAM,EAAE,UAAU6Q,OAAV,EAAmB;AACvB,cAAM4O,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,cAAMwqC,UAAU,GAAG,KAAKpxC,mBAAL,CAAyB,IAAzB,CAAnB;AACA,cAAM4M,KAAK,GAAG,EAAd;AACA,cAAMuJ,KAAK,GAAG,aAAape,OAA3B;AACA,YAAI2P,EAAE,GAAGf,KAAK,CAACU,cAAf;AACA,YAAIM,EAAE,GAAGhB,KAAK,CAACY,YAAf;AACA,YAAIkD,EAAE,GAAG9D,KAAK,CAACI,WAAf;AACA,YAAI2D,EAAE,GAAG/D,KAAK,CAACK,SAAf;;AAEA,aAAK,IAAI/sB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGuuD,UAAU,CAAC7vD,MAA5B,EAAoCilB,CAApC,EAAuCyc,MAA5C,EAAoDhpC,CAAC,GAAG4I,GAAxD,EAA6D5I,CAAC,EAA9D,EAAkE;AAC9DusB,UAAAA,CAAC,GAAG4qC,UAAU,CAACn3D,CAAD,CAAd;;AAEA,cAAI,CAACkD,IAAI,CAACitB,UAAL,CAAgB5D,CAAhB,CAAD,IAAuB,CAAC,KAAKhoB,OAAL,CAAaiJ,IAAzC,EAA+C;AAC3Cw7B,YAAAA,MAAM,GAAG,MAAM7kC,IAAN,CAAWooB,CAAC,CAACjpB,KAAF,CAAQ07D,UAAnB,IAAiC97D,IAAI,CAACoW,SAAL,CAAeiT,CAAC,CAACjpB,KAAF,CAAQ07D,UAAvB,EAAmC,CAAnC,CAAjC,GAAyE,CAAlF;;AACA,gBAAI9iC,KAAJ,EAAW;AACP8M,cAAAA,MAAM,IAAI,EAAV;AACH,aAFD,MAEO;AACHA,cAAAA,MAAM,IAAI,EAAV;AACH;;AACD9lC,YAAAA,IAAI,CAAC8iB,QAAL,CAAcuG,CAAd,EAAiB,YAAjB,EAAgCyc,MAAM,IAAI,CAAV,GAAc,EAAd,GAAmBA,MAAM,GAAG,IAA5D;AACH,WARD,MAQO;AACH,gBAAI9M,KAAK,IAAI3P,CAAC,CAAC6D,sBAAf,EAAuC;AACnCuC,cAAAA,KAAK,CAACvoB,IAAN,CAAWmiB,CAAX;AACH;AACJ;AACJ,SA1BsB,CA4BvB;;;AACA,YAAIoG,KAAK,CAACrrB,MAAN,GAAe,CAAnB,EAAsB;AAClB,eAAK/C,OAAL,CAAaiJ,IAAb,CAAkB6lB,cAAlB,CAAiCnzB,IAAjC,CAAsC,IAAtC,EAA4Cg8B,KAA5C,EAAmDvJ,KAAnD;AACH;;AAED,aAAK1M,UAAL,GAAkB,IAAlB;AACA,aAAK7G,QAAL,CAAcqO,EAAd,EAAkB+C,EAAlB,EAAsB9C,EAAtB,EAA0B+C,EAA1B,EAlCuB,CAoCvB;;AACA,aAAKjR,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OAv1HQ;;AAy1HT;;;AAGA00D,MAAAA,mBAAmB,EAAE,YAAY;AAC7B,cAAM/1D,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;AACA7F,QAAAA,IAAI,CAACwxB,WAAL,CAAiB3rB,OAAjB,EAA0B,eAA1B;;AACA,YAAI7F,IAAI,CAACmgB,QAAL,CAActa,OAAd,EAAuB,eAAvB,CAAJ,EAA6C;AACzC7F,UAAAA,IAAI,CAACsR,QAAL,CAAc,KAAKw5C,gBAAL,CAAsB1/C,UAApC,EAAgD,QAAhD;AACH,SAFD,MAEO;AACHpL,UAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAKu5C,gBAAL,CAAsB1/C,UAAvC,EAAmD,QAAnD;AACH;;AACD,aAAK27C,qBAAL;AACH,OAr2HQ;;AAu2HT;;;AAGA2U,MAAAA,cAAc,EAAE,YAAY;AACxB,cAAM1Q,UAAU,GAAG,KAAK9D,SAAL,CAAe8D,UAAlC;AACA,aAAK5uC,cAAL;AACApc,QAAAA,IAAI,CAACma,kBAAL,CAAwB,CAAC6wC,UAAzB,EAAqC,KAAK/B,uBAA1C;;AAEA,YAAI+B,UAAJ,EAAgB;AACZ,eAAK+Q,oBAAL;;AACAp8D,UAAAA,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6Bq/B,SAA7B,GAAyC,CAAzC;AACAp4C,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BC,OAA3B,GAAqC,MAArC;AACAV,UAAAA,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCC,OAAnC,GAA6C,OAA7C;AAEA,eAAK6mD,SAAL,CAAe4E,kBAAf,GAAoC,KAAK5E,SAAL,CAAe4E,kBAAf,CAAkCt0C,OAAlC,CAA0C,yCAA1C,EAAqF,eAArF,CAApC;AACA,eAAK0vC,SAAL,CAAe2E,qBAAf,GAAuC,KAAK3E,SAAL,CAAe2E,qBAAf,CAAqCr0C,OAArC,CAA6C,yCAA7C,EAAwF,gBAAxF,CAAvC;AAEA,cAAIkN,OAAO,CAAChX,MAAR,KAAmB,MAAnB,IAA6B,CAACgX,OAAO,CAACu8B,gBAA1C,EAA4DthD,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BsN,MAA3B,GAAoC,KAApC;AAE5D,eAAKw5C,SAAL,CAAe8D,UAAf,GAA4B,KAA5B;;AAEA,cAAI,CAAC,KAAK9D,SAAL,CAAe+D,YAApB,EAAkC;AAC9B,iBAAKhB,eAAL,GAAuB,KAAvB;;AACA,gBAAI,0BAA0BhpD,IAA1B,CAA+ByjB,OAAO,CAAC1mB,IAAvC,CAAJ,EAAkD;AAC9C2B,cAAAA,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuB//C,KAAvB,CAA6BC,OAA7B,GAAuC,EAAvC;AACA,mBAAKupD,SAAL,GAAiB,KAAjB;AACA,mBAAKC,UAAL,GAAkB,IAAlB;;AACAwD,cAAAA,KAAK,CAAC2O,YAAN;AACH;AACJ;;AAED,eAAK9N,WAAL;AACAluD,UAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAKu5C,gBAAL,CAAsBz/C,QAAvC,EAAiD,QAAjD,EAxBY,CA0BZ;;AACA,eAAKiR,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,SA5BD,MA4BO;AACH,eAAK+0D,wBAAL;;AACA,eAAK/U,SAAL,CAAe4E,kBAAf,GAAoC,KAAK5E,SAAL,CAAe4E,kBAAf,CAAkCt0C,OAAlC,CAA0C,yCAA1C,EAAqF,gBAArF,CAApC;AACA,eAAK0vC,SAAL,CAAe2E,qBAAf,GAAuC,KAAK3E,SAAL,CAAe2E,qBAAf,CAAqCr0C,OAArC,CAA6C,yCAA7C,EAAwF,eAAxF,CAAvC;AAEA,cAAIkN,OAAO,CAAChX,MAAR,KAAmB,MAAnB,IAA6B,CAACgX,OAAO,CAACu8B,gBAA1C,EAA4DthD,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BsN,MAA3B,GAAoC/N,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBmzD,YAArB,GAAoC,CAApC,GAAyCv8D,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBmzD,YAArB,GAAoC,IAA7E,GAAqF,MAAzH;AAC5D,cAAIx3C,OAAO,CAACu8B,gBAAZ,EAA8Bv8B,OAAO,CAACu8B,gBAAR,CAAyBkb,OAAzB;AAE9B,eAAKjV,SAAL,CAAe8D,UAAf,GAA4B,IAA5B;;AAEA,cAAI,CAAC,KAAK9D,SAAL,CAAe+D,YAApB,EAAkC;AAC9B,iBAAKhB,eAAL,GAAuB,IAAvB;;AACA,gBAAI,KAAKJ,UAAT,EAAqB;AACjBlqD,cAAAA,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuB//C,KAAvB,CAA6BC,OAA7B,GAAuC,MAAvC;AACAV,cAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8BmN,IAA9B,GAAqC,EAArC;AACA,mBAAKq8C,SAAL,GAAiB,IAAjB;AACA,mBAAKC,UAAL,GAAkB,KAAlB;;AACAwD,cAAAA,KAAK,CAACmO,kBAAN;AACH;AACJ;;AAED,eAAKtU,SAAL,CAAeC,MAAf,GAAwB,IAAxB;AACAxnD,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB5G,KAArB;AACAnC,UAAAA,IAAI,CAACsR,QAAL,CAAc,KAAKw5C,gBAAL,CAAsBz/C,QAApC,EAA8C,QAA9C;AACH;;AAED,aAAK+wD,iBAAL;;AAEA,YAAI,OAAOn3D,SAAS,CAACy2D,cAAjB,KAAoC,UAAxC,EAAoDz2D,SAAS,CAACy2D,cAAV,CAAyB,KAAKxU,SAAL,CAAe8D,UAAxC,EAAoD,IAApD;AACvD,OAx6HQ;;AA06HT;;;;AAIA+Q,MAAAA,oBAAoB,EAAE,YAAY;AAC9B,cAAMM,SAAS,GAAG,KAAKC,YAAL,EAAlB;;AAEA,YAAI53C,OAAO,CAACu+B,QAAZ,EAAsB;AAClB,gBAAMsZ,aAAa,GAAG,KAAKnU,OAAL,CAAa3d,eAAb,CAA6B4xB,SAA7B,EAAwC,WAAxC,CAAtB;;AACA,gBAAMG,YAAY,GAAGD,aAAa,CAAC9f,IAAd,CAAmBltB,QAAxC;;AAEA,eAAK,IAAIzyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG82D,YAAY,CAACp4D,MAAnC,EAA2CtH,CAAC,GAAG4I,GAA/C,EAAoD5I,CAAC,EAArD,EAAyD;AACrD,gBAAI,UAAUmE,IAAV,CAAeu7D,YAAY,CAAC1/D,CAAD,CAAZ,CAAgB4kB,OAA/B,CAAJ,EAA6C;AACzC66C,cAAAA,aAAa,CAAC9f,IAAd,CAAmB7rB,WAAnB,CAA+B4rC,YAAY,CAAC1/D,CAAD,CAA3C;AACAA,cAAAA,CAAC,IAAI4I,GAAG,EAAR;AACH;AACJ;;AAED,eAAK62B,GAAL,CAASkgB,IAAT,CAAcx5C,SAAd,GAA0Bs5D,aAAa,CAAC9f,IAAd,CAAmBx5C,SAA7C;AACA,eAAKs5B,GAAL,CAAS5pB,IAAT,CAAc1P,SAAd,GAA0B,KAAKw5D,wBAAL,CAA8BF,aAAa,CAAC5pD,IAAd,CAAmB1P,SAAjD,CAA1B;AAEA,gBAAMgmB,KAAK,GAAGszC,aAAa,CAAC5pD,IAAd,CAAmBohC,UAAjC;;AACA,eAAK,IAAIj3C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGujB,KAAK,CAAC7kB,MAA5B,EAAoCtH,CAAC,GAAG4I,GAAxC,EAA6C5I,CAAC,EAA9C,EAAkD;AAC9C,gBAAImsB,KAAK,CAACnsB,CAAD,CAAL,CAASM,IAAT,KAAkB,iBAAtB,EAAyC;;AACzC,iBAAKm/B,GAAL,CAAS5pB,IAAT,CAAc9P,YAAd,CAA2BomB,KAAK,CAACnsB,CAAD,CAAL,CAASM,IAApC,EAA0C6rB,KAAK,CAACnsB,CAAD,CAAL,CAASgB,KAAnD;AACH;;AACD,cAAI,CAACkC,IAAI,CAACmgB,QAAL,CAAc,KAAKoc,GAAL,CAAS5pB,IAAvB,EAA6B,qBAA7B,CAAL,EAA0D3S,IAAI,CAACsR,QAAL,CAAc,KAAKirB,GAAL,CAAS5pB,IAAvB,EAA6B,qBAA7B;AAC7D,SApBD,MAoBO;AACHhT,UAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB5C,SAAxB,GAAoCo5D,SAAS,CAACj4D,MAAV,GAAmB,CAAnB,GAAuB,KAAKq4D,wBAAL,CAA8BJ,SAA9B,CAAvB,GAAkE,aAAtG;AACH;AACJ,OAx8HQ;;AA08HT;;;;AAIAJ,MAAAA,wBAAwB,EAAE,YAAY;AAClC,cAAMS,YAAY,GAAG,KAAKC,sBAAL,CAA4Bh9D,OAAO,CAACmB,OAAR,CAAgB+E,OAA5C,CAArB;AACA,YAAI+2D,SAAS,GAAG,EAAhB;;AAEA,YAAIl4C,OAAO,CAACu+B,QAAZ,EAAsB;AAClB,gBAAMh6B,KAAK,GAAGjpB,IAAI,CAAC6zC,qBAAL,CAA2B,KAAKtX,GAAL,CAAS5pB,IAApC,EAA0C,IAA1C,CAAd;AACAiqD,UAAAA,SAAS,GAAG,8BAA8B,KAAKrgC,GAAL,CAASkgB,IAAT,CAAcptB,SAAd,CAAwB7X,OAAxB,CAAgC,UAAhC,EAA4C,KAA5C,CAA9B,GAAmF,QAAnF,GAA8FyR,KAA9F,GAAsG,KAAtG,GAA8GyzC,YAA9G,GAA6H,kBAAzI;AACH,SAHD,MAGO;AACHE,UAAAA,SAAS,GAAGF,YAAZ;AACH;;AAED/8D,QAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BC,OAA3B,GAAqC,OAArC;AACAV,QAAAA,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;;AAEA,aAAKw8D,YAAL,CAAkBD,SAAlB;AACH,OA79HQ;;AA+9HT;;;;AAIAjB,MAAAA,gBAAgB,EAAE,UAAU76D,OAAV,EAAmB;AACjC,cAAM8gD,OAAO,GAAGjiD,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhC;AACA,cAAM54C,OAAO,GAAGrJ,OAAO,CAACmB,OAAR,CAAgBkI,OAAhC;AACA,cAAMw4C,UAAU,GAAG7hD,OAAO,CAACmB,OAAR,CAAgB0gD,UAAnC;AACA,cAAM9oC,YAAY,GAAG/Y,OAAO,CAACmB,OAAR,CAAgB4X,YAArC;AACA,cAAM3P,IAAI,GAAGpJ,OAAO,CAACmB,OAAR,CAAgBiI,IAA7B;AACA,cAAM+zD,IAAI,GAAG,KAAK5V,SAAlB;AACA,aAAK9qC,cAAL;;AAEA,YAAI,CAAC0gD,IAAI,CAAC7R,YAAV,EAAwB;AACpB6R,UAAAA,IAAI,CAAC7R,YAAL,GAAoB,IAApB;AAEA6R,UAAAA,IAAI,CAAC/Q,gBAAL,CAAsBG,MAAtB,GAA+B,KAAKtC,SAApC;AACAkT,UAAAA,IAAI,CAAC/Q,gBAAL,CAAsBE,OAAtB,GAAgC,KAAKpC,UAArC;;AAEA,cAAI,KAAKD,SAAL,IAAkB,KAAKC,UAA3B,EAAuC;AACnC,iBAAKD,SAAL,GAAiB,KAAjB;AACA,iBAAKC,UAAL,GAAkB,KAAlB;AACH;;AAED,cAAI,CAAC,CAACnlC,OAAO,CAACq6B,gBAAd,EAAgCp/C,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBukB,YAAzB,CAAsCtc,OAAtC,EAA+Cw4C,UAA/C;AAEhCI,UAAAA,OAAO,CAACxhD,KAAR,CAAc4B,QAAd,GAAyB,OAAzB;AACA4/C,UAAAA,OAAO,CAACxhD,KAAR,CAAc4Y,GAAd,GAAoB,GAApB;AACA4oC,UAAAA,OAAO,CAACxhD,KAAR,CAAcmN,IAAd,GAAqB,GAArB;AACAq0C,UAAAA,OAAO,CAACxhD,KAAR,CAAcqI,KAAd,GAAsB,MAAtB;AACAm5C,UAAAA,OAAO,CAACxhD,KAAR,CAAcmc,QAAd,GAAyB,MAAzB;AACAqlC,UAAAA,OAAO,CAACxhD,KAAR,CAAcsN,MAAd,GAAuB,MAAvB;AACAk0C,UAAAA,OAAO,CAACxhD,KAAR,CAAc28D,MAAd,GAAuB,YAAvB;;AAEA,cAAIp9D,OAAO,CAACmB,OAAR,CAAgBo/C,YAAhB,CAA6B9/C,KAA7B,CAAmCC,OAAnC,MAAiD,QAAQ,EAAzD,CAAJ,EAAkE;AAC9Dy8D,YAAAA,IAAI,CAAC/Q,gBAAL,CAAsBC,MAAtB,GAA+B,IAA/B;AACArsD,YAAAA,OAAO,CAACmB,OAAR,CAAgBo/C,YAAhB,CAA6B9/C,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;AACAL,YAAAA,IAAI,CAACuR,WAAL,CAAiBvI,OAAjB,EAA0B,mBAA1B;AACH;;AAED8zD,UAAAA,IAAI,CAACnR,aAAL,GAAqBhqD,EAAE,CAACgR,IAAH,CAAQvS,KAAR,CAAcgiD,QAAnC;AACAzgD,UAAAA,EAAE,CAACgR,IAAH,CAAQvS,KAAR,CAAcgiD,QAAd,GAAyB,QAAzB;AAEA0a,UAAAA,IAAI,CAAClR,wBAAL,GAAgCpK,UAAU,CAACphD,KAAX,CAAiB+9B,OAAjD;AACA2+B,UAAAA,IAAI,CAACjR,qBAAL,GAA6BnzC,YAAY,CAACtY,KAAb,CAAmB+9B,OAAhD;AACA2+B,UAAAA,IAAI,CAAChR,kBAAL,GAA0B/iD,IAAI,CAAC3I,KAAL,CAAW+9B,OAArC;AAEAqjB,UAAAA,UAAU,CAACphD,KAAX,CAAiB+9B,OAAjB,GAA2Bn1B,OAAO,CAAC5I,KAAR,CAAc+9B,OAAd,GAAwB,EAAnD;AACAzlB,UAAAA,YAAY,CAACtY,KAAb,CAAmB+9B,OAAnB,GAA6B,CAACzlB,YAAY,CAACtY,KAAb,CAAmB+9B,OAAnB,CAA2B9rB,KAA3B,CAAiC,mCAAjC,KAAyE,CAAC,EAAD,CAA1E,EAAgF,CAAhF,CAA7B;AACAtJ,UAAAA,IAAI,CAAC3I,KAAL,CAAW+9B,OAAX,GAAqB,CAACp1B,IAAI,CAAC3I,KAAL,CAAW+9B,OAAX,CAAmB9rB,KAAnB,CAAyB,mCAAzB,KAAiE,CAAC,EAAD,CAAlE,EAAwE,CAAxE,CAArB;AACArJ,UAAAA,OAAO,CAAC5I,KAAR,CAAcqI,KAAd,GAAsBiQ,YAAY,CAACtY,KAAb,CAAmBsN,MAAnB,GAA4B3E,IAAI,CAAC3I,KAAL,CAAWsN,MAAX,GAAoB,MAAtE;AACA1E,UAAAA,OAAO,CAAC5I,KAAR,CAAc4B,QAAd,GAAyB,UAAzB;AACAgH,UAAAA,OAAO,CAAC5I,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AAEAy8D,UAAAA,IAAI,CAAC5R,sBAAL,GAA+BhnD,EAAE,CAAC2c,WAAH,GAAiB7X,OAAO,CAAC8P,YAAxD;AACA0oC,UAAAA,UAAU,CAACphD,KAAX,CAAiBsN,MAAjB,GAA0BovD,IAAI,CAAC5R,sBAAL,GAA8B,IAAxD;AAEAlrD,UAAAA,IAAI,CAAC4Z,aAAL,CAAmB9Y,OAAO,CAAC+Y,iBAA3B,EAA8ChJ,KAAK,CAACoiB,SAApD;;AAEA,cAAIvO,OAAO,CAAC+uB,MAAR,IAAkB/uB,OAAO,CAAChX,MAAR,KAAmB,MAAzC,EAAiD;AAC7C8zC,YAAAA,UAAU,CAACphD,KAAX,CAAiBgiD,QAAjB,GAA4B,MAA5B;;AACA,iBAAK4a,iBAAL;AACH;;AAEDh9D,UAAAA,IAAI,CAACsR,QAAL,CAAc,KAAKw5C,gBAAL,CAAsB3/C,UAApC,EAAgD,QAAhD;AACH,SApDD,MAoDO;AACH2xD,UAAAA,IAAI,CAAC7R,YAAL,GAAoB,KAApB;AAEAvyC,UAAAA,YAAY,CAACtY,KAAb,CAAmB+9B,OAAnB,GAA6B2+B,IAAI,CAACjR,qBAAlC;AACA9iD,UAAAA,IAAI,CAAC3I,KAAL,CAAW+9B,OAAX,GAAqB2+B,IAAI,CAAChR,kBAA1B;AACA9iD,UAAAA,OAAO,CAAC5I,KAAR,CAAc+9B,OAAd,GAAwB,EAAxB;AACAqjB,UAAAA,UAAU,CAACphD,KAAX,CAAiB+9B,OAAjB,GAA2B2+B,IAAI,CAAClR,wBAAhC;AACAhK,UAAAA,OAAO,CAACxhD,KAAR,CAAc+9B,OAAd,GAAwB2+B,IAAI,CAACpR,cAA7B;AACA/pD,UAAAA,EAAE,CAACgR,IAAH,CAAQvS,KAAR,CAAcgiD,QAAd,GAAyB0a,IAAI,CAACnR,aAA9B;AAEA,cAAI,CAAC,CAACjnC,OAAO,CAACq6B,gBAAd,EAAgCr6B,OAAO,CAACq6B,gBAAR,CAAyBx+C,WAAzB,CAAqCyI,OAArC;;AAEhC,cAAI0b,OAAO,CAACs+B,aAAR,GAAwB,CAAC,CAA7B,EAAgC;AAC5BhjD,YAAAA,IAAI,CAACuR,WAAL,CAAiBvI,OAAjB,EAA0B,mBAA1B;AACH;;AAED,cAAI8zD,IAAI,CAAC/Q,gBAAL,CAAsBC,MAAtB,IAAgC,CAACtnC,OAAO,CAACq6B,gBAA7C,EAA+D;AAC3D+d,YAAAA,IAAI,CAAC/Q,gBAAL,CAAsBC,MAAtB,GAA+B,KAA/B;AACArsD,YAAAA,OAAO,CAACmB,OAAR,CAAgBo/C,YAAhB,CAA6B9/C,KAA7B,CAAmCC,OAAnC,GAA6C,OAA7C;AACAL,YAAAA,IAAI,CAACsR,QAAL,CAActI,OAAd,EAAuB,mBAAvB;AACH;;AAED,eAAK4gD,SAAL,GAAiBkT,IAAI,CAAC/Q,gBAAL,CAAsBG,MAAvC;AACA,eAAKrC,UAAL,GAAkBiT,IAAI,CAAC/Q,gBAAL,CAAsBE,OAAxC;AACA,cAAI,KAAKrC,SAAT,EAAoByD,KAAK,CAACmO,kBAAN;AACpB,cAAI,CAAC,CAAC92C,OAAO,CAACq6B,gBAAd,EAAgC/+C,IAAI,CAACuR,WAAL,CAAiBvI,OAAjB,EAA0B,oBAA1B;AAEhCqkD,UAAAA,KAAK,CAAC4P,eAAN;AACAj9D,UAAAA,IAAI,CAAC4Z,aAAL,CAAmB9Y,OAAO,CAAC+Y,iBAA3B,EAA8ChJ,KAAK,CAACmiB,SAApD;AAEAhzB,UAAAA,IAAI,CAACuR,WAAL,CAAiB,KAAKu5C,gBAAL,CAAsB3/C,UAAvC,EAAmD,QAAnD;AACH;;AAED,YAAI,OAAOlG,SAAS,CAAC02D,gBAAjB,KAAsC,UAA1C,EAAsD12D,SAAS,CAAC02D,gBAAV,CAA2B,KAAKzU,SAAL,CAAe+D,YAA1C,EAAwD,IAAxD;AACzD,OAlkIQ;;AAokIT;;;AAGAx/C,MAAAA,KAAK,EAAE,YAAY;AACf,cAAMgoC,MAAM,GAAGzzC,IAAI,CAACC,aAAL,CAAmB,QAAnB,CAAf;AACAwzC,QAAAA,MAAM,CAACrzC,KAAP,CAAaC,OAAb,GAAuB,MAAvB;;AACAsB,QAAAA,EAAE,CAACgR,IAAH,CAAQpS,WAAR,CAAoBkzC,MAApB;;AAEA,cAAMypB,aAAa,GAAGl9D,IAAI,CAACwzC,iBAAL,CAAuBC,MAAvB,CAAtB;AACA,cAAM0pB,YAAY,GAAG,KAAKlW,WAAL,CAAiB,IAAjB,CAArB;AACA,cAAMmW,IAAI,GAAG,KAAK7gC,GAAlB;;AAEA,YAAI7X,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,gBAAM4pB,KAAK,GAAG34C,OAAO,CAACu+B,QAAR,GAAmBjjD,IAAI,CAAC6zC,qBAAL,CAA2BupB,IAAI,CAACzqD,IAAhC,EAAsC,CAAC,iBAAD,CAAtC,CAAnB,GAAgF,6BAA9F;AAEAuqD,UAAAA,aAAa,CAACI,KAAd,CAAoB,KAChB,uBADgB,GAEhB,QAFgB,GAGhBF,IAAI,CAAC3gB,IAAL,CAAUx5C,SAHM,GAIhB,SAJgB,GAKhB,QALgB,GAKLo6D,KALK,GAKG,GALH,GAKSF,YALT,GAKwB,SALxB,GAMhB,SANJ;AAQH,SAXD,MAWO;AACH,gBAAMI,KAAK,GAAG57D,EAAE,CAAC86C,IAAH,CAAQ32C,oBAAR,CAA6B,MAA7B,CAAd;;AACA,gBAAM81B,MAAM,GAAGj6B,EAAE,CAAC86C,IAAH,CAAQ32C,oBAAR,CAA6B,OAA7B,CAAf;;AACA,cAAI03D,QAAQ,GAAG,EAAf;;AACA,eAAK,IAAI1gE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG63D,KAAK,CAACn5D,MAA5B,EAAoCtH,CAAC,GAAG4I,GAAxC,EAA6C5I,CAAC,EAA9C,EAAkD;AAC9C0gE,YAAAA,QAAQ,IAAID,KAAK,CAACzgE,CAAD,CAAL,CAASuyB,SAArB;AACH;;AACD,eAAK,IAAIvyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGk2B,MAAM,CAACx3B,MAA7B,EAAqCtH,CAAC,GAAG4I,GAAzC,EAA8C5I,CAAC,EAA/C,EAAmD;AAC/C0gE,YAAAA,QAAQ,IAAI5hC,MAAM,CAAC9+B,CAAD,CAAN,CAAUuyB,SAAtB;AACH;;AAED6tC,UAAAA,aAAa,CAACI,KAAd,CAAoB,KAChB,uBADgB,GAEhB,QAFgB,GAGhBE,QAHgB,GAIhB,SAJgB,GAKhB,oCALgB,GAKuBL,YALvB,GAKsC,SALtC,GAMhB,SANJ;AAQH;;AAED,aAAKv5D,WAAL;;AACAM,QAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtB,cAAI;AACAsrC,YAAAA,MAAM,CAACtxC,KAAP,GADA,CAEA;;AACA,gBAAInC,IAAI,CAACqxC,SAAL,IAAkB,CAAC,CAAC1vC,EAAE,CAAC87D,YAAvB,IAAuC,CAAC,CAACv5D,EAAE,CAACw5D,UAAhD,EAA4D;AACxD,kBAAI;AACAjqB,gBAAAA,MAAM,CAACE,aAAP,CAAqBx0C,QAArB,CAA8B6uD,WAA9B,CAA0C,OAA1C,EAAmD,KAAnD,EAA0D,IAA1D;AACH,eAFD,CAEE,OAAOhtD,CAAP,EAAU;AACRyyC,gBAAAA,MAAM,CAACE,aAAP,CAAqBloC,KAArB;AACH;AACJ,aAND,MAMO;AACH;AACAgoC,cAAAA,MAAM,CAACE,aAAP,CAAqBloC,KAArB;AACH;AACJ,WAbD,CAaE,OAAO42B,KAAP,EAAc;AACZ,kBAAMhjC,KAAK,CAAC,wCAAwCgjC,KAAzC,CAAX;AACH,WAfD,SAeU;AACN3iC,YAAAA,IAAI,CAACgF,YAAL;AACA1E,YAAAA,IAAI,CAAC8S,UAAL,CAAgB2gC,MAAhB;AACH;AACJ,SApBD,EAoBG,IApBH;AAqBH,OAtoIQ;;AAwoIT;;;AAGAjoC,MAAAA,OAAO,EAAE,YAAY;AACjB9L,QAAAA,IAAI,CAACsjB,UAAL;AACAtjB,QAAAA,IAAI,CAACqtD,YAAL;AACArtD,QAAAA,IAAI,CAAC0c,cAAL;AAEA,cAAM+gD,YAAY,GAAG,KAAKlW,WAAL,CAAiB,IAAjB,CAArB;;AACA,cAAM0W,YAAY,GAAGz5D,EAAE,CAAC3C,IAAH,CAAQ,EAAR,EAAY,QAAZ,CAArB;;AACAo8D,QAAAA,YAAY,CAACC,QAAb,GAAwB,WAAxB;AACA,cAAMx+D,CAAC,GAAGO,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BK,WAA7B,GAA2C,eAArD;AACA,cAAMqkD,IAAI,GAAG,KAAK7gC,GAAlB;;AAEA,YAAI7X,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,gBAAM4pB,KAAK,GAAG34C,OAAO,CAACu+B,QAAR,GAAmBjjD,IAAI,CAAC6zC,qBAAL,CAA2BupB,IAAI,CAACzqD,IAAhC,EAAsC,CAAC,iBAAD,CAAtC,CAAnB,GAAgF,6BAA9F;AAEAgrD,UAAAA,YAAY,CAACx+D,QAAb,CAAsBm+D,KAAtB,CAA4B,KACxB,uBADwB,GAExB,QAFwB,GAGxBF,IAAI,CAAC3gB,IAAL,CAAUx5C,SAHc,GAIxB,+CAJwB,GAI0B7D,CAJ1B,GAI8B,yFAJ9B,GAKxB,SALwB,GAMxB,QANwB,GAMbi+D,KANa,GAML,GANK,GAMCF,YAND,GAMgB,SANhB,GAOxB,SAPJ;AASH,SAZD,MAYO;AACH,gBAAMI,KAAK,GAAG57D,EAAE,CAAC86C,IAAH,CAAQ32C,oBAAR,CAA6B,MAA7B,CAAd;;AACA,gBAAM81B,MAAM,GAAGj6B,EAAE,CAAC86C,IAAH,CAAQ32C,oBAAR,CAA6B,OAA7B,CAAf;;AACA,cAAI03D,QAAQ,GAAG,EAAf;;AACA,eAAK,IAAI1gE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG63D,KAAK,CAACn5D,MAA5B,EAAoCtH,CAAC,GAAG4I,GAAxC,EAA6C5I,CAAC,EAA9C,EAAkD;AAC9C0gE,YAAAA,QAAQ,IAAID,KAAK,CAACzgE,CAAD,CAAL,CAASuyB,SAArB;AACH;;AACD,eAAK,IAAIvyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGk2B,MAAM,CAACx3B,MAA7B,EAAqCtH,CAAC,GAAG4I,GAAzC,EAA8C5I,CAAC,EAA/C,EAAmD;AAC/C0gE,YAAAA,QAAQ,IAAI5hC,MAAM,CAAC9+B,CAAD,CAAN,CAAUuyB,SAAtB;AACH;;AAEDsuC,UAAAA,YAAY,CAACx+D,QAAb,CAAsBm+D,KAAtB,CAA4B,KACxB,uBADwB,GAExB,QAFwB,GAGxB,0BAHwB,GAIxB,sEAJwB,GAKxB,SALwB,GAKZp6D,IAAI,CAAC8F,OAAL,CAAawC,OALD,GAKW,UALX,GAMxBgyD,QANwB,GAOxB,SAPwB,GAQxB,iDARwB,GAQ4Bp+D,CAR5B,GAQgC,iFARhC,GAQoH+9D,YARpH,GAQmI,SARnI,GASxB,SATJ;AAWH;AACJ,OAzrIQ;;AA2rIT;;;;AAIA1/B,MAAAA,WAAW,EAAE,UAAU7S,IAAV,EAAgB;AACzB,cAAMizC,YAAY,GAAG,KAAKpB,wBAAL,CAA8B7xC,IAA9B,CAArB;;AACA,aAAKkzC,gBAAL;;AAEA,YAAI,CAAC,KAAK5W,SAAL,CAAe8D,UAApB,EAAgC;AAC5BrrD,UAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB5C,SAAxB,GAAoC46D,YAApC,CAD4B,CAE5B;;AACA,eAAKvhD,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,SAJD,MAIO;AACH,gBAAMpJ,KAAK,GAAG,KAAK6+D,sBAAL,CAA4BkB,YAA5B,CAAd;;AACA,eAAKhB,YAAL,CAAkB/+D,KAAlB;AACH;AACJ,OA3sIQ;;AA6sIT;;;;;AAKAmpD,MAAAA,WAAW,EAAE,UAAU8W,YAAV,EAAwB;AACjC,cAAMlsB,QAAQ,GAAGlyC,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB5C,SAAzC;AACA,cAAM+6D,UAAU,GAAGh+D,IAAI,CAACC,aAAL,CAAmB,KAAnB,CAAnB;AACA+9D,QAAAA,UAAU,CAAC/6D,SAAX,GAAuB4uC,QAAvB;AAEA,cAAMosB,WAAW,GAAGj+D,IAAI,CAAC62C,eAAL,CAAqBmnB,UAArB,EAAiC,UAAU/hD,OAAV,EAAmB;AACpE,iBAAO,cAAchb,IAAd,CAAmBgb,OAAO,CAAChV,QAA3B,CAAP;AACH,SAFmB,CAApB;;AAIA,aAAK,IAAInK,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGu4D,WAAW,CAAC75D,MAAlC,EAA0CtH,CAAC,GAAG4I,GAA9C,EAAmD5I,CAAC,EAApD,EAAwD;AACpDmhE,UAAAA,WAAW,CAACnhE,CAAD,CAAX,CAAeuK,eAAf,CAA+B,iBAA/B;AACH;;AAED,YAAIqd,OAAO,CAACu+B,QAAR,IAAoB,CAAC8a,YAAzB,EAAuC;AACnC,gBAAM90C,KAAK,GAAGjpB,IAAI,CAAC6zC,qBAAL,CAA2B,KAAKtX,GAAL,CAAS5pB,IAApC,EAA0C,CAAC,iBAAD,CAA1C,CAAd;AACA,iBAAO,0BAA0B,KAAK4pB,GAAL,CAASkgB,IAAT,CAAcptB,SAAxC,GAAoD,QAApD,GAA+DpG,KAA/D,GAAuE,GAAvE,GAA6E+0C,UAAU,CAAC/6D,SAAxF,GAAoG,gBAA3G;AACH,SAHD,MAGO;AACH,iBAAO+6D,UAAU,CAAC/6D,SAAlB;AACH;AACJ,OAruIQ;;AAuuIT;;;;;;;AAOAi7D,MAAAA,SAAS,EAAE,UAAUltD,IAAV,EAAgBmtD,aAAhB,EAA+B;AACtC;AACA,YAAIntD,IAAI,CAACgB,QAAL,KAAkB,CAAtB,EAAyB;AACrB,cAAIhS,IAAI,CAACm7C,eAAL,CAAqBnqC,IAArB,CAAJ,EAAgC,OAAO,EAAP;;AAChC,cAAI,CAACmtD,aAAD,IAAmBn+D,IAAI,CAACyiB,eAAL,CAAqBzR,IAArB,KAA8BhR,IAAI,CAACmvB,oBAAL,CAA0Bne,IAA1B,CAA9B,IAAiEhR,IAAI,CAACkZ,WAAL,CAAiBlI,IAAjB,CAAjE,IAA2FhR,IAAI,CAAC02C,OAAL,CAAa1lC,IAAb,CAA3F,IAAkHhR,IAAI,CAACyhB,QAAL,CAAczQ,IAAd,KAAuBhR,IAAI,CAAC02C,OAAL,CAAa1lC,IAAI,CAAC6I,iBAAlB,CAAhK,EAAwM;AACpM,mBAAO7I,IAAI,CAACqe,SAAZ;AACH,WAFD,MAEO;AACH,mBAAO,QAAQre,IAAI,CAACqe,SAAb,GAAyB,MAAhC;AACH;AACJ,SATqC,CAUtC;;;AACA,YAAIre,IAAI,CAACgB,QAAL,KAAkB,CAAtB,EAAyB;AACrB,cAAI,CAACmsD,aAAL,EAAoB,OAAOntD,IAAI,CAACmL,WAAZ;AACpB,gBAAMiiD,SAAS,GAAGptD,IAAI,CAACmL,WAAL,CAAiBxU,KAAjB,CAAuB,KAAvB,CAAlB;AACA,cAAIijB,IAAI,GAAG,EAAX;;AACA,eAAK,IAAI9tB,CAAC,GAAG,CAAR,EAAW0kB,IAAI,GAAG48C,SAAS,CAACh6D,MAA5B,EAAoCmI,IAAzC,EAA+CzP,CAAC,GAAG0kB,IAAnD,EAAyD1kB,CAAC,EAA1D,EAA8D;AAC1DyP,YAAAA,IAAI,GAAG6xD,SAAS,CAACthE,CAAD,CAAT,CAAaykB,IAAb,EAAP;AACA,gBAAIhV,IAAI,CAACnI,MAAL,GAAc,CAAlB,EAAqBwmB,IAAI,IAAI,QAAQre,IAAR,GAAe,MAAvB;AACxB;;AACD,iBAAOqe,IAAP;AACH,SApBqC,CAqBtC;;;AACA,YAAI5Z,IAAI,CAACgB,QAAL,KAAkB,CAAlB,IAAuB,KAAKqsD,kBAAhC,EAAoD;AAChD,iBAAO,SAASrtD,IAAI,CAACmL,WAAL,CAAiBoF,IAAjB,EAAT,GAAmC,KAA1C;AACH;;AAED,eAAO,EAAP;AACH,OAzwIQ;;AA2wIT;;;;;;AAMA+8C,MAAAA,aAAa,EAAE,UAAU/xD,IAAV,EAAgB;AAC3B,YAAI,CAAC,KAAK68C,yBAAV,EAAqC,OAAO78C,IAAP;AAErC,cAAMie,EAAE,GAAG;AAAC,eAAK,QAAN;AAAgB,eAAK,IAArB;AAA2B,iBAAO,GAAlC;AAAuC,oBAAU,KAAjD;AAAwD,eAAK;AAA7D,SAAX;AACA,eAAOje,IAAI,CAACiL,OAAL,CAAa,KAAK4xC,yBAAlB,EAA6C,UAAUnsD,CAAV,EAAac,CAAb,EAAgBO,CAAhB,EAAmB;AACnE,iBAAOP,CAAC,IAAI,OAAOysB,EAAE,CAAClsB,CAAD,CAAT,KAAiB,QAAjB,GAA4BksB,EAAE,CAAClsB,CAAD,CAA9B,GAAoCA,CAAxC,CAAR;AACH,SAFM,CAAP;AAGH,OAxxIQ;;AA0xIT;;;;;;AAMAigE,MAAAA,qBAAqB,EAAE,UAAU3zC,IAAV,EAAgB;AACnC,eAAOA,IAAI,CACNpT,OADE,CACM,KADN,EACa,EADb,EAEFA,OAFE,CAEM,+CAFN,EAEuD,EAFvD,EAGFA,OAHE,CAGM,+DAHN,EAGuE,EAHvE,EAIFA,OAJE,CAIM,KAAK6xC,yBAJX,EAIsC,EAJtC,CAAP;AAKH,OAtyIQ;;AAwyIT;;;;;;;AAOAmV,MAAAA,SAAS,EAAE,UAAU5zC,IAAV,EAAgB6zC,SAAhB,EAA2B;AAClC7zC,QAAAA,IAAI,GAAG,KAAK2zC,qBAAL,CAA2B3zC,IAA3B,EACFpT,OADE,CACM,4BADN,EACoC,UAAUva,CAAV,EAAac,CAAb,EAAgB;AACnD,cAAI,0BAA0BkD,IAA1B,CAA+BhE,CAA/B,CAAJ,EAAuC,OAAOA,CAAP;AAEvC,cAAIqkB,CAAC,GAAG,IAAR;;AACA,gBAAMo9C,KAAK,GAAG,KAAKhV,wBAAL,CAA8B3rD,CAAC,CAACsU,KAAF,CAAQ,mBAAR,EAA6B,CAA7B,EAAgChB,WAAhC,EAA9B,CAAd;;AACA,cAAIqtD,KAAJ,EAAWp9C,CAAC,GAAGrkB,CAAC,CAACoV,KAAF,CAAQqsD,KAAR,CAAJ,CAAX,KACKp9C,CAAC,GAAGrkB,CAAC,CAACoV,KAAF,CAAQ,KAAKo3C,0BAAb,CAAJ;;AAEL,cAAI,SAASxoD,IAAT,CAAclD,CAAd,MAAqB,CAACujB,CAAD,IAAM,CAAC,UAAUrgB,IAAV,CAAeqgB,CAAC,CAAC7a,QAAF,EAAf,CAA5B,CAAJ,EAA+D;AAC3D,kBAAMk/C,EAAE,GAAG1oD,CAAC,CAACoV,KAAF,CAAQ,qBAAR,CAAX;;AACA,gBAAIszC,EAAJ,EAAQ;AACJ,kBAAI,CAACrkC,CAAL,EAAQA,CAAC,GAAG,EAAJ;AACRA,cAAAA,CAAC,CAACpa,IAAF,CAAOy+C,EAAE,CAAC,CAAD,CAAT;AACH;AACJ;;AAED,cAAIrkC,CAAJ,EAAO;AACH,iBAAK,IAAIxkB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG4b,CAAC,CAACld,MAAxB,EAAgCtH,CAAC,GAAG4I,GAApC,EAAyC5I,CAAC,EAA1C,EAA8C;AAC1C,kBAAI,iCAAiCmE,IAAjC,CAAsCqgB,CAAC,CAACxkB,CAAD,CAAvC,CAAJ,EAAiD;AACjDiB,cAAAA,CAAC,IAAI,MAAMujB,CAAC,CAACxkB,CAAD,CAAZ;AACH;AACJ;;AAED,iBAAOiB,CAAP;AACH,SAxBsC,CAwBrCM,IAxBqC,CAwBhC,IAxBgC,CADpC,CAAP;;AA2BA,cAAM6lB,GAAG,GAAGviB,EAAE,CAACwiB,WAAH,GAAiBC,wBAAjB,CAA0CwG,IAA1C,CAAZ;;AACA,YAAI;AACA5qB,UAAAA,IAAI,CAACu7C,uBAAL,CAA6Br3B,GAA7B,EAAkC,KAAKilC,yBAAvC;AACH,SAFD,CAEE,OAAO9mB,KAAP,EAAc;AACZysB,UAAAA,OAAO,CAACC,IAAR,CAAa,iDAAiD1sB,KAA9D;AACH;;AAED,YAAI,KAAKgoB,eAAL,IAAwB,KAAKA,eAAL,CAAqB9S,KAAjD,EAAwD;AACpD,gBAAMonB,YAAY,GAAGz6C,GAAG,CAACvP,gBAAJ,CAAqB,KAAK01C,eAAL,CAAqB9S,KAA1C,CAArB;;AACA,eAAK,IAAIz6C,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGi5D,YAAY,CAACv6D,MAA9B,EAAsCw6D,UAAtC,EAAkDthD,SAAvD,EAAkExgB,CAAC,GAAG4I,GAAtE,EAA2E5I,CAAC,EAA5E,EAAgF;AAC5EwgB,YAAAA,SAAS,GAAG,GAAG1X,KAAH,CAAS5I,IAAT,CAAc2hE,YAAY,CAAC7hE,CAAD,CAAZ,CAAgBwgB,SAA9B,CAAZ;;AACA,iBAAK,IAAIpgB,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGtS,SAAS,CAAClZ,MAAjC,EAAyClH,CAAC,GAAG0yB,IAA7C,EAAmD1yB,CAAC,EAApD,EAAwD;AACpD0hE,cAAAA,UAAU,GAAG,KAAKvU,eAAL,CAAqBz3C,GAArB,CAAyB0K,SAAS,CAACpgB,CAAD,CAAlC,CAAb;;AACA,kBAAI0hE,UAAJ,EAAgB;AACZA,gBAAAA,UAAU,CAACD,YAAY,CAAC7hE,CAAD,CAAb,CAAV;AACA;AACH;AACJ;AACJ;AACJ;;AAED,cAAM+hE,OAAO,GAAG36C,GAAG,CAAC+K,UAApB;AACA,YAAIuvC,SAAS,GAAG,EAAhB;AACA,YAAIL,aAAa,GAAG,KAApB;;AAEA,aAAK,IAAIrhE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGm5D,OAAO,CAACz6D,MAAzB,EAAiCrG,CAAtC,EAAyCjB,CAAC,GAAG4I,GAA7C,EAAkD5I,CAAC,EAAnD,EAAuD;AACnDiB,UAAAA,CAAC,GAAG8gE,OAAO,CAAC/hE,CAAD,CAAX;;AACA,cAAIiB,CAAC,CAACiU,QAAF,KAAe,CAAf,IAAoB,CAAChS,IAAI,CAAC00C,kBAAL,CAAwB32C,CAAxB,CAArB,IAAmD,CAACiC,IAAI,CAACy2C,OAAL,CAAa14C,CAAb,CAApD,IAAuE,CAACiC,IAAI,CAACm7C,eAAL,CAAqBp9C,CAArB,CAA5E,EAAqG;AACjGogE,YAAAA,aAAa,GAAG,IAAhB;AACA;AACH;AACJ;;AAED,aAAK,IAAIrhE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGm5D,OAAO,CAACz6D,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChD0hE,UAAAA,SAAS,IAAI,KAAKN,SAAL,CAAeW,OAAO,CAAC/hE,CAAD,CAAtB,EAA2BqhE,aAA3B,CAAb;AACH;;AAEDK,QAAAA,SAAS,GAAGx+D,IAAI,CAAC+6C,oBAAL,CAA0ByjB,SAA1B,CAAZ;AACA,eAAO,KAAKF,aAAL,CAAmB,CAACE,SAAD,GAAa5zC,IAAb,GAAoB,CAAC6zC,SAAD,GAAaD,SAAb,GAAyBA,SAAS,CAAChnD,OAAV,CAAkB,OAAOinD,SAAP,KAAqB,QAArB,GAAgCz+D,IAAI,CAACo7C,mBAAL,CAAyBqjB,SAAzB,CAAhC,GAAsEA,SAAxF,EAAmG,EAAnG,CAAhE,CAAP;AACH,OAl3IQ;;AAo3IT;;;;;AAKAhC,MAAAA,wBAAwB,EAAE,UAAU5qB,QAAV,EAAoB;AAC1C,cAAM3tB,GAAG,GAAGviB,EAAE,CAACwiB,WAAH,GAAiBC,wBAAjB,CAA0C,KAAKm6C,qBAAL,CAA2B1sB,QAA3B,CAA1C,CAAZ;;AAEA,YAAI;AACA7xC,UAAAA,IAAI,CAACu7C,uBAAL,CAA6Br3B,GAA7B,EAAkC,KAAKilC,yBAAvC;AACH,SAFD,CAEE,OAAO9mB,KAAP,EAAc;AACZysB,UAAAA,OAAO,CAACC,IAAR,CAAa,gEAAgE1sB,KAA7E;AACH;;AAED,cAAMw8B,OAAO,GAAG36C,GAAG,CAAC+K,UAApB;AACA,YAAIuvC,SAAS,GAAG,EAAhB;;AACA,aAAK,IAAI1hE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGm5D,OAAO,CAACz6D,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChD0hE,UAAAA,SAAS,IAAI,KAAKN,SAAL,CAAeW,OAAO,CAAC/hE,CAAD,CAAtB,EAA2B,IAA3B,CAAb;AACH;;AAED,YAAI0hE,SAAS,CAACp6D,MAAV,KAAqB,CAAzB,EAA4B,OAAO,aAAP;AAE5Bo6D,QAAAA,SAAS,GAAGx+D,IAAI,CAAC+6C,oBAAL,CAA0ByjB,SAA1B,CAAZ;AACA,eAAO,KAAKF,aAAL,CAAmBE,SAAnB,CAAP;AACH,OA54IQ;;AA84IT;;;;;AAKA7B,MAAAA,sBAAsB,EAAE,UAAU/xC,IAAV,EAAgB;AACpC,YAAIk0C,UAAU,GAAG,EAAjB;AACA,cAAMjiB,OAAO,GAAG34C,EAAE,CAAC+tC,MAAnB;AACA,cAAM8sB,KAAK,GAAG,IAAIliB,OAAJ,CAAY,kHAAZ,EAAgI,GAAhI,CAAd;AACA,cAAMp6B,eAAe,GAAGziB,IAAI,CAACyiB,eAAL,CAAqBpkB,IAArB,CAA0B2B,IAA1B,CAAxB;AACA,cAAMo9D,IAAI,GAAG,OAAOxyC,IAAP,KAAgB,QAAhB,GAA2BjpB,EAAE,CAACwiB,WAAH,GAAiBC,wBAAjB,CAA0CwG,IAA1C,CAA3B,GAA6EA,IAA1F;AAEA,YAAIo0C,UAAU,GAAG,KAAK9X,SAAL,CAAemE,UAAf,GAA4B,CAA7C;AACA2T,QAAAA,UAAU,GAAGA,UAAU,GAAG,CAAb,GAAiB,IAAI96D,EAAE,CAACi/B,KAAP,CAAa67B,UAAU,GAAG,CAA1B,EAA6BC,IAA7B,CAAkC,GAAlC,CAAjB,GAA0D,EAAvE;;AAEC,kBAASnoB,aAAT,CAAwBh2C,OAAxB,EAAiCiJ,MAAjC,EAAyCm1D,MAAzC,EAAiD;AAC9C,gBAAM3vC,QAAQ,GAAGzuB,OAAO,CAACmuB,UAAzB;AACA,gBAAMkwC,cAAc,GAAGJ,KAAK,CAAC99D,IAAN,CAAWH,OAAO,CAACmG,QAAnB,CAAvB;AACA,gBAAMm4D,aAAa,GAAID,cAAc,GAAGp1D,MAAH,GAAY,EAAjD;;AAEA,eAAK,IAAIjN,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA1B,EAAkC4M,IAAlC,EAAwCo9C,EAAxC,EAA4CiR,WAAjD,EAA8DviE,CAAC,GAAG4I,GAAlE,EAAuE5I,CAAC,EAAxE,EAA4E;AACxEkU,YAAAA,IAAI,GAAGue,QAAQ,CAACzyB,CAAD,CAAf;AACAuiE,YAAAA,WAAW,GAAGN,KAAK,CAAC99D,IAAN,CAAW+P,IAAI,CAAC/J,QAAhB,CAAd;AACAmnD,YAAAA,EAAE,GAAGiR,WAAW,GAAG,IAAH,GAAU,EAA1B;AACAH,YAAAA,MAAM,GAAGz8C,eAAe,CAACzR,IAAD,CAAf,IAAyB,CAACmuD,cAA1B,IAA4C,CAAC,aAAal+D,IAAb,CAAkBH,OAAO,CAACmG,QAA1B,CAA7C,GAAmF,IAAnF,GAA0F,EAAnG;;AAEA,gBAAI+J,IAAI,CAACgB,QAAL,KAAkB,CAAtB,EAAyB;AACrB8sD,cAAAA,UAAU,IAAI,YAAY9tD,IAAI,CAACmL,WAAL,CAAiBoF,IAAjB,EAAZ,GAAsC,MAAtC,GAA+C6sC,EAA7D;AACA;AACH;;AACD,gBAAIp9C,IAAI,CAACgB,QAAL,KAAkB,CAAtB,EAAyB;AACrB8sD,cAAAA,UAAU,IAAI9+D,IAAI,CAAC4xC,cAAL,CAAqB,QAAQ3wC,IAAR,CAAa+P,IAAI,CAACitB,IAAlB,IAA0B,EAA1B,GAA+BjtB,IAAI,CAACitB,IAAzD,CAAd;AACA;AACH;;AACD,gBAAIjtB,IAAI,CAACie,UAAL,CAAgB7qB,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B06D,cAAAA,UAAU,IAAI,CAAC,QAAQ79D,IAAR,CAAa+P,IAAI,CAAC/J,QAAlB,IAA8B,IAA9B,GAAqC,EAAtC,IAA4Cm4D,aAA5C,GAA4DpuD,IAAI,CAACqe,SAAjE,GAA6E++B,EAA3F;AACA;AACH;;AAEDp9C,YAAAA,IAAI,CAAC/N,SAAL,GAAiB+N,IAAI,CAAC/N,SAAtB;AACA,kBAAM4D,GAAG,GAAGmK,IAAI,CAAC/J,QAAL,CAAcoK,WAAd,EAAZ;AACAytD,YAAAA,UAAU,IAAI,CAACI,MAAM,KAAKC,cAAc,GAAG,EAAH,GAAQ/Q,EAA3B,CAAP,KAA0CgR,aAAa,IAAIC,WAAjB,GAA+Bt1D,MAA/B,GAAwC,EAAlF,IAAwFiH,IAAI,CAACqe,SAAL,CAAehd,KAAf,CAAqBwqC,OAAO,CAAC,MAAMh2C,GAAN,GAAY,QAAb,EAAuB,GAAvB,CAA5B,EAAyD,CAAzD,CAAxF,GAAsJunD,EAApK;AACAtX,YAAAA,aAAa,CAAC9lC,IAAD,EAAOjH,MAAM,GAAGi1D,UAAhB,EAA4B,EAA5B,CAAb;AACAF,YAAAA,UAAU,IAAI,CAACO,WAAW,GAAGt1D,MAAH,GAAY,EAAxB,IAA8B,IAA9B,GAAqClD,GAArC,GAA2C,GAA3C,IAAkDq4D,MAAM,IAAI9Q,EAAV,IAAgB+Q,cAAhB,GAAiC,IAAjC,GAAyC,SAAS,aAAal+D,IAAb,CAAkB+P,IAAI,CAAC/J,QAAvB,CAAT,GAA4C,IAA5C,GAAmD,EAA9I,CAAd;AACH;AACJ,SA9BA,EA8BCm2D,IA9BD,EA8BO,EA9BP,EA8BW,IA9BX,CAAD;;AAgCA,eAAO0B,UAAU,CAACv9C,IAAX,KAAoB,IAA3B;AACH,OA97IQ;;AAg8IT;;;;;;;AAOA5G,MAAAA,WAAW,EAAE,UAAUkD,IAAV,EAAgByhD,QAAhB,EAA0BC,UAA1B,EAAsC;AAC/C59D,QAAAA,EAAE,CAAChB,gBAAH,CAAoBkd,IAApB,EAA0ByhD,QAA1B,EAAoCC,UAApC;;AACA,YAAI76C,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,eAAKlX,GAAL,CAAS57B,gBAAT,CAA0Bkd,IAA1B,EAAgCyhD,QAAhC;AACH;AACJ,OA58IQ;;AA88IT;;;;;;AAMA5kD,MAAAA,cAAc,EAAE,UAAUmD,IAAV,EAAgByhD,QAAhB,EAA0B;AACtC39D,QAAAA,EAAE,CAACC,mBAAH,CAAuBic,IAAvB,EAA6ByhD,QAA7B;;AACA,YAAI56C,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,eAAKlX,GAAL,CAAS36B,mBAAT,CAA6Bic,IAA7B,EAAmCyhD,QAAnC;AACH;AACJ,OAz9IQ;;AA29IT;;;;;;AAMAE,MAAAA,UAAU,EAAE,UAAUC,SAAV,EAAqB;AAC7B,cAAMld,YAAY,GAAG79B,OAAO,CAAC69B,YAA7B;AACA,cAAMmd,SAAS,GAAGh7C,OAAO,CAACy+B,eAA1B;AACA,YAAIwc,aAAa,GAAG,CAApB;AACA,YAAI,CAAC,CAACF,SAAN,EAAiBE,aAAa,GAAG,KAAKC,aAAL,CAAmBH,SAAnB,EAA8BC,SAA9B,CAAhB;;AAEjB,aAAK5Y,aAAL;;AAEA,YAAIvE,YAAY,GAAG,CAAnB,EAAsB;AAClB,cAAIsd,IAAI,GAAG,KAAX;AACA,gBAAMC,KAAK,GAAG76D,SAAS,CAAC86D,YAAV,CAAuBL,SAAvB,CAAd;;AAEA,cAAII,KAAK,GAAGvd,YAAZ,EAA0B;AACtBsd,YAAAA,IAAI,GAAG,IAAP;;AACA,gBAAIF,aAAa,GAAG,CAApB,EAAuB;AACnB,mBAAKxR,YAAL;;AACA,oBAAM3kC,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,oBAAMklC,MAAM,GAAGnlC,KAAK,CAACK,SAAN,GAAkB,CAAjC;AACA,oBAAMtd,IAAI,GAAG,KAAKqa,gBAAL,GAAwBzK,WAArC;AACA,oBAAM6jD,aAAa,GAAGx2C,KAAK,CAACK,SAAN,IAAmBi2C,KAAK,GAAGvd,YAA3B,CAAtB;AAEA,mBAAK37B,gBAAL,GAAwBzK,WAAxB,GAAsC5P,IAAI,CAAC3G,KAAL,CAAW,CAAX,EAAco6D,aAAa,GAAG,CAAhB,GAAoB,CAApB,GAAwBA,aAAtC,IAAuDzzD,IAAI,CAAC3G,KAAL,CAAW4jB,KAAK,CAACK,SAAjB,EAA4Btd,IAAI,CAACnI,MAAjC,CAA7F;AACA,mBAAK8X,QAAL,CAAcsN,KAAK,CAACY,YAApB,EAAkCukC,MAAlC,EAA0CnlC,KAAK,CAACY,YAAhD,EAA8DukC,MAA9D;AACH;AACJ,WAZD,MAYO,IAAKmR,KAAK,GAAGH,aAAT,GAA0Bpd,YAA9B,EAA4C;AAC/Csd,YAAAA,IAAI,GAAG,IAAP;AACH;;AAED,cAAIA,IAAJ,EAAU;AACN,iBAAKI,iBAAL;;AACA,gBAAIN,aAAa,GAAG,CAApB,EAAuB,OAAO,KAAP;AAC1B;AACJ;;AAED,eAAO,IAAP;AACH,OApgJQ;;AAsgJT;;;;;;AAMA5N,MAAAA,cAAc,EAAE,UAAUjxD,OAAV,EAAmBqiD,eAAnB,EAAoC;AAChD,YAAIz+B,OAAO,CAAC69B,YAAZ,EAA0B;AACtB,gBAAMmd,SAAS,GAAGvc,eAAe,IAAIz+B,OAAO,CAACy+B,eAA7C;AACA,gBAAM/+C,MAAM,GAAG,KAAKw7D,aAAL,CAAoB,OAAO9+D,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwC,KAAKwpD,aAAL,GAAqBxpD,OAAO,CAACuuB,SAA7B,GAAyCvuB,OAAO,CAACqb,WAA7G,EAA2HujD,SAA3H,CAAf;;AACA,cAAIt7D,MAAM,GAAG,CAAT,IAAcA,MAAM,GAAGa,SAAS,CAAC86D,YAAV,CAAuBL,SAAvB,CAAT,GAA6Ch7C,OAAO,CAAC69B,YAAvE,EAAqF;AACjF,iBAAK0d,iBAAL;;AACA,mBAAO,KAAP;AACH;AACJ;;AACD,eAAO,IAAP;AACH,OAthJQ;;AAwhJT;;;;;;;AAOAL,MAAAA,aAAa,EAAE,UAAUrgD,OAAV,EAAmB4jC,eAAnB,EAAoC;AAC/C,eAAO,OAAOliD,IAAP,CAAYkiD,eAAZ,IAA+BnjD,IAAI,CAACi0C,aAAL,CAAmB10B,OAAnB,CAA/B,GAA6DA,OAAO,CAACnb,MAA5E;AACH,OAjiJQ;;AAmiJT;;;;AAIA0iD,MAAAA,aAAa,EAAE,YAAY;AACvB,YAAInnD,OAAO,CAACmB,OAAR,CAAgB29C,WAApB,EAAiC;AAC7Bv6C,UAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AAAExI,YAAAA,OAAO,CAACmB,OAAR,CAAgB29C,WAAhB,CAA4BtiC,WAA5B,GAA0ClX,SAAS,CAAC86D,YAAV,CAAuBr7C,OAAO,CAACy+B,eAA/B,CAA1C;AAA4F,WAAxH;AACH;AACJ,OA3iJQ;;AA6iJT;;;;AAIA8c,MAAAA,iBAAiB,EAAE,YAAY;AAC3B,cAAM1hB,WAAW,GAAG5+C,OAAO,CAACmB,OAAR,CAAgBy9C,WAApC;;AACA,YAAIA,WAAW,IAAI,CAACv+C,IAAI,CAACmgB,QAAL,CAAco+B,WAAd,EAA2B,UAA3B,CAApB,EAA4D;AACxDv+C,UAAAA,IAAI,CAACsR,QAAL,CAAcitC,WAAd,EAA2B,UAA3B;;AACAr6C,UAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtBnI,YAAAA,IAAI,CAACuR,WAAL,CAAiBgtC,WAAjB,EAA8B,UAA9B;AACH,WAFD,EAEG,GAFH;AAGH;AACJ,OAzjJQ;;AA2jJT;;;;AAIAsI,MAAAA,gBAAgB,EAAE,YAAY;AAC1B,aAAK,IAAI/pD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG,KAAK6kD,qBAAL,CAA2BnmD,MAAjD,EAAyDtH,CAAC,GAAG4I,GAA7D,EAAkE5I,CAAC,EAAnE,EAAuE;AACnE,eAAKytD,qBAAL,CAA2BztD,CAA3B;AACH;AACJ,OAnkJQ;;AAqkJT;;;;AAIAghE,MAAAA,gBAAgB,EAAE,YAAY;AAC1B,aAAK,IAAIhhE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG,KAAK8kD,qBAAL,CAA2BpmD,MAAjD,EAAyDtH,CAAC,GAAG4I,GAA7D,EAAkE5I,CAAC,EAAnE,EAAuE;AACnE,eAAK0tD,qBAAL,CAA2B1tD,CAA3B;AACH;AACJ,OA7kJQ;;AA+kJT;;;;;AAKA+/D,MAAAA,YAAY,EAAE,UAAU/+D,KAAV,EAAiB;AAC3B,YAAI4mB,OAAO,CAACu8B,gBAAZ,EAA8B;AAC1Bv8B,UAAAA,OAAO,CAACu8B,gBAAR,CAAyBif,MAAzB,GAAkCC,QAAlC,CAA2CriE,KAA3C;AACH,SAFD,MAEO;AACH6B,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBjL,KAArB,GAA6BA,KAA7B;AACH;AACJ,OA1lJQ;;AA4lJT;;;;AAIAw+D,MAAAA,YAAY,EAAE,YAAY;AACtB,eAAO53C,OAAO,CAACu8B,gBAAR,GAA2Bv8B,OAAO,CAACu8B,gBAAR,CAAyBif,MAAzB,GAAkCE,QAAlC,EAA3B,GAA0EzgE,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBjL,KAAtG;AACH,OAlmJQ;;AAomJT;;;;;;AAMAuiE,MAAAA,KAAK,EAAE,UAAUC,MAAV,EAAkBC,SAAlB,EAA6B;AAChC,cAAM1jB,OAAO,GAAG34C,EAAE,CAAC+tC,MAAnB;AACA,aAAKoW,GAAL,GAAW3jC,OAAO,CAAC+uB,MAAR,GAAiB9zC,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6Bi7B,aAA9C,GAA8DzvC,EAAzE;AACA,aAAKq4B,GAAL,GAAW56B,EAAX;AACA,aAAK2oD,aAAL,GAAqB5lC,OAAO,CAACy+B,eAAR,KAA4B,WAAjD;;AAEA,YAAI,CAACz+B,OAAO,CAAC+uB,MAAT,IAAmB,OAAOvvC,EAAE,CAACs8D,UAAV,KAAyB,UAAhD,EAA4D;AACxD,cAAInnB,KAAK,GAAG15C,OAAO,CAACmB,OAAR,CAAgB4X,YAA5B;;AACA,iBAAO2gC,KAAP,EAAc;AACV,gBAAIA,KAAK,CAAConB,UAAV,EAAsB;AAClB,mBAAKnY,WAAL,GAAmBjP,KAAK,CAAConB,UAAzB;AACA;AACH,aAHD,MAGO,IAAIpnB,KAAK,YAAYn1C,EAAE,CAACs8D,UAAxB,EAAoC;AACvC,mBAAKlY,WAAL,GAAmBjP,KAAnB;AACA;AACH;;AACDA,YAAAA,KAAK,GAAGA,KAAK,CAACpnC,UAAd;AACH;AACJ,SAlB+B,CAoBhC;;;AACA,cAAMyuD,gBAAgB,GAAG,CAAC,GAAD,EAAM,GAAN,EAAW,KAAX,EAAkB,GAAlB,EAAuB,QAAvB,CAAzB;AACA,cAAMC,aAAa,GAAG,CAACj8C,OAAO,CAACm+B,gBAAT,GAA4B,EAA5B,GAAiCn+B,OAAO,CAACm+B,gBAAR,CAAyBl7C,KAAzB,CAA+B,GAA/B,EAAoCrB,MAApC,CAA2C,UAAUgb,CAAV,EAAa;AAAE,iBAAO,oBAAoBrgB,IAApB,CAAyBqgB,CAAzB,CAAP;AAAqC,SAA/F,CAAvD;;AACA,aAAK,IAAIxkB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6jE,aAAa,CAACv8D,MAAlC,EAA0CtH,CAAC,EAA3C,EAA+C;AAC3C4jE,UAAAA,gBAAgB,CAACn5D,MAAjB,CAAwBm5D,gBAAgB,CAACt5D,OAAjB,CAAyBu5D,aAAa,CAAC7jE,CAAD,CAAb,CAAiBuU,WAAjB,EAAzB,CAAxB,EAAkF,CAAlF;AACH;;AACD,aAAK+3C,yBAAL,GAAiCsX,gBAAgB,CAACt8D,MAAjB,KAA4B,CAA5B,GAAgC,IAAhC,GAAuC,IAAIy4C,OAAJ,CAAY,aAAa6jB,gBAAgB,CAACzB,IAAjB,CAAsB,GAAtB,CAAb,GAA0C,+BAAtD,EAAuF,IAAvF,CAAxE,CA1BgC,CA4BhC;;AACA,cAAM2B,WAAW,GAAG,gPAApB;AACA,aAAKvC,kBAAL,GAA0B35C,OAAO,CAACk+B,oBAAR,CAA6Bx7C,OAA7B,CAAqC,IAArC,IAA6C,CAAC,CAAxE;AACA,aAAK+hD,yBAAL,GAAiC,IAAItM,OAAJ,CAAY,OAAOn4B,OAAO,CAACk+B,oBAAR,CAA6BprC,OAA7B,CAAqC,KAArC,EAA4C,EAA5C,CAAP,GAAyD,IAArE,EAA2E,GAA3E,CAAjC;AACA,aAAK6xC,yBAAL,GAAiCrpD,IAAI,CAACo7C,mBAAL,CAAyB12B,OAAO,CAACk+B,oBAAR,CAA6BprC,OAA7B,CAAqC,KAArC,EAA4C,WAA5C,CAAzB,CAAjC;AACA,aAAK8xC,wBAAL,GAAgCtpD,IAAI,CAACo7C,mBAAL,CAAyB12B,OAAO,CAACo+B,kBAAjC,CAAhC;AAEA,cAAM+d,KAAK,GAAGn8C,OAAO,CAACq+B,mBAAtB;AACA,cAAM+d,QAAQ,GAAG,EAAjB;AACA,YAAIC,OAAO,GAAG,EAAd;;AACA,YAAI,CAAC,CAACF,KAAN,EAAa;AACT,eAAK,IAAIG,CAAT,IAAcH,KAAd,EAAqB;AACjB,gBAAI,CAAC7gE,IAAI,CAAC8oC,MAAL,CAAY+3B,KAAZ,EAAmBG,CAAnB,CAAL,EAA4B;;AAC5B,gBAAIA,CAAC,KAAK,KAAV,EAAiB;AACbD,cAAAA,OAAO,GAAGF,KAAK,CAACG,CAAD,CAAL,GAAW,GAArB;AACH,aAFD,MAEO;AACHF,cAAAA,QAAQ,CAACE,CAAD,CAAR,GAAc,IAAInkB,OAAJ,CAAY,SAASgkB,KAAK,CAACG,CAAD,CAAd,GAAoB,GAApB,GAA0BJ,WAA1B,GAAwC,kBAApD,EAAwE,IAAxE,CAAd;AACH;AACJ;AACJ;;AAED,aAAKnX,0BAAL,GAAkC,IAAI5M,OAAJ,CAAY,SAASkkB,OAAT,GAAmBH,WAAnB,GAAiC,kBAA7C,EAAiE,IAAjE,CAAlC;AACA,aAAKlX,wBAAL,GAAgCoX,QAAhC,CAlDgC,CAoDhC;;AACA,aAAKlX,SAAL,GAAiB,UAAU3oD,IAAV,CAAeyjB,OAAO,CAAC1mB,IAAvB,CAAjB;AACA,aAAK6rD,UAAL,GAAkB,0BAA0B5oD,IAA1B,CAA+ByjB,OAAO,CAAC1mB,IAAvC,CAAlB;AACA,aAAK8rD,gBAAL,GAAwB,kBAAkB7oD,IAAlB,CAAuByjB,OAAO,CAAC1mB,IAA/B,CAAxB,CAvDgC,CAyDhC;;AACA,aAAKijE,eAAL,GA1DgC,CA4DhC;;;AACA,aAAK1W,qBAAL,GAA6B,EAA7B;AACA,aAAKC,qBAAL,GAA6B,EAA7B,CA9DgC,CAgEhC;;AACA,aAAKH,eAAL,GAAuB;AAAE9S,UAAAA,KAAK,EAAE,EAAT;AAAa3kC,UAAAA,GAAG,EAAE;AAAlB,SAAvB;AACA,cAAMsuD,YAAY,GAAG,EAArB,CAlEgC,CAoEhC;;AACA,aAAK9W,aAAL,GAAqB,EAArB;AACA,aAAKK,YAAL,CAAkBhlD,IAAlB,GAAyB,EAAzB;AACA,aAAKglD,YAAL,CAAkBG,SAAlB,GAA8B,EAA9B;AAEA,YAAIuW,gBAAgB,GAAG,EAAvB;AACA,YAAI7oD,MAAJ,EAAYgU,MAAZ;;AACA,aAAK,IAAIluB,GAAT,IAAgBiD,OAAhB,EAAyB;AACrB,cAAI,CAACrB,IAAI,CAAC8oC,MAAL,CAAYznC,OAAZ,EAAqBjD,GAArB,CAAL,EAAgC;AAChCka,UAAAA,MAAM,GAAGjX,OAAO,CAACjD,GAAD,CAAhB;AACAkuB,UAAAA,MAAM,GAAGkxB,iBAAiB,CAACp/C,GAAD,CAA1B;;AACA,cAAIka,MAAM,CAACkK,MAAP,IAAiB8J,MAArB,EAA6B;AACzB,iBAAKhG,UAAL,CAAgBloB,GAAhB,EAAqB,IAArB,EAA2BkuB,MAA3B;AACH;;AACD,cAAI,OAAOhU,MAAM,CAACosB,aAAd,KAAgC,UAAhC,IAA8C,OAAOpsB,MAAM,CAACqsB,aAAd,KAAgC,UAAlF,EAA8F;AAC1F,iBAAKre,UAAL,CAAgBloB,GAAhB,EAAqB,IAArB,EAA2BkuB,MAA3B;;AACA,iBAAKi+B,qBAAL,CAA2BrjD,IAA3B,CAAgCoR,MAAM,CAACosB,aAAP,CAAqBrmC,IAArB,CAA0B,IAA1B,CAAhC;;AACA,iBAAKmsD,qBAAL,CAA2BtjD,IAA3B,CAAgCoR,MAAM,CAACqsB,aAAP,CAAqBtmC,IAArB,CAA0B,IAA1B,CAAhC;AACH;;AACD,cAAI6F,EAAE,CAACi/B,KAAH,CAASC,OAAT,CAAiB9qB,MAAM,CAACkpB,QAAxB,CAAJ,EAAuC;AACnC,kBAAMA,QAAQ,GAAGlpB,MAAM,CAACkpB,QAAxB;AACA,iBAAKlb,UAAL,CAAgBloB,GAAhB,EAAqB,IAArB,EAA2BkuB,MAA3B;AACA,iBAAKm+B,YAAL,CAAkBhlD,IAAlB,GAAyB,KAAKglD,YAAL,CAAkBhlD,IAAlB,CAAuBE,MAAvB,CAA8B67B,QAA9B,CAAzB;AACA2/B,YAAAA,gBAAgB,CAACj6D,IAAjB,CAAsB9I,GAAtB;;AACA,iBAAK,IAAIyI,GAAG,GAAG,CAAV,EAAa2a,IAAI,GAAGggB,QAAQ,CAACp9B,MAAlC,EAA0CyC,GAAG,GAAG2a,IAAhD,EAAsD3a,GAAG,EAAzD,EAA6D;AACzD,mBAAK4jD,YAAL,CAAkBG,SAAlB,CAA4BppB,QAAQ,CAAC36B,GAAD,CAAR,CAAcwK,WAAd,EAA5B,IAA2DjT,GAA3D;AACH;AACJ;;AACD,cAAIka,MAAM,CAAC0L,WAAX,EAAwB;AACpB,kBAAM3d,IAAI,GAAGiS,MAAM,CAAC0L,WAAP,EAAb;AACAk9C,YAAAA,YAAY,CAACh6D,IAAb,CAAkB,MAAMb,IAAI,CAACnG,SAA7B;AACA,iBAAKmqD,eAAL,CAAqBz3C,GAArB,CAAyBvM,IAAI,CAACnG,SAA9B,IAA2CmG,IAAI,CAAC4d,MAAL,CAAY5lB,IAAZ,CAAiB,IAAjB,CAA3C;AACH;AACJ;;AAED,aAAKgsD,eAAL,CAAqB9S,KAArB,GAA6B2pB,YAAY,CAACz6D,QAAb,EAA7B;AACA,aAAKgkD,YAAL,CAAkBC,WAAlB,GAAgC,KAAKD,YAAL,CAAkBhlD,IAAlB,CAAuBw5D,IAAvB,CAA4B,GAA5B,CAAhC;AACA,aAAKxU,YAAL,CAAkB1X,MAAlB,GAA2B,IAAI8J,OAAJ,CAAY,OAAQ,KAAK4N,YAAL,CAAkBhlD,IAAlB,CAAuBw5D,IAAvB,CAA4B,GAA5B,CAAR,GAA2C,IAAvD,EAA6D,GAA7D,CAA3B;AACA,aAAKxU,YAAL,CAAkBE,YAAlB,GAAiC,IAAI9N,OAAJ,CAAY,QAASskB,gBAAgB,CAAC/8D,MAAjB,KAA4B,CAA5B,GAAgC,WAAhC,GAA8C+8D,gBAAgB,CAAClC,IAAjB,CAAsB,GAAtB,CAAvD,IAAqF,IAAjG,EAAuG,GAAvG,CAAjC,CA1GgC,CA4GhC;;AACA,aAAK/X,SAAL,CAAewE,cAAf,GAAgC/rD,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwBxhD,KAAxB,CAA8B+9B,OAA9D;AACA,aAAKshB,YAAL,GAAoB9/C,OAAO,CAACmB,OAAR,CAAgB6oC,WAApC;AACA,aAAKmW,YAAL,GAAoBngD,OAAO,CAACmB,OAAR,CAAgBolD,WAApC;AACA,aAAKiE,kBAAL,GAA0B,KAAKrK,YAAL,CAAkB3rC,aAAlB,CAAgC,QAAhC,CAA1B,CAhHgC,CAkHhC;;AACA,aAAKmI,OAAL,GAAeiqC,WAAW,CAAC,IAAD,EAAO,KAAK6a,sBAAL,CAA4B/iE,IAA5B,CAAiC,IAAjC,CAAP,CAA1B,CAnHgC,CAqHhC;;AACA,aAAK8kB,SAAL,CAAe,CAACwkC,OAAD,CAAf,EAtHgC,CAwHhC;;AACA,YAAIjjC,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB,eAAKlX,GAAL,GAAW58B,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6Bk7B,eAAxC;AACAj0C,UAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,GAA0B,KAAK02B,GAAL,CAAS5pB,IAAnC;AACA,cAAI+R,OAAO,CAACu9B,aAAR,CAAsB3F,MAA1B,EAAkC38C,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBzF,KAAxB,CAA8B+9B,OAA9B,GAAwCzZ,OAAO,CAACu9B,aAAR,CAAsB3F,MAA9D;AAClC,cAAI53B,OAAO,CAAChX,MAAR,KAAmB,MAAvB,EAA+B,KAAK2zD,WAAL,GAAmB,KAAK9kC,GAAL,CAAS5pB,IAA5B;AAClC;;AAED,aAAK2uD,gBAAL,CAAsBhB,MAAtB,EAA8BC,SAA9B;AACH,OA3uJQ;;AA6uJT;;;;AAIAU,MAAAA,eAAe,EAAE,YAAY;AACzB,aAAKhY,uBAAL,GAA+BtpD,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB2L,gBAAxB,CAAyC,yDAAzC,CAA/B;AACA,aAAKyF,uBAAL,GAA+Bza,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB2L,gBAAxB,CAAyC,wDAAzC,CAA/B;AACA,cAAM0xC,IAAI,GAAG1mD,OAAO,CAAC0mD,IAArB;AACA,aAAKwE,UAAL,GAAkB;AACd0W,UAAAA,MAAM,EAAElb,IAAI,CAAC/8C,IADC;AAEdk4D,UAAAA,CAAC,EAAEnb,IAAI,CAAC98C,SAFM;AAGdk4D,UAAAA,EAAE,EAAEpb,IAAI,CAAC78C,MAHK;AAIdk4D,UAAAA,GAAG,EAAErb,IAAI,CAAC58C,MAJI;AAKdk4D,UAAAA,GAAG,EAAEtb,IAAI,CAAC38C,SALI;AAMdk4D,UAAAA,GAAG,EAAEvb,IAAI,CAAC18C,WANI;AAOdylD,UAAAA,OAAO,EAAE/I,IAAI,CAACr8C,OAPA;AAQdqlD,UAAAA,MAAM,EAAEhJ,IAAI,CAACt8C;AARC,SAAlB;AAUA,aAAK+gD,gBAAL,GAAwB;AACpB3/C,UAAAA,UAAU,EAAEk7C,IAAI,CAACl7C,UADG;AAEpBC,UAAAA,UAAU,EAAEi7C,IAAI,CAACj7C,UAFG;AAGpBC,UAAAA,QAAQ,EAAEg7C,IAAI,CAACh7C;AAHK,SAAxB;AAKH,OApwJQ;;AAswJT;;;;;;AAMAi2D,MAAAA,gBAAgB,EAAE,UAAUhB,MAAV,EAAkBC,SAAlB,EAA6B;AAC3C5gE,QAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB5C,SAAxB,GAAoCq9D,MAAM,GAAGC,SAAH,GAAe,KAAK9D,wBAAL,CAA8B,OAAO8D,SAAP,KAAqB,QAArB,GAAgCA,SAAhC,GAA4C5gE,OAAO,CAACmB,OAAR,CAAgBygD,aAAhB,CAA8BzjD,KAAxG,CAAzD;AACH,OA9wJQ;;AAgxJT;;;;AAIAipD,MAAAA,qBAAqB,EAAE,YAAY;AAC/B,aAAKiW,iBAAL;;AACA,aAAKZ,iBAAL;AACH,OAvxJQ;;AAyxJT;;;;AAIAgF,MAAAA,sBAAsB,EAAE,YAAY;AAChC/T,QAAAA,KAAK,CAACgB,gBAAN;;AACA,YAAI1uD,OAAO,CAAC0mD,IAAR,CAAan9C,IAAjB,EAAuBvJ,OAAO,CAAC0mD,IAAR,CAAan9C,IAAb,CAAkB7B,eAAlB,CAAkC,UAAlC;AACvB,YAAIpC,SAAS,CAAC48D,QAAd,EAAwB58D,SAAS,CAAC48D,QAAV,CAAmB,KAAK5a,WAAL,CAAiB,IAAjB,CAAnB,EAA2C,IAA3C;AAC3B,OAjyJQ;;AAmyJT;;;;AAIA+V,MAAAA,iBAAiB,EAAE,YAAY;AAC3B,YAAI,KAAKqE,WAAT,EAAsB;AAClBn9D,UAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AAAExI,YAAAA,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCsN,MAAnC,GAA4ChO,IAAI,CAAC2hE,WAAL,CAAiBvoD,YAAjB,GAAgC,IAA5E;AAAmF,WAA/G;AACH;AACJ,OA3yJQ;;AA6yJT;;;;AAIAsjD,MAAAA,iBAAiB,EAAE,YAAY;AAC3B,YAAI,KAAK3c,YAAT,EAAuB;AACnB,cAAI,KAAKyH,SAAL,CAAe8D,UAAnB,EAA+B;AAC3B,iBAAKvL,YAAL,CAAkBr/C,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA;AACH;;AAED,gBAAMwF,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;;AACA,cAAI,CAAC7F,IAAI,CAACs7B,kBAAL,CAAwBz1B,OAAO,CAACsW,WAAhC,CAAD,IAAiDtW,OAAO,CAACsO,aAAR,CAAsB,mEAAtB,CAAjD,IAA+I,CAACtO,OAAO,CAAC48C,SAAR,CAAkBpwC,KAAlB,CAAwB,KAAxB,KAAkC,EAAnC,EAAuCjO,MAAvC,GAAgD,CAAnM,EAAsM;AAClM,iBAAKq7C,YAAL,CAAkBr/C,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACH,WAFD,MAEO;AACH,iBAAKo/C,YAAL,CAAkBr/C,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;AACH;AACJ;AACJ,OA/zJQ;;AAi0JT;;;;;AAKAyhE,MAAAA,iBAAiB,EAAE,UAAUC,UAAV,EAAsB;AACrC,YAAI,KAAKtX,YAAL,CAAkBE,YAAlB,CAA+B1pD,IAA/B,CAAoC,KAAKiZ,qBAAzC,CAAJ,EAAqE;AAErE,cAAMsP,KAAK,GAAG,KAAKC,QAAL,EAAd;AACA,cAAMknC,SAAS,GAAGnnC,KAAK,CAAC0mC,uBAAxB;AACA,cAAM1B,QAAQ,GAAGhlC,KAAK,CAACU,cAAvB;AACA,cAAMirC,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BkjC,SAA3B,EAAsC,IAAtC,CAAhB;AACA,YAAInB,SAAJ,EAAeh3C,MAAf,EAAuBwQ,MAAvB;AAEA,cAAMg5C,aAAa,GAAGhiE,IAAI,CAAC8G,gBAAL,CAAsB6pD,SAAtB,EAAiC3wD,IAAI,CAACkZ,WAAtC,CAAtB;AACA,YAAI8oD,aAAa,IAAI,CAAChiE,IAAI,CAACw2C,OAAL,CAAawrB,aAAb,CAAtB,EAAmD;AACnD,YAAG,CAAChiE,IAAI,CAACmvB,oBAAL,CAA0Bq/B,QAA1B,KAAuCxuD,IAAI,CAAC+R,YAAL,CAAkBy8C,QAAlB,CAAxC,KAAwExuD,IAAI,CAACkZ,WAAL,CAAiBs1C,QAAQ,CAACv/B,UAAT,CAAoBzF,KAAK,CAACI,WAA1B,CAAjB,CAA3E,EAAqI;;AAErI,YAAIurC,OAAJ,EAAa;AACTnsC,UAAAA,MAAM,GAAGhpB,IAAI,CAACC,aAAL,CAAmB8hE,UAAU,IAAI,GAAjC,CAAT;AACA/4C,UAAAA,MAAM,CAAC/lB,SAAP,GAAmBkyD,OAAO,CAAClyD,SAA3B;AACA,cAAI+lB,MAAM,CAACiG,UAAP,CAAkB7qB,MAAlB,KAA6B,CAAjC,EAAoC4kB,MAAM,CAAC/lB,SAAP,GAAmBjD,IAAI,CAACqlB,cAAxB;AAEpC8vC,UAAAA,OAAO,CAAClyD,SAAR,GAAoB+lB,MAAM,CAACqG,SAA3B;AACArG,UAAAA,MAAM,GAAGmsC,OAAO,CAAC7rC,UAAjB;AACAkmC,UAAAA,SAAS,GAAGxvD,IAAI,CAACiwB,iBAAL,CAAuBjH,MAAvB,EAA+B,IAA/B,EAAqCuB,EAAjD;;AAEA,cAAI,CAACilC,SAAL,EAAgB;AACZA,YAAAA,SAAS,GAAGxvD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAZ;AACA2D,YAAAA,MAAM,CAAC1D,YAAP,CAAoBkqC,SAApB,EAA+BxmC,MAAM,CAACM,UAAtC;AACH;;AAED9Q,UAAAA,MAAM,GAAGg3C,SAAS,CAACrzC,WAAV,CAAsB/X,MAA/B;AACA,eAAK8X,QAAL,CAAcszC,SAAd,EAAyBh3C,MAAzB,EAAiCg3C,SAAjC,EAA4Ch3C,MAA5C;AACA;AACH;;AAED,YAAGxY,IAAI,CAACmvB,oBAAL,CAA0BwhC,SAA1B,KAAyCA,SAAS,CAAC1hC,UAAV,CAAqB7qB,MAArB,IAA+B,CAA3E,EAA+E;AAC3E,cAAIgqD,EAAE,GAAG,IAAT;;AACA,cAAIuC,SAAS,CAAC1hC,UAAV,CAAqB7qB,MAArB,KAAgC,CAAhC,IAAqCpE,IAAI,CAACy2C,OAAL,CAAaka,SAAS,CAACrnC,UAAvB,CAAzC,EAA6E;AACzE8kC,YAAAA,EAAE,GAAGuC,SAAS,CAACrnC,UAAf;AACH,WAFD,MAEO;AACH8kC,YAAAA,EAAE,GAAGpuD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAL;AACAsrC,YAAAA,SAAS,CAACpwD,WAAV,CAAsB6tD,EAAtB;AACH;;AAED,eAAKlyC,QAAL,CAAckyC,EAAd,EAAkB,CAAlB,EAAqBA,EAArB,EAAyB,CAAzB;AACA;AACH;;AAED,aAAKJ,WAAL,CAAiB,aAAjB,EAAgC,KAAhC,EAAwC+T,UAAU,IAAI,GAAtD;AACAvS,QAAAA,SAAS,GAAGxvD,IAAI,CAACiwB,iBAAL,CAAuB0gC,SAAvB,EAAkCA,SAAlC,CAAZ;AACAnB,QAAAA,SAAS,GAAGA,SAAS,GAAGA,SAAS,CAAChlC,EAAb,GAAkBmmC,SAAvC;AAEA3nC,QAAAA,MAAM,GAAGhpB,IAAI,CAAC+rB,gBAAL,CAAsByjC,SAAtB,EAAiC,IAAjC,CAAT;;AACA,YAAI,CAACxmC,MAAL,EAAa;AACT,eAAKmmC,WAAL;;AACA,eAAKhB,YAAL;;AACA;AACH;;AAED,YAAInuD,IAAI,CAACy2C,OAAL,CAAaztB,MAAM,CAACzD,WAApB,CAAJ,EAAsCvlB,IAAI,CAAC8S,UAAL,CAAgBkW,MAAM,CAACzD,WAAvB;AACtC,YAAIvlB,IAAI,CAACy2C,OAAL,CAAaztB,MAAM,CAACmC,eAApB,CAAJ,EAA0CnrB,IAAI,CAAC8S,UAAL,CAAgBkW,MAAM,CAACmC,eAAvB;;AAC1C,YAAInrB,IAAI,CAACy2C,OAAL,CAAa+Y,SAAb,CAAJ,EAA6B;AACzB,gBAAM+D,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACAmqC,UAAAA,SAAS,CAACv9C,UAAV,CAAqBqT,YAArB,CAAkCiuC,SAAlC,EAA6C/D,SAA7C;AACAA,UAAAA,SAAS,GAAG+D,SAAZ;AACH;;AAED,aAAKxwC,UAAL,GAAkB,IAAlB;AACA,aAAKmrC,WAAL;AACH,OAx4JQ;;AA04JT;;;;;;AAMA+T,MAAAA,eAAe,EAAE,UAAU7xC,EAAV,EAAcmwC,SAAd,EAAyB;AACtC,aAAK5gE,OAAL,GAAeA,OAAO,GAAG2mD,WAAW,CAACl2B,EAAE,CAACmxB,aAAJ,EAAmB,KAAK2gB,eAAL,CAAqB9xC,EAArB,CAAnB,EAA6C1L,OAA7C,CAApC;AACA,aAAKve,oBAAL,GAA4B,IAA5B;;AACA,aAAKg8D,WAAL,CAAiB,IAAjB,EAAuB5B,SAAvB;AACH,OAp5JQ;;AAs5JT;;;;;;AAMA4B,MAAAA,WAAW,EAAE,UAAU7B,MAAV,EAAkBC,SAAlB,EAA6B;AACtC;AACA,aAAKF,KAAL,CAAWC,MAAX,EAAmBC,SAAnB;;AACAlT,QAAAA,KAAK,CAAC+U,SAAN;;AACA,aAAKtb,aAAL;;AACAuG,QAAAA,KAAK,CAACgV,iBAAN;;AACAhV,QAAAA,KAAK,CAACiV,eAAN,GANsC,CAQtC;;AACA3iE,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8B62B,UAA9B,GAA2C,EAA3C;;AAEA,aAAK4vB,gBAAL;;AACA,aAAKh/C,mBAAL,GAA2B,KAA3B;AACA,aAAK1B,oBAAL,GAA4B,KAA5B;AAEA,aAAKmW,OAAL,CAAaya,KAAb,CAAmB,IAAnB;;AACA,aAAKgwB,qBAAL;;AAEA7iD,QAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACxB,cAAI,OAAOlD,SAAS,CAACm/B,MAAjB,KAA4B,UAAhC,EAA4Cn/B,SAAS,CAACm/B,MAAV,CAAiB1kC,IAAjB,EAAuB4gE,MAAvB;AAC7C,SAFD;AAGH,OAj7JQ;;AAm7JT;;;;;;AAMA4B,MAAAA,eAAe,EAAE,UAAUpnD,SAAV,EAAqB;AAClC,eAAO;AACHokC,UAAAA,IAAI,EAAEpkC,SAAS,CAAC8mC,OADb;AAEHzC,UAAAA,SAAS,EAAErkC,SAAS,CAAC/Z,QAFlB;AAGHq+C,UAAAA,QAAQ,EAAEtkC,SAAS,CAAC9R,OAHjB;AAIHq2C,UAAAA,SAAS,EAAEvkC,SAAS,CAACukC,SAJlB;AAKHC,UAAAA,WAAW,EAAExkC,SAAS,CAAC0mC,UALpB;AAMHjC,UAAAA,YAAY,EAAEzkC,SAAS,CAACpC,YANrB;AAOH8mC,UAAAA,SAAS,EAAE1kC,SAAS,CAAC/R,IAPlB;AAQH02C,UAAAA,YAAY,EAAE3kC,SAAS,CAAC6uB,WARrB;AASH+V,UAAAA,YAAY,EAAE5kC,SAAS,CAACsjC,WATrB;AAUHuB,UAAAA,WAAW,EAAE7kC,SAAS,CAACujC,UAVpB;AAWHwB,UAAAA,YAAY,EAAE/kC,SAAS,CAAC2jC,WAXrB;AAYHmB,UAAAA,YAAY,EAAE9kC,SAAS,CAACyjC,WAZrB;AAaH1/B,UAAAA,QAAQ,EAAE/D,SAAS,CAACmrC,OAbjB;AAcHnG,UAAAA,YAAY,EAAEhlC,SAAS,CAACorC,WAdrB;AAeHnG,UAAAA,cAAc,EAAEjlC,SAAS,CAACqrC,aAfvB;AAgBHnG,UAAAA,cAAc,EAAEllC,SAAS,CAACsrC,aAhBvB;AAiBHnG,UAAAA,WAAW,EAAEnlC,SAAS,CAAC2C,gBAjBpB;AAkBHyiC,UAAAA,YAAY,EAAEplC,SAAS,CAAColC,YAlBrB;AAmBHC,UAAAA,MAAM,EAAErlC,SAAS,CAACqlC;AAnBf,SAAP;AAqBH;AA/8JQ,KAAb;AAk9JA;;;;AAGA,UAAMkN,KAAK,GAAG;AACVkV,MAAAA,cAAc,EAAE,KADN;AACa;AACvBC,MAAAA,gBAAgB,EAAE,IAFR;AAGVC,MAAAA,sBAAsB,EAAE,SAHd;AAIVC,MAAAA,qBAAqB,EAAE,IAJb;AAKVtiB,MAAAA,kBAAkB,EAAE,IALV;AAMVuiB,MAAAA,iBAAiB,EAAE,IAAIz+D,EAAE,CAAC+tC,MAAP,CAAc,uBAAd,CANT;AAOV2wB,MAAAA,eAAe,EAAE,IAAI1+D,EAAE,CAAC+tC,MAAP,CAAc,+DAAd,CAPP;AAQV4wB,MAAAA,qBAAqB,EAAE,IAAI3+D,EAAE,CAAC+tC,MAAP,CAAc,uDAAd,CARb;AASV6wB,MAAAA,eAAe,EAAE,IAAI5+D,EAAE,CAAC+tC,MAAP,CAAc,6BAAd,CATP;AAUV8wB,MAAAA,kBAAkB,EAAE,IAAI7+D,EAAE,CAAC+tC,MAAP,CAAcjyC,IAAI,CAACqlB,cAAL,GAAsB,GAApC,EAAyC,EAAzC,CAVV;AAWV29C,MAAAA,gBAAgB,EAAE;AACd,YAAI,GADU;AAEd,YAAI,GAFU;AAGd,YAAI,GAHU;AAId,YAAI,GAJU;AAKd,YAAI,GALU;AAMd,YAAI,GANU;AAOd,YAAI,GAPU;AAQd,aAAK,GARS;AASd,aAAK;AATS,OAXR;AAuBVC,MAAAA,gBAAgB,EAAE,UAAUphE,OAAV,EAAmBm3B,KAAnB,EAA0B;AACxC,YAAIpe,OAAO,GAAG,IAAd;AACA,cAAMsoD,MAAM,GAAG7V,KAAK,CAAC2V,gBAAN,CAAuBnhE,OAAvB,CAAf;;AAEA,gBAAQqhE,MAAR;AACI,eAAK,GAAL;AACItoD,YAAAA,OAAO,GAAG,WAAV;AACA;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,MAAjC,MAA6C,CAAC,CAAlD,EAAqD;AACjDwT,cAAAA,OAAO,GAAG,QAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAIoe,KAAK,IAAItU,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,QAAjC,MAA+C,CAAC,CAA7D,EAAgE;AAC5DwT,cAAAA,OAAO,GAAG,KAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,WAAjC,MAAkD,CAAC,CAAvD,EAA0D;AACtDwT,cAAAA,OAAO,GAAG,GAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,QAAjC,MAA+C,CAAC,CAApD,EAAuD;AACnDwT,cAAAA,OAAO,GAAG,IAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,MAAjC,MAA6C,CAAC,CAAlD,EAAqD;AACjD,kBAAI4xB,KAAJ,EAAW;AACPpe,gBAAAA,OAAO,GAAG,MAAV;AACH,eAFD,MAEO;AACHA,gBAAAA,OAAO,GAAG,MAAV;AACH;AACJ;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,MAAjC,MAA6C,CAAC,CAAlD,EAAqD;AACjDwT,cAAAA,OAAO,GAAG,MAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,QAAjC,MAA+C,CAAC,CAApD,EAAuD;AACnDwT,cAAAA,OAAO,GAAG,SAAV;AACH;;AACD;;AACJ,eAAK,GAAL;AACI,gBAAI8J,OAAO,CAAC4+B,gBAAR,CAAyBl8C,OAAzB,CAAiC,QAAjC,MAA+C,CAAC,CAApD,EAAuD;AACnDwT,cAAAA,OAAO,GAAG,QAAV;AACH;;AACD;AA/CR;;AAkDA,YAAI,CAACA,OAAL,EAAc,OAAO,KAAP;AAEdlb,QAAAA,IAAI,CAAC+7D,cAAL,CAAoB/7D,IAAI,CAACmrD,UAAL,CAAgBjwC,OAAhB,CAApB,EAA8CA,OAA9C;AACA,eAAO,IAAP;AACH,OAjFS;AAmFVyzC,MAAAA,gBAAgB,EAAE,YAAY;AAC1B,YAAItwB,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAApB;AACA,YAAImX,aAAa,KAAKr+B,IAAI,CAACqjB,UAA3B,EAAuC;AACvCrjB,QAAAA,IAAI,CAACqjB,UAAL,GAAkBgb,aAAlB;AAEA,cAAM8sB,UAAU,GAAGnrD,IAAI,CAACmrD,UAAxB;AACA,cAAMsY,YAAY,GAAG,KAAKL,eAA1B;AACA,cAAMM,eAAe,GAAG,EAAxB;AACA,cAAM7X,YAAY,GAAG,EAArB;AAEA,cAAMnB,aAAa,GAAG1qD,IAAI,CAAC0qD,aAA3B;AACA,cAAMx6B,IAAI,GAAGw6B,aAAa,CAAChmD,MAA3B;AACA,YAAI6C,QAAQ,GAAG,EAAf;;AAEA,eAAO82B,aAAa,CAACzU,UAArB,EAAiC;AAC7ByU,UAAAA,aAAa,GAAGA,aAAa,CAACzU,UAA9B;AACH;;AAED,aAAK,IAAIxoB,OAAO,GAAGi9B,aAAnB,EAAkC,CAAC/9B,IAAI,CAAC+R,YAAL,CAAkBjR,OAAlB,CAAnC,EAA+DA,OAAO,GAAGA,OAAO,CAACmR,UAAjF,EAA6F;AACzF,cAAI,CAACnR,OAAL,EAAc;AACd,cAAIA,OAAO,CAACkR,QAAR,KAAqB,CAArB,IAA0BhS,IAAI,CAACy2C,OAAL,CAAa31C,OAAb,CAA9B,EAAqD;AACrDmG,UAAAA,QAAQ,GAAGnG,OAAO,CAACmG,QAAR,CAAiBymB,WAAjB,EAAX;AACA69B,UAAAA,YAAY,CAACrkD,IAAb,CAAkBD,QAAlB;AAEA;;AACA,eAAK,IAAI/J,CAAC,GAAG,CAAR,EAAWE,IAAhB,EAAsBF,CAAC,GAAG0yB,IAA1B,EAAgC1yB,CAAC,EAAjC,EAAqC;AACjCE,YAAAA,IAAI,GAAGgtD,aAAa,CAACltD,CAAD,CAApB;;AACA,gBAAIkmE,eAAe,CAACh8D,OAAhB,CAAwBhK,IAAxB,MAAkC,CAAC,CAAnC,IAAwCiE,OAAO,CAACjE,IAAD,CAAP,CAAcolB,MAAd,CAAqBxlB,IAArB,CAA0B0C,IAA1B,EAAgCoB,OAAhC,CAA5C,EAAsF;AAClFsiE,cAAAA,eAAe,CAACl8D,IAAhB,CAAqB9J,IAArB;AACH;AACJ;;AAED,cAAI4C,IAAI,CAACyiB,eAAL,CAAqB3hB,OAArB,CAAJ,EAAmC;AAC/B;AACA,gBAAIsiE,eAAe,CAACh8D,OAAhB,CAAwB,SAAxB,MAAuC,CAAC,CAAxC,IAA6CyjD,UAAU,CAACuE,OAA5D,EAAqE;AACjE,kBAAIpvD,IAAI,CAACitB,UAAL,CAAgBnsB,OAAhB,KAA6BA,OAAO,CAACV,KAAR,CAAc07D,UAAd,IAA4B97D,IAAI,CAACoW,SAAL,CAAetV,OAAO,CAACV,KAAR,CAAc07D,UAA7B,EAAyC,CAAzC,IAA8C,CAA3G,EAA+G;AAC3GsH,gBAAAA,eAAe,CAACl8D,IAAhB,CAAqB,SAArB;AACA2jD,gBAAAA,UAAU,CAACuE,OAAX,CAAmB/nD,eAAnB,CAAmC,UAAnC;AACH;AACJ;AAED;;;AACA,gBAAI+7D,eAAe,CAACh8D,OAAhB,CAAwB,QAAxB,MAAsC,CAAC,CAAvC,IAA4CyjD,UAAU,CAACwE,MAAvD,IAAiErvD,IAAI,CAACitB,UAAL,CAAgBnsB,OAAhB,CAAjE,IAA6F,CAACA,OAAO,CAACosB,sBAA1G,EAAkI;AAC9Hk2C,cAAAA,eAAe,CAACl8D,IAAhB,CAAqB,QAArB;AACA2jD,cAAAA,UAAU,CAACwE,MAAX,CAAkBxsD,YAAlB,CAA+B,UAA/B,EAA2C,IAA3C;AACH;;AAED;AACH;AAED;;;AACA,cAAIsgE,YAAY,CAACliE,IAAb,CAAkBgG,QAAlB,CAAJ,EAAiC;AAC7Bm8D,YAAAA,eAAe,CAACl8D,IAAhB,CAAqBD,QAArB;AACAjH,YAAAA,IAAI,CAACsR,QAAL,CAAcu5C,UAAU,CAAC5jD,QAAD,CAAxB,EAAoC,QAApC;AACH;AACJ;AAED;;;AACA,aAAK,IAAI7I,GAAT,IAAgBysD,UAAhB,EAA4B;AACxB,cAAIuY,eAAe,CAACh8D,OAAhB,CAAwBhJ,GAAxB,IAA+B,CAAC,CAAhC,IAAqC,CAAC4B,IAAI,CAAC8oC,MAAL,CAAY+hB,UAAZ,EAAwBzsD,GAAxB,CAA1C,EAAwE;;AACxE,cAAIgsD,aAAa,CAAChjD,OAAd,CAAsBhJ,GAAtB,IAA6B,CAAC,CAAlC,EAAqC;AACjCiD,YAAAA,OAAO,CAACjD,GAAD,CAAP,CAAaokB,MAAb,CAAoBxlB,IAApB,CAAyB0C,IAAzB,EAA+B,IAA/B;AACH,WAFD,MAEO,IAAImrD,UAAU,CAACuE,OAAX,IAAsB,aAAanuD,IAAb,CAAkB7C,GAAlB,CAA1B,EAAkD;AACrDysD,YAAAA,UAAU,CAACuE,OAAX,CAAmBvsD,YAAnB,CAAgC,UAAhC,EAA4C,IAA5C;AACH,WAFM,MAEA,IAAIgoD,UAAU,CAACwE,MAAX,IAAqB,YAAYpuD,IAAZ,CAAiB7C,GAAjB,CAAzB,EAAgD;AACnDysD,YAAAA,UAAU,CAACwE,MAAX,CAAkBhoD,eAAlB,CAAkC,UAAlC;AACH,WAFM,MAEA;AACHrH,YAAAA,IAAI,CAACuR,WAAL,CAAiBs5C,UAAU,CAACzsD,GAAD,CAA3B,EAAkC,QAAlC;AACH;AACJ;AAED;;;AACAsB,QAAAA,IAAI,CAACwnD,SAAL,CAAeqE,YAAf,GAA8BA,YAAY,CAACzV,OAAb,EAA9B;AACAp2C,QAAAA,IAAI,CAACwnD,SAAL,CAAesE,eAAf,GAAiC4X,eAAjC;AAEA;;AACA,YAAI1+C,OAAO,CAACw+B,aAAZ,EAA2BvjD,OAAO,CAACmB,OAAR,CAAgBu9C,UAAhB,CAA2BliC,WAA3B,GAAyCzc,IAAI,CAACwnD,SAAL,CAAeqE,YAAf,CAA4B0T,IAA5B,CAAiC,KAAjC,CAAzC;AAC9B,OAhKS;AAkKVoE,MAAAA,kBAAkB,EAAE,YAAY;AAC5B,aAAKxgE,YAAL,CAAkB,iBAAlB,EAAqC,KAArC;AACA,aAAKjB,mBAAL,CAAyB,MAAzB,EAAiCyrD,KAAK,CAACgW,kBAAvC;AACH,OArKS;AAuKVC,MAAAA,oBAAoB,EAAE,UAAUtiE,CAAV,EAAa;AAC/B,YAAIE,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,YAAIxB,IAAI,CAACiqD,mBAAT,EAA8B3oD,CAAC,CAACG,eAAF;;AAE9B,YAAI,oCAAoCF,IAApC,CAAyCC,MAAM,CAAC+F,QAAhD,CAAJ,EAA+D;AAC3DvH,UAAAA,IAAI,CAAC+8B,SAAL,GAAiB,KAAjB;AACH,SAFD,MAEO;AACHz7B,UAAAA,CAAC,CAACoU,cAAF;AACH;;AAED,YAAIpV,IAAI,CAAC8G,gBAAL,CAAsB5F,MAAtB,EAA8B,aAA9B,CAAJ,EAAkD;AAC9CF,UAAAA,CAAC,CAACG,eAAF;AACAzB,UAAAA,IAAI,CAACuqD,eAAL,GAAuB,IAAvB;AACH,SAHD,MAGO;AACH,cAAIrvC,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAd;AACA,cAAIlB,SAAS,GAAGgB,MAAM,CAAChB,SAAvB;;AAEA,iBAAO,CAAC0a,OAAD,IAAY,CAAC,eAAe3Z,IAAf,CAAoBf,SAApB,CAAb,IAA+C,CAAC,oBAAoBe,IAApB,CAAyBf,SAAzB,CAAvD,EAA4F;AACxFgB,YAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACA2I,YAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACAlB,YAAAA,SAAS,GAAGgB,MAAM,CAAChB,SAAnB;AACH;;AAED,cAAI0a,OAAO,KAAKlb,IAAI,CAACgpD,YAAjB,IAAiC9tC,OAAO,KAAKlb,IAAI,CAACotD,cAAtD,EAAsE;AAClE9rD,YAAAA,CAAC,CAACG,eAAF;AACH;AACJ;AACJ,OAlMS;AAoMVoiE,MAAAA,eAAe,EAAE,UAAUviE,CAAV,EAAa;AAC1B,YAAIE,MAAM,GAAGF,CAAC,CAACE,MAAf;AACA,YAAIb,OAAO,GAAGa,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAd;AACA,YAAIwZ,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAd;AACA,YAAIlB,SAAS,GAAGgB,MAAM,CAAChB,SAAvB;;AAEA,eAAOgB,MAAM,CAAC+Q,UAAP,IAAqB,CAAC2I,OAAtB,IAAiC,CAAC,eAAe3Z,IAAf,CAAoBf,SAApB,CAAlC,IAAoE,CAAC,aAAae,IAAb,CAAkBf,SAAlB,CAA5E,EAA0G;AACtGgB,UAAAA,MAAM,GAAGA,MAAM,CAAC+Q,UAAhB;AACA2I,UAAAA,OAAO,GAAG1Z,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACAf,UAAAA,OAAO,GAAGa,MAAM,CAACE,YAAP,CAAoB,cAApB,CAAV;AACAlB,UAAAA,SAAS,GAAGgB,MAAM,CAAChB,SAAnB;AACH;;AAED,YAAI,CAAC0a,OAAD,IAAY,CAACva,OAAjB,EAA0B;AAC1B,YAAIa,MAAM,CAACgW,QAAX,EAAqB;AACrB,YAAI,CAACxX,IAAI,CAAC6pD,QAAV,EAAoB7pD,IAAI,CAACwuD,WAAL;AACpB,YAAI,CAACxuD,IAAI,CAACwnD,SAAL,CAAe8D,UAApB,EAAgCtrD,IAAI,CAACyuD,YAAL;AAEhCzuD,QAAAA,IAAI,CAAC27D,UAAL,CAAgBzgD,OAAhB,EAAyBva,OAAzB,EAAkCa,MAAlC;AACH,OAvNS;AAyNVsiE,MAAAA,mBAAmB,EAAE,UAAUxiE,CAAV,EAAa;AAC9B,YAAIhB,IAAI,CAACy0C,aAAL,CAAmB90C,OAAO,CAACmB,OAAR,CAAgB+E,OAAnC,CAAJ,EAAiD;AAEjD,cAAM49D,SAAS,GAAGzjE,IAAI,CAAC8G,gBAAL,CAAsB9F,CAAC,CAACE,MAAxB,EAAgClB,IAAI,CAAC2uB,MAArC,CAAlB;;AACA,YAAI80C,SAAJ,EAAe;AACX,gBAAM7tC,WAAW,GAAGl2B,IAAI,CAAC2B,OAAL,CAAawJ,KAAjC;;AACA,cAAI+qB,WAAW,IAAI6tC,SAAS,KAAK7tC,WAAW,CAACO,UAAzC,IAAuD,CAACP,WAAW,CAACI,MAAxE,EAAgF;AAC5Et2B,YAAAA,IAAI,CAAC4mB,UAAL,CAAgB,OAAhB,EAAyB,YAAY;AACjCsP,cAAAA,WAAW,CAACuH,sBAAZ,CAAmCngC,IAAnC,CAAwC0C,IAAxC,EAA8C+jE,SAA9C,EAAyD,KAAzD;AACH,aAFD,EAEG,IAFH;AAGH;AACJ;;AAED,YAAI/jE,IAAI,CAACmqD,UAAT,EAAqB;AACjBwD,UAAAA,KAAK,CAAC2O,YAAN;AACH;;AAED,YAAI,UAAU/6D,IAAV,CAAeD,CAAC,CAACE,MAAF,CAAS+F,QAAxB,CAAJ,EAAuCjG,CAAC,CAACoU,cAAF;AACvC,YAAI,OAAOnQ,SAAS,CAACy+D,WAAjB,KAAiC,UAArC,EAAiDz+D,SAAS,CAACy+D,WAAV,CAAsB1iE,CAAtB,EAAyBtB,IAAzB;AACpD,OA5OS;AA8OVikE,MAAAA,eAAe,EAAE,UAAU3iE,CAAV,EAAa;AAC1B,cAAMqX,aAAa,GAAGrX,CAAC,CAACE,MAAxB;AACA,YAAIlB,IAAI,CAACy0C,aAAL,CAAmB90C,OAAO,CAACmB,OAAR,CAAgB+E,OAAnC,CAAJ,EAAiD;AAEjD,cAAM0oD,iBAAiB,GAAG7uD,IAAI,CAACouD,gBAAL,CAAsBz1C,aAAtB,CAA1B;;AACA,YAAIk2C,iBAAJ,EAAuB;AACnBvtD,UAAAA,CAAC,CAACoU,cAAF;AACA1V,UAAAA,IAAI,CAACwb,eAAL,CAAqBqzC,iBAAiB,CAACrtD,MAAvC,EAA+CqtD,iBAAiB,CAACnpD,UAAjE;AACA;AACH;;AAED,cAAM+X,UAAU,GAAGnd,IAAI,CAAC8G,gBAAL,CAAsBuR,aAAtB,EAAqC,YAArC,CAAnB;;AACA,YAAIrY,IAAI,CAACy0C,aAAL,CAAmBt3B,UAAnB,CAAJ,EAAoC;AAChCnc,UAAAA,CAAC,CAACoU,cAAF;AACA+H,UAAAA,UAAU,CAACta,YAAX,CAAwB,iBAAxB,EAA2C,IAA3C;AACAsa,UAAAA,UAAU,CAAChb,KAAX;;AAEA,cAAIzC,IAAI,CAACkqD,SAAL,IAAkB,CAAClqD,IAAI,CAACqqD,kBAAL,CAAwBC,MAA/C,EAAuD;AACnDqD,YAAAA,KAAK,CAACmO,kBAAN;;AAEA,kBAAMoI,WAAW,GAAG,YAAY;AAC5BvW,cAAAA,KAAK,CAAC2O,YAAN;;AACA7+C,cAAAA,UAAU,CAACvb,mBAAX,CAA+B,MAA/B,EAAuCgiE,WAAvC;AACH,aAHD;;AAKAzmD,YAAAA,UAAU,CAACxc,gBAAX,CAA4B,MAA5B,EAAoCijE,WAApC;AACH;AACJ;;AAED1/D,QAAAA,EAAE,CAACiE,UAAH,CAAczI,IAAI,CAACyuD,YAAL,CAAkB9vD,IAAlB,CAAuBqB,IAAvB,CAAd;;AACAA,QAAAA,IAAI,CAACyuD,YAAL;;AAEA,cAAMpwB,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAAtB;AACA,cAAMsrC,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBgS,aAAtB,EAAqC,IAArC,CAAjB;AACA,cAAMo3B,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BsQ,aAA3B,EAA0C,IAA1C,CAAhB;;AACA,YAAI,CAAC,CAACm0B,QAAD,IAAaA,QAAQ,KAAKiD,OAA3B,KAAuC,CAACn1D,IAAI,CAACy0C,aAAL,CAAmBp8B,aAAnB,CAAxC,IAA6E,CAACrY,IAAI,CAACwsB,MAAL,CAAY2oC,OAAZ,CAAlF,EAAwG;AACpG,gBAAM3rC,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;;AACA,cAAIzpB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACU,cAA5B,MAAgDlqB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACY,YAA5B,CAApD,EAA+F;AAC3F,gBAAIpqB,IAAI,CAACwsB,MAAL,CAAY2oC,OAAZ,CAAJ,EAA0B;AACtB,oBAAM7Q,GAAG,GAAGtkD,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAZ;AACA,oBAAM4jE,MAAM,GAAG9lC,aAAa,CAAC3Q,kBAA7B;AACAk3B,cAAAA,GAAG,CAAC/jD,WAAJ,CAAgBw9B,aAAhB;AACAo3B,cAAAA,OAAO,CAAC7vC,YAAR,CAAqBg/B,GAArB,EAA0Buf,MAA1B;AACH,aALD,MAKO,IAAI,CAAC7jE,IAAI,CAAC+R,YAAL,CAAkBgsB,aAAlB,CAAD,IAAqC,CAAC/9B,IAAI,CAACkZ,WAAL,CAAiB6kB,aAAjB,CAAtC,KAA0E,CAAC/9B,IAAI,CAACw2C,OAAL,CAAazY,aAAb,CAAD,IAAgC/9B,IAAI,CAAC2uB,MAAL,CAAYoP,aAAZ,CAA1G,CAAJ,EAA2I;AAC9Ir+B,cAAAA,IAAI,CAACoiE,iBAAL,CAAuB9hE,IAAI,CAACmvB,oBAAL,CAA0BgmC,OAA1B,IAAqC,KAArC,GAA6C,GAApE;AACH;;AAEDn0D,YAAAA,CAAC,CAACoU,cAAF;AACA1V,YAAAA,IAAI,CAACyC,KAAL;AACH;AACJ,SAfD,MAeO;AACHkrD,UAAAA,KAAK,CAACgB,gBAAN;AACH;;AAED,YAAI3uD,IAAI,CAACmqD,UAAT,EAAqB3lD,EAAE,CAACiE,UAAH,CAAcklD,KAAK,CAACiB,qBAApB;AACrB,YAAI,OAAOrpD,SAAS,CAAC6+D,OAAjB,KAA6B,UAAjC,EAA6C7+D,SAAS,CAAC6+D,OAAV,CAAkB9iE,CAAlB,EAAqBtB,IAArB;AAChD,OAtSS;AAwSVqkE,MAAAA,aAAa,EAAE,IAxSL;AAySVC,MAAAA,wBAAwB,EAAE,YAAY;AAClC,YAAI3W,KAAK,CAAC0W,aAAV,EAAyB;AACrB7/D,UAAAA,EAAE,CAACojD,YAAH,CAAgB+F,KAAK,CAAC0W,aAAtB;AACH;;AAED1W,QAAAA,KAAK,CAAC0W,aAAN,GAAsB7/D,EAAE,CAACiE,UAAH,CAAc,YAAY;AAC5CjE,UAAAA,EAAE,CAACojD,YAAH,CAAgB,KAAKyc,aAArB;;AACA,eAAKA,aAAL,GAAqB,IAArB;;AACA,eAAKxI,mBAAL;AACH,SAJmC,CAIlCl9D,IAJkC,CAI7BgvD,KAJ6B,CAAd,EAIP,GAJO,CAAtB;AAKH,OAnTS;AAqTViB,MAAAA,qBAAqB,EAAE,YAAY;AAC/B5uD,QAAAA,IAAI,CAACyuD,YAAL;;AACA,cAAM3kC,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;AACA,YAAI/pB,IAAI,CAACiqD,mBAAL,IAA6B,CAACjqD,IAAI,CAACoqD,gBAAN,IAA0BtgC,KAAK,CAAC+lC,SAAjE,EAA6ElC,KAAK,CAAC2O,YAAN,GAA7E,KACK3O,KAAK,CAACkO,mBAAN,CAA0B/xC,KAA1B;AACR,OA1TS;AA4TV+xC,MAAAA,mBAAmB,EAAE,UAAU0I,QAAV,EAAoB;AACrC,YAAI,CAACvkE,IAAI,CAACmqD,UAAV,EAAsB;AAEtB,cAAMrgC,KAAK,GAAGy6C,QAAQ,IAAIvkE,IAAI,CAAC+pB,QAAL,EAA1B;AACA,cAAMzgB,OAAO,GAAGrJ,OAAO,CAACmB,OAAR,CAAgBkI,OAAhC;AACA,cAAMgmD,SAAS,GAAGtvD,IAAI,CAAC82B,YAAL,EAAlB;AAEA,YAAI0tC,QAAJ;;AACA,YAAIxkE,IAAI,CAACoqD,gBAAL,IAAyBtgC,KAAK,CAAC+lC,SAAnC,EAA8C;AAC1C2U,UAAAA,QAAQ,GAAG,IAAX;AACH,SAFD,MAEO,IAAIlV,SAAS,CAACQ,SAAV,KAAwBR,SAAS,CAACW,UAAtC,EAAkD;AACrDuU,UAAAA,QAAQ,GAAGlV,SAAS,CAACa,WAAV,GAAwBb,SAAS,CAACY,YAA7C;AACH,SAFM,MAEA;AACH,gBAAM3gC,UAAU,GAAGjvB,IAAI,CAAC+2C,iBAAL,CAAuBvtB,KAAK,CAAC0mC,uBAA7B,EAAsD,IAAtD,CAAnB;AACAgU,UAAAA,QAAQ,GAAGlkE,IAAI,CAAC85B,aAAL,CAAmB7K,UAAnB,EAA+B+/B,SAAS,CAACQ,SAAzC,IAAsDxvD,IAAI,CAAC85B,aAAL,CAAmB7K,UAAnB,EAA+B+/B,SAAS,CAACW,UAAzC,CAAjE;AACH;;AAED,YAAIwU,KAAK,GAAG36C,KAAK,CAAC46C,cAAN,EAAZ;AACAD,QAAAA,KAAK,GAAGA,KAAK,CAACD,QAAQ,GAAG,CAAH,GAAOC,KAAK,CAAC//D,MAAN,GAAe,CAA/B,CAAb;AAEA,YAAI6U,UAAU,GAAG,CAAjB;AACA,YAAI8+B,SAAS,GAAG,CAAhB;AACA,YAAI3nB,EAAE,GAAGzwB,OAAO,CAACmB,OAAR,CAAgB8gD,OAAzB;;AACA,eAAO,CAAC,CAACxxB,EAAT,EAAa;AACTnX,UAAAA,UAAU,IAAImX,EAAE,CAACnX,UAAjB;AACA8+B,UAAAA,SAAS,IAAI3nB,EAAE,CAAC2nB,SAAhB;AACA3nB,UAAAA,EAAE,GAAGA,EAAE,CAACppB,aAAR;AACH;;AAED,cAAMq9D,WAAW,GAAG1kE,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwB7oC,WAA5C;;AACA,cAAMg9B,OAAO,GAAGsX,KAAK,CAACC,iBAAN,CAAwB,IAAxB,CAAhB;;AACA,cAAMgX,SAAS,GAAGvuB,OAAO,CAAC/8B,GAA1B;AACA,cAAMurD,UAAU,GAAGxuB,OAAO,CAACxoC,IAA3B;AAEAvE,QAAAA,OAAO,CAAC5I,KAAR,CAAc4Y,GAAd,GAAoB,UAApB;AACAhQ,QAAAA,OAAO,CAAC5I,KAAR,CAAc62B,UAAd,GAA2B,QAA3B;AACAjuB,QAAAA,OAAO,CAAC5I,KAAR,CAAcC,OAAd,GAAwB,OAAxB;;AAEA,YAAI,CAAC8jE,KAAL,EAAY;AACR,gBAAMnzD,IAAI,GAAGtR,IAAI,CAACknB,gBAAL,EAAb;;AACA,cAAI5mB,IAAI,CAACyiB,eAAL,CAAqBzR,IAArB,CAAJ,EAAgC;AAC5B,kBAAMuiD,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACA3lB,YAAAA,IAAI,CAACwlB,UAAL,CAAgBquC,SAAhB,EAA2B,IAA3B,EAAiC,KAAjC;AACA7zD,YAAAA,IAAI,CAACwc,QAAL,CAAcq3C,SAAd,EAAyB,CAAzB,EAA4BA,SAA5B,EAAuC,CAAvC;;AACA7zD,YAAAA,IAAI,CAACyuD,YAAL;;AACAgW,YAAAA,KAAK,GAAGzkE,IAAI,CAAC+pB,QAAL,GAAgB26C,cAAhB,EAAR;AACAD,YAAAA,KAAK,GAAGA,KAAK,CAACD,QAAQ,GAAG,CAAH,GAAOC,KAAK,CAAC//D,MAAN,GAAe,CAA/B,CAAb;AACH;;AAED,cAAI,CAAC+/D,KAAL,EAAY;AACR,kBAAMK,UAAU,GAAGxkE,IAAI,CAACyY,SAAL,CAAezH,IAAf,EAAqBrR,OAAO,CAACmB,OAAR,CAAgB4X,YAArC,CAAnB;AACAyrD,YAAAA,KAAK,GAAG;AACJ52D,cAAAA,IAAI,EAAEi3D,UAAU,CAACj3D,IADb;AAEJyL,cAAAA,GAAG,EAAEwrD,UAAU,CAACxrD,GAFZ;AAGJxL,cAAAA,KAAK,EAAEg3D,UAAU,CAACj3D,IAHd;AAIJk3D,cAAAA,MAAM,EAAED,UAAU,CAACxrD,GAAX,GAAiBhI,IAAI,CAAC8H,YAJ1B;AAKJ4rD,cAAAA,MAAM,EAAE;AALJ,aAAR;AAOAzrD,YAAAA,UAAU,GAAG,CAAb;AACA8+B,YAAAA,SAAS,GAAG,CAAZ;AACH;;AAEDmsB,UAAAA,QAAQ,GAAG,IAAX;AACH;;AAED,cAAMS,WAAW,GAAGzgE,EAAE,CAAC0U,IAAH,CAAQ2F,KAAR,CAAc5e,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuBpnC,WAAvB,GAAqC,CAAnD,CAApB;;AACA,cAAMmpC,YAAY,GAAGl5C,OAAO,CAAC+P,WAA7B;AACA,cAAM6rD,aAAa,GAAG57D,OAAO,CAAC8P,YAA9B;AACA,cAAM+rD,WAAW,GAAG,UAAU5jE,IAAV,CAAetB,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BzR,QAA5C,IAAwDtH,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6B0rD,cAA7B,GAA8C,CAA9C,CAAxD,GAA2G,IAA/H;;AACA,YAAIS,WAAJ,EAAiB;AACbV,UAAAA,KAAK,GAAG;AACJ52D,YAAAA,IAAI,EAAE42D,KAAK,CAAC52D,IAAN,GAAas3D,WAAW,CAACt3D,IAD3B;AAEJyL,YAAAA,GAAG,EAAEmrD,KAAK,CAACnrD,GAAN,GAAY6rD,WAAW,CAAC7rD,GAFzB;AAGJxL,YAAAA,KAAK,EAAE22D,KAAK,CAAC32D,KAAN,GAAcq3D,WAAW,CAACr3D,KAA1B,GAAkCq3D,WAAW,CAACp8D,KAHjD;AAIJg8D,YAAAA,MAAM,EAAEN,KAAK,CAACM,MAAN,GAAeI,WAAW,CAACJ,MAA3B,GAAoCI,WAAW,CAACn3D;AAJpD,WAAR;AAMH;;AAED2/C,QAAAA,KAAK,CAACyX,iBAAN,CAAwBZ,QAAxB,EAAkCC,KAAlC,EAAyCn7D,OAAzC,EAAkDu7D,UAAlD,EAA8DF,WAA9D,EAA2EprD,UAA3E,EAAuF8+B,SAAvF,EAAkGusB,SAAlG,EAA6GK,WAA7G;;AACA,YAAIziB,YAAY,KAAKl5C,OAAO,CAAC+P,WAAzB,IAAwC6rD,aAAa,KAAK57D,OAAO,CAAC8P,YAAtE,EAAoF;AAChFu0C,UAAAA,KAAK,CAACyX,iBAAN,CAAwBZ,QAAxB,EAAkCC,KAAlC,EAAyCn7D,OAAzC,EAAkDu7D,UAAlD,EAA8DF,WAA9D,EAA2EprD,UAA3E,EAAuF8+B,SAAvF,EAAkGusB,SAAlG,EAA6GK,WAA7G;AACH;;AAED37D,QAAAA,OAAO,CAAC5I,KAAR,CAAc62B,UAAd,GAA2B,EAA3B;AACH,OAhZS;AAkZV6tC,MAAAA,iBAAiB,EAAE,UAAUZ,QAAV,EAAoBC,KAApB,EAA2Bn7D,OAA3B,EAAoCu7D,UAApC,EAAgDF,WAAhD,EAA6DprD,UAA7D,EAAyE8+B,SAAzE,EAAoFusB,SAApF,EAA+FK,WAA/F,EAA4G;AAC3H,cAAMnmD,OAAO,GAAG,CAAhB;AACA,cAAM0jC,YAAY,GAAGl5C,OAAO,CAAC+P,WAA7B;AACA,cAAM6rD,aAAa,GAAGT,KAAK,CAACO,MAAN,IAAgB,CAACR,QAAjB,GAA4B,CAA5B,GAAgCl7D,OAAO,CAAC8P,YAA9D;AAEA,cAAMisD,YAAY,GAAG,CAACb,QAAQ,GAAGC,KAAK,CAAC52D,IAAT,GAAgB42D,KAAK,CAAC32D,KAA/B,IAAwC+2D,UAAxC,GAAsDriB,YAAY,GAAG,CAArE,GAA0EjpC,UAA/F;AACA,cAAM+rD,SAAS,GAAGD,YAAY,GAAG7iB,YAAf,GAA8BmiB,WAAhD;AAEA,YAAItmE,CAAC,GAAG,CAACmmE,QAAQ,GAAGC,KAAK,CAACnrD,GAAN,GAAY4rD,aAAZ,GAA4BD,WAA/B,GAA6CR,KAAK,CAACM,MAAN,GAAeE,WAArE,KAAqFR,KAAK,CAACO,MAAN,GAAe,CAAf,GAAmBJ,SAAxG,IAAqHvsB,SAA7H;AACA,YAAIh7C,CAAC,GAAGgoE,YAAY,GAAG,CAAf,GAAmBvmD,OAAnB,GAA6BwmD,SAAS,GAAG,CAAZ,GAAgBD,YAAhB,GAA+BA,YAAY,GAAGC,SAAf,GAA2BxmD,OAA3B,GAAqC,CAAzG;AAEA,YAAIymD,QAAQ,GAAG,KAAf;AACA,cAAMC,KAAK,GAAGnnE,CAAC,IAAImmE,QAAQ,GAAI7W,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8Bt0C,GAAlC,GAA0ChQ,OAAO,CAAC8P,YAAR,GAAuBnZ,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBiT,YAArG,CAAf;;AACA,YAAI,CAACorD,QAAD,IAAagB,KAAK,GAAG,CAArB,IAA0B7X,KAAK,CAAC8X,mBAAN,KAA8BD,KAA5D,EAAmE;AAC/DhB,UAAAA,QAAQ,GAAG,IAAX;AACAe,UAAAA,QAAQ,GAAG,IAAX;AACH,SAHD,MAGO,IAAIf,QAAQ,IAAIviE,EAAE,CAACyjE,eAAH,CAAmBxtB,SAAnB,GAA+BstB,KAA/C,EAAsD;AACzDhB,UAAAA,QAAQ,GAAG,KAAX;AACAe,UAAAA,QAAQ,GAAG,IAAX;AACH;;AAED,YAAIA,QAAJ,EAAclnE,CAAC,GAAG,CAACmmE,QAAQ,GAAGC,KAAK,CAACnrD,GAAN,GAAY4rD,aAAZ,GAA4BD,WAA/B,GAA6CR,KAAK,CAACM,MAAN,GAAeE,WAArE,KAAqFR,KAAK,CAACO,MAAN,GAAe,CAAf,GAAmBJ,SAAxG,IAAqHvsB,SAAzH;AAEd/uC,QAAAA,OAAO,CAAC5I,KAAR,CAAcmN,IAAd,GAAqBrJ,EAAE,CAAC0U,IAAH,CAAQ0hB,KAAR,CAAcv9B,CAAd,IAAmB,IAAxC;AACAiM,QAAAA,OAAO,CAAC5I,KAAR,CAAc4Y,GAAd,GAAoB9U,EAAE,CAAC0U,IAAH,CAAQ0hB,KAAR,CAAcv8B,CAAd,IAAmB,IAAvC;;AAEA,YAAImmE,QAAJ,EAAc;AACVlkE,UAAAA,IAAI,CAACuR,WAAL,CAAiB5R,OAAO,CAACmB,OAAR,CAAgBq/C,MAAjC,EAAyC,aAAzC;AACAngD,UAAAA,IAAI,CAACsR,QAAL,CAAc3R,OAAO,CAACmB,OAAR,CAAgBq/C,MAA9B,EAAsC,eAAtC;AACAxgD,UAAAA,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuB//C,KAAvB,CAA6B4Y,GAA7B,GAAmC4rD,aAAa,GAAG,IAAnD;AACH,SAJD,MAIO;AACH5kE,UAAAA,IAAI,CAACuR,WAAL,CAAiB5R,OAAO,CAACmB,OAAR,CAAgBq/C,MAAjC,EAAyC,eAAzC;AACAngD,UAAAA,IAAI,CAACsR,QAAL,CAAc3R,OAAO,CAACmB,OAAR,CAAgBq/C,MAA9B,EAAsC,aAAtC;AACAxgD,UAAAA,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuB//C,KAAvB,CAA6B4Y,GAA7B,GAAmC,CAAC2rD,WAAD,GAAe,IAAlD;AACH;;AAED,cAAMU,UAAU,GAAGnhE,EAAE,CAAC0U,IAAH,CAAQ0hB,KAAR,CAAe4nB,YAAY,GAAG,CAAhB,IAAsB6iB,YAAY,GAAGhoE,CAArC,CAAd,CAAnB;;AACA4C,QAAAA,OAAO,CAACmB,OAAR,CAAgBq/C,MAAhB,CAAuB//C,KAAvB,CAA6BmN,IAA7B,GAAoC,CAAC83D,UAAU,GAAGV,WAAb,GAA2B37D,OAAO,CAAC+P,WAAnC,GAAiD/P,OAAO,CAAC+P,WAAR,GAAsB4rD,WAAvE,GAAqFU,UAAU,GAAGV,WAAb,GAA2BA,WAA3B,GAAyCU,UAA/H,IAA6I,IAAjL;AACH,OAxbS;AA0bV7J,MAAAA,kBAAkB,EAAE,YAAY;AAC5B,YAAI,CAAC97D,IAAI,CAACkqD,SAAV,EAAqB;AAErB,cAAM5gD,OAAO,GAAGrJ,OAAO,CAACmB,OAAR,CAAgBkI,OAAhC;AACA,YAAI0b,OAAO,CAACq6B,gBAAZ,EAA8B/1C,OAAO,CAAC5I,KAAR,CAAc4B,QAAd,GAAyB,UAAzB,CAA9B,KACKgH,OAAO,CAAC5I,KAAR,CAAc4B,QAAd,GAAyB,UAAzB;AAELgH,QAAAA,OAAO,CAAC5I,KAAR,CAAc62B,UAAd,GAA2B,QAA3B;AACAjuB,QAAAA,OAAO,CAAC5I,KAAR,CAAcC,OAAd,GAAwB,OAAxB;AACAX,QAAAA,IAAI,CAACqqD,kBAAL,CAAwBthD,KAAxB,GAAgCO,OAAO,CAAC5I,KAAR,CAAcqI,KAAd,GAAsBic,OAAO,CAACw9B,YAA9D;AACAxiD,QAAAA,IAAI,CAACqqD,kBAAL,CAAwB/wC,GAAxB,GAA8BhQ,OAAO,CAAC5I,KAAR,CAAc4Y,GAAd,GAAoB,CAAC0L,OAAO,CAACq6B,gBAAR,GAA2B,CAA3B,GAAgC,CAAC,CAAD,GAAK/1C,OAAO,CAAC8P,YAA9C,IAA+D,IAAjH;AAEA,YAAI,OAAO7T,SAAS,CAACqgE,UAAjB,KAAgC,UAApC,EAAgDrgE,SAAS,CAACqgE,UAAV,CAAqBt8D,OAArB,EAA8BrJ,OAA9B,EAAuCD,IAAvC;AAEhD2tD,QAAAA,KAAK,CAAC4P,eAAN;AACAv9D,QAAAA,IAAI,CAACqqD,kBAAL,CAAwBC,MAAxB,GAAiC,IAAjC;AACAhhD,QAAAA,OAAO,CAAC5I,KAAR,CAAc62B,UAAd,GAA2B,EAA3B;AACH,OA3cS;AA6cV+kC,MAAAA,YAAY,EAAE,YAAY;AACtB,YAAI,CAACt8D,IAAI,CAACuqD,eAAN,IAAyB,CAACvqD,IAAI,CAACwnD,SAAL,CAAe+D,YAA7C,EAA2D;AACvDtrD,UAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACAX,UAAAA,IAAI,CAACqqD,kBAAL,CAAwBC,MAAxB,GAAiC,KAAjC;AACH;AACJ,OAldS;AAodVub,MAAAA,eAAe,EAAE,UAAUvkE,CAAV,EAAa;AAC1BtB,QAAAA,IAAI,CAACyuD,YAAL;;AAEA,cAAMlwB,IAAI,GAAG,CAACj9B,CAAC,CAACi9B,IAAF,KAAW,IAAX,GAAkB,EAAlB,GAAuBj9B,CAAC,CAACi9B,IAAF,KAAW57B,SAAX,GAAuB,GAAvB,GAA6BrB,CAAC,CAACi9B,IAAvD,KAAgE,EAA7E;;AACA,YAAI,CAACv+B,IAAI,CAAC8/D,UAAL,CAAgBvhC,IAAhB,CAAL,EAA4B;AACxBj9B,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACH,SAPyB,CAS1B;;;AACAzB,QAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AAEA,YAAI,OAAOjC,SAAS,CAACugE,OAAjB,KAA6B,UAAjC,EAA6CvgE,SAAS,CAACugE,OAAV,CAAkBxkE,CAAlB,EAAqBtB,IAArB;AAChD,OAjeS;AAmeV+lE,MAAAA,cAAc,EAAE,KAneN;AAoeVC,MAAAA,iBAAiB,EAAE,UAAU1kE,CAAV,EAAa;AAC5B,cAAMa,OAAO,GAAGb,CAAC,CAACa,OAAlB;AACA,cAAMm3B,KAAK,GAAGh4B,CAAC,CAAC2kE,QAAhB;AACA,cAAMC,IAAI,GAAG5kE,CAAC,CAAC6kE,OAAF,IAAa7kE,CAAC,CAAC8kE,OAAf,IAA0BjkE,OAAO,KAAK,EAAtC,IAA4CA,OAAO,KAAK,EAAxD,IAA8DA,OAAO,KAAK,GAAvF;AACA,cAAMwkB,GAAG,GAAGrlB,CAAC,CAAC+kE,MAAd;AACA1Y,QAAAA,KAAK,CAACkV,cAAN,GAAuB1gE,OAAO,KAAK,GAAnC;AAEAnC,QAAAA,IAAI,CAACsjB,UAAL;;AAEA,YAAItjB,IAAI,CAACmqD,UAAT,EAAqB;AACjBwD,UAAAA,KAAK,CAAC2O,YAAN;AACH;AAED;;;AACA,YAAI4J,IAAI,IAAIvY,KAAK,CAAC4V,gBAAN,CAAuBphE,OAAvB,EAAgCm3B,KAAhC,CAAZ,EAAoD;AAChDq0B,UAAAA,KAAK,CAACoY,cAAN,GAAuB,IAAvB;AACAzkE,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACA,iBAAO,KAAP;AACH,SALD,MAKO,IAAIksD,KAAK,CAACoY,cAAV,EAA0B;AAC7BpY,UAAAA,KAAK,CAACoY,cAAN,GAAuB,KAAvB;AACH;AAED;;;AACA,YAAI1nC,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAApB;AACA,cAAM4C,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;AACA,cAAMu8C,WAAW,GAAG,CAACx8C,KAAK,CAAC+lC,SAAP,IAAoB/lC,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAAvE;AACA,cAAM67C,iBAAiB,GAAGvmE,IAAI,CAAC+qD,YAAL,CAAkBE,YAAlB,CAA+B1pD,IAA/B,CAAoCvB,IAAI,CAACwa,qBAAzC,IAAkExa,IAAI,CAACwa,qBAAvE,GAA+F,EAAzH;AACA,YAAIg4C,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBgS,aAAtB,EAAqC,IAArC,KAA8CA,aAA7D;AACA,YAAIo3B,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BykC,QAA3B,EAAqC,IAArC,CAAd;;AAEA,gBAAQrwD,OAAR;AACI,eAAK,CAAL;AAAQ;AACJ,gBAAI,CAACmkE,WAAL,EAAkB;AACd,kBAAIC,iBAAJ,EAAuB;AACnBjlE,gBAAAA,CAAC,CAACoU,cAAF;AACApU,gBAAAA,CAAC,CAACG,eAAF;AACAzB,gBAAAA,IAAI,CAAC2B,OAAL,CAAa4kE,iBAAb,EAAgCj+D,OAAhC,CAAwChL,IAAxC,CAA6C0C,IAA7C;AACA;AACH;AACJ;;AAED,gBAAIsmE,WAAW,IAAI3Y,KAAK,CAAC6Y,WAAN,EAAnB,EAAwC;AACpCllE,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;AACA;AACH;;AAED,gBAAI,CAACnB,IAAI,CAACyiB,eAAL,CAAqByvC,QAArB,CAAD,IAAmC,CAACvyD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBgU,iBAA5D,IAAiF,CAAC7Z,IAAI,CAACkZ,WAAL,CAAiB6kB,aAAjB,CAAtF,EAAuH;AACnH/8B,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;;AACAzB,cAAAA,IAAI,CAACoiE,iBAAL,CAAuB,GAAvB;;AACA,qBAAO,KAAP;AACH;;AAED,gBAAI,CAACkE,WAAD,IAAgB,CAAC9T,QAAQ,CAAChlC,sBAA1B,IAAqD1D,KAAK,CAACI,WAAN,KAAsB,CAAtB,IAA2B,CAACmU,aAAa,CAAC5S,eAA1C,IAA6D,CAACnrB,IAAI,CAACitB,UAAL,CAAgBilC,QAAhB,CAA9D,IACvDlyD,IAAI,CAACyiB,eAAL,CAAqByvC,QAArB,MAAmC,CAAClyD,IAAI,CAAC40C,mBAAL,CAAyBsd,QAAzB,CAAD,IAAuClyD,IAAI,CAAC60C,0BAAL,CAAgCqd,QAAhC,CAA1E,CADF,EAC0H;AACtH;AACA,kBAAIlyD,IAAI,CAAC20C,2BAAL,CAAiCud,QAAQ,CAACjgD,UAA1C,CAAJ,EAA2D;AACvDjR,gBAAAA,CAAC,CAACoU,cAAF;AACApU,gBAAAA,CAAC,CAACG,eAAF;AACA,uBAAO,KAAP;AACH,eANqH,CAOtH;;;AACA,kBAAInB,IAAI,CAAC+R,YAAL,CAAkBmgD,QAAQ,CAACjgD,UAA3B,KAA0CigD,QAAQ,CAACjjC,UAAT,CAAoB7qB,MAApB,IAA8B,CAAxE,KAA8E,CAAC8tD,QAAQ,CAAC5oC,UAAV,IAAwBtpB,IAAI,CAACs7B,kBAAL,CAAwB42B,QAAQ,CAAC/1C,WAAjC,CAAtG,CAAJ,EAA0J;AACtJnb,gBAAAA,CAAC,CAACoU,cAAF;AACApU,gBAAAA,CAAC,CAACG,eAAF;AAEA+wD,gBAAAA,QAAQ,CAACjvD,SAAT,GAAqB,MAArB;AACA,sBAAMgmB,KAAK,GAAGipC,QAAQ,CAACne,UAAvB;;AACA,uBAAO9qB,KAAK,CAAC,CAAD,CAAZ,EAAiB;AACbipC,kBAAAA,QAAQ,CAAC7qD,eAAT,CAAyB4hB,KAAK,CAAC,CAAD,CAAL,CAAS7rB,IAAlC;AACH;;AACDsC,gBAAAA,IAAI,CAACwuD,WAAL;AAEA,uBAAO,KAAP;AACH;AACJ,aA7CL,CA+CI;;;AACA,gBAAIgE,QAAQ,IAAI1oC,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAA3C,IAA2D2T,aAAa,CAAC/rB,QAAd,KAA2B,CAAtF,IAA2F,CAAChS,IAAI,CAACyiB,eAAL,CAAqBsb,aAAa,CAAC9rB,UAAnC,CAAhG,EAAgJ;AAC5I,kBAAIuX,KAAK,CAAC+lC,SAAN,GAAkBxxB,aAAa,CAAC5hB,WAAd,CAA0B/X,MAA1B,KAAqC,CAAvD,GAA4DolB,KAAK,CAACK,SAAN,GAAkBL,KAAK,CAACI,WAAzB,KAA0CmU,aAAa,CAAC5hB,WAAd,CAA0B/X,MAAnI,EAA2I;AACvIpD,gBAAAA,CAAC,CAACoU,cAAF;AAEA,oBAAIoD,MAAM,GAAG,IAAb;AACA,oBAAI0S,IAAI,GAAG6S,aAAa,CAAC9rB,UAAd,CAAyBkZ,eAApC;AACA,sBAAML,IAAI,GAAGiT,aAAa,CAAC9rB,UAAd,CAAyBsT,WAAtC;;AACA,oBAAI,CAAC2F,IAAL,EAAW;AACP,sBAAI,CAACJ,IAAL,EAAW;AACPI,oBAAAA,IAAI,GAAGlrB,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAP;AACAiyD,oBAAAA,QAAQ,CAAC3xD,WAAT,CAAqB2qB,IAArB;AACH,mBAHD,MAGO;AACHA,oBAAAA,IAAI,GAAGJ,IAAP;AACAtS,oBAAAA,MAAM,GAAG,CAAT;AACH;AACJ;;AAEDulB,gBAAAA,aAAa,CAAC5hB,WAAd,GAA4B,EAA5B;AACAnc,gBAAAA,IAAI,CAACq9B,oBAAL,CAA0BU,aAA1B,EAAyC,IAAzC,EAA+Cm0B,QAA/C;AACA15C,gBAAAA,MAAM,GAAG,OAAOA,MAAP,KAAkB,QAAlB,GAA6BA,MAA7B,GAAsC0S,IAAI,CAAClZ,QAAL,KAAkB,CAAlB,GAAsBkZ,IAAI,CAAC/O,WAAL,CAAiB/X,MAAvC,GAAgD,CAA/F;AACA1E,gBAAAA,IAAI,CAACwc,QAAL,CAAcgP,IAAd,EAAoB1S,MAApB,EAA4B0S,IAA5B,EAAkC1S,MAAlC;AACA;AACH;AACJ,aAvEL,CAyEI;;;AACA,kBAAMm4C,SAAS,GAAGnnC,KAAK,CAAC0mC,uBAAxB;AACAgC,YAAAA,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACU,cAA5B,EAA4C,IAA5C,CAAX;AACAirC,YAAAA,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BykC,QAA3B,EAAqC,IAArC,CAAV;;AACA,gBAAIiD,OAAO,IAAIjD,QAAX,IAAuB,CAAClyD,IAAI,CAAC2uB,MAAL,CAAYwmC,OAAZ,CAAxB,IAAgD,CAAC,gBAAgBl0D,IAAhB,CAAqBk0D,OAAO,CAACluD,QAA7B,CAArD,EAA6F;AACzF,kBAAIjH,IAAI,CAACitB,UAAL,CAAgBilC,QAAhB,KAA6BlyD,IAAI,CAACwsB,MAAL,CAAY2oC,OAAZ,CAA7B,KAAsDn1D,IAAI,CAACitB,UAAL,CAAgBkoC,OAAO,CAACljD,UAAxB,KAAuCigD,QAAQ,CAAChlC,sBAAtG,MAAkI6Q,aAAa,KAAKm0B,QAAlB,IAA+Bn0B,aAAa,CAAC/rB,QAAd,KAA2B,CAA3B,KAAiC,CAAC+rB,aAAa,CAAC5S,eAAf,IAAkCnrB,IAAI,CAACwsB,MAAL,CAAYuR,aAAa,CAAC5S,eAA1B,CAAnE,CAAjK,MACFnrB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACU,cAA5B,EAA4C,IAA5C,MAAsDlqB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACY,YAA5B,EAA0C,IAA1C,CAAtD,GAAwG+qC,OAAO,CAACvnC,QAAR,CAAiBpE,KAAK,CAACU,cAAvB,CAAxG,GAAkJV,KAAK,CAACI,WAAN,KAAsB,CAAtB,IAA4BJ,KAAK,CAAC+lC,SADlL,CAAJ,EACmM;AAC/L,oBAAI/lC,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAAnC,EAAiD;AAC7CppB,kBAAAA,CAAC,CAACoU,cAAF;AAEA1V,kBAAAA,IAAI,CAACuyD,UAAL;;AACA,sBAAIzoC,KAAK,CAACU,cAAN,CAAqBlY,QAArB,KAAkC,CAAtC,EAAyC;AACrCtS,oBAAAA,IAAI,CAACwc,QAAL,CAAcsN,KAAK,CAACU,cAApB,EAAoCV,KAAK,CAACU,cAAN,CAAqB/N,WAArB,CAAiC/X,MAArE,EAA6EolB,KAAK,CAACU,cAAnF,EAAmGV,KAAK,CAACU,cAAN,CAAqB/N,WAArB,CAAiC/X,MAApI;AACH,mBAN4C,CAO7C;;;AACA1E,kBAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AACH,iBATD,MASO;AACH,sBAAIgkB,IAAI,GAAGgnC,QAAQ,CAAChlC,sBAAT,IAAmCioC,OAAO,CAACljD,UAAtD;;AACA,sBAAIjS,IAAI,CAACitB,UAAL,CAAgB/B,IAAhB,CAAJ,EAA2B;AACvBlqB,oBAAAA,CAAC,CAACoU,cAAF;AAEA,wBAAI+wD,QAAQ,GAAGj7C,IAAf;;AACA,wBAAI,CAACA,IAAI,CAAC0C,QAAL,CAAcskC,QAAd,CAAD,IAA4BlyD,IAAI,CAACitB,UAAL,CAAgBk5C,QAAhB,CAA5B,IAAyDnmE,IAAI,CAACwsB,MAAL,CAAY25C,QAAQ,CAACr1C,gBAArB,CAA7D,EAAqG;AACjGq1C,sBAAAA,QAAQ,GAAGA,QAAQ,CAACr1C,gBAAT,CAA0BA,gBAArC;;AACA,6BAAO9wB,IAAI,CAACitB,UAAL,CAAgBk5C,QAAhB,KAA6BnmE,IAAI,CAACwsB,MAAL,CAAY25C,QAAQ,CAACr1C,gBAArB,CAApC,EAA4E;AACxEq1C,wBAAAA,QAAQ,GAAGA,QAAQ,CAACr1C,gBAAT,IAA6Bq1C,QAAQ,CAACr1C,gBAAT,CAA0BA,gBAAlE;AACH;;AACD5F,sBAAAA,IAAI,GAAGi7C,QAAP;AACH;;AAED,wBAAIC,GAAG,GAAGl7C,IAAI,KAAKiqC,OAAO,CAACljD,UAAjB,GAA8BkjD,OAAO,CAAChqC,eAAtC,GAAwDD,IAAI,CAACysB,SAAvE;;AACA,wBAAI,CAACyuB,GAAL,EAAU;AACNA,sBAAAA,GAAG,GAAGpmE,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAN;AACA8vC,sBAAAA,OAAO,CAACljD,UAAR,CAAmBqT,YAAnB,CAAgC8gD,GAAhC,EAAqCjR,OAAO,CAACljD,UAAR,CAAmBqX,UAAxD;AACH;;AACD,0BAAM9Q,MAAM,GAAG4tD,GAAG,CAACp0D,QAAJ,KAAiB,CAAjB,GAAqBo0D,GAAG,CAACjqD,WAAJ,CAAgB/X,MAArC,GAA8C,CAA7D;AACA,0BAAMmrB,QAAQ,GAAG2iC,QAAQ,CAACjjC,UAA1B;AACA,wBAAIwqB,KAAK,GAAG2sB,GAAZ;AACA,wBAAI/sB,KAAK,GAAG9pB,QAAQ,CAAC,CAAD,CAApB;;AACA,2BAAQ8pB,KAAK,GAAG9pB,QAAQ,CAAC,CAAD,CAAxB,EAA8B;AAC1BrE,sBAAAA,IAAI,CAAC5F,YAAL,CAAkB+zB,KAAlB,EAAyBI,KAAK,CAACl0B,WAA/B;AACAk0B,sBAAAA,KAAK,GAAGJ,KAAR;AACH;;AAEDr5C,oBAAAA,IAAI,CAAC8S,UAAL,CAAgBo/C,QAAhB;AACA,wBAAIiD,OAAO,CAAC5lC,QAAR,CAAiBnrB,MAAjB,KAA4B,CAAhC,EAAmCpE,IAAI,CAAC8S,UAAL,CAAgBqiD,OAAhB;AAEnCz1D,oBAAAA,IAAI,CAACwc,QAAL,CAAckqD,GAAd,EAAmB5tD,MAAnB,EAA2B4tD,GAA3B,EAAgC5tD,MAAhC,EA7BuB,CA8BvB;;AACA9Y,oBAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AACH;AACJ;;AAED;AACH,eAlDwF,CAoDzF;;;AACA,kBAAI,CAAC8+D,WAAD,IAAgBx8C,KAAK,CAACI,WAAN,KAAsB,CAA1C,EAA6C;AACzC,oBAAIgD,MAAM,GAAG,IAAb;AACA,oBAAIwjC,IAAI,GAAGO,SAAX;;AACA,uBAAOP,IAAI,IAAIA,IAAI,KAAK+E,OAAjB,IAA4B,CAACn1D,IAAI,CAAC+R,YAAL,CAAkBq+C,IAAlB,CAApC,EAA6D;AACzD,sBAAIA,IAAI,CAACjlC,eAAT,EAA0B;AACtB,wBAAIilC,IAAI,CAACjlC,eAAL,CAAqBnZ,QAArB,KAAkC,CAAlC,IAAuC,CAAChS,IAAI,CAACs7B,kBAAL,CAAwB80B,IAAI,CAACjlC,eAAL,CAAqBhP,WAArB,CAAiCoF,IAAjC,EAAxB,CAA5C,EAA8G;AAC1GqL,sBAAAA,MAAM,GAAG,KAAT;AACA;AACH;AACJ;;AACDwjC,kBAAAA,IAAI,GAAGA,IAAI,CAACn+C,UAAZ;AACH;;AAED,oBAAI2a,MAAM,IAAIuoC,OAAO,CAACljD,UAAtB,EAAkC;AAC9BjR,kBAAAA,CAAC,CAACoU,cAAF;AACA1V,kBAAAA,IAAI,CAACmnB,wBAAL,CAA8BsuC,OAA9B,EAAwCn1D,IAAI,CAACitB,UAAL,CAAgBilC,QAAhB,IAA4B,CAACA,QAAD,CAA5B,GAAyC,IAAjF,EAAwF,IAAxF,EAA8F,KAA9F,EAAqG,KAArG,EAF8B,CAG9B;;AACAxyD,kBAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AACA;AACH;AACJ;AACJ,aAvJL,CAyJI;;;AACA,gBAAI,CAAC8+D,WAAD,KAAiBx8C,KAAK,CAACI,WAAN,KAAsB,CAAtB,KAA4BmU,aAAa,KAAKm0B,QAAlB,GAA6B,CAAC,CAACA,QAAQ,CAACjjC,UAAT,CAAoBzF,KAAK,CAACI,WAA1B,CAA/B,GAAwE,KAApG,CAAjB,CAAJ,EAAkI;AAC9H,oBAAMy8C,GAAG,GAAGtoC,aAAa,KAAKm0B,QAAlB,GAA6BA,QAAQ,CAACjjC,UAAT,CAAoBzF,KAAK,CAACI,WAA1B,CAA7B,GAAsEmU,aAAlF,CAD8H,CAE9H;;AACA,oBAAMuoC,SAAS,GAAG,CAAC3V,SAAS,CAAC3+C,QAAV,KAAuB,CAAvB,IAA4BhS,IAAI,CAACy2C,OAAL,CAAaka,SAAb,CAA7B,KAAyD,CAACA,SAAS,CAACxlC,eAApE,IAAuF3B,KAAK,CAACI,WAAN,KAAsB,CAA/H;;AACA,kBAAI,CAACy8C,GAAG,CAACl7C,eAAL,KAAyBnrB,IAAI,CAACkZ,WAAL,CAAiBy3C,SAAS,CAACxlC,eAA3B,KAAgDm7C,SAAS,IAAItmE,IAAI,CAACkZ,WAAL,CAAiBg5C,QAAQ,CAAC/mC,eAA1B,CAAtF,CAAJ,EAAwI;AACpI,sBAAMojC,iBAAiB,GAAG7uD,IAAI,CAACouD,gBAAL,CAAsBoE,QAAQ,CAAC/mC,eAA/B,CAA1B;;AACA,oBAAIojC,iBAAJ,EAAuB;AACnBvtD,kBAAAA,CAAC,CAACoU,cAAF;AACApU,kBAAAA,CAAC,CAACG,eAAF;AACA,sBAAI+wD,QAAQ,CAAC/1C,WAAT,CAAqB/X,MAArB,KAAgC,CAApC,EAAuCpE,IAAI,CAAC8S,UAAL,CAAgBo/C,QAAhB;AACvCxyD,kBAAAA,IAAI,CAACwb,eAAL,CAAqBqzC,iBAAiB,CAACrtD,MAAvC,EAA+CqtD,iBAAiB,CAACnpD,UAAjE;AACH;;AACD;AACH,eAb6H,CAc9H;;;AACA,kBAAIpF,IAAI,CAACy0C,aAAL,CAAmB4xB,GAAG,CAACl7C,eAAvB,CAAJ,EAA6C;AACzCnqB,gBAAAA,CAAC,CAACoU,cAAF;AACApU,gBAAAA,CAAC,CAACG,eAAF;AACAnB,gBAAAA,IAAI,CAAC8S,UAAL,CAAgBuzD,GAAG,CAACl7C,eAApB;AACA;AACH;AACJ;;AAED;;AACJ,eAAK,EAAL;AAAS;AACL,gBAAI86C,iBAAJ,EAAuB;AACnBjlE,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;AACAzB,cAAAA,IAAI,CAAC2B,OAAL,CAAa4kE,iBAAb,EAAgCj+D,OAAhC,CAAwChL,IAAxC,CAA6C0C,IAA7C;AACA;AACH;;AAED,gBAAIsmE,WAAW,IAAI3Y,KAAK,CAAC6Y,WAAN,EAAnB,EAAwC;AACpCllE,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;AACA;AACH,aAZL,CAcI;;;AACA,gBAAI,CAACnB,IAAI,CAACyiB,eAAL,CAAqBsb,aAArB,KAAuCA,aAAa,CAACxY,WAAd,KAA8B,IAArE,IAA8EvlB,IAAI,CAACs7B,kBAAL,CAAwByC,aAAa,CAACxY,WAAtC,KAAsDwY,aAAa,CAACxY,WAAd,CAA0BA,WAA1B,KAA0C,IAA/K,KAAyLiE,KAAK,CAACI,WAAN,KAAsBmU,aAAa,CAAC5hB,WAAd,CAA0B/X,MAA7O,EAAqP;AACjP,kBAAImiE,MAAM,GAAGrU,QAAQ,CAAC9kC,kBAAtB;;AACA,kBAAI,CAACm5C,MAAL,EAAa;AACTvlE,gBAAAA,CAAC,CAACoU,cAAF;AACA;AACH;;AAED,kBAAIpV,IAAI,CAACkZ,WAAL,CAAiBqtD,MAAjB,CAAJ,EAA8B;AAC1BvlE,gBAAAA,CAAC,CAACoU,cAAF;;AAEA,oBAAIpV,IAAI,CAACs7B,kBAAL,CAAwB42B,QAAxB,CAAJ,EAAuC;AACnClyD,kBAAAA,IAAI,CAAC8S,UAAL,CAAgBo/C,QAAhB,EADmC,CAEnC;;AACA,sBAAIlyD,IAAI,CAACw2C,OAAL,CAAa+vB,MAAb,CAAJ,EAA0B;AACtB,wBAAIpxC,IAAI,GAAGn1B,IAAI,CAACga,eAAL,CAAqBusD,MAArB,EAA6BvmE,IAAI,CAAC2uB,MAAlC,EAA0C,KAA1C,CAAX;AACAwG,oBAAAA,IAAI,GAAGA,IAAI,CAACtb,iBAAL,IAA0Bsb,IAAjC;AACAz1B,oBAAAA,IAAI,CAACwc,QAAL,CAAciZ,IAAd,EAAoB,CAApB,EAAuBA,IAAvB,EAA6B,CAA7B;AACA;AACH;AACJ,iBAZyB,CAc1B;;;AACA,sBAAMo5B,iBAAiB,GAAG7uD,IAAI,CAACouD,gBAAL,CAAsByY,MAAtB,CAA1B;;AACA,oBAAIhY,iBAAJ,EAAuB;AACnBvtD,kBAAAA,CAAC,CAACG,eAAF;AACAzB,kBAAAA,IAAI,CAACwb,eAAL,CAAqBqzC,iBAAiB,CAACrtD,MAAvC,EAA+CqtD,iBAAiB,CAACnpD,UAAjE;AACH;;AAED;AACH;AACJ;;AAED,gBAAI,CAAC4gE,WAAD,KAAiBtmE,IAAI,CAAC+xD,WAAL,CAAiBjoC,KAAK,CAACY,YAAvB,EAAqCZ,KAAK,CAACK,SAA3C,MAA0DkU,aAAa,KAAKm0B,QAAlB,GAA6B,CAAC,CAACA,QAAQ,CAACjjC,UAAT,CAAoBzF,KAAK,CAACI,WAA1B,CAA/B,GAAwE,KAAlI,CAAjB,CAAJ,EAAgK;AAC5J,oBAAMy8C,GAAG,GAAGtoC,aAAa,KAAKm0B,QAAlB,GAA6BA,QAAQ,CAACjjC,UAAT,CAAoBzF,KAAK,CAACI,WAA1B,CAA7B,GAAsEmU,aAAlF,CAD4J,CAE5J;;AACA,kBAAI/9B,IAAI,CAACy0C,aAAL,CAAmB4xB,GAAG,CAAC9gD,WAAvB,CAAJ,EAAyC;AACrCvkB,gBAAAA,CAAC,CAACoU,cAAF;AACApU,gBAAAA,CAAC,CAACG,eAAF;AACAnB,gBAAAA,IAAI,CAAC8S,UAAL,CAAgBuzD,GAAG,CAAC9gD,WAApB;AACA;AACH;AACJ,aAxDL,CA0DI;;;AACA2sC,YAAAA,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACU,cAA5B,EAA4C,IAA5C,CAAX;AACAirC,YAAAA,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BykC,QAA3B,EAAqC,IAArC,CAAV;;AACA,gBAAIlyD,IAAI,CAACitB,UAAL,CAAgBilC,QAAhB,KAA6BlyD,IAAI,CAACwsB,MAAL,CAAY2oC,OAAZ,CAA7B,KAAsDp3B,aAAa,KAAKm0B,QAAlB,IAA+Bn0B,aAAa,CAAC/rB,QAAd,KAA2B,CAA3B,KAAiC,CAAC+rB,aAAa,CAACxY,WAAf,IAA8BvlB,IAAI,CAACwsB,MAAL,CAAYuR,aAAa,CAACxY,WAA1B,CAA/D,MACvFvlB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACU,cAA5B,EAA4C,IAA5C,MAAsDlqB,IAAI,CAAC+rB,gBAAL,CAAsBvC,KAAK,CAACY,YAA5B,EAA0C,IAA1C,CAAtD,GAAwG+qC,OAAO,CAACvnC,QAAR,CAAiBpE,KAAK,CAACY,YAAvB,CAAxG,GAAgJZ,KAAK,CAACK,SAAN,KAAoBkU,aAAa,CAAC5hB,WAAd,CAA0B/X,MAA9C,IAAwDolB,KAAK,CAAC+lC,SADvH,CAArF,CAAJ,EAC+N;AAC3N,kBAAI/lC,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAAnC,EAAiD1qB,IAAI,CAACuyD,UAAL;AAEjD,kBAAInnC,IAAI,GAAG9qB,IAAI,CAACq1C,YAAL,CAAkB6c,QAAQ,CAAC3iC,QAA3B,EAAqCvvB,IAAI,CAACwsB,MAA1C,EAAkD,KAAlD,CAAX;AACA1B,cAAAA,IAAI,GAAGA,IAAI,IAAIonC,QAAQ,CAAC9kC,kBAAjB,IAAuC+nC,OAAO,CAACljD,UAAR,CAAmBmb,kBAAjE;;AACA,kBAAItC,IAAI,KAAK9qB,IAAI,CAACwsB,MAAL,CAAY1B,IAAZ,KAAqB9qB,IAAI,CAACq1C,YAAL,CAAkBvqB,IAAI,CAACyE,QAAvB,EAAiCvvB,IAAI,CAACwsB,MAAtC,EAA8C,KAA9C,CAA1B,CAAR,EAAyF;AACrFxrB,gBAAAA,CAAC,CAACoU,cAAF;AAEA,oBAAIgxD,GAAJ,EAAS72C,QAAT;;AACA,oBAAIvvB,IAAI,CAACwsB,MAAL,CAAY1B,IAAZ,CAAJ,EAAuB;AACnB,wBAAMuuB,KAAK,GAAGvuB,IAAI,CAACjR,iBAAnB;AACA0V,kBAAAA,QAAQ,GAAG8pB,KAAK,CAACpqB,UAAjB;AACAm3C,kBAAAA,GAAG,GAAG72C,QAAQ,CAAC,CAAD,CAAd;;AACA,yBAAOA,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChB2iC,oBAAAA,QAAQ,CAAC5sC,YAAT,CAAsBiK,QAAQ,CAAC,CAAD,CAA9B,EAAmCzE,IAAnC;AACH;;AACD9qB,kBAAAA,IAAI,CAAC8S,UAAL,CAAgBumC,KAAhB;AACH,iBARD,MAQO;AACH+sB,kBAAAA,GAAG,GAAGt7C,IAAI,CAACxB,UAAX;AACAiG,kBAAAA,QAAQ,GAAGzE,IAAI,CAACmE,UAAhB;;AACA,yBAAOM,QAAQ,CAAC,CAAD,CAAf,EAAoB;AAChB2iC,oBAAAA,QAAQ,CAAC3xD,WAAT,CAAqBgvB,QAAQ,CAAC,CAAD,CAA7B;AACH;;AACDvvB,kBAAAA,IAAI,CAAC8S,UAAL,CAAgBgY,IAAhB;AACH;;AACDprB,gBAAAA,IAAI,CAACwc,QAAL,CAAckqD,GAAd,EAAmB,CAAnB,EAAsBA,GAAtB,EAA2B,CAA3B,EApBqF,CAqBrF;;AACA1mE,gBAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AACH;;AACD;AACH;;AAED;;AACJ,eAAK,CAAL;AAAQ;AACJ,gBAAI++D,iBAAiB,IAAIvhD,OAAO,CAAC2+B,UAAjC,EAA6C;AAC7CriD,YAAAA,CAAC,CAACoU,cAAF;AACA,gBAAIwwD,IAAI,IAAIv/C,GAAR,IAAermB,IAAI,CAAC+R,YAAL,CAAkBgsB,aAAlB,CAAnB,EAAqD;AAErD,kBAAMyoC,MAAM,GAAI,CAACh9C,KAAK,CAAC+lC,SAAP,IAAoB7vD,IAAI,CAAC+xD,WAAL,CAAiBjoC,KAAK,CAACU,cAAvB,EAAuCV,KAAK,CAACI,WAA7C,CAApC;AACA,kBAAM5E,eAAe,GAAGtlB,IAAI,CAACmjB,mBAAL,CAAyB,IAAzB,CAAxB;AACAkb,YAAAA,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAAhB;AACA,kBAAM6I,KAAK,GAAG,EAAd;AACA,gBAAIg3C,KAAK,GAAG,EAAZ;AACA,gBAAIC,EAAE,GAAG1mE,IAAI,CAACitB,UAAL,CAAgBjI,eAAe,CAAC,CAAD,CAA/B,CAAT;AAAA,gBAA8C2hD,EAAE,GAAG3mE,IAAI,CAACitB,UAAL,CAAgBjI,eAAe,CAACA,eAAe,CAAC5gB,MAAhB,GAAyB,CAA1B,CAA/B,CAAnD;AACA,gBAAIzG,CAAC,GAAG;AAAC4sB,cAAAA,EAAE,EAAEf,KAAK,CAACU,cAAX;AAA2BoD,cAAAA,EAAE,EAAE9D,KAAK,CAACI,WAArC;AAAkDY,cAAAA,EAAE,EAAEhB,KAAK,CAACY,YAA5D;AAA0EmD,cAAAA,EAAE,EAAE/D,KAAK,CAACK;AAApF,aAAR;;AACA,iBAAK,IAAI/sB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGsf,eAAe,CAAC5gB,MAAjC,EAAyCilB,CAA9C,EAAiDvsB,CAAC,GAAG4I,GAArD,EAA0D5I,CAAC,EAA3D,EAA+D;AAC3DusB,cAAAA,CAAC,GAAGrE,eAAe,CAACloB,CAAD,CAAnB;;AACA,kBAAIkD,IAAI,CAACitB,UAAL,CAAgB5D,CAAhB,CAAJ,EAAwB;AACpB,oBAAI,CAACA,CAAC,CAAC6D,sBAAH,IAA6B,CAAC8L,KAAlC,EAAyC;AACrC;AACH,iBAFD,MAEO;AACHvJ,kBAAAA,KAAK,CAACvoB,IAAN,CAAWmiB,CAAX;AACH;AACJ,eAND,MAMO;AACHo9C,gBAAAA,KAAK,CAACv/D,IAAN,CAAWmiB,CAAX;AACH;AACJ,aAvBL,CAyBI;;;AACA,gBAAIoG,KAAK,CAACrrB,MAAN,GAAe,CAAf,IAAoBoiE,MAApB,IAA8B9mE,IAAI,CAAC2B,OAAL,CAAaiJ,IAA/C,EAAqD;AACjD3M,cAAAA,CAAC,GAAG+B,IAAI,CAAC2B,OAAL,CAAaiJ,IAAb,CAAkB6lB,cAAlB,CAAiCnzB,IAAjC,CAAsC0C,IAAtC,EAA4Cs5B,KAA5C,EAAmDvJ,KAAnD,CAAJ;AACH,aAFD,MAEO;AACH;AACA,oBAAMg0C,SAAS,GAAGzjE,IAAI,CAAC8G,gBAAL,CAAsBi3B,aAAtB,EAAqC/9B,IAAI,CAAC2uB,MAA1C,CAAlB;;AACA,kBAAI80C,SAAS,IAAI+C,MAAjB,EAAyB;AACrB,sBAAM37D,KAAK,GAAG7K,IAAI,CAAC8G,gBAAL,CAAsB28D,SAAtB,EAAiC,OAAjC,CAAd;AACA,sBAAMh0C,KAAK,GAAGzvB,IAAI,CAAC62C,eAAL,CAAqBhsC,KAArB,EAA4B7K,IAAI,CAAC2uB,MAAjC,CAAd;AACA,oBAAI4mB,GAAG,GAAGvc,KAAK,GAAGh5B,IAAI,CAACy1C,OAAL,CAAahmB,KAAb,EAAoBg0C,SAApB,CAAH,GAAoCzjE,IAAI,CAACw1C,OAAL,CAAa/lB,KAAb,EAAoBg0C,SAApB,CAAnD;AAEA,oBAAIluB,GAAG,KAAK9lB,KAAK,CAACrrB,MAAd,IAAwB,CAAC40B,KAA7B,EAAoCuc,GAAG,GAAG,CAAN;AACpC,oBAAIA,GAAG,KAAK,CAAC,CAAT,IAAcvc,KAAlB,EAAyBuc,GAAG,GAAG9lB,KAAK,CAACrrB,MAAN,GAAe,CAArB;AAEzB,oBAAIwiE,QAAQ,GAAGn3C,KAAK,CAAC8lB,GAAD,CAApB;AACA,oBAAI,CAACqxB,QAAL,EAAe;AACfA,gBAAAA,QAAQ,GAAGA,QAAQ,CAAC/sD,iBAAT,IAA8B+sD,QAAzC;AACAlnE,gBAAAA,IAAI,CAACwc,QAAL,CAAc0qD,QAAd,EAAwB,CAAxB,EAA2BA,QAA3B,EAAqC,CAArC;AACA;AACH;;AAEDH,cAAAA,KAAK,GAAGA,KAAK,CAAC9gE,MAAN,CAAa8pB,KAAb,CAAR;AACAi3C,cAAAA,EAAE,GAAGC,EAAE,GAAG,IAAV;AACH,aAhDL,CAkDI;;;AACA,gBAAIF,KAAK,CAACriE,MAAN,GAAe,CAAnB,EAAsB;AAClB,kBAAI,CAAC40B,KAAL,EAAY;AACR,sBAAM6tC,OAAO,GAAG7mE,IAAI,CAAColB,cAAL,CAAoB,IAAIlhB,EAAE,CAACi/B,KAAP,CAAazjC,IAAI,CAACwnD,SAAL,CAAekE,OAAf,GAAyB,CAAtC,EAAyC6T,IAAzC,CAA8C,QAA9C,CAApB,CAAhB;;AACA,oBAAIwH,KAAK,CAACriE,MAAN,KAAiB,CAArB,EAAwB;AACpB,wBAAM0iE,SAAS,GAAGpnE,IAAI,CAACwlB,UAAL,CAAgB2hD,OAAhB,EAAyB,IAAzB,EAA+B,IAA/B,CAAlB;AACA,sBAAI,CAACC,SAAL,EAAgB,OAAO,KAAP;;AAChB,sBAAI,CAACJ,EAAL,EAAS;AACL/oE,oBAAAA,CAAC,CAAC4sB,EAAF,GAAOs8C,OAAP;AACAlpE,oBAAAA,CAAC,CAAC2vB,EAAF,GAAOw5C,SAAS,CAACj9C,SAAjB;AACH;;AACD,sBAAI,CAAC88C,EAAL,EAAS;AACLhpE,oBAAAA,CAAC,CAAC6sB,EAAF,GAAOq8C,OAAP;AACAlpE,oBAAAA,CAAC,CAAC4vB,EAAF,GAAOu5C,SAAS,CAACj9C,SAAjB;AACH;AACJ,iBAXD,MAWO;AACH,wBAAMnkB,GAAG,GAAG+gE,KAAK,CAACriE,MAAN,GAAe,CAA3B;;AACA,uBAAK,IAAItH,CAAC,GAAG,CAAR,EAAWu8C,KAAhB,EAAuBv8C,CAAC,IAAI4I,GAA5B,EAAiC5I,CAAC,EAAlC,EAAsC;AAClCu8C,oBAAAA,KAAK,GAAGotB,KAAK,CAAC3pE,CAAD,CAAL,CAASwsB,UAAjB;AACA,wBAAI,CAAC+vB,KAAL,EAAY;;AAEZ,wBAAIr5C,IAAI,CAACy2C,OAAL,CAAa4C,KAAb,CAAJ,EAAyB;AACrBotB,sBAAAA,KAAK,CAAC3pE,CAAD,CAAL,CAASwoB,YAAT,CAAsBuhD,OAAO,CAAC9/C,SAAR,CAAkB,KAAlB,CAAtB,EAAgDsyB,KAAhD;AACH,qBAFD,MAEO;AACHA,sBAAAA,KAAK,CAACl9B,WAAN,GAAoB0qD,OAAO,CAAC1qD,WAAR,GAAsBk9B,KAAK,CAACl9B,WAAhD;AACH;AACJ;;AAED,wBAAMmN,UAAU,GAAGtpB,IAAI,CAACga,eAAL,CAAqBysD,KAAK,CAAC,CAAD,CAA1B,EAA+B,MAA/B,EAAuC,KAAvC,CAAnB;AACA,wBAAMM,QAAQ,GAAG/mE,IAAI,CAACga,eAAL,CAAqBysD,KAAK,CAAC/gE,GAAD,CAA1B,EAAiC,MAAjC,EAAyC,IAAzC,CAAjB;;AACA,sBAAI,CAACghE,EAAD,IAAOp9C,UAAX,EAAuB;AACnB3rB,oBAAAA,CAAC,CAAC4sB,EAAF,GAAOjB,UAAP;AACA3rB,oBAAAA,CAAC,CAAC2vB,EAAF,GAAO,CAAP;AACH;;AACD,sBAAI,CAACq5C,EAAD,IAAOI,QAAX,EAAqB;AACjBppE,oBAAAA,CAAC,CAAC6sB,EAAF,GAAOu8C,QAAP;AACAppE,oBAAAA,CAAC,CAAC4vB,EAAF,GAAOw5C,QAAQ,CAAC5qD,WAAT,CAAqB/X,MAA5B;AACH;AACJ;AACJ,eArCD,MAqCO;AACH,sBAAMsB,GAAG,GAAG+gE,KAAK,CAACriE,MAAN,GAAe,CAA3B;;AACA,qBAAK,IAAItH,CAAC,GAAG,CAAR,EAAWu0D,IAAhB,EAAsBv0D,CAAC,IAAI4I,GAA3B,EAAgC5I,CAAC,EAAjC,EAAqC;AACjCu0D,kBAAAA,IAAI,GAAGoV,KAAK,CAAC3pE,CAAD,CAAL,CAASmyB,UAAhB;;AACA,uBAAK,IAAI/xB,CAAC,GAAG,CAAR,EAAW0yB,IAAI,GAAGyhC,IAAI,CAACjtD,MAAvB,EAA+Bi1C,KAApC,EAA2Cn8C,CAAC,GAAG0yB,IAA/C,EAAqD1yB,CAAC,EAAtD,EAA0D;AACtDm8C,oBAAAA,KAAK,GAAGgY,IAAI,CAACn0D,CAAD,CAAZ;AACA,wBAAI,CAACm8C,KAAL,EAAY;AACZ,wBAAIr5C,IAAI,CAACs7B,kBAAL,CAAwB+d,KAAxB,CAAJ,EAAoC;;AAEpC,wBAAI,YAAYp4C,IAAZ,CAAiBo4C,KAAK,CAACl9B,WAAvB,CAAJ,EAAyC;AACrCnc,sBAAAA,IAAI,CAAC8S,UAAL,CAAgBumC,KAAhB;AACH,qBAFD,MAEO,IAAI,WAAWp4C,IAAX,CAAgBo4C,KAAK,CAACl9B,WAAtB,CAAJ,EAAwC;AAC3Ck9B,sBAAAA,KAAK,CAACl9B,WAAN,GAAoBk9B,KAAK,CAACl9B,WAAN,CAAkB3E,OAAlB,CAA0B,UAA1B,EAAsC,EAAtC,CAApB;AACH;;AAED;AACH;AACJ;;AAED,sBAAM8R,UAAU,GAAGtpB,IAAI,CAACga,eAAL,CAAqBysD,KAAK,CAAC,CAAD,CAA1B,EAA+B,MAA/B,EAAuC,KAAvC,CAAnB;AACA,sBAAMM,QAAQ,GAAG/mE,IAAI,CAACga,eAAL,CAAqBysD,KAAK,CAAC/gE,GAAD,CAA1B,EAAiC,MAAjC,EAAyC,IAAzC,CAAjB;;AACA,oBAAI,CAACghE,EAAD,IAAOp9C,UAAX,EAAuB;AACnB3rB,kBAAAA,CAAC,CAAC4sB,EAAF,GAAOjB,UAAP;AACA3rB,kBAAAA,CAAC,CAAC2vB,EAAF,GAAO,CAAP;AACH;;AACD,oBAAI,CAACq5C,EAAD,IAAOI,QAAX,EAAqB;AACjBppE,kBAAAA,CAAC,CAAC6sB,EAAF,GAAOu8C,QAAP;AACAppE,kBAAAA,CAAC,CAAC4vB,EAAF,GAAOw5C,QAAQ,CAAC5qD,WAAT,CAAqB/X,MAA5B;AACH;AACJ;AACJ;;AAED1E,YAAAA,IAAI,CAACwc,QAAL,CAAcve,CAAC,CAAC4sB,EAAhB,EAAoB5sB,CAAC,CAAC2vB,EAAtB,EAA0B3vB,CAAC,CAAC6sB,EAA5B,EAAgC7sB,CAAC,CAAC4vB,EAAlC,EAzHJ,CA0HI;;AACA7tB,YAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AAEA;;AACJ,eAAK,EAAL;AAAS;AACL,kBAAM8/D,YAAY,GAAGhnE,IAAI,CAACg1C,oBAAL,CAA0BjX,aAA1B,EAAyC,IAAzC,CAArB;;AAEA,gBAAIr+B,IAAI,CAAC4qD,aAAT,EAAwB;AACpB,kBAAI2c,SAAS,GAAG,EAAhB;;AACA,kBAAK,CAACjuC,KAAD,IAAUguC,YAAX,IAA4BhuC,KAAhC,EAAuC;AACnCiuC,gBAAAA,SAAS,GAAG,MAAZ;AACH,eAFD,MAEO;AACHA,gBAAAA,SAAS,GAAG,MAAM/U,QAAQ,CAACjrD,QAAf,GAA0B,SAA1B,GAAsCirD,QAAQ,CAACjrD,QAA/C,GAA0D,GAAtE;AACH;;AAED,kBAAI,CAACvH,IAAI,CAACqyD,cAAL,CAAoBkV,SAApB,EAA+B,WAA/B,CAAL,EAAkD;AAC9CjmE,gBAAAA,CAAC,CAACoU,cAAF;AACA,uBAAO,KAAP;AACH;AACJ;;AAED,gBAAI,CAAC4jB,KAAD,IAAUguC,YAAd,EAA4B;AACxBhmE,cAAAA,CAAC,CAACoU,cAAF;AACA,oBAAM8xD,eAAe,GAAGnpC,aAAa,KAAKipC,YAA1C;AACA,oBAAMG,UAAU,GAAGznE,IAAI,CAAC82B,YAAL,EAAnB;AACA,oBAAMjH,QAAQ,GAAGwO,aAAa,CAAC9O,UAA/B;AAAA,oBAA2CzW,MAAM,GAAG2uD,UAAU,CAACtX,WAA/D;AAAA,oBAA4E3kC,IAAI,GAAG6S,aAAa,CAAC7Q,sBAAjG;AAAA,oBAAyHpC,IAAI,GAAGiT,aAAa,CAACxY,WAA9I;;AAEA,kBAAI,CAACvlB,IAAI,CAAC60C,0BAAL,CAAgCmyB,YAAhC,CAAD,IAAkD,CAAC,CAACz3C,QAApD,KAAkE23C,eAAe,IAAI19C,KAAK,CAAC+lC,SAAzB,IAAsChgC,QAAQ,CAACnrB,MAAT,GAAkB,CAAlB,IAAuBoU,MAAM,GAAG,CAAtE,IAA2ExY,IAAI,CAACy2C,OAAL,CAAalnB,QAAQ,CAAC/W,MAAD,CAArB,CAA3E,KAA8G,CAAC+W,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAT,IAA0B,CAAC,CAAC+W,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAT,IAAyBxY,IAAI,CAACs7B,kBAAL,CAAwB/L,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAR,CAAqB2D,WAA7C,CAA1B,KAAwFoT,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAR,CAAqBxG,QAArB,KAAkC,CAA1H,IAA+HhS,IAAI,CAACs7B,kBAAL,CAAwB/L,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAR,CAAqB2D,WAA7C,CAAvQ,KAAuU3D,MAAM,GAAG,CAAhV,IAAqVxY,IAAI,CAACy2C,OAAL,CAAalnB,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAArB,CAAtV,IAClE,CAAC0uD,eAAD,IAAoBlnE,IAAI,CAACs7B,kBAAL,CAAwByC,aAAa,CAAC5hB,WAAtC,CAApB,IAA0Enc,IAAI,CAACy2C,OAAL,CAAavrB,IAAb,CAA1E,KAAiGlrB,IAAI,CAACy2C,OAAL,CAAavrB,IAAI,CAACC,eAAlB,KAAsC,CAACnrB,IAAI,CAACs7B,kBAAL,CAAwBpQ,IAAI,CAACC,eAAL,CAAqBhP,WAA7C,CAAxI,MAAuM,CAAC2O,IAAD,IAAU,CAAC9qB,IAAI,CAACy2C,OAAL,CAAa3rB,IAAb,CAAD,IAAuB9qB,IAAI,CAACs7B,kBAAL,CAAwBxQ,IAAI,CAAC3O,WAA7B,CAAxO,CADC,CAAJ,EAC0R;AACtR,oBAAI+qD,eAAJ,EAAqBlnE,IAAI,CAAC8S,UAAL,CAAgByc,QAAQ,CAAC/W,MAAM,GAAG,CAAV,CAAxB,EAArB,KACKxY,IAAI,CAAC8S,UAAL,CAAgBirB,aAAhB;AACL,sBAAMqH,KAAK,GAAG1lC,IAAI,CAACiyD,eAAL,CAAqBqV,YAArB,EAAmChnE,IAAI,CAACyiB,eAAL,CAAqBukD,YAAY,CAAC55C,kBAAlC,IAAwD45C,YAAY,CAAC55C,kBAArE,GAA0F,IAA7H,CAAd;AACAptB,gBAAAA,IAAI,CAACqrB,oBAAL,CAA0B+Z,KAA1B,EAAiC4hC,YAAjC;AACAtnE,gBAAAA,IAAI,CAACwc,QAAL,CAAckpB,KAAd,EAAqB,CAArB,EAAwBA,KAAxB,EAA+B,CAA/B;AACA;AACH;;AAED,kBAAI8hC,eAAJ,EAAqB;AACjBjiE,gBAAAA,SAAS,CAACmiE,UAAV,CAAuB59C,KAAK,CAAC+lC,SAAN,IAAmBvvD,IAAI,CAACy2C,OAAL,CAAajtB,KAAK,CAACU,cAAN,CAAqB+E,UAArB,CAAgCzF,KAAK,CAACI,WAAN,GAAoB,CAApD,CAAb,CAApB,GAA4F,MAA5F,GAAqG,UAA3H,EAAwI,IAAxI,EAA8I,KAA9I;AAEA,oBAAI4lC,SAAS,GAAG2X,UAAU,CAAC3X,SAA3B;AACA,sBAAM6X,OAAO,GAAGF,UAAU,CAACtX,WAA3B;;AACA,oBAAImX,YAAY,KAAKxX,SAArB,EAAgC;AAC5BA,kBAAAA,SAAS,GAAGA,SAAS,CAACvgC,UAAV,CAAqBo4C,OAAO,GAAG7uD,MAAV,GAAmB,CAAnB,GAAuB6uD,OAAO,GAAG,CAAjC,GAAqCA,OAA1D,CAAZ;AACH;;AAED3nE,gBAAAA,IAAI,CAACwc,QAAL,CAAcszC,SAAd,EAAyB,CAAzB,EAA4BA,SAA5B,EAAuC,CAAvC;AACH,eAVD,MAUO;AACH,sBAAM8X,SAAS,GAAGH,UAAU,CAAC3X,SAAX,CAAqBjqC,WAAvC;AACA,sBAAM6oC,EAAE,GAAGpuD,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAX;AACAP,gBAAAA,IAAI,CAACwlB,UAAL,CAAgBkpC,EAAhB,EAAoB,IAApB,EAA0B,KAA1B;AAEA,sBAAMmZ,MAAM,GAAGnZ,EAAE,CAACjjC,eAAlB;AAAA,sBAAmCq8C,MAAM,GAAGpZ,EAAE,CAAC7oC,WAA/C;;AACA,oBAAI,CAACvlB,IAAI,CAACy2C,OAAL,CAAa6wB,SAAb,CAAD,IAA4B,CAACtnE,IAAI,CAACy2C,OAAL,CAAa8wB,MAAb,CAA7B,KAAsD,CAACC,MAAD,IAAWxnE,IAAI,CAACs7B,kBAAL,CAAwBksC,MAAxB,CAAjE,CAAJ,EAAuG;AACnGpZ,kBAAAA,EAAE,CAACn8C,UAAH,CAAcqT,YAAd,CAA2B8oC,EAAE,CAACrnC,SAAH,CAAa,KAAb,CAA3B,EAAgDqnC,EAAhD;AACA1uD,kBAAAA,IAAI,CAACwc,QAAL,CAAckyC,EAAd,EAAkB,CAAlB,EAAqBA,EAArB,EAAyB,CAAzB;AACH,iBAHD,MAGO;AACH1uD,kBAAAA,IAAI,CAACwc,QAAL,CAAcsrD,MAAd,EAAsB,CAAtB,EAAyBA,MAAzB,EAAiC,CAAjC;AACH;AACJ;;AAEDna,cAAAA,KAAK,CAACoY,cAAN,GAAuB,IAAvB;AACA;AACH;;AAED,gBAAIO,WAAJ,EAAiB;;AAEjB,gBAAI7Q,OAAO,IAAIjD,QAAX,IAAuB,CAAClyD,IAAI,CAAC2uB,MAAL,CAAYwmC,OAAZ,CAAxB,IAAgD,CAAC,gBAAgBl0D,IAAhB,CAAqBk0D,OAAO,CAACluD,QAA7B,CAArD,EAA6F;AACzF,oBAAMuiB,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;;AACA,kBAAG/pB,IAAI,CAAC+xD,WAAL,CAAiBjoC,KAAK,CAACY,YAAvB,EAAqCZ,KAAK,CAACK,SAA3C,KAAyD7pB,IAAI,CAACwsB,MAAL,CAAYuR,aAAa,CAACxY,WAA1B,CAA5D,EAAoG;AAChGvkB,gBAAAA,CAAC,CAACoU,cAAF;AACA,sBAAMgwB,KAAK,GAAGplC,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAd;AACA,sBAAMmuD,EAAE,GAAGpuD,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAX;AACAmlC,gBAAAA,KAAK,CAAC7kC,WAAN,CAAkB6tD,EAAlB;AAEA8D,gBAAAA,QAAQ,CAACjgD,UAAT,CAAoBqT,YAApB,CAAiC8f,KAAjC,EAAwC8sB,QAAQ,CAAC9kC,kBAAjD;AACAgY,gBAAAA,KAAK,CAAC7kC,WAAN,CAAkBw9B,aAAa,CAACxY,WAAhC;AAEA7lB,gBAAAA,IAAI,CAACwc,QAAL,CAAckyC,EAAd,EAAkB,CAAlB,EAAqBA,EAArB,EAAyB,CAAzB;AACA;AACH;;AAED,kBAAI,CAAC5kC,KAAK,CAAC0mC,uBAAN,CAA8Bl+C,QAA9B,KAA2C,CAA3C,GAA+C,CAACwX,KAAK,CAAC0mC,uBAAN,CAA8B9iC,kBAA9E,GAAmG,IAApG,KAA6GptB,IAAI,CAACs7B,kBAAL,CAAwB42B,QAAQ,CAACzP,SAAT,CAAmBlhC,IAAnB,EAAxB,CAAjH,EAAqK;AACjKvgB,gBAAAA,CAAC,CAACoU,cAAF;AACA,oBAAIgwB,KAAK,GAAG,IAAZ;;AAEA,oBAAIplC,IAAI,CAACitB,UAAL,CAAgBkoC,OAAO,CAACljD,UAAxB,CAAJ,EAAyC;AACrCkjD,kBAAAA,OAAO,GAAGjD,QAAQ,CAACjgD,UAAT,CAAoBA,UAApB,CAA+BA,UAAzC;AACAmzB,kBAAAA,KAAK,GAAGplC,IAAI,CAACs5C,YAAL,CAAkB4Y,QAAlB,EAA4B,IAA5B,EAAkClyD,IAAI,CAACwvB,eAAL,CAAqB0iC,QAArB,IAAiC,CAAnE,CAAR;;AACA,sBAAI,CAAC9sB,KAAL,EAAY;AACR,0BAAMqiC,WAAW,GAAGznE,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAApB;AACAwnE,oBAAAA,WAAW,CAACxkE,SAAZ,GAAwB,MAAxB;AACAkyD,oBAAAA,OAAO,CAAC7vC,YAAR,CAAqBmiD,WAArB,EAAkCriC,KAAlC;AACAA,oBAAAA,KAAK,GAAGqiC,WAAR;AACH;AACJ,iBATD,MASO;AACH,wBAAMr8C,SAAS,GAAGprB,IAAI,CAAC2uB,MAAL,CAAYwmC,OAAO,CAACljD,UAApB,IAAkC,KAAlC,GAA0CjS,IAAI,CAACwsB,MAAL,CAAY2oC,OAAO,CAACljD,UAApB,IAAkC,IAAlC,GAAyCjS,IAAI,CAACyiB,eAAL,CAAqB0yC,OAAO,CAAC/nC,kBAA7B,IAAmD+nC,OAAO,CAAC/nC,kBAAR,CAA2BnmB,QAA9E,GAAyFjH,IAAI,CAACyiB,eAAL,CAAqB0yC,OAAO,CAACjoC,sBAA7B,IAAuDioC,OAAO,CAACjoC,sBAAR,CAA+BjmB,QAAtF,GAAiG,GAA/R;AACAm+B,kBAAAA,KAAK,GAAGplC,IAAI,CAACC,aAAL,CAAmBmrB,SAAnB,CAAR;AACA,wBAAM4E,IAAI,GAAGtwB,IAAI,CAACmnB,wBAAL,CAA8BsuC,OAA9B,EAAuC,CAACjD,QAAD,CAAvC,EAAmD,IAAnD,EAAyD,IAAzD,EAA+D,IAA/D,CAAb;AACAliC,kBAAAA,IAAI,CAACE,EAAL,CAAQ5K,YAAR,CAAqB8f,KAArB,EAA4BpV,IAAI,CAACxF,EAAjC;AACH;;AAED4a,gBAAAA,KAAK,CAACniC,SAAN,GAAkB,MAAlB;AACAjD,gBAAAA,IAAI,CAACqrB,oBAAL,CAA0B+Z,KAA1B,EAAiC8sB,QAAjC;AACAlyD,gBAAAA,IAAI,CAACq9B,oBAAL,CAA0B60B,QAA1B,EAAoC,IAApC,EAA0C,IAA1C;AACAxyD,gBAAAA,IAAI,CAACwc,QAAL,CAAckpB,KAAd,EAAqB,CAArB,EAAwBA,KAAxB,EAA+B,CAA/B;AACA;AACH;AACJ;;AAED,gBAAI+vB,OAAO,IAAIn1D,IAAI,CAAC8G,gBAAL,CAAsBquD,OAAtB,EAA+B,YAA/B,CAAX,IAA2Dn1D,IAAI,CAAC8G,gBAAL,CAAsBquD,OAAtB,EAA+Bn1D,IAAI,CAACwsB,MAApC,CAA/D,EAA4G;AACxGxrB,cAAAA,CAAC,CAACoU,cAAF;AACA88C,cAAAA,QAAQ,GAAGxyD,IAAI,CAACiyD,eAAL,CAAqBO,QAArB,EAA+B,IAA/B,CAAX;AACAxyD,cAAAA,IAAI,CAACwc,QAAL,CAAcg2C,QAAd,EAAwB,CAAxB,EAA2BA,QAA3B,EAAqC,CAArC;AACH;;AAED,gBAAI+T,iBAAJ,EAAuB;AACnBjlE,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;AACA,oBAAMumE,WAAW,GAAG/nE,OAAO,CAACsmE,iBAAD,CAA3B;AACA,oBAAMrjE,SAAS,GAAG8kE,WAAW,CAACvxD,UAA9B;AACA,oBAAMwZ,OAAO,GAAG/sB,SAAS,CAACsqB,sBAAV,IAAoCtqB,SAAS,CAACwqB,kBAA9D;AAEA,kBAAIgY,KAAK,GAAG,IAAZ;;AACA,kBAAIplC,IAAI,CAACitB,UAAL,CAAgBrqB,SAAS,CAACqP,UAA1B,CAAJ,EAA2C;AACvCmzB,gBAAAA,KAAK,GAAGplC,IAAI,CAACC,aAAL,CAAmB,IAAnB,CAAR;AACH,eAFD,MAEO;AACHmlC,gBAAAA,KAAK,GAAGplC,IAAI,CAACC,aAAL,CAAmBD,IAAI,CAACyiB,eAAL,CAAqBkN,OAArB,IAAgCA,OAAO,CAAC1oB,QAAxC,GAAmD,GAAtE,CAAR;AACAm+B,gBAAAA,KAAK,CAACniC,SAAN,GAAkB,MAAlB;AACH;;AAEDL,cAAAA,SAAS,CAACqP,UAAV,CAAqBqT,YAArB,CAAkC8f,KAAlC,EAAyCxiC,SAAzC;AAEAlD,cAAAA,IAAI,CAAC4mB,UAAL,CAAgB2/C,iBAAhB,EAAmC,YAAY;AAC3CvmE,gBAAAA,IAAI,CAACwb,eAAL,CAAqBwsD,WAAW,CAACzxD,QAAjC,EAA2CgwD,iBAA3C;AACH,eAFD,EAEG,IAFH;AAGH;;AAED;;AACJ,eAAK,EAAL;AACI,gBAAIA,iBAAJ,EAAuB;AACnBjlE,cAAAA,CAAC,CAACoU,cAAF;AACApU,cAAAA,CAAC,CAACG,eAAF;AACAzB,cAAAA,IAAI,CAAC0c,cAAL;AACA,qBAAO,KAAP;AACH;;AACD;AA9hBR;;AAiiBA,YAAI4c,KAAK,IAAI,KAAK/3B,IAAL,CAAUY,OAAV,CAAb,EAAiC;AAC7Bb,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACA,gBAAMy0B,WAAW,GAAGl2B,IAAI,CAAC2B,OAAL,CAAawJ,KAAjC;;AACA,cAAI+qB,WAAW,IAAI,CAACA,WAAW,CAACI,MAA5B,IAAsC,CAACJ,WAAW,CAACM,IAAvD,EAA6D;AACzD,kBAAMf,IAAI,GAAGn1B,IAAI,CAAC8G,gBAAL,CAAsBorD,QAAtB,EAAgClyD,IAAI,CAAC2uB,MAArC,CAAb;;AACA,gBAAIwG,IAAJ,EAAU;AACNS,cAAAA,WAAW,CAACuH,sBAAZ,CAAmCngC,IAAnC,CAAwC0C,IAAxC,EAA8Cy1B,IAA9C,EAAoD,IAApD;AACA;AACH;AACJ;AACJ;;AAED,cAAMwyC,OAAO,GAAG,CAAC/B,IAAD,IAAS,CAACv/C,GAAV,IAAiB,CAAC2/C,WAAlB,IAAiC,CAAC3Y,KAAK,CAACuV,eAAN,CAAsB3hE,IAAtB,CAA2BY,OAA3B,CAAlD;;AACA,YAAI8lE,OAAO,IAAIn+C,KAAK,CAAC+lC,SAAjB,IAA8B/lC,KAAK,CAACU,cAAN,KAAyBV,KAAK,CAACY,YAA7D,IAA6EpqB,IAAI,CAACy2C,OAAL,CAAajtB,KAAK,CAAC0mC,uBAAnB,CAAjF,EAA8H;AAC1H,gBAAMqD,SAAS,GAAGvzD,IAAI,CAAColB,cAAL,CAAoBplB,IAAI,CAACqlB,cAAzB,CAAlB;AACA3lB,UAAAA,IAAI,CAACwlB,UAAL,CAAgBquC,SAAhB,EAA2B,IAA3B,EAAiC,KAAjC;AACA7zD,UAAAA,IAAI,CAACwc,QAAL,CAAcq3C,SAAd,EAAyB,CAAzB,EAA4BA,SAA5B,EAAuC,CAAvC;AACH;;AAED,YAAI,OAAOtuD,SAAS,CAAC2iE,SAAjB,KAA+B,UAAnC,EAA+C3iE,SAAS,CAAC2iE,SAAV,CAAoB5mE,CAApB,EAAuBtB,IAAvB;AAClD,OAzjCS;AA2jCVmoE,MAAAA,eAAe,EAAE,UAAU7mE,CAAV,EAAa;AAC1B,YAAIqsD,KAAK,CAACoY,cAAV,EAA0B;;AAC1B/lE,QAAAA,IAAI,CAACyuD,YAAL;;AAEA,cAAM3kC,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;AACA,cAAM5nB,OAAO,GAAGb,CAAC,CAACa,OAAlB;AACA,cAAM+jE,IAAI,GAAG5kE,CAAC,CAAC6kE,OAAF,IAAa7kE,CAAC,CAAC8kE,OAAf,IAA0BjkE,OAAO,KAAK,EAAtC,IAA4CA,OAAO,KAAK,EAAxD,IAA8DA,OAAO,KAAK,GAAvF;AACA,cAAMwkB,GAAG,GAAGrlB,CAAC,CAAC+kE,MAAd;AACA,YAAIhoC,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAApB;;AAEA,YAAIlnB,IAAI,CAACmqD,UAAL,KAAqBnqD,IAAI,CAACoqD,gBAAL,IAAyBjoD,OAAO,KAAK,EAAtC,IAA6C,CAAC2nB,KAAK,CAAC+lC,SAAxE,CAAJ,EAAwF;AACpF,cAAI7vD,IAAI,CAACoqD,gBAAT,EAA2B;AACvB,gBAAIjoD,OAAO,KAAK,EAAhB,EAAoBwrD,KAAK,CAAC2W,wBAAN;AACvB,WAFD,MAEO;AACH3W,YAAAA,KAAK,CAACkO,mBAAN;;AACA;AACH;AACJ;AAED;;;AACA,YAAI15D,OAAO,KAAK,CAAZ,IAAiB7B,IAAI,CAAC+R,YAAL,CAAkBgsB,aAAlB,CAAjB,IAAqDA,aAAa,CAAC5hB,WAAd,KAA8B,EAAnF,IAAyF4hB,aAAa,CAACxO,QAAd,CAAuBnrB,MAAvB,KAAkC,CAA/H,EAAkI;AAC9HpD,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AAEA48B,UAAAA,aAAa,CAAC96B,SAAd,GAA0B,EAA1B;AAEA,gBAAM6kE,UAAU,GAAG9nE,IAAI,CAACC,aAAL,CAAmBD,IAAI,CAACyiB,eAAL,CAAqB/iB,IAAI,CAACwnD,SAAL,CAAeqE,YAAf,CAA4B,CAA5B,CAArB,IAAuD7rD,IAAI,CAACwnD,SAAL,CAAeqE,YAAf,CAA4B,CAA5B,CAAvD,GAAwF,GAA3G,CAAnB;AACAuc,UAAAA,UAAU,CAAC7kE,SAAX,GAAuB,MAAvB;AAEA86B,UAAAA,aAAa,CAACx9B,WAAd,CAA0BunE,UAA1B;AACApoE,UAAAA,IAAI,CAACwc,QAAL,CAAc4rD,UAAd,EAA0B,CAA1B,EAA6BA,UAA7B,EAAyC,CAAzC;;AACAza,UAAAA,KAAK,CAACgB,gBAAN;;AAEA3uD,UAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACA;AACH;;AAED,cAAMgrD,QAAQ,GAAGlyD,IAAI,CAAC+rB,gBAAL,CAAsBgS,aAAtB,EAAqC,IAArC,CAAjB;AACA,cAAMo3B,OAAO,GAAGn1D,IAAI,CAACytB,qBAAL,CAA2BsQ,aAA3B,EAA0C,IAA1C,CAAhB;;AACA,YAAI,CAAE,CAACm0B,QAAD,IAAa1oC,KAAK,CAAC+lC,SAApB,IAAkC2C,QAAQ,KAAKiD,OAAhD,KAA4D,CAACn1D,IAAI,CAACkZ,WAAL,CAAiB6kB,aAAjB,CAA7D,IAAgG,CAAC/9B,IAAI,CAACwsB,MAAL,CAAYuR,aAAZ,CAArG,EAAiI;AAC7Hr+B,UAAAA,IAAI,CAACoiE,iBAAL,CAAuB9hE,IAAI,CAACmvB,oBAAL,CAA0BgmC,OAA1B,IAAqC,KAArC,GAA6C,GAApE;;AACAp3B,UAAAA,aAAa,GAAGr+B,IAAI,CAACknB,gBAAL,EAAhB;AACH;;AAED,YAAIymC,KAAK,CAACsV,iBAAN,CAAwB1hE,IAAxB,CAA6BY,OAA7B,CAAJ,EAA2C;AACvCwrD,UAAAA,KAAK,CAACgB,gBAAN;AACH;;AAED,cAAMsZ,OAAO,GAAG,CAAC/B,IAAD,IAAS,CAACv/C,GAAV,IAAiB,CAACgnC,KAAK,CAACuV,eAAN,CAAsB3hE,IAAtB,CAA2BY,OAA3B,CAAlC;;AACA,YAAI8lE,OAAO,IAAI5pC,aAAa,CAAC/rB,QAAd,KAA2B,CAAtC,IAA2ChS,IAAI,CAACgyC,eAAL,CAAqB/wC,IAArB,CAA0B88B,aAAa,CAAC5hB,WAAxC,CAA3C,IAAmG,EAAEnb,CAAC,CAAC+mE,WAAF,KAAkB1lE,SAAlB,GAA8BrB,CAAC,CAAC+mE,WAAhC,GAA8C1a,KAAK,CAACkV,cAAtD,CAAvG,EAA8K;AAC1K,cAAIj1C,EAAE,GAAG9D,KAAK,CAACI,WAAf;AAAA,cAA4B2D,EAAE,GAAG/D,KAAK,CAACK,SAAvC;AACA,gBAAMm+C,iBAAiB,GAAG,CAACjqC,aAAa,CAAC5hB,WAAd,CAA0B8rD,SAA1B,CAAoC,CAApC,EAAuC16C,EAAvC,EAA2Clb,KAA3C,CAAiDg7C,KAAK,CAAC0V,kBAAvD,KAA8E,EAA/E,EAAmF3+D,MAA7G;AACAkpB,UAAAA,EAAE,GAAG9D,KAAK,CAACI,WAAN,GAAoBo+C,iBAAzB;AACAz6C,UAAAA,EAAE,GAAG/D,KAAK,CAACK,SAAN,GAAkBm+C,iBAAvB;AACAjqC,UAAAA,aAAa,CAAC5hB,WAAd,GAA4B4hB,aAAa,CAAC5hB,WAAd,CAA0B3E,OAA1B,CAAkCxX,IAAI,CAACgyC,eAAvC,EAAwD,EAAxD,CAA5B;AACAtyC,UAAAA,IAAI,CAACwc,QAAL,CAAc6hB,aAAd,EAA6BzQ,EAAE,GAAG,CAAL,GAAS,CAAT,GAAaA,EAA1C,EAA8CyQ,aAA9C,EAA6DxQ,EAAE,GAAG,CAAL,GAAS,CAAT,GAAaA,EAA1E;AACH;;AAED7tB,QAAAA,IAAI,CAAC8/D,UAAL,CAAgB,EAAhB,EA1D0B,CA4D1B;;;AACA9/D,QAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,IAAlB;AAEA,YAAI,OAAOjC,SAAS,CAACijE,OAAjB,KAA6B,UAAjC,EAA6CjjE,SAAS,CAACijE,OAAV,CAAkBlnE,CAAlB,EAAqBtB,IAArB;AAChD,OA3nCS;AA6nCVyoE,MAAAA,gBAAgB,EAAE,UAAUnnE,CAAV,EAAa;AAC3BtB,QAAAA,IAAI,CAAC0c,cAAL;AACA1c,QAAAA,IAAI,CAACogD,YAAL,CAAkB1/C,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACA,YAAIX,IAAI,CAACmqD,UAAT,EAAqBwD,KAAK,CAAC2O,YAAN;AACrB,YAAI,OAAO/2D,SAAS,CAACmjE,QAAjB,KAA8B,UAAlC,EAA8CnjE,SAAS,CAACmjE,QAAV,CAAmBpnE,CAAnB,EAAsBtB,IAAtB;AACjD,OAloCS;AAooCV2oE,MAAAA,eAAe,EAAE,UAAUrnE,CAAV,EAAa;AAC1B,YAAItB,IAAI,CAAC+8B,SAAT,EAAoB;AACpB/8B,QAAAA,IAAI,CAAC6pD,QAAL,GAAgB,IAAhB;AACA,YAAI7pD,IAAI,CAACkqD,SAAT,EAAoByD,KAAK,CAACmO,kBAAN;AACpB,YAAI,OAAOv2D,SAAS,CAACqjE,OAAjB,KAA6B,UAAjC,EAA6CrjE,SAAS,CAACqjE,OAAV,CAAkBtnE,CAAlB,EAAqBtB,IAArB;AAChD,OAzoCS;AA2oCV6oE,MAAAA,cAAc,EAAE,UAAUvnE,CAAV,EAAa;AACzB,YAAItB,IAAI,CAAC+8B,SAAT,EAAoB;AACpB/8B,QAAAA,IAAI,CAAC6pD,QAAL,GAAgB,KAAhB;AACA7pD,QAAAA,IAAI,CAAC0c,cAAL;AACA,YAAI1c,IAAI,CAACkqD,SAAL,IAAkBlqD,IAAI,CAACmqD,UAA3B,EAAuCwD,KAAK,CAAC2O,YAAN;AACvC,YAAI,OAAO/2D,SAAS,CAACujE,MAAjB,KAA4B,UAAhC,EAA4CvjE,SAAS,CAACujE,MAAV,CAAiBxnE,CAAjB,EAAoBtB,IAApB,EALnB,CAOzB;;AACA,cAAMmrD,UAAU,GAAGnrD,IAAI,CAACmrD,UAAxB;AACA,cAAMT,aAAa,GAAG1qD,IAAI,CAAC0qD,aAA3B;;AACA,aAAK,IAAIhsD,GAAT,IAAgBysD,UAAhB,EAA4B;AACxB,cAAI,CAAC7qD,IAAI,CAAC8oC,MAAL,CAAY+hB,UAAZ,EAAwBzsD,GAAxB,CAAL,EAAmC;;AACnC,cAAIgsD,aAAa,CAAChjD,OAAd,CAAsBhJ,GAAtB,IAA6B,CAAC,CAAlC,EAAqC;AACjCiD,YAAAA,OAAO,CAACjD,GAAD,CAAP,CAAaokB,MAAb,CAAoBxlB,IAApB,CAAyB0C,IAAzB,EAA+B,IAA/B;AACH,WAFD,MAEO,IAAImrD,UAAU,CAACuE,OAAX,IAAsB,aAAanuD,IAAb,CAAkB7C,GAAlB,CAA1B,EAAkD;AACrDysD,YAAAA,UAAU,CAACuE,OAAX,CAAmBvsD,YAAnB,CAAgC,UAAhC,EAA4C,IAA5C;AACH,WAFM,MAEA,IAAIgoD,UAAU,CAACwE,MAAX,IAAqB,YAAYpuD,IAAZ,CAAiB7C,GAAjB,CAAzB,EAAgD;AACnDysD,YAAAA,UAAU,CAACwE,MAAX,CAAkBhoD,eAAlB,CAAkC,UAAlC;AACH,WAFM,MAEA;AACHrH,YAAAA,IAAI,CAACuR,WAAL,CAAiBs5C,UAAU,CAACzsD,GAAD,CAA3B,EAAkC,QAAlC;AACH;AACJ;;AAEDsB,QAAAA,IAAI,CAACwnD,SAAL,CAAeqE,YAAf,GAA8B,EAA9B;AACA7rD,QAAAA,IAAI,CAACwnD,SAAL,CAAesE,eAAf,GAAiC,EAAjC;AACA,YAAI9mC,OAAO,CAACw+B,aAAZ,EAA2BvjD,OAAO,CAACmB,OAAR,CAAgBu9C,UAAhB,CAA2BliC,WAA3B,GAAyC,EAAzC;AAC9B,OArqCS;AAuqCVssD,MAAAA,uBAAuB,EAAE,UAAUznE,CAAV,EAAa;AAClCA,QAAAA,CAAC,CAACG,eAAF;AAEAzB,QAAAA,IAAI,CAACwnD,SAAL,CAAeiE,aAAf,GAA+BnqD,CAAC,CAACwc,OAAjC;AACA7d,QAAAA,OAAO,CAACmB,OAAR,CAAgB2c,gBAAhB,CAAiCrd,KAAjC,CAAuCC,OAAvC,GAAiD,OAAjD;;AAEA,iBAASud,WAAT,GAAuB;AACnBje,UAAAA,OAAO,CAACmB,OAAR,CAAgB2c,gBAAhB,CAAiCrd,KAAjC,CAAuCC,OAAvC,GAAiD,MAAjD;;AACAsB,UAAAA,EAAE,CAACC,mBAAH,CAAuB,WAAvB,EAAoCyrD,KAAK,CAACqb,cAA1C;;AACA/mE,UAAAA,EAAE,CAACC,mBAAH,CAAuB,SAAvB,EAAkCgc,WAAlC;AACH;;AAEDjc,QAAAA,EAAE,CAAChB,gBAAH,CAAoB,WAApB,EAAiC0sD,KAAK,CAACqb,cAAvC;;AACA/mE,QAAAA,EAAE,CAAChB,gBAAH,CAAoB,SAApB,EAA+Bid,WAA/B;AACH,OArrCS;AAurCV8qD,MAAAA,cAAc,EAAE,UAAU1nE,CAAV,EAAa;AACzB,cAAM2nE,cAAc,GAAGhpE,OAAO,CAACmB,OAAR,CAAgB0gD,UAAhB,CAA2B1oC,YAA3B,IAA2C9X,CAAC,CAACwc,OAAF,GAAY9d,IAAI,CAACwnD,SAAL,CAAeiE,aAAtE,CAAvB;AACAxrD,QAAAA,OAAO,CAACmB,OAAR,CAAgB4X,YAAhB,CAA6BtY,KAA7B,CAAmCsN,MAAnC,GAA4C/N,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BsN,MAA3B,GAAoC,CAACi7D,cAAc,GAAGjpE,IAAI,CAACwnD,SAAL,CAAeoE,eAAhC,GAAkD5rD,IAAI,CAACwnD,SAAL,CAAeoE,eAAjE,GAAmFqd,cAApF,IAAsG,IAAtL;AACAjpE,QAAAA,IAAI,CAACwnD,SAAL,CAAeiE,aAAf,GAA+BnqD,CAAC,CAACwc,OAAjC;AACH,OA3rCS;AA6rCV8kD,MAAAA,eAAe,EAAE,YAAY;AACzB5iE,QAAAA,IAAI,CAAC0c,cAAL;AAEA,cAAMwsD,cAAc,GAAGvb,KAAK,CAACqV,qBAA7B;;AACA,YAAIkG,cAAJ,EAAoB;AAChB,gBAAMC,WAAW,GAAG3kE,EAAE,CAAC4kE,UAAvB;AACA,cAAIC,eAAe,GAAG,SAAtB;;AACA,eAAK,IAAIjsE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGkjE,cAAc,CAACxkE,MAArC,EAA6CtH,CAAC,GAAG4I,GAAjD,EAAsD5I,CAAC,EAAvD,EAA2D;AACvD,gBAAI+rE,WAAW,GAAGD,cAAc,CAAC9rE,CAAD,CAAhC,EAAqC;AACjCisE,cAAAA,eAAe,GAAGH,cAAc,CAAC9rE,CAAD,CAAd,GAAoB,EAAtC;AACH;AACJ;;AAED,cAAIuwD,KAAK,CAACoV,sBAAN,KAAiCsG,eAArC,EAAsD;AAClD1b,YAAAA,KAAK,CAACoV,sBAAN,GAA+BsG,eAA/B;AACA9jE,YAAAA,SAAS,CAAC+jE,iBAAV,CAA4B3b,KAAK,CAACjN,kBAAN,CAAyB2oB,eAAzB,CAA5B;AACH;AACJ;;AAED,YAAIppE,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB+P,WAAxB,KAAwC,CAA5C,EAA+C;;AAE/C,YAAIpZ,OAAO,CAACif,WAAR,IAAuBjf,OAAO,CAACif,WAAR,CAAoBE,IAApB,CAAyB1e,KAAzB,CAA+BC,OAA/B,KAA2C,OAAtE,EAA+E;AAC3EV,UAAAA,OAAO,CAACif,WAAR,CAAoBjM,IAApB,CAAyBvS,KAAzB,CAA+BwgB,SAA/B,GAA4C1c,EAAE,CAAC2c,WAAH,GAAiBlhB,OAAO,CAACif,WAAR,CAAoBG,MAApB,CAA2BjG,YAA5C,GAA2D,EAA5D,GAAkE,IAA7G;AACH;;AAED,YAAIpZ,IAAI,CAACmpD,mBAAL,IAA4BnpD,IAAI,CAAC+oD,OAArC,EAA8C;AAC1C/oD,UAAAA,IAAI,CAACitD,gBAAL,CAAsBjtD,IAAI,CAACmpD,mBAA3B,EAAgDnpD,IAAI,CAAC+oD,OAArD;AACH;;AAED,YAAI/oD,IAAI,CAACwnD,SAAL,CAAe+D,YAAnB,EAAiC;AAC7BvrD,UAAAA,IAAI,CAACwnD,SAAL,CAAegE,sBAAf,IAA0ChnD,EAAE,CAAC2c,WAAH,GAAiBlhB,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB8P,YAA1C,GAA0DpZ,IAAI,CAACwnD,SAAL,CAAegE,sBAAlH;AACAvrD,UAAAA,OAAO,CAACmB,OAAR,CAAgB0gD,UAAhB,CAA2BphD,KAA3B,CAAiCsN,MAAjC,GAA0ChO,IAAI,CAACwnD,SAAL,CAAegE,sBAAf,GAAwC,IAAlF;AACA;AACH;;AAED,YAAIxrD,IAAI,CAACwnD,SAAL,CAAe8D,UAAf,IAA6BtrD,IAAI,CAACkqD,SAAtC,EAAiD;AAC7CyD,UAAAA,KAAK,CAACmO,kBAAN;;AACA;AACH;;AAED97D,QAAAA,IAAI,CAACs9D,iBAAL;;AAEA,YAAIt9D,IAAI,CAACwqD,OAAT,EAAkB;AACdvqD,UAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8BqI,KAA9B,GAAuC9I,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwB7oC,WAAxB,GAAsC,CAAvC,GAA4C,IAAlF;AACAs0C,UAAAA,KAAK,CAAC4P,eAAN;AACH;AACJ,OA3uCS;AA6uCVA,MAAAA,eAAe,EAAE,YAAY;AACzB,YAAIv9D,IAAI,CAACwnD,SAAL,CAAe+D,YAAf,IAA+BtrD,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB+P,WAAxB,KAAwC,CAAvE,IAA4E2L,OAAO,CAACs+B,aAAR,GAAwB,CAAxG,EAA2G;AAE3G,cAAMliD,OAAO,GAAGnB,OAAO,CAACmB,OAAxB;AACA,cAAMmoE,YAAY,GAAGnoE,OAAO,CAAC0gD,UAAR,CAAmB1oC,YAAxC;AACA,cAAM/B,CAAC,GAAG,CAAC,KAAKmyD,OAAL,IAAgBvnE,EAAE,CAACyjE,eAAH,CAAmBrtB,SAApC,IAAiDrzB,OAAO,CAACs+B,aAAnE;AACA,cAAMmmB,SAAS,GAAG9b,KAAK,CAACC,iBAAN,CAAwB5oC,OAAO,CAACq6B,gBAAhC,EAAkD/lC,GAAlD,IAAyDtZ,IAAI,CAACkqD,SAAL,GAAiB9oD,OAAO,CAACkI,OAAR,CAAgB8P,YAAjC,GAAgD,CAAzG,CAAlB;;AAEA,YAAI/B,CAAC,GAAGoyD,SAAR,EAAmB;AACf9b,UAAAA,KAAK,CAACgV,iBAAN;AACH,SAFD,MAGK,IAAItrD,CAAC,GAAGrX,IAAI,CAACwnD,SAAL,CAAeoE,eAAnB,IAAsC2d,YAAY,GAAGE,SAAzD,EAAoE;AACrE,cAAI,CAACzpE,IAAI,CAACwqD,OAAV,EAAmBmD,KAAK,CAAC+b,gBAAN;AACnBtoE,UAAAA,OAAO,CAACkI,OAAR,CAAgB5I,KAAhB,CAAsB4Y,GAAtB,GAA6BiwD,YAAY,GAAGE,SAAf,GAA2BzkD,OAAO,CAACs+B,aAAnC,GAAkDjsC,CAAlD,GAAsDrX,IAAI,CAACwnD,SAAL,CAAeoE,eAAtE,GAAyF,IAArH;AACH,SAHI,MAIA,IAAIv0C,CAAC,IAAIoyD,SAAT,EAAoB;AACrB9b,UAAAA,KAAK,CAAC+b,gBAAN;AACH;AACJ,OA/vCS;AAiwCV9b,MAAAA,iBAAiB,EAAE,UAAU1qD,SAAV,EAAqB;AACpC,YAAIsqD,QAAQ,GAAGtqD,SAAS,IAAIjD,OAAO,CAACmB,OAAR,CAAgB8gD,OAA5C;AACA,YAAI7jD,CAAC,GAAG,CAAR;AAAA,YAAWhB,CAAC,GAAG,CAAf;AAAA,YAAkB+B,CAAC,GAAG,CAAtB;;AAEA,eAAOouD,QAAP,EAAiB;AACbnvD,UAAAA,CAAC,IAAImvD,QAAQ,CAACtV,SAAd;AACA76C,UAAAA,CAAC,IAAImwD,QAAQ,CAACpnC,UAAd;AACAhnB,UAAAA,CAAC,IAAIouD,QAAQ,CAACnV,SAAd;AACAmV,UAAAA,QAAQ,GAAGA,QAAQ,CAACpV,YAApB;AACH;;AAED,eAAO;AACH9+B,UAAAA,GAAG,EAAEjb,CADF;AAEHwP,UAAAA,IAAI,EAAExQ,CAFH;AAGHssE,UAAAA,MAAM,EAAEvqE;AAHL,SAAP;AAKH,OAjxCS;AAmxCVqmE,MAAAA,mBAAmB,EAAE,YAAY;AAC7B,eAAOxjE,EAAE,CAACyjE,eAAH,CAAmBlJ,YAAnB,IAAmC7O,KAAK,CAACC,iBAAN,CAAwB,IAAxB,EAA8Bt0C,GAA9B,GAAoCrZ,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwB9oC,YAA/F,CAAP;AACH,OArxCS;AAuxCVswD,MAAAA,gBAAgB,EAAE,YAAY;AAC1B,cAAMtoE,OAAO,GAAGnB,OAAO,CAACmB,OAAxB;;AAEA,YAAI,CAACpB,IAAI,CAACkqD,SAAN,IAAmB,CAACllC,OAAO,CAACq6B,gBAAhC,EAAkD;AAC9Cj+C,UAAAA,OAAO,CAACo/C,YAAR,CAAqB9/C,KAArB,CAA2BsN,MAA3B,GAAoC5M,OAAO,CAACkI,OAAR,CAAgB8P,YAAhB,GAA+B,IAAnE;AACAhY,UAAAA,OAAO,CAACo/C,YAAR,CAAqB9/C,KAArB,CAA2BC,OAA3B,GAAqC,OAArC;AACH;;AAEDS,QAAAA,OAAO,CAACkI,OAAR,CAAgB5I,KAAhB,CAAsB4Y,GAAtB,GAA4B0L,OAAO,CAACs+B,aAAR,GAAwB,IAApD;AACAliD,QAAAA,OAAO,CAACkI,OAAR,CAAgB5I,KAAhB,CAAsBqI,KAAtB,GAA8B/I,IAAI,CAACkqD,SAAL,GAAiBlqD,IAAI,CAACqqD,kBAAL,CAAwBthD,KAAzC,GAAiD3H,OAAO,CAACkI,OAAR,CAAgB+P,WAAhB,GAA8B,IAA7G;AACA/Y,QAAAA,IAAI,CAACsR,QAAL,CAAcxQ,OAAO,CAACkI,OAAtB,EAA+B,mBAA/B;AACAtJ,QAAAA,IAAI,CAACwqD,OAAL,GAAe,IAAf;AACH,OAnyCS;AAqyCVmY,MAAAA,iBAAiB,EAAE,YAAY;AAC3B,cAAMvhE,OAAO,GAAGnB,OAAO,CAACmB,OAAxB;AAEAA,QAAAA,OAAO,CAACo/C,YAAR,CAAqB9/C,KAArB,CAA2BC,OAA3B,GAAqC,MAArC;AACAS,QAAAA,OAAO,CAACkI,OAAR,CAAgB5I,KAAhB,CAAsB4Y,GAAtB,GAA4BtZ,IAAI,CAACkqD,SAAL,GAAiBlqD,IAAI,CAACqqD,kBAAL,CAAwB/wC,GAAzC,GAA+C,EAA3E;AACAlY,QAAAA,OAAO,CAACkI,OAAR,CAAgB5I,KAAhB,CAAsBqI,KAAtB,GAA8B/I,IAAI,CAACkqD,SAAL,GAAiBlqD,IAAI,CAACqqD,kBAAL,CAAwBthD,KAAzC,GAAiD,EAA/E;AACA3H,QAAAA,OAAO,CAAC0gD,UAAR,CAAmBphD,KAAnB,CAAyBgd,SAAzB,GAAqC,EAArC;AAEApd,QAAAA,IAAI,CAACuR,WAAL,CAAiBzQ,OAAO,CAACkI,OAAzB,EAAkC,mBAAlC;AACAtJ,QAAAA,IAAI,CAACwqD,OAAL,GAAe,KAAf;AACH,OA/yCS;AAizCVof,MAAAA,mBAAmB,EAAE,YAAY;AAC7B3pE,QAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB3I,KAArB,CAA2BsN,MAA3B,GAAoC/N,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBmzD,YAArB,GAAoC,IAAxE;AACH,OAnzCS;AAqzCV;AACAgK,MAAAA,WAAW,EAAE,YAAY;AACrB,cAAM18C,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;AACA,cAAMc,EAAE,GAAGf,KAAK,CAACU,cAAjB;AACA,cAAMM,EAAE,GAAGhB,KAAK,CAACY,YAAjB,CAHqB,CAKrB;;AACA,cAAMm/C,KAAK,GAAGvpE,IAAI,CAACytB,qBAAL,CAA2BlD,EAA3B,CAAd;AACA,cAAMi/C,KAAK,GAAGxpE,IAAI,CAACytB,qBAAL,CAA2BjD,EAA3B,CAAd;AACA,cAAMi/C,OAAO,GAAGzpE,IAAI,CAAC2uB,MAAL,CAAY46C,KAAZ,CAAhB;AACA,cAAMG,OAAO,GAAG1pE,IAAI,CAAC2uB,MAAL,CAAY66C,KAAZ,CAAhB;;AACA,YAAI,CAAEC,OAAO,IAAI,CAACF,KAAK,CAACr8C,sBAAlB,IAA4C,CAACq8C,KAAK,CAACviE,aAAN,CAAoBkmB,sBAAlE,IAA8Fw8C,OAAO,IAAI,CAACF,KAAK,CAACp8C,kBAAlB,IAAwC,CAACo8C,KAAK,CAACxiE,aAAN,CAAoBomB,kBAA5J,KAAoLm8C,KAAK,KAAKC,KAAlM,EAAyM;AACrM,cAAI,CAACC,OAAL,EAAc;AACVzpE,YAAAA,IAAI,CAAC8S,UAAL,CAAgB9S,IAAI,CAAC8G,gBAAL,CAAsB0iE,KAAtB,EAA6BxpE,IAAI,CAACkZ,WAAlC,CAAhB;AACH,WAFD,MAEO,IAAI,CAACwwD,OAAL,EAAc;AACjB1pE,YAAAA,IAAI,CAAC8S,UAAL,CAAgB9S,IAAI,CAAC8G,gBAAL,CAAsByiE,KAAtB,EAA6BvpE,IAAI,CAACkZ,WAAlC,CAAhB;AACH,WAFM,MAEA;AACHlZ,YAAAA,IAAI,CAAC8S,UAAL,CAAgB9S,IAAI,CAAC8G,gBAAL,CAAsByiE,KAAtB,EAA6BvpE,IAAI,CAACkZ,WAAlC,CAAhB;AACAxZ,YAAAA,IAAI,CAACwuD,WAAL;AACA,mBAAO,IAAP;AACH;AACJ,SApBoB,CAsBrB;;;AACA,cAAMyb,KAAK,GAAGp/C,EAAE,CAACvY,QAAH,KAAgB,CAAhB,GAAoBhS,IAAI,CAAC8G,gBAAL,CAAsByjB,EAAtB,EAA0B,eAA1B,CAApB,GAAiE,IAA/E;AACA,cAAMq/C,KAAK,GAAGp/C,EAAE,CAACxY,QAAH,KAAgB,CAAhB,GAAoBhS,IAAI,CAAC8G,gBAAL,CAAsB0jB,EAAtB,EAA0B,eAA1B,CAApB,GAAiE,IAA/E;AACA,YAAIm/C,KAAJ,EAAW3pE,IAAI,CAAC8S,UAAL,CAAgB62D,KAAhB;AACX,YAAIC,KAAJ,EAAW5pE,IAAI,CAAC8S,UAAL,CAAgB82D,KAAhB;AAEX,eAAO,KAAP;AACH,OAn1CS;AAq1CVC,MAAAA,eAAe,EAAE,UAAU7oE,CAAV,EAAa;AAC1B,cAAM8oE,aAAa,GAAG9pE,IAAI,CAACoxC,IAAL,GAAYltC,EAAE,CAAC4lE,aAAf,GAA+B9oE,CAAC,CAAC8oE,aAAvD;AACA,YAAI,CAACA,aAAL,EAAoB,OAAO,IAAP;AACpB,eAAOzc,KAAK,CAAC0c,mBAAN,CAA0B,OAA1B,EAAmC/oE,CAAnC,EAAsC8oE,aAAtC,CAAP;AACH,OAz1CS;AA21CVE,MAAAA,sBAAsB,EAAE,UAAUhpE,CAAV,EAAaqF,IAAb,EAAmByjE,aAAnB,EAAkC;AACtD9oE,QAAAA,CAAC,CAACoU,cAAF;AACApU,QAAAA,CAAC,CAACG,eAAF;AACA2oE,QAAAA,aAAa,CAACG,OAAd,CAAsB,WAAtB,EAAmC5jE,IAAI,CAAC5D,SAAL,CAAe4sB,SAAlD;AACH,OA/1CS;AAi2CV66C,MAAAA,cAAc,EAAE,UAAUlpE,CAAV,EAAa;AACzB,cAAM8oE,aAAa,GAAG9pE,IAAI,CAACoxC,IAAL,GAAYltC,EAAE,CAAC4lE,aAAf,GAA+B9oE,CAAC,CAAC8oE,aAAvD;;AACA,YAAI,OAAO7kE,SAAS,CAACklE,MAAjB,KAA4B,UAA5B,IAA0C,CAACllE,SAAS,CAACklE,MAAV,CAAiBnpE,CAAjB,EAAoB8oE,aAApB,EAAmCpqE,IAAnC,CAA/C,EAAyF;AACrFsB,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACA,iBAAO,KAAP;AACH;;AAED,cAAMkF,IAAI,GAAG3G,IAAI,CAACspD,wBAAlB;;AACA,YAAI3iD,IAAI,IAAI,CAACrG,IAAI,CAACoxC,IAAlB,EAAwB;AACpBic,UAAAA,KAAK,CAAC2c,sBAAN,CAA6BhpE,CAA7B,EAAgCqF,IAAhC,EAAsCyjE,aAAtC;;AACA9pE,UAAAA,IAAI,CAACsR,QAAL,CAAcjL,IAAI,CAAC5D,SAAnB,EAA8B,mBAA9B,EAFoB,CAGpB;;AACAyB,UAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtBnI,YAAAA,IAAI,CAACuR,WAAL,CAAiBlL,IAAI,CAAC5D,SAAtB,EAAiC,mBAAjC;AACH,WAFD,EAEG,GAFH;AAGH;AACJ,OAl3CS;AAo3CV2nE,MAAAA,aAAa,EAAE,UAAUppE,CAAV,EAAa;AACxB,cAAM8oE,aAAa,GAAG9pE,IAAI,CAACoxC,IAAL,GAAYltC,EAAE,CAAC4lE,aAAf,GAA+B9oE,CAAC,CAAC8oE,aAAvD;;AACA,YAAI,OAAO7kE,SAAS,CAAColE,KAAjB,KAA2B,UAA3B,IAAyC,CAACplE,SAAS,CAAColE,KAAV,CAAgBrpE,CAAhB,EAAmB8oE,aAAnB,EAAkCpqE,IAAlC,CAA9C,EAAuF;AACnFsB,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACA,iBAAO,KAAP;AACH;;AAED,cAAMkF,IAAI,GAAG3G,IAAI,CAACspD,wBAAlB;;AACA,YAAI3iD,IAAI,IAAI,CAACrG,IAAI,CAACoxC,IAAlB,EAAwB;AACpBic,UAAAA,KAAK,CAAC2c,sBAAN,CAA6BhpE,CAA7B,EAAgCqF,IAAhC,EAAsCyjE,aAAtC;;AACA9pE,UAAAA,IAAI,CAAC8S,UAAL,CAAgBzM,IAAI,CAAC5D,SAArB;AACA/C,UAAAA,IAAI,CAAC0c,cAAL;AACH;;AAEDlY,QAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtB;AACAzI,UAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,SAHD;AAIH,OAv4CS;AAy4CVojE,MAAAA,cAAc,EAAE,UAAUtpE,CAAV,EAAa;AACzB,cAAMupE,YAAY,GAAGvpE,CAAC,CAACupE,YAAvB;AACA,YAAI,CAACA,YAAL,EAAmB,OAAO,IAAP;;AACnB,YAAIvqE,IAAI,CAACoxC,IAAT,EAAe;AACXpwC,UAAAA,CAAC,CAACoU,cAAF;AACApU,UAAAA,CAAC,CAACG,eAAF;AACA,iBAAO,KAAP;AACH;;AAEDzB,QAAAA,IAAI,CAACuyD,UAAL;;AACA5E,QAAAA,KAAK,CAACmd,yBAAN,CAAgCxpE,CAAhC;;AACA,eAAOqsD,KAAK,CAAC0c,mBAAN,CAA0B,MAA1B,EAAkC/oE,CAAlC,EAAqCupE,YAArC,CAAP;AACH,OAr5CS;AAu5CVC,MAAAA,yBAAyB,EAAE,UAAUxpE,CAAV,EAAa;AACpC,YAAIA,CAAC,CAAC+0D,WAAN,EAAmB;AACfr2D,UAAAA,IAAI,CAACwc,QAAL,CAAclb,CAAC,CAAC+0D,WAAhB,EAA6B/0D,CAAC,CAACypE,WAA/B,EAA4CzpE,CAAC,CAAC+0D,WAA9C,EAA2D/0D,CAAC,CAACypE,WAA7D;AACH,SAFD,MAEO,IAAI/qE,IAAI,CAAC68B,GAAL,CAASmuC,mBAAb,EAAkC;AACrC,gBAAM/sE,CAAC,GAAG+B,IAAI,CAAC68B,GAAL,CAASmuC,mBAAT,CAA6B1pE,CAAC,CAACuc,OAA/B,EAAwCvc,CAAC,CAACwc,OAA1C,CAAV;;AACA9d,UAAAA,IAAI,CAACwc,QAAL,CAAcve,CAAC,CAACusB,cAAhB,EAAgCvsB,CAAC,CAACisB,WAAlC,EAA+CjsB,CAAC,CAACysB,YAAjD,EAA+DzsB,CAAC,CAACksB,SAAjE;AACH,SAHM,MAGA;AACH,gBAAMlsB,CAAC,GAAG+B,IAAI,CAAC+pB,QAAL,EAAV;AACA/pB,UAAAA,IAAI,CAACwc,QAAL,CAAcve,CAAC,CAACusB,cAAhB,EAAgCvsB,CAAC,CAACisB,WAAlC,EAA+CjsB,CAAC,CAACysB,YAAjD,EAA+DzsB,CAAC,CAACksB,SAAjE;AACH;AACJ,OAj6CS;AAm6CVkgD,MAAAA,mBAAmB,EAAE,UAAUlsD,IAAV,EAAgB7c,CAAhB,EAAmBi9B,IAAnB,EAAyB;AAC1C,YAAI0sC,SAAJ,EAAeC,SAAf;;AACA,YAAI5qE,IAAI,CAACoxC,IAAT,EAAe;AACXu5B,UAAAA,SAAS,GAAG1sC,IAAI,CAAC4sC,OAAL,CAAa,MAAb,CAAZ;AAEA,gBAAMrhD,KAAK,GAAG9pB,IAAI,CAAC+pB,QAAL,EAAd;AACA,gBAAMqhD,OAAO,GAAG9qE,IAAI,CAACC,aAAL,CAAmB,KAAnB,CAAhB;AACA,gBAAM8qE,SAAS,GAAG;AACdxgD,YAAAA,EAAE,EAAEf,KAAK,CAACU,cADI;AAEdoD,YAAAA,EAAE,EAAE9D,KAAK,CAACI,WAFI;AAGdY,YAAAA,EAAE,EAAEhB,KAAK,CAACY,YAHI;AAIdmD,YAAAA,EAAE,EAAE/D,KAAK,CAACK;AAJI,WAAlB;AAOAihD,UAAAA,OAAO,CAACjoE,YAAR,CAAqB,iBAArB,EAAwC,IAAxC;AACAioE,UAAAA,OAAO,CAAC1qE,KAAR,CAAc+9B,OAAd,GAAwB,2EAAxB;AAEAx+B,UAAAA,OAAO,CAACmB,OAAR,CAAgBC,QAAhB,CAAyBR,WAAzB,CAAqCuqE,OAArC;AACAA,UAAAA,OAAO,CAAC3oE,KAAR;;AAEA+B,UAAAA,EAAE,CAACiE,UAAH,CAAc,YAAY;AACtByiE,YAAAA,SAAS,GAAGE,OAAO,CAAC7nE,SAApB;AACAjD,YAAAA,IAAI,CAAC8S,UAAL,CAAgBg4D,OAAhB;AACAprE,YAAAA,IAAI,CAACwc,QAAL,CAAc6uD,SAAS,CAACxgD,EAAxB,EAA4BwgD,SAAS,CAACz9C,EAAtC,EAA0Cy9C,SAAS,CAACvgD,EAApD,EAAwDugD,SAAS,CAACx9C,EAAlE;;AACA8/B,YAAAA,KAAK,CAAC2d,iBAAN,CAAwBntD,IAAxB,EAA8B7c,CAA9B,EAAiC2pE,SAAjC,EAA4CC,SAA5C,EAAuD3sC,IAAvD;AACH,WALD;;AAOA,iBAAO,IAAP;AACH,SA1BD,MA0BO;AACH0sC,UAAAA,SAAS,GAAG1sC,IAAI,CAAC4sC,OAAL,CAAa,YAAb,CAAZ;AACAD,UAAAA,SAAS,GAAG3sC,IAAI,CAAC4sC,OAAL,CAAa,WAAb,CAAZ;;AACA,cAAIxd,KAAK,CAAC2d,iBAAN,CAAwBntD,IAAxB,EAA8B7c,CAA9B,EAAiC2pE,SAAjC,EAA4CC,SAA5C,EAAuD3sC,IAAvD,MAAiE,KAArE,EAA4E;AACxEj9B,YAAAA,CAAC,CAACoU,cAAF;AACApU,YAAAA,CAAC,CAACG,eAAF;AACA,mBAAO,KAAP;AACH;AACJ;AACJ,OAx8CS;AA08CV6pE,MAAAA,iBAAiB,EAAE,UAAUntD,IAAV,EAAgB7c,CAAhB,EAAmB2pE,SAAnB,EAA8BC,SAA9B,EAAyC3sC,IAAzC,EAA+C;AAC9D;AACA,YAAI,+BAA+Bh9B,IAA/B,CAAoC2pE,SAApC,KAAkD,8BAA8B3pE,IAA9B,CAAmC2pE,SAAnC,CAAlD,IAAmG,6BAA6B3pE,IAA7B,CAAkC2pE,SAAlC,CAAvG,EAAqJ;AACjJA,UAAAA,SAAS,GAAGA,SAAS,CAACpzD,OAAV,CAAkB,KAAlB,EAAyB,GAAzB,CAAZ;AACAmzD,UAAAA,SAAS,GAAGA,SAAS,CAACnzD,OAAV,CAAkB,KAAlB,EAAyB,GAAzB,CAAZ;AACH,SAHD,MAGO;AACHmzD,UAAAA,SAAS,GAAGA,SAAS,CAACnzD,OAAV,CAAkB,KAAlB,EAAyB,EAAzB,CAAZ;AACH;;AAEDozD,QAAAA,SAAS,GAAGlrE,IAAI,CAAC8+D,SAAL,CAAeoM,SAAf,EAA0BlrE,IAAI,CAAC4pD,wBAA/B,CAAZ;;AACA,cAAM/G,YAAY,GAAG7iD,IAAI,CAAC8/D,UAAL,CAAgB9/D,IAAI,CAAC4qD,aAAL,GAAqBsgB,SAArB,GAAiCD,SAAjD,CAArB,CAV8D,CAY9D;;;AACA,YAAI9sD,IAAI,KAAK,OAAT,IAAoB,OAAO5Y,SAAS,CAACgmE,OAAjB,KAA6B,UAAjD,IAA+D,CAAChmE,SAAS,CAACgmE,OAAV,CAAkBjqE,CAAlB,EAAqB4pE,SAArB,EAAgCroB,YAAhC,EAA8C7iD,IAA9C,CAApE,EAAyH;AACrH,iBAAO,KAAP;AACH,SAf6D,CAgB9D;;;AACA,YAAIme,IAAI,KAAK,MAAT,IAAmB,OAAO5Y,SAAS,CAACimE,MAAjB,KAA4B,UAA/C,IAA6D,CAACjmE,SAAS,CAACimE,MAAV,CAAiBlqE,CAAjB,EAAoBi9B,IAApB,EAA0Bv+B,IAA1B,CAAlE,EAAmG;AAC/F,iBAAO,KAAP;AACH,SAnB6D,CAqB9D;;;AACA,cAAMyiC,KAAK,GAAGlE,IAAI,CAACkE,KAAnB;;AACA,YAAIA,KAAK,CAAC/9B,MAAN,GAAe,CAAnB,EAAsB;AAClB,cAAI,SAASnD,IAAT,CAAckhC,KAAK,CAAC,CAAD,CAAL,CAAStkB,IAAvB,KAAgCne,IAAI,CAAC2B,OAAL,CAAa2J,KAAjD,EAAwD;AACpD/F,YAAAA,SAAS,CAACkmE,WAAV,CAAsBhpC,KAAtB;AACH;;AACD,iBAAO,KAAP;AACH;;AAED,YAAI,CAACogB,YAAL,EAAmB;AACf,iBAAO,KAAP;AACH;;AAED,YAAIqoB,SAAJ,EAAe;AACX3lE,UAAAA,SAAS,CAACmiE,UAAV,CAAqBwD,SAArB,EAAgC,IAAhC,EAAsC,KAAtC;AACA,iBAAO,KAAP;AACH;AACJ,OAh/CS;AAk/CVQ,MAAAA,mBAAmB,EAAE,UAAUpqE,CAAV,EAAa;AAC9B,YAAItB,IAAI,CAAC8pD,UAAT,EAAqB;AACrB,cAAM/mD,SAAS,GAAGzC,IAAI,CAAC8G,gBAAL,CAAsB9F,CAAC,CAACE,MAAxB,EAAgClB,IAAI,CAACkZ,WAArC,CAAlB;AACA,cAAMmyD,gBAAgB,GAAG3rE,IAAI,CAACogD,YAAL,CAAkB1/C,KAA3C;;AAEA,YAAIqC,SAAS,IAAI,CAAC/C,IAAI,CAACwa,qBAAvB,EAA8C;AAC1C,cAAI69B,SAAS,GAAG,CAAhB;AACA,cAAI3nB,EAAE,GAAGzwB,OAAO,CAACmB,OAAR,CAAgB+E,OAAzB;;AACA,aAAG;AACCkyC,YAAAA,SAAS,IAAI3nB,EAAE,CAAC2nB,SAAhB;AACA3nB,YAAAA,EAAE,GAAGA,EAAE,CAACppB,aAAR;AACH,WAHD,QAGSopB,EAAE,IAAI,CAAC,iBAAiBnvB,IAAjB,CAAsBmvB,EAAE,CAACnpB,QAAzB,CAHhB;;AAKA,gBAAMurD,OAAO,GAAG7yD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBkyC,SAAxC;;AACA,gBAAMhC,OAAO,GAAGsX,KAAK,CAACC,iBAAN,CAAwB,IAAxB,CAAhB;;AACA,gBAAMiF,YAAY,GAAGvyD,IAAI,CAACyY,SAAL,CAAehW,SAAf,EAA0B9C,OAAO,CAACmB,OAAR,CAAgB4X,YAA1C,EAAwDM,GAAxD,GAA8Dw5C,OAAnF;AACA,gBAAMz7C,CAAC,GAAG/V,CAAC,CAACsqE,KAAF,GAAUvzB,SAAV,IAAuBrzB,OAAO,CAAC+uB,MAAR,IAAkB,CAAC/uB,OAAO,CAACq6B,gBAA3B,GAA8Cp/C,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB8P,YAAtE,GAAqF,CAA5G,CAAV;AACA,gBAAM5b,CAAC,GAAGq1D,YAAY,IAAI7tC,OAAO,CAAC+uB,MAAR,GAAiBsE,SAAjB,GAA6BhC,OAAO,CAAC/8B,GAAzC,CAAtB;AAEA,gBAAMwT,MAAM,GAAGxsB,IAAI,CAACitB,UAAL,CAAgBxqB,SAAS,CAACwP,UAA1B,CAAf;AACA,cAAIs5D,GAAG,GAAG,EAAV;AAAA,cAAcvyD,GAAG,GAAG,EAApB;;AACA,cAAI,CAACwT,MAAM,GAAG,CAAC/pB,SAAS,CAAC0oB,eAAd,GAAgC,CAACnrB,IAAI,CAACyiB,eAAL,CAAqBhgB,SAAS,CAACyqB,sBAA/B,CAAxC,KAAmGnW,CAAC,GAAI7Z,CAAC,GAAG,EAAhH,EAAqH;AACjH8b,YAAAA,GAAG,GAAGu5C,YAAN;AACAgZ,YAAAA,GAAG,GAAG,GAAN;AACH,WAHD,MAGO,IAAI,CAAC/+C,MAAM,GAAG,CAAC/pB,SAAS,CAAC8iB,WAAd,GAA4B,CAACvlB,IAAI,CAACyiB,eAAL,CAAqBhgB,SAAS,CAAC2qB,kBAA/B,CAApC,KAA2FrW,CAAC,GAAI7Z,CAAC,GAAGuF,SAAS,CAACqW,YAAd,GAA6B,EAAjI,EAAsI;AACzIE,YAAAA,GAAG,GAAGu5C,YAAY,GAAG9vD,SAAS,CAACqW,YAA/B;AACAyyD,YAAAA,GAAG,GAAG,GAAN;AACH,WAHM,MAGA;AACHF,YAAAA,gBAAgB,CAAChrE,OAAjB,GAA2B,MAA3B;AACA;AACH;;AAEDX,UAAAA,IAAI,CAACwnD,SAAL,CAAeiF,cAAf,GAAgC1pD,SAAhC;AACA/C,UAAAA,IAAI,CAACwnD,SAAL,CAAekF,aAAf,GAA+Bmf,GAA/B;AACAF,UAAAA,gBAAgB,CAACryD,GAAjB,GAAwBA,GAAG,GAAGw5C,OAAP,GAAkB,IAAzC;AACA9yD,UAAAA,IAAI,CAACyqD,kBAAL,CAAwB/pD,KAAxB,CAA8BmN,IAA9B,GAAsCvN,IAAI,CAACyY,SAAL,CAAehW,SAAf,EAA0B8K,IAA1B,GAAkC9K,SAAS,CAACsW,WAAV,GAAwB,CAA1D,GAA+D,EAAhE,GAAsE,IAA3G;AACAsyD,UAAAA,gBAAgB,CAAChrE,OAAjB,GAA2B,OAA3B;AACH,SAhCD,CAgCE;AAhCF,aAiCK,IAAIgrE,gBAAgB,CAAChrE,OAAjB,KAA6B,MAAjC,EAAyC;AAC1CgrE,YAAAA,gBAAgB,CAAChrE,OAAjB,GAA2B,MAA3B;AACH;AACJ,OA3hDS;AA6hDVmrE,MAAAA,sBAAsB,EAAE,UAAUxqE,CAAV,EAAa;AACjCA,QAAAA,CAAC,CAACoU,cAAF;AACH,OA/hDS;AAiiDVq2D,MAAAA,YAAY,EAAE,UAAUzqE,CAAV,EAAa;AACvBA,QAAAA,CAAC,CAACoU,cAAF;AAEA,cAAM3S,SAAS,GAAG/C,IAAI,CAACwnD,SAAL,CAAeiF,cAAjC;AACA,cAAMof,GAAG,GAAG,CAAC,IAAD,GAAQ7rE,IAAI,CAACwnD,SAAL,CAAekF,aAAvB,GAAuC,IAAnD;AACA,cAAM5/B,MAAM,GAAGxsB,IAAI,CAACitB,UAAL,CAAgBxqB,SAAS,CAACwP,UAA1B,CAAf;AAEA,cAAM+W,MAAM,GAAGhpB,IAAI,CAACC,aAAL,CAAmBusB,MAAM,GAAG,IAAH,GAAUxsB,IAAI,CAAC2uB,MAAL,CAAYlsB,SAAS,CAACwP,UAAtB,IAAoC,KAApC,GAA4C,GAA/E,CAAf;AACA,YAAI,CAACua,MAAL,EAAaxD,MAAM,CAAC/lB,SAAP,GAAmB,MAAnB;AAEb,YAAIvD,IAAI,CAAC4qD,aAAL,IAAsB,CAAC5qD,IAAI,CAACqyD,cAAL,CAAoB/oC,MAAM,CAACqG,SAA3B,EAAsC,WAAtC,CAA3B,EAA+E;AAE/E5sB,QAAAA,SAAS,CAACwP,UAAV,CAAqBqT,YAArB,CAAkC0D,MAAlC,EAA0CuiD,GAAG,KAAK,GAAR,GAAc9oE,SAAd,GAA0BA,SAAS,CAAC8iB,WAA9E;AACA7lB,QAAAA,IAAI,CAACogD,YAAL,CAAkB1/C,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACAX,QAAAA,IAAI,CAACwnD,SAAL,CAAeiF,cAAf,GAAgC,IAAhC;AAEA,cAAMxqB,OAAO,GAAGnV,MAAM,GAAGxD,MAAH,GAAYA,MAAM,CAACM,UAAzC;AACA5pB,QAAAA,IAAI,CAACwc,QAAL,CAAcylB,OAAd,EAAuB,CAAvB,EAA0BA,OAA1B,EAAmC,CAAnC,EAjBuB,CAkBvB;;AACAjiC,QAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OArjDS;AAujDVk7D,MAAAA,SAAS,EAAE,YAAY;AACnB,cAAMsJ,YAAY,GAAGhnD,OAAO,CAAC+uB,MAAR,GAAiB/zC,IAAI,CAAC2oD,GAAtB,GAA4B1oD,OAAO,CAACmB,OAAR,CAAgB+E,OAAjE;AAEA;;AACAlG,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBrI,gBAAxB,CAAyC,WAAzC,EAAsD0sD,KAAK,CAACiW,oBAA5D,EAAkF,KAAlF;;AACA3jE,QAAAA,OAAO,CAACmB,OAAR,CAAgBu+C,SAAhB,CAA0B1+C,gBAA1B,CAA2C,WAA3C,EAAwD0sD,KAAK,CAACiW,oBAA9D,EAAoF,KAApF;;AACA3jE,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBrI,gBAAxB,CAAyC,OAAzC,EAAkD0sD,KAAK,CAACkW,eAAxD,EAAyE,KAAzE;AACA;;AACAmI,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,WAA9B,EAA2C0sD,KAAK,CAACmW,mBAAjD,EAAsE,KAAtE;AACAkI,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,OAA9B,EAAuC0sD,KAAK,CAACsW,eAA7C,EAA8D,KAA9D;AACA+H,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8BX,IAAI,CAACoxC,IAAL,GAAY,WAAZ,GAA0B,OAAxD,EAAiEic,KAAK,CAACkY,eAAvE,EAAwF,KAAxF;AACAmG,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,SAA9B,EAAyC0sD,KAAK,CAACqY,iBAA/C,EAAkE,KAAlE;AACAgG,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,OAA9B,EAAuC0sD,KAAK,CAACwa,eAA7C,EAA8D,KAA9D;AACA6D,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,OAA9B,EAAuC0sD,KAAK,CAACwc,eAA7C,EAA8D,KAA9D;AACA6B,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,MAA9B,EAAsC0sD,KAAK,CAAC6c,cAA5C,EAA4D,KAA5D;AACAwB,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,KAA9B,EAAqC0sD,KAAK,CAAC+c,aAA3C,EAA0D,KAA1D;AACAsB,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,MAA9B,EAAsC0sD,KAAK,CAACid,cAA5C,EAA4D,KAA5D;AACAoB,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,QAA9B,EAAwC0sD,KAAK,CAAC8a,gBAA9C,EAAgE,KAAhE;AACAuD,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,OAA9B,EAAuC0sD,KAAK,CAACgb,eAA7C,EAA8D,KAA9D;AACAqD,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,MAA9B,EAAsC0sD,KAAK,CAACkb,cAA5C,EAA4D,KAA5D;AAEA;;AACAlb,QAAAA,KAAK,CAACmV,gBAAN,GAAyB;AAAE3vD,UAAAA,CAAC,EAAEw6C,KAAK,CAACoe,YAAN,CAAmBptE,IAAnB,CAAwB,EAAxB,CAAL;AAAkCN,UAAAA,CAAC,EAAEsvD,KAAK,CAACoe,YAAN,CAAmBptE,IAAnB,CAAwB,GAAxB,CAArC;AAAmE25B,UAAAA,CAAC,EAAEq1B,KAAK,CAACoe,YAAN,CAAmBptE,IAAnB,CAAwB,GAAxB;AAAtE,SAAzB;AACAqtE,QAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,WAA9B,EAA2C0sD,KAAK,CAAC+d,mBAAjD,EAAsE,KAAtE;;AACA1rE,QAAAA,IAAI,CAACyqD,kBAAL,CAAwBxpD,gBAAxB,CAAyC,WAAzC,EAAsD0sD,KAAK,CAACme,sBAA5D,EAAoF,KAApF;;AACA9rE,QAAAA,IAAI,CAACyqD,kBAAL,CAAwBxpD,gBAAxB,CAAyC,OAAzC,EAAkD0sD,KAAK,CAACmV,gBAAN,CAAuB3vD,CAAzE,EAA4E,KAA5E;;AACAlT,QAAAA,OAAO,CAACmB,OAAR,CAAgBqlD,aAAhB,CAA8BxlD,gBAA9B,CAA+C,WAA/C,EAA4D0sD,KAAK,CAACmV,gBAAN,CAAuBzkE,CAAnF,EAAsF,KAAtF;AACA4B,QAAAA,OAAO,CAACmB,OAAR,CAAgBslD,aAAhB,CAA8BzlD,gBAA9B,CAA+C,WAA/C,EAA4D0sD,KAAK,CAACmV,gBAAN,CAAuBxqC,CAAnF,EAAsF,KAAtF;AAEA;;AACA,YAAIt4B,IAAI,CAAC2B,OAAL,CAAawJ,KAAjB,EAAwB;AACpB6gE,UAAAA,YAAY,CAAC/qE,gBAAb,CAA8B,YAA9B,EAA4C0sD,KAAK,CAACmW,mBAAlD,EAAuE;AAACmI,YAAAA,OAAO,EAAE,IAAV;AAAgBpM,YAAAA,UAAU,EAAE;AAA5B,WAAvE;AACH;AAED;;;AACA,YAAI76C,OAAO,CAAChX,MAAR,KAAmB,MAAnB,IAA6B,CAACgX,OAAO,CAACu8B,gBAA1C,EAA4D;AACxDthD,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBpI,gBAArB,CAAsC,SAAtC,EAAiD0sD,KAAK,CAACic,mBAAvD,EAA4E,KAA5E;AACA3pE,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBpI,gBAArB,CAAsC,OAAtC,EAA+C0sD,KAAK,CAACic,mBAArD,EAA0E,KAA1E;AACA3pE,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBpI,gBAArB,CAAsC,OAAtC,EAA+C0sD,KAAK,CAACic,mBAArD,EAA0E,KAA1E;AACH;AAED;;;AACA,YAAI3pE,OAAO,CAACmB,OAAR,CAAgBs9C,WAApB,EAAiC;AAC7B,cAAI,MAAMn9C,IAAN,CAAWyjB,OAAO,CAAChX,MAAnB,CAAJ,EAAgC;AAC5B/N,YAAAA,OAAO,CAACmB,OAAR,CAAgBs9C,WAAhB,CAA4Bz9C,gBAA5B,CAA6C,WAA7C,EAA0D0sD,KAAK,CAACob,uBAAhE,EAAyF,KAAzF;AACH,WAFD,MAEO;AACHzoE,YAAAA,IAAI,CAACsR,QAAL,CAAc3R,OAAO,CAACmB,OAAR,CAAgBs9C,WAA9B,EAA2C,kBAA3C;AACH;AACJ;AAED;;;AACAiP,QAAAA,KAAK,CAACue,qBAAN;;AACA1nE,QAAAA,EAAE,CAACtC,mBAAH,CAAuB,QAAvB,EAAiCyrD,KAAK,CAACiV,eAAvC;;AACAp+D,QAAAA,EAAE,CAACtC,mBAAH,CAAuB,QAAvB,EAAiCyrD,KAAK,CAAC4P,eAAvC;;AAEA/4D,QAAAA,EAAE,CAACvD,gBAAH,CAAoB,QAApB,EAA8B0sD,KAAK,CAACiV,eAApC,EAAqD,KAArD;;AACA,YAAI59C,OAAO,CAACs+B,aAAR,GAAwB,CAAC,CAA7B,EAAgC;AAC5B9+C,UAAAA,EAAE,CAACvD,gBAAH,CAAoB,QAApB,EAA8B0sD,KAAK,CAAC4P,eAApC,EAAqD,KAArD;AACH;AACJ,OAlnDS;AAonDV4O,MAAAA,YAAY,EAAE,YAAY;AACtB,cAAMH,YAAY,GAAGhnD,OAAO,CAAC+uB,MAAR,GAAiB/zC,IAAI,CAAC2oD,GAAtB,GAA4B1oD,OAAO,CAACmB,OAAR,CAAgB+E,OAAjE;AAEAlG,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBpH,mBAAxB,CAA4C,WAA5C,EAAyDyrD,KAAK,CAACiW,oBAA/D;;AACA3jE,QAAAA,OAAO,CAACmB,OAAR,CAAgBu+C,SAAhB,CAA0Bz9C,mBAA1B,CAA8C,WAA9C,EAA2DyrD,KAAK,CAACiW,oBAAjE;;AACA3jE,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwBpH,mBAAxB,CAA4C,OAA5C,EAAqDyrD,KAAK,CAACkW,eAA3D;AAEAmI,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,WAAjC,EAA8CyrD,KAAK,CAACmW,mBAApD;AACAkI,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,OAAjC,EAA0CyrD,KAAK,CAACsW,eAAhD;AACA+H,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC5B,IAAI,CAACoxC,IAAL,GAAY,WAAZ,GAA0B,OAA3D,EAAoEic,KAAK,CAACkY,eAA1E;AACAmG,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,SAAjC,EAA4CyrD,KAAK,CAACqY,iBAAlD;AACAgG,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,OAAjC,EAA0CyrD,KAAK,CAACwa,eAAhD;AACA6D,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,OAAjC,EAA0CyrD,KAAK,CAACwc,eAAhD;AACA6B,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,MAAjC,EAAyCyrD,KAAK,CAAC6c,cAA/C;AACAwB,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,KAAjC,EAAwCyrD,KAAK,CAAC+c,aAA9C;AACAsB,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,MAAjC,EAAyCyrD,KAAK,CAACid,cAA/C;AACAoB,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,QAAjC,EAA2CyrD,KAAK,CAAC8a,gBAAjD;AAEAuD,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,WAAjC,EAA8CyrD,KAAK,CAAC+d,mBAApD;;AACA1rE,QAAAA,IAAI,CAACyqD,kBAAL,CAAwBvoD,mBAAxB,CAA4C,WAA5C,EAAyDyrD,KAAK,CAACme,sBAA/D;;AACA9rE,QAAAA,IAAI,CAACyqD,kBAAL,CAAwBvoD,mBAAxB,CAA4C,OAA5C,EAAqDyrD,KAAK,CAACmV,gBAAN,CAAuB3vD,CAA5E;;AACAlT,QAAAA,OAAO,CAACmB,OAAR,CAAgBqlD,aAAhB,CAA8BvkD,mBAA9B,CAAkD,WAAlD,EAA+DyrD,KAAK,CAACmV,gBAAN,CAAuBzkE,CAAtF;AACA4B,QAAAA,OAAO,CAACmB,OAAR,CAAgBslD,aAAhB,CAA8BxkD,mBAA9B,CAAkD,WAAlD,EAA+DyrD,KAAK,CAACmV,gBAAN,CAAuBxqC,CAAtF;AACAq1B,QAAAA,KAAK,CAACmV,gBAAN,GAAyB,IAAzB;AAEAkJ,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,YAAjC,EAA+CyrD,KAAK,CAACmW,mBAArD,EAA0E;AAACmI,UAAAA,OAAO,EAAE,IAAV;AAAgBpM,UAAAA,UAAU,EAAE;AAA5B,SAA1E;AAEAmM,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,OAAjC,EAA0CyrD,KAAK,CAACgb,eAAhD;AACAqD,QAAAA,YAAY,CAAC9pE,mBAAb,CAAiC,MAAjC,EAAyCyrD,KAAK,CAACkb,cAA/C;AAEA5oE,QAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBnH,mBAArB,CAAyC,SAAzC,EAAoDyrD,KAAK,CAACic,mBAA1D;AACA3pE,QAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBnH,mBAArB,CAAyC,OAAzC,EAAkDyrD,KAAK,CAACic,mBAAxD;AACA3pE,QAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBnH,mBAArB,CAAyC,OAAzC,EAAkDyrD,KAAK,CAACic,mBAAxD;;AAEA,YAAI3pE,OAAO,CAACmB,OAAR,CAAgBs9C,WAApB,EAAiC;AAC7Bz+C,UAAAA,OAAO,CAACmB,OAAR,CAAgBs9C,WAAhB,CAA4Bx8C,mBAA5B,CAAgD,WAAhD,EAA6DyrD,KAAK,CAACob,uBAAnE;AACH;;AAEDvkE,QAAAA,EAAE,CAACtC,mBAAH,CAAuB,QAAvB,EAAiCyrD,KAAK,CAACiV,eAAvC;;AACAp+D,QAAAA,EAAE,CAACtC,mBAAH,CAAuB,QAAvB,EAAiCyrD,KAAK,CAAC4P,eAAvC;AACH,OA5pDS;AA8pDV2O,MAAAA,qBAAqB,EAAE,YAAY;AAC/B,YAAIxrB,kBAAkB,CAACh8C,MAAnB,KAA8B,CAAlC,EAAqC;AACjCg8C,UAAAA,kBAAkB,GAAG,IAArB;AACA;AACH;;AAED,cAAM0rB,SAAS,GAAGze,KAAK,CAACqV,qBAAN,GAA8B,CAAC,SAAD,CAAhD;AACA,cAAMqJ,UAAU,GAAG1e,KAAK,CAACjN,kBAAN,GAA2B;AAACn3C,UAAAA,OAAO,EAAEm3C,kBAAkB,CAAC,CAAD;AAA5B,SAA9C;;AACA,aAAK,IAAItjD,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG06C,kBAAkB,CAACh8C,MAApC,EAA4C0D,IAA5C,EAAkDs9C,WAAvD,EAAoEtoD,CAAC,GAAG4I,GAAxE,EAA6E5I,CAAC,EAA9E,EAAkF;AAC9EsoD,UAAAA,WAAW,GAAGhF,kBAAkB,CAACtjD,CAAD,CAAhC;AACAgL,UAAAA,IAAI,GAAGs9C,WAAW,CAAC,CAAD,CAAX,GAAiB,CAAxB;AACA0mB,UAAAA,SAAS,CAAC5kE,IAAV,CAAeY,IAAf;AACAikE,UAAAA,UAAU,CAACjkE,IAAD,CAAV,GAAmBs9C,WAAW,CAAC,CAAD,CAA9B;AACH;AACJ;AA5qDS,KAAd;AA+qDA;;AACA,UAAMngD,SAAS,GAAG;AACd;;;AAGAvF,MAAAA,IAAI,EAAEA,IAJQ;AAKdM,MAAAA,IAAI,EAAEA,IALQ;;AAOd;;;;;AAKAokC,MAAAA,MAAM,EAAE,IAZM;AAadgkC,MAAAA,QAAQ,EAAE,IAbI;AAcd1E,MAAAA,WAAW,EAAE,IAdC;AAedI,MAAAA,OAAO,EAAE,IAfK;AAgBd0B,MAAAA,OAAO,EAAE,IAhBK;AAiBdoC,MAAAA,SAAS,EAAE,IAjBG;AAkBdM,MAAAA,OAAO,EAAE,IAlBK;AAmBdgD,MAAAA,MAAM,EAAE,IAnBM;AAoBdrJ,MAAAA,QAAQ,EAAE,IApBI;AAqBdsI,MAAAA,MAAM,EAAE,IArBM;AAsBdE,MAAAA,KAAK,EAAE,IAtBO;AAuBdY,MAAAA,OAAO,EAAE,IAvBK;AAwBd3C,MAAAA,OAAO,EAAE,IAxBK;AAyBdE,MAAAA,MAAM,EAAE,IAzBM;;AA2Bd;;;;;;AAMAlD,MAAAA,UAAU,EAAE,IAjCE;;AAmCd;;;;;;;AAOAvX,MAAAA,cAAc,EAAE,IA1CF;;AA4Cd;;;;;AAKA2N,MAAAA,cAAc,EAAE,IAjDF;;AAmDd;;;;;AAKAC,MAAAA,gBAAgB,EAAE,IAxDJ;;AA0Dd;;;;;;;;;;;;;AAaA73B,MAAAA,kBAAkB,EAAE,IAvEN;;AAyEd;;;;;;;;;;;AAWAuG,MAAAA,kBAAkB,EAAE,IApFN;;AAsFd;;;;;;;;AAQAgD,MAAAA,kBAAkB,EAAE,IA9FN;;AAgGd;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BAnK,MAAAA,mBAAmB,EAAE,IA3HP;;AA4Hd;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA+G,MAAAA,mBAAmB,EAAE,IArJP;;AAsJd;;;;;;;;;;;;;;;;;;;;;;AAsBAgD,MAAAA,mBAAmB,EAAE,IA5KP;;AA8Kd;;;;;;;;;;;;;;;;AAgBArL,MAAAA,aAAa,EAAE,IA9LD;;AA+Lb;;;;AAID4H,MAAAA,aAAa,EAAE,IAnMD;;AAoMb;;;;AAIDmD,MAAAA,aAAa,EAAE,IAxMD;;AA0Md;;;;;;;AAOA/J,MAAAA,kBAAkB,EAAE,IAjNN;;AAkNd;;;;AAIAoH,MAAAA,kBAAkB,EAAE,IAtNN;;AAuNd;;;;AAIAgD,MAAAA,kBAAkB,EAAE,IA3NN;;AA6Nd;;;;;AAKAg8B,MAAAA,iBAAiB,EAAE,UAAUxwB,UAAV,EAAsB;AACrC94C,QAAAA,IAAI,CAACsjB,UAAL;AACAtjB,QAAAA,IAAI,CAACqtD,YAAL;;AAEA,cAAMif,UAAU,GAAG9uB,eAAe,CAACK,cAAhB,CAA+B57C,EAA/B,EAAmC62C,UAAnC,EAA+C94C,IAAI,CAAC2B,OAApD,EAA6DqjB,OAA7D,CAAnB;;AACA07B,QAAAA,kBAAkB,GAAG4rB,UAAU,CAAC3rB,iBAAhC;AACA3gD,QAAAA,IAAI,CAACwpD,sBAAL,GAA8B,IAA9B;;AACAmE,QAAAA,KAAK,CAACue,qBAAN;;AAEAjsE,QAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwByc,YAAxB,CAAqCumD,UAAU,CAACtnB,WAAhD,EAA6D/kD,OAAO,CAACmB,OAAR,CAAgB4jD,WAA7E;AACA,cAAMunB,UAAU,GAAG3lB,WAAW,CAAC3mD,OAAO,CAACmB,OAAR,CAAgBygD,aAAjB,EAAgC7hD,IAAI,CAACwiE,eAAL,CAAqBviE,OAAO,CAACmB,OAA7B,CAAhC,EAAuE4jB,OAAvE,CAA9B;AAEA/kB,QAAAA,OAAO,CAACmB,OAAR,GAAkBmrE,UAAU,CAACnrE,OAA7B;AACAnB,QAAAA,OAAO,CAAC0mD,IAAR,GAAe4lB,UAAU,CAAC5lB,IAA1B;AACA,YAAI3hC,OAAO,CAAC+uB,MAAZ,EAAoB9zC,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,GAA0BnG,IAAI,CAAC68B,GAAL,CAAS5pB,IAAnC;;AACpBjT,QAAAA,IAAI,CAACuhE,eAAL;;AACAvhE,QAAAA,IAAI,CAAC4c,OAAL,CAAamrC,mBAAb;;AAEA/nD,QAAAA,IAAI,CAAC0qD,aAAL,GAAqB,EAArB;AACA,cAAM8hB,cAAc,GAAG1uB,iBAAvB;AACAA,QAAAA,iBAAiB,GAAGwuB,UAAU,CAACxuB,iBAA/B;AACA,YAAIllC,MAAJ,EAAYgU,MAAZ,EAAoB6/C,SAApB;;AACA,aAAK,IAAI/tE,GAAT,IAAgBo/C,iBAAhB,EAAmC;AAC/B,cAAI,CAACx9C,IAAI,CAAC8oC,MAAL,CAAY0U,iBAAZ,EAA+Bp/C,GAA/B,CAAL,EAA0C;AAC1Cka,UAAAA,MAAM,GAAGjX,OAAO,CAACjD,GAAD,CAAhB;AACAkuB,UAAAA,MAAM,GAAGkxB,iBAAiB,CAACp/C,GAAD,CAA1B;;AACA,cAAIka,MAAM,CAACkK,MAAP,IAAiB8J,MAArB,EAA6B;AACzB6/C,YAAAA,SAAS,GAAGD,cAAc,CAAC9tE,GAAD,CAA1B;AACAsB,YAAAA,IAAI,CAAC4mB,UAAL,CAAgBloB,GAAhB,EAAqB,IAArB,EAA2B+tE,SAAS,IAAI7/C,MAAxC;;AACA,gBAAI6/C,SAAJ,EAAe;AACX7/C,cAAAA,MAAM,CAACtlB,aAAP,CAAqBye,YAArB,CAAkC0mD,SAAlC,EAA6C7/C,MAA7C;AACAkxB,cAAAA,iBAAiB,CAACp/C,GAAD,CAAjB,GAAyB+tE,SAAzB;AACH;AACJ;AACJ;;AAED,YAAIzsE,IAAI,CAAC6pD,QAAT,EAAmB8D,KAAK,CAACgB,gBAAN;AAEnB,YAAI3uD,IAAI,CAACwnD,SAAL,CAAe8D,UAAnB,EAA+BhrD,IAAI,CAACsR,QAAL,CAAc5R,IAAI,CAACorD,gBAAL,CAAsBz/C,QAApC,EAA8C,QAA9C;AAC/B,YAAI3L,IAAI,CAACwnD,SAAL,CAAe+D,YAAnB,EAAiCjrD,IAAI,CAACsR,QAAL,CAAc5R,IAAI,CAACorD,gBAAL,CAAsB3/C,UAApC,EAAgD,QAAhD;AACjC,YAAInL,IAAI,CAACmgB,QAAL,CAAcxgB,OAAO,CAACmB,OAAR,CAAgB+E,OAA9B,EAAuC,eAAvC,CAAJ,EAA6D7F,IAAI,CAACsR,QAAL,CAAc5R,IAAI,CAACorD,gBAAL,CAAsB1/C,UAApC,EAAgD,QAAhD;AAChE,OA3Qa;;AA6Qd;;;;AAIAghE,MAAAA,UAAU,EAAE,UAAUC,QAAV,EAAoB;AAC5Bhf,QAAAA,KAAK,CAACwe,YAAN;;AACAnsE,QAAAA,IAAI,CAACo+D,gBAAL;;AAEA99D,QAAAA,IAAI,CAACuR,WAAL,CAAiB7R,IAAI,CAACorD,gBAAL,CAAsB1/C,UAAvC,EAAmD,QAAnD;AACApL,QAAAA,IAAI,CAACuR,WAAL,CAAiB7R,IAAI,CAACorD,gBAAL,CAAsBz/C,QAAvC,EAAiD,QAAjD;AACA3L,QAAAA,IAAI,CAACwnD,SAAL,CAAe8D,UAAf,GAA4B,KAA5B;AACAtrD,QAAAA,IAAI,CAAC2hE,WAAL,GAAmB,IAAnB;AAEA3hE,QAAAA,IAAI,CAAC2B,OAAL,GAAegrE,QAAQ,CAAChrE,OAAT,IAAoB3B,IAAI,CAAC2B,OAAxC;AACA,cAAMggD,YAAY,GAAG,CAAC38B,OAAD,EAAU2nD,QAAV,EAAoB1rB,MAApB,CAA2B,UAAUv+C,IAAV,EAAgBN,MAAhB,EAAwB;AACpE,eAAK,IAAI1D,GAAT,IAAgB0D,MAAhB,EAAwB;AACpB,gBAAI,CAAC9B,IAAI,CAAC8oC,MAAL,CAAYhnC,MAAZ,EAAoB1D,GAApB,CAAL,EAA+B;;AAC/B,gBAAIA,GAAG,KAAK,SAAR,IAAqB0D,MAAM,CAAC1D,GAAD,CAA3B,IAAoCgE,IAAI,CAAChE,GAAD,CAA5C,EAAmD;AAC/C,kBAAItB,CAAC,GAAGsF,IAAI,CAAChE,GAAD,CAAZ;AAAA,kBAAmBd,CAAC,GAAGwE,MAAM,CAAC1D,GAAD,CAA7B;AACAtB,cAAAA,CAAC,GAAGA,CAAC,CAACsH,MAAF,GAAWtH,CAAX,GAAeoH,EAAE,CAAC3G,MAAH,CAAU4G,IAAV,CAAerH,CAAf,EAAkB8V,GAAlB,CAAsB,UAASxV,IAAT,EAAe;AAAE,uBAAON,CAAC,CAACM,IAAD,CAAR;AAAiB,eAAxD,CAAnB;AACAE,cAAAA,CAAC,GAAGA,CAAC,CAAC8G,MAAF,GAAW9G,CAAX,GAAe4G,EAAE,CAAC3G,MAAH,CAAU4G,IAAV,CAAe7G,CAAf,EAAkBsV,GAAlB,CAAsB,UAASxV,IAAT,EAAe;AAAE,uBAAOE,CAAC,CAACF,IAAD,CAAR;AAAiB,eAAxD,CAAnB;AACAgF,cAAAA,IAAI,CAAChE,GAAD,CAAJ,GAAad,CAAC,CAACgJ,MAAF,CAAS,UAASgmE,GAAT,EAAc;AAAE,uBAAOxvE,CAAC,CAACsK,OAAF,CAAUklE,GAAV,MAAmB,CAAC,CAA3B;AAA+B,eAAxD,CAAD,CAA4D3mE,MAA5D,CAAmE7I,CAAnE,CAAZ;AACH,aALD,MAKO;AACHsF,cAAAA,IAAI,CAAChE,GAAD,CAAJ,GAAY0D,MAAM,CAAC1D,GAAD,CAAlB;AACH;AACJ;;AACD,iBAAOgE,IAAP;AACH,SAboB,EAalB,EAbkB,CAArB;AAeA,cAAMguB,EAAE,GAAGzwB,OAAO,CAACmB,OAAnB;AACA,cAAMy/D,SAAS,GAAGnwC,EAAE,CAACvqB,OAAH,CAAW5C,SAA7B,CA1B4B,CA4B5B;;AACA,cAAM+iD,IAAI,GAAG9I,eAAe,CAACkE,WAAhB,CAA4BC,YAA5B,EAA0C1hD,OAA1C,EAAmDD,IAAI,CAAC2B,OAAxD,EAAiEqjB,OAAjE,CAAb;;AAEA,YAAIshC,IAAI,CAACnE,WAAT,EAAsB;AAClBrE,UAAAA,iBAAiB,GAAGwI,IAAI,CAACnE,WAAzB;AACAniD,UAAAA,IAAI,CAAC6oD,WAAL,GAAmB,EAAnB;AACH;;AAED,YAAIvC,IAAI,CAAC3kD,OAAT,EAAkB;AACd3B,UAAAA,IAAI,CAAC2B,OAAL,GAAeA,OAAO,GAAG2kD,IAAI,CAAC3kD,OAA9B;AACH,SAtC2B,CAwC5B;;;AACA,YAAI+uB,EAAE,CAACivB,SAAH,CAAa9vB,QAAb,CAAsBnrB,MAAtB,KAAiC,CAArC,EAAwC,KAAKi7C,SAAL,GAAiB,EAAjB;AACxCe,QAAAA,kBAAkB,GAAG4F,IAAI,CAACh9C,OAAL,CAAaq3C,iBAAlC;AACA37B,QAAAA,OAAO,GAAG28B,YAAV;AACA3hD,QAAAA,IAAI,CAACwD,IAAL,GAAYA,IAAI,GAAGwhB,OAAO,CAACxhB,IAA3B;;AAEA,YAAIwhB,OAAO,CAAC+uB,MAAZ,EAAoB;AAChBrjB,UAAAA,EAAE,CAAC1X,YAAH,CAAgB/X,gBAAhB,CAAiC,MAAjC,EAAyC,YAAY;AACjDX,YAAAA,IAAI,CAACw8C,kBAAL,CAAwB,IAAxB,EAA8B93B,OAA9B;;AACAhlB,YAAAA,IAAI,CAACuiE,eAAL,CAAqB7xC,EAArB,EAAyBmwC,SAAzB;AACH,WAHD;AAIH;;AAEDnwC,QAAAA,EAAE,CAACoxB,UAAH,CAAcjhD,WAAd,CAA0B6vB,EAAE,CAAC1X,YAA7B;;AAEA,YAAI,CAACgM,OAAO,CAAC+uB,MAAb,EAAqB;AACjB/zC,UAAAA,IAAI,CAACuiE,eAAL,CAAqB7xC,EAArB,EAAyBmwC,SAAzB;AACH;AACJ,OA3Ua;;AA6Ud;;;;;;AAMAgM,MAAAA,eAAe,EAAE,UAAUnsE,KAAV,EAAiB;AAC9B,cAAMosE,SAAS,GAAG9nD,OAAO,CAACu9B,aAAR,GAAwBjiD,IAAI,CAACm8C,sBAAL,CAA4Bz3B,OAA5B,EAAqCtkB,KAArC,CAA1C;;AACA,cAAMgwB,EAAE,GAAGzwB,OAAO,CAACmB,OAAnB,CAF8B,CAI9B;;AACAsvB,QAAAA,EAAE,CAACwxB,OAAH,CAAWxhD,KAAX,CAAiB+9B,OAAjB,GAA2BquC,SAAS,CAACxzD,GAArC,CAL8B,CAM9B;;AACAoX,QAAAA,EAAE,CAACrnB,IAAH,CAAQ3I,KAAR,CAAc+9B,OAAd,GAAwBzZ,OAAO,CAACu9B,aAAR,CAAsB1Y,KAA9C;AACAnZ,QAAAA,EAAE,CAACrnB,IAAH,CAAQ3I,KAAR,CAAcC,OAAd,GAAwB,MAAxB;;AACA,YAAIqkB,OAAO,CAAChX,MAAR,KAAmB,MAAvB,EAA+B;AAC3B0iB,UAAAA,EAAE,CAACrnB,IAAH,CAAQ3I,KAAR,CAAcgiD,QAAd,GAAyB,QAAzB;AACH,SAFD,MAEO;AACHhyB,UAAAA,EAAE,CAACrnB,IAAH,CAAQ3I,KAAR,CAAcgiD,QAAd,GAAyB,EAAzB;AACH,SAb6B,CAc9B;;;AACA,YAAI,CAAC19B,OAAO,CAAC+uB,MAAb,EAAqB;AACjBrjB,UAAAA,EAAE,CAAC1X,YAAH,CAAgBtY,KAAhB,CAAsB+9B,OAAtB,GAAgCquC,SAAS,CAACjjC,KAAV,GAAkBijC,SAAS,CAAClwB,MAA5D;AACH,SAFD,MAEO;AACHlsB,UAAAA,EAAE,CAAC1X,YAAH,CAAgBtY,KAAhB,CAAsB+9B,OAAtB,GAAgCquC,SAAS,CAACjjC,KAA1C;AACAnZ,UAAAA,EAAE,CAACvqB,OAAH,CAAWzF,KAAX,CAAiB+9B,OAAjB,GAA2BquC,SAAS,CAAClwB,MAArC;AACH;AACJ,OAxWa;;AA0Wd;;;;AAIAp3C,MAAAA,UAAU,EAAE,UAAUT,OAAV,EAAmB;AAC3B/E,QAAAA,IAAI,CAACkoD,MAAL,CAAYrmD,IAAZ,CAAiBvE,IAAjB,CAAsB0C,IAAtB,EAA4B+E,OAA5B;AACH,OAhXa;;AAkXd;;;AAGAgoE,MAAAA,WAAW,EAAE,YAAY;AACrB/sE,QAAAA,IAAI,CAACkoD,MAAL,CAAYtmD,KAAZ,CAAkBtE,IAAlB,CAAuB0C,IAAvB;AACH,OAvXa;;AAyXd;;;AAGAwJ,MAAAA,IAAI,EAAE,YAAY;AACdvJ,QAAAA,OAAO,CAACmB,OAAR,CAAgBygD,aAAhB,CAA8BzjD,KAA9B,GAAsC4B,IAAI,CAACunD,WAAL,CAAiB,KAAjB,CAAtC;AACH,OA9Xa;;AAgYd;;;;AAIAylB,MAAAA,UAAU,EAAE,YAAY;AACpB,eAAO/sE,OAAP;AACH,OAtYa;;AAwYd;;;;;AAKAsnD,MAAAA,WAAW,EAAE,UAAU8W,YAAV,EAAwB;AACjC,eAAOr+D,IAAI,CAACunD,WAAL,CAAiB8W,YAAjB,CAAP;AACH,OA/Ya;;AAiZd;;;;AAIA4O,MAAAA,OAAO,EAAE,YAAY;AACjB,eAAOhtE,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBsW,WAA/B;AACH,OAvZa;;AAyZd;;;;;;;AAOA4jD,MAAAA,YAAY,EAAE,UAAU5c,eAAV,EAA2B;AACrCA,QAAAA,eAAe,GAAG,OAAOA,eAAP,KAA2B,QAA3B,GAAsCA,eAAtC,GAAwDz+B,OAAO,CAACy+B,eAAlF;AACA,eAAOzjD,IAAI,CAACkgE,aAAL,CAAoBlgE,IAAI,CAAC4qD,aAAL,GAAqB3qD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwB5C,SAA7C,GAAyDtD,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBsW,WAArG,EAAmHgnC,eAAnH,CAAP;AACH,OAnaa;;AAqad;;;;;;;;;;;AAWAypB,MAAAA,aAAa,EAAE,YAAY;AACvB,eAAOjtE,OAAO,CAACqL,KAAR,GAAgBrL,OAAO,CAACqL,KAAR,CAAchF,SAA9B,GAA0C,EAAjD;AACH,OAlba;;AAobd;;;;;;;;;;;;;;AAcA6mE,MAAAA,YAAY,EAAE,UAAUznE,UAAV,EAAsB;AAChC,eAAOzF,OAAO,CAACyF,UAAD,CAAP,GAAsBzF,OAAO,CAACyF,UAAD,CAAP,CAAoBY,SAA1C,GAAsD,EAA7D;AACH,OApca;;AAscd;;;;AAIAmlE,MAAAA,WAAW,EAAE,UAAUhpC,KAAV,EAAiB;AAC1B,YAAI,CAACziC,IAAI,CAAC2B,OAAL,CAAa2J,KAAd,IAAuB,CAACm3B,KAA5B,EAAmC;AAEnC,YAAI,CAACziC,IAAI,CAAC6oD,WAAL,CAAiBv9C,KAAtB,EAA6BtL,IAAI,CAAC4mB,UAAL,CAAgB,OAAhB,EAAyB5mB,IAAI,CAAC2B,OAAL,CAAa2J,KAAb,CAAmB4Z,YAAnB,CAAgCvmB,IAAhC,CAAqCqB,IAArC,EAA2CyiC,KAA3C,CAAzB,EAA4E,IAA5E,EAA7B,KACKziC,IAAI,CAAC2B,OAAL,CAAa2J,KAAb,CAAmB4Z,YAAnB,CAAgC5nB,IAAhC,CAAqC0C,IAArC,EAA2CyiC,KAA3C;AACLziC,QAAAA,IAAI,CAACyC,KAAL;AACH,OAhda;;AAkdd;;;;;;;AAOAilE,MAAAA,UAAU,EAAE,UAAUx8C,IAAV,EAAgBkiD,eAAhB,EAAiC/a,cAAjC,EAAiDgb,cAAjD,EAAiE;AACzE,YAAI,OAAOniD,IAAP,KAAgB,QAApB,EAA8B;AAC1B,cAAI,CAACkiD,eAAL,EAAsBliD,IAAI,GAAGlrB,IAAI,CAAC8+D,SAAL,CAAe5zC,IAAf,EAAqB,IAArB,CAAP;;AACtB,cAAI;AACA,kBAAM1G,GAAG,GAAGviB,EAAE,CAACwiB,WAAH,GAAiBC,wBAAjB,CAA0CwG,IAA1C,CAAZ;;AACA,kBAAMi0C,OAAO,GAAG36C,GAAG,CAAC+K,UAApB;;AAEA,gBAAI8iC,cAAJ,EAAoB;AAChB,oBAAMl0C,IAAI,GAAGne,IAAI,CAAC4qD,aAAL,GAAqB,WAArB,GAAmC,aAAhD;AACA,kBAAI0iB,SAAS,GAAG,EAAhB;;AACA,mBAAK,IAAIlwE,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAGm5D,OAAO,CAACz6D,MAA9B,EAAsCtH,CAAC,GAAG4I,GAA1C,EAA+C5I,CAAC,EAAhD,EAAoD;AAChDkwE,gBAAAA,SAAS,IAAInO,OAAO,CAAC/hE,CAAD,CAAP,CAAW+gB,IAAX,CAAb;AACH;;AACD,kBAAI,CAACne,IAAI,CAACqyD,cAAL,CAAoBib,SAApB,EAA+B,IAA/B,CAAL,EAA2C;AAC9C;;AAED,gBAAI9vE,CAAJ,EAAO2V,CAAP,EAAU9U,CAAV,EAAakvE,QAAb;;AACA,mBAAQ/vE,CAAC,GAAG2hE,OAAO,CAAC,CAAD,CAAnB,EAAyB;AACrB9gE,cAAAA,CAAC,GAAG2B,IAAI,CAACwlB,UAAL,CAAgBhoB,CAAhB,EAAmB2V,CAAnB,EAAsB,KAAtB,CAAJ;AACAA,cAAAA,CAAC,GAAG9U,CAAC,CAAC6E,SAAF,IAAe7E,CAAnB;AACA,kBAAI,CAACkvE,QAAL,EAAeA,QAAQ,GAAGlvE,CAAX;AAClB;;AAED,kBAAMya,MAAM,GAAG3F,CAAC,CAACb,QAAF,KAAe,CAAf,GAAoBjU,CAAC,CAAC8rB,SAAF,IAAehX,CAAC,CAACsJ,WAAF,CAAc/X,MAAjD,GAA0DyO,CAAC,CAACoc,UAAF,CAAa7qB,MAAtF;AACA,gBAAI2oE,cAAJ,EAAoBrtE,IAAI,CAACwc,QAAL,CAAc+wD,QAAQ,CAACrqE,SAAT,IAAsBqqE,QAApC,EAA8CA,QAAQ,CAACrjD,WAAT,IAAwB,CAAtE,EAAyE/W,CAAzE,EAA4E2F,MAA5E,EAApB,KACK9Y,IAAI,CAACwc,QAAL,CAAcrJ,CAAd,EAAiB2F,MAAjB,EAAyB3F,CAAzB,EAA4B2F,MAA5B;AACR,WAvBD,CAuBE,OAAO6pB,KAAP,EAAc;AACZ3iC,YAAAA,IAAI,CAACsuD,WAAL,CAAiB,YAAjB,EAA+B,KAA/B,EAAsCpjC,IAAtC;AACH;AACJ,SA5BD,MA4BO;AACH,cAAI5qB,IAAI,CAACkZ,WAAL,CAAiB0R,IAAjB,CAAJ,EAA4B;AACxBlrB,YAAAA,IAAI,CAACisB,eAAL,CAAqBf,IAArB,EAA2B,KAA3B,EAAkCmnC,cAAlC,EAAkD,KAAlD;AACH,WAFD,MAEO;AACH,gBAAIU,SAAS,GAAG,IAAhB;;AACA,gBAAIzyD,IAAI,CAACyiB,eAAL,CAAqBmI,IAArB,KAA8B5qB,IAAI,CAAC02C,OAAL,CAAa9rB,IAAb,CAAlC,EAAsD;AAClD6nC,cAAAA,SAAS,GAAGzyD,IAAI,CAAC+rB,gBAAL,CAAsBrsB,IAAI,CAACknB,gBAAL,EAAtB,EAA+C,IAA/C,CAAZ;AACH;;AACDlnB,YAAAA,IAAI,CAACwlB,UAAL,CAAgB0F,IAAhB,EAAsB6nC,SAAtB,EAAiCV,cAAjC;AACH;AACJ;;AAEDryD,QAAAA,IAAI,CAACqjB,UAAL,GAAkB,IAAlB;AACArjB,QAAAA,IAAI,CAACyC,KAAL,GA1CyE,CA4CzE;;AACAzC,QAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OAvgBa;;AAygBd;;;;AAIAu2B,MAAAA,WAAW,EAAE,UAAUoU,QAAV,EAAoB;AAC7BnyC,QAAAA,IAAI,CAAC+9B,WAAL,CAAiBoU,QAAjB;AACH,OA/gBa;;AAihBd;;;;AAIAq7B,MAAAA,cAAc,EAAE,UAAUr7B,QAAV,EAAoB;AAChC,cAAMgsB,YAAY,GAAGn+D,IAAI,CAAC+8D,wBAAL,CAA8B5qB,QAA9B,CAArB;;AAEA,YAAI,CAACnyC,IAAI,CAACwnD,SAAL,CAAe8D,UAApB,EAAgC;AAC5B,gBAAMx4C,IAAI,GAAGxS,IAAI,CAACC,aAAL,CAAmB,KAAnB,CAAb;AACAuS,UAAAA,IAAI,CAACvP,SAAL,GAAiB46D,YAAjB;AAEA,gBAAMh4D,OAAO,GAAGlG,OAAO,CAACmB,OAAR,CAAgB+E,OAAhC;AACA,gBAAM0pB,QAAQ,GAAG/c,IAAI,CAAC+c,QAAtB;;AACA,eAAK,IAAIzyB,CAAC,GAAG,CAAR,EAAW4I,GAAG,GAAG6pB,QAAQ,CAACnrB,MAA/B,EAAuCtH,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AACjD+I,YAAAA,OAAO,CAACtF,WAAR,CAAoBgvB,QAAQ,CAACzyB,CAAD,CAA5B;AACH;AACJ,SATD,MASO;AACH4C,UAAAA,IAAI,CAACm9D,YAAL,CAAkBn9D,IAAI,CAAC48D,YAAL,KAAsB,IAAtB,GAA6B58D,IAAI,CAACi9D,sBAAL,CAA4BkB,YAA5B,CAA/C;AACH,SAd+B,CAgBhC;;;AACAn+D,QAAAA,IAAI,CAAC4c,OAAL,CAAapV,IAAb,CAAkB,KAAlB;AACH,OAviBa;;AAyiBd;;;AAGAgQ,MAAAA,QAAQ,EAAE,YAAY;AAClBvX,QAAAA,OAAO,CAAC0mD,IAAR,CAAa1jD,KAAb,CAAmBvC,KAAnB,CAAyBC,OAAzB,GAAmC,OAAnC;AACAV,QAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBhD,YAAxB,CAAqC,iBAArC,EAAwD,KAAxD;AACAnD,QAAAA,IAAI,CAAC8pD,UAAL,GAAkB,IAAlB;;AAEA,YAAI9kC,OAAO,CAACu8B,gBAAZ,EAA8B;AAC1Bv8B,UAAAA,OAAO,CAACu8B,gBAAR,CAAyBksB,SAAzB,CAAmC,UAAnC,EAA+C,IAA/C;AACH,SAFD,MAEO;AACHxtE,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqBlG,YAArB,CAAkC,UAAlC,EAA8C,UAA9C;AACH;AACJ,OAtjBa;;AAwjBd;;;AAGAu5B,MAAAA,OAAO,EAAE,YAAY;AACjBz8B,QAAAA,OAAO,CAAC0mD,IAAR,CAAa1jD,KAAb,CAAmBvC,KAAnB,CAAyBC,OAAzB,GAAmC,MAAnC;AACAV,QAAAA,OAAO,CAACmB,OAAR,CAAgB+E,OAAhB,CAAwBhD,YAAxB,CAAqC,iBAArC,EAAwD,IAAxD;AACAnD,QAAAA,IAAI,CAAC8pD,UAAL,GAAkB,KAAlB;;AAEA,YAAI9kC,OAAO,CAACu8B,gBAAZ,EAA8B;AAC1Bv8B,UAAAA,OAAO,CAACu8B,gBAAR,CAAyBksB,SAAzB,CAAmC,UAAnC,EAA+C,KAA/C;AACH,SAFD,MAEO;AACHxtE,UAAAA,OAAO,CAACmB,OAAR,CAAgBiI,IAAhB,CAAqB1B,eAArB,CAAqC,UAArC;AACH;AACJ,OArkBa;;AAukBd;;;AAGA+lE,MAAAA,IAAI,EAAE,YAAY;AACd,cAAMC,YAAY,GAAG1tE,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwBxhD,KAA7C;AACA,YAAIitE,YAAY,CAAChtE,OAAb,KAAyB,MAA7B,EAAqCgtE,YAAY,CAAChtE,OAAb,GAAuBqkB,OAAO,CAACrkB,OAA/B;AACxC,OA7kBa;;AA+kBd;;;AAGAitE,MAAAA,IAAI,EAAE,YAAY;AACd3tE,QAAAA,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhB,CAAwBxhD,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACH,OAplBa;;AAslBd;;;AAGA2H,MAAAA,OAAO,EAAE,YAAY;AACjB;AACAtI,QAAAA,IAAI,CAACsjB,UAAL;AACAtjB,QAAAA,IAAI,CAACqtD,YAAL;AACArtD,QAAAA,IAAI,CAAC0c,cAAL;AACA,YAAI1c,IAAI,CAACkoD,MAAT,EAAiBloD,IAAI,CAACkoD,MAAL,CAAYtmD,KAAZ,CAAkBtE,IAAlB,CAAuB0C,IAAvB;AACjB,YAAIA,IAAI,CAAC+B,SAAT,EAAoB/B,IAAI,CAAC2B,OAAL,CAAa7B,MAAb,CAAoB8B,KAApB,CAA0BtE,IAA1B,CAA+B0C,IAA/B;AAEpB;;AACAA,QAAAA,IAAI,CAAC4c,OAAL,CAAaorC,QAAb;AAEA;;;AACA2F,QAAAA,KAAK,CAACwe,YAAN;AAEA;;;AACA7rE,QAAAA,IAAI,CAAC8S,UAAL,CAAgBnT,OAAO,CAACmB,OAAR,CAAgBkI,OAAhC;AACAhJ,QAAAA,IAAI,CAAC8S,UAAL,CAAgBnT,OAAO,CAACmB,OAAR,CAAgB8gD,OAAhC;AAEA;;AACA,aAAK,IAAIof,CAAT,IAActhE,IAAd,EAAoB;AAAE,cAAIM,IAAI,CAAC8oC,MAAL,CAAYppC,IAAZ,EAAkBshE,CAAlB,CAAJ,EAA0B,OAAOthE,IAAI,CAACshE,CAAD,CAAX;AAAiB;;AACjE,aAAK,IAAIA,CAAT,IAAc3T,KAAd,EAAqB;AAAE,cAAIrtD,IAAI,CAAC8oC,MAAL,CAAYukB,KAAZ,EAAmB2T,CAAnB,CAAJ,EAA2B,OAAO3T,KAAK,CAAC2T,CAAD,CAAZ;AAAkB;;AACpE,aAAK,IAAIA,CAAT,IAAcrhE,OAAd,EAAuB;AAAE,cAAIK,IAAI,CAAC8oC,MAAL,CAAYnpC,OAAZ,EAAqBqhE,CAArB,CAAJ,EAA6B,OAAOrhE,OAAO,CAACqhE,CAAD,CAAd;AAAoB;;AAC1E,aAAK,IAAIA,CAAT,IAAcxjB,iBAAd,EAAiC;AAAE,cAAIx9C,IAAI,CAAC8oC,MAAL,CAAY0U,iBAAZ,EAA+BwjB,CAA/B,CAAJ,EAAuC,OAAOxjB,iBAAiB,CAACwjB,CAAD,CAAxB;AAA8B;AAExG;;;AACA,aAAK,IAAIA,CAAT,IAAc,IAAd,EAAoB;AAAE,cAAIhhE,IAAI,CAAC8oC,MAAL,CAAY,IAAZ,EAAkBk4B,CAAlB,CAAJ,EAA0B,OAAO,KAAKA,CAAL,CAAP;AAAiB;AACpE,OAnnBa;;AAqnBd;;;AAGAh4D,MAAAA,OAAO,EAAE;AACL;;;AAGAkO,QAAAA,QAAQ,EAAE,YAAY;AAClBvX,UAAAA,OAAO,CAAC0mD,IAAR,CAAa1jD,KAAb,CAAmBvC,KAAnB,CAAyBC,OAAzB,GAAmC,OAAnC;AACH,SANI;;AAQL;;;AAGA+7B,QAAAA,OAAO,EAAE,YAAY;AACjBz8B,UAAAA,OAAO,CAAC0mD,IAAR,CAAa1jD,KAAb,CAAmBvC,KAAnB,CAAyBC,OAAzB,GAAmC,MAAnC;AACH,SAbI;;AAeL;;;AAGA+sE,QAAAA,IAAI,EAAE,YAAY;AACd,cAAI1tE,IAAI,CAACkqD,SAAT,EAAoB;AAChByD,YAAAA,KAAK,CAACmO,kBAAN;AACH,WAFD,MAEO;AACH77D,YAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8BC,OAA9B,GAAwC,EAAxC;AACAV,YAAAA,OAAO,CAACmB,OAAR,CAAgBo/C,YAAhB,CAA6B9/C,KAA7B,CAAmCC,OAAnC,GAA6C,EAA7C;AACH;AACJ,SAzBI;;AA2BL;;;AAGAitE,QAAAA,IAAI,EAAE,YAAY;AACd,cAAI5tE,IAAI,CAACkqD,SAAT,EAAoB;AAChByD,YAAAA,KAAK,CAAC2O,YAAN;AACH,WAFD,MAEO;AACHr8D,YAAAA,OAAO,CAACmB,OAAR,CAAgBkI,OAAhB,CAAwB5I,KAAxB,CAA8BC,OAA9B,GAAwC,MAAxC;AACAV,YAAAA,OAAO,CAACmB,OAAR,CAAgBo/C,YAAhB,CAA6B9/C,KAA7B,CAAmCC,OAAnC,GAA6C,MAA7C;AACH;AACJ;AArCI;AAxnBK,KAAlB;AAiqBA;AACA;;AACAX,IAAAA,IAAI,CAACuF,SAAL,GAAiBA,SAAjB,CAlzO2H,CAozO3H;;AACA,QAAI6V,SAAS,GAAGnb,OAAO,CAACmB,OAAxB;AACA,QAAIq0C,QAAQ,GAAGr6B,SAAS,CAACymC,aAAzB;AACA,QAAIv0B,KAAK,GAAGlS,SAAS,CAAC8mC,OAAtB;AACAzM,IAAAA,QAAQ,CAAC/0C,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACA2sB,IAAAA,KAAK,CAAC5sB,KAAN,CAAYC,OAAZ,GAAsB,OAAtB,CAzzO2H,CA2zO3H;;AACA,QAAIqkB,OAAO,CAAC+uB,MAAZ,EAAoB;AAChB34B,MAAAA,SAAS,CAACpC,YAAV,CAAuB/X,gBAAvB,CAAwC,MAAxC,EAAgD,YAAY;AACxDX,QAAAA,IAAI,CAACw8C,kBAAL,CAAwB,IAAxB,EAA8B93B,OAA9B;;AACAhlB,QAAAA,IAAI,CAACyiE,WAAL,CAAiB,KAAjB,EAAwBz9C,OAAO,CAAC5mB,KAAhC;;AACA4mB,QAAAA,OAAO,CAAC5mB,KAAR,GAAgB,IAAhB;AACH,OAJD;AAKH,KAl0O0H,CAo0O3H;;;AACA,QAAI,OAAOq3C,QAAQ,CAAC/nB,kBAAhB,KAAuC,QAA3C,EAAqD;AACjD+nB,MAAAA,QAAQ,CAACljC,UAAT,CAAoBqT,YAApB,CAAiC0H,KAAjC,EAAwCmoB,QAAQ,CAAC/nB,kBAAjD;AACH,KAFD,MAEO;AACH+nB,MAAAA,QAAQ,CAACljC,UAAT,CAAoB1R,WAApB,CAAgCysB,KAAhC;AACH;;AAEDlS,IAAAA,SAAS,CAAC0mC,UAAV,CAAqBjhD,WAArB,CAAiCua,SAAS,CAACpC,YAA3C;AACAoC,IAAAA,SAAS,GAAGq6B,QAAQ,GAAGnoB,KAAK,GAAG,IAA/B,CA50O2H,CA80O3H;;AACA,QAAI,CAACtI,OAAO,CAAC+uB,MAAb,EAAqB;AACjB/zC,MAAAA,IAAI,CAACyiE,WAAL,CAAiB,KAAjB,EAAwBz9C,OAAO,CAAC5mB,KAAhC;;AACA4mB,MAAAA,OAAO,CAAC5mB,KAAR,GAAgB,IAAhB;AACH;;AAED,WAAOmH,SAAP;AACH,GAr1O4B,CAljGqC,CAw4UlE;;AACA;;;;;;;;AAcA;;;AAA6B,MAAIsoE,SAAS,GAAI;AAC1C;;;;;;AAMAnrE,IAAAA,IAAI,EAAE,UAAUorE,YAAV,EAAwB;AAC1B,aAAO;AACHrvE,QAAAA,MAAM,EAAE,UAAUsvE,WAAV,EAAuB/oD,OAAvB,EAAgC;AACpC,iBAAO,KAAKvmB,MAAL,CAAYsvE,WAAZ,EAAyB/oD,OAAzB,EAAkC8oD,YAAlC,CAAP;AACH,SAFO,CAENnvE,IAFM,CAED,IAFC;AADL,OAAP;AAKH,KAbyC;;AAe1C;;;;;;AAMAF,IAAAA,MAAM,EAAE,UAAUsvE,WAAV,EAAuB/oD,OAAvB,EAAgCgpD,aAAhC,EAA+C;AACnDzwB,MAAAA,QAAQ,CAAC1L,eAAT;;AAEA,UAAI,OAAO7sB,OAAP,KAAmB,QAAvB,EAAiCA,OAAO,GAAG,EAAV;;AACjC,UAAIgpD,aAAJ,EAAmB;AACfhpD,QAAAA,OAAO,GAAI,CAACgpD,aAAD,EAAgBhpD,OAAhB,EAAyBi8B,MAAzB,CAAgC,UAAUv+C,IAAV,EAAgBN,MAAhB,EAAwB;AACnD,eAAK,IAAI1D,GAAT,IAAgB0D,MAAhB,EAAwB;AACpB,gBAAI,CAACm7C,QAAQ,CAACnU,MAAT,CAAgBhnC,MAAhB,EAAwB1D,GAAxB,CAAL,EAAmC;;AACnC,gBAAIA,GAAG,KAAK,SAAR,IAAqB0D,MAAM,CAAC1D,GAAD,CAA3B,IAAoCgE,IAAI,CAAChE,GAAD,CAA5C,EAAmD;AAC/C,kBAAItB,CAAC,GAAGsF,IAAI,CAAChE,GAAD,CAAZ;AAAA,kBAAmBd,CAAC,GAAGwE,MAAM,CAAC1D,GAAD,CAA7B;AACAtB,cAAAA,CAAC,GAAGA,CAAC,CAACsH,MAAF,GAAWtH,CAAX,GAAeS,MAAM,CAAC4G,IAAP,CAAYrH,CAAZ,EAAe8V,GAAf,CAAmB,UAASxV,IAAT,EAAe;AAAE,uBAAON,CAAC,CAACM,IAAD,CAAR;AAAiB,eAArD,CAAnB;AACAE,cAAAA,CAAC,GAAGA,CAAC,CAAC8G,MAAF,GAAW9G,CAAX,GAAeC,MAAM,CAAC4G,IAAP,CAAY7G,CAAZ,EAAesV,GAAf,CAAmB,UAASxV,IAAT,EAAe;AAAE,uBAAOE,CAAC,CAACF,IAAD,CAAR;AAAiB,eAArD,CAAnB;AACAgF,cAAAA,IAAI,CAAChE,GAAD,CAAJ,GAAad,CAAC,CAACgJ,MAAF,CAAS,UAASgmE,GAAT,EAAc;AAAE,uBAAOxvE,CAAC,CAACsK,OAAF,CAAUklE,GAAV,MAAmB,CAAC,CAA3B;AAA+B,eAAxD,CAAD,CAA4D3mE,MAA5D,CAAmE7I,CAAnE,CAAZ;AACH,aALD,MAKO;AACHsF,cAAAA,IAAI,CAAChE,GAAD,CAAJ,GAAY0D,MAAM,CAAC1D,GAAD,CAAlB;AACH;AACJ;;AACD,iBAAOgE,IAAP;AACH,SAbF,EAaI,EAbJ,CAAX;AAcH;;AAED,YAAMtB,OAAO,GAAG,OAAO2sE,WAAP,KAAuB,QAAvB,GAAkCtuE,QAAQ,CAACwuE,cAAT,CAAwBF,WAAxB,CAAlC,GAAyEA,WAAzF;;AAEA,UAAI,CAAC3sE,OAAL,EAAc;AACV,YAAI,OAAO2sE,WAAP,KAAuB,QAA3B,EAAqC;AACjC,gBAAMpuE,KAAK,CAAC,wEAAwEouE,WAAxE,GAAsF,IAAvF,CAAX;AACH;;AAED,cAAMpuE,KAAK,CAAC,4EAAD,CAAX;AACH;;AAED,YAAM2mD,IAAI,GAAG9I,eAAe,CAAC96C,IAAhB,CAAqBtB,OAArB,EAA8B4jB,OAA9B,CAAb;;AAEA,UAAIshC,IAAI,CAAC/G,WAAL,CAAiBC,IAAjB,CAAsB7B,EAAtB,IAA4Bl+C,QAAQ,CAACwuE,cAAT,CAAwB3nB,IAAI,CAAC/G,WAAL,CAAiBC,IAAjB,CAAsB7B,EAA9C,CAAhC,EAAmF;AAC/E,cAAMh+C,KAAK,CAAC,kGAAkG2mD,IAAI,CAAC/G,WAAL,CAAiBC,IAAjB,CAAsB7B,EAAxH,GAA6H,IAA9H,CAAX;AACH;;AAED,aAAO4K,QAAQ,CAAC3B,WAAW,CAACxlD,OAAD,EAAUklD,IAAI,CAAC/G,WAAf,EAA4B+G,IAAI,CAACthC,OAAjC,CAAZ,EAAuDshC,IAAI,CAACxI,iBAA5D,EAA+EwI,IAAI,CAAC3kD,OAApF,EAA6F2kD,IAAI,CAACthC,OAAL,CAAaxhB,IAA1G,EAAgHwhB,OAAhH,EAAyHshC,IAAI,CAAC5F,kBAA9H,CAAf;AACH;AA3DyC,GAAjB,CAv5UqC,CAq9UlE;;AACA,WAASwtB,kBAAT,CAA4B/1C,GAA5B,EAAiC;AAAE,WAAOg2C,kBAAkB,CAACh2C,GAAD,CAAlB,IAA2Bi2C,gBAAgB,CAACj2C,GAAD,CAA3C,IAAoDk2C,2BAA2B,CAACl2C,GAAD,CAA/E,IAAwFm2C,kBAAkB,EAAjH;AAAsH;;AAEzJ,WAASA,kBAAT,GAA8B;AAAE,UAAM,IAAIC,SAAJ,CAAc,sIAAd,CAAN;AAA8J;;AAE9L,WAASF,2BAAT,CAAqCzwE,CAArC,EAAwC4wE,MAAxC,EAAgD;AAAE,QAAI,CAAC5wE,CAAL,EAAQ;AAAQ,QAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAO6wE,iBAAiB,CAAC7wE,CAAD,EAAI4wE,MAAJ,CAAxB;AAAqC,QAAI5vE,CAAC,GAAGf,MAAM,CAACoB,SAAP,CAAiB8H,QAAjB,CAA0BzJ,IAA1B,CAA+BM,CAA/B,EAAkCsI,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;AAAwD,QAAItH,CAAC,KAAK,QAAN,IAAkBhB,CAAC,CAAC8wE,WAAxB,EAAqC9vE,CAAC,GAAGhB,CAAC,CAAC8wE,WAAF,CAAchxE,IAAlB;AAAwB,QAAIkB,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAO6kC,KAAK,CAACkrC,IAAN,CAAW/wE,CAAX,CAAP;AAAsB,QAAIgB,CAAC,KAAK,WAAN,IAAqB,2CAA2C2C,IAA3C,CAAgD3C,CAAhD,CAAzB,EAA6E,OAAO6vE,iBAAiB,CAAC7wE,CAAD,EAAI4wE,MAAJ,CAAxB;AAAsC;;AAEha,WAASJ,gBAAT,CAA0BQ,IAA1B,EAAgC;AAAE,QAAI,OAAO1wE,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAAC2wE,QAAP,IAAmBhxE,MAAM,CAAC+wE,IAAD,CAA9D,EAAsE,OAAOnrC,KAAK,CAACkrC,IAAN,CAAWC,IAAX,CAAP;AAA0B;;AAElI,WAAST,kBAAT,CAA4Bh2C,GAA5B,EAAiC;AAAE,QAAIsL,KAAK,CAACC,OAAN,CAAcvL,GAAd,CAAJ,EAAwB,OAAOs2C,iBAAiB,CAACt2C,GAAD,CAAxB;AAAgC;;AAE3F,WAASs2C,iBAAT,CAA2Bt2C,GAA3B,EAAgCnyB,GAAhC,EAAqC;AAAE,QAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGmyB,GAAG,CAACzzB,MAA7B,EAAqCsB,GAAG,GAAGmyB,GAAG,CAACzzB,MAAV;;AAAkB,SAAK,IAAItH,CAAC,GAAG,CAAR,EAAW0xE,IAAI,GAAG,IAAIrrC,KAAJ,CAAUz9B,GAAV,CAAvB,EAAuC5I,CAAC,GAAG4I,GAA3C,EAAgD5I,CAAC,EAAjD,EAAqD;AAAE0xE,MAAAA,IAAI,CAAC1xE,CAAD,CAAJ,GAAU+6B,GAAG,CAAC/6B,CAAD,CAAb;AAAmB;;AAAC,WAAO0xE,IAAP;AAAc;;AAEvL,MAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBv4C,IAApB,EAA0B;AACzC,QAAIsiB,UAAU,GAAGtiB,IAAI,CAACsiB,UAAtB;AAAA,QACIk2B,aAAa,GAAGx4C,IAAI,CAACw4C,aADzB;AAEA,QAAI,CAACl2B,UAAL,EAAiB,OAAOn2C,SAAP;AACjB,QAAI,CAAC+gC,OAAO,CAACoV,UAAD,CAAZ,EAA0B,MAAM,IAAIn5C,KAAJ,CAAU,mCAAV,CAAN,CAA1B,KAAoF;AAClF,UAAIsvE,UAAU,GAAG,EAAjB;AACAn2B,MAAAA,UAAU,GAAGo2B,OAAO,CAACp2B,UAAD,CAApB;AACA,UAAIA,UAAU,CAACpxC,OAAX,CAAmB,OAAnB,KAA+B,CAAnC,EAAsCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,CAAD,CAAnB,CAAuBqM,OAAvC;AACtC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,MAAnB,KAA8B,CAAlC,EAAqCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACrC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,cAAnB,KAAsC,CAA1C,EAA6CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC7C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,YAAnB,KAAoC,CAAxC,EAA2CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC3C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,MAAnB,KAA8B,CAAlC,EAAqCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACrC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,WAAnB,KAAmC,CAAvC,EAA0CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC1C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,UAAnB,KAAkC,CAAtC,EAAyCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACzC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,aAAnB,KAAqC,CAAzC,EAA4CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC5C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,aAAnB,KAAqC,CAAzC,EAA4CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC5C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,gBAAnB,KAAwC,CAA5C,EAA+CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC/C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,YAAnB,KAAoC,CAAxC,EAA2CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC3C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,MAAnB,KAA8B,CAAlC,EAAqCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACrC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,gBAAnB,KAAwC,CAA5C,EAA+CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC/C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,OAAnB,KAA+B,CAAnC,EAAsCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACtC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,UAAnB,KAAkC,CAAtC,EAAyCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACzC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,WAAnB,KAAmC,CAAvC,EAA0CunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AAC1C,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,OAAnB,KAA+B,CAAnC,EAAsCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACtC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,MAAnB,KAA8B,CAAlC,EAAqCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACrC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,OAAnB,KAA+B,CAAnC,EAAsCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACtC,UAAIuvC,UAAU,CAACpxC,OAAX,CAAmB,OAAnB,KAA+B,CAAnC,EAAsCunE,UAAU,CAACznE,IAAX,CAAgBtK,mBAAmB,CAAC,EAAD,CAAnB,CAAwBqM,OAAxC;AACtC,aAAO,GAAGtD,MAAH,CAAUgpE,UAAV,EAAsBf,kBAAkB,CAACc,aAAa,IAAI,EAAlB,CAAxC,CAAP;AACD;AACF,GA7BD;;AA+BA,MAAIE,OAAO,GAAG,SAASA,OAAT,CAAiB/2C,GAAjB,EAAsB;AAClC,QAAIlX,MAAM,GAAGktC,SAAS,CAACzpD,MAAV,GAAmB,CAAnB,IAAwBypD,SAAS,CAAC,CAAD,CAAT,KAAiBxrD,SAAzC,GAAqDwrD,SAAS,CAAC,CAAD,CAA9D,GAAoE,EAAjF;;AAEA,QAAI,CAACzqB,OAAO,CAACvL,GAAD,CAAZ,EAAmB;AACjB,aAAO,GAAGlyB,MAAH,CAAUioE,kBAAkB,CAACjtD,MAAD,CAA5B,EAAsC,CAACkX,GAAD,CAAtC,CAAP;AACD;;AAED,SAAK,IAAIhlB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGglB,GAAG,CAACzzB,MAAxB,EAAgCyO,CAAC,EAAjC,EAAqC;AACnC8N,MAAAA,MAAM,GAAGiuD,OAAO,CAAC/2C,GAAG,CAAChlB,CAAD,CAAJ,EAAS8N,MAAT,CAAhB;AACD;;AAED,WAAOA,MAAP;AACD,GAZD;;AAcA,MAAIyiB,OAAO,GAAG,SAASA,OAAT,CAAiBmP,GAAjB,EAAsB;AAClC,WAAOh1C,MAAM,CAACoB,SAAP,CAAiB8H,QAAjB,CAA0BzJ,IAA1B,CAA+Bu1C,GAA/B,MAAwC,gBAA/C;AACD,GAFD;AAIA;;;AAA6B,MAAIs8B,eAAe,GAAIJ,UAAvB,CAnhVqC,CAohVlE;;AACA,MAAIK,WAAW,GAAG,SAASA,WAAT,CAAqB5rE,IAArB,EAA2B;AAC3C,YAAQ,OAAOA,IAAf;AACE,WAAK,QAAL;AACE,eAAOA,IAAP;;AAEF,WAAK,QAAL;AACE,gBAAQA,IAAR;AACE,eAAK,IAAL;AACE,mBAAOtG,mBAAmB,CAAC,CAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,OAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,OAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,KAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF,eAAK,IAAL;AACE,mBAAOA,mBAAmB,CAAC,EAAD,CAA1B;;AAEF;AACE,mBAAOA,mBAAmB,CAAC,CAAD,CAA1B;AA/CJ;;AALJ;;AAyDA,WAAOA,mBAAmB,CAAC,CAAD,CAA1B;AACD,GA3DD;AA6DA;;;AAA6B,MAAImyE,gBAAgB,GAAID,WAAxB,CAllVqC,CAmlVlE;;AACA,MAAIE,UAAU,GAAGpyE,mBAAmB,CAAC,CAAD,CAApC;;AACA,MAAIqyE,kBAAkB,GAAG,aAAaryE,mBAAmB,CAAC0B,CAApB,CAAsB0wE,UAAtB,CAAtC,CArlVkE,CAulVlE;;;AACA,WAASE,QAAT,GAAoB;AAAEA,IAAAA,QAAQ,GAAG3xE,MAAM,CAAC4xE,MAAP,IAAiB,UAAUjuE,MAAV,EAAkB;AAAE,WAAK,IAAIpE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+wD,SAAS,CAACzpD,MAA9B,EAAsCtH,CAAC,EAAvC,EAA2C;AAAE,YAAIsyE,MAAM,GAAGvhB,SAAS,CAAC/wD,CAAD,CAAtB;;AAA2B,aAAK,IAAIsB,GAAT,IAAgBgxE,MAAhB,EAAwB;AAAE,cAAI7xE,MAAM,CAACoB,SAAP,CAAiBC,cAAjB,CAAgC5B,IAAhC,CAAqCoyE,MAArC,EAA6ChxE,GAA7C,CAAJ,EAAuD;AAAE8C,YAAAA,MAAM,CAAC9C,GAAD,CAAN,GAAcgxE,MAAM,CAAChxE,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,aAAO8C,MAAP;AAAgB,KAA5P;;AAA8P,WAAOguE,QAAQ,CAACl1B,KAAT,CAAe,IAAf,EAAqB6T,SAArB,CAAP;AAAyC;;AAE7T,WAASwhB,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAAE,QAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AAAE,YAAM,IAAItB,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,WAASuB,iBAAT,CAA2BtuE,MAA3B,EAAmC6sC,KAAnC,EAA0C;AAAE,SAAK,IAAIjxC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGixC,KAAK,CAAC3pC,MAA1B,EAAkCtH,CAAC,EAAnC,EAAuC;AAAE,UAAI2yE,UAAU,GAAG1hC,KAAK,CAACjxC,CAAD,CAAtB;AAA2B2yE,MAAAA,UAAU,CAAChyE,UAAX,GAAwBgyE,UAAU,CAAChyE,UAAX,IAAyB,KAAjD;AAAwDgyE,MAAAA,UAAU,CAACjtE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWitE,UAAf,EAA2BA,UAAU,CAACltE,QAAX,GAAsB,IAAtB;AAA4BhF,MAAAA,MAAM,CAACC,cAAP,CAAsB0D,MAAtB,EAA8BuuE,UAAU,CAACrxE,GAAzC,EAA8CqxE,UAA9C;AAA4D;AAAE;;AAE7T,WAASC,YAAT,CAAsBH,WAAtB,EAAmCI,UAAnC,EAA+CC,WAA/C,EAA4D;AAAE,QAAID,UAAJ,EAAgBH,iBAAiB,CAACD,WAAW,CAAC5wE,SAAb,EAAwBgxE,UAAxB,CAAjB;AAAsD,QAAIC,WAAJ,EAAiBJ,iBAAiB,CAACD,WAAD,EAAcK,WAAd,CAAjB;AAA6C,WAAOL,WAAP;AAAqB;;AAEvN,WAASM,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,QAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,YAAM,IAAI9B,SAAJ,CAAc,oDAAd,CAAN;AAA4E;;AAAC6B,IAAAA,QAAQ,CAACnxE,SAAT,GAAqBpB,MAAM,CAACY,MAAP,CAAc4xE,UAAU,IAAIA,UAAU,CAACpxE,SAAvC,EAAkD;AAAEyvE,MAAAA,WAAW,EAAE;AAAEtwE,QAAAA,KAAK,EAAEgyE,QAAT;AAAmBvtE,QAAAA,QAAQ,EAAE,IAA7B;AAAmCC,QAAAA,YAAY,EAAE;AAAjD;AAAf,KAAlD,CAArB;AAAkJ,QAAIutE,UAAJ,EAAgBC,eAAe,CAACF,QAAD,EAAWC,UAAX,CAAf;AAAwC;;AAEjY,WAASC,eAAT,CAAyB1yE,CAAzB,EAA4BuB,CAA5B,EAA+B;AAAEmxE,IAAAA,eAAe,GAAGzyE,MAAM,CAAC0yE,cAAP,IAAyB,SAASD,eAAT,CAAyB1yE,CAAzB,EAA4BuB,CAA5B,EAA+B;AAAEvB,MAAAA,CAAC,CAAC4yE,SAAF,GAAcrxE,CAAd;AAAiB,aAAOvB,CAAP;AAAW,KAAxG;;AAA0G,WAAO0yE,eAAe,CAAC1yE,CAAD,EAAIuB,CAAJ,CAAtB;AAA+B;;AAE1K,WAASsxE,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,QAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,WAAO,SAASC,oBAAT,GAAgC;AAAE,UAAIC,KAAK,GAAGC,eAAe,CAACL,OAAD,CAA3B;AAAA,UAAsCzvD,MAAtC;;AAA8C,UAAI0vD,yBAAJ,EAA+B;AAAE,YAAIK,SAAS,GAAGD,eAAe,CAAC,IAAD,CAAf,CAAsBrC,WAAtC;;AAAmDztD,QAAAA,MAAM,GAAGgwD,OAAO,CAACC,SAAR,CAAkBJ,KAAlB,EAAyB3iB,SAAzB,EAAoC6iB,SAApC,CAAT;AAA0D,OAA9I,MAAoJ;AAAE/vD,QAAAA,MAAM,GAAG6vD,KAAK,CAACx2B,KAAN,CAAY,IAAZ,EAAkB6T,SAAlB,CAAT;AAAwC;;AAAC,aAAOgjB,0BAA0B,CAAC,IAAD,EAAOlwD,MAAP,CAAjC;AAAkD,KAAxU;AAA2U;;AAEza,WAASkwD,0BAAT,CAAoCC,IAApC,EAA0C9zE,IAA1C,EAAgD;AAAE,QAAIA,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAR,EAAsE;AAAE,aAAOA,IAAP;AAAc;;AAAC,WAAO+zE,sBAAsB,CAACD,IAAD,CAA7B;AAAsC;;AAE/K,WAASC,sBAAT,CAAgCD,IAAhC,EAAsC;AAAE,QAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AAAE,YAAM,IAAIE,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,WAAOF,IAAP;AAAc;;AAEtK,WAASR,yBAAT,GAAqC;AAAE,QAAI,OAAOK,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,QAAID,OAAO,CAACC,SAAR,CAAkBK,IAAtB,EAA4B,OAAO,KAAP;AAAc,QAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,QAAI;AAAEC,MAAAA,IAAI,CAACxyE,SAAL,CAAe8H,QAAf,CAAwBzJ,IAAxB,CAA6B2zE,OAAO,CAACC,SAAR,CAAkBO,IAAlB,EAAwB,EAAxB,EAA4B,YAAY,CAAE,CAA1C,CAA7B;AAA2E,aAAO,IAAP;AAAc,KAA/F,CAAgG,OAAOnwE,CAAP,EAAU;AAAE,aAAO,KAAP;AAAe;AAAE;;AAEpU,WAASyvE,eAAT,CAAyBnzE,CAAzB,EAA4B;AAAEmzE,IAAAA,eAAe,GAAGlzE,MAAM,CAAC0yE,cAAP,GAAwB1yE,MAAM,CAAC6zE,cAA/B,GAAgD,SAASX,eAAT,CAAyBnzE,CAAzB,EAA4B;AAAE,aAAOA,CAAC,CAAC4yE,SAAF,IAAe3yE,MAAM,CAAC6zE,cAAP,CAAsB9zE,CAAtB,CAAtB;AAAiD,KAAjJ;AAAmJ,WAAOmzE,eAAe,CAACnzE,CAAD,CAAtB;AAA4B;;AAQ7M,MAAI+zE,mBAAmB,GAAG,aAAa,UAAUC,UAAV,EAAsB;AAC3DzB,IAAAA,SAAS,CAAC0B,SAAD,EAAYD,UAAZ,CAAT;;AAEA,QAAIE,MAAM,GAAGrB,YAAY,CAACoB,SAAD,CAAzB;;AAEA,aAASA,SAAT,GAAqB;AACnB,UAAIE,KAAJ;;AAEApC,MAAAA,eAAe,CAAC,IAAD,EAAOkC,SAAP,CAAf;;AAEAE,MAAAA,KAAK,GAAGD,MAAM,CAACx0E,IAAP,CAAY,IAAZ,CAAR;AACAy0E,MAAAA,KAAK,CAACC,OAAN,GAAgB,aAAan0E,MAAM,CAACqyC,eAAe,CAAC,WAAD,CAAhB,CAAN,EAA7B;AACA,aAAO6hC,KAAP;AACD;;AAED/B,IAAAA,YAAY,CAAC6B,SAAD,EAAY,CAAC;AACvBnzE,MAAAA,GAAG,EAAE,mBADkB;AAEvBN,MAAAA,KAAK,EAAE,SAAS6zE,iBAAT,GAA6B;AAClC,YAAIC,MAAM,GAAG,IAAb;;AAEA,YAAIC,WAAW,GAAG,KAAK9jC,KAAvB;AAAA,YACI7qC,IAAI,GAAG2uE,WAAW,CAAC3uE,IADvB;AAAA,YAEI4uE,qBAAqB,GAAGD,WAAW,CAACzF,UAFxC;AAAA,YAGIA,UAAU,GAAG0F,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,EAAnC,GAAwCA,qBAHzD;AAAA,YAIIC,iBAAiB,GAAGF,WAAW,CAACppE,KAJpC;AAAA,YAKIA,KAAK,GAAGspE,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,MAA/B,GAAwCA,iBALpD;AAAA,YAMIrkE,MAAM,GAAGmkE,WAAW,CAACnkE,MANzB;AAOA0+D,QAAAA,UAAU,CAAClpE,IAAX,GAAkBkpE,UAAU,CAAClpE,IAAX,IAAmB6rE,gBAAgB,CAAC7rE,IAAD,CAArD;AACAkpE,QAAAA,UAAU,CAAC/qE,OAAX,GAAqBwtE,eAAe,CAACzC,UAAD,CAApC;AACAA,QAAAA,UAAU,CAAC3jE,KAAX,GAAmB2jE,UAAU,CAAC3jE,KAAX,IAAoBA,KAAvC;AACA,YAAIiF,MAAJ,EAAY0+D,UAAU,CAAC1+D,MAAX,GAAoBA,MAApB;AACZ,aAAK4uC,MAAL,GAAcixB,SAAS,CAACpvE,MAAV,CAAiB,KAAKuzE,OAAL,CAAaz1D,OAA9B,CAAd;AACA,YAAI+1D,YAAY,GAAG,KAAKjkC,KAAxB;AAAA,YACI3wC,IAAI,GAAG40E,YAAY,CAAC50E,IADxB;AAAA,YAEIgqE,UAAU,GAAG4K,YAAY,CAAC5K,UAF9B;AAAA,YAGI3pC,WAAW,GAAGu0C,YAAY,CAACv0C,WAH/B;AAAA,YAII8uC,eAAe,GAAGyF,YAAY,CAACzF,eAJnC;AAAA,YAKIW,cAAc,GAAG8E,YAAY,CAAC9E,cALlC;AAAA,YAMI+E,OAAO,GAAGD,YAAY,CAACC,OAN3B;AAAA,YAOIC,MAAM,GAAGF,YAAY,CAACE,MAP1B;AAAA,YAQI5E,IAAI,GAAG0E,YAAY,CAAC1E,IARxB;AAAA,YASIF,IAAI,GAAG4E,YAAY,CAAC5E,IATxB;AAAA,YAUI+E,qBAAqB,GAAGH,YAAY,CAACI,WAVzC;AAAA,YAWIA,WAAW,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBAX5D;AAAA,YAYIE,qBAAqB,GAAGL,YAAY,CAACM,aAZzC;AAAA,YAaIA,aAAa,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBAb9D;AAAA,YAcIjK,QAAQ,GAAG4J,YAAY,CAAC5J,QAd5B;AAAA,YAeItE,OAAO,GAAGkO,YAAY,CAAClO,OAf3B;AAAA,YAgBI8D,SAAS,GAAGoK,YAAY,CAACpK,SAhB7B;AAAA,YAiBIM,OAAO,GAAG8J,YAAY,CAAC9J,OAjB3B;AAAA,YAkBIgD,MAAM,GAAG8G,YAAY,CAAC9G,MAlB1B;AAAA,YAmBIrJ,QAAQ,GAAGmQ,YAAY,CAACnQ,QAnB5B;AAAA,YAoBIsI,MAAM,GAAG6H,YAAY,CAAC7H,MApB1B;AAAA,YAqBIE,KAAK,GAAG2H,YAAY,CAAC3H,KArBzB;AAAA,YAsBIzoC,aAAa,GAAGowC,YAAY,CAACpwC,aAtBjC;AAAA,YAuBIgB,kBAAkB,GAAGovC,YAAY,CAACpvC,kBAvBtC;AAAA,YAwBIqoC,OAAO,GAAG+G,YAAY,CAAC/G,OAxB3B;AAAA,YAyBIsH,SAAS,GAAGP,YAAY,CAACO,SAzB7B;AAAA,YA0BI/J,MAAM,GAAGwJ,YAAY,CAACxJ,MA1B1B;AAAA,YA2BIF,OAAO,GAAG0J,YAAY,CAAC1J,OA3B3B;AAAA,YA4BIkK,MAAM,GAAGR,YAAY,CAACQ,MA5B1B;AAAA,YA6BIhN,OAAO,GAAGwM,YAAY,CAACxM,OA7B3B;AAAA,YA8BItiC,mBAAmB,GAAG8uC,YAAY,CAAC9uC,mBA9BvC;AAAA,YA+BI+G,mBAAmB,GAAG+nC,YAAY,CAAC/nC,mBA/BvC;AAAA,YAgCIgD,mBAAmB,GAAG+kC,YAAY,CAAC/kC,mBAhCvC;AAAA,YAiCIzD,aAAa,GAAGwoC,YAAY,CAACxoC,aAjCjC;AAAA,YAkCIk6B,WAAW,GAAGsO,YAAY,CAACtO,WAlC/B;AAAA,YAmCI/2B,aAAa,GAAGqlC,YAAY,CAACrlC,aAnCjC;AAAA,YAoCI3C,kBAAkB,GAAGgoC,YAAY,CAAChoC,kBApCtC;AAAA,YAqCIgD,kBAAkB,GAAGglC,YAAY,CAAChlC,kBArCtC;AAAA,YAsCIrD,WAAW,GAAGqoC,YAAY,CAACroC,WAtC/B;AAAA,YAuCI7F,kBAAkB,GAAGkuC,YAAY,CAACluC,kBAvCtC;AAAA,YAwCI43B,cAAc,GAAGsW,YAAY,CAACtW,cAxClC;AAAA,YAyCIC,gBAAgB,GAAGqW,YAAY,CAACrW,gBAzCpC;AAAA,YA0CI2J,UAAU,GAAG0M,YAAY,CAAC1M,UA1C9B;AAAA,YA2CIvX,cAAc,GAAGikB,YAAY,CAACjkB,cA3ClC;AA4CA,YAAI8T,QAAQ,IAAIzkE,IAAhB,EAAsB,KAAKk/C,MAAL,CAAYulB,QAAZ,GAAuB,UAAUtiD,OAAV,EAAmB;AAC9D,cAAIniB,IAAJ,EAAUw0E,MAAM,CAACF,OAAP,CAAez1D,OAAf,CAAuBne,KAAvB,GAA+ByhB,OAA/B;AACV,cAAIsiD,QAAJ,EAAcA,QAAQ,CAACtiD,OAAD,CAAR;AACf,SAHqB;AAItB,YAAI4qD,MAAJ,EAAY,KAAK7tB,MAAL,CAAY6tB,MAAZ,GAAqB,UAAUnpE,CAAV,EAAa8oE,aAAb,EAA4B;AAC3D,iBAAOK,MAAM,CAACnpE,CAAD,EAAI8oE,aAAJ,CAAb;AACD,SAFW;AAGZ,YAAIO,KAAJ,EAAW,KAAK/tB,MAAL,CAAY+tB,KAAZ,GAAoB,UAAUrpE,CAAV,EAAa8oE,aAAb,EAA4B;AACzD,iBAAOO,KAAK,CAACrpE,CAAD,EAAI8oE,aAAJ,CAAZ;AACD,SAFU;AAGX,YAAIpG,WAAJ,EAAiB,KAAKpnB,MAAL,CAAYonB,WAAZ,GAA0B,UAAU1iE,CAAV,EAAa;AACtD,iBAAO0iE,WAAW,CAAC1iE,CAAD,CAAlB;AACD,SAFgB;AAGjB,YAAIonE,QAAJ,EAAc,KAAK9rB,MAAL,CAAY8rB,QAAZ,GAAuB,UAAUpnE,CAAV,EAAa;AAChD,iBAAOonE,QAAQ,CAACpnE,CAAD,CAAf;AACD,SAFa;AAGd,YAAIwkE,OAAJ,EAAa,KAAKlpB,MAAL,CAAYkpB,OAAZ,GAAsB,UAAUxkE,CAAV,EAAa;AAC9C,iBAAOwkE,OAAO,CAACxkE,CAAD,CAAd;AACD,SAFY;AAGb,YAAI8iE,OAAJ,EAAa,KAAKxnB,MAAL,CAAYwnB,OAAZ,GAAsB,UAAU9iE,CAAV,EAAa;AAC9C,iBAAO8iE,OAAO,CAAC9iE,CAAD,CAAd;AACD,SAFY;AAGb,YAAIknE,OAAJ,EAAa,KAAK5rB,MAAL,CAAY4rB,OAAZ,GAAsB,UAAUlnE,CAAV,EAAa;AAC9C,iBAAOknE,OAAO,CAAClnE,CAAD,CAAd;AACD,SAFY;AAGb,YAAI4mE,SAAJ,EAAe,KAAKtrB,MAAL,CAAYsrB,SAAZ,GAAwB,UAAU5mE,CAAV,EAAa;AAClD,iBAAO4mE,SAAS,CAAC5mE,CAAD,CAAhB;AACD,SAFc;AAGf,YAAIwnE,MAAJ,EAAY,KAAKlsB,MAAL,CAAYksB,MAAZ,GAAqB,UAAUxnE,CAAV,EAAa;AAC5C,iBAAOwnE,MAAM,CAACxnE,CAAD,EAAI4wE,MAAM,CAACt1B,MAAP,CAAc2K,WAAd,EAAJ,CAAb;AACD,SAFW;AAGZ,YAAIqhB,OAAJ,EAAa,KAAKhsB,MAAL,CAAYgsB,OAAZ,GAAsB,UAAUtnE,CAAV,EAAa;AAC9C,iBAAOsnE,OAAO,CAACtnE,CAAD,CAAd;AACD,SAFY;AAGb,YAAIkiC,mBAAJ,EAAyB,KAAKoZ,MAAL,CAAYpZ,mBAAZ,GAAkC,UAAUf,KAAV,EAAiB97B,IAAjB,EAAuBosE,CAAvB,EAA0BC,aAA1B,EAAyC;AAClG,iBAAOxvC,mBAAmB,CAACf,KAAD,EAAQ97B,IAAR,EAAcqsE,aAAd,CAA1B;AACD,SAFwB;AAGzB,YAAIzoC,mBAAJ,EAAyB,KAAKqS,MAAL,CAAYrS,mBAAZ,GAAkC,UAAU9H,KAAV,EAAiB97B,IAAjB,EAAuBosE,CAAvB,EAA0BC,aAA1B,EAAyC;AAClG,iBAAOzoC,mBAAmB,CAAC9H,KAAD,EAAQ97B,IAAR,EAAcqsE,aAAd,CAA1B;AACD,SAFwB;AAGzB,YAAIzlC,mBAAJ,EAAyB,KAAKqP,MAAL,CAAYrP,mBAAZ,GAAkC,UAAU9K,KAAV,EAAiB97B,IAAjB,EAAuBosE,CAAvB,EAA0BC,aAA1B,EAAyC;AAClG,iBAAOzlC,mBAAmB,CAAC9K,KAAD,EAAQ97B,IAAR,EAAcqsE,aAAd,CAA1B;AACD,SAFwB;AAGzB,YAAIxH,MAAJ,EAAY,KAAK5uB,MAAL,CAAY4uB,MAAZ,GAAqB,UAAUlqE,CAAV,EAAa;AAC5C,iBAAOkqE,MAAM,CAAClqE,CAAD,CAAb;AACD,SAFW;AAGZ,YAAIiqE,OAAJ,EAAa,KAAK3uB,MAAL,CAAY2uB,OAAZ,GAAsB,UAAUjqE,CAAV,EAAa4pE,SAAb,EAAwBroB,YAAxB,EAAsC;AACvE,iBAAO0oB,OAAO,CAACjqE,CAAD,EAAI4pE,SAAJ,EAAeroB,YAAf,CAAd;AACD,SAFY;AAGb,YAAI3gB,aAAJ,EAAmB,KAAK0a,MAAL,CAAY1a,aAAZ,GAA4B,UAAU+wC,gBAAV,EAA4BnsE,KAA5B,EAAmCkB,KAAnC,EAA0CkrE,SAA1C,EAAqDC,mBAArD,EAA0E;AACvH,iBAAOjxC,aAAa,CAAC+wC,gBAAD,EAAmBnsE,KAAnB,EAA0BkB,KAA1B,EAAiCkrE,SAAjC,EAA4CC,mBAA5C,CAApB;AACD,SAFkB;AAGnB,YAAIrpC,aAAJ,EAAmB,KAAK8S,MAAL,CAAY9S,aAAZ,GAA4B,UAAUnxB,aAAV,EAAyB7R,KAAzB,EAAgCkB,KAAhC,EAAuCrB,IAAvC,EAA6CwsE,mBAA7C,EAAkE;AAC/G,iBAAOrpC,aAAa,CAACnxB,aAAD,EAAgB7R,KAAhB,EAAuBkB,KAAvB,EAA8BrB,IAA9B,EAAoCwsE,mBAApC,CAApB;AACD,SAFkB;AAGnB,YAAIlmC,aAAJ,EAAmB,KAAK2P,MAAL,CAAY3P,aAAZ,GAA4B,UAAUt0B,aAAV,EAAyB7R,KAAzB,EAAgCkB,KAAhC,EAAuCrB,IAAvC,EAA6CwsE,mBAA7C,EAAkE;AAC/G,iBAAOlmC,aAAa,CAACt0B,aAAD,EAAgB7R,KAAhB,EAAuBkB,KAAvB,EAA8BrB,IAA9B,EAAoCwsE,mBAApC,CAApB;AACD,SAFkB;AAGnB,YAAIjwC,kBAAJ,EAAwB,KAAK0Z,MAAL,CAAY1Z,kBAAZ,GAAiC,UAAU59B,YAAV,EAAwB2b,MAAxB,EAAgC;AACvF,iBAAOiiB,kBAAkB,CAAC59B,YAAD,EAAe2b,MAAf,CAAzB;AACD,SAFuB;AAGxB,YAAIqpB,kBAAJ,EAAwB,KAAKsS,MAAL,CAAYtS,kBAAZ,GAAiC,UAAUhlC,YAAV,EAAwB2b,MAAxB,EAAgC;AACvF,iBAAOqpB,kBAAkB,CAAChlC,YAAD,EAAe2b,MAAf,CAAzB;AACD,SAFuB;AAGxB,YAAIqsB,kBAAJ,EAAwB,KAAKsP,MAAL,CAAYtP,kBAAZ,GAAiC,UAAUhoC,YAAV,EAAwB2b,MAAxB,EAAgC;AACvF,iBAAOqsB,kBAAkB,CAAChoC,YAAD,EAAe2b,MAAf,CAAzB;AACD,SAFuB;AAGxB,YAAIgpB,WAAJ,EAAiByiC,UAAU,CAACziC,WAAX,GAAyBA,WAAzB;AACjB,aAAK2S,MAAL,CAAY8vB,UAAZ,CAAuBA,UAAvB;;AAEA,aAAK9vB,MAAL,CAAYlY,MAAZ,GAAqB,UAAUquC,CAAV,EAAanS,MAAb,EAAqB;AACxC,cAAIA,MAAM,KAAK,KAAf,EAAsB;AACpB,gBAAI7iC,WAAJ,EAAiB;AACfm0C,cAAAA,MAAM,CAACt1B,MAAP,CAAc7e,WAAd,CAA0BA,WAA1B;;AAEAm0C,cAAAA,MAAM,CAACt1B,MAAP,CAAc58C,IAAd,CAAmBm7B,SAAnB;AACD;;AAED,gBAAI0xC,eAAJ,EAAqBqF,MAAM,CAACt1B,MAAP,CAAciwB,eAAd,CAA8BA,eAA9B;AACrB,gBAAInF,UAAJ,EAAgBwK,MAAM,CAACt1B,MAAP,CAAc8qB,UAAd,CAAyBA,UAAzB;AAChB,gBAAI8F,cAAJ,EAAoB0E,MAAM,CAACt1B,MAAP,CAAc4wB,cAAd,CAA6BA,cAA7B;AACpB,gBAAI0E,MAAM,CAACt1B,MAAP,CAAct8C,IAAd,CAAmBoxC,IAAvB,EAA6BwgC,MAAM,CAACt1B,MAAP,CAAc58C,IAAd,CAAmB4vD,mBAAnB;AAC7B,gBAAI4iB,MAAM,KAAK,IAAf,EAAqBN,MAAM,CAACt1B,MAAP,CAAclgB,OAAd;AACrB,gBAAI61C,OAAO,KAAK,IAAhB,EAAsBL,MAAM,CAACt1B,MAAP,CAAcplC,QAAd;AACtB,gBAAIo2D,IAAI,KAAK,IAAb,EAAmBsE,MAAM,CAACt1B,MAAP,CAAcgxB,IAAd;AACnB,gBAAIF,IAAI,KAAK,IAAb,EAAmBwE,MAAM,CAACt1B,MAAP,CAAc8wB,IAAd;AACnB,gBAAIgF,WAAW,KAAK,IAApB,EAA0BR,MAAM,CAACt1B,MAAP,CAActzC,OAAd,CAAsBokE,IAAtB,GAA1B,KAA4DwE,MAAM,CAACt1B,MAAP,CAActzC,OAAd,CAAsBskE,IAAtB;AAC5D,gBAAIgF,aAAa,KAAK,IAAtB,EAA4BV,MAAM,CAACt1B,MAAP,CAActzC,OAAd,CAAsBozB,OAAtB,GAA5B,KAAiEw1C,MAAM,CAACt1B,MAAP,CAActzC,OAAd,CAAsBkO,QAAtB;AACjE,gBAAIq7D,SAAS,KAAK,KAAlB,EAAyBX,MAAM,CAACt1B,MAAP,CAAc58C,IAAd,CAAmBC,OAAnB,CAA2BmB,OAA3B,CAAmC+E,OAAnC,CAA2CitE,IAA3C,GAAzB,KAAgF,IAAIP,SAAS,KAAK,IAAlB,EAAwBX,MAAM,CAACt1B,MAAP,CAAc58C,IAAd,CAAmBC,OAAnB,CAA2BmB,OAA3B,CAAmC+E,OAAnC,CAA2C1D,KAA3C;AACzG;;AAED,cAAIqwE,MAAJ,EAAYA,MAAM,CAAClS,MAAD,CAAN;AACb,SAtBD;;AAwBA,YAAIx8B,kBAAkB,IAAI,OAAOA,kBAAP,KAA8B,UAAxD,EAAoE,KAAKwY,MAAL,CAAYxY,kBAAZ,GAAiCA,kBAAjC;AACpE,YAAI43B,cAAc,IAAI,OAAOA,cAAP,KAA0B,UAAhD,EAA4D,KAAKpf,MAAL,CAAYof,cAAZ,GAA6B,UAAU1Q,UAAV,EAAsB;AAC7G,iBAAO0Q,cAAc,CAAC1Q,UAAD,CAArB;AACD,SAF2D;AAG5D,YAAI2Q,gBAAgB,IAAI,OAAOA,gBAAP,KAA4B,UAApD,EAAgE,KAAKrf,MAAL,CAAYqf,gBAAZ,GAA+B,UAAU1Q,YAAV,EAAwB;AACrH,iBAAO0Q,gBAAgB,CAAC1Q,YAAD,CAAvB;AACD,SAF+D;AAGhE,YAAIqa,UAAU,IAAI,OAAOA,UAAP,KAAsB,UAAxC,EAAoD,KAAKhpB,MAAL,CAAYgpB,UAAZ,GAAyB,UAAUt8D,OAAV,EAAmBrJ,OAAnB,EAA4B;AACvG,iBAAO2lE,UAAU,CAACt8D,OAAD,EAAUrJ,OAAV,CAAjB;AACD,SAFmD;AAGpD,YAAIouD,cAAc,IAAI,OAAOA,cAAP,KAA0B,UAAhD,EAA4D,KAAKzR,MAAL,CAAYyR,cAAZ,GAA6B,UAAU3wD,IAAV,EAAgB21E,WAAhB,EAA6B;AACpH,iBAAOhlB,cAAc,CAAC3wD,IAAD,EAAO21E,WAAP,CAArB;AACD,SAF2D;AAG7D;AAxKsB,KAAD,EAyKrB;AACD30E,MAAAA,GAAG,EAAE,oBADJ;AAEDN,MAAAA,KAAK,EAAE,SAASk1E,kBAAT,CAA4BC,SAA5B,EAAuC;AAC5C;AACA,YAAIA,SAAS,CAAC/vE,IAAV,KAAmB,KAAK6qC,KAAL,CAAW7qC,IAAlC,EAAwC;AACtC,eAAKo5C,MAAL,CAAY8vB,UAAZ,CAAuB;AACrBlpE,YAAAA,IAAI,EAAE6rE,gBAAgB,CAAC,KAAKhhC,KAAL,CAAW7qC,IAAZ;AADD,WAAvB;AAGD;;AAED,YAAI+vE,SAAS,CAACvlE,MAAV,KAAqB,KAAKqgC,KAAL,CAAWrgC,MAApC,EAA4C;AAC1C,eAAK4uC,MAAL,CAAY8vB,UAAZ,CAAuB;AACrB1+D,YAAAA,MAAM,EAAE,KAAKqgC,KAAL,CAAWrgC;AADE,WAAvB;AAGD;;AAED,YAAIulE,SAAS,CAACxqE,KAAV,KAAoB,KAAKslC,KAAL,CAAWtlC,KAAnC,EAA0C;AACxC,eAAK6zC,MAAL,CAAY8vB,UAAZ,CAAuB;AACrB3jE,YAAAA,KAAK,EAAE,KAAKslC,KAAL,CAAWtlC;AADG,WAAvB;AAGD;;AAED,YAAIwqE,SAAS,CAAC1G,eAAV,KAA8B,KAAKx+B,KAAL,CAAWw+B,eAA7C,EAA8D;AAC5D,eAAKjwB,MAAL,CAAYiwB,eAAZ,CAA4B,KAAKx+B,KAAL,CAAWw+B,eAAvC;AACD;;AAED,YAAI0G,SAAS,CAACx1C,WAAV,KAA0B,KAAKsQ,KAAL,CAAWtQ,WAAzC,EAAsD;AACpD,WAAC,KAAK6e,MAAL,CAAY58C,IAAZ,CAAiB6pD,QAAlB,IAA8B,KAAKjN,MAAL,CAAY7e,WAAZ,CAAwB,KAAKsQ,KAAL,CAAWtQ,WAAnC,CAA9B;AACD;;AAED,YAAIw1C,SAAS,CAAC/F,cAAV,KAA6B,KAAKn/B,KAAL,CAAWm/B,cAA5C,EAA4D;AAC1D,eAAK5wB,MAAL,CAAY4wB,cAAZ,CAA2B,KAAKn/B,KAAL,CAAWm/B,cAAtC;AACA,eAAK5wB,MAAL,CAAY58C,IAAZ,CAAiBm7B,SAAjB;AACD;;AAED,YAAIo4C,SAAS,CAAC7L,UAAV,KAAyB,KAAKr5B,KAAL,CAAWq5B,UAAxC,EAAoD;AAClD,eAAK9qB,MAAL,CAAY8qB,UAAZ,CAAuB,KAAKr5B,KAAL,CAAWq5B,UAAlC;AACD;;AAED,YAAI6L,SAAS,CAACf,MAAV,KAAqB,KAAKnkC,KAAL,CAAWmkC,MAApC,EAA4C;AAC1C,cAAI,KAAKnkC,KAAL,CAAWmkC,MAAX,KAAsB,IAA1B,EAAgC,KAAK51B,MAAL,CAAYlgB,OAAZ,GAAhC,KAA2D,KAAKkgB,MAAL,CAAYplC,QAAZ;AAC5D;;AAED,YAAI+7D,SAAS,CAAChB,OAAV,KAAsB,KAAKlkC,KAAL,CAAWkkC,OAArC,EAA8C;AAC5C,cAAI,KAAKlkC,KAAL,CAAWkkC,OAAX,KAAuB,IAA3B,EAAiC,KAAK31B,MAAL,CAAYplC,QAAZ,GAAjC,KAA6D,KAAKolC,MAAL,CAAYlgB,OAAZ;AAC9D;;AAED,YAAI62C,SAAS,CAACb,WAAV,KAA0B,KAAKrkC,KAAL,CAAWqkC,WAAzC,EAAsD;AACpD,cAAI,KAAKrkC,KAAL,CAAWqkC,WAAX,KAA2B,IAA/B,EAAqC,KAAK91B,MAAL,CAAYtzC,OAAZ,CAAoBokE,IAApB,GAArC,KAAqE,KAAK9wB,MAAL,CAAYtzC,OAAZ,CAAoBskE,IAApB,GADjB,CAC6C;AAClG;;AAED,YAAI2F,SAAS,CAACX,aAAV,KAA4B,KAAKvkC,KAAL,CAAWukC,aAA3C,EAA0D;AACxD,cAAI,KAAKvkC,KAAL,CAAWukC,aAAX,KAA6B,IAAjC,EAAuC,KAAKh2B,MAAL,CAAYtzC,OAAZ,CAAoBozB,OAApB,GAAvC,KAA0E,KAAKkgB,MAAL,CAAYtzC,OAAZ,CAAoBkO,QAApB;AAC3E;;AAED,YAAI+7D,SAAS,CAAC7F,IAAV,KAAmB,KAAKr/B,KAAL,CAAWq/B,IAAlC,EAAwC;AACtC,cAAI,KAAKr/B,KAAL,CAAWq/B,IAAX,KAAoB,IAAxB,EAA8B,KAAK9wB,MAAL,CAAY8wB,IAAZ,GAA9B,KAAsD,KAAK9wB,MAAL,CAAYgxB,IAAZ;AACvD;;AAED,YAAI2F,SAAS,CAAC3F,IAAV,KAAmB,KAAKv/B,KAAL,CAAWu/B,IAAlC,EAAwC;AACtC,cAAI,KAAKv/B,KAAL,CAAWu/B,IAAX,KAAoB,IAAxB,EAA8B,KAAKhxB,MAAL,CAAYgxB,IAAZ,GAA9B,KAAsD,KAAKhxB,MAAL,CAAY8wB,IAAZ;AACvD;AACF;AA9DA,KAzKqB,EAwOrB;AACDhvE,MAAAA,GAAG,EAAE,sBADJ;AAEDN,MAAAA,KAAK,EAAE,SAASo1E,oBAAT,GAAgC;AACrC,YAAI,KAAK52B,MAAT,EAAiB,KAAKA,MAAL,CAAYt0C,OAAZ,GADoB,CACG;AACzC;AAJA,KAxOqB,EA6OrB;AACD5J,MAAAA,GAAG,EAAE,QADJ;AAEDN,MAAAA,KAAK,EAAE,SAASq1E,MAAT,GAAkB;AACvB,YAAIC,WAAW,GAAG,EAAlB;AACA,YAAI,KAAKrlC,KAAL,CAAW3wC,IAAf,EAAqBg2E,WAAW,CAACh2E,IAAZ,GAAmB,KAAK2wC,KAAL,CAAW3wC,IAA9B;AACrB,eAAO,aAAayyC,sBAAsB,CAACh9B,CAAvB,CAAyB5S,aAAzB,CAAuC,UAAvC,EAAmDivE,QAAQ,CAAC;AAC9Ep0C,UAAAA,GAAG,EAAE,KAAK42C;AADoE,SAAD,EAE5E0B,WAF4E,CAA3D,CAApB;AAGD;AARA,KA7OqB,CAAZ,CAAZ;;AAwPA,WAAO7B,SAAP;AACD,GAxQsC,CAwQrC3hC,eAAe,CAAC,WAAD,CAxQsB,CAAvC;;AA0QAyhC,EAAAA,mBAAmB,CAACgC,SAApB,GAAgC;AAC9BvvC,IAAAA,kBAAkB,EAAEmrC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IADX;AAE9BgtB,IAAAA,cAAc,EAAEuT,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAFP;AAG9BitB,IAAAA,gBAAgB,EAAEsT,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAHT;AAI9B42B,IAAAA,UAAU,EAAE2J,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAJH;AAK9Bqf,IAAAA,cAAc,EAAEkhB,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IALP;AAM9BmzB,IAAAA,QAAQ,EAAEoN,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAND;AAO9B05B,IAAAA,QAAQ,EAAE6G,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAPD;AAQ9Bo1B,IAAAA,OAAO,EAAEmL,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IARA;AAS9Bw5B,IAAAA,OAAO,EAAE+G,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IATA;AAU9Bk5B,IAAAA,SAAS,EAAEqH,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAVF;AAW9B82B,IAAAA,OAAO,EAAEyJ,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAXA;AAY9Bw8B,IAAAA,MAAM,EAAE+D,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAZC;AAa9B85B,IAAAA,MAAM,EAAEyG,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAbC;AAc9B45B,IAAAA,OAAO,EAAE2G,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAdA;AAe9B8jC,IAAAA,MAAM,EAAEvD,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAfC;AAgB9B27B,IAAAA,KAAK,EAAE4E,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAhBE;AAiB9By7B,IAAAA,MAAM,EAAE8E,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAjBC;AAkB9Bu8B,IAAAA,OAAO,EAAEgE,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAlBA;AAmB9BxL,IAAAA,mBAAmB,EAAE+rC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAnBZ;AAoB9B9M,IAAAA,aAAa,EAAEqtC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IApBN;AAqB9B9L,IAAAA,kBAAkB,EAAEqsC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IArBX;AAsB9BzE,IAAAA,mBAAmB,EAAEglC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAtBZ;AAuB9BzB,IAAAA,mBAAmB,EAAEgiC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAvBZ;AAwB9BlF,IAAAA,aAAa,EAAEylC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAxBN;AAyB9Bg1B,IAAAA,WAAW,EAAEuL,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IAzBJ;AA0B9B/B,IAAAA,aAAa,EAAEsiC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IA1BN;AA2B9B1E,IAAAA,kBAAkB,EAAEilC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IA3BX;AA4B9B1B,IAAAA,kBAAkB,EAAEiiC,kBAAkB,CAACp8D,CAAnB,CAAqB67B,IA5BX;AA6B9B09B,IAAAA,UAAU,EAAE6C,kBAAkB,CAACp8D,CAAnB,CAAqBpU,MA7BH;AA8B9Bg/B,IAAAA,WAAW,EAAEwxC,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MA9BJ;AA+B9BvxC,IAAAA,IAAI,EAAE6xE,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MA/BG;AAgC9Bu+B,IAAAA,cAAc,EAAE+B,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAhCP;AAiC9B49B,IAAAA,eAAe,EAAE0C,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAjCR;AAkC9BujC,IAAAA,MAAM,EAAEjD,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IAlCC;AAmC9B2jC,IAAAA,WAAW,EAAEnD,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IAnCJ;AAoC9B6jC,IAAAA,aAAa,EAAErD,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IApCN;AAqC9BwjC,IAAAA,OAAO,EAAEhD,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IArCA;AAsC9B6+B,IAAAA,IAAI,EAAE2B,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IAtCG;AAuC9B2+B,IAAAA,IAAI,EAAE6B,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IAvCG;AAwC9B8jC,IAAAA,SAAS,EAAEtD,kBAAkB,CAACp8D,CAAnB,CAAqB47B,IAxCF;AAyC9B9E,IAAAA,WAAW,EAAEslC,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAzCJ;AA0C9BzrC,IAAAA,IAAI,EAAE+rE,kBAAkB,CAACp8D,CAAnB,CAAqBs8B,SAArB,CAA+B,CAAC8/B,kBAAkB,CAACp8D,CAAnB,CAAqBpU,MAAtB,EAA8BwwE,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAAnD,CAA/B,CA1CwB;AA2C9BlmC,IAAAA,KAAK,EAAEwmE,kBAAkB,CAACp8D,CAAnB,CAAqBs8B,SAArB,CAA+B,CAAC8/B,kBAAkB,CAACp8D,CAAnB,CAAqBuZ,MAAtB,EAA8B6iD,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAAnD,CAA/B,CA3CuB;AA4C9BjhC,IAAAA,MAAM,EAAEuhE,kBAAkB,CAACp8D,CAAnB,CAAqBs8B,SAArB,CAA+B,CAAC8/B,kBAAkB,CAACp8D,CAAnB,CAAqBuZ,MAAtB,EAA8B6iD,kBAAkB,CAACp8D,CAAnB,CAAqB87B,MAAnD,CAA/B;AA5CsB,GAAhC;AA8CA;;AAA6B,MAAI2kC,WAAW,GAAIjC,mBAAnB,CA56VqC,CA66VlE;;AAIA;;AAA6B,MAAIkC,IAAI,GAAGzjE,mBAAmB,CAAC,SAAD,CAAnB,GAAkCwjE,WAA7C;AAE7B;AAAO;AACP;AA18sBU,CAtFD,CADT","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 45);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, ReactIs; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(43)();\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const dialog = {\r\n        name: 'dialog',\r\n        /**\r\n         * @description Constructor\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const context = core.context;\r\n            context.dialog = {\r\n                kind: '',\r\n                updateModal: false,\r\n                _closeSignal: false\r\n            };\r\n\r\n            /** dialog */\r\n            let dialog_div = core.util.createElement('DIV');\r\n            dialog_div.className = 'se-dialog sun-editor-common';\r\n\r\n            let dialog_back = core.util.createElement('DIV');\r\n            dialog_back.className = 'se-dialog-back';\r\n            dialog_back.style.display = 'none';\r\n\r\n            let dialog_area = core.util.createElement('DIV');\r\n            dialog_area.className = 'se-dialog-inner';\r\n            dialog_area.style.display = 'none';\r\n\r\n            dialog_div.appendChild(dialog_back);\r\n            dialog_div.appendChild(dialog_area);\r\n\r\n            context.dialog.modalArea = dialog_div;\r\n            context.dialog.back = dialog_back;\r\n            context.dialog.modal = dialog_area;\r\n\r\n            /** add event listeners */\r\n            context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\r\n            context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\r\n            \r\n            /** append html */\r\n            context.element.relative.appendChild(dialog_div);\r\n            \r\n            /** empty memory */\r\n            dialog_div = null, dialog_back = null, dialog_area = null;\r\n        },\r\n\r\n        /**\r\n         * @description Event to control the behavior of closing the dialog\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onMouseDown_dialog: function (e) {\r\n            if (/se-dialog-inner/.test(e.target.className)) {\r\n                this.context.dialog._closeSignal = true;\r\n            } else {\r\n                this.context.dialog._closeSignal = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Event to close the window when the outside area of the dialog or close button is click\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onClick_dialog: function (e) {\r\n            e.stopPropagation();\r\n\r\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\r\n                this.plugins.dialog.close.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a Dialog plugin\r\n         * @param {String} kind Dialog plugin name\r\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\r\n         */\r\n        open: function (kind, update)  {\r\n            if (this.modalForm) return false;\r\n            if (this.plugins.dialog._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\r\n                this.plugins.dialog._bindClose = null;\r\n            }\r\n\r\n            this.plugins.dialog._bindClose = function (e) {\r\n                if (!/27/.test(e.keyCode)) return;\r\n                this.plugins.dialog.close.call(this);\r\n            }.bind(this);\r\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\r\n\r\n            this.context.dialog.updateModal = update;\r\n\r\n            if (this.context.option.popupDisplay === 'full') {\r\n                this.context.dialog.modalArea.style.position = 'fixed';\r\n            } else {\r\n                this.context.dialog.modalArea.style.position = 'absolute';\r\n            }\r\n\r\n            this.context.dialog.kind = kind;\r\n            this.modalForm = this.context[kind].modal;\r\n            const focusElement = this.context[kind].focusElement;\r\n\r\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\r\n\r\n            this.context.dialog.modalArea.style.display = 'block';\r\n            this.context.dialog.back.style.display = 'block';\r\n            this.context.dialog.modal.style.display = 'block';\r\n            this.modalForm.style.display = 'block';\r\n\r\n            if (focusElement) focusElement.focus();\r\n        },\r\n\r\n        _bindClose: null,\r\n        \r\n        /**\r\n         * @description Close a Dialog plugin\r\n         * The plugin's \"init\" method is called.\r\n         */\r\n        close: function () {\r\n            if (this.plugins.dialog._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\r\n                this.plugins.dialog._bindClose = null;\r\n            }\r\n\r\n            const kind = this.context.dialog.kind;\r\n            this.modalForm.style.display = 'none';\r\n            this.context.dialog.back.style.display = 'none';\r\n            this.context.dialog.modalArea.style.display = 'none';\r\n            this.context.dialog.updateModal = false;\r\n            if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\r\n            this.context.dialog.kind = '';\r\n            this.modalForm = null;\r\n            this.focus();\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: dialog\r\n        });\r\n    }\r\n\r\n    return dialog;\r\n}));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const component = {\r\n        name: 'component',\r\n        /**\r\n         * @description Create a container for the resizing component and insert the element.\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {String} className Class name of container (fixed: se-component)\r\n         * @returns {Element} Created container element\r\n         */\r\n        set_container: function (cover, className) {\r\n            const container = this.util.createElement('DIV');\r\n            container.className = 'se-component ' + className;\r\n            container.setAttribute('contenteditable', false);\r\n            container.appendChild(cover);\r\n    \r\n            return container;\r\n        },\r\n\r\n        /**\r\n         * @description Cover the target element with a FIGURE element.\r\n         * @param {Element} element Target element\r\n         */\r\n        set_cover: function (element) {\r\n            const cover = this.util.createElement('FIGURE');\r\n            cover.appendChild(element);\r\n    \r\n            return cover;\r\n        },\r\n\r\n        /**\r\n         * @description Return HTML string of caption(FIGCAPTION) element\r\n         * @returns {String}\r\n         */\r\n        create_caption: function () {\r\n            const caption = this.util.createElement('FIGCAPTION');\r\n            caption.setAttribute('contenteditable', true);\r\n            caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\r\n            return caption;\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: component\r\n        });\r\n    }\r\n\r\n    return component;\r\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const fileManager = {\r\n        name: 'fileManager',\r\n        _xmlHttp: null,\r\n\r\n        /**\r\n         * @description Upload the file to the server.\r\n         * @param {String} uploadUrl Upload server url\r\n         * @param {Object|null} uploadHeader Request header\r\n         * @param {FormData} formData FormData in body\r\n         * @param {Function|null} callBack Success call back function\r\n         * @param {Function|null} errorCallBack Error call back function\r\n         * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n         */\r\n        upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\r\n            this.showLoading();\r\n            const filePlugin = this.plugins.fileManager;\r\n            const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\r\n\r\n            xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\r\n            xmlHttp.open('post', uploadUrl, true);\r\n            if(uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0){\r\n                for(let key in uploadHeader){\r\n                    xmlHttp.setRequestHeader(key, uploadHeader[key]);\r\n                }\r\n            }\r\n            xmlHttp.send(formData);\r\n        },\r\n\r\n        _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\r\n            if (xmlHttp.readyState === 4) {\r\n                if (xmlHttp.status === 200) {\r\n                    try {\r\n                        callBack(xmlHttp);\r\n                    } catch (e) {\r\n                        throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\r\n                    } finally {\r\n                        this.closeLoading();\r\n                    }\r\n                } else { // exception\r\n                    this.closeLoading();\r\n                    const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\r\n                    if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\r\n                        const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\r\n                        this.functions.noticeOpen(err);\r\n                        throw Error(err);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        \r\n        /**\r\n         * @description Checke the file's information and modify the tag that does not fit the format.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Array} tagNames Tag array to check\r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n         * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n         * @param {Boolean} resizing True if the plugin is using a resizing module\r\n         * @example \r\n         * const modifyHandler = function (tag) {\r\n         *      imagePlugin.onModifyMode.call(this, tag, null);\r\n         *      imagePlugin.openModify.call(this, true);\r\n         *      imagePlugin.update_image.call(this, true, false, true);\r\n         *  }.bind(this);\r\n         *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n         */\r\n        checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\r\n            let tags = [];\r\n            for (let i = 0, len = tagNames.length; i < len; i++) {\r\n                tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\r\n            }\r\n\r\n            const context = this.context[pluginName];\r\n            const infoList = context._infoList;\r\n            const setFileInfo = this.plugins.fileManager.setInfo.bind(this);\r\n\r\n            if (tags.length === infoList.length) {\r\n                // reset\r\n                if (this._componentsInfoReset) {\r\n                    for (let i = 0, len = tags.length; i < len; i++) {\r\n                        setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\r\n                    }\r\n                    return ;\r\n                } else {\r\n                    let infoUpdate = false;\r\n                    for (let i = 0, len = infoList.length, info; i < len; i++) {\r\n                        info = infoList[i];\r\n                        if (tags.filter(function (t) { return info.src === t.src && info.index.toString() === t.getAttribute('data-index'); }).length === 0) {\r\n                            infoUpdate = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    // pass\r\n                    if (!infoUpdate) return;\r\n                }\r\n            }\r\n\r\n            // check\r\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\r\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\r\n            const currentTags = [];\r\n            const infoIndex = [];\r\n            for (let i = 0, len = infoList.length; i < len; i++) {\r\n                infoIndex[i] = infoList[i].index;\r\n            }\r\n            \r\n            for (let i = 0, len = tags.length, tag; i < len; i++) {\r\n                tag = tags[i];\r\n                if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !/FIGURE/i.test(tag.parentElement.nodeName)) {\r\n                    currentTags.push(context._infoIndex);\r\n                    modifyHandler(tag);\r\n                } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\r\n                    currentTags.push(context._infoIndex);\r\n                    tag.removeAttribute('data-index');\r\n                    setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\r\n                } else {\r\n                    currentTags.push(tag.getAttribute('data-index') * 1);\r\n                }\r\n            }\r\n\r\n            for (let i = 0, dataIndex; i < infoList.length; i++) {\r\n                dataIndex = infoList[i].index;\r\n                if (currentTags.indexOf(dataIndex) > -1) continue;\r\n\r\n                infoList.splice(i, 1);\r\n                if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\r\n                i--;\r\n            }\r\n\r\n            if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\r\n        },\r\n\r\n        /**\r\n         * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Element} element \r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         * @param {Object|null} file \r\n         * @param {Boolean} resizing True if the plugin is using a resizing module\r\n         * @example \r\n         * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n         * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n         */\r\n        setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\r\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\r\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\r\n    \r\n            const plguin = this.plugins[pluginName];\r\n            const context = this.context[pluginName];\r\n            const infoList = context._infoList;\r\n            let dataIndex = element.getAttribute('data-index');\r\n            let info = null;\r\n            let state = '';\r\n\r\n            if (!file) {\r\n                file = {\r\n                    'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\r\n                    'size': element.getAttribute('data-file-size') || 0\r\n                };\r\n            }\r\n    \r\n            // create\r\n            if (!dataIndex || this._componentsInfoInit) {\r\n                state = 'create';\r\n                dataIndex = context._infoIndex++;\r\n    \r\n                element.setAttribute('data-index', dataIndex);\r\n                element.setAttribute('data-file-name', file.name);\r\n                element.setAttribute('data-file-size', file.size);\r\n    \r\n                info = {\r\n                    src: element.src,\r\n                    index: dataIndex * 1,\r\n                    name: file.name,\r\n                    size: file.size\r\n                };\r\n    \r\n                infoList.push(info);\r\n            } else { // update\r\n                state = 'update';\r\n                dataIndex *= 1;\r\n    \r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    if (dataIndex === infoList[i].index) {\r\n                        info = infoList[i];\r\n                        break;\r\n                    }\r\n                }\r\n    \r\n                if (!info) {\r\n                    dataIndex = context._infoIndex++;\r\n                    info = { index: dataIndex };\r\n                    infoList.push(info);\r\n                }\r\n    \r\n                info.src = element.src;\r\n                info.name = element.getAttribute(\"data-file-name\");\r\n                info.size = element.getAttribute(\"data-file-size\") * 1;\r\n            }\r\n    \r\n            // method bind\r\n            info.element = element;\r\n            info.delete = plguin.destroy.bind(this, element);\r\n            info.select = function (element) {\r\n                element.scrollIntoView(true);\r\n                this._w.setTimeout(plguin.select.bind(this, element));\r\n            }.bind(this, element);\r\n    \r\n            if (resizing) {\r\n                if (!element.getAttribute('origin-size') && element.naturalWidth) {\r\n                    element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\r\n                }\r\n    \r\n                if (!element.getAttribute('data-origin')) {\r\n                    const container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n                    const cover = this.util.getParentElement(element, 'FIGURE');\r\n        \r\n                    const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\r\n                    const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\r\n                    element.setAttribute('data-origin', w + ',' + h);\r\n                    element.setAttribute('data-size', w + ',' + h);\r\n                }\r\n        \r\n                if (!element.style.width) {\r\n                    const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\r\n                    plguin.onModifyMode.call(this, element, null);\r\n                    plguin.applySize.call(this, size[0], size[1]);\r\n                }\r\n        \r\n                this.context.resizing._resize_plugin = _resize_plugin;\r\n            }\r\n\r\n            if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\r\n        },\r\n\r\n        /**\r\n         * @description Delete info object at \"_infoList\"\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         */\r\n        deleteInfo: function (pluginName, index, uploadEventHandler) {\r\n            if (index >= 0) {\r\n                const infoList = this.context[pluginName]._infoList;\r\n    \r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    if (index === infoList[i].index) {\r\n                        infoList.splice(i, 1);\r\n                        if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n         * @param {String} pluginName Plugin name \r\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n         */\r\n        resetInfo: function (pluginName, uploadEventHandler) {\r\n            const context = this.context[pluginName];\r\n\r\n            if (typeof uploadEventHandler === 'function') {\r\n                const infoList = context._infoList;\r\n                for (let i = 0, len = infoList.length; i < len; i++) {\r\n                    uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\r\n                }\r\n            }\r\n\r\n            context._infoList = [];\r\n            context._infoIndex = 0;\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: fileManager\r\n        });\r\n    }\r\n\r\n    return fileManager;\r\n}));\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'en',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Save',\r\n            font: 'Font',\r\n            formats: 'Formats',\r\n            fontSize: 'Size',\r\n            bold: 'Bold',\r\n            underline: 'Underline',\r\n            italic: 'Italic',\r\n            strike: 'Strike',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Remove Format',\r\n            fontColor: 'Font Color',\r\n            hiliteColor: 'Highlight Color',\r\n            indent: 'Indent',\r\n            outdent: 'Outdent',\r\n            align: 'Align',\r\n            alignLeft: 'Align left',\r\n            alignRight: 'Align right',\r\n            alignCenter: 'Align center',\r\n            alignJustify: 'Align justify',\r\n            list: 'List',\r\n            orderList: 'Ordered list',\r\n            unorderList: 'Unordered list',\r\n            horizontalRule: 'Horizontal line',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Dotted',\r\n            hr_dashed: 'Dashed',\r\n            table: 'Table',\r\n            link: 'Link',\r\n            math: 'Math',\r\n            image: 'Image',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Full screen',\r\n            showBlocks: 'Show blocks',\r\n            codeView: 'Code view',\r\n            undo: 'Undo',\r\n            redo: 'Redo',\r\n            preview: 'Preview',\r\n            print: 'print',\r\n            tag_p: 'Paragraph',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Header',\r\n            tag_blockquote: 'Quote',\r\n            tag_pre: 'Code',\r\n            template: 'Template',\r\n            lineHeight: 'Line height',\r\n            paragraphStyle: 'Paragraph style',\r\n            textStyle: 'Text style',\r\n            imageGallery: 'Image gallery'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Insert Link',\r\n                url: 'URL to link',\r\n                text: 'Text to display',\r\n                newWindowCheck: 'Open in new window'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Mathematical Notation',\r\n                fontSizeLabel: 'Font Size',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Insert image',\r\n                file: 'Select from files',\r\n                url: 'Image URL',\r\n                altText: 'Alternative text'\r\n            },\r\n            videoBox: {\r\n                title: 'Insert Video',\r\n                file: 'Select from files',\r\n                url: 'Media embed URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insert Audio',\r\n                file: 'Select from files',\r\n                url: 'Audio URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Search',\r\n            },\r\n            caption: 'Insert description',\r\n            close: 'Close',\r\n            submitButton: 'Submit',\r\n            revertButton: 'Revert',\r\n            proportion: 'Constrain proportions',\r\n            basic: 'Basic',\r\n            left: 'Left',\r\n            right: 'Right',\r\n            center: 'Center',\r\n            width: 'Width',\r\n            height: 'Height',\r\n            size: 'Size',\r\n            ratio: 'Ratio'\r\n        },\r\n        controller: {\r\n            edit: 'Edit',\r\n            unlink: 'Unlink',\r\n            remove: 'Remove',\r\n            insertRowAbove: 'Insert row above',\r\n            insertRowBelow: 'Insert row below',\r\n            deleteRow: 'Delete row',\r\n            insertColumnBefore: 'Insert column before',\r\n            insertColumnAfter: 'Insert column after',\r\n            deleteColumn: 'Delete column',\r\n            fixedColumnWidth: 'Fixed column width',\r\n            resize100: 'Resize 100%',\r\n            resize75: 'Resize 75%',\r\n            resize50: 'Resize 50%',\r\n            resize25: 'Resize 25%',\r\n            autoSize: 'Auto size',\r\n            mirrorHorizontal: 'Mirror, Horizontal',\r\n            mirrorVertical: 'Mirror, Vertical',\r\n            rotateLeft: 'Rotate left',\r\n            rotateRight: 'Rotate right',\r\n            maxSize: 'Max size',\r\n            minSize: 'Min size',\r\n            tableHeader: 'Table header',\r\n            mergeCells: 'Merge cells',\r\n            splitCells: 'Split Cells',\r\n            HorizontalSplit: 'Horizontal split',\r\n            VerticalSplit: 'Vertical split'\r\n        },\r\n        menu: {\r\n            spaced: 'Spaced',\r\n            bordered: 'Bordered',\r\n            neon: 'Neon',\r\n            translucent: 'Translucent',\r\n            shadow: 'Shadow',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'colorPicker',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: '',\r\n            _colorList: []\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.createColorList(core, this._makeColorList);\r\n\r\n        /** caching */\r\n        context.colorPicker.colorListHTML = listDiv;\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\r\n    createColorList: function (core, makeColor) {\r\n        const option = core.context.option;\r\n        const lang = core.lang;\r\n        const colorList = !option.colorList || option.colorList.length === 0 ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000',\r\n                '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1',\r\n                '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd',\r\n                '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535',\r\n                '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let colorArr = [];\r\n        let list = '<div class=\"se-list-inner\">';\r\n            for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n                color = colorList[i];\r\n                if (!color) continue;\r\n                \r\n                if (typeof color === 'string') {\r\n                    colorArr.push(color);\r\n                    if (i < len - 1) continue;\r\n                }\r\n                if (colorArr.length > 0) {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\r\n                    colorArr = [];\r\n                }\r\n                if (typeof color === 'object') {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\r\n                }\r\n            }\r\n            list += '' +\r\n            '<form class=\"se-submenu-form-group\">' +\r\n                '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' +\r\n                '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' +\r\n                    core.icons.checked +\r\n                '</button>' +\r\n                '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' +\r\n                    core.icons.erase +\r\n                '</button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n\r\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\r\n    _makeColorList: function (colorList) {\r\n        let list = '';\r\n\r\n        list += '<ul class=\"se-color-pallet\">';\r\n        for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n            color = colorList[i];\r\n            if (typeof color === 'string') {\r\n                list += '<li>' +\r\n                            '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                        '</li>';\r\n            }\r\n        }\r\n        list += '</ul>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\r\n\r\n        const colorList = this.context.colorPicker._colorList;\r\n        if (colorList) {\r\n            for (let i = 0, len = colorList.length; i < len; i++) {\r\n                if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\r\n                    this.util.addClass(colorList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(colorList[i], 'active');\r\n                }\r\n            }\r\n        }\r\n\r\n        colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\r\n    },\r\n\r\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setInputText: function (hexColorStr) {\r\n        hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\r\n        this.context.colorPicker._colorInput.value = hexColorStr;\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\r\n    getColorInNode: function (node) {\r\n        let findColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgbMatch && rgbMatch.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgbMatch[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[3],10).toString(16)).slice(-2) : '';\r\n    },\r\n\r\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\r\n    colorName2hex: function (colorName) {\r\n        if (/^#/.test(colorName)) return colorName;\r\n        var temp = this.util.createElement('div');\r\n        temp.style.display = 'none';\r\n        temp.style.color = colorName;\r\n        var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) { return parseInt(a,10); });\r\n        this.util.removeItem(temp);\r\n        return (colors.length >= 3) ? '#' + (((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)) : false;\r\n    }\r\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const resizing = {\r\n        name: 'resizing',\r\n        /**\r\n         * @description Constructor\r\n         * Require context properties when resizing module\r\n            inputX: Element,\r\n            inputY: Element,\r\n            _container: null,\r\n            _cover: null,\r\n            _element: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\r\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\r\n            _proportionChecked: true,\r\n            // -- select function --\r\n            _resizing: context.option.imageResizing,\r\n            _resizeDotHide: !context.option.imageHeightShow,\r\n            _rotation: context.option.imageRotation,\r\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1\r\n            _captionShow: true,\r\n            // -- when used caption (_captionShow: true) --\r\n            _caption: null,\r\n            _captionChecked: false,\r\n            captionCheckEl: null,\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const icons = core.icons;\r\n            const context = core.context;\r\n            context.resizing = {\r\n                _resizeClientX: 0,\r\n                _resizeClientY: 0,\r\n                _resize_plugin: '',\r\n                _resize_w: 0,\r\n                _resize_h: 0,\r\n                _origin_w: 0,\r\n                _origin_h: 0,\r\n                _rotateVertical: false,\r\n                _resize_direction: '',\r\n                _move_path: null,\r\n                _isChange: false,\r\n                alignIcons: {\r\n                    basic: icons.align_justify,\r\n                    left: icons.align_left,\r\n                    right: icons.align_right,\r\n                    center: icons.align_center\r\n                }\r\n            };\r\n    \r\n            /** resize controller, button */\r\n            let resize_div_container = this.setController_resize.call(core);\r\n            context.resizing.resizeContainer = resize_div_container;\r\n    \r\n            context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\r\n            context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\r\n            context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\r\n    \r\n            let resize_button = this.setController_button.call(core);\r\n            context.resizing.resizeButton = resize_button;\r\n    \r\n            let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\r\n            context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\r\n            context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\r\n            context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\r\n    \r\n            context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\r\n            context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\r\n    \r\n            context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\r\n            context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\r\n            context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\r\n    \r\n            /** add event listeners */\r\n            resize_div_container.addEventListener('mousedown', function (e) { e.preventDefault(); });\r\n            resize_button.addEventListener('mousedown', core.eventStop);\r\n            resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\r\n            resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\r\n    \r\n            /** append html */\r\n            context.element.relative.appendChild(resize_div_container);\r\n            context.element.relative.appendChild(resize_button);\r\n    \r\n            /** empty memory */\r\n            resize_div_container = null, resize_button = null, resize_handles = null;\r\n        },\r\n    \r\n        /** resize controller, button (image, iframe, video) */\r\n        setController_resize: function () {\r\n            const resize_container = this.util.createElement('DIV');\r\n            \r\n            resize_container.className = 'se-controller se-resizing-container';\r\n            resize_container.style.display = 'none';\r\n            resize_container.innerHTML = '' +\r\n                '<div class=\"se-modal-resize\"></div>' +\r\n                '<div class=\"se-resize-dot\">' +\r\n                    '<span class=\"tl\"></span>' +\r\n                    '<span class=\"tr\"></span>' +\r\n                    '<span class=\"bl\"></span>' +\r\n                    '<span class=\"br\"></span>' +\r\n                    '<span class=\"lw\"></span>' +\r\n                    '<span class=\"th\"></span>' +\r\n                    '<span class=\"rw\"></span>' +\r\n                    '<span class=\"bh\"></span>' +\r\n                    '<div class=\"se-resize-display\"></div>' +\r\n                '</div>';\r\n    \r\n            return resize_container;\r\n        },\r\n    \r\n        setController_button: function () {\r\n            const lang = this.lang;\r\n            const icons = this.icons;\r\n            const resize_button = this.util.createElement(\"DIV\");\r\n    \r\n            resize_button.className = \"se-controller se-controller-resizing\";\r\n            resize_button.innerHTML = '' +\r\n                '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n                '<div class=\"se-btn-group _se_resizing_btn_group\">' +\r\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' +\r\n                        '<span>100%</span>' +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' +\r\n                        '<span>75%</span>' +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' +\r\n                        '<span>50%</span>' +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' +\r\n                        icons.auto_size +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' +\r\n                        icons.rotate_left +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' +\r\n                        icons.rotate_right +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n                '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' +\r\n                        icons.mirror_horizontal +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' +\r\n                        icons.mirror_vertical +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' +\r\n                        icons.align_justify +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' +\r\n                    '</button>' +\r\n                    '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' +\r\n                        '<div class=\"se-list-inner\">' +\r\n                            '<ul class=\"se-list-basic\">' +\r\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' +\r\n                                    icons.align_justify +\r\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' +\r\n                                '</button></li>' +\r\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' +\r\n                                    icons.align_left +\r\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' +\r\n                                '</button></li>' +\r\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' +\r\n                                    icons.align_center +\r\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' +\r\n                                '</button></li>' +\r\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' +\r\n                                    icons.align_right +\r\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' +\r\n                                '</button></li>' +\r\n                            '</ul>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                    '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' +\r\n                        icons.caption +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' +\r\n                        icons.revert +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' +\r\n                        icons.modify +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>';\r\n    \r\n            return resize_button;\r\n        },\r\n    \r\n        /**\r\n         * @description Gets the width size\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Element} element Target element\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {Element} container Container element (DIV.se-component)\r\n         * @returns {String}\r\n         */\r\n        _module_getSizeX: function (contextPlugin, element, cover, container) {\r\n            if (!element) element = contextPlugin._element;\r\n            if (!cover) cover = contextPlugin._cover;\r\n            if (!container) container = contextPlugin._container;\r\n    \r\n            if (!element) return '';\r\n    \r\n            return !/%$/.test(element.style.width) ? element.style.width : ((container && this.util.getNumber(container.style.width, 2)) || 100) + '%';\r\n        },\r\n    \r\n        /**\r\n         * @description Gets the height size\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Element} element Target element\r\n         * @param {Element} cover Cover element (FIGURE)\r\n         * @param {Element} container Container element (DIV.se-component)\r\n         * @returns {String}\r\n         */\r\n        _module_getSizeY: function (contextPlugin, element, cover, container) {\r\n            if (!element) element = contextPlugin._element;\r\n            if (!cover) cover = contextPlugin._cover;\r\n            if (!container) container = contextPlugin._container;\r\n    \r\n            if (!container || !cover) return (element && element.style.height) || '';\r\n    \r\n            return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : (!/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : ((container && this.util.getNumber(container.style.height, 2)) || 100) + '%');\r\n        },\r\n\r\n        /**\r\n         * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {Object} pluginObj Plugin object\r\n         */\r\n        _module_setModifyInputSize: function (contextPlugin, pluginObj) {\r\n            const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\r\n            contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\r\n    \r\n            let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\r\n            if (x === contextPlugin._defaultSizeX) x = '';\r\n            if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\r\n            contextPlugin.inputX.value = x;\r\n            pluginObj.setInputSize.call(this, 'x');\r\n            \r\n            if (!contextPlugin._onlyPercentage) {\r\n                let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\r\n                if (y === contextPlugin._defaultSizeY) y = '';\r\n                if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\r\n                contextPlugin.inputY.value = y;\r\n            }\r\n            \r\n            contextPlugin.inputX.disabled = percentageRotation ? true : false;\r\n            contextPlugin.inputY.disabled = percentageRotation ? true : false;\r\n            contextPlugin.proportion.disabled = percentageRotation ? true : false;\r\n    \r\n            pluginObj.setRatio.call(this);\r\n        },\r\n    \r\n        /**\r\n         * @description It is called in \"setInputSize\" (input tag keyupEvent), \r\n         * checks the value entered in the input tag, \r\n         * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         * @param {String} xy 'x': width, 'y': height\r\n         */\r\n        _module_setInputSize: function (contextPlugin, xy) {\r\n            if (contextPlugin._onlyPercentage) {\r\n                if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\r\n                return;\r\n            }\r\n    \r\n            if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\r\n                const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n                const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n    \r\n                if (xUnit !== yUnit) return;\r\n    \r\n                const dec = xUnit === '%' ? 2 : 0;\r\n    \r\n                if (xy === 'x') {\r\n                    contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\r\n                } else {\r\n                    contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\r\n                }\r\n            }\r\n        },\r\n    \r\n        /**\r\n         * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \r\n         * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_setRatio: function (contextPlugin) {\r\n            const xValue = contextPlugin.inputX.value;\r\n            const yValue = contextPlugin.inputY.value;\r\n    \r\n            if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\r\n                const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n                const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\r\n    \r\n                if (xUnit !== yUnit) {\r\n                    contextPlugin._ratio = false;\r\n                } else if (!contextPlugin._ratio) {\r\n                    const x = this.util.getNumber(xValue, 0);\r\n                    const y = this.util.getNumber(yValue, 0);\r\n    \r\n                    contextPlugin._ratio = true;\r\n                    contextPlugin._ratioX = x / y;\r\n                    contextPlugin._ratioY = y / x;\r\n                }\r\n            } else {\r\n                contextPlugin._ratio = false;\r\n            }\r\n        },\r\n    \r\n        /**\r\n         * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_sizeRevert: function (contextPlugin) {\r\n            if (contextPlugin._onlyPercentage) {\r\n                contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\r\n            } else {\r\n                contextPlugin.inputX.value = contextPlugin._origin_w;\r\n                contextPlugin.inputY.value = contextPlugin._origin_h;\r\n            }\r\n        },\r\n    \r\n        /**\r\n         * @description Save the size data (element.setAttribute(\"data-size\"))\r\n         * Used at the \"setSize\" method\r\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n         */\r\n        _module_saveCurrentSize: function (contextPlugin) {\r\n            const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\r\n            const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\r\n            contextPlugin._element.setAttribute('data-size', x + ',' + y);\r\n            if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\r\n        },\r\n    \r\n        /**\r\n         * @description Call the resizing module\r\n         * @param {Element} targetElement Resizing target element\r\n         * @param {string} plugin Plugin name\r\n         * @returns {Object} Size of resizing div {w, h, t, l}\r\n         */\r\n        call_controller_resize: function (targetElement, plugin) {\r\n            const contextResizing = this.context.resizing;\r\n            const contextPlugin = this.context[plugin];\r\n            contextResizing._resize_plugin = plugin;\r\n    \r\n            const resizeContainer = contextResizing.resizeContainer;\r\n            const resizeDiv = contextResizing.resizeDiv;\r\n            const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\r\n    \r\n            const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\r\n    \r\n            const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\r\n            const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\r\n            const t = offset.top;\r\n            const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\r\n    \r\n            resizeContainer.style.top = t + 'px';\r\n            resizeContainer.style.left = l + 'px';\r\n            resizeContainer.style.width = w + 'px';\r\n            resizeContainer.style.height = h + 'px';\r\n    \r\n            resizeDiv.style.top = '0px';\r\n            resizeDiv.style.left = '0px';\r\n            resizeDiv.style.width =  w + 'px';\r\n            resizeDiv.style.height =  h + 'px';\r\n    \r\n            let align = targetElement.getAttribute('data-align') || 'basic';\r\n            align = align === 'none' ? 'basic' : align;\r\n    \r\n            // text\r\n            const container = this.util.getParentElement(targetElement, this.util.isComponent);\r\n            const cover = this.util.getParentElement(targetElement, 'FIGURE');\r\n            const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\r\n            const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\r\n            this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')');\r\n    \r\n            // resizing display\r\n            contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\r\n            const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\r\n            const resizeHandles = contextResizing.resizeHandles;\r\n            for (let i = 0, len = resizeHandles.length; i < len; i++) {\r\n                resizeHandles[i].style.display = resizeDotShow;\r\n            }\r\n    \r\n            if (contextPlugin._resizing) {\r\n                const rotations = contextResizing.rotationButtons;\r\n                rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\r\n            }\r\n    \r\n            // align icon\r\n            const alignList = contextResizing.alignMenuList;\r\n            this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\r\n            for (let i = 0, len = alignList.length; i < len; i++) {\r\n                if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');\r\n                else this.util.removeClass(alignList[i], 'on');\r\n            }\r\n    \r\n            // percentage active\r\n            const pButtons = contextResizing.percentageButtons;\r\n            const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? (this.util.getNumber(container.style.width, 0) / 100) + '' : '' ;\r\n            for (let i = 0, len = pButtons.length; i < len; i++) {\r\n                if (pButtons[i].getAttribute('data-value') === value) {\r\n                    this.util.addClass(pButtons[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(pButtons[i], 'active');\r\n                }\r\n            }\r\n    \r\n            // caption display, active\r\n            if (!contextPlugin._captionShow) {\r\n                contextResizing.captionButton.style.display = 'none';\r\n            } else {\r\n                contextResizing.captionButton.style.display = '';\r\n                if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\r\n                    this.util.addClass(contextResizing.captionButton, 'active');\r\n                    contextPlugin._captionChecked = true;\r\n                } else {\r\n                    this.util.removeClass(contextResizing.captionButton, 'active');\r\n                    contextPlugin._captionChecked = false;\r\n                }\r\n            }\r\n\r\n            if (this.currentControllerName !== plugin) {\r\n                this.util.setDisabledButtons(true, this.resizingDisabledButtons);\r\n                this.controllersOn(contextResizing.resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\r\n            }\r\n    \r\n            // button group\r\n            const overLeft = this.context.element.wysiwygFrame.offsetWidth - l - contextResizing.resizeButton.offsetWidth;\r\n    \r\n            contextResizing.resizeButton.style.top = (h + t + 60) + 'px';\r\n            contextResizing.resizeButton.style.left = (l + (overLeft < 0 ? overLeft : 0)) + 'px';\r\n    \r\n            if (overLeft < 0) {\r\n                contextResizing.resizeButton.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n            } else {\r\n                contextResizing.resizeButton.firstElementChild.style.left = '20px';\r\n            }\r\n    \r\n            contextResizing._resize_w = w;\r\n            contextResizing._resize_h = h;\r\n    \r\n            const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\r\n            contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\r\n            contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\r\n    \r\n            return {\r\n                w: w,\r\n                h: h,\r\n                t: t,\r\n                l: l\r\n            };\r\n        },\r\n    \r\n        _closeAlignMenu: null,\r\n\r\n        /**\r\n         * @description Open align submenu of module\r\n         */\r\n        openAlignMenu: function () {\r\n            this.util.addClass(this.context.resizing.alignButton, 'on');\r\n            this.context.resizing.alignMenu.style.display = 'block';\r\n    \r\n            this.plugins.resizing._closeAlignMenu = function () {\r\n                this.util.removeClass(this.context.resizing.alignButton, 'on');\r\n                this.context.resizing.alignMenu.style.display = 'none';\r\n                this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\r\n                this.plugins.resizing._closeAlignMenu = null;\r\n            }.bind(this);\r\n    \r\n            this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\r\n        },\r\n    \r\n        /**\r\n         * @description Click event of resizing toolbar\r\n         * Performs the action of the clicked toolbar button.\r\n         * @param {MouseEvent} e Event object\r\n         */\r\n        onClick_resizeButton: function (e) {\r\n            e.stopPropagation();\r\n    \r\n            const target = e.target;\r\n            const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\r\n    \r\n            if (!command) return;\r\n    \r\n            const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\r\n    \r\n            const pluginName = this.context.resizing._resize_plugin;\r\n            const currentContext = this.context[pluginName];\r\n            const contextEl = currentContext._element;\r\n            const currentModule = this.plugins[pluginName];\r\n    \r\n            e.preventDefault();\r\n    \r\n            if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\r\n                this.plugins.resizing._closeAlignMenu();\r\n                if (command === 'onalign') return;\r\n            }\r\n    \r\n            switch (command) {\r\n                case 'auto':\r\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\r\n                    currentModule.setAutoSize.call(this);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'percent':\r\n                    let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\r\n                    if (this.context.resizing._rotateVertical) {\r\n                        const percentage = contextEl.getAttribute('data-percentage');\r\n                        if (percentage) percentY = percentage.split(',')[1];\r\n                    }\r\n    \r\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\r\n                    currentModule.setPercentSize.call(this, (value * 100), (this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY)) ? '' : percentY);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'mirror':\r\n                    const r = contextEl.getAttribute('data-rotate') || '0';\r\n                    let x = contextEl.getAttribute('data-rotateX') || '';\r\n                    let y = contextEl.getAttribute('data-rotateY') || '';\r\n        \r\n                    if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\r\n                        y = y ? '' : '180';\r\n                    } else {\r\n                        x = x ? '' : '180';\r\n                    }\r\n        \r\n                    contextEl.setAttribute('data-rotateX', x);\r\n                    contextEl.setAttribute('data-rotateY', y);\r\n        \r\n                    this.plugins.resizing._setTransForm(contextEl, r, x, y);\r\n                    break;\r\n                case 'rotate':\r\n                    const contextResizing = this.context.resizing;\r\n                    const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\r\n                    const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\r\n        \r\n                    contextEl.setAttribute('data-rotate', deg);\r\n                    contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\r\n                    this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\r\n        \r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'onalign':\r\n                    this.plugins.resizing.openAlignMenu.call(this);\r\n                    return;\r\n                case 'align':\r\n                    const alignValue = value === 'basic' ? 'none' : value;\r\n                    currentModule.setAlign.call(this, alignValue, null, null, null);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'caption':\r\n                    const caption = !currentContext._captionChecked;\r\n                    currentModule.openModify.call(this, true);\r\n                    currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\r\n    \r\n                    currentModule.update_image.call(this, false, false, false);\r\n    \r\n                    if (caption) {\r\n                        const captionText = this.util.getChildElement(currentContext._caption, function (current) {\r\n                            return current.nodeType === 3;\r\n                        });\r\n    \r\n                        if (!captionText) {\r\n                            currentContext._caption.focus();\r\n                        } else {\r\n                            this.setRange(captionText, 0, captionText, captionText.textContent.length);\r\n                        }\r\n    \r\n                        this.controllersOff();\r\n                    } else {\r\n                        this.selectComponent(contextEl, pluginName);\r\n                        currentModule.openModify.call(this, true);\r\n                    }\r\n    \r\n                    break;\r\n                case 'revert':\r\n                    currentModule.setOriginSize.call(this);\r\n                    this.selectComponent(contextEl, pluginName);\r\n                    break;\r\n                case 'update':\r\n                    currentModule.openModify.call(this);\r\n                    this.controllersOff();\r\n                    break;\r\n                case 'delete':\r\n                    currentModule.destroy.call(this);\r\n                    break;\r\n            }\r\n    \r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n    \r\n        /**\r\n         * @description Initialize the transform style (rotation) of the element.\r\n         * @param {Element} element Target element\r\n         */\r\n        resetTransform: function (element) {\r\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\r\n            this.context.resizing._rotateVertical = false;\r\n    \r\n            element.style.maxWidth = '';\r\n            element.style.transform = '';\r\n            element.style.transformOrigin = '';\r\n            element.setAttribute('data-rotate', '');\r\n            element.setAttribute('data-rotateX', '');\r\n            element.setAttribute('data-rotateY', '');\r\n    \r\n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\r\n        },\r\n    \r\n        /**\r\n         * @description Set the transform style (rotation) of the element.\r\n         * @param {Element} element Target element\r\n         * @param {Number|null} width Element's width size\r\n         * @param {Number|null} height Element's height size\r\n         */\r\n        setTransformSize: function (element, width, height) {\r\n            let percentage = element.getAttribute('data-percentage');\r\n            const isVertical = this.context.resizing._rotateVertical;\r\n            const deg = element.getAttribute('data-rotate') * 1;\r\n            let transOrigin = '';\r\n    \r\n            if (percentage && !isVertical) {\r\n                percentage = percentage.split(',');\r\n                if (percentage[0] === 'auto' && percentage[1] === 'auto') {\r\n                    this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\r\n                } else {\r\n                    this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\r\n                }\r\n            } else {\r\n                const cover = this.util.getParentElement(element, 'FIGURE');\r\n        \r\n                const offsetW = width || element.offsetWidth;\r\n                const offsetH = height || element.offsetHeight;\r\n                const w = (isVertical ? offsetH : offsetW) + 'px';\r\n                const h = (isVertical ? offsetW : offsetH) + 'px';\r\n        \r\n                this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\r\n                this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\r\n        \r\n                cover.style.width = w;\r\n                cover.style.height = (!!this.context[this.context.resizing._resize_plugin]._caption ? '' : h);\r\n    \r\n                if (isVertical) {\r\n                    let transW = (offsetW/2) + 'px ' + (offsetW/2) + 'px 0';\r\n                    let transH = (offsetH/2) + 'px ' + (offsetH/2) + 'px 0';\r\n                    transOrigin = deg === 90 || deg === -270 ? transH : transW;\r\n                }\r\n            }\r\n    \r\n            element.style.transformOrigin = transOrigin;\r\n            this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\r\n            \r\n            if (isVertical) element.style.maxWidth = 'none';\r\n            else element.style.maxWidth = '';\r\n    \r\n            this.plugins.resizing.setCaptionPosition.call(this, element);\r\n        },\r\n    \r\n        _setTransForm: function (element, r, x, y) {\r\n            let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\r\n            let translate = '';\r\n    \r\n            if (/[1-9]/.test(r) && (x || y)) {\r\n                translate = x ? 'Y' : 'X';\r\n    \r\n                switch (r) {\r\n                    case '90':\r\n                        translate = x && y ? 'X' : y ? translate : '';\r\n                        break;\r\n                    case '270':\r\n                        width *= -1;\r\n                        translate = x && y ? 'Y' : x ? translate : '';\r\n                        break;\r\n                    case '-90':\r\n                        translate = x && y ? 'Y' : x ? translate : '';\r\n                        break;\r\n                    case '-270':\r\n                        width *= -1;\r\n                        translate = x && y ? 'X' : y ? translate : '';\r\n                        break;\r\n                    default:\r\n                        translate = '';\r\n                }\r\n            }\r\n    \r\n            if (r % 180 === 0) {\r\n                element.style.maxWidth = '';\r\n            }\r\n            \r\n            element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\r\n        },\r\n    \r\n        /**\r\n         * @description The position of the caption is set automatically.\r\n         * @param {Element} element Target element (not caption element)\r\n         */\r\n        setCaptionPosition: function (element) {\r\n            const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\r\n            if (figcaption) {\r\n                figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\r\n            }\r\n        },\r\n    \r\n        /**\r\n         * @description Mouse down event of resize handles\r\n         * @param {MouseEvent} e Event object \r\n         */\r\n        onMouseDown_resize_handle: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            \r\n            const contextResizing = this.context.resizing;\r\n            const direction = contextResizing._resize_direction = e.target.classList[0];\r\n    \r\n            contextResizing._resizeClientX = e.clientX;\r\n            contextResizing._resizeClientY = e.clientY;\r\n            this.context.element.resizeBackground.style.display = 'block';\r\n            contextResizing.resizeButton.style.display = 'none';\r\n            contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\r\n    \r\n            const closureFunc_bind = function closureFunc(e) {\r\n                if (e.type === 'keydown' && e.keyCode !== 27) return;\r\n    \r\n                const change = contextResizing._isChange;\r\n                contextResizing._isChange = false;\r\n    \r\n                this.removeDocEvent('mousemove', resizing_element_bind);\r\n                this.removeDocEvent('mouseup', closureFunc_bind);\r\n                this.removeDocEvent('keydown', closureFunc_bind);\r\n                \r\n                if (e.type === 'keydown') {\r\n                    this.controllersOff();\r\n                    this.context.element.resizeBackground.style.display = 'none';\r\n                    this.plugins[this.context.resizing._resize_plugin].init.call(this);\r\n                } else {\r\n                    // element resize\r\n                    this.plugins.resizing.cancel_controller_resize.call(this, direction);\r\n                    // history stack\r\n                    if (change) this.history.push(false);\r\n                }\r\n            }.bind(this);\r\n    \r\n            const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\r\n            this.addDocEvent('mousemove', resizing_element_bind);\r\n            this.addDocEvent('mouseup', closureFunc_bind);\r\n            this.addDocEvent('keydown', closureFunc_bind);\r\n        },\r\n    \r\n        /**\r\n         * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n         * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n         * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n         * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n         * @param {MouseEvent} e Event object\r\n         */\r\n        resizing_element: function (contextResizing, direction, plugin, e) {\r\n            const clientX = e.clientX;\r\n            const clientY = e.clientY;\r\n    \r\n            let resultW = plugin._element_w;\r\n            let resultH = plugin._element_h;\r\n    \r\n            const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\r\n            const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\r\n            const wh = ((plugin._element_h / plugin._element_w) * w);\r\n    \r\n            if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\r\n            if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\r\n    \r\n            if (/r|l/.test(direction)) {\r\n                contextResizing.resizeDiv.style.width = w + 'px';\r\n                resultW = w;\r\n            }\r\n    \r\n            if (/^(t|b)[^h]$/.test(direction)) {\r\n                contextResizing.resizeDiv.style.height = wh + 'px';\r\n                resultH = wh;\r\n            }\r\n            else if (/^(t|b)h$/.test(direction)) {\r\n                contextResizing.resizeDiv.style.height = h + 'px';\r\n                resultH = h;\r\n            }\r\n    \r\n            contextResizing._resize_w = resultW;\r\n            contextResizing._resize_h = resultH;\r\n            this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\r\n            contextResizing._isChange = true;\r\n        },\r\n    \r\n        /**\r\n         * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n         * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n         */\r\n        cancel_controller_resize: function (direction) {\r\n            const isVertical = this.context.resizing._rotateVertical;\r\n            this.controllersOff();\r\n            this.context.element.resizeBackground.style.display = 'none';\r\n    \r\n            let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\r\n            let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\r\n    \r\n            if (!isVertical && !/%$/.test(w)) {\r\n                const padding = 16;\r\n                const limit = this.context.element.wysiwygFrame.clientWidth - (padding * 2) - 2;\r\n                \r\n                if (this.util.getNumber(w, 0) > limit) {\r\n                    h = this._w.Math.round((h / w) * limit);\r\n                    w = limit;\r\n                }\r\n            }\r\n    \r\n            const pluginName = this.context.resizing._resize_plugin;\r\n            this.plugins[pluginName].setSize.call(this, w, h, false, direction);\r\n            this.selectComponent(this.context[pluginName]._element, pluginName);\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: resizing\r\n        });\r\n    }\r\n\r\n    return resizing;\r\n}));\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const fileBrowser = {\r\n        name: 'fileBrowser',\r\n        _xmlHttp: null,\r\n        _loading: null,\r\n\r\n        /**\r\n         * @description Constructor\r\n         * @param {Object} core Core object \r\n         */\r\n        add: function (core) {\r\n            const context = core.context;\r\n            context.fileBrowser = {\r\n                _closeSignal: false,\r\n                area: null,\r\n                header: null,\r\n                tagArea: null,\r\n                body: null,\r\n                list: null,\r\n                tagElements: null,\r\n                items: [],\r\n                selectedTags: [],\r\n                selectorHandler: null,\r\n                contextPlugin: '',\r\n                columnSize: 4\r\n            };\r\n\r\n            /** fileBrowser */\r\n            let browser_div = core.util.createElement('DIV');\r\n            browser_div.className = 'se-file-browser sun-editor-common';\r\n\r\n            let back = core.util.createElement('DIV');\r\n            back.className = 'se-file-browser-back';\r\n\r\n            let content = core.util.createElement('DIV');\r\n            content.className = 'se-file-browser-inner';\r\n            content.innerHTML = this.set_browser(core);\r\n\r\n            browser_div.appendChild(back);\r\n            browser_div.appendChild(content);\r\n            this._loading = browser_div.querySelector('.se-loading-box');\r\n\r\n            context.fileBrowser.area = browser_div;\r\n            context.fileBrowser.header = content.querySelector('.se-file-browser-header');\r\n            context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\r\n            context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\r\n            context.fileBrowser.body = content.querySelector('.se-file-browser-body');\r\n            context.fileBrowser.list = content.querySelector('.se-file-browser-list');\r\n\r\n            /** add event listeners */\r\n            context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\r\n            context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\r\n            content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\r\n            content.addEventListener('click', this._onClick_browser.bind(core));\r\n            \r\n            /** append html */\r\n            context.element.relative.appendChild(browser_div);\r\n            \r\n            /** empty memory */\r\n            browser_div = null, back = null, content = null;\r\n        },\r\n\r\n        set_browser: function (core) {\r\n            const lang = core.lang;\r\n\r\n            return '<div class=\"se-file-browser-content\">' +\r\n                    '<div class=\"se-file-browser-header\">' +\r\n                        '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                        core.icons.cancel +\r\n                        '</button>' +\r\n                        '<span class=\"se-file-browser-title\"></span>' +\r\n                        '<div class=\"se-file-browser-tags\"></div>' +\r\n                    '</div>' +\r\n                    '<div class=\"se-file-browser-body\">' +\r\n                        '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' +\r\n                        '<div class=\"se-file-browser-list\"></div>' +\r\n                    '</div>' +\r\n                '</div>';\r\n        },\r\n\r\n        /**\r\n         * @description Event to control the behavior of closing the browser\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onMouseDown_browser: function (e) {\r\n            if (/se-file-browser-inner/.test(e.target.className)) {\r\n                this.context.fileBrowser._closeSignal = true;\r\n            } else {\r\n                this.context.fileBrowser._closeSignal = false;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Event to close the window when the outside area of the browser or close button is click\r\n         * @param {MouseEvent} e Event object\r\n         * @private\r\n         */\r\n        _onClick_browser: function (e) {\r\n            e.stopPropagation();\r\n\r\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\r\n                this.plugins.fileBrowser.close.call(this);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a file browser plugin\r\n         * @param {String} pluginName Plugin name using the file browser\r\n         * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n         */\r\n        open: function (pluginName, selectorHandler)  {\r\n            if (this.plugins.fileBrowser._bindClose) {\r\n                this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\r\n                this.plugins.fileBrowser._bindClose = null;\r\n            }\r\n\r\n            this.plugins.fileBrowser._bindClose = function (e) {\r\n                if (!/27/.test(e.keyCode)) return;\r\n                this.plugins.fileBrowser.close.call(this);\r\n            }.bind(this);\r\n            this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            fileBrowserContext.contextPlugin = pluginName;\r\n            fileBrowserContext.selectorHandler = selectorHandler;\r\n            \r\n            const pluginContext = this.context[pluginName];\r\n            const listClassName = pluginContext.listClass;\r\n            if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\r\n                fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\r\n            }\r\n\r\n            if (this.context.option.popupDisplay === 'full') {\r\n                fileBrowserContext.area.style.position = 'fixed';\r\n            } else {\r\n                fileBrowserContext.area.style.position = 'absolute';\r\n            }\r\n            \r\n            fileBrowserContext.titleArea.textContent = pluginContext.title;\r\n            fileBrowserContext.area.style.display = 'block';\r\n\r\n            this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url);\r\n        },\r\n\r\n        _bindClose: null,\r\n        \r\n        /**\r\n         * @description Close a fileBrowser plugin\r\n         * The plugin's \"init\" method is called.\r\n         */\r\n        close: function () {\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n\r\n            if (fileBrowserPlugin._xmlHttp) {\r\n                fileBrowserPlugin._xmlHttp.abort();\r\n            }\r\n\r\n            if (fileBrowserPlugin._bindClose) {\r\n                this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\r\n                fileBrowserPlugin._bindClose = null;\r\n            }\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            fileBrowserContext.area.style.display = 'none';\r\n            fileBrowserContext.selectorHandler = null;\r\n            fileBrowserContext.selectedTags = [];\r\n            fileBrowserContext.items = [];\r\n            fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\r\n\r\n            if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\r\n            fileBrowserContext.contextPlugin = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show file browser loading box\r\n         */\r\n        showBrowserLoading: function () {\r\n            this._loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close file browser loading box\r\n         */\r\n        closeBrowserLoading: function () {\r\n            this._loading.style.display = 'none';\r\n        },\r\n\r\n        _drawFileList: function (url) {\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n\r\n            const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\r\n            xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\r\n            xmlHttp.open('get', url, true);\r\n            xmlHttp.send(null);\r\n\r\n            this.plugins.fileBrowser.showBrowserLoading();\r\n        },\r\n\r\n        _callBackGet: function (xmlHttp) {\r\n            if (xmlHttp.readyState === 4) {\r\n                this.plugins.fileBrowser._xmlHttp = null;\r\n                if (xmlHttp.status === 200) {\r\n                    try {\r\n                        this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\r\n                    } catch (e) {\r\n                        throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\r\n                    } finally {\r\n                        this.plugins.fileBrowser.closeBrowserLoading();\r\n                        this.context.fileBrowser.body.style.maxHeight = (this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n                    }\r\n                } else { // exception\r\n                    this.plugins.fileBrowser.closeBrowserLoading();\r\n                    if (xmlHttp.status !== 0) {\r\n                        const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\r\n                        const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\r\n                        throw Error(err);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _drawListItem: function (items, update) {\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            const pluginContext = this.context[fileBrowserContext.contextPlugin];\r\n\r\n            const _tags = [];\r\n            const len = items.length;\r\n            const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\r\n            const splitSize = columnSize <= 1 ? 1 : (Math.round(len/columnSize) || 1);\r\n            const drawItemHandler = pluginContext.itemTemplateHandler;\r\n            \r\n            let tagsHTML = '';\r\n            let listHTML = '<div class=\"se-file-item-column\">';\r\n            let columns = 1;\r\n            for (let i = 0, item, tags; i < len; i++) {\r\n                item = items[i];\r\n                tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\r\n                tags = item.tag = tags.map(function (v) { return v.trim(); });\r\n                listHTML += drawItemHandler(item);\r\n\r\n                if ((i + 1) % splitSize === 0 && columns < columnSize && (i + 1) < len) {\r\n                    columns++;\r\n                    listHTML += '</div><div class=\"se-file-item-column\">';\r\n                }\r\n                \r\n                if (update && tags.length > 0) {\r\n                    for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\r\n                        tag = tags[t];\r\n                        if (tag && _tags.indexOf(tag) === -1) {\r\n                            _tags.push(tag);\r\n                            tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            listHTML += '</div>';\r\n\r\n            fileBrowserContext.list.innerHTML = listHTML;\r\n\r\n            if (update) {\r\n                fileBrowserContext.items = items;\r\n                fileBrowserContext.tagArea.innerHTML = tagsHTML;\r\n                fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\r\n            }\r\n        },\r\n\r\n        onClickTag: function (e) {\r\n            const target = e.target;\r\n            if (!this.util.isAnchor(target)) return;\r\n\r\n            const tagName = target.textContent;\r\n            const fileBrowserPlugin = this.plugins.fileBrowser;\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n\r\n            const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\r\n            const selectedTags = fileBrowserContext.selectedTags;\r\n            const sTagIndex = selectedTags.indexOf(tagName);\r\n\r\n            if (sTagIndex > -1){\r\n                selectedTags.splice(sTagIndex, 1);\r\n                this.util.removeClass(selectTag, 'on');\r\n            } else {\r\n                selectedTags.push(tagName);\r\n                this.util.addClass(selectTag, 'on');\r\n            }\r\n\r\n            fileBrowserPlugin._drawListItem.call(this,\r\n                selectedTags.length === 0 ?\r\n                fileBrowserContext.items :\r\n                fileBrowserContext.items.filter(function (item) {\r\n                    return item.tag.some(function (tag) {\r\n                        return selectedTags.indexOf(tag) > -1;\r\n                    });\r\n                }), false);\r\n        },\r\n\r\n        onClickFile: function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            const fileBrowserContext = this.context.fileBrowser;\r\n            const listEl = fileBrowserContext.list;\r\n            let target = e.target;\r\n            let command = null;\r\n\r\n            if (target === listEl) return;\r\n\r\n            while (listEl !== target.parentNode) {\r\n                command = target.getAttribute('data-command');\r\n                if (command) break;\r\n                target = target.parentNode;\r\n            }\r\n\r\n            if (!command) return;\r\n\r\n            const handler = (fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler);\r\n            this.plugins.fileBrowser.close.call(this);\r\n            handler(target);\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_MODULES) {\r\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\r\n            enumerable: true,\r\n            writable: false,\r\n            configurable: false,\r\n            value: fileBrowser\r\n        });\r\n    }\r\n\r\n    return fileBrowser;\r\n}));\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'align',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const icons = core.icons;\r\n        const context = core.context;\r\n        context.align = {\r\n            targetButton: targetElement,\r\n            _alignList: null,\r\n            currentAlign: '',\r\n            icons: {\r\n                justify: icons.align_justify,\r\n                left: icons.align_left,\r\n                right: icons.align_right,\r\n                center: icons.align_center\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.align._alignList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_right +'</span>' + lang.toolbar.alignRight +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' +\r\n                            '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const targetButton = this.context.align.targetButton;\r\n        const target = targetButton.firstElementChild;\r\n\r\n        if (!element) {\r\n            this.util.changeElement(target, this.context.align.icons.left);\r\n            targetButton.removeAttribute('data-focus');\r\n        } else if (this.util.isFormatElement(element)) {\r\n            const textAlign = element.style.textAlign;\r\n            if (textAlign) {\r\n                this.util.changeElement(target, this.context.align.icons[textAlign]);\r\n                targetButton.setAttribute('data-focus', textAlign);\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const alignContext = this.context.align;\r\n        const alignList = alignContext._alignList;\r\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || 'left';\r\n\r\n        if (currentAlign !== alignContext.currentAlign) {\r\n            for (let i = 0, len = alignList.length; i < len; i++) {\r\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(alignList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(alignList[i], 'active');\r\n                }\r\n            }\r\n\r\n            alignContext.currentAlign = currentAlign;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n\r\n        while (!value && !/UL/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        const selectedFormsts = this.getSelectedElements();\r\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\r\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === 'left' ? '' : value));\r\n        }\r\n\r\n        this.effectNode = null;\r\n        this.submenuOff();\r\n        this.focus();\r\n        \r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'math',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\r\n\r\n        const context = core.context;\r\n        context.math = {\r\n            focusElement: null,\r\n            previewElement: null,\r\n            fontSizeElement: null,\r\n            _mathExp: null\r\n        };\r\n\r\n        /** math dialog */\r\n        let math_dialog = this.setDialog.call(core);\r\n        context.math.modal = math_dialog;\r\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\r\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\r\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\r\n        context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\r\n        context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\r\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\r\n\r\n        /** math controller */\r\n        let math_controller = this.setController_MathButton.call(core);\r\n        context.math.mathController = math_controller;\r\n        context.math._mathExp = null;\r\n        math_controller.addEventListener('mousedown', core.eventStop);\r\n\r\n        /** add event listeners */\r\n        math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\r\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(math_dialog);\r\n        context.element.relative.appendChild(math_controller);\r\n\r\n        /** empty memory */\r\n        math_dialog = null, math_controller = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function () {\r\n        const lang = this.lang;\r\n        const dialog = this.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        dialog.innerHTML = '' +\r\n        '<form>' +\r\n            '<div class=\"se-dialog-header\">' +\r\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                    this.icons.cancel +\r\n                '</button>' +\r\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-body\">' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' +\r\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\r\n                    '<select class=\"se-input-select se-math-size\">' +\r\n                        '<option value=\"1em\">1</option>' +\r\n                        '<option value=\"1.5em\">1.5</option>' +\r\n                        '<option value=\"2em\">2</option>' +\r\n                        '<option value=\"2.5em\">2.5</option>' +\r\n                    '</select>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-form\">' +\r\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\r\n                    '<p class=\"se-math-preview\"></p>' +\r\n                '</div>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-footer\">' +\r\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n            '</div>' +\r\n        '</form>';\r\n\r\n        return dialog;\r\n    },\r\n\r\n    /** modify controller button */\r\n    setController_MathButton: function () {\r\n        const lang = this.lang;\r\n        const math_btn = this.util.createElement('DIV');\r\n\r\n        math_btn.className = 'se-controller se-controller-link';\r\n        math_btn.innerHTML = '' +\r\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n        '<div class=\"link-content\">' +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                    this.icons.edit +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                    this.icons.delete +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n        '</div>' +\r\n        '';\r\n\r\n        return math_btn;\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\r\n    },\r\n\r\n    /**\r\n     * @Override core - managedTagsInfo\r\n     */\r\n    managedTags: function () {\r\n        return {\r\n            className: 'katex',\r\n            method: function (element) {\r\n                if (!element.getAttribute('data-exp')) return;\r\n                const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\r\n                element.innerHTML = dom.querySelector('.katex').innerHTML;\r\n            }\r\n        };\r\n    },\r\n\r\n    _renderer: function (exp) {\r\n        const katex = this.context.option.katex;\r\n        return katex.src.renderToString(exp, katex.options);\r\n    },\r\n\r\n    _renderMathExp: function (contextMath, e) {\r\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function (e) {\r\n        this.showLoading();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const submitAction = function () {\r\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\r\n\r\n            const contextMath = this.context.math;\r\n            const mathExp = contextMath.focusElement.value;\r\n            const katexEl = contextMath.previewElement.querySelector('.katex');\r\n\r\n            if (!katexEl) return false;\r\n            katexEl.className = '__se__katex ' + katexEl.className;\r\n            katexEl.setAttribute('contenteditable', false);\r\n            katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\r\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\r\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\r\n\r\n            if (!this.context.dialog.updateModal) {\r\n                const selectedFormats = this.getSelectedElements();\r\n\r\n                if (selectedFormats.length > 1) {\r\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\r\n                    oFormat.appendChild(katexEl);\r\n                    if (!this.insertNode(oFormat, null, true)) return false;\r\n                } else {\r\n                    if (!this.insertNode(katexEl, null, true)) return false;\r\n                }\r\n\r\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\r\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\r\n                this.setRange(katexEl, 0, katexEl, 1);\r\n            } else {\r\n                const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\r\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\r\n                this.setRange(katexEl, 0, katexEl, 1);\r\n            }\r\n\r\n            contextMath.focusElement.value = '';\r\n            contextMath.fontSizeElement.value = '1em';\r\n            contextMath.previewElement.style.fontSize = '1em';\r\n            contextMath.previewElement.innerHTML = '';\r\n\r\n            return true;\r\n        }.bind(this);\r\n\r\n        try {\r\n            if (submitAction()) {\r\n                this.plugins.dialog.close.call(this);\r\n                // history stack\r\n                this.history.push(false);\r\n            }\r\n        } catch (e) {\r\n            this.plugins.dialog.close.call(this);\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    active: function (element) {\r\n        if (!element) {\r\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\r\n                this.controllersOff();\r\n            }\r\n        } else if (element.getAttribute('data-exp')) {\r\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\r\n                this.setRange(element, 0, element, 1);\r\n                this.plugins.math.call_controller.call(this, element);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    on: function (update) {\r\n        if (!update) {\r\n            this.plugins.math.init.call(this);\r\n        } else {\r\n            const contextMath = this.context.math;\r\n            if (contextMath._mathExp) {\r\n                const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\r\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\r\n                this.context.dialog.updateModal = true;\r\n                contextMath.focusElement.value = exp;\r\n                contextMath.fontSizeElement.value = fontSize;\r\n                contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\r\n                contextMath.previewElement.style.fontSize = fontSize;\r\n            }\r\n        }\r\n    },\r\n\r\n    call_controller: function (mathTag) {\r\n        this.context.math._mathExp = mathTag;\r\n        const mathBtn = this.context.math.mathController;\r\n\r\n        const offset = this.util.getOffset(mathTag, this.context.element.wysiwygFrame);\r\n        mathBtn.style.top = (offset.top + mathTag.offsetHeight + 10) + 'px';\r\n        mathBtn.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\r\n\r\n        mathBtn.style.display = 'block';\r\n\r\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (mathBtn.offsetLeft + mathBtn.offsetWidth);\r\n        if (overLeft < 0) {\r\n            mathBtn.style.left = (mathBtn.offsetLeft + overLeft) + 'px';\r\n            mathBtn.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n        } else {\r\n            mathBtn.firstElementChild.style.left = '20px';\r\n        }\r\n\r\n        this.controllersOn(mathBtn, mathTag, 'math');\r\n    },\r\n\r\n    onClick_mathController: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\r\n            this.plugins.dialog.open.call(this, 'math', true);\r\n        } else {\r\n            /** delete */\r\n            this.util.removeItem(this.context.math._mathExp);\r\n            this.context.math._mathExp = null;\r\n            this.focus();\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextMath = this.context.math;\r\n        contextMath.mathController.style.display = 'none';\r\n        contextMath._mathExp = null;\r\n        contextMath.focusElement.value = '';\r\n        contextMath.previewElement.innerHTML = '';\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'imageGallery',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\r\n\r\n        const context = core.context;\r\n        context.imageGallery = {\r\n            title: core.lang.toolbar.imageGallery, // @Required @Override fileBrowser - File browser window title.\r\n            url: context.options.imageGalleryUrl, // @Required @Override fileBrowser - File server url.\r\n            listClass: 'se-image-list', // @Required @Override fileBrowser - Class name of list div.\r\n            itemTemplateHandler: this.drawItems, // @Required @Override fileBrowser - Function that defines the HTML of an file item.\r\n            selectorHandler: this.setImage.bind(core), // @Required @Override fileBrowser - Function that action when item click.\r\n            columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\r\n        };\r\n    },\r\n    \r\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Open a file browser.\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\r\n    open: function (selectorHandler) {\r\n        this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileBrowser\r\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\r\n     * Format: [\r\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n     * ]\r\n     * @param {Object} item Item of the response data's array\r\n     */\r\n    drawItems: function (item) {\r\n        const srcName = item.src.split('/').pop();\r\n        return  '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' +\r\n                    '<div class=\"se-file-img-name se-file-name-back\"></div>' +\r\n                    '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' +\r\n                '</div>';\r\n    },\r\n\r\n    setImage: function (target) {\r\n        this.callPlugin('image', function () {\r\n            const file = {name: target.parentNode.querySelector('.__se__img_name').textContent, size: 0};\r\n            this.context.image._altText = target.alt;\r\n            this.plugins.image.create_image.call(this, target.src, '', false, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\r\n        }.bind(this), null);\r\n    }\r\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'blockquote',\r\n    display: 'command',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.blockquote = {\r\n            targetButton: targetElement,\r\n            tag: core.util.createElement('BLOCKQUOTE')\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            this.util.removeClass(this.context.blockquote.targetButton, 'active');\r\n        } else if (/blockquote/i.test(element.nodeName)) {\r\n            this.util.addClass(this.context.blockquote.targetButton, 'active');\r\n            return true;\r\n        }\r\n        \r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    action: function () {\r\n        const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\r\n\r\n        if (currentBlockquote) {\r\n            this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\r\n        } else {\r\n            this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\r\n        }\r\n    }\r\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'font',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.font = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\r\n            _fontList: null,\r\n            currentFont: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-font-family';\r\n\r\n        let font, text, i, len;\r\n        let fontList = !option.font ?\r\n            [\r\n                'Arial',\r\n                'Comic Sans MS',\r\n                'Courier New',\r\n                'Impact',\r\n                'Georgia',\r\n                'tahoma',\r\n                'Trebuchet MS',\r\n                'Verdana'\r\n            ] : option.font;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (i = 0, len = fontList.length; i < len; i++) {\r\n            font = fontList[i];\r\n            text = font.split(',')[0];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const target = this.context.font.targetText;\r\n        const tooltip = this.context.font.targetTooltip;\r\n\r\n        if (!element) {\r\n            const font = this.lang.toolbar.font;\r\n            this.util.changeTxt(target, font);\r\n            this.util.changeTxt(tooltip, font);\r\n        } else if (element.style && element.style.fontFamily.length > 0) {\r\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\r\n            this.util.changeTxt(target, selectFont);\r\n            this.util.changeTxt(tooltip, selectFont);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const fontContext = this.context.font;\r\n        const fontList = fontContext._fontList;\r\n        const currentFont = fontContext.targetText.textContent;\r\n\r\n        if (currentFont !== fontContext.currentFont) {\r\n            for (let i = 0, len = fontList.length; i < len; i++) {\r\n                if (currentFont === fontList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(fontList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(fontList[i], 'active');\r\n                }\r\n            }\r\n\r\n            fontContext.currentFont = currentFont;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const value = e.target.getAttribute('data-value');\r\n\r\n        if (value) {\r\n            const newNode = this.util.createElement('SPAN');\r\n            newNode.style.fontFamily = value;\r\n            this.nodeChange(newNode, ['font-family'], null, null);\r\n        } else {\r\n            this.nodeChange(null, ['font-family'], ['span'], true);\r\n        }\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        contextPicker._defaultColor = '#333333';\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'fontSize',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.fontSize = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            _sizeList: null,\r\n            currentSize: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.fontSize._sizeList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-font-size';\r\n\r\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\r\n            size = sizeList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\r\n        } else if (element.style && element.style.fontSize.length > 0) {\r\n            this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const fontSizeContext = this.context.fontSize;\r\n        const sizeList = fontSizeContext._sizeList;\r\n        const currentSize = fontSizeContext.targetText.textContent;\r\n\r\n        if (currentSize !== fontSizeContext.currentSize) {\r\n            for (let i = 0, len = sizeList.length; i < len; i++) {\r\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(sizeList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(sizeList[i], 'active');\r\n                }\r\n            }\r\n\r\n            fontSizeContext.currentSize = currentSize;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n        \r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const value = e.target.getAttribute('data-value');\r\n\r\n        if (value) {\r\n            const newNode = this.util.createElement('SPAN');\r\n            newNode.style.fontSize = value;\r\n            this.nodeChange(newNode, ['font-size'], null, null);\r\n        } else {\r\n            this.nodeChange(null, ['font-size'], ['span'], true);\r\n        }\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'formatBlock',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.formatBlock = {\r\n            targetText: targetElement.querySelector('.txt'),\r\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\r\n            _formatList: null,\r\n            currentFormat: ''\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\r\n        context.formatBlock._formatList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const lang_toolbar = this.lang.toolbar;\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\r\n        const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\r\n            format = formatList[i];\r\n            \r\n            if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\r\n                tagName = format.toLowerCase();\r\n                command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\r\n                h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\r\n                name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\r\n                className = '';\r\n                attrs = '';\r\n            } else {\r\n                tagName = format.tag.toLowerCase();\r\n                command = format.command;\r\n                name = format.name || tagName;\r\n                className = format.class;\r\n                attrs = className ? ' class=\"' + className + '\"' : '';\r\n            }\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' +\r\n                    '<' + tagName + attrs + '>' + name + '</' + tagName + '>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        let formatTitle = this.lang.toolbar.formats;\r\n        const target = this.context.formatBlock.targetText;\r\n        const tooltip = this.context.formatBlock.targetTooltip;\r\n\r\n        if (!element) {\r\n            this.util.changeTxt(target, formatTitle);\r\n            this.util.changeTxt(tooltip, formatTitle);\r\n        } else if (this.util.isFormatElement(element)) {\r\n            const formatContext = this.context.formatBlock;\r\n            const formatList = formatContext._formatList;\r\n            const nodeName = element.nodeName.toLowerCase();\r\n            const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\r\n\r\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\r\n                f = formatList[i];\r\n                if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\r\n                    formatTitle = f.title;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.util.changeTxt(target, formatTitle);\r\n            this.util.changeTxt(tooltip, formatTitle);\r\n            target.setAttribute('data-value', nodeName);\r\n            target.setAttribute('data-class', className);\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const formatContext = this.context.formatBlock;\r\n        const formatList = formatContext._formatList;\r\n        const target = formatContext.targetText;\r\n        const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\r\n\r\n        if (currentFormat !== formatContext.currentFormat) {\r\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\r\n                f = formatList[i];\r\n                if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\r\n                    this.util.addClass(f, 'active');\r\n                } else {\r\n                    this.util.removeClass(f, 'active');\r\n                }\r\n            }\r\n\r\n            formatContext.currentFormat = currentFormat;\r\n        }\r\n    },\r\n\r\n    pickUp: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = null, value = null, tag = null, className = '';\r\n        \r\n        while (!command && !/UL/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            value = target.getAttribute('data-value');\r\n            className = target.getAttribute('data-class');\r\n            if (command) {\r\n                tag = target.firstChild;\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        // blockquote\r\n        if (command === 'range') {\r\n            const rangeElement = tag.cloneNode(false);\r\n            this.applyRangeFormatElement(rangeElement);\r\n        }\r\n        // free, replace\r\n        else {\r\n            let range = this.getRange();\r\n            let selectedFormsts = this.getSelectedElementsAndComponents(false);\r\n\r\n            if (selectedFormsts.length === 0) {\r\n                range = this.getRange_addLine(range);\r\n                selectedFormsts = this.getSelectedElementsAndComponents(false);\r\n                if (selectedFormsts.length === 0) return;\r\n            }\r\n\r\n            const startOffset = range.startOffset;\r\n            const endOffset = range.endOffset;\r\n\r\n            const util = this.util;\r\n            let first = selectedFormsts[0];\r\n            let last = selectedFormsts[selectedFormsts.length - 1];\r\n            const firstPath = util.getNodePath(range.startContainer, first, null, null);\r\n            const lastPath = util.getNodePath(range.endContainer, last, null, null);\r\n            \r\n            // remove selected list\r\n            const rlist = this.detachList(selectedFormsts, false);\r\n            if (rlist.sc) first = rlist.sc;\r\n            if (rlist.ec) last = rlist.ec;\r\n\r\n            // change format tag\r\n            this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\r\n            const modifiedFormsts = this.getSelectedElementsAndComponents(false);\r\n\r\n            // free format\r\n            if (command === 'free') {\r\n                const len = modifiedFormsts.length - 1;\r\n                let parentNode = modifiedFormsts[len].parentNode;\r\n                let freeElement = tag.cloneNode(false);\r\n                const focusElement = freeElement;\r\n    \r\n                for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\r\n                    f = modifiedFormsts[i];\r\n                    if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\r\n    \r\n                    isComp = util.isComponent(f);\r\n                    html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\r\n                    before = util.getParentElement(f, function (current) {\r\n                        return current.parentNode === parentNode;\r\n                    });\r\n    \r\n                    if (parentNode !== f.parentNode || isComp) {\r\n                        if (util.isFormatElement(parentNode)) {\r\n                            parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\r\n                            parentNode = parentNode.parentNode;\r\n                        } else {\r\n                            parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\r\n                            parentNode = f.parentNode;\r\n                        }\r\n\r\n                        next = freeElement.nextSibling;\r\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\r\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        freeElement = tag.cloneNode(false);\r\n                        first = true;\r\n                    }\r\n    \r\n                    inner = freeElement.innerHTML;\r\n                    freeElement.innerHTML = ((first || !html || !inner || /<br>$/i.test(html)) ? html : html + '<BR>') + inner;\r\n\r\n                    if (i === 0) {\r\n                        parentNode.insertBefore(freeElement, f);\r\n                        next = f.nextSibling;\r\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\r\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const prev = freeElement.previousSibling;\r\n                        if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\r\n                            prev.innerHTML += '<BR>' + freeElement.innerHTML;\r\n                            util.removeItem(freeElement);\r\n                        }\r\n                    }\r\n\r\n                    if (!isComp) util.removeItem(f);\r\n                    if (!!html) first = false;\r\n                }\r\n    \r\n                this.setRange(focusElement, 0, focusElement, 0);\r\n            }\r\n            // replace format\r\n            else {\r\n                for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\r\n                    node = modifiedFormsts[i];\r\n                    \r\n                    if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\r\n                        newFormat = tag.cloneNode(false);\r\n                        util.copyFormatAttributes(newFormat, node);\r\n                        newFormat.innerHTML = node.innerHTML;\r\n    \r\n                        node.parentNode.replaceChild(newFormat, node);\r\n                    }\r\n    \r\n                    if (i === 0) first = newFormat || node;\r\n                    if (i === len - 1) last = newFormat || node;\r\n                    newFormat = null;\r\n                }\r\n    \r\n                this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'hiliteColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextHiliteColor = this.context.hiliteColor;\r\n\r\n        contextPicker._colorInput = contextHiliteColor.colorInput;\r\n        contextPicker._defaultColor = '#FFFFFF';\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n        contextPicker._colorList = contextHiliteColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['background-color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n        \r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n        this.nodeChange(newNode, ['background-color'], null, null);\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'horizontalRule',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                    '<li>' +\r\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\r\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\r\n                        '</button>' +\r\n                    '</li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    appendHr: function (className) {\r\n        const oHr = this.util.createElement('HR');\r\n        oHr.className = className;\r\n        this.focus();\r\n        return this.insertComponent(oHr, false, true, false);\r\n    },\r\n\r\n    horizontalRulePick: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n        \r\n        while (!value && !/UL/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\r\n        if (oNode) {\r\n            this.setRange(oNode, 0, oNode, 0);\r\n            this.submenuOff();\r\n        }\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 20197 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'lineHeight',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.lineHeight = {\r\n            _sizeList: null,\r\n            currentSize: -1\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n\r\n        const sizeList = !option.lineHeights ? [\r\n            {text: '1', value: 1},\r\n            {text: '1.15', value: 1.15},\r\n            {text: '1.5', value: 1.5},\r\n            {text: '2', value: 2}\r\n        ] : option.lineHeights;\r\n\r\n        let list = '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\r\n        for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\r\n            size = sizeList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const lineHeightContext = this.context.lineHeight;\r\n        const sizeList = lineHeightContext._sizeList;\r\n        const format = this.util.getFormatElement(this.getSelectionNode());\r\n        const currentSize = !format ? '' : format.style.lineHeight + '';\r\n\r\n        if (currentSize !== lineHeightContext.currentSize) {\r\n            for (let i = 0, len = sizeList.length; i < len; i++) {\r\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\r\n                    this.util.addClass(sizeList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(sizeList[i], 'active');\r\n                }\r\n            }\r\n\r\n            lineHeightContext.currentSize = currentSize;\r\n        }\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n        \r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const value = e.target.getAttribute('data-value') || '';\r\n        const formats = this.getSelectedElements();\r\n\r\n        for (let i = 0, len = formats.length; i < len; i++) {\r\n            formats[i].style.lineHeight = value;\r\n        }\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'list',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.list = {\r\n            targetButton: targetElement,\r\n            _list: null,\r\n            currentList: '',\r\n            icons: {\r\n                bullets: core.icons.list_bullets,\r\n                number: core.icons.list_number\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n        context.list._list = listUl.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const lang = this.lang;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">' +\r\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' +\r\n                        this.icons.list_number +\r\n                    '</button></li>' +\r\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' +\r\n                        this.icons.list_bullets +\r\n                    '</button></li>' +\r\n                '</ul>' +\r\n            '</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        const button = this.context.list.targetButton;\r\n        const icon = button.firstElementChild;\r\n        const util = this.util;\r\n\r\n        if (!element) {\r\n            button.removeAttribute('data-focus');\r\n            util.changeElement(icon, this.context.list.icons.number);\r\n            util.removeClass(button, 'active');\r\n        } else if (util.isList(element)) {\r\n            const nodeName = element.nodeName;\r\n            button.setAttribute('data-focus', nodeName);\r\n            util.addClass(button, 'active');\r\n            if (/UL/i.test(nodeName)) {\r\n                util.changeElement(icon, this.context.list.icons.bullets);\r\n            } else {\r\n                util.changeElement(icon, this.context.list.icons.number);\r\n            }\r\n            \r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const listContext = this.context.list;\r\n        const list = listContext._list;\r\n        const currentList = listContext.targetButton.getAttribute('data-focus') || '';\r\n\r\n        if (currentList !== listContext.currentList) {\r\n            for (let i = 0, len = list.length; i < len; i++) {\r\n                if (currentList === list[i].getAttribute('data-command')) {\r\n                    this.util.addClass(list[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(list[i], 'active');\r\n                }\r\n            }\r\n\r\n            listContext.currentList = currentList;\r\n        }\r\n    },\r\n\r\n    editList: function (command, selectedCells, detach) {\r\n        let range = this.getRange();\r\n        let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\r\n\r\n        if (selectedFormats.length === 0) {\r\n            if (selectedCells) return;\r\n            range = this.getRange_addLine(range);\r\n            selectedFormats = this.getSelectedElementsAndComponents(false);\r\n            if (selectedFormats.length === 0) return;\r\n        }\r\n        \r\n        const util = this.util;\r\n        util.sortByDepth(selectedFormats, true);\r\n\r\n        // merge\r\n        let firstSel = selectedFormats[0];\r\n        let lastSel = selectedFormats[selectedFormats.length - 1];\r\n        let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\r\n        let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\r\n\r\n        const originRange = {\r\n            sc: range.startContainer,\r\n            so: range.startOffset,\r\n            ec: range.endContainer,\r\n            eo: range.endOffset\r\n        };\r\n\r\n        let isRemove = true;\r\n\r\n        for (let i = 0, len = selectedFormats.length; i < len; i++) {\r\n            if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\r\n                return this.getRangeFormatElement(current) && current !== selectedFormats[i];\r\n            }.bind(util)))) {\r\n                isRemove = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isRemove && (!topEl || (firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase())) && (!bottomEl || (lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase()))) {\r\n            if (detach) {\r\n                for (let i = 0, len = selectedFormats.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedFormats[j].contains(selectedFormats[i])) {\r\n                            selectedFormats.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const currentFormat = util.getRangeFormatElement(firstSel);\r\n            const cancel = currentFormat && currentFormat.tagName === command;\r\n            let rangeArr, tempList;\r\n            const passComponent = function (current) {\r\n                return !this.isComponent(current);\r\n            }.bind(util);\r\n            \r\n            if (!cancel) tempList = util.createElement(command);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                if (!o || !util.isList(o)) continue;\r\n\r\n                if (!r) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                } else {\r\n                    if (r !== o) {\r\n                        if (detach && util.isListCell(o.parentNode)) {\r\n                            this.plugins.list._detachNested.call(this, rangeArr.f);\r\n                        } else {\r\n                            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\r\n                        }\r\n                        \r\n                        o = selectedFormats[i].parentNode;\r\n                        if (!cancel) tempList = util.createElement(command);\r\n                        \r\n                        r = o;\r\n                        rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                    }\r\n                }\r\n                \r\n                if (i === len - 1) {\r\n                    if (detach && util.isListCell(o.parentNode)) {\r\n                        this.plugins.list._detachNested.call(this, rangeArr.f);\r\n                    } else {\r\n                        this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            const topElParent = topEl ? topEl.parentNode : topEl;\r\n            const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\r\n            topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\r\n            bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\r\n\r\n            const mergeTop = topEl && topEl.tagName === command;\r\n            const mergeBottom = bottomEl && bottomEl.tagName === command;\r\n            \r\n            let list = mergeTop ? topEl : util.createElement(command);\r\n            let firstList = null;\r\n            let lastList = null;\r\n            let topNumber = null;\r\n            let bottomNumber = null;\r\n\r\n            const passComponent = function (current) {\r\n                return !this.isComponent(current) && !this.isList(current);\r\n            }.bind(util);\r\n            \r\n            for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\r\n                fTag = selectedFormats[i];\r\n                if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\r\n                    util.removeItem(fTag);\r\n                    continue;\r\n                }\r\n                next = selectedFormats[i + 1];\r\n                originParent = fTag.parentNode;\r\n                nextParent = next ? next.parentNode : null;\r\n                isCell = util.isListCell(fTag);\r\n                rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\r\n                parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\r\n                siblingTag = isCell && !util.isWysiwygDiv(originParent) ? (!next || util.isListCell(parentTag)) ? originParent : originParent.nextSibling : fTag.nextSibling;\r\n\r\n                newCell = util.createElement('LI');\r\n                util.copyFormatAttributes(newCell, fTag);\r\n                if (util.isComponent(fTag)) {\r\n                    const isHR = /^HR$/i.test(fTag.nodeName);\r\n                    if (!isHR) newCell.innerHTML = '<br>';\r\n                    newCell.innerHTML += fTag.outerHTML;\r\n                    if (isHR) newCell.innerHTML += '<br>';\r\n                } else {\r\n                    const fChildren = fTag.childNodes;\r\n                    while (fChildren[0]) {\r\n                        newCell.appendChild(fChildren[0]);\r\n                    }\r\n                }\r\n                list.appendChild(newCell);\r\n\r\n                if (!next) lastList = list;\r\n                if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\r\n                    if (!firstList) firstList = list;\r\n                    if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\r\n                        if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\r\n                    }\r\n                }\r\n\r\n                util.removeItem(fTag);\r\n                if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\r\n                if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || (util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent)))) {\r\n                    list = util.createElement(command);\r\n                }\r\n\r\n                if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\r\n            }\r\n\r\n            if (topNumber) {\r\n                firstList = firstList.children[topNumber];\r\n            }\r\n\r\n            if (mergeBottom) {\r\n                bottomNumber = list.children.length - 1;\r\n                list.innerHTML += bottomEl.innerHTML;\r\n                lastList = list.children[bottomNumber];\r\n                util.removeItem(bottomEl);\r\n            }\r\n        }\r\n        \r\n        this.effectNode = null;\r\n        return originRange;\r\n    },\r\n\r\n    _detachNested: function (cells) {\r\n        const first = cells[0];\r\n        const last = cells[cells.length - 1];\r\n        const next = last.nextElementSibling;\r\n        const originList = first.parentNode;\r\n        const sibling = originList.parentNode.nextElementSibling;\r\n        const parentNode = originList.parentNode.parentNode;\r\n\r\n        for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n            parentNode.insertBefore(cells[c], sibling);\r\n        }\r\n\r\n        if (next && originList.children.length > 0) {\r\n            const newList = originList.cloneNode(false);\r\n            const children = originList.childNodes;\r\n            const index = this.util.getPositionIndex(next);\r\n            while (children[index]) {\r\n                newList.appendChild(children[index]);\r\n            }\r\n            last.appendChild(newList);\r\n        }\r\n\r\n        if (originList.children.length === 0) this.util.removeItem(originList);\r\n        this.util.mergeSameTags(parentNode);\r\n\r\n        const edge = this.util.getEdgeChildNodes(first, last);\r\n\r\n        return {\r\n            cc: first.parentNode,\r\n            sc: edge.sc,\r\n            ec: edge.ec\r\n        };\r\n    },\r\n\r\n    editInsideList: function (remove, selectedCells) {\r\n        selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) { return this.isListCell(el); }.bind(this.util)) : selectedCells;\r\n        const cellsLen = selectedCells.length;\r\n        if (cellsLen === 0 || (!remove && (!this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)))) {\r\n            return {\r\n                sc: selectedCells[0],\r\n                so: 0,\r\n                ec: selectedCells[cellsLen - 1],\r\n                eo: 1\r\n            };\r\n        }\r\n\r\n        let originList = selectedCells[0].parentNode;\r\n        let lastCell = selectedCells[cellsLen - 1];\r\n        let range = null;\r\n\r\n        if (remove) {\r\n            if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\r\n                lastCell = lastCell.nextElementSibling;\r\n                while (lastCell) {\r\n                    selectedCells.push(lastCell);\r\n                    lastCell = lastCell.nextElementSibling;\r\n                }\r\n            }\r\n            range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\r\n        } else {\r\n            let innerList = this.util.createElement(originList.nodeName);\r\n            let prev = selectedCells[0].previousElementSibling;\r\n            let next = lastCell.nextElementSibling;\r\n            const nodePath = { s: null, e: null, sl: originList, el: originList };\r\n\r\n            for (let i = 0, len = cellsLen, c; i < len; i++) {\r\n                c = selectedCells[i];\r\n                if (c.parentNode !== originList) {\r\n                    this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\r\n                    originList = c.parentNode;\r\n                    innerList = this.util.createElement(originList.nodeName);\r\n                }\r\n                \r\n                prev = c.previousElementSibling;\r\n                next = c.nextElementSibling;\r\n                innerList.appendChild(c);\r\n            }\r\n            \r\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\r\n\r\n            const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\r\n            const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\r\n            range = {\r\n                sc: sc,\r\n                so: 0,\r\n                ec: ec,\r\n                eo: ec.textContent.length\r\n            };\r\n        }\r\n\r\n        return range;\r\n    },\r\n\r\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\r\n        let insertPrev = false;\r\n\r\n        if (prev && innerList.tagName === prev.tagName) {\r\n            const children = innerList.children;\r\n            while (children[0]) {\r\n                prev.appendChild(children[0]);\r\n            }\r\n\r\n            innerList = prev;\r\n            insertPrev = true;\r\n        }\r\n\r\n        if (next && innerList.tagName === next.tagName) {\r\n            const children = next.children;\r\n            while (children[0]) {\r\n                innerList.appendChild(children[0]);\r\n            }\r\n\r\n            const temp = next.nextElementSibling;\r\n            next.parentNode.removeChild(next);\r\n            next = temp;\r\n        }\r\n\r\n        if (!insertPrev) {\r\n            if (this.util.isListCell(prev)) {\r\n                originList = prev;\r\n                next = null;\r\n            }\r\n\r\n            originList.insertBefore(innerList, next);\r\n\r\n            if (!nodePath.s) {\r\n                nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\r\n                nodePath.sl = originList;\r\n            }\r\n\r\n            const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\r\n            nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\r\n            nodePath.el = originList;\r\n\r\n            this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\r\n            this.util.mergeNestedTags(originList);\r\n            if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\r\n        }\r\n\r\n        return innerList;\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = '';\r\n\r\n        while (!command && !/^UL$/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        const range = this.plugins.list.editList.call(this, command, null, false);\r\n        if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'paragraphStyle',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.paragraphStyle = {\r\n            _classList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\r\n\r\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const menuLang = this.lang.menu;\r\n        const defaultList = {\r\n            spaced: {\r\n                name: menuLang.spaced,\r\n                class: '__se__p-spaced',\r\n                _class: ''\r\n            },\r\n            bordered: {\r\n                name: menuLang.bordered,\r\n                class: '__se__p-bordered',\r\n                _class: ''\r\n            },\r\n            neon: {\r\n                name: menuLang.neon,\r\n                class: '__se__p-neon',\r\n                _class: ''\r\n            }\r\n        };\r\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\r\n            p = paragraphStyles[i];\r\n\r\n            if (typeof p === 'string') {\r\n                const defaultStyle = defaultList[p.toLowerCase()];\r\n                if (!defaultStyle) continue;\r\n                p = defaultStyle;\r\n            }\r\n\r\n            name = p.name;\r\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\r\n            _class = p._class;\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' +\r\n                    '<div' + attrs + '>' + name + '</div>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const paragraphContext = this.context.paragraphStyle;\r\n        const paragraphList = paragraphContext._classList;\r\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\r\n\r\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\r\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\r\n                this.util.addClass(paragraphList[i], 'active');\r\n            } else {\r\n                this.util.removeClass(paragraphList[i], 'active');\r\n            }\r\n        }\r\n    },\r\n\r\n    pickUp: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let value = null;\r\n        \r\n        while (!/^UL$/i.test(target.tagName)) {\r\n            value = target.getAttribute('data-value');\r\n            if (value) break;\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!value) return;\r\n\r\n        let selectedFormsts = this.getSelectedElements();\r\n        if (selectedFormsts.length === 0) {\r\n            this.getRange_addLine(this.getRange());\r\n            selectedFormsts = this.getSelectedElements();\r\n            if (selectedFormsts.length === 0) return;\r\n        }\r\n\r\n        // change format class\r\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\r\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\r\n            toggleClass(selectedFormsts[i], value);\r\n        }\r\n\r\n        this.submenuOff();\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'table',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.table = {\r\n            _element: null,\r\n            _tdElement: null,\r\n            _trElement: null,\r\n            _trElements: null,\r\n            _tableXY: [],\r\n            _maxWidth: true,\r\n            _fixedColumn: false,\r\n            cellControllerTop: context.options.tableCellControllerPosition === 'top',\r\n            resizeText: null,\r\n            headerButton: null,\r\n            mergeButton: null,\r\n            splitButton: null,\r\n            splitMenu: null,\r\n            maxText: core.lang.controller.maxSize,\r\n            minText: core.lang.controller.minSize,\r\n            _physical_cellCnt: 0,\r\n            _logical_cellCnt: 0,\r\n            _rowCnt: 0,\r\n            _rowIndex: 0,\r\n            _physical_cellIndex: 0,\r\n            _logical_cellIndex: 0,\r\n            _current_colSpan: 0,\r\n            _current_rowSpan: 0,\r\n            icons: {\r\n                expansion: core.icons.expansion,\r\n                reduction: core.icons.reduction\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let tablePicker = listDiv.querySelector('.se-controller-table-picker');\r\n\r\n        context.table.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\r\n        context.table.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\r\n        context.table.tableDisplay = listDiv.querySelector('.se-table-size-display');\r\n\r\n        /** set table controller */\r\n        let tableController = this.setController_table.call(core);\r\n        context.table.tableController = tableController;\r\n        context.table.resizeButton = tableController.querySelector('._se_table_resize');\r\n        context.table.resizeText = tableController.querySelector('._se_table_resize > span > span');\r\n        context.table.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\r\n        context.table.headerButton = tableController.querySelector('._se_table_header');\r\n        tableController.addEventListener('mousedown', core.eventStop);\r\n\r\n        /** set resizing */\r\n        let resizeDiv = this.setController_tableEditor.call(core, context.table.cellControllerTop);\r\n        context.table.resizeDiv = resizeDiv;\r\n        context.table.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\r\n        context.table.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\r\n        context.table.splitButton = resizeDiv.querySelector('._se_table_split_button');\r\n        context.table.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\r\n        context.table.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\r\n        resizeDiv.addEventListener('mousedown', core.eventStop);\r\n        \r\n        /** add event listeners */\r\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core));\r\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\r\n        resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\r\n        tableController.addEventListener('click', this.onClick_tableController.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(resizeDiv);\r\n        context.element.relative.appendChild(tableController);\r\n\r\n        /** empty memory */\r\n        listDiv = null, tablePicker = null, resizeDiv = null, tableController = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-selector-table';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-table-size\">' +\r\n                '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' +\r\n                '<div class=\"se-table-size-highlighted\"></div>' +\r\n                '<div class=\"se-table-size-unhighlighted\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"se-table-size-display\">1 x 1</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    setController_table: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table';\r\n        tableResize.innerHTML = '' +\r\n            '<div>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' +\r\n                        icons.expansion +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' +\r\n                        icons.fixed_column_width +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' +\r\n                        icons.table_header +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    setController_tableEditor: function (cellControllerTop) {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table-cell';\r\n        tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' +\r\n                    icons.insert_row_above +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' +\r\n                    icons.insert_row_below +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_row +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' +\r\n                    icons.merge_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n            '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_left +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_right +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_column +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' +\r\n                    icons.split_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' +\r\n                    '<div class=\"se-list-inner\">' +\r\n                        '<ul class=\"se-list-basic\">' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + \r\n                                lang.controller.VerticalSplit + '</li>' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + \r\n                                lang.controller.HorizontalSplit + '</li>' +\r\n                        '</ul>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    appendTable: function () {\r\n        const oTable = this.util.createElement('TABLE');\r\n        const createCells = this.plugins.table.createCells;\r\n\r\n        const x = this.context.table._tableXY[0];\r\n        let y = this.context.table._tableXY[1];\r\n        let tableHTML = '<tbody>';\r\n        while (y > 0) {\r\n            tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\r\n            --y;\r\n        }\r\n        tableHTML += '</tbody>';\r\n        oTable.innerHTML = tableHTML;\r\n\r\n        const changed = this.insertComponent(oTable, false, true, false);\r\n        \r\n        if (changed) {\r\n            const firstTd = oTable.querySelector('td div');\r\n            this.setRange(firstTd, 0, firstTd, 0);\r\n            this.plugins.table.reset_table_picker.call(this);\r\n        }\r\n    },\r\n\r\n    createCells: function (nodeName, cnt, returnElement) {\r\n        nodeName = nodeName.toLowerCase();\r\n\r\n        if (!returnElement) {\r\n            let cellsHTML = '';\r\n            while (cnt > 0) {\r\n                cellsHTML += '<' +nodeName + '><div><br></div></' + nodeName + '>';\r\n                cnt--;\r\n            }\r\n            return cellsHTML;\r\n        } else {\r\n            const cell = this.util.createElement(nodeName);\r\n            cell.innerHTML = '<div><br></div>';\r\n            return cell;\r\n        }\r\n    },\r\n\r\n    onMouseMove_tablePicker: function (e) {\r\n        e.stopPropagation();\r\n\r\n        let x = this._w.Math.ceil(e.offsetX / 18);\r\n        let y = this._w.Math.ceil(e.offsetY / 18);\r\n        x = x < 1 ? 1 : x;\r\n        y = y < 1 ? 1 : y;\r\n        this.context.table.tableHighlight.style.width = x + 'em';\r\n        this.context.table.tableHighlight.style.height = y + 'em';\r\n\r\n        let x_u = 10; // x < 5 ? 5 : (x > 9 ? 10 : x + 1);\r\n        let y_u = 10; //y < 5 ? 5 : (y > 9 ? 10 : y + 1);\r\n        this.context.table.tableUnHighlight.style.width = x_u + 'em';\r\n        this.context.table.tableUnHighlight.style.height = y_u + 'em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, x + ' x ' + y);\r\n        this.context.table._tableXY = [x, y];\r\n    },\r\n\r\n    reset_table_picker: function () {\r\n        if (!this.context.table.tableHighlight) return;\r\n\r\n        const highlight = this.context.table.tableHighlight.style;\r\n        const unHighlight = this.context.table.tableUnHighlight.style;\r\n\r\n        highlight.width = '1em';\r\n        highlight.height = '1em';\r\n        unHighlight.width = '10em';\r\n        unHighlight.height = '10em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\r\n        this.submenuOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextTable = this.context.table;\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n\r\n        if (tablePlugin._selectedTable) {\r\n            const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n            for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n                this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n            }\r\n        }\r\n\r\n        tablePlugin._toggleEditor.call(this, true);\r\n\r\n        contextTable._element = null;\r\n        contextTable._tdElement = null;\r\n        contextTable._trElement = null;\r\n        contextTable._trElements = null;\r\n        contextTable._tableXY = [];\r\n        contextTable._maxWidth = true;\r\n        contextTable._fixedColumn = false;\r\n        contextTable._physical_cellCnt = 0;\r\n        contextTable._logical_cellCnt = 0;\r\n        contextTable._rowCnt = 0;\r\n        contextTable._rowIndex = 0;\r\n        contextTable._physical_cellIndex = 0;\r\n        contextTable._logical_cellIndex = 0;\r\n        contextTable._current_colSpan = 0;\r\n        contextTable._current_rowSpan = 0;\r\n\r\n        tablePlugin._shift = false;\r\n        tablePlugin._selectedCells = null;\r\n        tablePlugin._selectedTable = null;\r\n        tablePlugin._ref = null;\r\n\r\n        tablePlugin._fixedCell = null;\r\n        tablePlugin._selectedCell = null;\r\n        tablePlugin._fixedCellName = null;\r\n    },\r\n\r\n    /** table edit controller */\r\n    call_controller_tableEdit: function (tdElement) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n\r\n        if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\r\n            this.controllersOff();\r\n            this.util.removeClass(tdElement, 'se-table-selected-cell');\r\n            return;\r\n        }\r\n\r\n        const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n        tablePlugin.setPositionControllerTop.call(this, tableElement);\r\n        contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || (!tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto'));\r\n        contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\r\n        tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\r\n\r\n        tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\r\n        \r\n        if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\r\n    },\r\n\r\n    setPositionControllerTop: function (tableElement) {\r\n        const tableController = this.context.table.tableController;\r\n        const offset = this.util.getOffset(tableElement, this.context.element.wysiwygFrame);\r\n        tableController.style.left = offset.left + 'px';\r\n        tableController.style.display = 'block';\r\n        tableController.style.top = (offset.top - tableController.offsetHeight - 2) + 'px';\r\n    },\r\n\r\n    setPositionControllerDiv: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const resizeDiv = contextTable.resizeDiv;\r\n        \r\n        this.plugins.table.setCellInfo.call(this, tdElement, reset);\r\n        \r\n        resizeDiv.style.visibility = 'hidden';\r\n        resizeDiv.style.display = 'block';\r\n\r\n        if (contextTable.cellControllerTop) {\r\n            const offset = this.util.getOffset(contextTable._element, this.context.element.wysiwygFrame);\r\n            resizeDiv.style.top = (offset.top - resizeDiv.offsetHeight - 2) + 'px';\r\n            resizeDiv.style.left = (offset.left + contextTable.tableController.offsetWidth) + 'px';\r\n        } else {\r\n            const offset = this.util.getOffset(tdElement, this.context.element.wysiwygFrame);\r\n            resizeDiv.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\r\n            resizeDiv.style.top = (offset.top + tdElement.offsetHeight + 12) + 'px';\r\n    \r\n            const overLeft = this.context.element.wysiwygFrame.offsetWidth - (resizeDiv.offsetLeft + resizeDiv.offsetWidth);\r\n            if (overLeft < 0) {\r\n                resizeDiv.style.left = (resizeDiv.offsetLeft + overLeft) + 'px';\r\n                resizeDiv.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n            } else {\r\n                resizeDiv.firstElementChild.style.left = '20px';\r\n            }\r\n        }\r\n\r\n        resizeDiv.style.visibility = '';\r\n    },\r\n\r\n    setCellInfo: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        if (/THEAD/i.test(table.firstElementChild.nodeName)) {\r\n            this.util.addClass(contextTable.headerButton, 'active');\r\n        } else {\r\n            this.util.removeClass(contextTable.headerButton, 'active');\r\n        }\r\n\r\n        if (reset || contextTable._physical_cellCnt === 0) {\r\n            if (contextTable._tdElement !== tdElement) {\r\n                contextTable._tdElement = tdElement;\r\n                contextTable._trElement = tdElement.parentNode;\r\n            }\r\n\r\n            const rows = contextTable._trElements = table.rows;\r\n            const cellIndex = tdElement.cellIndex;\r\n\r\n            let cellCnt = 0;\r\n            for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\r\n                cellCnt += cells[i].colSpan;\r\n            }\r\n\r\n            // row cnt, row index\r\n            const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\r\n            contextTable._rowCnt = rows.length;\r\n\r\n            // cell cnt, physical cell index\r\n            contextTable._physical_cellCnt = contextTable._trElement.cells.length;\r\n            contextTable._logical_cellCnt = cellCnt;\r\n            contextTable._physical_cellIndex = cellIndex;\r\n\r\n            // span\r\n            contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\r\n            contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1;\r\n\r\n            // find logcal cell index\r\n            let rowSpanArr = [];\r\n            let spanIndex = [];\r\n            for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\r\n                cells = rows[i].cells;\r\n                colSpan = 0;\r\n                for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    rs = cell.rowSpan - 1;\r\n                    logcalIndex = c + colSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n                            if (logcalIndex >= arr.index) {\r\n                                colSpan += arr.cs;\r\n                                logcalIndex += arr.cs;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (c === cLen - 1) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // logcal cell index\r\n                    if (i === rowIndex && c === cellIndex) {\r\n                        contextTable._logical_cellIndex = logcalIndex;\r\n                        break;\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            index: logcalIndex,\r\n                            cs: cs + 1,\r\n                            rs: rs,\r\n                            row: -1\r\n                        });\r\n                    }\r\n                    \r\n                    colSpan += cs;\r\n                }\r\n\r\n                spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                rowSpanArr = [];\r\n            }\r\n\r\n            rowSpanArr = null;\r\n            spanIndex = null;\r\n        }\r\n    },\r\n\r\n    editTable: function (type, option) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element;\r\n        const isRow = type === 'row';\r\n\r\n        if (isRow) {\r\n            const tableAttr = contextTable._trElement.parentNode;\r\n            if (/^THEAD$/i.test(tableAttr.nodeName)) {\r\n                if (option === 'up') {\r\n                    return;\r\n                } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\r\n                    table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // multi\r\n        if (tablePlugin._ref) {\r\n            const positionCell = contextTable._tdElement;\r\n            const selectedCells = tablePlugin._selectedCells;\r\n            // multi - row\r\n            if (isRow) {\r\n                // remove row\r\n                if (!option) {\r\n                    let row = selectedCells[0].parentNode;\r\n                    const removeCells = [selectedCells[0]];\r\n\r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (row !== cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                            row = cell.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editRow.call(this, option);\r\n                    }\r\n                } else { // edit row\r\n                    tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\r\n                    tablePlugin.editRow.call(this, option, positionCell);\r\n                }\r\n            } else { // multi - cell\r\n                const firstRow = selectedCells[0].parentNode;\r\n                // remove cell\r\n                if (!option) {\r\n                    const removeCells = [selectedCells[0]];\r\n                    \r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (firstRow === cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editCell.call(this, option);\r\n                    }\r\n                } else { // edit cell\r\n                    let rightCell = null;\r\n\r\n                    for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\r\n                        if (firstRow !== selectedCells[i + 1].parentNode) {\r\n                            rightCell = selectedCells[i];\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\r\n                    tablePlugin.editCell.call(this, option, positionCell);\r\n                }\r\n            }\r\n\r\n            if (!option) tablePlugin.init.call(this);\r\n        } // one\r\n        else {\r\n            tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\r\n        }\r\n\r\n        // after remove\r\n        if (!option) {\r\n            const children = table.children;\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].children.length === 0) {\r\n                    this.util.removeItem(children[i]);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (table.children.length === 0) this.util.removeItem(table);\r\n        }\r\n    },\r\n\r\n    editRow: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const remove = !option;\r\n\r\n        const up = option === 'up';\r\n        const originRowIndex = contextTable._rowIndex;\r\n        const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\r\n        const sign = remove ? -1 : 1;\r\n        \r\n        const rows = contextTable._trElements;\r\n        let cellCnt = contextTable._logical_cellCnt;\r\n\r\n        for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\r\n            cell = rows[i].cells;\r\n            if (cell.length === 0) return;\r\n            \r\n            for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\r\n                rs = cell[c].rowSpan;\r\n                cs = cell[c].colSpan;\r\n                if (rs < 2 && cs < 2) continue;\r\n\r\n                if (rs + i > rowIndex && rowIndex > i) {\r\n                    cell[c].rowSpan = rs + sign;\r\n                    cellCnt -= cs;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            const next = rows[originRowIndex + 1];\r\n            if (next) {\r\n                const spanCells = [];\r\n                let cells = rows[originRowIndex].cells;\r\n                let colSpan = 0;\r\n\r\n                for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                    cell = cells[i];\r\n                    logcalIndex = i + colSpan;\r\n                    colSpan += cell.colSpan - 1;\r\n\r\n                    if (cell.rowSpan > 1) {\r\n                        cell.rowSpan -= 1;\r\n                        spanCells.push({cell: cell.cloneNode(false), index: logcalIndex});\r\n                    }\r\n                }\r\n\r\n                if (spanCells.length > 0) {\r\n                    let spanCell = spanCells.shift();\r\n                    cells = next.cells;\r\n                    colSpan = 0;\r\n\r\n                    for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                        cell = cells[i];\r\n                        logcalIndex = i + colSpan;\r\n                        colSpan += cell.colSpan - 1;\r\n    \r\n                        if (logcalIndex >= spanCell.index) {\r\n                            i--, colSpan--;\r\n                            colSpan += spanCell.cell.colSpan - 1;\r\n                            next.insertBefore(spanCell.cell, cell);\r\n                            spanCell = spanCells.shift();\r\n                            if (!spanCell) break;\r\n                        }\r\n                    }\r\n\r\n                    if (spanCell) {\r\n                        next.appendChild(spanCell.cell);\r\n                        for (let i = 0, len = spanCells.length; i < len; i++) {\r\n                            next.appendChild(spanCells[i].cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTable._element.deleteRow(rowIndex);\r\n        } else {\r\n            const newRow = contextTable._element.insertRow(rowIndex);\r\n            newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\r\n        }\r\n\r\n        if (!remove) {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        } else {\r\n            this.controllersOff();\r\n        }\r\n    },\r\n\r\n    editCell: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n        const remove = !option;\r\n\r\n        const left = option === 'left';\r\n        const colSpan = contextTable._current_colSpan;\r\n        const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\r\n\r\n        const rows = contextTable._trElements;\r\n        let rowSpanArr = [];\r\n        let spanIndex = [];\r\n        let passCell = 0;\r\n        const removeCell = [];\r\n        const removeSpanArr = [];\r\n\r\n        for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\r\n            row = rows[i];\r\n            insertIndex = cellIndex;\r\n            applySpan = false;\r\n            cells = row.cells;\r\n            cellColSpan = 0;\r\n\r\n            for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\r\n                cell = cells[c];\r\n                if (!cell) break;\r\n\r\n                rs = cell.rowSpan - 1;\r\n                cs = cell.colSpan - 1;\r\n\r\n                if (!remove) {\r\n                    if (c >= insertIndex) break;\r\n                    if (cs > 0) {\r\n                        if (passCell < 1 && cs + c >= insertIndex) {\r\n                            cell.colSpan += 1;\r\n                            insertIndex = null;\r\n                            passCell = rs + 1;\r\n                            break;\r\n                        }\r\n\r\n                        insertIndex -= cs;\r\n                    }\r\n\r\n                    if (!applySpan) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            insertIndex -= arr.cs;\r\n                            arr.rs -= 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }  \r\n                        }\r\n                        applySpan = true;\r\n                    }\r\n                } else {\r\n                    removeIndex = c + cellColSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        const lastCell = !cells[c + 1];\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n\r\n                            if (removeIndex >= arr.index) {\r\n                                cellColSpan += arr.cs;\r\n                                removeIndex = c + cellColSpan;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (lastCell) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            rs: rs,\r\n                            cs: cs + 1,\r\n                            index: removeIndex,\r\n                            row: -1\r\n                        });\r\n                    }\r\n\r\n                    if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\r\n                        removeCell.push(cell);\r\n                    } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\r\n                        cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs); \r\n                    } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\r\n                        removeSpanArr.push({\r\n                            cell: cell,\r\n                            i: i,\r\n                            rs: i + rs\r\n                        });\r\n                    }\r\n\r\n                    cellColSpan += cs;\r\n                }\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n\r\n            if (!remove) {\r\n                if (passCell > 0) {\r\n                    passCell -= 1;\r\n                    continue;\r\n                }\r\n\r\n                if (insertIndex !== null && cells.length > 0) {\r\n                    newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\r\n                    newCell = row.insertBefore(newCell, cells[insertIndex]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            let removeFirst, removeEnd;\r\n            for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\r\n                row = removeCell[r].parentNode;\r\n                util.removeItem(removeCell[r]);\r\n                if (row.cells.length === 0) {\r\n                    if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\r\n                    removeEnd = util.getArrayIndex(rows, row);\r\n                    util.removeItem(row);\r\n                }\r\n            }\r\n\r\n            for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\r\n                rowSpanCell = removeSpanArr[c];\r\n                rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\r\n            }\r\n\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        }\r\n    },\r\n\r\n    _closeSplitMenu: null,\r\n    openSplitMenu: function () {\r\n        this.util.addClass(this.context.table.splitButton, 'on');\r\n        this.context.table.splitMenu.style.display = 'inline-table';\r\n\r\n        this.plugins.table._closeSplitMenu = function () {\r\n            this.util.removeClass(this.context.table.splitButton, 'on');\r\n            this.context.table.splitMenu.style.display = 'none';\r\n            this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n            this.plugins.table._closeSplitMenu = null;\r\n        }.bind(this);\r\n\r\n        this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n    },\r\n\r\n    splitCells: function (direction) {\r\n        const util = this.util;\r\n        const vertical = direction === 'vertical';\r\n        const contextTable = this.context.table;\r\n        const currentCell = contextTable._tdElement;\r\n        const rows = contextTable._trElements;\r\n        const currentRow = contextTable._trElement;\r\n        const index = contextTable._logical_cellIndex;\r\n        const rowIndex = contextTable._rowIndex;\r\n        const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true);\r\n\r\n        // vertical\r\n        if (vertical) {\r\n            const currentColSpan = currentCell.colSpan;\r\n            newCell.rowSpan = currentCell.rowSpan;\r\n\r\n            // colspan > 1\r\n            if (currentColSpan > 1) {\r\n                newCell.colSpan = this._w.Math.floor(currentColSpan/2);\r\n                currentCell.colSpan = currentColSpan - newCell.colSpan;\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            } else { // colspan - 1\r\n                let rowSpanArr = [];\r\n                let spanIndex = [];\r\n\r\n                for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                        cell = cells[c];\r\n                        cs = cell.colSpan - 1;\r\n                        rs = cell.rowSpan - 1;\r\n                        logcalIndex = c + colSpan;\r\n\r\n                        if (spanIndex.length > 0) {\r\n                            for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                                arr = spanIndex[r];\r\n                                if (arr.row > i) continue;\r\n                                if (logcalIndex >= arr.index) {\r\n                                    colSpan += arr.cs;\r\n                                    logcalIndex += arr.cs;\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }  \r\n                                } else if (c === cLen - 1) {\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (logcalIndex <= index && rs > 0) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cs + 1,\r\n                                rs: rs,\r\n                                row: -1\r\n                            });\r\n                        }\r\n\r\n                        if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\r\n                            cell.colSpan += 1;\r\n                            break;\r\n                        }\r\n\r\n                        if (logcalIndex > index) break;\r\n                        \r\n                        colSpan += cs;\r\n                    }\r\n\r\n                    spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                    rowSpanArr = [];\r\n                }\r\n\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            }\r\n        } else { // horizontal\r\n            const currentRowSpan = currentCell.rowSpan;\r\n            newCell.colSpan = currentCell.colSpan;\r\n\r\n            // rowspan > 1\r\n            if (currentRowSpan > 1) {\r\n                newCell.rowSpan = this._w.Math.floor(currentRowSpan/2);\r\n                const newRowSpan = currentRowSpan - newCell.rowSpan;\r\n\r\n                const rowSpanArr = [];\r\n                const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\r\n\r\n                for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\r\n                        logcalIndex = c + colSpan;\r\n                        if (logcalIndex >= index) break;\r\n\r\n                        cell = cells[c];\r\n                        cs = cell.rowSpan - 1;\r\n                        if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cell.colSpan\r\n                            });\r\n                        }\r\n                        colSpan += cell.colSpan - 1;\r\n                    }\r\n                }\r\n\r\n                const nextRow = rows[nextRowIndex];\r\n                const nextCells = nextRow.cells;\r\n                let rs = rowSpanArr.shift();\r\n\r\n                for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\r\n                    logcalIndex = c + colSpan;\r\n                    cell = nextCells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    insertIndex = logcalIndex + cs + 1;\r\n\r\n                    if (rs && insertIndex >= rs.index) {\r\n                        colSpan += rs.cs;\r\n                        insertIndex += rs.cs;\r\n                        rs = rowSpanArr.shift();\r\n                    }\r\n                    \r\n                    if (insertIndex >= index || c === cLen - 1) {\r\n                        nextRow.insertBefore(newCell, cell.nextElementSibling);\r\n                        break;\r\n                    }\r\n\r\n                    colSpan += cs;\r\n                }\r\n\r\n                currentCell.rowSpan = newRowSpan;\r\n            } else { // rowspan - 1\r\n                newCell.rowSpan = currentCell.rowSpan;\r\n                const newRow = util.createElement('TR');\r\n                newRow.appendChild(newCell);\r\n\r\n                for (let i = 0, cells; i < rowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    if (cells.length === 0) return;\r\n\r\n                    for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                        if (i + cells[c].rowSpan - 1 >= rowIndex) {\r\n                            cells[c].rowSpan += 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const physicalIndex = contextTable._physical_cellIndex;\r\n                const cells = currentRow.cells;\r\n\r\n                for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                    if (c === physicalIndex) continue;       \r\n                    cells[c].rowSpan += 1;                    \r\n                }\r\n\r\n                currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\r\n            }\r\n        }\r\n\r\n        this.focusEdge(currentCell);\r\n        this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\r\n    },\r\n\r\n    mergeCells: function () {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n\r\n        const ref = tablePlugin._ref;\r\n        const selectedCells = tablePlugin._selectedCells;\r\n        const mergeCell = selectedCells[0];\r\n        \r\n        let emptyRowFirst = null;\r\n        let emptyRowLast = null;\r\n        let cs = (ref.ce - ref.cs) + 1;\r\n        let rs = (ref.re - ref.rs) + 1;\r\n        let mergeHTML = '';\r\n        let row = null;\r\n\r\n        for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\r\n            cell = selectedCells[i];\r\n            if (row !== cell.parentNode) row = cell.parentNode;\r\n\r\n            ch = cell.children;\r\n            for (let c = 0, cLen = ch.length; c < cLen; c++) {\r\n                if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\r\n                    util.removeItem(ch[c]);\r\n                }  \r\n            }\r\n\r\n            mergeHTML += cell.innerHTML;\r\n            util.removeItem(cell);\r\n\r\n            if (row.cells.length === 0) {\r\n                if (!emptyRowFirst) emptyRowFirst = row;\r\n                else emptyRowLast = row;\r\n                rs -= 1;\r\n            }\r\n        }\r\n\r\n        if (emptyRowFirst) {\r\n            const rows = contextTable._trElements;\r\n            const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\r\n            const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\r\n            const removeRows = [];\r\n    \r\n            for (let i = 0, cells; i <= rowIndexLast; i++) {\r\n                cells = rows[i].cells;\r\n                if (cells.length === 0) {\r\n                    removeRows.push(rows[i]);\r\n                    continue;\r\n                }\r\n    \r\n                for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    rs = cell.rowSpan - 1;\r\n                    if (rs > 0 && i + rs >= rowIndexFirst) {\r\n                        cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = removeRows.length; i < len; i++) {\r\n                util.removeItem(removeRows[i]);\r\n            }\r\n        }\r\n\r\n        mergeCell.innerHTML += mergeHTML;\r\n        mergeCell.colSpan = cs;\r\n        mergeCell.rowSpan = rs;\r\n\r\n        this.controllersOff();\r\n        tablePlugin.setActiveButton.call(this, true, false);\r\n        tablePlugin.call_controller_tableEdit.call(this, mergeCell);\r\n\r\n        util.addClass(mergeCell, 'se-table-selected-cell');\r\n        this.focusEdge(mergeCell);\r\n    },\r\n\r\n    toggleHeader: function () {\r\n        const util = this.util;\r\n        const headerButton = this.context.table.headerButton;\r\n        const active = util.hasClass(headerButton, 'active');\r\n        const table = this.context.table._element;\r\n\r\n        if (!active) {\r\n            const header = util.createElement('THEAD');\r\n            header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\r\n            table.insertBefore(header, table.firstElementChild);\r\n        } else {\r\n            util.removeItem(table.querySelector('thead'));\r\n        }\r\n\r\n        util.toggleClass(headerButton, 'active');\r\n\r\n        if (/TH/i.test(this.context.table._tdElement.nodeName)) {\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\r\n        }\r\n    },\r\n\r\n    setTableStyle: function (styles) {\r\n        const contextTable = this.context.table;\r\n        const tableElement = contextTable._element;\r\n        let icon, span, sizeIcon, text;\r\n\r\n        if (styles.indexOf('width') > -1) {\r\n            icon =  contextTable.resizeButton.firstElementChild;\r\n            span = contextTable.resizeText;\r\n\r\n            if (!contextTable._maxWidth) {\r\n                sizeIcon = contextTable.icons.expansion;\r\n                text = contextTable.maxText;\r\n                contextTable.columnFixedButton.style.display = 'none';\r\n                this.util.removeClass(tableElement, 'se-table-size-100');\r\n                this.util.addClass(tableElement, 'se-table-size-auto');\r\n            } else {\r\n                sizeIcon = contextTable.icons.reduction;\r\n                text = contextTable.minText;\r\n                contextTable.columnFixedButton.style.display = 'block';\r\n                this.util.removeClass(tableElement, 'se-table-size-auto');\r\n                this.util.addClass(tableElement, 'se-table-size-100');\r\n            }\r\n            \r\n            this.util.changeElement(icon, sizeIcon);\r\n            this.util.changeTxt(span, text);\r\n        }\r\n\r\n        if (styles.indexOf('column') > -1) {\r\n            if (!contextTable._fixedColumn) {\r\n                this.util.removeClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(tableElement, 'se-table-layout-auto');\r\n                this.util.removeClass(contextTable.columnFixedButton, 'active');\r\n            } else {\r\n                this.util.removeClass(tableElement, 'se-table-layout-auto');\r\n                this.util.addClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(contextTable.columnFixedButton, 'active');\r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setActiveButton: function (fixedCell, selectedCell) {\r\n        const contextTable = this.context.table;\r\n\r\n        if (/^TH$/i.test(fixedCell.nodeName)) {\r\n            contextTable.insertRowAboveButton.setAttribute('disabled', true);\r\n            contextTable.insertRowBelowButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.insertRowAboveButton.removeAttribute('disabled');\r\n            contextTable.insertRowBelowButton.removeAttribute('disabled');\r\n        }\r\n\r\n        if (!selectedCell || fixedCell === selectedCell) {\r\n            contextTable.splitButton.removeAttribute('disabled');\r\n            contextTable.mergeButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.splitButton.setAttribute('disabled', true);\r\n            contextTable.mergeButton.removeAttribute('disabled');\r\n        }\r\n    },\r\n\r\n    // multi selecte\r\n    _bindOnSelect: null,\r\n    _bindOffSelect: null,\r\n    _bindOffShift: null,\r\n    _selectedCells: null,\r\n    _shift: false,\r\n    _fixedCell: null,\r\n    _fixedCellName: null,\r\n    _selectedCell: null,\r\n    _selectedTable: null,\r\n    _ref: null,\r\n    _toggleEditor: function (enabled) {\r\n        this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\r\n        if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');\r\n        else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\r\n    },\r\n\r\n    _offCellMultiSelect: function (e) {\r\n        e.stopPropagation();\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._removeEvents.call(this);\r\n            tablePlugin._toggleEditor.call(this, true);\r\n        } else if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\r\n        \r\n        tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\r\n        tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\r\n\r\n        tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._fixedCell = null;\r\n            tablePlugin._selectedCell = null;\r\n            tablePlugin._fixedCellName = null;\r\n        }\r\n    },\r\n\r\n    _onCellMultiSelect: function (e) {\r\n        this._antiBlur = true;\r\n        const tablePlugin = this.plugins.table;\r\n        const target = this.util.getParentElement(e.target, this.util.isCell);\r\n\r\n        if (tablePlugin._shift) {\r\n            if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        } else if (!tablePlugin._ref) {\r\n            if (target === tablePlugin._fixedCell) return;\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        }\r\n\r\n        if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || \r\n            tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\r\n            return;\r\n        }\r\n\r\n        tablePlugin._selectedCell = target;\r\n        tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\r\n    },\r\n\r\n    _setMultiCells: function (startCell, endCell) {\r\n        const tablePlugin = this.plugins.table;\r\n        const rows = tablePlugin._selectedTable.rows;\r\n        const util = this.util;\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        if (startCell === endCell) {\r\n            util.addClass(startCell, 'se-table-selected-cell');\r\n            if (!tablePlugin._shift) return;\r\n        }\r\n\r\n        let findSelectedCell = true;\r\n        let spanIndex = [];\r\n        let rowSpanArr = [];\r\n        const ref = tablePlugin._ref = {_i: 0, cs: null, ce: null, rs: null, re: null};\r\n\r\n        for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\r\n            cells = rows[i].cells;\r\n            colSpan = 0;\r\n\r\n            for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\r\n                cell = cells[c];\r\n                cs = cell.colSpan - 1;\r\n                rs = cell.rowSpan - 1;\r\n                logcalIndex = c + colSpan;\r\n\r\n                if (spanIndex.length > 0) {\r\n                    for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                        arr = spanIndex[r];\r\n                        if (arr.row > i) continue;\r\n                        if (logcalIndex >= arr.index) {\r\n                            colSpan += arr.cs;\r\n                            logcalIndex += arr.cs;\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        } else if (c === cLen - 1) {\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (findSelectedCell) {\r\n                    if (cell === startCell || cell === endCell) {\r\n                        ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                        ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                        ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\r\n                        ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\r\n                        ref._i += 1;\r\n                    }\r\n                    \r\n                    if (ref._i === 2) {\r\n                        findSelectedCell = false;\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        i = -1;\r\n                        break;\r\n                    }\r\n                } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\r\n                    const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                    const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                    const newRs = ref.rs < i ? ref.rs : i;\r\n                    const newRe = ref.re > i + rs ? ref.re : i + rs;\r\n\r\n                    if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\r\n                        ref.cs = newCs;\r\n                        ref.ce = newCe;\r\n                        ref.rs = newRs;\r\n                        ref.re = newRe;\r\n                        i = -1;\r\n\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        break;\r\n                    }\r\n\r\n                    util.addClass(cell, 'se-table-selected-cell');\r\n                }\r\n\r\n                if (rs > 0) {\r\n                    rowSpanArr.push({\r\n                        index: logcalIndex,\r\n                        cs: cs + 1,\r\n                        rs: rs,\r\n                        row: -1\r\n                    });\r\n                }\r\n\r\n                colSpan += cell.colSpan - 1;\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n        }\r\n    },\r\n\r\n    _removeEvents: function () {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOnSelect) {\r\n            this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\r\n            this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\r\n            tablePlugin._bindOnSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffSelect) {\r\n            this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\r\n            tablePlugin._bindOffSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffShift) {\r\n            this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\r\n            tablePlugin._bindOffShift = null;\r\n        }\r\n    },\r\n\r\n    _initBind: null,\r\n    onTableCellMultiSelect: function (tdElement, shift) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n        this.controllersOff();\r\n\r\n        tablePlugin._shift = shift;\r\n        tablePlugin._fixedCell = tdElement;\r\n        tablePlugin._fixedCellName = tdElement.nodeName;\r\n        tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        this.util.addClass(tdElement, 'se-table-selected-cell');\r\n        \r\n        tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\r\n        tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\r\n\r\n        if (!shift) {\r\n            this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\r\n        } else {\r\n            tablePlugin._bindOffShift = function () {\r\n                this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\r\n                if (!tablePlugin._ref) this.controllersOff();\r\n            }.bind(this);\r\n\r\n            this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\r\n            this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\r\n        }\r\n\r\n        this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\r\n        tablePlugin._initBind = tablePlugin.init.bind(this);\r\n        this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\r\n    },\r\n\r\n    onClick_tableController: function (e) {\r\n        e.stopPropagation();\r\n        const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\r\n\r\n        if (target.getAttribute('disabled')) return;\r\n\r\n        const command = target.getAttribute('data-command');\r\n        const value = target.getAttribute('data-value');\r\n        const option = target.getAttribute('data-option');\r\n        const tablePlugin = this.plugins.table;\r\n        \r\n        if (typeof tablePlugin._closeSplitMenu === 'function') {\r\n            tablePlugin._closeSplitMenu();\r\n            if (command === 'onsplit') return;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n        const contextTable = this.context.table;\r\n\r\n        switch (command) {\r\n            case 'insert':\r\n            case 'delete':\r\n                tablePlugin.editTable.call(this, value, option);\r\n                break;\r\n            case 'header':\r\n                tablePlugin.toggleHeader.call(this);\r\n                break;\r\n            case 'onsplit':\r\n                tablePlugin.openSplitMenu.call(this);\r\n                break;\r\n            case 'split':\r\n                tablePlugin.splitCells.call(this, value);\r\n                break;\r\n            case 'merge':\r\n                tablePlugin.mergeCells.call(this);\r\n                break;\r\n            case 'resize':\r\n                contextTable._maxWidth = !contextTable._maxWidth;\r\n                tablePlugin.setTableStyle.call(this, 'width');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'layout':\r\n                contextTable._fixedColumn = !contextTable._fixedColumn;\r\n                tablePlugin.setTableStyle.call(this, 'column');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'remove':\r\n                const emptyDiv = contextTable._element.parentNode;\r\n                this.util.removeItem(contextTable._element);\r\n                this.controllersOff();\r\n\r\n                if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n                this.focus();\r\n        }\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'template',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.template = {};\r\n\r\n        /** set submenu */\r\n        let templateDiv = this.setSubmenu.call(core);\r\n\r\n        /** add event listeners */\r\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, templateDiv);\r\n\r\n        /** empty memory */\r\n        templateDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const templateList = this.context.option.templates;\r\n        if (!templateList || templateList.length === 0) {\r\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\r\n        }\r\n\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-list-layer';\r\n\r\n        let list = '<div class=\"se-submenu se-list-inner\">' +\r\n                '<ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\r\n            t = templateList[i];\r\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    pickup: function (e) {\r\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const temp = this.context.option.templates[e.target.getAttribute('data-value')];\r\n\r\n        if (temp.html) {\r\n            this.setContents(temp.html);\r\n        } else {\r\n            this.submenuOff();\r\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\r\n        }\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'textStyle',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        context.textStyle = {\r\n            _styleList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let listUl = listDiv.querySelector('ul');\r\n\r\n        /** add event listeners */\r\n        listUl.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null, listUl = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const option = this.context.option;\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\r\n\r\n        const defaultList = {\r\n            code: {\r\n                name: this.lang.menu.code,\r\n                class: '__se__t-code',\r\n                tag: 'code',\r\n            },\r\n            translucent: {\r\n                name: this.lang.menu.translucent,\r\n                style: 'opacity: 0.5;',\r\n                tag: 'span',\r\n            },\r\n            shadow: {\r\n                name: this.lang.menu.shadow,\r\n                class: '__se__t-shadow',\r\n                tag: 'span',\r\n            }\r\n        };\r\n        const styleList = !option.textStyles ? this._w.Object.keys(defaultList) : option.textStyles;\r\n\r\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\r\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\r\n            t = styleList[i];\r\n            attrs = '', value = '', command = [];\r\n\r\n            if (typeof t === 'string') {\r\n                const defaultStyle = defaultList[t.toLowerCase()];\r\n                if (!defaultStyle) continue;\r\n                t = defaultStyle;\r\n            }\r\n\r\n            name = t.name;\r\n            tag = t.tag || 'span';\r\n            _class = t._class;\r\n\r\n            if (t.style) {\r\n                attrs += ' style=\"' + t.style + '\"';\r\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\r\n                command.push('style');\r\n            }\r\n            if (t.class) {\r\n                attrs += ' class=\"' + t.class + '\"';\r\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\r\n                command.push('class');\r\n            }\r\n\r\n            value = value.replace(/,$/, '');\r\n\r\n            list += '<li>' +\r\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' +\r\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\r\n                '</button></li>';\r\n        }\r\n        list += '</ul></div>';\r\n\r\n        listDiv.innerHTML = list;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const util = this.util;\r\n        const textStyleContext = this.context.textStyle;\r\n        const styleButtonList = textStyleContext._styleList;\r\n        const selectionNode = this.getSelectionNode();\r\n\r\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\r\n            btn = styleButtonList[i];\r\n            data = btn.getAttribute('data-value').split(',');\r\n            \r\n            for (let v = 0, node, value; v < data.length; v++) {\r\n                node = selectionNode;\r\n                active = false;\r\n                \r\n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\r\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\r\n                        value = data[v];\r\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\r\n                            active = true;\r\n                            break;\r\n                        }\r\n                    }\r\n                    node = node.parentNode;\r\n                }\r\n\r\n                if (!active) break;\r\n            }\r\n\r\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\r\n        }\r\n\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        let target = e.target;\r\n        let command = null, tag = null;\r\n        \r\n        while (!command && !/UL/i.test(target.tagName)) {\r\n            command = target.getAttribute('data-command');\r\n            if (command) {\r\n                tag = target.firstChild;\r\n                break;\r\n            }\r\n            target = target.parentNode;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\r\n        checkStyles.pop();\r\n\r\n        const classes = tag.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            checkStyles.push('.' + classes[i]);\r\n        }\r\n\r\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\r\n        const removeNodes = newNode ? null : [tag.nodeName];\r\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'image',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\r\n        \r\n        const context = core.context;\r\n        const contextImage = context.image = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            sizeUnit: context.option._imageSizeUnit,\r\n            _altText: '',\r\n            _linkElement: null,\r\n            _align: 'none',\r\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\r\n            _v_link: {_linkValue: ''},\r\n            _v_src: {_linkValue: ''},\r\n            svgDefaultSize: '30%',\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n            // @Override resizing properties\r\n            inputX: null,\r\n            inputY: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\r\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\r\n            _proportionChecked: true,\r\n            _resizing: context.option.imageResizing,\r\n            _resizeDotHide: !context.option.imageHeightShow,\r\n            _rotation: context.option.imageRotation,\r\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1,\r\n            _captionShow: true,\r\n            _captionChecked: false,\r\n            _caption: null,\r\n            captionCheckEl: null\r\n        };\r\n\r\n        /** image dialog */\r\n        let image_dialog = this.setDialog.call(core);\r\n        contextImage.modal = image_dialog;\r\n        contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\r\n        contextImage.imgUrlFile = image_dialog.querySelector('.se-input-url');\r\n        contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\r\n        contextImage.altText = image_dialog.querySelector('._se_image_alt');\r\n        contextImage.imgLink = image_dialog.querySelector('._se_image_link');\r\n        contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\r\n        contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\r\n        contextImage.previewLink = image_dialog.querySelector('._se_tab_content_url .se-link-preview');\r\n        contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\r\n\r\n        /** add event listeners */\r\n        image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\r\n        image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\r\n        if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\r\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\r\n\r\n        contextImage.imgLink.addEventListener('input', this._onLinkPreview.bind(contextImage.previewLink, contextImage._v_link, context.options.linkProtocol));\r\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, context.options.linkProtocol));\r\n\r\n        const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\r\n        if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\r\n        \r\n        contextImage.proportion = {};\r\n        contextImage.inputX = {};\r\n        contextImage.inputY = {};\r\n        if (context.option.imageResizing) {\r\n            contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\r\n            contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\r\n            contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\r\n            contextImage.inputX.value = context.option.imageWidth;\r\n            contextImage.inputY.value = context.option.imageHeight;\r\n            \r\n            contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\r\n            contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\r\n\r\n            contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\r\n            contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\r\n            contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\r\n            \r\n            image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\r\n        }\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(image_dialog);\r\n\r\n        /** empty memory */\r\n        image_dialog = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const dialog = this.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n\r\n        let html = '' +\r\n            '<div class=\"se-dialog-header\">' +\r\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                    this.icons.cancel +\r\n                '</button>' +\r\n                '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' +\r\n            '</div>' +\r\n            '<div class=\"se-dialog-tabs\">' +\r\n                '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\r\n                '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\r\n            '</div>' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"_se_tab_content _se_tab_content_image\">' +\r\n                    '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\r\n                    \r\n                    if (option.imageFileInput) {\r\n                        html += '' +\r\n                            '<div class=\"se-dialog-form\">' +\r\n                                '<label>' + lang.dialogBox.imageBox.file + '</label>' +\r\n                                '<div class=\"se-dialog-form-files\">' +\r\n                                    '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\r\n                                '</div>' +\r\n                            '</div>' ;\r\n                    }\r\n        \r\n                    if (option.imageUrlInput) {\r\n                        html += '' +\r\n                            '<div class=\"se-dialog-form\">' +\r\n                                '<label>' + lang.dialogBox.imageBox.url + '</label>' +\r\n                                '<div class=\"se-dialog-form-files\">' +\r\n                                    '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\r\n                                    ((option.imageGalleryUrl && this.plugins.imageGallery) ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + this.icons.image_gallery + '</button>' : '') +\r\n                                '</div>' +\r\n                                '<pre class=\"se-link-preview\"></pre>' +\r\n                            '</div>';\r\n                    }\r\n        \r\n                    html += '</div>' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' +\r\n                        '</div>';\r\n\r\n            if (option.imageResizing) {\r\n                const onlyPercentage = option.imageSizeOnlyPercentage;\r\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\r\n                const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\r\n                html += '<div class=\"se-dialog-form\">';\r\n                        if (onlyPercentage || !option.imageHeightShow) {\r\n                            html += '' +\r\n                            '<div class=\"se-dialog-size-text\">' +\r\n                                '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' +\r\n                            '</div>';\r\n                        } else {\r\n                            html += '' +\r\n                            '<div class=\"se-dialog-size-text\">' +\r\n                                '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\r\n                                '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\r\n                                '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' +\r\n                            '</div>';\r\n                        }\r\n                        html += '' +\r\n                            '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' +\r\n                            '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\r\n                            '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\r\n                            '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\r\n                            '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\r\n                        '</div>' ;\r\n            }\r\n\r\n            html += '' +\r\n                        '<div class=\"se-dialog-form se-dialog-form-footer\">' +\r\n                            '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\r\n                        '</div>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n                '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' +\r\n                    '<div class=\"se-dialog-body\">' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form _se_image_link\" type=\"text\" />' +\r\n                            '<pre class=\"se-link-preview\"></pre>' +\r\n                        '</div>' +\r\n                        '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<div>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\r\n                    '</div>' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    _fileInputChange: function () {\r\n        if (!this.imgInputFile.value) {\r\n            this.imgUrlFile.removeAttribute('disabled');\r\n            this.previewSrc.style.textDecoration = '';\r\n        } else {\r\n            this.imgUrlFile.setAttribute('disabled', true);\r\n            this.previewSrc.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    _removeSelectedFiles: function (urlInput, previewSrc) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            previewSrc.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    _openGallery: function () {\r\n        this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\r\n    },\r\n\r\n    _setUrlInput: function (target) {\r\n        this.altText.value = target.alt;\r\n        this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\r\n        this.imgUrlFile.focus();\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n    },\r\n\r\n    /**\r\n     * @Override @Required fileManager\r\n     */\r\n    fileTags: ['img'],\r\n\r\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing\r\n     */\r\n    destroy: function (element) {\r\n        const imageEl = element || this.context.image._element;\r\n        const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\r\n        const dataIndex = imageEl.getAttribute('data-index') * 1;\r\n        let focusEl = (imageContainer.previousElementSibling || imageContainer.nextElementSibling);\r\n        \r\n        const emptyDiv = imageContainer.parentNode;\r\n        this.util.removeItem(imageContainer);\r\n        this.plugins.image.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n        \r\n        // event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextImage = this.context.image;\r\n        \r\n        if (!update) {\r\n            contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\r\n            contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\r\n            if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\r\n        } else {\r\n            if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\r\n    },\r\n\r\n    openTab: function (e) {\r\n        const modal = this.context.image.modal;\r\n        const targetElement = (e === 'init' ? modal.querySelector('._se_tab_link') : e.target);\r\n\r\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\r\n            return false;\r\n        }\r\n\r\n        // Declare all variables\r\n        const tabName = targetElement.getAttribute('data-tab-link');\r\n        const contentClassName = '_se_tab_content';\r\n        let i, tabContent, tabLinks;\r\n\r\n        // Get all elements with class=\"tabcontent\" and hide them\r\n        tabContent = modal.getElementsByClassName(contentClassName);\r\n        for (i = 0; i < tabContent.length; i++) {\r\n            tabContent[i].style.display = 'none';\r\n        }\r\n\r\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\r\n        tabLinks = modal.getElementsByClassName('_se_tab_link');\r\n        for (i = 0; i < tabLinks.length; i++) {\r\n            this.util.removeClass(tabLinks[i], 'active');\r\n        }\r\n\r\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\r\n        modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\r\n        this.util.addClass(targetElement, 'active');\r\n\r\n        // focus\r\n        if (tabName === 'image' && this.context.image.focusElement) {\r\n            this.context.image.focusElement.focus();\r\n        } else if (tabName === 'url' && this.context.image.imgLink) {\r\n            this.context.image.imgLink.focus();\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextImage = this.context.image;\r\n        const imagePlugin = this.plugins.image;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        contextImage._altText = contextImage.altText.value;\r\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\r\n        contextImage._captionChecked = contextImage.captionCheckEl.checked;\r\n        if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\r\n\r\n        try {\r\n            if (this.context.dialog.updateModal) {\r\n                imagePlugin.update_image.call(this, false, true, false);\r\n            }\r\n            \r\n            if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\r\n            } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\r\n                this.showLoading();\r\n                imagePlugin.onRender_imgUrl.call(this);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/image/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.context.option.imageUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const imagesInfo = this.context.image._infoList;\r\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\r\n                infoSize += imagesInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + (limitSize/1000) + 'KB';\r\n                if (this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextImage = this.context.image;\r\n        contextImage._uploadFileLength = files.length;\r\n        \r\n        const info = {\r\n            linkValue: contextImage._v_link._linkValue,\r\n            linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\r\n            inputWidth: contextImage.inputX.value,\r\n            inputHeight: contextImage.inputY.value,\r\n            align: contextImage._align,\r\n            isUpdate: this.context.dialog.updateModal,\r\n            element: contextImage._element\r\n        };\r\n\r\n        if (typeof this.functions.onImageUploadBefore === 'function') {\r\n            const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.image.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.image.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n            \r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (this._w.Array.isArray(result) && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.image.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.image.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const imageUploadUrl = this.context.option.imageUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // server upload\r\n        if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\r\n            const formData = new FormData();\r\n            for (let i = 0; i < filesLen; i++) {\r\n                formData.append('file-' + i, files[i]);\r\n            }\r\n            this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n        } else { // base64\r\n            this.plugins.image.setup_reader.call(this, files, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, filesLen - 1, info.isUpdate);\r\n        }\r\n    },\r\n\r\n    callBack_imgUpload: function (info, xmlHttp) {\r\n        if (typeof this.functions.imageUploadHandler === 'function') {\r\n            this.functions.imageUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.image.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.image.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n\r\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            if (info.isUpdate) {\r\n                this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\r\n                break;\r\n            } else {\r\n                this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\r\n            }\r\n        }\r\n        \r\n        this.closeLoading();\r\n    },\r\n\r\n    setup_reader: function (files, imgLinkValue, newWindowCheck, width, height, align, filesLen, isUpdate) {\r\n        try {\r\n            const wFileReader = this._w.FileReader;\r\n    \r\n            for (let i = 0, reader, file; i <= filesLen; i++) {\r\n                reader = new wFileReader();\r\n                file = files[i];\r\n    \r\n                if (isUpdate) {\r\n                    this.context.image._element.setAttribute('data-file-name', file.name);\r\n                    this.context.image._element.setAttribute('data-file-size', file.size);\r\n                }\r\n        \r\n                reader.onload = function (update, updateElement, file, close) {\r\n                    this.context.image.inputX.value = width;\r\n                    this.context.image.inputY.value = height;\r\n                    if (update) this.plugins.image.update_src.call(this, reader.result, updateElement, file);\r\n                    else this.plugins.image.create_image.call(this, reader.result, imgLinkValue, newWindowCheck, width, height, align, file);\r\n    \r\n                    if (close) this.closeLoading();\r\n                }.bind(this, isUpdate, this.context.image._element, file, i === filesLen);\r\n        \r\n                reader.readAsDataURL(file);\r\n            }\r\n        } catch (e) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\r\n        }\r\n    },\r\n\r\n    onRender_imgUrl: function () {\r\n        const contextImage = this.context.image;\r\n        if (contextImage._v_src._linkValue.length === 0) return false;\r\n\r\n        try {\r\n            const file = {name: contextImage._v_src._linkValue.split('/').pop(), size: 0};\r\n            if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\r\n            else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, contextImage._v_link._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\r\n        } catch (e) {\r\n            throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\r\n        if (imgLinkValue.trim().length > 0) {\r\n            const link = this.util.createElement('A');\r\n            link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\r\n            link.target = (newWindowCheck ? '_blank' : '');\r\n            link.setAttribute('data-image-link', 'image');\r\n            imgTag.setAttribute('data-image-link', imgLinkValue);\r\n\r\n            link.appendChild(imgTag);\r\n            return link;\r\n        }\r\n\r\n        return imgTag;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\r\n    setInputSize: function (xy, e) {\r\n        if (e && e.keyCode === 32) {\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n\r\n        this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setRatio: function () {\r\n        this.plugins.resizing._module_setRatio.call(this, this.context.image);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        const imagePlugin = this.plugins.image;\r\n\r\n        const modifyHandler = function (tag) {\r\n            imagePlugin.onModifyMode.call(this, tag, null);\r\n            imagePlugin.openModify.call(this, true);\r\n            imagePlugin.update_image.call(this, true, false, true);\r\n        }.bind(this);\r\n\r\n        this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\r\n    },\r\n\r\n    create_image: function (src, linkValue, linkNewWindow, width, height, align, file) {\r\n        const imagePlugin = this.plugins.image;\r\n        const contextImage = this.context.image;\r\n        this.context.resizing._resize_plugin = 'image';\r\n\r\n        let oImg = this.util.createElement('IMG');\r\n        oImg.src = src;\r\n        oImg.alt = contextImage._altText;\r\n        oImg = imagePlugin.onRender_link.call(this, oImg, linkValue, linkNewWindow);\r\n        oImg.setAttribute('data-rotate', '0');\r\n\r\n        if (contextImage._resizing) {\r\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\r\n        }\r\n\r\n        const cover = this.plugins.component.set_cover.call(this, oImg);\r\n        const container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\r\n\r\n        // caption\r\n        if (contextImage._captionChecked) {\r\n            contextImage._caption = this.plugins.component.create_caption.call(this);\r\n            contextImage._caption.setAttribute('contenteditable', false);\r\n            cover.appendChild(contextImage._caption);\r\n        }\r\n\r\n        contextImage._element = oImg;\r\n        contextImage._cover = cover;\r\n        contextImage._container = container;\r\n\r\n        // set size\r\n        imagePlugin.applySize.call(this, width, height);\r\n\r\n        // align\r\n        imagePlugin.setAlign.call(this, align, oImg, cover, container);\r\n\r\n        oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize);\r\n        if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n        this.context.resizing._resize_plugin = '';\r\n    },\r\n\r\n    _image_create_onload: function (oImg, svgDefaultSize) {\r\n        // svg exception handling\r\n        if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\r\n        this.selectComponent.call(this, oImg, 'image');\r\n    },\r\n\r\n    update_image: function (init, openController, notHistoryPush) {\r\n        const contextImage = this.context.image;\r\n        const linkValue = contextImage._v_link._linkValue;\r\n        let imageEl = contextImage._element;\r\n        let cover = contextImage._cover;\r\n        let container = contextImage._container;\r\n        let isNewContainer = false;\r\n\r\n        if (cover === null) {\r\n            isNewContainer = true;\r\n            imageEl = contextImage._element.cloneNode(true);\r\n            cover = this.plugins.component.set_cover.call(this, imageEl);\r\n        }\r\n\r\n        if (container === null) {\r\n            cover = cover.cloneNode(true);\r\n            imageEl = cover.querySelector('img');\r\n            isNewContainer = true;\r\n            container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\r\n        } else if (isNewContainer) {\r\n            container.innerHTML = '';\r\n            container.appendChild(cover);\r\n            contextImage._cover = cover;\r\n            contextImage._element = imageEl;\r\n            isNewContainer = false;\r\n        }\r\n\r\n        // check size\r\n        let changeSize;\r\n        const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\r\n        const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\r\n        if (/%$/.test(imageEl.style.width)) {\r\n            changeSize = x !== container.style.width || y !== container.style.height;\r\n        } else {\r\n            changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\r\n        }\r\n\r\n        // alt\r\n        imageEl.alt = contextImage._altText;\r\n        \r\n        // caption\r\n        let modifiedCaption = false;\r\n        if (contextImage._captionChecked) {\r\n            if (!contextImage._caption) {\r\n                contextImage._caption = this.plugins.component.create_caption.call(this);\r\n                cover.appendChild(contextImage._caption);\r\n                modifiedCaption = true;\r\n            }\r\n        } else {\r\n            if (contextImage._caption) {\r\n                this.util.removeItem(contextImage._caption);\r\n                contextImage._caption = null;\r\n                modifiedCaption = true;\r\n            }\r\n        }\r\n\r\n        // link\r\n        if (linkValue.trim().length > 0) {\r\n            if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\r\n                contextImage._linkElement.href = linkValue;\r\n                contextImage._linkElement.target = (contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '');\r\n                imageEl.setAttribute('data-image-link', linkValue);\r\n            } else {\r\n                let newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\r\n                cover.insertBefore(newEl, contextImage._caption);\r\n            }\r\n        }\r\n        else if (contextImage._linkElement !== null) {\r\n            const imageElement = imageEl;\r\n\r\n            imageElement.setAttribute('data-image-link', '');\r\n            let newEl = imageElement.cloneNode(true);\r\n            cover.removeChild(contextImage._linkElement);\r\n            cover.insertBefore(newEl, contextImage._caption);\r\n            imageEl = newEl;\r\n        }\r\n\r\n        if (isNewContainer) {\r\n            const existElement = (this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode)) ? \r\n                contextImage._element : \r\n                /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\r\n                \r\n            existElement.parentNode.replaceChild(container, existElement);\r\n            imageEl = container.querySelector('img');\r\n\r\n            contextImage._element = imageEl;\r\n            contextImage._cover = cover;\r\n            contextImage._container = container;\r\n        }\r\n\r\n        // transform\r\n        if (modifiedCaption || (!contextImage._onlyPercentage && changeSize)) {\r\n            if (!init && (/\\d+/.test(imageEl.style.height) || (this.context.resizing._rotateVertical && contextImage._captionChecked))) {\r\n                if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\r\n                    this.plugins.resizing.resetTransform.call(this, imageEl);\r\n                } else {\r\n                    this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\r\n                }\r\n            }\r\n        }\r\n\r\n        // size\r\n        let isPercent = false;\r\n        if (contextImage._resizing) {\r\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\r\n            if (changeSize) {\r\n                this.plugins.image.applySize.call(this);\r\n            }\r\n        }\r\n\r\n        // align\r\n        if (!(isPercent && contextImage._align === 'center')) {\r\n            this.plugins.image.setAlign.call(this, null, imageEl, null, null);\r\n        }\r\n\r\n        // set imagesInfo\r\n        if (init) {\r\n            this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\r\n        }\r\n\r\n        if (openController) {\r\n            this.selectComponent(imageEl, 'image');\r\n        }\r\n\r\n        // history stack\r\n        if (!notHistoryPush) this.history.push(false);\r\n    },\r\n\r\n    update_src: function (src, element, file) {\r\n        element.src = src;\r\n        this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\r\n        this.selectComponent(element, 'image');\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (element, size) {\r\n        if (!element) return;\r\n        \r\n        const contextImage = this.context.image;\r\n        contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\r\n        contextImage._element = element;\r\n        contextImage._cover = this.util.getParentElement(element, 'FIGURE');\r\n        contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n        contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\r\n        contextImage._align = element.getAttribute('data-align') || 'none';\r\n\r\n        if (size) {\r\n            contextImage._element_w = size.w;\r\n            contextImage._element_h = size.h;\r\n            contextImage._element_t = size.t;\r\n            contextImage._element_l = size.l;\r\n        }\r\n\r\n        let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\r\n        if (userSize) {\r\n            userSize = userSize.split(',');\r\n            contextImage._origin_w = userSize[0];\r\n            contextImage._origin_h = userSize[1];\r\n        } else if (size) {\r\n            contextImage._origin_w = size.w;\r\n            contextImage._origin_h = size.h;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        const contextImage = this.context.image;\r\n        if (contextImage.imgUrlFile) {\r\n            contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\r\n        }\r\n        contextImage._altText = contextImage.altText.value = contextImage._element.alt;\r\n        contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\r\n        contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\r\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\r\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\r\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\r\n        \r\n        if (contextImage._resizing) {\r\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\r\n        }\r\n\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    sizeRevert: function () {\r\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    applySize: function (w, h) {\r\n        const contextImage = this.context.image;\r\n\r\n        if (!w) w = contextImage.inputX.value || this.context.option.imageWidth;\r\n        if (!h) h = contextImage.inputY.value || this.context.option.imageHeight;\r\n        \r\n        if ((contextImage._onlyPercentage && !!w) || /%$/.test(w)) {\r\n            this.plugins.image.setPercentSize.call(this, w, h);\r\n            return true;\r\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\r\n            this.plugins.image.setAutoSize.call(this);\r\n        } else {\r\n            this.plugins.image.setSize.call(this, w, h, false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setSize: function (w, h, notResetPercentage, direction) {\r\n        const contextImage = this.context.image;\r\n        const onlyW = /^(rw|lw)$/.test(direction);\r\n        const onlyH = /^(th|bh)$/.test(direction);\r\n\r\n        this.plugins.image.cancelPercentAttr.call(this);\r\n\r\n        if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\r\n        if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n        if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAutoSize: function () {\r\n        const contextImage = this.context.image;\r\n\r\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\r\n        this.plugins.image.cancelPercentAttr.call(this);\r\n\r\n        contextImage._element.style.maxWidth = '';\r\n        contextImage._element.style.width = '';\r\n        contextImage._element.style.height = '';\r\n        contextImage._cover.style.width = '';\r\n        contextImage._cover.style.height = '';\r\n\r\n        this.plugins.image.setAlign.call(this, null, null, null, null);\r\n        contextImage._element.setAttribute('data-percentage', 'auto,auto');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n    \r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setOriginSize: function () {\r\n        const contextImage = this.context.image;\r\n        contextImage._element.removeAttribute('data-percentage');\r\n\r\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\r\n        this.plugins.image.cancelPercentAttr.call(this);\r\n\r\n        const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\r\n        const w = originSize[0];\r\n        const h = originSize[1];\r\n\r\n        if (originSize) {\r\n            if (contextImage._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\r\n                this.plugins.image.setPercentSize.call(this, w, h);\r\n            } else {\r\n                this.plugins.image.setSize.call(this, w, h);\r\n            }\r\n\r\n            // save current size\r\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setPercentSize: function (w, h) {\r\n        const contextImage = this.context.image;\r\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : (h || '');\r\n        const heightPercentage = /%$/.test(h);\r\n\r\n        contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\r\n        contextImage._container.style.height = '';\r\n        contextImage._cover.style.width = '100%';\r\n        contextImage._cover.style.height = !heightPercentage ? '' : h;\r\n        contextImage._element.style.width = '100%';\r\n        contextImage._element.style.height = heightPercentage ? '' : h;\r\n        contextImage._element.style.maxWidth = '';\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n\r\n        contextImage._element.setAttribute('data-percentage', w + ',' + h);\r\n        this.plugins.resizing.setCaptionPosition.call(this, contextImage._element);\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    cancelPercentAttr: function () {\r\n        const contextImage = this.context.image;\r\n        \r\n        contextImage._cover.style.width = '';\r\n        contextImage._cover.style.height = '';\r\n        contextImage._container.style.width = '';\r\n        contextImage._container.style.height = '';\r\n\r\n        this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\r\n        this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\r\n\r\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAlign: function (align, element, cover, container) {\r\n        const contextImage = this.context.image;\r\n        \r\n        if (!align) align = contextImage._align;\r\n        if (!element) element = contextImage._element;\r\n        if (!cover) cover = contextImage._cover;\r\n        if (!container) container = contextImage._container;\r\n\r\n        if (align && align !== 'none') {\r\n            cover.style.margin = 'auto';\r\n        } else {\r\n            cover.style.margin = '0';\r\n        }\r\n\r\n        if (/%$/.test(element.style.width) && align === 'center') {\r\n            container.style.minWidth = '100%';\r\n            cover.style.width = container.style.width;\r\n        } else {\r\n            container.style.minWidth = '';\r\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : ((!element.style.width || element.style.width === 'auto') ? '' : element.style.width || '100%');\r\n        }\r\n\r\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\r\n            this.util.removeClass(container, contextImage._floatClassRegExp);\r\n            this.util.addClass(container, '__se__float-' + align);\r\n        }\r\n        \r\n        element.setAttribute('data-align', align);\r\n    },\r\n\r\n    resetAlign: function () {\r\n        const contextImage = this.context.image;\r\n\r\n        contextImage._element.setAttribute('data-align', '');\r\n        contextImage._align = 'none';\r\n        contextImage._cover.style.margin = '0';\r\n        this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        const contextImage = this.context.image;\r\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\r\n        if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\r\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) {\r\n            contextImage.imgUrlFile.removeAttribute('disabled');\r\n            contextImage.previewSrc.style.textDecoration = '';\r\n        }\r\n\r\n        contextImage.altText.value = '';\r\n        contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = '';\r\n        contextImage.imgLinkNewWindowCheck.checked = false;\r\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\r\n        contextImage.captionCheckEl.checked = false;\r\n        contextImage._element = null;\r\n        this.plugins.image.openTab.call(this, 'init');\r\n\r\n        if (contextImage._resizing) {\r\n            contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\r\n            contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\r\n            contextImage.proportion.checked = true;\r\n            contextImage._ratio = false;\r\n            contextImage._ratioX = 1;\r\n            contextImage._ratioY = 1;\r\n        }\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'link',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\r\n\r\n        const context = core.context;\r\n        context.link = {\r\n            focusElement: null,\r\n            linkNewWindowCheck: null,\r\n            linkAnchorText: null,\r\n            _linkAnchor: null,\r\n            _linkValue: ''\r\n        };\r\n\r\n        /** link dialog */\r\n        let link_dialog = this.setDialog.call(core);\r\n        context.link.modal = link_dialog;\r\n        context.link.focusElement = link_dialog.querySelector('._se_link_url');\r\n        context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\r\n        context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\r\n        context.link.preview = link_dialog.querySelector('.se-link-preview');\r\n\r\n        /** link controller */\r\n        let link_controller = this.setController_LinkButton.call(core);\r\n        context.link.linkController = link_controller;\r\n        context.link._linkAnchor = null;\r\n        link_controller.addEventListener('mousedown', core.eventStop);\r\n\r\n        /** add event listeners */\r\n        link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\r\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\r\n        context.link.focusElement.addEventListener('input', this._onLinkPreview.bind(context.link.preview, context.link, context.options.linkProtocol));\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(link_dialog);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(link_controller);\r\n\r\n        /** empty memory */\r\n        link_dialog = null, link_controller = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function () {\r\n        const lang = this.lang;\r\n        const dialog = this.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        dialog.innerHTML = '' +\r\n            '<form class=\"editor_link\">' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                        this.icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-body\">' +\r\n                    '<div class=\"se-dialog-form\">' +\r\n                        '<label>' + lang.dialogBox.linkBox.url + '</label>' +\r\n                        '<input class=\"se-input-form _se_link_url\" type=\"text\" />' +\r\n                        '<pre class=\"se-link-preview\"></pre>' +\r\n                    '</div>' +\r\n                    '<div class=\"se-dialog-form\">' +\r\n                        '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' +\r\n                    '</div>' +\r\n                    '<div class=\"se-dialog-form-footer\">' +\r\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        return dialog;\r\n    },\r\n\r\n    /** modify controller button */\r\n    setController_LinkButton: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const link_btn = this.util.createElement('DIV');\r\n\r\n        link_btn.className = 'se-controller se-controller-link';\r\n        link_btn.innerHTML = '' +\r\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.edit +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.unlink +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return link_btn;\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n    },\r\n\r\n    submit: function (e) {\r\n        this.showLoading();\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const submitAction = function () {\r\n            const contextLink = this.context.link;\r\n            if (contextLink._linkValue.length === 0) return false;\r\n            \r\n            const url = contextLink._linkValue;\r\n            const anchor = contextLink.linkAnchorText;\r\n            const anchorText = anchor.value.length === 0 ? url : anchor.value;\r\n\r\n            if (!this.context.dialog.updateModal) {\r\n                const oA = this.util.createElement('A');\r\n                oA.href = url;\r\n                oA.textContent = anchorText;\r\n                oA.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\r\n\r\n                const selectedFormats = this.getSelectedElements();\r\n                if (selectedFormats.length > 1) {\r\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\r\n                    oFormat.appendChild(oA);\r\n                    if (!this.insertNode(oFormat, null, true)) return;\r\n                } else {\r\n                    if (!this.insertNode(oA, null, true)) return;\r\n                }\r\n\r\n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\r\n            } else {\r\n                contextLink._linkAnchor.href = url;\r\n                contextLink._linkAnchor.textContent = anchorText;\r\n                contextLink._linkAnchor.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\r\n\r\n                // set range\r\n                const textNode = contextLink._linkAnchor.childNodes[0];\r\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\r\n            }\r\n\r\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink.linkAnchorText.value = '';\r\n        }.bind(this);\r\n\r\n        try {\r\n            submitAction();\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n            this.closeLoading();\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override core\r\n     */\r\n    active: function (element) {\r\n        if (!element) {\r\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\r\n                this.controllersOff();\r\n            }\r\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\r\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\r\n                this.plugins.link.call_controller.call(this, element);\r\n            }\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextLink = this.context.link;\r\n        if (!update) {\r\n            this.plugins.link.init.call(this);\r\n            contextLink.linkAnchorText.value = this.getSelection().toString();\r\n        } else if (contextLink._linkAnchor) {\r\n            this.context.dialog.updateModal = true;\r\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\r\n            contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\r\n            contextLink.linkNewWindowCheck.checked = (/_blank/i.test(contextLink._linkAnchor.target) ? true : false);\r\n        }\r\n    },\r\n\r\n    call_controller: function (selectionATag) {\r\n        this.editLink = this.context.link._linkAnchor = selectionATag;\r\n        const linkBtn = this.context.link.linkController;\r\n        const link = linkBtn.querySelector('a');\r\n\r\n        link.href = selectionATag.href;\r\n        link.title = selectionATag.textContent;\r\n        link.textContent = selectionATag.textContent;\r\n\r\n        const offset = this.util.getOffset(selectionATag, this.context.element.wysiwygFrame);\r\n        linkBtn.style.top = (offset.top + selectionATag.offsetHeight + 10) + 'px';\r\n        linkBtn.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\r\n\r\n        linkBtn.style.display = 'block';\r\n\r\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (linkBtn.offsetLeft + linkBtn.offsetWidth);\r\n        if (overLeft < 0) {\r\n            linkBtn.style.left = (linkBtn.offsetLeft + overLeft) + 'px';\r\n            linkBtn.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n        } else {\r\n            linkBtn.firstElementChild.style.left = '20px';\r\n        }\r\n        \r\n        this.controllersOn(linkBtn, selectionATag, 'link');\r\n    },\r\n\r\n    onClick_linkController: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            const contextLink = this.context.link;\r\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\r\n            contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\r\n            contextLink.linkNewWindowCheck.checked = (/_blank/i.test(contextLink._linkAnchor.target) ? true : false);\r\n            this.plugins.dialog.open.call(this, 'link', true);\r\n        }\r\n        else if (/unlink/.test(command)) {\r\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n            this.setRange(sc, 0, ec, ec.textContent.length);\r\n            this.nodeChange(null, null, ['A'], false);\r\n        }\r\n        else {\r\n            /** delete */\r\n            this.util.removeItem(this.context.link._linkAnchor);\r\n            this.context.link._linkAnchor = null;\r\n            this.focus();\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        const contextLink = this.context.link;\r\n        contextLink.linkController.style.display = 'none';\r\n        contextLink._linkAnchor = null;\r\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = '';\r\n        contextLink.linkAnchorText.value = '';\r\n        contextLink.linkNewWindowCheck.checked = false;\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'video',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\r\n\r\n        const context = core.context;\r\n        const contextVideo = context.video = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            sizeUnit: context.option._videoSizeUnit,\r\n            _align: 'none',\r\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\r\n            _youtubeQuery: context.option.youtubeQuery,\r\n            _videoRatio: (context.option.videoRatio * 100) + '%',\r\n            _defaultRatio: (context.option.videoRatio * 100) + '%',\r\n            _linkValue: '',\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n            // @Override resizing properties\r\n            inputX: null,\r\n            inputY: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: '100%',\r\n            _defaultSizeY: (context.option.videoRatio * 100) + '%',\r\n            _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\r\n            _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\r\n            _proportionChecked: true,\r\n            _resizing: context.option.videoResizing,\r\n            _resizeDotHide: !context.option.videoHeightShow,\r\n            _rotation: context.option.videoRotation,\r\n            _onlyPercentage: context.option.videoSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1,\r\n            _captionShow: false\r\n        };\r\n\r\n        /** video dialog */\r\n        let video_dialog = this.setDialog.call(core);\r\n        contextVideo.modal = video_dialog;\r\n        contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\r\n        contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\r\n        contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\r\n        contextVideo.preview = video_dialog.querySelector('.se-link-preview');\r\n\r\n        /** add event listeners */\r\n        video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\r\n        if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\r\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\r\n        if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, context.options.linkProtocol));\r\n\r\n        contextVideo.proportion = {};\r\n        contextVideo.videoRatioOption = {};\r\n        contextVideo.inputX = {};\r\n        contextVideo.inputY = {};\r\n        if (context.option.videoResizing) {\r\n            contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\r\n            contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\r\n            contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\r\n            contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\r\n            contextVideo.inputX.value = context.option.videoWidth;\r\n            contextVideo.inputY.value = context.option.videoHeight;\r\n\r\n            contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\r\n            contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\r\n\r\n            contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\r\n            contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\r\n\r\n            video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\r\n        }\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(video_dialog);\r\n\r\n        /** empty memory */\r\n        video_dialog = null;\r\n    },\r\n\r\n    /** dialog */\r\n    setDialog: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const dialog = this.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                        this.icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-body\">';\r\n\r\n                if (option.videoFileInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.videoBox.file + '</label>' +\r\n                            '<div class=\"se-dialog-form-files\">' +\r\n                                '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\r\n                            '</div>' +\r\n                        '</div>' ;\r\n                }\r\n    \r\n                if (option.videoUrlInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.videoBox.url + '</label>' +\r\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\r\n                            '<pre class=\"se-link-preview\"></pre>' +\r\n                        '</div>';\r\n                }\r\n\r\n            if (option.videoResizing) {\r\n                const ratioList = option.videoRatioList || [{name: '16:9', value: 0.5625}, {name: '4:3', value: 0.75}, {name: '21:9', value: 0.4285}];\r\n                const ratio = option.videoRatio;\r\n                const onlyPercentage = option.videoSizeOnlyPercentage;\r\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\r\n                const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\r\n                const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\r\n                const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\r\n                html += '' +\r\n                    '<div class=\"se-dialog-form\">' +\r\n                        '<div class=\"se-dialog-size-text\">' +\r\n                            '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\r\n                            '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\r\n                            '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' +\r\n                            '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' +\r\n                        '</div>' +\r\n                        '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' +\r\n                        '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\r\n                        '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + (option.videoRatio * 100) + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\r\n                        '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\r\n                            if (!heightDisplay) html += '<option value=\"\"> - </option>';\r\n                            for (let i = 0, len = ratioList.length; i < len; i++) {\r\n                                html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\r\n                            }\r\n                        html += '</select>' +\r\n                        '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\r\n                    '</div>' +\r\n                    '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' +\r\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\r\n                    '</div>';\r\n            }\r\n\r\n            html += '' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<div>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\r\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\r\n                    '</div>' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    _fileInputChange: function () {\r\n        if (!this.videoInputFile.value) {\r\n            this.videoUrlFile.removeAttribute('disabled');\r\n            this.preview.style.textDecoration = '';\r\n        } else {\r\n            this.videoUrlFile.setAttribute('disabled', true);\r\n            this.preview.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    _removeSelectedFiles: function (urlInput, preview) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            preview.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        if (/^<iframe.*\\/iframe>$/.test(value)) {\r\n            context._linkValue = value;\r\n            this.textContent = '<IFrame :src=\"..\"></IFrame>';\r\n        } else {\r\n            context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n        }\r\n    },\r\n\r\n    _setTagAttrs: function (element) {\r\n        element.setAttribute('controls', true);\r\n\r\n        const attrs = this.context.options.videoTagAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    createVideoTag: function () {\r\n        const videoTag = this.util.createElement('VIDEO');\r\n        this.plugins.video._setTagAttrs.call(this, videoTag);\r\n        return videoTag;\r\n    },\r\n\r\n    _setIframeAttrs: function (element) {\r\n        element.frameBorder = '0';\r\n        element.allowFullscreen = true;\r\n\r\n        const attrs = this.context.options.videoIframeAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    createIframeTag: function () {\r\n        const iframeTag = this.util.createElement('IFRAME');\r\n        this.plugins.video._setIframeAttrs.call(this, iframeTag);\r\n        return iframeTag;\r\n    },\r\n\r\n    /**\r\n     * @Override @Required fileManager\r\n     */\r\n    fileTags: ['iframe', 'video'],\r\n\r\n    /**\r\n     * @Override core, resizing, fileManager\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing\r\n     */\r\n    destroy: function (element) {\r\n        const frame = element || this.context.video._element;\r\n        const container = this.context.video._container;\r\n        const dataIndex = frame.getAttribute('data-index') * 1;\r\n        let focusEl = (container.previousElementSibling || container.nextElementSibling);\r\n\r\n        const emptyDiv = container.parentNode;\r\n        this.util.removeItem(container);\r\n        this.plugins.video.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n\r\n        // event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (!update) {\r\n            contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\r\n            contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\r\n            contextVideo.proportion.disabled = true;\r\n            if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\r\n        } else {\r\n            if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\r\n        }\r\n\r\n        if (contextVideo._resizing) {\r\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\r\n    },\r\n    \r\n    setVideoRatio: function (e) {\r\n        const contextVideo = this.context.video;\r\n        const value = e.target.options[e.target.selectedIndex].value;\r\n\r\n        contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : (value * 100) + '%';\r\n        contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\r\n        contextVideo.inputY.value = '';\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     * @param {String} xy 'x': width, 'y': height\r\n     * @param {KeyboardEvent} e Event object\r\n     */\r\n    setInputSize: function (xy, e) {\r\n        if (e && e.keyCode === 32) {\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n\r\n        const contextVideo = this.context.video;\r\n        this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\r\n\r\n        if (xy === 'y') {\r\n            this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setRatio: function () {\r\n        this.plugins.resizing._module_setRatio.call(this, this.context.video);\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextVideo = this.context.video;\r\n        const videoPlugin = this.plugins.video;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\r\n\r\n        try {\r\n            if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\r\n            } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\r\n                this.showLoading();\r\n                videoPlugin.setup_url.call(this);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/video/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.context.option.videoUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const videosInfo = this.context.video._infoList;\r\n            for (let i = 0, len = videosInfo.length; i < len; i++) {\r\n                infoSize += videosInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + (limitSize/1000) + 'KB';\r\n                if (this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextVideo = this.context.video;\r\n        contextVideo._uploadFileLength = files.length;\r\n\r\n        const info = {\r\n            inputWidth: contextVideo.inputX.value,\r\n            inputHeight: contextVideo.inputY.value,\r\n            align: contextVideo._align,\r\n            isUpdate: this.context.dialog.updateModal,\r\n            element: contextVideo._element\r\n        };\r\n\r\n        if (typeof this.functions.onVideoUploadBefore === 'function') {\r\n            const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.video.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.video.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n\r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (typeof result === 'object' && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.video.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.video.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const videoUploadUrl = this.context.option.videoUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // server upload\r\n        if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\r\n            const formData = new FormData();\r\n            for (let i = 0; i < filesLen; i++) {\r\n                formData.append('file-' + i, files[i]);\r\n            }\r\n            this.plugins.fileManager.upload.call(this, videoUploadUrl, this.context.option.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\r\n        } else {\r\n            throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\r\n        }\r\n    },\r\n\r\n    callBack_videoUpload: function (info, xmlHttp) {\r\n        if (typeof this.functions.videoUploadHandler === 'function') {\r\n            this.functions.videoUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.video.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.video.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n        const videoTag = this.plugins.video.createVideoTag.call(this);\r\n\r\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            this.plugins.video.create_video.call(this, (info.isUpdate ? info.element : videoTag.cloneNode(false)), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\r\n        }\r\n\r\n        this.closeLoading();\r\n    },\r\n\r\n    setup_url: function () {\r\n        try {\r\n            const contextVideo = this.context.video;\r\n            let url = contextVideo._linkValue;\r\n\r\n            if (url.length === 0) return false;\r\n\r\n            /** iframe source */\r\n            if (/^<iframe.*\\/iframe>$/.test(url)) {\r\n                const oIframe = (new this._w.DOMParser()).parseFromString(url, 'text/html').querySelector('iframe');\r\n                url = oIframe.src;\r\n                if (url.length === 0) return false;\r\n            }\r\n            \r\n            /** youtube */\r\n            if (/youtu\\.?be/.test(url)) {\r\n                if (!/^http/.test(url)) url = 'https://' + url;\r\n                url = url.replace('watch?v=', '');\r\n                if (!/^\\/\\/.+\\/embed\\//.test(url)) {\r\n                    url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\r\n                }\r\n\r\n                if (contextVideo._youtubeQuery.length > 0) {\r\n                    if (/\\?/.test(url)) {\r\n                        const splitUrl = url.split('?');\r\n                        url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\r\n                    } else {\r\n                        url += '?' + contextVideo._youtubeQuery;\r\n                    }\r\n                }\r\n            } else if (/vimeo\\.com/.test(url)) {\r\n                if (url.endsWith('/')) {\r\n                    url = url.slice(0, -1);\r\n                }\r\n                url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\r\n            }\r\n\r\n            this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\r\n        } catch (error) {\r\n            throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\r\n        this.context.resizing._resize_plugin = 'video';\r\n        const contextVideo = this.context.video;\r\n        \r\n        let cover = null;\r\n        let container = null;\r\n        let init = false;\r\n\r\n        /** update */\r\n        if (isUpdate) {\r\n            oFrame = contextVideo._element;\r\n            if (oFrame.src !== src) {\r\n                init = true;\r\n                const isYoutube = /youtu\\.?be/.test(src);\r\n                const isVimeo = /vimeo\\.com/.test(src);\r\n                if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\r\n                    const newTag = this.plugins.video.createIframeTag.call(this);\r\n                    newTag.src = src;\r\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\r\n                    contextVideo._element = oFrame = newTag;\r\n                } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\r\n                    const newTag = this.plugins.video.createVideoTag.call(this);\r\n                    newTag.src = src;\r\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\r\n                    contextVideo._element = oFrame = newTag;\r\n                } else {\r\n                    oFrame.src = src;\r\n                }\r\n            }\r\n            container = contextVideo._container;\r\n            cover = this.util.getParentElement(oFrame, 'FIGURE');\r\n        }\r\n        /** create */\r\n        else {\r\n            init = true;\r\n            oFrame.src = src;\r\n            contextVideo._element = oFrame;\r\n            cover = this.plugins.component.set_cover.call(this, oFrame);\r\n            container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\r\n        }\r\n\r\n        /** rendering */\r\n        contextVideo._cover = cover;\r\n        contextVideo._container = container;\r\n\r\n        const inputUpdate = (this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX)) || (this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio));\r\n        const changeSize = !isUpdate || inputUpdate;\r\n\r\n        if (contextVideo._resizing) {\r\n            this.context.video._proportionChecked = contextVideo.proportion.checked;\r\n            oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\r\n        }\r\n\r\n        // size\r\n        let isPercent = false;\r\n        if (changeSize) {\r\n            isPercent = this.plugins.video.applySize.call(this);\r\n        }\r\n\r\n        // align\r\n        if (!(isPercent && align === 'center')) {\r\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\r\n        }\r\n\r\n        let changed = true;\r\n        if (!isUpdate) {\r\n            changed = this.insertComponent(container, false, true, false);\r\n        } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\r\n            this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\r\n        }\r\n\r\n        if (changed) {\r\n            if (init) {\r\n                this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\r\n            }\r\n            if (isUpdate) {\r\n                this.selectComponent(oFrame, 'video');\r\n                // history stack\r\n                this.history.push(false);\r\n            }\r\n        }\r\n\r\n        this.context.resizing._resize_plugin = '';\r\n    },\r\n\r\n    _update_videoCover: function (oFrame) {\r\n        if (!oFrame) return;\r\n\r\n        const contextVideo = this.context.video;\r\n        \r\n        if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);\r\n        else this.plugins.video._setIframeAttrs.call(this, oFrame);\r\n        \r\n        const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || \r\n            this.util.getParentElement(oFrame, function (current) {\r\n                return this.isWysiwygDiv(current.parentNode);\r\n            }.bind(this.util));\r\n\r\n        contextVideo._element = oFrame = oFrame.cloneNode(true);\r\n        const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\r\n        const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\r\n\r\n        const figcaption = existElement.querySelector('figcaption');\r\n        let caption = null;\r\n        if (!!figcaption) {\r\n            caption = this.util.createElement('DIV');\r\n            caption.innerHTML = figcaption.innerHTML;\r\n            this.util.removeItem(figcaption);\r\n        }\r\n\r\n        const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\r\n        this.plugins.video.applySize.call(this, size[0], size[1]);\r\n\r\n        existElement.parentNode.replaceChild(container, existElement);\r\n        if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\r\n        this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (element, size) {\r\n        const contextVideo = this.context.video;\r\n        contextVideo._element = element;\r\n        contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\r\n        contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\r\n        contextVideo._align = element.getAttribute('data-align') || 'none';\r\n\r\n        if (size) {\r\n            contextVideo._element_w = size.w;\r\n            contextVideo._element_h = size.h;\r\n            contextVideo._element_t = size.t;\r\n            contextVideo._element_l = size.l;\r\n        }\r\n\r\n        let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\r\n        if (origin) {\r\n            origin = origin.split(',');\r\n            contextVideo._origin_w = origin[0];\r\n            contextVideo._origin_h = origin[1];\r\n        } else if (size) {\r\n            contextVideo._origin_w = size.w;\r\n            contextVideo._origin_h = size.h;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = (contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '');\r\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\r\n\r\n        if (contextVideo._resizing) {\r\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\r\n            \r\n            const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\r\n            const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\r\n            if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\r\n        }\r\n\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\r\n    },\r\n    \r\n    setVideoRatioSelect: function (value) {\r\n        let ratioSelected = false;\r\n        const contextVideo = this.context.video;\r\n        const ratioOptions = contextVideo.videoRatioOption.options;\r\n\r\n        if (/%$/.test(value) || contextVideo._onlyPercentage) value = (this.util.getNumber(value, 2) / 100) + '';\r\n        else if (!this.util.isNumber(value) || (value * 1) >= 1) value = '';\r\n\r\n        contextVideo.inputY.placeholder = '';\r\n        for (let i = 0, len = ratioOptions.length; i < len; i++) {\r\n            if (ratioOptions[i].value === value) {\r\n                ratioSelected = ratioOptions[i].selected = true;\r\n                contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\r\n            }\r\n            else ratioOptions[i].selected = false;\r\n        }\r\n\r\n        return ratioSelected;\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    sizeRevert: function () {\r\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    applySize: function (w, h) {\r\n        const contextVideo = this.context.video;\r\n\r\n        if (!w) w = contextVideo.inputX.value || this.context.option.videoWidth;\r\n        if (!h) h = contextVideo.inputY.value || this.context.option.videoHeight;\r\n        \r\n        if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\r\n            this.plugins.video.setPercentSize.call(this, (w || '100%'), (h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio)));\r\n            return true;\r\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\r\n            this.plugins.video.setAutoSize.call(this);\r\n        } else {\r\n            this.plugins.video.setSize.call(this, w, (h || contextVideo._videoRatio || contextVideo._defaultRatio), false);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setSize: function (w, h, notResetPercentage, direction) {\r\n        const contextVideo = this.context.video;\r\n        const onlyW = /^(rw|lw)$/.test(direction);\r\n        const onlyH = /^(th|bh)$/.test(direction);\r\n\r\n        if (!onlyH) w = this.util.getNumber(w, 0);\r\n        if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\r\n\r\n        if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\r\n        if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\r\n\r\n        if (!onlyH && !/%$/.test(w)) {\r\n            contextVideo._cover.style.width = '';\r\n            contextVideo._container.style.width = '';\r\n        }\r\n\r\n        if (!onlyW && !/%$/.test(h)) {\r\n            contextVideo._element.style.height = h;\r\n        } else {\r\n            contextVideo._element.style.height = '';\r\n        }\r\n\r\n        if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage');\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAutoSize: function () {\r\n        this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setOriginSize: function (dataSize) {\r\n        const contextVideo = this.context.video;\r\n        contextVideo._element.removeAttribute('data-percentage');\r\n\r\n        this.plugins.resizing.resetTransform.call(this, contextVideo._element);\r\n        this.plugins.video.cancelPercentAttr.call(this);\r\n\r\n        const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\r\n        \r\n        if (originSize) {\r\n            const w = originSize[0];\r\n            const h = originSize[1];\r\n\r\n            if (contextVideo._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\r\n                this.plugins.video.setPercentSize.call(this, w, h);\r\n            } else {\r\n                this.plugins.video.setSize.call(this, w, h);\r\n            }\r\n\r\n            // save current size\r\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setPercentSize: function (w, h) {\r\n        const contextVideo = this.context.video;\r\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : (h || contextVideo._defaultRatio);\r\n\r\n        contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\r\n        contextVideo._container.style.height = '';\r\n        contextVideo._cover.style.width = '100%';\r\n        contextVideo._cover.style.height = h;\r\n        contextVideo._cover.style.paddingBottom = h;\r\n        contextVideo._element.style.width = '100%';\r\n        contextVideo._element.style.height = '100%';\r\n        contextVideo._element.style.maxWidth = '';\r\n\r\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\r\n        contextVideo._element.setAttribute('data-percentage', w + ',' + h);\r\n\r\n        // save current size\r\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    cancelPercentAttr: function () {\r\n        const contextVideo = this.context.video;\r\n        \r\n        contextVideo._cover.style.width = '';\r\n        contextVideo._cover.style.height = '';\r\n        contextVideo._cover.style.paddingBottom = '';\r\n        contextVideo._container.style.width = '';\r\n        contextVideo._container.style.height = '';\r\n\r\n        this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\r\n        this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\r\n\r\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\r\n    },\r\n\r\n    /**\r\n     * @Override resizing\r\n     */\r\n    setAlign: function (align, element, cover, container) {\r\n        const contextVideo = this.context.video;\r\n        \r\n        if (!align) align = contextVideo._align;\r\n        if (!element) element = contextVideo._element;\r\n        if (!cover) cover = contextVideo._cover;\r\n        if (!container) container = contextVideo._container;\r\n\r\n        if (align && align !== 'none') {\r\n            cover.style.margin = 'auto';\r\n        } else {\r\n            cover.style.margin = '0';\r\n        }\r\n\r\n        if (/%$/.test(element.style.width) && align === 'center') {\r\n            container.style.minWidth = '100%';\r\n            cover.style.width = container.style.width;\r\n            cover.style.height = cover.style.height;\r\n            cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber((this.util.getNumber(cover.style.height, 2) / 100) * this.util.getNumber(cover.style.width, 2), 2) + '%';\r\n        } else {\r\n            container.style.minWidth = '';\r\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : (element.style.width || '100%');\r\n            cover.style.paddingBottom = cover.style.height;\r\n        }\r\n\r\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\r\n            this.util.removeClass(container, contextVideo._floatClassRegExp);\r\n            this.util.addClass(container, '__se__float-' + align);\r\n        }\r\n        \r\n        element.setAttribute('data-align', align);\r\n    },\r\n\r\n    resetAlign: function () {\r\n        const contextVideo = this.context.video;\r\n\r\n        contextVideo._element.setAttribute('data-align', '');\r\n        contextVideo._align = 'none';\r\n        contextVideo._cover.style.margin = '0';\r\n        this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\r\n    },\r\n\r\n    /**\r\n     * @Override dialog\r\n     */\r\n    init: function () {\r\n        const contextVideo = this.context.video;\r\n        if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\r\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\r\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\r\n            contextVideo.videoUrlFile.removeAttribute('disabled');\r\n            contextVideo.preview.style.textDecoration = '';\r\n        }\r\n\r\n        contextVideo._origin_w = this.context.option.videoWidth;\r\n        contextVideo._origin_h = this.context.option.videoHeight;\r\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\r\n        \r\n        if (contextVideo._resizing) {\r\n            contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\r\n            contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\r\n            contextVideo.proportion.checked = true;\r\n            contextVideo.proportion.disabled = true;\r\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\r\n        }\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'audio',\r\n    display: 'dialog',\r\n    add: function (core) {\r\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\r\n\r\n        const context = core.context;\r\n        const contextAudio = context.audio = {\r\n            _infoList: [], // @Override fileManager\r\n            _infoIndex: 0, // @Override fileManager\r\n            _uploadFileLength: 0, // @Override fileManager\r\n            focusElement: null, // @Override // This element has focus when the dialog is opened.\r\n            targetSelect: null,\r\n            _origin_w: context.option.audioWidth,\r\n            _origin_h: context.option.audioHeight,\r\n            _linkValue: '',\r\n            // @require @Override component\r\n            _element: null,\r\n            _cover: null,\r\n            _container: null,\r\n        };\r\n\r\n        /** dialog */\r\n        let audio_dialog = this.setDialog.call(core);\r\n        contextAudio.modal = audio_dialog;\r\n        contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\r\n        contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\r\n        contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\r\n        contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\r\n\r\n        /** controller */\r\n        let audio_controller = this.setController.call(core);\r\n        contextAudio.controller = audio_controller;\r\n\r\n        audio_controller.addEventListener('mousedown', core.eventStop);\r\n\r\n        /** add event listeners */\r\n        audio_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\r\n        if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\r\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\r\n        audio_controller.addEventListener('click', this.onClick_controller.bind(core));\r\n        if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, context.options.linkProtocol));\r\n\r\n        /** append html */\r\n        context.dialog.modal.appendChild(audio_dialog);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(audio_controller);\r\n\r\n        /** empty memory */\r\n        audio_dialog = null, audio_controller = null;\r\n    },\r\n\r\n    /** HTML - dialog */\r\n    setDialog: function () {\r\n        const option = this.context.option;\r\n        const lang = this.lang;\r\n        const dialog = this.util.createElement('DIV');\r\n\r\n        dialog.className = 'se-dialog-content';\r\n        dialog.style.display = 'none';\r\n        let html = '' +\r\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\r\n                '<div class=\"se-dialog-header\">' +\r\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\r\n                        this.icons.cancel +\r\n                    '</button>' +\r\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-body\">';\r\n\r\n                if (option.audioFileInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.audioBox.file + '</label>' +\r\n                            '<div class=\"se-dialog-form-files\">' +\r\n                                '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\r\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\r\n                            '</div>' +\r\n                        '</div>';\r\n                }\r\n                 \r\n                if (option.audioUrlInput) {\r\n                    html += '' +\r\n                        '<div class=\"se-dialog-form\">' +\r\n                            '<label>' + lang.dialogBox.audioBox.url + '</label>' +\r\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\r\n                            '<pre class=\"se-link-preview\"></pre>' +\r\n                        '</div>';\r\n                }\r\n                    \r\n                html += '' +\r\n                '</div>' +\r\n                '<div class=\"se-dialog-footer\">' +\r\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\r\n                '</div>' +\r\n            '</form>';\r\n\r\n        dialog.innerHTML = html;\r\n\r\n        return dialog;\r\n    },\r\n\r\n    /** HTML - controller */\r\n    setController: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const link_btn = this.util.createElement('DIV');\r\n\r\n        link_btn.className = 'se-controller se-controller-link';\r\n        link_btn.innerHTML = '' +\r\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\r\n            '<div class=\"link-content\">' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' +\r\n                        icons.edit +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return link_btn;\r\n    },\r\n\r\n    // Disable url input when uploading files\r\n    _fileInputChange: function () {\r\n        if (!this.audioInputFile.value) {\r\n            this.audioUrlFile.removeAttribute('disabled');\r\n            this.preview.style.textDecoration = '';\r\n        } else {\r\n            this.audioUrlFile.setAttribute('disabled', true);\r\n            this.preview.style.textDecoration = 'line-through';\r\n        }\r\n    },\r\n\r\n    // Disable url input when uploading files\r\n    _removeSelectedFiles: function (urlInput, preview) {\r\n        this.value = '';\r\n        if (urlInput) {\r\n            urlInput.removeAttribute('disabled');\r\n            preview.style.textDecoration = '';\r\n        }\r\n    },\r\n\r\n    // create new audio tag\r\n    _createAudioTag: function () {\r\n        const oAudio = this.util.createElement('AUDIO');\r\n        this.plugins.audio._setTagAttrs.call(this, oAudio);\r\n\r\n        const w = this.context.audio._origin_w;\r\n        const h = this.context.audio._origin_h;\r\n        oAudio.setAttribute('origin-size', w + ',' + h);\r\n        oAudio.style.cssText = (w ? ('width:' + w + '; ') : '') + (h ? ('height:' + h + ';') : '');\r\n\r\n        return oAudio;\r\n    },\r\n\r\n    _setTagAttrs: function (element) {\r\n        element.setAttribute('controls', true);\r\n\r\n        const attrs = this.context.options.audioTagAttrs;\r\n        if (!attrs) return;\r\n\r\n        for (let key in attrs) {\r\n            if (!this.util.hasOwn(attrs, key)) continue;\r\n            element.setAttribute(key, attrs[key]);\r\n        }\r\n    },\r\n\r\n    _onLinkPreview: function (context, protocol, e) {\r\n        const value = e.target.value.trim();\r\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager\r\n     */\r\n    fileTags: ['audio'],\r\n\r\n    /**\r\n     * @Override core, fileManager, resizing\r\n     * @description It is called from core.selectComponent.\r\n     * @param {Element} element Target element\r\n     */\r\n    select: function (element) {\r\n        this.plugins.audio.onModifyMode.call(this, element);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager, resizing \r\n     */\r\n    destroy: function (element) {\r\n        element = element || this.context.audio._element;\r\n        const container = this.util.getParentElement(element, this.util.isComponent) || element;\r\n        const dataIndex = element.getAttribute('data-index') * 1;\r\n        const focusEl = (container.previousElementSibling || container.nextElementSibling);\r\n\r\n        const emptyDiv = container.parentNode;\r\n        this.util.removeItem(container);\r\n        this.plugins.audio.init.call(this);\r\n        this.controllersOff();\r\n\r\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n\r\n        // focus\r\n        this.focusEdge(focusEl);\r\n\r\n        // fileManager event\r\n        this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload);\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    checkFileInfo: function () {\r\n        this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\r\n    },\r\n\r\n    /**\r\n     * @Override fileManager\r\n     */\r\n    resetFileInfo: function () {\r\n        this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    on: function (update) {\r\n        const contextAudio = this.context.audio;\r\n\r\n        if (!update) {\r\n            this.plugins.audio.init.call(this);\r\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\r\n        } else if (contextAudio._element) {\r\n            this.context.dialog.updateModal = true;\r\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\r\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\r\n        } else {\r\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    open: function () {\r\n        this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\r\n    },\r\n\r\n    submit: function (e) {\r\n        const contextAudio = this.context.audio;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        try {\r\n            if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\r\n                this.showLoading();\r\n                this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\r\n            } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\r\n                this.showLoading();\r\n                this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\r\n            }\r\n        } catch (error) {\r\n            this.closeLoading();\r\n            throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.plugins.dialog.close.call(this);\r\n        }\r\n\r\n        return false;\r\n    },\r\n\r\n    submitAction: function (fileList) {\r\n        if (fileList.length === 0) return;\r\n\r\n        let fileSize = 0;\r\n        let files = [];\r\n        for (let i = 0, len = fileList.length; i < len; i++) {\r\n            if (/audio/i.test(fileList[i].type)) {\r\n                files.push(fileList[i]);\r\n                fileSize += fileList[i].size;\r\n            }\r\n        }\r\n\r\n        const limitSize = this.context.option.audioUploadSizeLimit;\r\n        if (limitSize > 0) {\r\n            let infoSize = 0;\r\n            const audiosInfo = this.context.audio._infoList;\r\n            for (let i = 0, len = audiosInfo.length; i < len; i++) {\r\n                infoSize += audiosInfo[i].size * 1;\r\n            }\r\n\r\n            if ((fileSize + infoSize) > limitSize) {\r\n                this.closeLoading();\r\n                const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + (limitSize/1000) + 'KB';\r\n                if (this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\r\n                    this.functions.noticeOpen(err);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        const contextAudio = this.context.audio;\r\n        contextAudio._uploadFileLength = files.length;\r\n\r\n        const info = {\r\n            isUpdate: this.context.dialog.updateModal,\r\n            element: contextAudio._element\r\n        };\r\n\r\n        if (typeof this.functions.onAudioUploadBefore === 'function') {\r\n            const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\r\n                if (data && this._w.Array.isArray(data.result)) {\r\n                    this.plugins.audio.register.call(this, info, data);\r\n                } else {\r\n                    this.plugins.audio.upload.call(this, info, data);\r\n                }\r\n            }.bind(this));\r\n\r\n            if (typeof result === 'undefined') return;\r\n            if (!result) {\r\n                this.closeLoading();\r\n                return;\r\n            }\r\n            if (typeof result === 'object' && result.length > 0) files = result;\r\n        }\r\n\r\n        this.plugins.audio.upload.call(this, info, files);\r\n    },\r\n\r\n    error: function (message, response) {\r\n        this.closeLoading();\r\n        if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\r\n            this.functions.noticeOpen(message);\r\n            throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\r\n        }\r\n    },\r\n\r\n    upload: function (info, files) {\r\n        if (!files) {\r\n            this.closeLoading();\r\n            return;\r\n        }\r\n        if (typeof files === 'string') {\r\n            this.plugins.audio.error.call(this, files, null);\r\n            return;\r\n        }\r\n\r\n        const audioUploadUrl = this.context.option.audioUploadUrl;\r\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\r\n\r\n        // create formData\r\n        const formData = new FormData();\r\n        for (let i = 0; i < filesLen; i++) {\r\n            formData.append('file-' + i, files[i]);\r\n        }\r\n\r\n        // server upload\r\n        this.plugins.fileManager.upload.call(this, audioUploadUrl, this.context.option.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\r\n    },\r\n\r\n    callBack_upload: function (info, xmlHttp) {\r\n        if (typeof this.functions.audioUploadHandler === 'function') {\r\n            this.functions.audioUploadHandler(xmlHttp, info, this);\r\n        } else {\r\n            const response = JSON.parse(xmlHttp.responseText);\r\n            if (response.errorMessage) {\r\n                this.plugins.audio.error.call(this, response.errorMessage, response);\r\n            } else {\r\n                this.plugins.audio.register.call(this, info, response);\r\n            }\r\n        }\r\n    },\r\n\r\n    register: function (info, response) {\r\n        const fileList = response.result;\r\n\r\n        for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\r\n            if (info.isUpdate) oAudio = info.element;\r\n            else oAudio = this.plugins.audio._createAudioTag.call(this);\r\n\r\n            file = { name: fileList[i].name, size: fileList[i].size };\r\n            this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\r\n        }\r\n\r\n        this.closeLoading();\r\n    },\r\n\r\n    setupUrl: function (src) {\r\n        try {\r\n            if (src.length === 0) return false;\r\n            this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\r\n        } catch (error) {\r\n            throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\r\n        } finally {\r\n            this.closeLoading();\r\n        }\r\n    },\r\n\r\n    create_audio: function (element, src, file, isUpdate) {\r\n        const contextAudio = this.context.audio;\r\n        \r\n        // create new tag\r\n        if (!isUpdate) {\r\n            element.src = src;\r\n            const cover = this.plugins.component.set_cover.call(this, element);\r\n            const container = this.plugins.component.set_container.call(this, cover, '');\r\n            if (!this.insertComponent(container, false, true, false)) {\r\n                this.focus();\r\n                return;\r\n            }\r\n        } // update\r\n        else {\r\n            if (contextAudio._element) element = contextAudio._element;\r\n            if (element && element.src !== src) {\r\n                element.src = src;\r\n            } else {\r\n                this.selectComponent(element, 'audio');\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\r\n        this.selectComponent(element, 'audio');\r\n        if (isUpdate) this.history.push(false);\r\n    },\r\n\r\n    updateCover: function (element) {\r\n        const contextAudio = this.context.audio;\r\n        this.plugins.audio._setTagAttrs.call(this, element);\r\n        \r\n        // find component element\r\n        const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || \r\n            this.util.getParentElement(element, function (current) {\r\n                return this.isWysiwygDiv(current.parentNode);\r\n            }.bind(this.util));\r\n\r\n        // clone element\r\n        contextAudio._element = element = element.cloneNode(false);\r\n        const cover = this.plugins.component.set_cover.call(this, element);\r\n        const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\r\n\r\n        existElement.parentNode.replaceChild(container, existElement);\r\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    onModifyMode: function (selectionTag) {\r\n        const contextAudio = this.context.audio;\r\n\r\n        const controller = contextAudio.controller;\r\n        const offset = this.util.getOffset(selectionTag, this.context.element.wysiwygFrame);\r\n        controller.style.top = (offset.top + selectionTag.offsetHeight + 10) + 'px';\r\n        controller.style.left = (offset.left - this.context.element.wysiwygFrame.scrollLeft) + 'px';\r\n\r\n        controller.style.display = 'block';\r\n\r\n        const overLeft = this.context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controller.offsetWidth);\r\n        if (overLeft < 0) {\r\n            controller.style.left = (controller.offsetLeft + overLeft) + 'px';\r\n            controller.firstElementChild.style.left = (20 - overLeft) + 'px';\r\n        } else {\r\n            controller.firstElementChild.style.left = '20px';\r\n        }\r\n        \r\n        this.controllersOn(controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\r\n\r\n        this.util.addClass(selectionTag, 'active');\r\n        contextAudio._element = selectionTag;\r\n        contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\r\n        contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\r\n    },\r\n\r\n    /**\r\n     * @Required @Override fileManager, resizing\r\n     */\r\n    openModify: function (notOpen) {\r\n        if (this.context.audio.audioUrlFile) {\r\n            const contextAudio = this.context.audio;\r\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\r\n        }\r\n        if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\r\n    },\r\n\r\n    onClick_controller: function (e) {\r\n        e.stopPropagation();\r\n\r\n        const command = e.target.getAttribute('data-command');\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n\r\n        if (/update/.test(command)) {\r\n            this.plugins.audio.openModify.call(this, false);\r\n        }\r\n        else { /** delete */\r\n            this.plugins.audio.destroy.call(this, this.context.audio._element);\r\n        }\r\n\r\n        this.controllersOff();\r\n    },\r\n\r\n    onControllerOff: function (selectionTag) {\r\n        this.util.removeClass(selectionTag, 'active');\r\n        this.context.audio.controller.style.display = 'none';\r\n    },\r\n\r\n    /**\r\n     * @Required @Override dialog\r\n     */\r\n    init: function () {\r\n        if (this.context.dialog.updateModal) return;\r\n        const contextAudio = this.context.audio;\r\n\r\n        if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\r\n        if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\r\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\r\n            contextAudio.audioUrlFile.removeAttribute('disabled');\r\n            contextAudio.preview.style.textDecoration = '';\r\n        }\r\n\r\n        contextAudio._element = null;\r\n    }\r\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * \r\n * Danish translation by davidkonrad at github or gmail\r\n *\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'da',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Gem',\r\n            font: 'Skrifttype',\r\n            formats: 'Format',\r\n            fontSize: 'Skriftstørrelse',\r\n            bold: 'Fed',\r\n            underline: 'Understreget',\r\n            italic: 'Skråskrift',\r\n            strike: 'Overstreget',\r\n            subscript: 'Sænket skrift',\r\n            superscript: 'Hævet skrift',\r\n            removeFormat: 'Fjern formatering',\r\n            fontColor: 'Skriftfarve',\r\n            hiliteColor: 'Baggrundsfarve',\r\n            indent: 'Ryk ind',\r\n            outdent: 'Ryk ud',\r\n            align: 'Justering',\r\n            alignLeft: 'Venstrejustering',\r\n            alignRight: 'Højrejustering',\r\n            alignCenter: 'Midterjustering',\r\n            alignJustify: 'Tilpas margin',\r\n            list: 'Lister',\r\n            orderList: 'Nummereret liste',\r\n            unorderList: 'Uordnet liste',\r\n            horizontalRule: 'Horisontal linie',\r\n            hr_solid: 'Almindelig',\r\n            hr_dotted: 'Punkteret',\r\n            hr_dashed: 'Streget',\r\n            table: 'Tabel',\r\n            link: 'Link',\r\n            math: 'Math',\r\n            image: 'Billede',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Fuld skærm',\r\n            showBlocks: 'Vis blokke',\r\n            codeView: 'Vis koder',\r\n            undo: 'Undo',\r\n            redo: 'Redo',\r\n            preview: 'Preview',\r\n            print: 'Print',\r\n            tag_p: 'Paragraph',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Overskrift',\r\n            tag_blockquote: 'Citer',\r\n            tag_pre: 'Code',\r\n            template: 'Schablone',\r\n            lineHeight: 'Linjehøjde',\r\n            paragraphStyle: 'Afsnitstil',\r\n            textStyle: 'Tekststil',\r\n            imageGallery: 'Billedgalleri'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Indsæt link',\r\n                url: 'URL til link',\r\n                text: 'Tekst for link',\r\n                newWindowCheck: 'Åben i nyt faneblad'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Matematisk notation',\r\n                fontSizeLabel: 'Skriftstørrelse',\r\n                previewLabel: 'Preview'\r\n            },\r\n            imageBox: {\r\n                title: 'Indsæt billede',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indsæt fra URL',\r\n                altText: 'Alternativ tekst'\r\n            },\r\n            videoBox: {\r\n                title: 'Indsæt Video',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indlejr video / YouTube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Indsæt Audio',\r\n                file: 'Indsæt fra fil',\r\n                url: 'Indsæt fra URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tags',\r\n                search: 'Søg',\r\n            },\r\n            caption: 'Indsæt beskrivelse',\r\n            close: 'Luk',\r\n            submitButton: 'Gennemfør',\r\n            revertButton: 'Gendan',\r\n            proportion: 'Bevar proportioner',\r\n            basic: 'Basis',\r\n            left: 'Venstre',\r\n            right: 'Højre',\r\n            center: 'Center',\r\n            width: 'Bredde',\r\n            height: 'Højde',\r\n            size: 'Størrelse',\r\n            ratio: 'Forhold'\r\n        },\r\n        controller: {\r\n            edit: 'Rediger',\r\n            unlink: 'Fjern link',\r\n            remove: 'Fjern',\r\n            insertRowAbove: 'Indsæt række foroven',\r\n            insertRowBelow: 'Indsæt række nedenfor',\r\n            deleteRow: 'Slet række',\r\n            insertColumnBefore: 'Indsæt kolonne før',\r\n            insertColumnAfter: 'Indsæt kolonne efter',\r\n            deleteColumn: 'Slet kolonne',\r\n            fixedColumnWidth: 'Fast søjlebredde',\r\n            resize100: 'Forstør 100%',\r\n            resize75: 'Forstør 75%',\r\n            resize50: 'Forstør 50%',\r\n            resize25: 'Forstør 25%',\r\n            autoSize: 'Auto størrelse',\r\n            mirrorHorizontal: 'Spejling, horisontal',\r\n            mirrorVertical: 'Spejling, vertikal',\r\n            rotateLeft: 'Roter til venstre',\r\n            rotateRight: 'Toter til højre',\r\n            maxSize: 'Max størrelse',\r\n            minSize: 'Min størrelse',\r\n            tableHeader: 'Tabel overskrift',\r\n            mergeCells: 'Sammenlæg celler (merge)',\r\n            splitCells: 'Opdel celler',\r\n            HorizontalSplit: 'Opdel horisontalt',\r\n            VerticalSplit: 'Opdel vertikalt'\r\n        },\r\n        menu: {\r\n            spaced: 'Brev Afstand',\r\n            bordered: 'Afgrænsningslinje',\r\n            neon: 'Neon',\r\n            translucent: 'Gennemsigtig',\r\n            shadow: 'Skygge',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 @Gundolf68\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'de',\r\n        toolbar: {\r\n            default: 'Standard',\r\n            save: 'Speichern',\r\n            font: 'Schriftart',\r\n            formats: 'Format',\r\n            fontSize: 'Schriftgröße',\r\n            bold: 'Fett',\r\n            underline: 'Unterstrichen',\r\n            italic: 'Kursiv',\r\n            strike: 'Durchgestrichen',\r\n            subscript: 'Tiefgestellt',\r\n            superscript: 'Hochgestellt',\r\n            removeFormat: 'Format entfernen',\r\n            fontColor: 'Schriftfarbe',\r\n            hiliteColor: 'Farbe für Hervorhebungen',\r\n            indent: 'Einzug vergrößern',\r\n            outdent: 'Einzug verkleinern',\r\n            align: 'Ausrichtung',\r\n            alignLeft: 'Links ausrichten',\r\n            alignRight: 'Rechts ausrichten',\r\n            alignCenter: 'Zentriert ausrichten',\r\n            alignJustify: 'Blocksatz',\r\n            list: 'Liste',\r\n            orderList: 'Nummerierte Liste',\r\n            unorderList: 'Aufzählung',\r\n            horizontalRule: 'Horizontale Linie',\r\n            hr_solid: 'Strich',\r\n            hr_dotted: 'Gepunktet',\r\n            hr_dashed: 'Gestrichelt',\r\n            table: 'Tabelle',\r\n            link: 'Link',\r\n            math: 'Mathematik',\r\n            image: 'Bild',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Vollbild',\r\n            showBlocks: 'Blockformatierungen anzeigen',\r\n            codeView: 'Quelltext anzeigen',\r\n            undo: 'Rückgängig',\r\n            redo: 'Wiederholen',\r\n            preview: 'Vorschau',\r\n            print: 'Drucken',\r\n            tag_p: 'Absatz',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Header',\r\n            tag_blockquote: 'Zitat',\r\n            tag_pre: 'Quellcode',\r\n            template: 'Vorlage',\r\n            lineHeight: 'Zeilenhöhe',\r\n            paragraphStyle: 'Absatzstil',\r\n            textStyle: 'Textstil',\r\n            imageGallery: 'Bildergalerie'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Link einfügen',\r\n                url: 'Link-URL',\r\n                text: 'Link-Text',\r\n                newWindowCheck: 'In neuem Fenster anzeigen'\r\n            },\r\n            mathBox: {\r\n                title: 'Mathematik',\r\n                inputLabel: 'Mathematische Notation',\r\n                fontSizeLabel: 'Schriftgröße',\r\n                previewLabel: 'Vorschau'\r\n            },\r\n            imageBox: {\r\n                title: 'Bild einfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Bild-URL',\r\n                altText: 'Alternativer Text'\r\n            },\r\n            videoBox: {\r\n                title: 'Video enfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Video-URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Audio enfügen',\r\n                file: 'Datei auswählen',\r\n                url: 'Audio-URL'\r\n            },\r\n            browser: {\r\n                tags: 'Stichworte',\r\n                search: 'Suche',\r\n            },\r\n            caption: 'Beschreibung eingeben',\r\n            close: 'Schließen',\r\n            submitButton: 'Übernehmen',\r\n            revertButton: 'Rückgängig',\r\n            proportion: 'Seitenverhältnis beibehalten',\r\n            basic: 'Standard',\r\n            left: 'Links',\r\n            right: 'Rechts',\r\n            center: 'Zentriert',\r\n            width: 'Breite',\r\n            height: 'Höhe',\r\n            size: 'Größe',\r\n            ratio: 'Verhältnis'\r\n        },\r\n        controller: {\r\n            edit: 'Bearbeiten',\r\n            unlink: 'Link entfernen',\r\n            remove: 'Löschen',\r\n            insertRowAbove: 'Zeile oberhalb einfügen',\r\n            insertRowBelow: 'Zeile unterhalb einfügen',\r\n            deleteRow: 'Zeile löschen',\r\n            insertColumnBefore: 'Spalte links einfügen',\r\n            insertColumnAfter: 'Spalte rechts einfügen',\r\n            deleteColumn: 'Spalte löschen',\r\n            fixedColumnWidth: 'Feste Spaltenbreite',\r\n            resize100: 'Zoom 100%',\r\n            resize75: 'Zoom 75%',\r\n            resize50: 'Zoom 50%',\r\n            resize25: 'Zoom 25%',\r\n            autoSize: 'Automatische Größenanpassung',\r\n            mirrorHorizontal: 'Horizontal spiegeln',\r\n            mirrorVertical: 'Vertikal spiegeln',\r\n            rotateLeft: 'Nach links drehen',\r\n            rotateRight: 'Nach rechts drehen',\r\n            maxSize: 'Maximale Größe',\r\n            minSize: 'Mindestgröße',\r\n            tableHeader: 'Tabellenüberschrift',\r\n            mergeCells: 'Zellen verbinden',\r\n            splitCells: 'Zellen teilen',\r\n            HorizontalSplit: 'Horizontal teilen',\r\n            VerticalSplit: 'Vertikal teilen'\r\n        },\r\n        menu: {\r\n            spaced: 'Buchstabenabstand',\r\n            bordered: 'Umrandet',\r\n            neon: 'Neon',\r\n            translucent: 'Durchscheinend',\r\n            shadow: 'Schatten',\r\n            code: 'Quellcode'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n\tif ( true && typeof module.exports === 'object') {\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory(global, true) :\r\n\t\t\tfunction (w) {\r\n\t\t\t\tif (!w.document) {\r\n\t\t\t\t\tthrow new Error('SUNEDITOR_LANG a window with a document');\r\n\t\t\t\t}\r\n\t\t\t\treturn factory(w);\r\n\t\t\t};\r\n\t} else {\r\n\t\tfactory(global);\r\n\t}\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n\tconst lang = {\r\n\t\tcode: 'es',\r\n\t\ttoolbar: {\r\n\t\t\tdefault: 'Valor por defecto',\r\n\t\t\tsave: 'Guardar',\r\n\t\t\tfont: 'Fuente',\r\n\t\t\tformats: 'Formato',\r\n\t\t\tfontSize: 'Tamaño de fuente',\r\n\t\t\tbold: 'Negrita',\r\n\t\t\tunderline: 'Subrayado',\r\n\t\t\titalic: 'Cursiva',\r\n\t\t\tstrike: 'Tachado',\r\n\t\t\tsubscript: 'Subíndice',\r\n\t\t\tsuperscript: 'Superíndice',\r\n\t\t\tremoveFormat: 'Eliminar formato',\r\n\t\t\tfontColor: 'Color de fuente',\r\n\t\t\thiliteColor: 'Color de resaltado',\r\n\t\t\tindent: 'Más tabulación',\r\n\t\t\toutdent: 'Menos tabulación',\r\n\t\t\talign: 'Alinear',\r\n\t\t\talignLeft: 'Alinear a la izquierda',\r\n\t\t\talignRight: 'Alinear a la derecha',\r\n\t\t\talignCenter: 'Alinear al centro',\r\n\t\t\talignJustify: 'Justificar',\r\n\t\t\tlist: 'Lista',\r\n\t\t\torderList: 'Lista ordenada',\r\n\t\t\tunorderList: 'Lista desordenada',\r\n\t\t\thorizontalRule: 'Horizontal line',\r\n\t\t\thr_solid: 'Línea horizontal solida',\r\n\t\t\thr_dotted: 'Línea horizontal punteada',\r\n\t\t\thr_dashed: 'Línea horizontal discontinua',\r\n\t\t\ttable: 'Tabla',\r\n\t\t\tlink: 'Link',\r\n\t\t\tmath: 'Matemáticas',\r\n\t\t\timage: 'Imagen',\r\n\t\t\tvideo: 'Video',\r\n\t\t\taudio: 'Audio',\r\n\t\t\tfullScreen: 'Pantalla completa',\r\n\t\t\tshowBlocks: 'Ver bloques',\r\n\t\t\tcodeView: 'Ver código fuente',\r\n\t\t\tundo: 'UndoDeshacer última acción',\r\n\t\t\tredo: 'Rehacer última acción',\r\n\t\t\tpreview: 'Vista previa',\r\n\t\t\tprint: 'Imprimir',\r\n\t\t\ttag_p: 'Párrafo',\r\n\t\t\ttag_div: 'Normal (DIV)',\r\n\t\t\ttag_h: 'Header',\r\n\t\t\ttag_blockquote: 'Cita',\r\n\t\t\ttag_pre: 'Código',\r\n\t\t\ttemplate: 'Plantilla',\r\n\t\t\tlineHeight: 'Altura de la línea',\r\n\t\t\tparagraphStyle: 'Estilo del parrafo',\r\n\t\t\ttextStyle: 'Estilo del texto',\r\n            imageGallery: 'Galería de imágenes'\r\n\t\t},\r\n\t\tdialogBox: {\r\n\t\t\tlinkBox: {\r\n\t\t\t\ttitle: 'Insertar Link',\r\n\t\t\t\turl: '¿Hacia que URL lleva el link?',\r\n\t\t\t\ttext: 'Texto para mostrar',\r\n\t\t\t\tnewWindowCheck: 'Abrir en una nueva ventana'\r\n\t\t\t},\r\n\t\t\tmathBox: {\r\n                title: 'Matemáticas',\r\n                inputLabel: 'Notación Matemática',\r\n                fontSizeLabel: 'Tamaño de fuente',\r\n                previewLabel: 'Vista previa'\r\n            },\r\n\t\t\timageBox: {\r\n\t\t\t\ttitle: 'Insertar imagen',\r\n\t\t\t\tfile: 'Seleccionar desde los archivos',\r\n\t\t\t\turl: 'URL de la imagen',\r\n\t\t\t\taltText: 'Texto alternativo'\r\n\t\t\t},\r\n\t\t\tvideoBox: {\r\n\t\t\t\ttitle: 'Insertar Video',\r\n\t\t\t\tfile: 'Seleccionar desde los archivos',\r\n\t\t\t\turl: '¿URL del vídeo? Youtube/Vimeo'\r\n\t\t\t},\r\n\t\t\taudioBox: {\r\n                title: 'Insertar Audio',\r\n                file: 'Seleccionar desde los archivos',\r\n                url: 'URL de la audio'\r\n            },\r\n            browser: {\r\n                tags: 'Etiquetas',\r\n                search: 'Buscar',\r\n            },\r\n\t\t\tcaption: 'Insertar descripción',\r\n\t\t\tclose: 'Cerrar',\r\n\t\t\tsubmitButton: 'Enviar',\r\n\t\t\trevertButton: 'revertir',\r\n\t\t\tproportion: 'Restringir las proporciones',\r\n\t\t\tbasic: 'Basico',\r\n\t\t\tleft: 'Izquierda',\r\n\t\t\tright: 'derecha',\r\n\t\t\tcenter: 'Centro',\r\n\t\t\twidth: 'Ancho',\r\n\t\t\theight: 'Alto',\r\n\t\t\tsize: 'Tamaño',\r\n\t\t\tratio: 'Proporción'\r\n\t\t},\r\n\t\tcontroller: {\r\n\t\t\tedit: 'Editar',\r\n\t\t\tunlink: 'Desvincular',\r\n\t\t\tremove: 'RemoveQuitar',\r\n\t\t\tinsertRowAbove: 'Insertar fila arriba',\r\n\t\t\tinsertRowBelow: 'Insertar fila debajo',\r\n\t\t\tdeleteRow: 'Eliminar fila',\r\n\t\t\tinsertColumnBefore: 'Insertar columna antes',\r\n\t\t\tinsertColumnAfter: 'Insertar columna después',\r\n\t\t\tdeleteColumn: 'Eliminar columna',\r\n\t\t\tfixedColumnWidth: 'Ancho de columna fijo',\r\n\t\t\tresize100: 'Redimensionar 100%',\r\n\t\t\tresize75: 'Redimensionar 75%',\r\n\t\t\tresize50: 'Redimensionar 50%',\r\n\t\t\tresize25: 'Redimensionar 25%',\r\n\t\t\tautoSize: 'Tamaño automático',\r\n\t\t\tmirrorHorizontal: 'Espejo, Horizontal',\r\n\t\t\tmirrorVertical: 'Espejo, Vertical',\r\n\t\t\trotateLeft: 'Girar a la izquierda',\r\n\t\t\trotateRight: 'Girar a la derecha',\r\n\t\t\tmaxSize: 'Tamaño máximo',\r\n\t\t\tminSize: 'Tamaño minímo',\r\n\t\t\ttableHeader: 'Encabezado de tabla',\r\n\t\t\tmergeCells: 'Combinar celdas',\r\n\t\t\tsplitCells: 'Dividir celdas',\r\n\t\t\tHorizontalSplit: 'División horizontal',\r\n\t\t\tVerticalSplit: 'División vertical'\r\n\t\t},\r\n\t\tmenu: {\r\n\t\t\tspaced: 'Espaciado',\r\n\t\t\tbordered: 'Bordeado',\r\n\t\t\tneon: 'Neón',\r\n\t\t\ttranslucent: 'Translúcido',\r\n\t\t\tshadow: 'Sombreado',\r\n            code: 'Código'\r\n\t\t}\r\n\t};\r\n\r\n\tif (typeof noGlobal === typeof undefined) {\r\n\t\tif (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n\t}\r\n\r\n\treturn lang;\r\n}));\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'fr',\r\n        toolbar: {\r\n            default: 'Défaut',\r\n            save: 'Sauvegarder',\r\n            font: 'Police',\r\n            formats: 'Formats',\r\n            fontSize: 'Taille',\r\n            bold: 'Gras',\r\n            underline: 'Souligné',\r\n            italic: 'Italique',\r\n            strike: 'Barré',\r\n            subscript: 'Indice',\r\n            superscript: 'Exposant',\r\n            removeFormat: 'Éffacer  le Formatage',\r\n            fontColor: 'Couleur du texte',\r\n            hiliteColor: 'Couleur en arrière plan',\r\n            indent: 'Indenter',\r\n            outdent: 'Désindenter',\r\n            align: 'Alignenement',\r\n            alignLeft: 'À gauche',\r\n            alignRight: 'À droite',\r\n            alignCenter: 'Centré',\r\n            alignJustify: 'Justifié',\r\n            list: 'Liste',\r\n            orderList: 'Ordonnée',\r\n            unorderList: 'Non-ordonnée',\r\n            horizontalRule: 'Ligne horizontale',\r\n            hr_solid: 'Solide',\r\n            hr_dotted: 'Points',\r\n            hr_dashed: 'Tirets',\r\n            table: 'Table',\r\n            link: 'Lien',\r\n            math: 'Math',\r\n            image: 'Image',\r\n            video: 'Video',\r\n            audio: 'l\\'audio',\r\n            fullScreen: 'Plein écran',\r\n            showBlocks: 'Voir les blocs',\r\n            codeView: 'Voir le code',\r\n            undo: 'Annuler',\r\n            redo: 'Rétablir',\r\n            preview: 'Previsualiser',\r\n            print: 'Imprimer',\r\n            tag_p: 'Paragraphe',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Titre',\r\n            tag_blockquote: 'Citation',\r\n            tag_pre: 'Code',\r\n            template: 'Template',\r\n            lineHeight: 'Hauteur de la ligne',\r\n            paragraphStyle: 'Style de paragraphe',\r\n            textStyle: 'Style de texte',\r\n            imageGallery: 'Galerie d\\'images'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Insérer un lien',\r\n                url: 'Adresse URL du lien',\r\n                text: 'Texte à afficher',\r\n                newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\r\n            },\r\n            mathBox: {\r\n                title: 'Math',\r\n                inputLabel: 'Notation mathématique',\r\n                fontSizeLabel: 'Taille',\r\n                previewLabel: 'Previsualiser'\r\n            },\r\n            imageBox: {\r\n                title: 'Insérer une image',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'Adresse URL du fichier',\r\n                altText: 'Texte Alternatif'\r\n            },\r\n            videoBox: {\r\n                title: 'Insérer une Vidéo',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'URL d’intégration du média, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insertar une l\\'audio',\r\n                file: 'Sélectionner le fichier',\r\n                url: 'Adresse URL du fichier'\r\n            },\r\n            browser: {\r\n                tags: 'Mots clés',\r\n                search: 'Chercher',\r\n            },\r\n            caption: 'Insérer une description',\r\n            close: 'Fermer',\r\n            submitButton: 'Appliquer',\r\n            revertButton: 'Revenir en arrière',\r\n            proportion: 'Maintenir le rapport hauteur/largeur',\r\n            basic: 'Basique',\r\n            left: 'Gauche',\r\n            right: 'Droite',\r\n            center: 'Centré',\r\n            width: 'Largeur',\r\n            height: 'Hauteur',\r\n            size: 'La taille',\r\n            ratio: 'Rapport'\r\n        },\r\n        controller: {\r\n            edit: 'Modifier',\r\n            unlink: 'Supprimer un lien',\r\n            remove: 'Effacer',\r\n            insertRowAbove: 'Insérer une ligne en dessous',\r\n            insertRowBelow: 'Insérer une ligne au dessus',\r\n            deleteRow: 'Effacer la ligne',\r\n            insertColumnBefore: 'Insérer une colonne avant',\r\n            insertColumnAfter: 'Insérer une colonne après',\r\n            deleteColumn: 'Effacer la colonne',\r\n            fixedColumnWidth: 'Largeur de colonne fixe',\r\n            resize100: 'Redimensionner à 100%',\r\n            resize75: 'Redimensionner à 75%',\r\n            resize50: 'Redimensionner à 50%',\r\n            resize25: 'Redimensionner à 25%',\r\n            autoSize: 'Taille automatique',\r\n            mirrorHorizontal: 'Mirroir, Horizontal',\r\n            mirrorVertical: 'Mirroir, Vertical',\r\n            rotateLeft: 'Rotation à gauche',\r\n            rotateRight: 'Rotation à droite',\r\n            maxSize: 'Taille max',\r\n            minSize: 'Taille min',\r\n            tableHeader: 'En-tête de table',\r\n            mergeCells: 'Fusionner les cellules',\r\n            splitCells: 'Diviser les Cellules',\r\n            HorizontalSplit: 'Scission horizontale',\r\n            VerticalSplit: 'Scission verticale'\r\n        },\r\n        menu: {\r\n            spaced: 'Espacement',\r\n            bordered: 'Ligne de démarcation',\r\n            neon: 'Néon',\r\n            translucent: 'Translucide',\r\n            shadow: 'L\\'ombre',\r\n            code: 'Code'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ja',\r\n        toolbar: {\r\n            default: 'デフォルト',\r\n            save: '保存',\r\n            font: 'フォント',\r\n            formats: '段落形式',\r\n            fontSize: 'サイズ',\r\n            bold: '太字',\r\n            underline: '下線',\r\n            italic: 'イタリック',\r\n            strike: '取り消し線',\r\n            subscript: '下付き',\r\n            superscript: '上付き',\r\n            removeFormat: '形式を削除',\r\n            fontColor: '文字色',\r\n            hiliteColor: '文字の背景色',\r\n            indent: 'インデント',\r\n            outdent: 'インデント',\r\n            align: 'ソート',\r\n            alignLeft: '左揃え',\r\n            alignRight: '右揃え',\r\n            alignCenter: '中央揃え',\r\n            alignJustify: '両端揃え',\r\n            list: 'リスト',\r\n            orderList: '数値ブリット',\r\n            unorderList: '円形ブリット',\r\n            horizontalRule: '水平線を挿入',\r\n            hr_solid: '実線',\r\n            hr_dotted: '点線',\r\n            hr_dashed: 'ダッシュ',\r\n            table: 'テーブル',\r\n            link: 'リンク',\r\n            math: '数学',\r\n            image: '画像',\r\n            video: '動画',\r\n            audio: 'オーディオ',\r\n            fullScreen: 'フルスクリーン',\r\n            showBlocks: 'ブロック表示',\r\n            codeView: 'HTMLの編集',\r\n            undo: '元に戻す',\r\n            redo: '再実行',\r\n            preview: 'プレビュー',\r\n            print: '印刷',\r\n            tag_p: '本文',\r\n            tag_div: '基本（DIV）',\r\n            tag_h: 'タイトル',\r\n            tag_blockquote: '引用',\r\n            tag_pre: 'コード',\r\n            template: 'テンプレート',\r\n            lineHeight: '行の高さ',\r\n            paragraphStyle: '段落スタイル',\r\n            textStyle: 'テキストスタイル',\r\n            imageGallery: 'イメージギャラリー'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'リンクの挿入',\r\n                url: 'インターネットアドレス',\r\n                text: '画面のテキスト',\r\n                newWindowCheck: '別ウィンドウで開く'\r\n            },\r\n            mathBox: {\r\n                title: '数学',\r\n                inputLabel: '数学表記',\r\n                fontSizeLabel: 'サイズ',\r\n                previewLabel: 'プレビュー'\r\n            },\r\n            imageBox: {\r\n                title: '画像の挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'イメージアドレス',\r\n                altText: '置換文字列'\r\n            },\r\n            videoBox: {\r\n                title: '動画を挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'メディア埋め込みアドレス, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'オーディオを挿入',\r\n                file: 'ファイルの選択',\r\n                url: 'オーディオアドレス'\r\n            },\r\n            browser: {\r\n                tags: 'タグ',\r\n                search: '探す',\r\n            },\r\n            caption: '説明付け',\r\n            close: '閉じる',\r\n            submitButton: '確認',\r\n            revertButton: '元に戻す',\r\n            proportion: 'の割合カスタマイズ',\r\n            basic: '基本',\r\n            left: '左',\r\n            right: '右',\r\n            center: '中央',\r\n            width: '横',\r\n            height: '縦',\r\n            size: 'サイズ',\r\n            ratio: '比率'\r\n        },\r\n        controller: {\r\n            edit: '編集',\r\n            unlink: 'リンク解除',\r\n            remove: '削除',\r\n            insertRowAbove: '上に行を挿入',\r\n            insertRowBelow: '下に行を挿入',\r\n            deleteRow: '行の削除',\r\n            insertColumnBefore: '左に列を挿入',\r\n            insertColumnAfter: '右に列を挿入',\r\n            deleteColumn: '列を削除する',\r\n            fixedColumnWidth: '固定列幅',\r\n            resize100: '100％ サイズ',\r\n            resize75: '75％ サイズ',\r\n            resize50: '50％ サイズ',\r\n            resize25: '25％ サイズ',\r\n            autoSize: '自動サイズ',\r\n            mirrorHorizontal: '左右反転',\r\n            mirrorVertical: '上下反転',\r\n            rotateLeft: '左に回転',\r\n            rotateRight: '右に回転',\r\n            maxSize: '最大サイズ',\r\n            minSize: '最小サイズ',\r\n            tableHeader: '表のヘッダー',\r\n            mergeCells: 'セルの結合',\r\n            splitCells: 'セルを分割',\r\n            HorizontalSplit: '横分割',\r\n            VerticalSplit: '垂直分割'\r\n        },\r\n        menu: {\r\n            spaced: '文字間隔',\r\n            bordered: '境界線',\r\n            neon: 'ネオン',\r\n            translucent: '半透明',\r\n            shadow: '影',\r\n            code: 'コード'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ko',\r\n        toolbar: {\r\n            default: '기본값',\r\n            save: '저장',\r\n            font: '글꼴',\r\n            formats: '문단 형식',\r\n            fontSize: '크기',\r\n            bold: '굵게',\r\n            underline: '밑줄',\r\n            italic: '기울임',\r\n            strike: '취소선',\r\n            subscript: '아래 첨자',\r\n            superscript: '위 첨자',\r\n            removeFormat: '형식 제거',\r\n            fontColor: '글자색',\r\n            hiliteColor: '배경색',\r\n            indent: '들여쓰기',\r\n            outdent: '내어쓰기',\r\n            align: '정렬',\r\n            alignLeft: '왼쪽 정렬',\r\n            alignRight: '오른쪽 정렬',\r\n            alignCenter: '가운데 정렬',\r\n            alignJustify: '양쪽 정렬',\r\n            list: '리스트',\r\n            orderList: '숫자형 리스트',\r\n            unorderList: '원형 리스트',\r\n            horizontalRule: '가로 줄 삽입',\r\n            hr_solid: '실선',\r\n            hr_dotted: '점선',\r\n            hr_dashed: '대시',\r\n            table: '테이블',\r\n            link: '링크',\r\n            math: '수식',\r\n            image: '이미지',\r\n            video: '동영상',\r\n            audio: '오디오',\r\n            fullScreen: '전체 화면',\r\n            showBlocks: '블록 보기',\r\n            codeView: 'HTML 편집',\r\n            undo: '실행 취소',\r\n            redo: '다시 실행',\r\n            preview: '미리보기',\r\n            print: '인쇄',\r\n            tag_p: '본문',\r\n            tag_div: '기본 (DIV)',\r\n            tag_h: '제목',\r\n            tag_blockquote: '인용문',\r\n            tag_pre: '코드',\r\n            template: '템플릿',\r\n            lineHeight: '줄 높이',\r\n            paragraphStyle: '문단 스타일',\r\n            textStyle: '글자 스타일',\r\n            imageGallery: '이미지 갤러리'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: '링크 삽입',\r\n                url: '인터넷 주소',\r\n                text: '화면 텍스트',\r\n                newWindowCheck: '새창으로 열기'\r\n            },\r\n            mathBox: {\r\n                title: '수식',\r\n                inputLabel: '수학적 표기법',\r\n                fontSizeLabel: '글자 크기',\r\n                previewLabel: '미리보기'\r\n            },\r\n            imageBox: {\r\n                title: '이미지 삽입',\r\n                file: '파일 선택',\r\n                url: '이미지 주소',\r\n                altText: '대체 문자열'\r\n            },\r\n            videoBox: {\r\n                title: '동영상 삽입',\r\n                file: '파일 선택',\r\n                url: '미디어 임베드 주소, 유튜브/비메오'\r\n            },\r\n            audioBox: {\r\n                title: '오디오 삽입',\r\n                file: '파일 선택',\r\n                url: '오디오 파일 주소'\r\n            },\r\n            browser: {\r\n                tags: '태그',\r\n                search: '검색',\r\n            },\r\n            caption: '설명 넣기',\r\n            close: '닫기',\r\n            submitButton: '확인',\r\n            revertButton: '되돌리기',\r\n            proportion: '비율 맞춤',\r\n            basic: '기본',\r\n            left: '왼쪽',\r\n            right: '오른쪽',\r\n            center: '가운데',\r\n            width: '가로',\r\n            height: '세로',\r\n            size: '크기',\r\n            ratio: '비율'\r\n        },\r\n        controller: {\r\n            edit: '편집',\r\n            unlink: '링크 해제',\r\n            remove: '삭제',\r\n            insertRowAbove: '위에 행 삽입',\r\n            insertRowBelow: '아래에 행 삽입',\r\n            deleteRow: '행 삭제',\r\n            insertColumnBefore: '왼쪽에 열 삽입',\r\n            insertColumnAfter: '오른쪽에 열 삽입',\r\n            deleteColumn: '열 삭제',\r\n            fixedColumnWidth: '고정 된 열 너비',\r\n            resize100: '100% 크기',\r\n            resize75: '75% 크기',\r\n            resize50: '50% 크기',\r\n            resize25: '25% 크기',\r\n            autoSize: '자동 크기',\r\n            mirrorHorizontal: '좌우 반전',\r\n            mirrorVertical: '상하 반전',\r\n            rotateLeft: '왼쪽으로 회전',\r\n            rotateRight: '오른쪽으로 회전',\r\n            maxSize: '최대화',\r\n            minSize: '최소화',\r\n            tableHeader: '테이블 제목',\r\n            mergeCells: '셀 병합',\r\n            splitCells: '셀 분할',\r\n            HorizontalSplit: '가로 분할',\r\n            VerticalSplit: '세로 분할'\r\n        },\r\n        menu: {\r\n            spaced: '글자 간격',\r\n            bordered: '경계선',\r\n            neon: '네온',\r\n            translucent: '반투명',\r\n            shadow: '그림자',\r\n            code: '코드'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * Brazilian Portuguese translation by lpeil github\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'pt_br',\r\n        toolbar: {\r\n            default: 'Padrão',\r\n            save: 'Salvar',\r\n            font: 'Fonte',\r\n            formats: 'Formatos',\r\n            fontSize: 'Tamanho',\r\n            bold: 'Negrito',\r\n            underline: 'Sublinhado',\r\n            italic: 'Itálico',\r\n            strike: 'Riscado',\r\n            subscript: 'Subescrito',\r\n            superscript: 'Sobrescrito',\r\n            removeFormat: 'Remover Formatação',\r\n            fontColor: 'Cor da Fonte',\r\n            hiliteColor: 'Cor de destaque',\r\n            indent: 'Recuo',\r\n            outdent: 'Avançar',\r\n            align: 'Alinhar',\r\n            alignLeft: 'Alinhar à esquerda',\r\n            alignRight: 'Alinhar à direita',\r\n            alignCenter: 'Alinhar ao centro',\r\n            alignJustify: 'Alinhat justificado',\r\n            list: 'Lista',\r\n            orderList: 'Lista ordenada',\r\n            unorderList: 'Lista desordenada',\r\n            horizontalRule: 'Linha horizontal',\r\n            hr_solid: 'solida',\r\n            hr_dotted: 'pontilhada',\r\n            hr_dashed: 'tracejada',\r\n            table: 'Tabela',\r\n            link: 'Link',\r\n            math: 'Matemática',\r\n            image: 'Imagem',\r\n            video: 'Vídeo',\r\n            audio: 'Áudio',\r\n            fullScreen: 'Tela cheia',\r\n            showBlocks: 'Mostrar blocos',\r\n            codeView: 'Mostrar códigos',\r\n            undo: 'Voltar',\r\n            redo: 'Refazer',\r\n            preview: 'Prever',\r\n            print: 'imprimir',\r\n            tag_p: 'Paragráfo',\r\n            tag_div: '(DIV) Normal',\r\n            tag_h: 'Cabeçalho',\r\n            tag_blockquote: 'Citar',\r\n            tag_pre: 'Código',\r\n            template: 'Modelo',\r\n            lineHeight: 'Altura da linha',\r\n            paragraphStyle: 'Estilo do parágrafo',\r\n            textStyle: 'Estilo do texto',\r\n            imageGallery: 'Galeria de imagens'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserir link',\r\n                url: 'URL para link',\r\n                text: 'Texto à mostrar',\r\n                newWindowCheck: 'Abrir em nova guia'\r\n            },\r\n            mathBox: {\r\n                title: 'Matemática',\r\n                inputLabel: 'Notação matemática',\r\n                fontSizeLabel: 'Tamanho',\r\n                previewLabel: 'Prever'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserir imagens',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL da imagem',\r\n                altText: 'Texto alternativo'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserir vídeo',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL do YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Inserir audio',\r\n                file: 'Selecionar arquivos',\r\n                url: 'URL da audio'\r\n            },\r\n            browser: {\r\n                tags: 'Tag',\r\n                search: 'Procurar',\r\n            },\r\n            caption: 'Inserir descrição',\r\n            close: 'Fechar',\r\n            submitButton: 'Enviar',\r\n            revertButton: 'Reverter',\r\n            proportion: 'restringir proporções',\r\n            basic: 'Básico',\r\n            left: 'Esquerda',\r\n            right: 'Direita',\r\n            center: 'Centro',\r\n            width: 'Largura',\r\n            height: 'Altura',\r\n            size: 'Tamanho',\r\n            ratio: 'Proporções'\r\n        },\r\n        controller: {\r\n            edit: 'Editar',\r\n            unlink: 'Retirar link',\r\n            remove: 'Remover',\r\n            insertRowAbove: 'Inserir linha acima',\r\n            insertRowBelow: 'Inserir linha abaixo',\r\n            deleteRow: 'Deletar linha',\r\n            insertColumnBefore: 'Inserir coluna antes',\r\n            insertColumnAfter: 'Inserir coluna depois',\r\n            deleteColumn: 'Deletar coluna',\r\n            fixedColumnWidth: 'Largura fixa da coluna',\r\n            resize100: 'Redimensionar para 100%',\r\n            resize75: 'Redimensionar para 75%',\r\n            resize50: 'Redimensionar para 50%',\r\n            resize25: 'Redimensionar para 25%',\r\n            autoSize: 'Tamanho automático',\r\n            mirrorHorizontal: 'Espelho, Horizontal',\r\n            mirrorVertical: 'Espelho, Vertical',\r\n            rotateLeft: 'Girar para esquerda',\r\n            rotateRight: 'Girar para direita',\r\n            maxSize: 'Tam max',\r\n            minSize: 'Tam min',\r\n            tableHeader: 'Cabeçalho da tabela',\r\n            mergeCells: 'Mesclar células',\r\n            splitCells: 'Dividir células',\r\n            HorizontalSplit: 'Divisão horizontal',\r\n            VerticalSplit: 'Divisão vertical'\r\n        },\r\n        menu: {\r\n            spaced: 'Espaçado',\r\n            bordered: 'Com borda',\r\n            neon: 'Néon',\r\n            translucent: 'Translúcido',\r\n            shadow: 'Sombreado',\r\n            code: 'Código'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ru',\r\n        toolbar: {\r\n            default: 'По умолчанию',\r\n            save: 'Сохранить',\r\n            font: 'Шрифт',\r\n            formats: 'Стиль абзаца',\r\n            fontSize: 'Размер шрифта',\r\n            bold: 'Полужирный',\r\n            underline: 'Подчёркнутый',\r\n            italic: 'Курсив',\r\n            strike: 'Зачеркнутый',\r\n            subscript: 'Нижний индекс',\r\n            superscript: 'Верхний индекс',\r\n            removeFormat: 'Очистить форматирование',\r\n            fontColor: 'Цвет текста',\r\n            hiliteColor: 'Цвет фона',\r\n            indent: 'Увеличить отступ',\r\n            outdent: 'Уменьшить отступ',\r\n            align: 'Выравнивание',\r\n            alignLeft: 'Слева',\r\n            alignRight: 'Справа',\r\n            alignCenter: 'По центру',\r\n            alignJustify: 'По ширине',\r\n            list: 'Списки',\r\n            orderList: 'Нумерованный',\r\n            unorderList: 'Маркированный',\r\n            horizontalRule: 'Горизонтальная линия',\r\n            hr_solid: 'Сплошная',\r\n            hr_dotted: 'Пунктир',\r\n            hr_dashed: 'Штриховая',\r\n            table: 'Таблица',\r\n            link: 'Ссылка',\r\n            math: 'математический',\r\n            image: 'Изображение',\r\n            video: 'Видео',\r\n            audio: 'Аудио',\r\n            fullScreen: 'Полный экран',\r\n            showBlocks: 'Блочный вид',\r\n            codeView: 'Редактировать HTML',\r\n            undo: 'Отменить',\r\n            redo: 'Вернуть',\r\n            preview: 'Предварительный просмотр',\r\n            print: 'Печать',\r\n            tag_p: 'Текст',\r\n            tag_div: 'Базовый',\r\n            tag_h: 'Заголовок',\r\n            tag_blockquote: 'Цитата',\r\n            tag_pre: 'Код',\r\n            template: 'Шаблон',\r\n            lineHeight: 'Высота линии',\r\n            paragraphStyle: 'Стиль абзаца',\r\n            textStyle: 'Стиль текста',\r\n            imageGallery: 'Галерея'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Вставить ссылку',\r\n                url: 'Ссылка',\r\n                text: 'Текст',\r\n                newWindowCheck: 'Открывать в новом окне'\r\n            },\r\n            mathBox: {\r\n                title: 'математический',\r\n                inputLabel: 'Математическая запись',\r\n                fontSizeLabel: 'Кегль',\r\n                previewLabel: 'Предварительный просмотр'\r\n            },\r\n            imageBox: {\r\n                title: 'Вставить изображение',\r\n                file: 'Выберите файл',\r\n                url: 'Адрес изображения',\r\n                altText: 'Текстовое описание изображения'\r\n            },\r\n            videoBox: {\r\n                title: 'Вставить видео',\r\n                file: 'Выберите файл',\r\n                url: 'Ссылка на видео, Youtube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Вставить аудио',\r\n                file: 'Выберите файл',\r\n                url: 'Адрес аудио'\r\n            },\r\n            browser: {\r\n                tags: 'Теги',\r\n                search: 'Поиск',\r\n            },\r\n            caption: 'Добавить подпись',\r\n            close: 'Закрыть',\r\n            submitButton: 'Подтвердить',\r\n            revertButton: 'Сбросить',\r\n            proportion: 'Сохранить пропорции',\r\n            basic: 'Без обтекания',\r\n            left: 'Слева',\r\n            right: 'Справа',\r\n            center: 'По центру',\r\n            width: 'Ширина',\r\n            height: 'Высота',\r\n            size: 'Размер',\r\n            ratio: 'Соотношение'\r\n        },\r\n        controller: {\r\n            edit: 'Изменить',\r\n            unlink: 'Убрать ссылку',\r\n            remove: 'Удалить',\r\n            insertRowAbove: 'Вставить строку выше',\r\n            insertRowBelow: 'Вставить строку ниже',\r\n            deleteRow: 'Удалить строку',\r\n            insertColumnBefore: 'Вставить столбец слева',\r\n            insertColumnAfter: 'Вставить столбец справа',\r\n            deleteColumn: 'Удалить столбец',\r\n            fixedColumnWidth: 'Фиксированная ширина столбца',\r\n            resize100: 'Размер 100%',\r\n            resize75: 'Размер 75%',\r\n            resize50: 'Размер 50%',\r\n            resize25: 'Размер 25%',\r\n            autoSize: 'Авто размер',\r\n            mirrorHorizontal: 'Отразить по горизонтали',\r\n            mirrorVertical: 'Отразить по вертикали',\r\n            rotateLeft: 'Повернуть против часовой стрелки',\r\n            rotateRight: 'Повернуть по часовой стрелке',\r\n            maxSize: 'Ширина по размеру страницы',\r\n            minSize: 'Ширина по содержимому',\r\n            tableHeader: 'Строка заголовков',\r\n            mergeCells: 'Объединить ячейки',\r\n            splitCells: 'Разделить ячейку',\r\n            HorizontalSplit: 'Разделить горизонтально',\r\n            VerticalSplit: 'Разделить вертикально'\r\n        },\r\n        menu: {\r\n            spaced: 'интервал',\r\n            bordered: 'Граничная Линия',\r\n            neon: 'неон',\r\n            translucent: 'полупрозрачный',\r\n            shadow: 'Тень',\r\n            code: 'Код'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG una finestra con un documento');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'it',\r\n        toolbar: {\r\n            default: 'Predefinita',\r\n            save: 'Salva',\r\n            font: 'Font',\r\n            formats: 'Formato',\r\n            fontSize: 'Grandezza',\r\n            bold: 'Grassetto',\r\n            underline: 'Sottolineato',\r\n            italic: 'Italico',\r\n            strike: 'Cancellato',\r\n            subscript: 'Apice',\r\n            superscript: 'Pedice',\r\n            removeFormat: 'Rimuovi Formattazione',\r\n            fontColor: 'Colore Testo',\r\n            hiliteColor: 'Colore Sottolineatura',\r\n            indent: 'Aumenta rientro',\r\n            outdent: 'Riduci rientro',\r\n            align: 'Allinea',\r\n            alignLeft: 'Sinistra',\r\n            alignRight: 'Destra',\r\n            alignCenter: 'Centrato',\r\n            alignJustify: 'Giustificato',\r\n            list: 'Lista',\r\n            orderList: 'Lista numerata',\r\n            unorderList: 'Lista Puntata',\r\n            horizontalRule: 'Linea Orizzontale',\r\n            hr_solid: 'Linea',\r\n            hr_dotted: 'Puntinato',\r\n            hr_dashed: 'Tratteggiato',\r\n            table: 'Tabella',\r\n            link: 'Link',\r\n            math: 'Matematica',\r\n            image: 'Immagine',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Tutto Schermo',\r\n            showBlocks: 'Visualizza Blocchi',\r\n            codeView: 'Visualizza Codice',\r\n            undo: 'Annulla',\r\n            redo: 'Ripristina',\r\n            preview: 'Anteprima',\r\n            print: 'Stampa',\r\n            tag_p: 'Paragrafo',\r\n            tag_div: 'DIV Normale',\r\n            tag_h: 'Intestazione',\r\n            tag_blockquote: 'Citazione',\r\n            tag_pre: 'Codice',\r\n            template: 'Template',\r\n            lineHeight: 'Altezza linea',\r\n            paragraphStyle: 'Stile Paragrafo',\r\n            textStyle: 'Stile Testo',\r\n            imageGallery: 'Galleria di immagini'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserisci un Link',\r\n                url: 'Indirizzo in link',\r\n                text: 'Applica Testo da visualizzare',\r\n                newWindowCheck: 'Apri in una nuova finestra'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematica',\r\n                inputLabel: 'Notazione matematica',\r\n                fontSizeLabel: 'Grandezza testo',\r\n                previewLabel: 'Anteprima'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserisci Immagine',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo immagine',\r\n                altText: 'Testo alternativo (ALT)'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserisci Video',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo video, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Insertar Audio',\r\n                file: 'Seleziona da file',\r\n                url: 'Indirizzo audio'\r\n            },\r\n            browser: {\r\n                tags: 'tag',\r\n                search: 'Ricerca',\r\n            },\r\n            caption: 'Inserisci descrizione',\r\n            close: 'ClChiudiose',\r\n            submitButton: 'Invia',\r\n            revertButton: 'Annulla',\r\n            proportion: 'Proporzionale',\r\n            basic: 'Da impostazione',\r\n            left: 'Sinistra',\r\n            right: 'Destra',\r\n            center: 'Centrato',\r\n            width: 'Larghezza',\r\n            height: 'Altezza',\r\n            size: 'Peso',\r\n            ratio: 'Rapporto'\r\n        },\r\n        controller: {\r\n            edit: 'Modifica',\r\n            unlink: 'Elimina link',\r\n            remove: 'Rimuovi',\r\n            insertRowAbove: 'Inserisci linea sopra',\r\n            insertRowBelow: 'Inserisci linea sotto',\r\n            deleteRow: 'Cancella riga',\r\n            insertColumnBefore: 'Inserisci una colonna prima',\r\n            insertColumnAfter: 'Inserisci una colonna dopo',\r\n            deleteColumn: 'Cancella colonna',\r\n            fixedColumnWidth: 'Larghezza della colonna fissa',\r\n            resize100: 'Ridimensiona 100%',\r\n            resize75: 'Ridimensiona 75%',\r\n            resize50: 'Ridimensiona 50%',\r\n            resize25: 'Ridimensiona 25%',\r\n            autoSize: 'Ridimensione automatica',\r\n            mirrorHorizontal: 'Specchia, orizontale',\r\n            mirrorVertical: 'Specchia, verticale',\r\n            rotateLeft: 'Ruota a sinistra',\r\n            rotateRight: 'Ruota a destra',\r\n            maxSize: 'Dimensione massima',\r\n            minSize: 'Dimensione minima',\r\n            tableHeader: 'Intestazione Tabella',\r\n            mergeCells: 'Unisci celle',\r\n            splitCells: 'Dividi celle',\r\n            HorizontalSplit: 'Separa orizontale',\r\n            VerticalSplit: 'Separa verticale'\r\n        },\r\n        menu: {\r\n            spaced: 'Spaziatura',\r\n            bordered: 'Bordo',\r\n            neon: 'Luminoso',\r\n            translucent: 'Translucente',\r\n            shadow: 'Ombra',\r\n            code: 'Codice'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'zh_cn',\r\n        toolbar: {\r\n            default: '默认',\r\n            save: '保存',\r\n            font: '字体',\r\n            formats: '格式',\r\n            fontSize: '字号',\r\n            bold: '粗体',\r\n            underline: '下划线',\r\n            italic: '斜体',\r\n            strike: '删除线',\r\n            subscript: '下标',\r\n            superscript: '上标',\r\n            removeFormat: '清除格式',\r\n            fontColor: '字体颜色',\r\n            hiliteColor: '背景颜色',\r\n            indent: '增加缩进',\r\n            outdent: '减少缩进',\r\n            align: '对齐方式',\r\n            alignLeft: '左对齐',\r\n            alignRight: '右对齐',\r\n            alignCenter: '居中',\r\n            alignJustify: '两端对齐',\r\n            list: '列表',\r\n            orderList: '有序列表',\r\n            unorderList: '无序列表',\r\n            horizontalRule: '水平线',\r\n            hr_solid: '实线',\r\n            hr_dotted: '点线',\r\n            hr_dashed: '虚线',\r\n            table: '表格',\r\n            link: '超链接',\r\n            math: '数学',\r\n            image: '图片',\r\n            video: '视频',\r\n            audio: '音讯',\r\n            fullScreen: '全屏',\r\n            showBlocks: '显示块区域',\r\n            codeView: '代码视图',\r\n            undo: '撤消',\r\n            redo: '恢复',\r\n            preview: '预览',\r\n            print: '打印',\r\n            tag_p: '段落',\r\n            tag_div: '正文 (DIV)',\r\n            tag_h: '标题',\r\n            tag_blockquote: '引用',\r\n            tag_pre: '代码',\r\n            template: '模板',\r\n            lineHeight: '行高',\r\n            paragraphStyle: '段落样式',\r\n            textStyle: '文字样式',\r\n            imageGallery: '图片库'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: '插入超链接',\r\n                url: '网址',\r\n                text: '字体',\r\n                newWindowCheck: '在新标签页中打开'\r\n            },\r\n            mathBox: {\r\n                title: '数学',\r\n                inputLabel: '数学符号',\r\n                fontSizeLabel: '字号',\r\n                previewLabel: '预览'\r\n            },\r\n            imageBox: {\r\n                title: '插入图片',\r\n                file: '上传图片',\r\n                url: '图片网址',\r\n                altText: '替换文字'\r\n            },\r\n            videoBox: {\r\n                title: '插入视频',\r\n                file: '上传图片',\r\n                url: '嵌入网址, Youtube,Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: '插入音频',\r\n                file: '上传图片',\r\n                url: '音频网址'\r\n            },\r\n            browser: {\r\n                tags: '标签',\r\n                search: '搜索',\r\n            },\r\n            caption: '标题',\r\n            close: '取消',\r\n            submitButton: '确定',\r\n            revertButton: '恢复',\r\n            proportion: '比例',\r\n            basic: '基本',\r\n            left: '左',\r\n            right: '右',\r\n            center: '居中',\r\n            width: '宽度',\r\n            height: '高度',\r\n            size: '尺寸',\r\n            ratio: '比'\r\n        },\r\n        controller: {\r\n            edit: '编辑',\r\n            unlink: '去除链接',\r\n            remove: '删除',\r\n            insertRowAbove: '在上方插入',\r\n            insertRowBelow: '在下方插入',\r\n            deleteRow: '删除行',\r\n            insertColumnBefore: '在左侧插入',\r\n            insertColumnAfter: '在右侧插入',\r\n            deleteColumn: '删除列',\r\n            fixedColumnWidth: '固定列宽',\r\n            resize100: '放大 100%',\r\n            resize75: '放大 75%',\r\n            resize50: '放大 50%',\r\n            resize25: '放大 25%',\r\n            mirrorHorizontal: '翻转左右',\r\n            mirrorVertical: '翻转上下',\r\n            rotateLeft: '向左旋转',\r\n            rotateRight: '向右旋转',\r\n            maxSize: '最大尺寸',\r\n            minSize: '最小尺寸',\r\n            tableHeader: '表格标题',\r\n            mergeCells: '合并单元格',\r\n            splitCells: '分割单元格',\r\n            HorizontalSplit: '水平分割',\r\n            VerticalSplit: '垂直分割'\r\n        },\r\n        menu: {\r\n            spaced: '间隔开',\r\n            bordered: '边界线',\r\n            neon: '霓虹灯',\r\n            translucent: '半透明',\r\n            shadow: '阴影',\r\n            code: '代码'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\r\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ro',\r\n        toolbar: {\r\n            default: 'Default',\r\n            save: 'Salvează',\r\n            font: 'Font',\r\n            formats: 'Format',\r\n            fontSize: 'Dimensiune',\r\n            bold: 'Îngroșat',\r\n            underline: 'Subliniat',\r\n            italic: 'Înclinat',\r\n            strike: 'Tăiat',\r\n            subscript: 'Subscript',\r\n            superscript: 'Superscript',\r\n            removeFormat: 'Șterge formatare',\r\n            fontColor: 'Culoare font',\r\n            hiliteColor: 'Culoare de evidențiere',\r\n            indent: 'Indentează',\r\n            outdent: 'Fără indentare',\r\n            align: 'Aliniere',\r\n            alignLeft: 'Aliniere la stânga',\r\n            alignRight: 'Aliniere la dreapta',\r\n            alignCenter: 'Aliniere la centru',\r\n            alignJustify: 'Aliniere stânga - dreapta',\r\n            list: 'Listă',\r\n            orderList: 'Listă ordonată',\r\n            unorderList: 'Listă neordonată',\r\n            horizontalRule: 'Linie orizontală',\r\n            hr_solid: 'Solid',\r\n            hr_dotted: 'Punctat',\r\n            hr_dashed: 'Punctate',\r\n            table: 'Tabel',\r\n            link: 'Link',\r\n            math: 'Matematică',\r\n            image: 'Imagine',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Tot ecranul',\r\n            showBlocks: 'Arată blocuri',\r\n            codeView: 'Vizualizare cod',\r\n            undo: 'Anulează',\r\n            redo: 'Refă',\r\n            preview: 'Previzualizare',\r\n            print: 'printează',\r\n            tag_p: 'Paragraf',\r\n            tag_div: 'Normal (DIV)',\r\n            tag_h: 'Antet',\r\n            tag_blockquote: 'Quote',\r\n            tag_pre: 'Citat',\r\n            template: 'Template',\r\n            lineHeight: 'Înălțime linie',\r\n            paragraphStyle: 'Stil paragraf',\r\n            textStyle: 'Stil text',\r\n            imageGallery: 'Galerie de imagini'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Inserează Link',\r\n                url: 'Adresă link',\r\n                text: 'Text de afișat',\r\n                newWindowCheck: 'Deschide în fereastră nouă'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematică',\r\n                inputLabel: 'Notație matematică',\r\n                fontSizeLabel: 'Dimensiune font',\r\n                previewLabel: 'Previzualizare'\r\n            },\r\n            imageBox: {\r\n                title: 'Inserează imagine',\r\n                file: 'Selectează',\r\n                url: 'URL imagine',\r\n                altText: 'text alternativ'\r\n            },\r\n            videoBox: {\r\n                title: 'Inserează video',\r\n                file: 'Selectează',\r\n                url: 'Include URL, youtube/vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Inserează Audio',\r\n                file: 'Selectează',\r\n                url: 'URL Audio'\r\n            },\r\n            browser: {\r\n                tags: 'Etichete',\r\n                search: 'Căutareim',\r\n            },\r\n            caption: 'Inserează descriere',\r\n            close: 'Închide',\r\n            submitButton: 'Salvează',\r\n            revertButton: 'Revenire',\r\n            proportion: 'Constrânge proporțiile',\r\n            basic: 'De bază',\r\n            left: 'Stânga',\r\n            right: 'Dreapta',\r\n            center: 'Centru',\r\n            width: 'Lățime',\r\n            height: 'Înălțime',\r\n            size: 'Dimensiune',\r\n            ratio: 'Ratie'\r\n        },\r\n        controller: {\r\n            edit: 'Editează',\r\n            unlink: 'Scoate link',\r\n            remove: 'Elimină',\r\n            insertRowAbove: 'Inserează rând deasupra',\r\n            insertRowBelow: 'Inserează rând dedesupt',\r\n            deleteRow: 'Șterge linie',\r\n            insertColumnBefore: 'Inserează coloană înainte',\r\n            insertColumnAfter: 'Inserează coloană după',\r\n            deleteColumn: 'Șterge coloană',\r\n            fixedColumnWidth: 'Lățime fixă coloană',\r\n            resize100: 'Redimensionare 100%',\r\n            resize75: 'Redimensionare 75%',\r\n            resize50: 'Redimensionare 50%',\r\n            resize25: 'Redimensionare 25%',\r\n            autoSize: 'Dimensiune automată',\r\n            mirrorHorizontal: 'Oglindă, orizontal',\r\n            mirrorVertical: 'Oglindă, vertical',\r\n            rotateLeft: 'Rotește la stânga',\r\n            rotateRight: 'Rotește la dreapta',\r\n            maxSize: 'Dimensiune maximă',\r\n            minSize: 'Dimensiune minimă',\r\n            tableHeader: 'Antet tabel',\r\n            mergeCells: 'Îmbină celule',\r\n            splitCells: 'Divizează celule',\r\n            HorizontalSplit: 'Despicare orizontală',\r\n            VerticalSplit: 'Despicare verticală'\r\n        },\r\n        menu: {\r\n            spaced: 'Spațiat',\r\n            bordered: 'Mărginit',\r\n            neon: 'Neon',\r\n            translucent: 'Translucent',\r\n            shadow: 'Umbră',\r\n            code: 'Citat'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'pl',\r\n        toolbar: {\r\n            default: 'Domyślne',\r\n            save: 'Zapisz',\r\n            font: 'Czcionka',\r\n            formats: 'Formaty',\r\n            fontSize: 'Rozmiar',\r\n            bold: 'Pogrubienie',\r\n            underline: 'Podkreślenie',\r\n            italic: 'Kursywa',\r\n            strike: 'Przekreślenie',\r\n            subscript: 'Indeks dolny',\r\n            superscript: 'Indeks górny',\r\n            removeFormat: 'Wyczyść formatowanie',\r\n            fontColor: 'Kolor tekstu',\r\n            hiliteColor: 'Kolor tła tekstu',\r\n            indent: 'Zwiększ wcięcie',\r\n            outdent: 'Zmniejsz wcięcie',\r\n            align: 'Wyrównaj',\r\n            alignLeft: 'Do lewej',\r\n            alignRight: 'Do prawej',\r\n            alignCenter: 'Do środka',\r\n            alignJustify: 'Wyjustuj',\r\n            list: 'Lista',\r\n            orderList: 'Lista numerowana',\r\n            unorderList: 'Lista wypunktowana',\r\n            horizontalRule: 'Pozioma linia',\r\n            hr_solid: 'Ciągła',\r\n            hr_dotted: 'Kropkowana',\r\n            hr_dashed: 'Przerywana',\r\n            table: 'Tabela',\r\n            link: 'Odnośnik',\r\n            math: 'Matematyczne',\r\n            image: 'Obraz',\r\n            video: 'Wideo',\r\n            audio: 'Audio',\r\n            fullScreen: 'Pełny ekran',\r\n            showBlocks: 'Pokaż bloki',\r\n            codeView: 'Widok kodu',\r\n            undo: 'Cofnij',\r\n            redo: 'Ponów',\r\n            preview: 'Podgląd', \r\n            print: 'Drukuj',\r\n            tag_p: 'Akapit',\r\n            tag_div: 'Blok (DIV)',\r\n            tag_h: 'Nagłówek H',\r\n            tag_blockquote: 'Cytat',\r\n            tag_pre: 'Kod',\r\n            template: 'Szablon',\r\n            lineHeight: 'Odstęp między wierszami',\r\n            paragraphStyle: 'Styl akapitu',\r\n            textStyle: 'Styl tekstu',\r\n            imageGallery: 'Galeria obrazów'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Wstaw odnośnik',\r\n                url: 'Adres URL',\r\n                text: 'Tekst do wyświetlenia',\r\n                newWindowCheck: 'Otwórz w nowym oknie'\r\n            },\r\n            mathBox: {\r\n                title: 'Matematyczne',\r\n                inputLabel: 'Zapis matematyczny',\r\n                fontSizeLabel: 'Rozmiar czcionki',\r\n                previewLabel: 'Podgląd'\r\n            },\r\n            imageBox: {\r\n                title: 'Wstaw obraz',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL obrazka',\r\n                altText: 'Tekst alternatywny'\r\n            },\r\n            videoBox: {\r\n                title: 'Wstaw wideo',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL video, np. YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Wstaw audio',\r\n                file: 'Wybierz plik',\r\n                url: 'Adres URL audio'\r\n            },\r\n            browser: {\r\n                tags: 'Tagi',\r\n                search: 'Szukaj',\r\n            },\r\n            caption: 'Wstaw opis',\r\n            close: 'Zamknij',\r\n            submitButton: 'Zatwierdź',\r\n            revertButton: 'Cofnij zmiany',\r\n            proportion: 'Ogranicz proporcje',\r\n            basic: 'Bez wyrównania',\r\n            left: 'Do lewej',\r\n            right: 'Do prawej',\r\n            center: 'Do środka',\r\n            width: 'Szerokość',\r\n            height: 'Wysokość',\r\n            size: 'Rozmiar',\r\n            ratio: 'Proporcje'\r\n        },\r\n        controller: {\r\n            edit: 'Edycja',\r\n            unlink: 'Usuń odnośnik',\r\n            remove: 'Usuń',\r\n            insertRowAbove: 'Wstaw wiersz powyżej',\r\n            insertRowBelow: 'Wstaw wiersz poniżej',\r\n            deleteRow: 'Usuń wiersz',\r\n            insertColumnBefore: 'Wstaw kolumnę z lewej',\r\n            insertColumnAfter: 'Wstaw kolumnę z prawej',\r\n            deleteColumn: 'Usuń kolumnę',\r\n            fixedColumnWidth: 'Stała szerokość kolumny',\r\n            resize100: 'Zmień rozmiar - 100%',\r\n            resize75: 'Zmień rozmiar - 75%',\r\n            resize50: 'Zmień rozmiar - 50%',\r\n            resize25: 'Zmień rozmiar - 25%',\r\n            autoSize: 'Rozmiar automatyczny',\r\n            mirrorHorizontal: 'Odbicie lustrzane w poziomie',\r\n            mirrorVertical: 'Odbicie lustrzane w pionie',\r\n            rotateLeft: 'Obróć w lewo',\r\n            rotateRight: 'Obróć w prawo',\r\n            maxSize: 'Maksymalny rozmiar',\r\n            minSize: 'Minimalny rozmiar',\r\n            tableHeader: 'Nagłówek tabeli',\r\n            mergeCells: 'Scal komórki',\r\n            splitCells: 'Podziel komórki',\r\n            HorizontalSplit: 'Podział poziomy',\r\n            VerticalSplit: 'Podział pionowy'\r\n        },\r\n        menu: {\r\n            spaced: 'Rozstawiony',\r\n            bordered: 'Z obwódką',\r\n            neon: 'Neon',\r\n            translucent: 'Półprzezroczysty',\r\n            shadow: 'Cień',\r\n            code: 'Kod'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'ckb',\r\n        toolbar: {\r\n            default: 'بنه‌ڕه‌ت',\r\n            save: 'پاشه‌كه‌وتكردن',\r\n            font: 'فۆنت',\r\n            formats: 'Formats',\r\n            fontSize: 'قه‌باره‌',\r\n            bold: 'تۆخكردن',\r\n            underline: 'هێڵ به‌ژێردا بێنه‌',\r\n            italic: 'لار',\r\n            strike: 'هێڵ به‌ناودا بێنه‌',\r\n            subscript: 'ژێرسکریپت',\r\n            superscript: 'سەرنووس',\r\n            removeFormat: 'لابردنی فۆرمات',\r\n            fontColor: 'ره‌نگی فۆنت',\r\n            hiliteColor: 'ره‌نگی دیاركراو',\r\n            indent: 'بۆشایی بەجێهێشتن',\r\n            outdent: 'لابردنی بۆشایی',\r\n            align: 'ئاراسته‌',\r\n            alignLeft: 'لای چه‌پ',\r\n            alignRight: 'لای راست',\r\n            alignCenter: 'ناوه‌ند',\r\n            alignJustify: 'به‌رێكی دابه‌ش بكه‌',\r\n            list: 'لیست',\r\n            orderList: 'لیستی ریزكراو',\r\n            unorderList: 'لیستی ریزنه‌كراو',\r\n            horizontalRule: 'هێڵی ئاسۆیی',\r\n            hr_solid: 'پته‌و',\r\n            hr_dotted: 'نوكته‌ نوكته‌',\r\n            hr_dashed: 'داش داش',\r\n            table: 'خشته‌',\r\n            link: 'به‌سته‌ر',\r\n            math: 'بیركاری',\r\n            image: 'وێنه‌',\r\n            video: 'ڤیدیۆ',\r\n            audio: 'ده‌نگ',\r\n            fullScreen: 'پڕ به‌ شاشه‌',\r\n            showBlocks: 'بڵۆك نیشانبده',\r\n            codeView: 'بینینی كۆده‌كان',\r\n            undo: 'وەک خۆی لێ بکەوە',\r\n            redo: 'هەڵگەڕاندنەوە',\r\n            preview: 'پێشبینین',\r\n            print: 'پرینت',\r\n            tag_p: 'په‌ره‌گراف',\r\n            tag_div: 'ی ئاسایی (DIV)',\r\n            tag_h: 'سەرپەڕە',\r\n            tag_blockquote: 'ده‌ق',\r\n            tag_pre: 'كۆد',\r\n            template: 'قاڵب',\r\n            lineHeight: 'بڵندی دێر',\r\n            paragraphStyle: 'ستایلی په‌ره‌گراف',\r\n            textStyle: 'ستایلی نوسین',\r\n            imageGallery: 'گاله‌ری وێنه‌كان'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'به‌سته‌ر دابنێ',\r\n                url: 'به‌سته‌ر',\r\n                text: 'تێكستی به‌سته‌ر',\r\n                newWindowCheck: 'له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌'\r\n            },\r\n            mathBox: {\r\n                title: 'بیركاری',\r\n                inputLabel: 'نیشانه‌كانی بیركاری',\r\n                fontSizeLabel: 'قه‌باره‌ی فۆنت',\r\n                previewLabel: 'پێشبینین'\r\n            },\r\n            imageBox: {\r\n                title: 'وێنه‌یه‌ك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'به‌سته‌ری وێنه‌',\r\n                altText: 'نوسینی جێگره‌وه‌'\r\n            },\r\n            videoBox: {\r\n                title: 'ڤیدیۆیه‌ك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك '\r\n            },\r\n            audioBox: {\r\n                title: 'ده‌نگێك دابنێ',\r\n                file: 'فایلێك هه‌ڵبژێره‌',\r\n                url: 'به‌سته‌ری ده‌نگ'\r\n            },\r\n            browser: {\r\n                tags: 'تاگه‌كان',\r\n                search: 'گه‌ران',\r\n            },\r\n            caption: 'پێناسه‌یه‌ك دابنێ',\r\n            close: 'داخستن',\r\n            submitButton: 'ناردن',\r\n            revertButton: 'بیگەڕێنەوە سەر باری سەرەتایی',\r\n            proportion: 'رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌',\r\n            basic: 'سه‌ره‌تایی',\r\n            left: 'چه‌پ',\r\n            right: 'راست',\r\n            center: 'ناوەڕاست',\r\n            width: 'پانی',\r\n            height: 'به‌رزی',\r\n            size: 'قه‌باره‌',\r\n            ratio: 'رێژه‌'\r\n        },\r\n        controller: {\r\n            edit: 'دەسکاریکردن',\r\n            unlink: 'سڕینەوەی بەستەر',\r\n            remove: 'سڕینه‌وه‌',\r\n            insertRowAbove: 'ریزك له‌ سه‌ره‌وه‌ زیادبكه‌',\r\n            insertRowBelow: 'ریزێك له‌ خواره‌وه‌ زیادبكه‌',\r\n            deleteRow: 'ریز بسره‌وه‌',\r\n            insertColumnBefore: 'ستونێك له‌ پێشه‌وه‌ زیادبكه‌',\r\n            insertColumnAfter: 'ستونێك له‌ دواوه‌ زیادبكه‌',\r\n            deleteColumn: 'ستونێك بسره‌وه‌',\r\n            fixedColumnWidth: 'پانی ستون نه‌گۆربكه‌',\r\n            resize100: 'قه‌باره‌ بگۆره‌ بۆ ١٠٠%',\r\n            resize75: 'قه‌باره‌ بگۆره‌ بۆ ٧٥%',\r\n            resize50: 'قه‌باره‌ بگۆره‌ بۆ ٥٠%',\r\n            resize25: 'قه‌باره‌ بگۆره‌ بۆ ٢٥%',\r\n            autoSize: 'قه‌باره‌ی خۆكارانه‌',\r\n            mirrorHorizontal: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی',\r\n            mirrorVertical: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی',\r\n            rotateLeft: 'بسوڕێنه‌ به‌لای چه‌پدا',\r\n            rotateRight: 'بسورێنه‌ به‌لای راستدا',\r\n            maxSize: 'گه‌وره‌ترین قه‌باره‌',\r\n            minSize: 'بچوكترین قه‌باره‌',\r\n            tableHeader: 'سه‌ردێری خشته‌ك',\r\n            mergeCells: 'خانه‌كان تێكه‌ڵبكه‌',\r\n            splitCells: 'خانه‌كان لێك جیابكه‌وه‌',\r\n            HorizontalSplit: 'جیاكردنه‌وه‌ی ئاسۆیی',\r\n            VerticalSplit: 'جیاكردنه‌وه‌ی ستونی'\r\n        },\r\n        menu: {\r\n            spaced: 'بۆشای هه‌بێت',\r\n            bordered: 'لێواری هه‌بێت',\r\n            neon: 'نیۆن',\r\n            translucent: 'كه‌مێك وه‌ك شووشه‌',\r\n            shadow: 'سێبه‌ر',\r\n            code: 'كۆد'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n(function (global, factory) {\r\n    if ( true && typeof module.exports === 'object') {\r\n        module.exports = global.document ?\r\n            factory(global, true) :\r\n            function (w) {\r\n                if (!w.document) {\r\n                    throw new Error('SUNEDITOR_LANG a window with a document');\r\n                }\r\n                return factory(w);\r\n            };\r\n    } else {\r\n        factory(global);\r\n    }\r\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\r\n    const lang = {\r\n        code: 'lv',\r\n        toolbar: {\r\n            default: 'Noklusējuma',\r\n            save: 'Saglabāt',\r\n            font: 'Fonts',\r\n            formats: 'Formāti',\r\n            fontSize: 'Fonta lielums',\r\n            bold: 'Treknraksts',\r\n            underline: 'Pasvītrot',\r\n            italic: 'Slīpraksts',\r\n            strike: 'Pārsvītrojums',\r\n            subscript: 'Apakšraksts',\r\n            superscript: 'Augšraksts',\r\n            removeFormat: 'Noņemt formātu',\r\n            fontColor: 'Fonta krāsa',\r\n            hiliteColor: 'Teksta iezīmēšanas krāsa',\r\n            indent: 'Palielināt atkāpi',\r\n            outdent: 'Samazināt atkāpi',\r\n            align: 'Izlīdzināt',\r\n            alignLeft: 'Līdzināt pa kreisi',\r\n            alignRight: 'Līdzināt pa labi',\r\n            alignCenter: 'Centrēt',\r\n            alignJustify: 'Taisnot',\r\n            list: 'Saraksts',\r\n            orderList: 'Numerācija',\r\n            unorderList: 'Aizzimes',\r\n            horizontalRule: 'Horizontāla līnija',\r\n            hr_solid: 'Ciets',\r\n            hr_dotted: 'Punktiņš',\r\n            hr_dashed: 'Braša',\r\n            table: 'Tabula',\r\n            link: 'Saite',\r\n            math: 'Matemātika',\r\n            image: 'Attēls',\r\n            video: 'Video',\r\n            audio: 'Audio',\r\n            fullScreen: 'Pilnekrāna režīms',\r\n            showBlocks: 'Parādit blokus',\r\n            codeView: 'Koda skats',\r\n            undo: 'Atsaukt',\r\n            redo: 'Atkārtot',\r\n            preview: 'Priekšskatījums',\r\n            print: 'Drukāt',\r\n            tag_p: 'Paragrāfs',\r\n            tag_div: 'Normāli (DIV)',\r\n            tag_h: 'Galvene',\r\n            tag_blockquote: 'Citāts',\r\n            tag_pre: 'Kods',\r\n            template: 'Veidne',\r\n            lineHeight: 'Līnijas augstums',\r\n            paragraphStyle: 'Paragrāfa stils',\r\n            textStyle: 'Teksta stils',\r\n            imageGallery: 'Attēlu galerija'\r\n        },\r\n        dialogBox: {\r\n            linkBox: {\r\n                title: 'Ievietot saiti',\r\n                url: 'Saites URL',\r\n                text: 'Parādāmais teksts',\r\n                newWindowCheck: 'Atvērt jaunā logā'\r\n            },\r\n            mathBox: {\r\n                title: 'Matemātika',\r\n                inputLabel: 'Matemātiskā notācija',\r\n                fontSizeLabel: 'Fonta lielums',\r\n                previewLabel: 'Priekšskatījums'\r\n            },\r\n            imageBox: {\r\n                title: 'Ievietot attēlu',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Attēla URL',\r\n                altText: 'Alternatīvs teksts'\r\n            },\r\n            videoBox: {\r\n                title: 'Ievietot video',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Multivides iegulšanas URL, YouTube/Vimeo'\r\n            },\r\n            audioBox: {\r\n                title: 'Ievietot audio',\r\n                file: 'Izvēlieties no failiem',\r\n                url: 'Audio URL'\r\n            },\r\n            browser: {\r\n                tags: 'Tagi',\r\n                search: 'Meklēt'\r\n            },\r\n            caption: 'Ievietot aprakstu',\r\n            close: 'Aizvērt',\r\n            submitButton: 'Iesniegt',\r\n            revertButton: 'Atjaunot',\r\n            proportion: 'Ierobežo proporcijas',\r\n            basic: 'Nav iesaiņojuma',\r\n            left: 'Pa kreisi',\r\n            right: 'Labajā pusē',\r\n            center: 'Centrs',\r\n            width: 'Platums',\r\n            height: 'Augstums',\r\n            size: 'Izmērs',\r\n            ratio: 'Attiecība'\r\n        },\r\n        controller: {\r\n            edit: 'Rediģēt',\r\n            unlink: 'Atsaistīt',\r\n            remove: 'Noņemt',\r\n            insertRowAbove: 'Ievietot rindu virs',\r\n            insertRowBelow: 'Ievietot rindu zemāk',\r\n            deleteRow: 'Dzēst rindu',\r\n            insertColumnBefore: 'Ievietot kolonnu pirms',\r\n            insertColumnAfter: 'Ievietot kolonnu aiz',\r\n            deleteColumn: 'Dzēst kolonnu',\r\n            fixColumnWidth: 'Fiksēts kolonnas platums',\r\n            resize100: 'Mainīt izmēru 100%',\r\n            resize75: 'Mainīt izmēru 75%',\r\n            resize50: 'Mainīt izmēru 50%',\r\n            resize25: 'Mainīt izmēru 25%',\r\n            autoSize: 'Automātiskais izmērs',\r\n            mirrorHorizontal: 'Spogulis, horizontāls',\r\n            mirrorVertical: 'Spogulis, vertikāls',\r\n            rotateLeft: 'Pagriezt pa kreisi',\r\n            rotateRight: 'Pagriezt pa labi',\r\n            maxSize: 'Maksimālais izmērs',\r\n            minSize: 'Minimālais izmērs',\r\n            tableHeader: 'Tabulas galvene',\r\n            mergeCells: 'Apvienot šūnas',\r\n            splitCells: 'Sadalīt šūnas',\r\n            HorizontalSplit: 'Horizontāls sadalījums',\r\n            VerticalSplit: 'Vertikāls sadalījums'\r\n        },\r\n        menu: {\r\n            spaced: 'Ar atstarpi',\r\n            bordered: 'Robežojās',\r\n            neon: 'Neona',\r\n            translucent: 'Caurspīdīgs',\r\n            shadow: 'Ēna',\r\n            code: 'Kods'\r\n        }\r\n    };\r\n\r\n    if (typeof noGlobal === typeof undefined) {\r\n        if (!window.SUNEDITOR_LANG) {\r\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\r\n                enumerable: true,\r\n                writable: false,\r\n                configurable: false,\r\n                value: {}\r\n            });\r\n        }\r\n\r\n        Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\r\n            enumerable: true,\r\n            writable: true,\r\n            configurable: true,\r\n            value: lang\r\n        });\r\n    }\r\n\r\n    return lang;\r\n}));\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(44);\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"buttonList\", function() { return /* reexport */ buttonList_namespaceObject; });\n\n// NAMESPACE OBJECT: ./misc/buttonList.js\nvar buttonList_namespaceObject = {};\n__webpack_require__.r(buttonList_namespaceObject);\n__webpack_require__.d(buttonList_namespaceObject, \"basic\", function() { return basic; });\n__webpack_require__.d(buttonList_namespaceObject, \"complex\", function() { return complex; });\n__webpack_require__.d(buttonList_namespaceObject, \"formatting\", function() { return formatting; });\n__webpack_require__.d(buttonList_namespaceObject, \"default\", function() { return misc_buttonList; });\n\n// CONCATENATED MODULE: ./misc/buttonList.js\nvar basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\nvar complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\nvar formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n/* harmony default export */ var misc_buttonList = ({\n  basic,\n  complex,\n  formatting\n});\n// EXTERNAL MODULE: external \"react\"\nvar external_react_ = __webpack_require__(7);\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2020 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ var defaultIcons = ({\r\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\r\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\r\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\r\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\r\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\r\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\r\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\r\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\r\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\r\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\r\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\r\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\r\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\r\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\r\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\r\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\r\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\r\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\r\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\r\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\r\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\r\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\r\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\r\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\r\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\r\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\r\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\r\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\r\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\r\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\r\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\r\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\r\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\r\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\r\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\r\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\r\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\r\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\r\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\r\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\r\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\r\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\r\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\r\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\r\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\r\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\r\n   audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\r\n   image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\r\n   // More icons\r\n   more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\r\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\r\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\r\n   // Not currently used\r\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\r\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\r\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\r\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\r\n});\n// EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\nvar en = __webpack_require__(4);\nvar en_default = /*#__PURE__*/__webpack_require__.n(en);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util_util = {\r\n    _d: null,\r\n    _w: null,\r\n    isIE: null,\r\n    isIE_Edge: null,\r\n    isOSX_IOS: null,\r\n    _propertiesInit: function () {\r\n        if (this._d) return;\r\n        this._d =  document;\r\n        this._w = window;\r\n        this.isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n        this.isIE_Edge = (navigator.userAgent.indexOf('Trident') > -1) || (navigator.appVersion.indexOf('Edge') > -1);\r\n        this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\r\n    },\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&apos;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: String.fromCharCode(8203),\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLEncoder: function (contents) {\r\n        const ec = {'<': '$lt;', '>': '$gt;'};\r\n        return contents.replace(/<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLDecoder: function (contents) {\r\n        const ec = {'$lt;': '<', '$gt;': '>'};\r\n        return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\r\n    hasOwn: function (obj, key) {\r\n        return this._hasOwn.call(obj, key);\r\n    },\r\n    _hasOwn: Object.prototype.hasOwnProperty,\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n        \r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n            \r\n            for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                cssText += rules[c].cssText;\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNonEditable: function (element) {\r\n        return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe, video, audio] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNotCheckingNode: function (element) {\r\n        return element && /katex|__se__tag/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getClosureFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl) {\r\n        if (copyEl.style.cssText) {\r\n            originEl.style.cssText += copyEl.style.cssText;\r\n        }\r\n\r\n        const classes = copyEl.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            this.addClass(originEl, classes[i]);\r\n        }\r\n\r\n        if (!originEl.style.cssText) originEl.removeAttribute('style');\r\n        if (!originEl.className.trim()) originEl.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n        \r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n        \r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return 0;\r\n        \r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return 0;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\r\n    compareElements: function (a, b) {\r\n        let aNode = a, bNode = b;\r\n        while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\r\n            aNode = aNode.parentNode;\r\n            bNode = bNode.parentNode;\r\n        }\r\n\r\n        if (!aNode || !bNode) return { ancestor: null, a: a, b: b, result: 0 };\r\n\r\n        const children = aNode.parentNode.childNodes;\r\n        const aIndex = this.getArrayIndex(children, aNode);\r\n        const bIndex = this.getArrayIndex(children, bNode);\r\n\r\n        return {\r\n            ancestor: aNode.parentNode,\r\n            a: aNode,\r\n            b: bNode,\r\n            result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - wysiwyg.scrollTop) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        }\r\n        else {\r\n            element.className += ' ' + className;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\r\n    setDisabledButtons: function (disabled, buttonList) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            buttonList[i].disabled = disabled;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n        try {\r\n            item.remove();\r\n        } catch (e) {\r\n            if (item.parentNode) item.parentNode.removeChild(item);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util_util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util_util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n        \r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n        \r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n        \r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        const bp = baseNode.parentNode;\r\n        let index = 0, newEl, children, temp;\r\n        let next = true;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + 1;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util_util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                    newEl.appendChild(temp);\r\n                }\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n        \r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        const nodePathLen = nodePathArray ? nodePathArray.length : 0;\r\n        let offsets = null;\r\n        \r\n        if (nodePathLen) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n            \r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathLen) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n = 0; n < nodePathLen; n++) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n                    \r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) element.innerHTML = '<br>';\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.trim(); });\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isSizeNode: function (element) {\r\n        return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _disallowedTags: function (element) {\r\n        return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?(\" + (?!\\\\b list[i] \\\\b) + \")[^>^<])+>\", \"g\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        const exclusionTags = list.split('|');\r\n        let regStr = '<\\\\/?(';\r\n\r\n        for (let i = 0, len = exclusionTags.length; i < len; i++) {\r\n            regStr += '(?!\\\\b' + exclusionTags[i] + '\\\\b)';\r\n        }\r\n\r\n        regStr += ')[^>]>';\r\n\r\n        return new RegExp(regStr, 'g');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\r\n        /**\r\n         * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n         * So check the node type and exclude the text no (current.nodeType !== 1)\r\n         */\r\n        const removeTags = [], emptyTags = [], wrongList = [], withoutFormatCells = [];\r\n\r\n        // wrong position\r\n        const wrongTags = this.getListChildNodes(documentFragment, function (current) {\r\n            if (current.nodeType !== 1) return false;\r\n\r\n            // white list\r\n            if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\r\n                removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            const nrtag = !this.getParentElement(current, this.isNotCheckingNode);\r\n            // empty tags\r\n            if ((!this.isTable(current) && !this.isListCell(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\r\n                emptyTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // wrong list\r\n            if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\r\n                wrongList.push(current);\r\n                return false;\r\n            }\r\n\r\n            // table cells\r\n            if (this.isCell(current)) {\r\n                const fel = current.firstElementChild;\r\n                if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\r\n                    withoutFormatCells.push(current);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return current.parentNode !== documentFragment &&\r\n             (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) &&\r\n             !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) &&\r\n             !this.getParentElement(current, this.isComponent) && nrtag;\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = removeTags.length; i < len; i++) {\r\n            this.removeItem(removeTags[i]);\r\n        }\r\n        \r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\r\n            t = wrongTags[i];\r\n            p = t.parentNode;\r\n            if (!p || !p.parentNode) continue;\r\n            p.parentNode.insertBefore(t, p);\r\n            checkTags.push(p);\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = emptyTags.length; i < len; i++) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\r\n            t = wrongList[i];\r\n\r\n            tp = this.createElement('LI');\r\n            children = t.childNodes;\r\n            while (children[0]) {\r\n                tp.appendChild(children[0]);\r\n            }\r\n            \r\n            p = t.parentNode;\r\n            if (!p) continue;\r\n            p.insertBefore(tp, t);\r\n            this.removeItem(t);\r\n        }\r\n\r\n        for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\r\n            t = withoutFormatCells[i];\r\n            f = this.createElement('DIV');\r\n            f.innerHTML = t.textContent.trim().length === 0 ? '<br>' : t.innerHTML;\r\n            t.innerHTML = f.outerHTML;\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options, defaultStyle) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        if (options.position) optionStyle += 'position:' + options.position + ';';\r\n        if (options.width) optionStyle += 'width:' + options.width + ';';\r\n        if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\r\n        if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\r\n\r\n        let top = '', frame = '', editor = '';\r\n        defaultStyle = optionStyle + defaultStyle;\r\n        const styleArr = defaultStyle.split(';');\r\n        for (let i = 0, len = styleArr.length, s; i < len; i++) {\r\n            s = styleArr[i].trim();\r\n            if (!s) continue;\r\n            if (/^(min-|max-)?width\\s*:/.test(s)) {\r\n                top += s + ';';\r\n                continue;\r\n            }\r\n            if (/^(min-|max-)?height\\s*:/.test(s)) {\r\n                if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\r\n                    options.height = 'auto';\r\n                }\r\n                frame += s + ';';\r\n                continue;\r\n            }\r\n            editor += s + ';';\r\n        }\r\n\r\n        return {\r\n            top: top,\r\n            frame: frame,\r\n            editor: editor\r\n        };\r\n    },\r\n\r\n    _setIframeDocument: function (frame, options) {\r\n        frame.setAttribute('scrolling', 'auto');\r\n        frame.contentDocument.head.innerHTML = '' +\r\n            '<meta charset=\"utf-8\" />' +\r\n            '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n            '<title></title>' + \r\n            this._setIframeCssTags(options);\r\n        frame.contentDocument.body.className = 'sun-editor-editable';\r\n        frame.contentDocument.body.setAttribute('contenteditable', true);\r\n    },\r\n\r\n    _setIframeCssTags: function (options) {\r\n        const linkNames = options.iframeCSSFileName;\r\n        const wRegExp = this._w.RegExp;\r\n        let tagString = '';\r\n\r\n        for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n            path = [];\r\n\r\n            if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\r\n                path.push(linkNames[f]);\r\n            } else {\r\n                const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n                for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                    styleTag = c[i].href.match(CSSFileName);\r\n                    if (styleTag) path.push(styleTag[0]);\r\n                }\r\n            }\r\n\r\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n\r\n            for (let i = 0, len = path.length; i < len; i++) {\r\n                tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n            }\r\n        }\r\n\r\n        return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n    }\r\n};\r\n\r\n/* harmony default export */ var lib_util = (util_util);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ var lib_constructor = ({\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor';\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n        }\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n        const isNewPlugins = !!mergeOptions.plugins;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), (isNewPlugins ? mergeOptions.plugins : plugins), mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        return {\r\n            callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\r\n            plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' sun-editor-editable';\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** Values */\r\n        options.lang = options.lang || en_default.a;\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        /** Whitelist */\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code';\r\n        options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\r\n        options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.toolbarWidth = options.toolbarWidth ? (lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = /balloon/i.test(options.mode) ? null : (typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer);\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (lib_util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (lib_util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (lib_util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = (Array.isArray(options.shortcutsDisable) && options.shortcutsDisable.length > 0) ? options.shortcutsDisable.map(function (v) { return v.toLowerCase(); }) : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        /** Math (katex) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        /** Buttons */\r\n        options.buttonList = options.buttonList || [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** --- Define icons --- */\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** _init options */\r\n        options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = lib_util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent'] : options.shortcutsDisable;\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + (shortcutsDisable.indexOf('bold') > -1 ? '' : ' (' + cmd + '+B)'), 'STRONG', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + (shortcutsDisable.indexOf('underline') > -1 ? '' : ' (' + cmd + '+U)'), 'U', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + (shortcutsDisable.indexOf('italic') > -1 ? '' : ' (' + cmd + '+I)'), 'EM', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + (shortcutsDisable.indexOf('strike') > -1 ? '' : ' (' + cmd + '+SHIFT+S)'), 'DEL', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+])'), 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + (shortcutsDisable.indexOf('indent') > -1 ? '' : ' (' + cmd + '+[)'), 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Z)'), 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + (shortcutsDisable.indexOf('undo') > -1 ? '' : ' (' + cmd + '+Y / ' + cmd + '+SHIFT+Z)'), 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', icons.align_left],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = lib_util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = lib_util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = lib_util.createElement('LI');\r\n        const oButton = lib_util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = lib_util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.style.float = align;\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = lib_util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    if (align) sv.style.float = align;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        if (_buttonTray.children.length === 1) lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\r\n            _menuTray: cons._menuTray,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: cons._wysiwygArea, // if (options.iframe) cons._wysiwygArea.contentDocument.body\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            lineBreaker_t: cons._lineBreaker_t,\r\n            lineBreaker_b: cons._lineBreaker_b,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('._se_command_bold'),\r\n            underline: cons._toolBar.querySelector('._se_command_underline'),\r\n            italic: cons._toolBar.querySelector('._se_command_italic'),\r\n            strike: cons._toolBar.querySelector('._se_command_strike'),\r\n            subscript: cons._toolBar.querySelector('._se_command_subscript'),\r\n            superscript: cons._toolBar.querySelector('._se_command_superscript'),\r\n            undo: cons._toolBar.querySelector('._se_command_undo'),\r\n            redo: cons._toolBar.querySelector('._se_command_redo'),\r\n            save: cons._toolBar.querySelector('._se_command_save'),\r\n            outdent: cons._toolBar.querySelector('._se_command_outdent'),\r\n            indent: cons._toolBar.querySelector('._se_command_indent'),\r\n            fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\r\n            showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\r\n            codeView: cons._toolBar.querySelector('._se_command_codeView')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\n/* harmony default export */ var lib_context = (_Context);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2019 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ var lib_history = (function (core, change) {\r\n    const _w = core._w;\r\n    const util = core.util;\r\n    const delayTime = core.context.options.historyStackDelayTime;\r\n    let editor = core.context.element;\r\n    let undo = core.context.tool.undo;\r\n    let redo = core.context.tool.redo;\r\n\r\n    let pushDelay = null;\r\n    let stackIndex = 0;\r\n    let stack = [];\r\n\r\n    function setContentsFromStack () {\r\n        const item = stack[stackIndex];\r\n        editor.wysiwyg.innerHTML = item.contents;\r\n\r\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\r\n        core.focus();\r\n\r\n        if (stackIndex === 0) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.removeAttribute('disabled');\r\n        } else if (stackIndex === stack.length - 1) {\r\n            if (undo) undo.removeAttribute('disabled');\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        } else {\r\n            if (undo) undo.removeAttribute('disabled');\r\n            if (redo) redo.removeAttribute('disabled');\r\n        }\r\n\r\n        core.controllersOff();\r\n        core._checkComponents();\r\n        core._setCharCount();\r\n        core._resourcesStateChange();\r\n        \r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    function pushStack () {\r\n        core._checkComponents();\r\n        const current = core.getContents(true);\r\n        if (!!stack[stackIndex] && current === stack[stackIndex].contents) return;\r\n\r\n        stackIndex++;\r\n        const range = core._variable._range;\r\n\r\n        if (stack.length > stackIndex) {\r\n            stack = stack.slice(0, stackIndex);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n        }\r\n\r\n        if (!range) {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: { path: [0, 0], offset: [0, 0] },\r\n                e: { path: 0, offset: 0 }\r\n            };\r\n        } else {\r\n            stack[stackIndex] = {\r\n                contents: current,\r\n                s: {\r\n                    path: util.getNodePath(range.startContainer, null, null),\r\n                    offset: range.startOffset\r\n                },\r\n                e: {\r\n                    path: util.getNodePath(range.endContainer, null, null),\r\n                    offset: range.endOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\r\n\r\n        core._setCharCount();\r\n        // onChange\r\n        change();\r\n    }\r\n\r\n    return {\r\n        /**\r\n         * @description History stack\r\n         */\r\n        stack: stack,\r\n\r\n        /**\r\n         * @description Saving the current status to the history object stack\r\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\r\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\r\n         * You can specify the delay time by sending a number.\r\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\r\n         */\r\n        push: function (delay) {\r\n            _w.setTimeout(core._resourcesStateChange.bind(core));\r\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\r\n            \r\n            if (!time || pushDelay) {\r\n                _w.clearTimeout(pushDelay);\r\n                if (!time) {\r\n                    pushStack();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            pushDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(pushDelay);\r\n                pushDelay = null;\r\n                pushStack();\r\n            }, time);\r\n        },\r\n\r\n        /**\r\n         * @description Undo function\r\n         */\r\n        undo: function () {\r\n            if (stackIndex > 0) {\r\n                stackIndex--;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Redo function\r\n         */\r\n        redo: function () {\r\n            if (stack.length - 1 > stackIndex) {\r\n                stackIndex++;\r\n                setContentsFromStack();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Go to the history stack for that index.\r\n         * If \"index\" is -1, go to the last stack\r\n         * @param {Number} index Stack index\r\n         */\r\n        go: function (index) {\r\n            stackIndex = index < 0 ? (stack.length - 1) : index;\r\n            setContentsFromStack();\r\n        },\r\n        \r\n        /**\r\n         * @description Reset the history object\r\n         */\r\n        reset: function (ignoreChangeEvent) {\r\n            if (undo) undo.setAttribute('disabled', true);\r\n            if (redo) redo.setAttribute('disabled', true);\r\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            \r\n            stack.splice(0);\r\n            stackIndex = 0;\r\n\r\n            // pushStack\r\n            stack[stackIndex] = {\r\n                contents: core.getContents(true),\r\n                s: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                },\r\n                e: {\r\n                    path: [0, 0],\r\n                    offset: 0\r\n                }\r\n            };\r\n\r\n            if (!ignoreChangeEvent) change();\r\n        },\r\n\r\n        /**\r\n         * @description Reset the disabled state of the buttons to fit the current stack.\r\n         * @private\r\n         */\r\n        _resetCachingButton: function () {\r\n            editor = core.context.element;\r\n            undo = core.context.tool.undo;\r\n            redo = core.context.tool.redo;\r\n\r\n            if (stackIndex === 0) {\r\n                if (undo) undo.setAttribute('disabled', true);\r\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\r\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\r\n            } else if (stackIndex === stack.length - 1) {\r\n                if (redo) redo.setAttribute('disabled', true);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove all stacks and remove the timeout function.\r\n         * @private\r\n         */\r\n        _destroy: function () {\r\n            if (pushDelay) _w.clearTimeout(pushDelay);\r\n            stack = null;\r\n        }\r\n    };\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ var _notice = ({\r\n    name: 'notice',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.notice = {};\r\n\r\n        /** dialog */\r\n        let notice_div = core.util.createElement('DIV');\r\n        let notice_span = core.util.createElement('SPAN');\r\n        let notice_button = core.util.createElement('BUTTON');\r\n\r\n        notice_div.className = 'se-notice';\r\n        notice_button.className = 'close';\r\n        notice_button.setAttribute('aria-label', 'Close');\r\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\r\n        notice_button.innerHTML = core.icons.cancel;\r\n        \r\n        notice_div.appendChild(notice_span);\r\n        notice_div.appendChild(notice_button);\r\n\r\n        context.notice.modal = notice_div;\r\n        context.notice.message = notice_span;\r\n\r\n        /** add event listeners */\r\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\r\n        \r\n        /** append html */\r\n        context.element.editorArea.appendChild(notice_div);\r\n        \r\n        /** empty memory */\r\n        notice_div = null;\r\n    },\r\n\r\n    /**\r\n     * @description Event when clicking the cancel button\r\n     * @param {MouseEvent} e Event object\r\n     */\r\n    onClick_cancel: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.plugins.notice.close.call(this);\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     * @param {String} text Notice message\r\n     */\r\n    open: function (text)  {\r\n        this.context.notice.message.textContent = text;\r\n        this.context.notice.modal.style.display = 'block';\r\n    },\r\n\r\n    /**\r\n     * @description  Open the notice panel\r\n     */\r\n    close: function () {\r\n        this.context.notice.modal.style.display = 'none';\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\r\n/* harmony default export */ var lib_core = (function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = lib_util;\r\n    const icons = options.icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n        \r\n        /**\r\n         * @description Closest ShadowRoot to editor if found\r\n         * @private\r\n         */\r\n        _shadowRoot: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n        \r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description Save rendered submenus and containers\r\n         * @private\r\n         */\r\n        _menuTray: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description The file component object of current selected file tag (getFileComponent)\r\n         */\r\n        currentFileComponentInfo: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: null,\r\n\r\n        /**\r\n         * @description active more layer element in submenu\r\n         * @private\r\n         */\r\n        _moreLayerActiveButton: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n         * @private\r\n         */\r\n        _disallowedTextTagsRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is disabled\r\n         */\r\n        isDisabled: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n         * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n         * Basic Editor Actions:\r\n         * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n         * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n         * \"managedTagsInfo\" structure ex:\r\n         * managedTagsInfo: {\r\n         *   query: '.__se__xxx, se-xxx'\r\n         *   map: {\r\n         *     '__se__xxx': method.bind(core),\r\n         *     'se-xxx': method.bind(core),\r\n         *   }\r\n         * }\r\n         * @example\r\n         * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n         * managedTagInfo() => {\r\n         *  return {\r\n         *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n         *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n         *    // \"method\" is executed by binding \"core\".\r\n         *    method: function (element) {\r\n         *      // this === core\r\n         *      element.innerHTML = // (rendered html);\r\n         *    }\r\n         *  }\r\n         * }\r\n         */\r\n        managedTagsInfo: null,\r\n\r\n        /**\r\n         * @description cashing: options.charCounterType === 'byte-html'\r\n         * @private\r\n         */\r\n        _charTypeHTML: false,\r\n\r\n        /**\r\n         * @description Array of \"checkFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsCheck: null,\r\n\r\n        /**\r\n         * @description Array of \"resetFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsReset: null,\r\n\r\n        /**\r\n         * @description Variables for file component management\r\n         * @private\r\n         */\r\n        _fileManager: {\r\n            tags: null,\r\n            regExp: null,\r\n            queryString: null,\r\n            pluginRegExp: null,\r\n            pluginMap: null\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: null,\r\n\r\n        /**\r\n         * @description Style button related to edit area\r\n         * @property {Element} fullScreen fullScreen button element\r\n         * @property {Element} showBlocks showBlocks button element\r\n         * @property {Element} codeView codeView button element\r\n         * @private\r\n         */\r\n        _styleCommandMap: null,\r\n\r\n        /**\r\n         * @description Map of default command\r\n         * @private\r\n         */\r\n        _defaultCommand: {\r\n            bold: 'STRONG',\r\n            underline: 'U',\r\n            italic: 'EM',\r\n            strike: 'DEL',\r\n            subscript: 'SUB',\r\n            superscript: 'SUP'\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (4)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 4,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            currentNodesMap: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]) {\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n                \r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                }\r\n                if (!this.initPlugins[moduleName]) {\r\n                    this.initPlugins[moduleName] = true;\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                context.element._menuTray.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n                this._menuTray[target.getAttribute('data-command')] = menu;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            const menu = this.submenu = this._menuTray[submenuName];\r\n            this.submenuActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Enabled container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n            const menu = this.container = this._menuTray[containerName];\r\n            this.containerActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Set the menu position. (submenu, container)\r\n         * @param {*} element Button element\r\n         * @param {*} menu Menu element\r\n         * @private\r\n         */\r\n        _setMenuPosition: function (element, menu) {\r\n            menu.style.top = '-10000px';\r\n            menu.style.visibility = 'hidden';\r\n            menu.style.display = 'block';\r\n            menu.style.height = '';\r\n            util.addClass(element, 'on');\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const menuW = menu.offsetWidth;\r\n            const l = element.parentElement.offsetLeft + 3;\r\n            const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\r\n            if (overLeft < 0) menu.style.left = (l + overLeft) + 'px';\r\n            else menu.style.left = l + 'px';\r\n\r\n            // get element top\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            const bt = t;\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            // set menu position\r\n            const toolbarTop = event._getEditorOffsets(context.element.toolbar).top;\r\n            let menuHeight = menu.offsetHeight;\r\n            let el = context.element.topArea;\r\n            let scrollTop = 0;\r\n            while (!!el) {\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\r\n            if (menuHeight_bottom < menuHeight) {\r\n                let menuTop = -1 * (menuHeight - bt + 3);\r\n                const insTop = toolbarTop - scrollTop + menuTop;\r\n                const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\r\n                \r\n                if (menuHeight_top > menuHeight_bottom) {\r\n                    menu.style.height = menuHeight_top + 'px';\r\n                    menuTop = -1 * (menuHeight_top - bt + 3);\r\n                } else {\r\n                    menu.style.height = menuHeight_bottom + 'px';\r\n                    menuTop = bt + element.parentElement.offsetHeight;\r\n                }\r\n\r\n                menu.style.top = menuTop + 'px';\r\n            } else {\r\n                menu.style.top = (bt + element.parentElement.offsetHeight) + 'px';\r\n            }\r\n\r\n            menu.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) this._bindControllersOff();\r\n            this.controllerArray = [];\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (!arg) continue;\r\n                \r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray.push(arg);\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    this.currentFileComponentInfo = this.getFileComponent(arg);\r\n                    continue;\r\n                }\r\n                if (arg.style) arg.style.display = 'block';\r\n                this.controllerArray.push(arg);\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n            context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\r\n            this._variable._lineBreakComp = null;\r\n\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.currentFileComponentInfo = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            const len = this.controllerArray.length;\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Run event.stopPropagation and event.preventDefault.\r\n         * @param {Object} e Event Object\r\n         */\r\n        eventStop: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean} showDefaultUI javascript execCommand function property\r\n         * @param {String} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const format = util.createElement('P');\r\n                        const br = util.createElement('BR');\r\n                        format.appendChild(br);\r\n                        context.element.wysiwyg.appendChild(format);\r\n                        this.setRange(br, 0, br, 0);\r\n                    } else {\r\n                        this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                    }\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (this._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            const fileComponentInfo = this.getFileComponent(focusEl);\r\n            if (fileComponentInfo) {\r\n                this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object and return.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @returns {Object} Range object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n            if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            \r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.core.focus.error] ' + error);\r\n                this.nativeFocus();\r\n                return;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n            if (options.iframe) this.nativeFocus();\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            this.getSelection().removeAllRanges();\r\n\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(this, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            const range = this._variable._range || this._createDefaultRange();\r\n            const selection = this.getSelection();\r\n            if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\r\n            \r\n            if (selection.rangeCount > 0) {\r\n                this._variable._range = selection.getRangeAt(0);\r\n                return this._variable._range;\r\n            } else {\r\n                const sc = selection.anchorNode, ec = selection.focusNode, so = selection.anchorOffset, eo = selection.focusOffset;\r\n                const compareValue = util.compareElements(sc, ec);\r\n                const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\r\n                return this.setRange(\r\n                    rightDir ? sc : ec,\r\n                    rightDir ? so : eo,\r\n                    rightDir ? ec : sc,\r\n                    rightDir ? eo : so\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n         * Returns a new \"range\" or argument \"range\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         */\r\n        getRange_addLine: function (range) {\r\n            if (this._selectionVoid(range)) {\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const op = util.createElement('P');\r\n                op.innerHTML = '<br>';\r\n                wysiwyg.insertBefore(op, wysiwyg.firstElementChild);\r\n                this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\r\n                range = this._variable._range;\r\n            }\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if (util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\r\n            if (!this._variable._selectionNode) {\r\n                const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n                if (!selectionNode) {\r\n                    this._editorRange();\r\n                } else {\r\n                    this._variable._selectionNode = selectionNode;\r\n                    return selectionNode;\r\n                }\r\n            }\r\n            return this._variable._selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = this.getSelection();\r\n            if (!selection) return null;\r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            } else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            wysiwyg.focus();\r\n            const range = this._wd.createRange();\r\n\r\n            let focusEl = wysiwyg.firstElementChild;\r\n            if (!focusEl) {\r\n                focusEl = util.createElement('P');\r\n                focusEl.innerHTML = '<br>';\r\n                wysiwyg.appendChild(focusEl);\r\n            }\r\n\r\n            range.setStart(focusEl, 0);\r\n            range.setEnd(focusEl, 0);\r\n            \r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns true if there is no valid \"selection\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         * @private\r\n         */\r\n        _selectionVoid: function (range) {\r\n            const comm = range.commonAncestorContainer;\r\n            return (util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer)) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @returns {Boolean} Returns false if there is no valid selection.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            if (this._selectionVoid(range)) return false;\r\n            \r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.lastChild;\r\n                startOff = startCon.textContent.length;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : 'P');\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            if (!this._resetRangeToTextNode()) return [];\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                if (children.length === 0) return [];\r\n\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n            \r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n            \r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ? \r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n            \r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset) {\r\n            return (offset === 0) || (!container.nodeValue && offset === 1) || (offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : 'P';\r\n            const oFormat = util.createElement(oFormatName);\r\n            oFormat.innerHTML = '<br>';\r\n\r\n            if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n         * If \"element\" is \"HR\", insert and return the new line.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\r\n            if (checkCharCount && !this.checkCharCount(element, null)) {\r\n                return null;\r\n            }\r\n\r\n            const r = this.removeNode();\r\n            this.getRange_addLine(this.getRange());\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\r\n                if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n                this.insertNode(element, formatEl, false);\r\n                if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\r\n            }\r\n\r\n            if (!notSelect) {\r\n                const fileComponentInfo = this.getFileComponent(element);\r\n                if (fileComponentInfo) {\r\n                    this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                } else if (oNode) {\r\n                    oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\r\n                    this.setRange(oNode, 0, oNode, 0);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode || element;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the file component and that plugin name\r\n         * return: {target, component, pluginName} | null\r\n         * @param {Element} element Target element (figure tag, component div, file tag)\r\n         * @returns {Object|null}\r\n         */\r\n        getFileComponent: function (element) {\r\n            if (!this._fileManager.queryString || !element) return null;\r\n\r\n            let target, pluginName;\r\n            if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\r\n                target = element.querySelector(this._fileManager.queryString);\r\n            }\r\n            if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\r\n                target = element;\r\n            }\r\n\r\n            if (target) {\r\n                pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\r\n                if (pluginName) {\r\n                    return {\r\n                        target: target,\r\n                        component: util.getParentElement(target, util.isComponent),\r\n                        pluginName: pluginName\r\n                    };\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @param {String} pluginName Plugin name (image, video)\r\n         */\r\n        selectComponent: function (element, pluginName) {\r\n            if (!this.hasFocus) this.focus();\r\n            const plugin = this.plugins[pluginName];\r\n            if (!plugin) return;\r\n            _w.setTimeout(function () {\r\n                if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\r\n                this._setComponentLineBreaker(element);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Set line breaker of component\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @private\r\n         */\r\n        _setComponentLineBreaker: function (element) {\r\n            // line breaker\r\n            this._lineBreaker.style.display = 'none';\r\n            const container = util.getParentElement(element, util.isComponent);\r\n            const t_style = context.element.lineBreaker_t.style;\r\n            const b_style = context.element.lineBreaker_b.style;\r\n            const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\r\n\r\n            const isList = util.isListCell(container.parentNode);\r\n            let componentTop, wScroll, w;\r\n            // top\r\n            if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\r\n                this._variable._lineBreakComp = container;\r\n                wScroll = context.element.wysiwyg.scrollTop;\r\n                componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                w = (target.offsetWidth / 2) / 2;\r\n\r\n                t_style.top = (componentTop - wScroll - 12) + 'px';\r\n                t_style.left = (util.getOffset(target).left + w) + 'px';\r\n                t_style.display = 'block';\r\n            } else {\r\n                t_style.display = 'none';\r\n            }\r\n            // bottom\r\n            if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\r\n                if (!componentTop) {\r\n                    this._variable._lineBreakComp = container;\r\n                    wScroll = context.element.wysiwyg.scrollTop;\r\n                    componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                    w = (target.offsetWidth / 2) / 2;\r\n                }\r\n\r\n                b_style.top = (componentTop + target.offsetHeight - wScroll - 12) + 'px';\r\n                b_style.left = (util.getOffset(target).left + target.offsetWidth - w - 24) + 'px';\r\n                b_style.display = 'block';\r\n            } else {\r\n                b_style.display = 'none';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node and return.\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @returns {Object|Node|null}\r\n         */\r\n        insertNode: function (oNode, afterNode, checkCharCount) {\r\n            if (checkCharCount && !this.checkCharCount(oNode, null)) {\r\n                return null;\r\n            }\r\n\r\n            const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\r\n            const isFormats = (!freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) || util.isComponent(oNode);\r\n\r\n            if (!afterNode && isFormats) {\r\n                const r = this.removeNode();\r\n                if (r.container.nodeType === 3 || util.isBreak(r.container)) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current) || this.isListCell(current); }.bind(util));\r\n                    afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (afterNode) afterNode = afterNode.previousSibling;\r\n                }\r\n            }\r\n\r\n            const range = (!afterNode && !isFormats) ? this.getRange_addLine(this.getRange()) : this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\r\n            const startCon = formatRange ? commonCon.childNodes[startOff] : range.startContainer;\r\n            const endCon = formatRange ? commonCon.childNodes[endOff] : range.endContainer;\r\n            let parentNode, originAfter = null;\r\n\r\n            if (!afterNode) {\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                        else afterNode = commonCon.nextSibling;\r\n                    } else {\r\n                        if (!util.isBreak(parentNode)) {\r\n                            let c = parentNode.childNodes[startOff];\r\n                            const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                            if (focusNode) {\r\n                                if (!focusNode.nextSibling) {\r\n                                    parentNode.removeChild(focusNode);\r\n                                    afterNode = null;\r\n                                } else {\r\n                                    afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = parentNode;\r\n                            parentNode = parentNode.parentNode;\r\n                        }\r\n                    }\r\n                } else { /** Select range nodes */\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                        else afterNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                        if (parentNode.childNodes.length === 0 && isFormats) {\r\n                            parentNode.innerHTML = '<br>';\r\n                        }\r\n                    }\r\n                    else {\r\n                        const removedTag = this.removeNode();\r\n                        const container = removedTag.container;\r\n                        const prevContainer = removedTag.prevContainer;\r\n                        if (container && container.childNodes.length === 0 && isFormats) {\r\n                            if (util.isFormatElement(container)) {\r\n                                container.innerHTML = '<br>';\r\n                            } else if (util.isRangeFormatElement(container)) {\r\n                                container.innerHTML = '<p><br></p>';\r\n                            }\r\n                        }\r\n\r\n                        if (!isFormats && prevContainer) {\r\n                            parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                            if (parentNode.contains(container)) {\r\n                                afterNode = container;\r\n                                while (afterNode.parentNode === parentNode) {\r\n                                    afterNode = afterNode.parentNode;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            parentNode = isFormats ? commonCon : container;\r\n                            afterNode = isFormats ? endCon : null;\r\n                        }\r\n\r\n                        while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\r\n                            afterNode = afterNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // has afterNode\r\n            else {\r\n                parentNode = afterNode.parentNode;\r\n                afterNode = afterNode.nextSibling;\r\n                originAfter = true;\r\n            }\r\n\r\n            // --- insert node ---\r\n            try {\r\n                if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                    const oldParent = parentNode;\r\n                    if (util.isList(afterNode)) {\r\n                        parentNode = afterNode;\r\n                        afterNode = null;\r\n                    } else if (util.isListCell(afterNode)) {\r\n                        parentNode = afterNode.previousElementSibling || afterNode;\r\n                    } else if (!originAfter && !afterNode) {\r\n                        const r = this.removeNode();\r\n                        const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                        const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                        parentNode = rangeCon ? container : container.parentNode;\r\n                        afterNode = rangeCon ? null : container.nextSibling;\r\n                    }\r\n\r\n                    if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                }\r\n\r\n                if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                    afterNode = parentNode.nextElementSibling;\r\n                    parentNode = parentNode.parentNode;\r\n                }\r\n                parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            } finally {\r\n                if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\r\n                    oNode = this._setIntoFreeFormat(oNode);\r\n                }\r\n\r\n                if (!util.isComponent(oNode)) {\r\n                    let offset = 1;\r\n                    if (oNode.nodeType === 3) {\r\n                        const previous = oNode.previousSibling;\r\n                        const next = oNode.nextSibling;\r\n                        const previousText = (!previous ||  previous.nodeType === 1 || util.onlyZeroWidthSpace(previous)) ? '' : previous.textContent;\r\n                        const nextText = (!next || next.nodeType === 1 || util.onlyZeroWidthSpace(next)) ? '' : next.textContent;\r\n        \r\n                        if (previous && previousText.length > 0) {\r\n                            oNode.textContent = previousText + oNode.textContent;\r\n                            util.removeItem(previous);\r\n                        }\r\n        \r\n                        if (next && next.length > 0) {\r\n                            oNode.textContent += nextText;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const newRange = {\r\n                            container: oNode,\r\n                            startOffset: previousText.length,\r\n                            endOffset: oNode.textContent.length - nextText.length\r\n                        };\r\n\r\n                        this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\r\n    \r\n                        return newRange;\r\n                    } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\r\n                        let zeroWidth = null;\r\n                        if (!oNode.previousSibling) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                        }\r\n                        \r\n                        if (!oNode.nextSibling) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.appendChild(zeroWidth);\r\n                        }\r\n    \r\n                        if (util._isIgnoreNodeChange(oNode)) {\r\n                            oNode = oNode.nextSibling;\r\n                            offset = 0;\r\n                        }\r\n                    }\r\n    \r\n                    this.setRange(oNode, offset, oNode, offset);\r\n                }\r\n\r\n                // history stack\r\n                this.history.push(true);\r\n\r\n                return oNode;\r\n            }\r\n        },\r\n\r\n        _setIntoFreeFormat: function (oNode) {\r\n            const parentNode = oNode.parentNode;\r\n            let oNodeChildren, lastONode;\r\n            \r\n            while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\r\n                oNodeChildren = oNode.childNodes;\r\n                lastONode = null;\r\n                \r\n                while (oNodeChildren[0]) {\r\n                    lastONode = oNodeChildren[0];\r\n                    if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\r\n                        this._setIntoFreeFormat(lastONode);\r\n                        if (!oNode.parentNode) break;\r\n                        oNodeChildren = oNode.childNodes;\r\n                        continue;\r\n                    }\r\n                    \r\n                    parentNode.insertBefore(lastONode, oNode);\r\n                }\r\n                \r\n                if (oNode.childNodes.length === 0) util.removeItem(oNode);\r\n                oNode = util.createElement('BR');\r\n                parentNode.insertBefore(oNode, lastONode.nextSibling);\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            if (!this._resetRangeToTextNode()) console.warn('[SUNEDITOR.core.removeNode.exception] An exception occurred while resetting the \"Range\" object.');\r\n\r\n            const range = this.getRange();\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n    \r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\r\n                        return {\r\n                            container: startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            function remove (item) {\r\n                const format = util.getFormatElement(item, null);\r\n                util.removeItem(item);\r\n\r\n                if(util.isListCell(format)) {\r\n                    const list = util.getArrayItem(format.children, util.isList, false);\r\n                    if (list) {\r\n                        const child = list.firstElementChild;\r\n                        const children = child.childNodes;\r\n                        while (children[0]) {\r\n                            format.insertBefore(children[0], list);\r\n                        }\r\n                        util.removeItemAllParents(child, null, null);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    remove(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        remove(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        remove(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                remove(item);\r\n            }\r\n\r\n            container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n            \r\n            if (!util.isWysiwygDiv(container)) {\r\n                const rc = util.removeItemAllParents(container, function (current) {\r\n                    if (this.isComponent(current)) return false;\r\n                    const text = current.textContent;\r\n                    return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n                }.bind(util), null);\r\n                \r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: startCon && startCon.parentNode ? startCon : null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            this.getRange_addLine(this.getRange());\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n            \r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n            \r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                } else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n                    \r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            } else { // basic\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            const so = range.startOffset;\r\n            const eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n            \r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n                \r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                const fChildren = format.childNodes;\r\n                                while (fChildren[0]) {\r\n                                    originNode.appendChild(fChildren[0]);\r\n                                }\r\n\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\r\n                \r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                } else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : 'P');\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n    \r\n                            if (!reset) {\r\n                                if (selectedFormats) {\r\n                                    lastNode = insNode;\r\n                                    if (!firstNode) {\r\n                                        firstNode = insNode;\r\n                                    }\r\n                                } else if (!firstNode) {\r\n                                    firstNode = lastNode = insNode;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n\r\n                        if (reset) {\r\n                            reset = moveComplete = false;\r\n                            children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                            rangeEl = rangeElement.cloneNode(false);\r\n                            parent = rangeElement.parentNode;\r\n                            i = -1;\r\n                            len = children.length;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n            \r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    ec: rangeRight,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    ec: childEdge.ec\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n            \r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange_addLine(this.getRange());\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n            \r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon))) {\r\n                return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.firstChild;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const wRegExp = _w.RegExp;\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n                \r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n    \r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n    \r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new wRegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new wRegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const wBoolean = _w.Boolean;\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (wBoolean(styleRegExp) !== wBoolean(originStyle)) || (wBoolean(classRegExp) !== wBoolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            \r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray));\r\n\r\n            const isSizeNode = util._isSizeNode(newNode);\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n                if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n                this._setCommonListStyle(newRange.ancestor, null);\r\n            } else { // multi line \r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1, newRange; i > 0; i--) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\r\n                    if (newRange.endContainer) {\r\n                        end.ancestor = null;\r\n                        end.container = newRange.endContainer;\r\n                    }\r\n                    this._setCommonListStyle(newRange.ancestor, null);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\r\n\r\n                if (start.endContainer) {\r\n                    end.ancestor = null;\r\n                    end.container = start.endContainer;\r\n                }\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.ancestor = null;\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n\r\n                this._setCommonListStyle(start.ancestor, null);\r\n                this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n         * @private\r\n         */\r\n        _setCommonListStyle: function (el, child) {\r\n            if (!util.isListCell(el)) return;\r\n            if (!child) el.removeAttribute('style');\r\n            \r\n            const children = util.getArrayItem((child || el).childNodes, function (current) { return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim()); }, true);\r\n            if (children[0] && children.length === 1){\r\n                child = children[0];\r\n                if (!child || child.nodeType !== 1) return;\r\n\r\n                const childStyle = child.style;\r\n                const elStyle = el.style;\r\n\r\n                // bold\r\n                if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\r\n                else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight;\r\n\r\n                // styles\r\n                if (childStyle.color) elStyle.color = childStyle.color; // color\r\n                if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\r\n\r\n                this._setCommonListStyle(el, child);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n            \r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove) return null;\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove || element.nodeType !== 1) return false;\r\n            const anchor = this._isMaintainedNode(element);\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : (anchor || (!_isSizeNode ? this._isSizeNode(element) : false));\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n    \r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n    \r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n        \r\n                        return {\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            const wRegExp = _w.RegExp;\r\n            function checkCss (vNode) {\r\n                const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, \r\n                                isSameNode ? \r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) : \r\n                                startContainer.data.length - startOffset)\r\n                            );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n                    \r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n                \r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {null|Node} If end container is renewed, returned renewed node\r\n         * @returns {Object} { ancestor, container, offset, endContainer }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                cloneChild = child.cloneNode(true);\r\n                                pNode.appendChild(cloneChild);\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n\r\n                                // end container\r\n                                if (_endContainer && child.contains(_endContainer)) {\r\n                                    const endPath = util.getNodePath(_endContainer, child);\r\n                                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: startCon,\r\n                    offset: startOff,\r\n                    endContainer: _endContainer\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset,\r\n                endContainer: _endContainer\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n         * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                // end container path\r\n                let endPath = null;\r\n                if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\r\n\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return {\r\n                        ancestor: element,\r\n                        endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        cloneChild = child.cloneNode(true);\r\n                        pNode.appendChild(cloneChild);\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n\r\n                        // end container\r\n                        if (_endContainer && child.contains(_endContainer)) {\r\n                            const endPath = util.getNodePath(_endContainer, child);\r\n                            _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                        }\r\n\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return { ancestor: element, endContainer: _endContainer };\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n            return { ancestor: pNode, endContainer: _endContainer };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { ancestor, container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n            \r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        \r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null);\r\n                    return {\r\n                        ancestor: null,\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n                \r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\r\n                    const layer = context.element.toolbar.querySelector('.' + command);\r\n                    if (layer) {\r\n                        if (this._moreLayerActiveButton) {\r\n                            (context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'))).style.display = 'none';\r\n                            util.removeClass(this._moreLayerActiveButton, 'on');\r\n                        }\r\n                        util.addClass(target, 'on');\r\n                        this._moreLayerActiveButton = target;\r\n                        layer.style.display = 'block';\r\n\r\n                        event._showToolbarBalloon();\r\n                        event._showToolbarInline();\r\n                    }\r\n                    return;\r\n                } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/fileBrowser/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\r\n                }\r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/more/i.test(display)) {\r\n                const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                if (layer) {\r\n                    util.removeClass(this._moreLayerActiveButton, 'on');\r\n                    this._moreLayerActiveButton = null;\r\n                    layer.style.display = 'none';\r\n\r\n                    event._showToolbarBalloon();\r\n                    event._showToolbarInline();\r\n                }\r\n            } else if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (undo, redo, bold, underline, italic, strikethrough, subscript, superscript, removeFormat, indent, outdent, fullscreen, showBlocks, codeview, preview, print)\r\n         * @param {Element} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'selectAll':\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    const first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    const last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    this.setRange(first, 0, last, last.textContent.length);\r\n                    break;\r\n                case 'codeView':\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false));\r\n                    } else if (typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\r\n                    command = this._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const nodesMap = this._variable.currentNodesMap;\r\n                    const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(cmd, null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style.marginLeft) ? util.getNumber(f.style.marginLeft, 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, 'marginLeft', (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            util.toggleClass(wysiwyg, 'se-show-block');\r\n            if (util.hasClass(wysiwyg, 'se-show-block')) {\r\n                util.addClass(this._styleCommandMap.showBlocks, 'active');\r\n            } else {\r\n                util.removeClass(this._styleCommandMap.showBlocks, 'active');\r\n            }\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n                \r\n                this._variable.isCodeView = false;\r\n                \r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();    \r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n                util.removeClass(this._styleCommandMap.codeView, 'active');\r\n\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n                \r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n                \r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n                util.addClass(this._styleCommandMap.codeView, 'active');\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n\r\n            if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n                const headChildren = parseDocument.head.children;\r\n\r\n                for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                    if (/script/i.test(headChildren[i].tagName)) {\r\n                        parseDocument.head.removeChild(headChildren[i]);\r\n                        i--, len--;\r\n                    }\r\n                }\r\n\r\n                this._wd.head.innerHTML = parseDocument.head.innerHTML;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) util.addClass(this._wd.body, 'sun-editor-editable');\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<p><br></p>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n                \r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n                \r\n                if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.maxWidth = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ( true && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = _var.innerHeight_fullScreen + 'px';\r\n\r\n                util.changeElement(element.firstElementChild, icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n\r\n                util.addClass(this._styleCommandMap.fullScreen, 'active');\r\n            } else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n                if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\r\n\r\n                event.onScroll_window();\r\n                util.changeElement(element.firstElementChild, icons.expansion);\r\n\r\n                util.removeClass(this._styleCommandMap.fullScreen, 'active');\r\n            }\r\n\r\n            if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const contentsHTML = this.getContents(true);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"sun-editor-editable\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n\r\n            this.showLoading();\r\n            _w.setTimeout(function () {\r\n                try {\r\n                    iframe.focus();\r\n                    // IE or Edge\r\n                    if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\r\n                        try {\r\n                            iframe.contentWindow.document.execCommand('print', false, null);\r\n                        } catch (e) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    } else {\r\n                        // Other browsers\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } catch (error) {\r\n                    throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n                } finally {\r\n                    core.closeLoading();\r\n                    util.removeItem(iframe);\r\n                }\r\n            }, 1000);\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            \r\n            const contentsHTML = this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const w = context.element.wysiwygFrame.offsetWidth + 'px !important';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"sun-editor-editable\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow:auto !important; width:' + w + '; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n                \r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"sun-editor-editable\" style=\"width:' + w + '; border:1px solid #ccc; margin:10px auto !important; height:auto !important;\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            const convertValue = this.convertContentsForEditor(html);\r\n            this._resetComponents();\r\n\r\n            if (!this._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue);\r\n                this._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = context.element.wysiwyg.innerHTML;\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = util.getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\", \"convertContentsForEditor\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (util._disallowedTags(node)) return '';\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return node.outerHTML;\r\n                } else {\r\n                    return '<p>' + node.outerHTML + '</p>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return node.textContent;\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<p>' + text + '</p>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<!--' + node.textContent.trim() + '-->';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n         * @param {String} text \r\n         * @returns {String} HTML string\r\n         * @private\r\n         */\r\n        _tagConvertor: function (text) {\r\n            if (!this._disallowedTextTagsRegExp) return text;\r\n\r\n            const ec = {'b': 'strong', 'i': 'em', 'ins': 'u', 'strike': 'del', 's': 'del'};\r\n            return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\r\n                return t + (typeof ec[n] === 'string' ? ec[n] : n);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Delete disallowed tags\r\n         * @param {String} html HTML string\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _deleteDisallowedTags: function (html) {\r\n            return html\r\n                .replace(/\\n/g, '')\r\n                .replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/gi, '')\r\n                .replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '')\r\n                .replace(this.editorTagsWhitelistRegExp, '');\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist) {\r\n            html = this._deleteDisallowedTags(html)\r\n                .replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\r\n                    if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n                    let v = null;\r\n                    const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\r\n                    if (tAttr) v = m.match(tAttr);\r\n                    else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n                    if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\r\n                        const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\r\n                        if (sv) {\r\n                            if (!v) v = [];\r\n                            v.push(sv[0]);\r\n                        }\r\n                    }\r\n\r\n                    if (v) {\r\n                        for (let i = 0, len = v.length; i < len; i++) {\r\n                            if (/^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\r\n                            t += ' ' + v[i];\r\n                        }\r\n                    }\r\n\r\n                    return t;\r\n                }.bind(this));\r\n\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], requireFormat);\r\n            }\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\r\n\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], true);\r\n            }\r\n\r\n            if (cleanHTML.length === 0) return '<p><br></p>';\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html) {\r\n            let returnHTML = '';\r\n            const wRegExp = _w.RegExp;\r\n            const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const isFormatElement = util.isFormatElement.bind(util);\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n\r\n            let indentSize = this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent, lineBR) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? '\\n' : '';\r\n                    lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        returnHTML += util._HTMLConvertor((/^\\n+$/.test(node.data) ? '' : node.data));\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n                    \r\n                    node.innerHTML = node.innerHTML;\r\n                    const tag = node.nodeName.toLowerCase();\r\n                    returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                    recursionFunc(node, indent + indentSize, '');\r\n                    returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' :  false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\r\n                }\r\n            }(wDoc, '', '\\n'));\r\n\r\n            return returnHTML.trim() + '\\n';\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n         * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const maxCharCount = options.maxCharCount;\r\n            const countType = options.charCounterType;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\r\n\r\n            this._setCharCount();\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(countType);\r\n                \r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n    \r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    this._callCounterBlink();\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n         * @param {Node|String} element Element node or String.\r\n         * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n         * @returns {Boolean}\r\n         */\r\n        checkCharCount: function (element, charCounterType) {\r\n            if (options.maxCharCount) {\r\n                const countType = charCounterType || options.charCounterType;\r\n                const length = this.getCharLength((typeof element === 'string' ? element : this._charTypeHTML ? element.outerHTML : element.textContent), countType);\r\n                if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\r\n                    this._callCounterBlink();\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Get the length of the content.\r\n         * Depending on the option, the length of the character is taken. (charCounterType)\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType options.charCounterType\r\n         * @returns {Number}\r\n         */\r\n        getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Set the char count to charCounter element textContent.\r\n         * @private\r\n         */\r\n        _setCharCount: function () {\r\n            if (context.element.charCounter) {\r\n                _w.setTimeout(function () { context.element.charCounter.textContent = functions.getCharCount(options.charCounterType); });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The character counter blinks.\r\n         * @private\r\n         */\r\n        _callCounterBlink: function () {\r\n            const charWrapper = context.element.charWrapper;\r\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                util.addClass(charWrapper, 'se-blink');\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(charWrapper, 'se-blink');\r\n                }, 600);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\r\n                this._fileInfoPluginsCheck[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\r\n                this._fileInfoPluginsReset[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            const wRegExp = _w.RegExp;\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            this._charTypeHTML = options.charCounterType === 'byte-html';\r\n\r\n            if (!options.iframe && typeof _w.ShadowRoot === 'function') {\r\n                let child = context.element.wysiwygFrame;\r\n                while (child) {\r\n                    if (child.shadowRoot) {\r\n                        this._shadowRoot = child.shadowRoot;\r\n                        break;\r\n                    } else if (child instanceof _w.ShadowRoot) {\r\n                        this._shadowRoot = child;\r\n                        break;\r\n                    }\r\n                    child = child.parentNode;\r\n                }\r\n            }\r\n\r\n            // set disallow text nodes\r\n            const disallowTextTags = ['b', 'i', 'ins', 's', 'strike'];\r\n            const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) { return /b|i|ins|s|strike/i.test(v); });\r\n            for (let i = 0; i < allowTextTags.length; i++) {\r\n                disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\r\n            }\r\n            this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi');\r\n\r\n            // set whitelist\r\n            const defaultAttr = 'contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\r\n            this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\r\n\r\n            const _attr = options.attributesWhitelist;\r\n            const tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_attr) {\r\n                for (let k in _attr) {\r\n                    if (!util.hasOwn(_attr, k)) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = _attr[k] + '|';\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            // set modes\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            // caching buttons\r\n            this._cachingButtons();\r\n\r\n            // file components\r\n            this._fileInfoPluginsCheck = [];\r\n            this._fileInfoPluginsReset = [];\r\n\r\n            // text components\r\n            this.managedTagsInfo = { query: '', map: {} };\r\n            const managedClass = [];\r\n\r\n            // Command and file plugins registration\r\n            this.activePlugins = [];\r\n            this._fileManager.tags = [];\r\n            this._fileManager.pluginMap = {};\r\n\r\n            let filePluginRegExp = [];\r\n            let plugin, button;\r\n            for (let key in plugins) {\r\n                if (!util.hasOwn(plugins, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\r\n                    this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\r\n                }\r\n                if (_w.Array.isArray(plugin.fileTags)) {\r\n                    const fileTags = plugin.fileTags;\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileManager.tags = this._fileManager.tags.concat(fileTags);\r\n                    filePluginRegExp.push(key);\r\n                    for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\r\n                        this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\r\n                    }\r\n                }\r\n                if (plugin.managedTags) {\r\n                    const info = plugin.managedTags();\r\n                    managedClass.push('.' + info.className);\r\n                    this.managedTagsInfo.map[info.className] = info.method.bind(this);\r\n                }\r\n            }\r\n\r\n            this.managedTagsInfo.query = managedClass.toString();\r\n            this._fileManager.queryString = this._fileManager.tags.join(',');\r\n            this._fileManager.regExp = new wRegExp('^(' +  this._fileManager.tags.join('|') + ')$', 'i');\r\n            this._fileManager.pluginRegExp = new wRegExp('^(' +  (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i');\r\n            \r\n            // cache editor's element\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = lib_history(this, this._onChange_historyStack.bind(this));\r\n\r\n            // register notice module\r\n            this.addModule([_notice]);\r\n\r\n            // Init, validate\r\n            if (options.iframe) {\r\n                this._wd = context.element.wysiwygFrame.contentDocument;\r\n                context.element.wysiwyg = this._wd.body;\r\n                if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\r\n                if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            }\r\n            \r\n            this._initWysiwygArea(reload, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Caching basic buttons to use\r\n         * @private\r\n         */\r\n        _cachingButtons: function () {\r\n            this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\r\n            this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\r\n            const tool = context.tool;\r\n            this.commandMap = {\r\n                STRONG: tool.bold,\r\n                U: tool.underline,\r\n                EM: tool.italic,\r\n                DEL: tool.strike,\r\n                SUB: tool.subscript,\r\n                SUP: tool.superscript,\r\n                OUTDENT: tool.outdent,\r\n                INDENT: tool.indent\r\n            };\r\n            this._styleCommandMap = {\r\n                fullScreen: tool.fullScreen,\r\n                showBlocks: tool.showBlocks,\r\n                codeView: tool.codeView\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init)\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            this._iframeAutoHeight();\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Called when after execute \"history.push\"\r\n         * @private\r\n         */\r\n        _onChange_historyStack: function () {\r\n            event._applyTagEffects();\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            if (functions.onChange) functions.onChange(this.getContents(true), this);\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () { context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px'; });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            const fileComponent = util.getParentElement(commonCon, util.isComponent);\r\n            if (fileComponent && !util.isTable(fileComponent)) return;\r\n            if((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || 'P');\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n                \r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n\r\n                this.setRange(br, 1, br, 1);\r\n                return;\r\n            }\r\n\r\n            this.execCommand('formatBlock', false, (formatName || 'P'));\r\n            focusNode = util.getEdgeChildNodes(commonCon, commonCon);\r\n            focusNode = focusNode ? focusNode.ec : commonCon;\r\n\r\n            format = util.getFormatElement(focusNode, null);\r\n            if (!format) {\r\n                this.removeRange();\r\n                this._editorRange();\r\n                return;\r\n            }\r\n            \r\n            if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n            if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n            if (util.isBreak(focusNode)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                focusNode = zeroWidth;\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.nativeFocus();\r\n        },\r\n\r\n        /**\r\n         * @description Initialization after \"setOptions\"\r\n         * @param {Object} el context.element\r\n         * @param {String} _initHTML Initial html string\r\n         * @private\r\n         */\r\n        _setOptionsInit: function (el, _initHTML) {\r\n            this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\r\n            this._componentsInfoReset = true;\r\n            this._editorInit(true, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Initializ editor\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _editorInit: function (reload, _initHTML) {\r\n            // initialize core and add event listeners\r\n            this._init(reload, _initHTML);\r\n            event._addEvent();\r\n            this._setCharCount();\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n\r\n            // toolbar visibility\r\n            context.element.toolbar.style.visibility = '';\r\n\r\n            this._checkComponents();\r\n            this._componentsInfoInit = false;\r\n            this._componentsInfoReset = false;\r\n\r\n            this.history.reset(true);\r\n            this._resourcesStateChange();\r\n\r\n            _w.setTimeout(function () {\r\n              if (typeof functions.onload === 'function') functions.onload(core, reload);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Create and return an object to cache the new context.\r\n         * @param {Element} contextEl context.element\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _getConstructed: function (contextEl) {\r\n            return {\r\n                _top: contextEl.topArea,\r\n                _relative: contextEl.relative,\r\n                _toolBar: contextEl.toolbar,\r\n                _menuTray: contextEl._menuTray,\r\n                _editorArea: contextEl.editorArea,\r\n                _wysiwygArea: contextEl.wysiwygFrame,\r\n                _codeArea: contextEl.code,\r\n                _placeholder: contextEl.placeholder,\r\n                _resizingBar: contextEl.resizingBar,\r\n                _navigation: contextEl.navigation,\r\n                _charCounter: contextEl.charCounter,\r\n                _charWrapper: contextEl.charWrapper,\r\n                _loading: contextEl.loading,\r\n                _lineBreaker: contextEl.lineBreaker,\r\n                _lineBreaker_t: contextEl.lineBreaker_t,\r\n                _lineBreaker_b: contextEl.lineBreaker_b,\r\n                _resizeBack: contextEl.resizeBackground,\r\n                _stickyDummy: contextEl._stickyDummy,\r\n                _arrow: contextEl._arrow\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _IEisComposing: false, // In IE, there is no \"e.isComposing\" in the key-up event.\r\n        _lineBreakerBind: null,\r\n        _responsiveCurrentSize: 'default',\r\n        _responsiveButtonSize: null,\r\n        _responsiveButtons: null,\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    if (options.shortcutsDisable.indexOf('bold') === -1) {\r\n                        command = 'STRONG';\r\n                    }\r\n                    break;\r\n                case 'S':\r\n                    if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\r\n                        command = 'DEL';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    if (options.shortcutsDisable.indexOf('underline') === -1) {\r\n                        command = 'U';\r\n                    }\r\n                    break;\r\n                case 'I':\r\n                    if (options.shortcutsDisable.indexOf('italic') === -1) {\r\n                        command = 'EM';\r\n                    }\r\n                    break;\r\n                case 'Z':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        if (shift) {\r\n                            command = 'redo';\r\n                        } else {\r\n                            command = 'undo';\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        command = 'redo';\r\n                    }\r\n                    break;\r\n                case '[':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = 'outdent';\r\n                    }\r\n                    break;\r\n                case ']':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = 'indent';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (!command) return false;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = this._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                for (let c = 0, name; c < cLen; c++) {\r\n                    name = activePlugins[c];\r\n                    if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                        commandMapNodes.push(name);\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\r\n                        if (util.isListCell(element) || (element.style.marginLeft && util.getNumber(element.style.marginLeft, 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\r\n                        commandMapNodes.push('INDENT');\r\n                        commandMap.INDENT.setAttribute('disabled', true);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n            core._variable.currentNodesMap = commandMapNodes;\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        _buttonsEventHandler: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            if (!core.hasFocus) core.nativeFocus();\r\n            if (!core._variable.isCodeView) core._editorRange();\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n            \r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\r\n            if (typeof functions.onMouseDown === 'function') functions.onMouseDown(e, core);\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            const targetElement = e.target;\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            const fileComponentInfo = core.getFileComponent(targetElement);\r\n            if (fileComponentInfo) {\r\n                e.preventDefault();\r\n                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                return;\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (util.isNonEditable(figcaption)) {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            _w.setTimeout(core._editorRange.bind(core));\r\n            core._editorRange();\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\r\n                const range = core.getRange();\r\n                if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\r\n                    if (util.isList(rangeEl)) {\r\n                        const oLi = util.createElement('LI');\r\n                        const prevLi = selectionNode.nextElementSibling;\r\n                        oLi.appendChild(selectionNode);\r\n                        rangeEl.insertBefore(oLi, prevLi);\r\n                    } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\r\n                        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                    }\r\n                    \r\n                    e.preventDefault();\r\n                    core.focus();\r\n                }\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n            if (typeof functions.onClick === 'function') functions.onClick(e, core);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            core._editorRange();\r\n            const range = core.getRange();\r\n            if (core._bindControllersOff || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n            else event._showToolbarBalloon(range);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            let scrollLeft = 0;\r\n            let scrollTop = 0;\r\n            let el = context.element.topArea;\r\n            while (!!el) {\r\n                scrollLeft += el.scrollLeft;\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const editorWidth = context.element.topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets(null);\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n            \r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null, false);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n            \r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n            \r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets(null).top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            if (options.toolbarContainer) toolbar.style.position = 'relative';\r\n            else toolbar.style.position = 'absolute';\r\n            \r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : (-1 - toolbar.offsetHeight)) + 'px';\r\n            \r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            core._editorRange();\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';       \r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onInput === 'function') functions.onInput(e, core);\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            event._IEisComposing = keyCode === 229;\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            let selectionNode = core.getSelectionNode();\r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (fileComponentName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[fileComponentName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core._setDefaultFormat('P');\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && \r\n                     (util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))))) {\r\n                        // closure range\r\n                        if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            return false;\r\n                        }\r\n                        // maintain default format\r\n                        if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            formatEl.innerHTML = '<br>';\r\n                            const attrs = formatEl.attributes;\r\n                            while (attrs[0]) {\r\n                                formatEl.removeAttribute(attrs[0].name);\r\n                            }\r\n                            core.nativeFocus();\r\n\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\r\n                        if (range.collapsed ? selectionNode.textContent.length === 1 : (range.endOffset - range.startOffset) === selectionNode.textContent.length) {\r\n                            e.preventDefault();\r\n\r\n                            let offset = null;\r\n                            let prev = selectionNode.parentNode.previousSibling;\r\n                            const next = selectionNode.parentNode.nextSibling;\r\n                            if (!prev) {\r\n                                if (!next) {\r\n                                    prev = util.createElement('BR');\r\n                                    formatEl.appendChild(prev);\r\n                                } else {\r\n                                    prev = next;\r\n                                    offset = 0;\r\n                                }\r\n                            }\r\n\r\n                            selectionNode.textContent = '';\r\n                            util.removeItemAllParents(selectionNode, null, formatEl);\r\n                            offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\r\n                            core.setRange(prev, offset, prev, offset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                         (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n    \r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // select file component\r\n                        const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\r\n                        if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || (ignoreZWS && util.isComponent(formatEl.previousSibling)))) {\r\n                            const fileComponentInfo = core.getFileComponent(formatEl.previousSibling);\r\n                            if (fileComponentInfo) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n                            break;\r\n                        }\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.previousSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.previousSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[fileComponentName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || (util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null)) && range.startOffset === selectionNode.textContent.length) {\r\n                        let nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) {\r\n                            e.preventDefault();\r\n                            break;\r\n                        }\r\n\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // select file component\r\n                            const fileComponentInfo = core.getFileComponent(nextEl);\r\n                            if (fileComponentInfo) {\r\n                                e.stopPropagation();\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.nextSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.nextSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                     (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n                        \r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (fileComponentName || options.tabDisable) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));            \r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n                    \r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                const textRange = core.insertNode(tabText, null, true);\r\n                                if (!textRange) return false;\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = textRange.endOffset;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = textRange.endOffset;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n    \r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n    \r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n        \r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n                                    \r\n                                    break;\r\n                                }\r\n                            }\r\n    \r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n                    \r\n                    break;\r\n                case 13: /** enter key */\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n\r\n                    if (core._charTypeHTML) {\r\n                        let enterHTML = '';\r\n                        if ((!shift && freeFormatEl) || shift) {\r\n                            enterHTML = '<br>';\r\n                        } else {\r\n                            enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\r\n                        }\r\n\r\n                        if (!core.checkCharCount(enterHTML, 'byte-html')) {\r\n                            e.preventDefault();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!shift && freeFormatEl) {\r\n                        e.preventDefault();\r\n                        const selectionFormat = selectionNode === freeFormatEl;\r\n                        const wSelection = core.getSelection();\r\n                        const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n\r\n                        if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                          (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                            if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                            else util.removeItem(selectionNode);\r\n                            const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\r\n                            util.copyFormatAttributes(newEl, freeFormatEl);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                        \r\n                        if (selectionFormat) {\r\n                            functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true, false);\r\n\r\n                            let focusNode = wSelection.focusNode;\r\n                            const wOffset = wSelection.focusOffset;\r\n                            if (freeFormatEl === focusNode) {\r\n                                focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                            }\r\n\r\n                            core.setRange(focusNode, 1, focusNode, 1);\r\n                        } else {\r\n                            const focusNext = wSelection.focusNode.nextSibling;\r\n                            const br = util.createElement('BR');\r\n                            core.insertNode(br, null, false);\r\n\r\n                            const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                            if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                core.setRange(br, 1, br, 1);\r\n                            } else {\r\n                                core.setRange(brNext, 0, brNext, 0);\r\n                            }\r\n                        }\r\n\r\n                        event._onShortcutKey = true;\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n                    \r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        const range = core.getRange();\r\n                        if(core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\r\n                            e.preventDefault();\r\n                            const newEl = util.createElement('LI');\r\n                            const br = util.createElement('BR');\r\n                            newEl.appendChild(br);\r\n\r\n                            formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\r\n                            newEl.appendChild(selectionNode.nextSibling);\r\n                            \r\n                            core.setRange(br, 1, br, 1);\r\n                            break;\r\n                        }\r\n\r\n                        if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\r\n                            e.preventDefault();\r\n                            let newEl = null;\r\n\r\n                            if (util.isListCell(rangeEl.parentNode)) {\r\n                                rangeEl = formatEl.parentNode.parentNode.parentNode;\r\n                                newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\r\n                                if (!newEl) {\r\n                                    const newListCell = util.createElement('LI');\r\n                                    newListCell.innerHTML = '<br>';\r\n                                    rangeEl.insertBefore(newListCell, newEl);\r\n                                    newEl = newListCell;\r\n                                }\r\n                            } else {\r\n                                const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : 'P';\r\n                                newEl = util.createElement(newFormat);\r\n                                const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                edge.cc.insertBefore(newEl, edge.ec);\r\n                            }\r\n                            \r\n                            newEl.innerHTML = '<br>';\r\n                            util.copyFormatAttributes(newEl, formatEl);\r\n                            util.removeItemAllParents(formatEl, null, null);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        e.preventDefault();\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        const compContext = context[fileComponentName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : 'P');\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        container.parentNode.insertBefore(newEl, container);\r\n                        \r\n                        core.callPlugin(fileComponentName, function () {\r\n                            core.selectComponent(compContext._element, fileComponentName);\r\n                        }, null);\r\n                    }\r\n                    \r\n                    break;\r\n                case 27:\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (shift && /16/.test(keyCode)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null, false);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n\r\n            if (typeof functions.onKeyDown === 'function') functions.onKeyDown(e, core);\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n            core._editorRange();\r\n\r\n            const range = core.getRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : 'P');\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if (((!formatEl && range.collapsed) || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : 'P');\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onKeyUp === 'function') functions.onKeyUp(e, core);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            core._lineBreaker.style.display = 'none';\r\n            if (core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            if (core._isInline) event._showToolbarInline();\r\n            if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = false;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onBlur === 'function') functions.onBlur(e, core);\r\n\r\n            // active class reset of buttons\r\n            const commandMap = core.commandMap;\r\n            const activePlugins = core.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            core._variable.currentNodes = [];\r\n            core._variable.currentNodesMap = [];\r\n            if (options.showPathLabel) context.element.navigation.textContent = '';\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            core.controllersOff();\r\n\r\n            const responsiveSize = event._responsiveButtonSize;\r\n            if (responsiveSize) {\r\n                const windowWidth = _w.innerWidth;\r\n                let responsiveWidth = 'default';\r\n                for (let i = 1, len = responsiveSize.length; i < len; i++) {\r\n                    if (windowWidth < responsiveSize[i]) {\r\n                        responsiveWidth = responsiveSize[i] + '';\r\n                    }\r\n                }\r\n\r\n                if (event._responsiveCurrentSize !== responsiveWidth) {\r\n                    event._responsiveCurrentSize = responsiveWidth;\r\n                    functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\r\n                }\r\n            }\r\n\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\r\n                context.fileBrowser.body.style.maxHeight = (_w.innerHeight - context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n            }\r\n\r\n            if (core.submenuActiveButton && core.submenu) {\r\n                core._setMenuPosition(core.submenuActiveButton, core.submenu);\r\n            }\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n            \r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar();\r\n                element.toolbar.style.top = (editorHeight + editorTop + options.stickyToolbar -y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar();\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function (container) {\r\n            let offsetEl = container || context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline && !options.toolbarContainer) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = options.stickyToolbar + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        // FireFox - table delete, Chrome - image, video, audio\r\n        _hardDelete: function () {\r\n            const range = core.getRange();\r\n            const sc = range.startContainer;\r\n            const ec = range.endContainer;\r\n            \r\n            // table\r\n            const sCell = util.getRangeFormatElement(sc);\r\n            const eCell = util.getRangeFormatElement(ec);\r\n            const sIsCell = util.isCell(sCell);\r\n            const eIsCell = util.isCell(eCell);\r\n            if (((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling) || (eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling)) && sCell !== eCell) {\r\n                if (!sIsCell) {\r\n                    util.removeItem(util.getParentElement(eCell, util.isComponent));\r\n                } else if (!eIsCell) {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                } else {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                    core.nativeFocus();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // component\r\n            const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\r\n            const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\r\n            if (sComp) util.removeItem(sComp);\r\n            if (eComp) util.removeItem(eComp);\r\n\r\n            return false;\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (!clipboardData) return true;\r\n            return event._dataTransferAction('paste', e, clipboardData);\r\n        },\r\n\r\n        _setClipboardComponent: function (e, info, clipboardData) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            clipboardData.setData('text/html', info.component.outerHTML);\r\n        },\r\n\r\n        onCopy_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.addClass(info.component, 'se-component-copy');\r\n                // copy effect\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(info.component, 'se-component-copy');\r\n                }, 150);\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.removeItem(info.component);\r\n                core.controllersOff();\r\n            }\r\n\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n            if (util.isIE) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            core.removeNode();\r\n            event._setDropLocationSelection(e);\r\n            return event._dataTransferAction('drop', e, dataTransfer);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            if (e.rangeParent) {\r\n                core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\r\n            } else if (core._wd.caretRangeFromPoint) {\r\n                const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            } else {\r\n                const r = core.getRange();\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            }\r\n        },\r\n\r\n        _dataTransferAction: function (type, e, data) {\r\n            let plainText, cleanData;\r\n            if (util.isIE) {\r\n                plainText = data.getData('Text');\r\n                \r\n                const range = core.getRange();\r\n                const tempDiv = util.createElement('DIV');\r\n                const tempRange = {\r\n                    sc: range.startContainer,\r\n                    so: range.startOffset,\r\n                    ec: range.endContainer,\r\n                    eo: range.endOffset\r\n                };\r\n\r\n                tempDiv.setAttribute('contenteditable', true);\r\n                tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\r\n                \r\n                context.element.relative.appendChild(tempDiv);\r\n                tempDiv.focus();\r\n\r\n                _w.setTimeout(function () {\r\n                    cleanData = tempDiv.innerHTML;\r\n                    util.removeItem(tempDiv);\r\n                    core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\r\n                    event._setClipboardData(type, e, plainText, cleanData, data);\r\n                });\r\n\r\n                return true;\r\n            } else {\r\n                plainText = data.getData('text/plain');\r\n                cleanData = data.getData('text/html');\r\n                if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setClipboardData: function (type, e, plainText, cleanData, data) {\r\n            // MS word\r\n            if (/class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData)) {\r\n                cleanData = cleanData.replace(/\\n/g, ' ');\r\n                plainText = plainText.replace(/\\n/g, ' ');\r\n            } else {\r\n                plainText = plainText.replace(/\\n/g, '');\r\n            }\r\n\r\n            cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\r\n            const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText);\r\n\r\n            // paste event\r\n            if (type === 'paste' && typeof functions.onPaste === 'function' && !functions.onPaste(e, cleanData, maxCharCount, core)) {\r\n                return false;\r\n            }\r\n            // drop event\r\n            if (type === 'drop' && typeof functions.onDrop === 'function' && !functions.onDrop(e, data, core)) {\r\n                return false;\r\n            }\r\n\r\n            // files\r\n            const files = data.files;\r\n            if (files.length > 0) {\r\n                if (/^image/.test(files[0].type) && core.plugins.image) {\r\n                    functions.insertImage(files);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                functions.insertHTML(cleanData, true, false);\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseMove_wysiwyg: function (e) {\r\n            if (core.isDisabled) return;\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n\r\n            if (component && !core.currentControllerName) {\r\n                let scrollTop = 0;\r\n                let el = context.element.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = context.element.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets(null);\r\n                const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? context.element.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                const isList = util.isListCell(component.parentNode);\r\n                let dir = '', top = '';\r\n                if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                core._lineBreakerButton.style.left = (util.getOffset(component).left + (component.offsetWidth / 2) - 15) + 'px';\r\n                lineBreakerStyle.display = 'block';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function (e) {\r\n            e.preventDefault();\r\n            \r\n            const component = core._variable._lineBreakComp;\r\n            const dir = !this ? core._variable._lineBreakDir : this;\r\n            const isList = util.isListCell(component.parentNode);\r\n\r\n            const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : 'P');\r\n            if (!isList) format.innerHTML = '<br>';\r\n\r\n            if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\r\n\r\n            component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            const focusEl = isList ? format : format.firstChild;\r\n            core.setRange(focusEl, 1, focusEl, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            event._lineBreakerBind = { a: event._onLineBreak.bind(''), t: event._onLineBreak.bind('t'), b: event._onLineBreak.bind('b') };\r\n            eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\r\n            context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\r\n            context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\r\n\r\n            /** Events are registered only when there is a table plugin.  */\r\n            if (core.plugins.table) {\r\n                eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            }\r\n            \r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height)) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n            \r\n            /** window event */\r\n            event._setResponsiveToolbar();\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\r\n            context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\r\n            context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\r\n            event._lineBreakerBind = null;\r\n            \r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            \r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n            \r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n            \r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        },\r\n\r\n        _setResponsiveToolbar: function () {\r\n            if (_responsiveButtons.length === 0) {\r\n                _responsiveButtons = null;\r\n                return;\r\n            }\r\n\r\n            const sizeArray = event._responsiveButtonSize = ['default'];\r\n            const buttonsObj = event._responsiveButtons = {default: _responsiveButtons[0]};\r\n            for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\r\n                buttonGroup = _responsiveButtons[i];\r\n                size = buttonGroup[0] * 1;\r\n                sizeArray.push(size);\r\n                buttonsObj[size] = buttonGroup[1];\r\n            }\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onDrop: null,\r\n        onChange: null,\r\n        onCopy: null,\r\n        onCut: null,\r\n        onPaste: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description An event when toggling between code view and wysiwyg view.\r\n         * @param {Boolean} isCodeView Whether the current code view mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleCodeView: null,\r\n\r\n        /**\r\n         * @description An event when toggling full screen.\r\n         * @param {Boolean} isFullScreen Whether the current full screen mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleFullScreen: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the video upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * @param core Core object\r\n         */\r\n        videoUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the audio upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * @param core Core object\r\n         */\r\n        audioUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If false is returned, no image upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onImageUploadBefore: null,\r\n        /**\r\n         * @description Called before the video is uploaded\r\n         * If false is returned, no video(iframe, video) upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onVideoUploadBefore: null,\r\n        /**\r\n         * @description Called before the audio is uploaded\r\n         * If false is returned, no audio upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onAudioUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Target element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} info Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n         /**\r\n         * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onVideoUpload: null,\r\n         /**\r\n         * @description Called when the audio is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onAudioUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Response Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n        /**\r\n         * @description Called when the video(iframe, video) upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onVideoUploadError: null,\r\n        /**\r\n         * @description Called when the audio upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onAudioUploadError: null,\r\n\r\n        /**\r\n         * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n         * You cannot set a new plugin for the button.\r\n         * @param {Array} buttonList Button list \r\n         */\r\n        setToolbarButtons: function (buttonList) {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            \r\n            const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\r\n            _responsiveButtons = newToolbar.responsiveButtons;\r\n            core._moreLayerActiveButton = null;\r\n            event._setResponsiveToolbar();\r\n\r\n            context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\r\n            const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\r\n\r\n            context.element = newContext.element;\r\n            context.tool = newContext.tool;\r\n            if (options.iframe) context.element.wysiwyg = core._wd.body;\r\n            core._cachingButtons();\r\n            core.history._resetCachingButton();\r\n\r\n            core.activePlugins = [];\r\n            const oldCallButtons = pluginCallButtons;\r\n            pluginCallButtons = newToolbar.pluginCallButtons;\r\n            let plugin, button, oldButton;\r\n            for (let key in pluginCallButtons) {\r\n                if (!util.hasOwn(pluginCallButtons, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    oldButton = oldCallButtons[key];\r\n                    core.callPlugin(key, null, oldButton || button);\r\n                    if (oldButton) {\r\n                        button.parentElement.replaceChild(oldButton, button);\r\n                        pluginCallButtons[key] = oldButton;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (core.hasFocus) event._applyTagEffects();\r\n\r\n            if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\r\n            if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\r\n            if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\r\n        },\r\n\r\n        /**\r\n         * @description Add or reset option property (Editor is reloaded)\r\n         * @param {Object} _options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n            core._resetComponents();\r\n            \r\n            util.removeClass(core._styleCommandMap.showBlocks, 'active');\r\n            util.removeClass(core._styleCommandMap.codeView, 'active');\r\n            core._variable.isCodeView = false;\r\n            core._iframeAuto = null;\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (!util.hasOwn(option, key)) continue;\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const el = context.element;\r\n            const _initHTML = el.wysiwyg.innerHTML;\r\n\r\n            // set option\r\n            const cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, options);        \r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            if (el._menuTray.children.length === 0) this._menuTray = {};\r\n            _responsiveButtons = cons.toolbar.responsiveButtons;\r\n            options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n\r\n            if (options.iframe) {\r\n                el.wysiwygFrame.addEventListener('load', function () {\r\n                    util._setIframeDocument(this, options);\r\n                    core._setOptionsInit(el, _initHTML);\r\n                });\r\n            }\r\n\r\n            el.editorArea.appendChild(el.wysiwygFrame);\r\n\r\n            if (!options.iframe) {\r\n                core._setOptionsInit(el, _initHTML);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\r\n            const el = context.element;\r\n\r\n            // top area\r\n            el.topArea.style.cssText = newStyles.top;\r\n            // code view\r\n            el.code.style.cssText = options._editorStyles.frame;\r\n            el.code.style.display = 'none';\r\n            if (options.height === 'auto') {\r\n                el.code.style.overflow = 'hidden';\r\n            } else {\r\n                el.code.style.overflow = '';\r\n            }\r\n            // wysiwyg frame\r\n            if (!options.iframe) {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\r\n            } else {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame;\r\n                el.wysiwyg.style.cssText = newStyles.editor;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = core.getContents(false);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Gets only the text of the suneditor contents\r\n         * @returns {String}\r\n         */\r\n        getText: function () {\r\n            return context.element.wysiwyg.textContent;\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core.getCharLength((core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._infoList : [];\r\n        },\r\n        \r\n        /**\r\n         * @description Gets uploaded files(plugin using fileManager) information list.\r\n         * image: [img], video: [video, iframe], audio: [audio]\r\n         * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {String} pluginName Plugin name (image, video, audio)\r\n         * @returns {Array}\r\n         */\r\n        getFilesInfo: function (pluginName) {\r\n            return context[pluginName] ? context[pluginName]._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n         */\r\n        insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null);\r\n                try {\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n\r\n                    if (checkCharCount) {\r\n                        const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\r\n                        let checkHTML = '';\r\n                        for (let i = 0, len = domTree.length; i < len; i++) {\r\n                            checkHTML += domTree[i][type];\r\n                        }\r\n                        if (!core.checkCharCount(checkHTML, null)) return;\r\n                    }\r\n\r\n                    let c, a, t, firstCon;\r\n                    while ((c = domTree[0])) {\r\n                        t = core.insertNode(c, a, false);\r\n                        a = t.container || t;\r\n                        if (!firstCon) firstCon = t;\r\n                    }\r\n\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);\r\n                    else core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false, checkCharCount, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\t\r\n                    }\r\n                    core.insertNode(html, afterNode, checkCharCount);\r\n                }\r\n            }\r\n            \r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n            \r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    wysiwyg.appendChild(children[i]);\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n            core.isDisabled = true;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', true);\r\n            } else {\r\n                context.element.code.setAttribute('disabled', 'disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n            core.isDisabled = false;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', false);\r\n            } else {\r\n                context.element.code.removeAttribute('disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** off menus */\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            if (core.notice) core.notice.close.call(core);\r\n            if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n            \r\n            /** remove element */\r\n            util.removeItem(context.element.toolbar);\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (let k in core) { if (util.hasOwn(core, k)) delete core[k]; }\r\n            for (let k in event) { if (util.hasOwn(event, k)) delete event[k]; }\r\n            for (let k in context) { if (util.hasOwn(context, k)) delete context[k]; }\r\n            for (let k in pluginCallButtons) { if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k]; }\r\n            \r\n            /** remove user object */\r\n            for (let k in this) { if (util.hasOwn(this, k)) delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disabled: function () {\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enabled: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /************ Core init ************/\r\n    // functions\r\n    core.functions = functions;\r\n\r\n    // Create to sibling node\r\n    let contextEl = context.element;\r\n    let originEl = contextEl.originElement;\r\n    let topEl = contextEl.topArea;\r\n    originEl.style.display = 'none';\r\n    topEl.style.display = 'block';\r\n\r\n    // init\r\n    if (options.iframe) {\r\n        contextEl.wysiwygFrame.addEventListener('load', function () {\r\n            util._setIframeDocument(this, options);\r\n            core._editorInit(false, options.value);\r\n            options.value = null;\r\n        });\r\n    }\r\n\r\n    // insert editor element\r\n    if (typeof originEl.nextElementSibling === 'object') {\r\n        originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\r\n    } else {\r\n        originEl.parentNode.appendChild(topEl);\r\n    }\r\n\r\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\r\n    contextEl = originEl = topEl = null;\r\n\r\n    // init\r\n    if (!options.iframe) {\r\n        core._editorInit(false, options.value);\r\n        options.value = null;\r\n    }\r\n\r\n    return functions;\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ var suneditor = ({\r\n    /**\r\n     * @description Returns the create function with preset options.\r\n     * If the options overlap, the options of the 'create' function take precedence.\r\n     * @param {Json} options Initialization options\r\n     * @returns {Object}\r\n     */\r\n    init: function (init_options) {\r\n        return {\r\n            create: function (idOrElement, options) {\r\n                return this.create(idOrElement, options, init_options);\r\n            }.bind(this)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create the suneditor\r\n     * @param {String|Element} idOrElement textarea Id or textarea element\r\n     * @param {JSON|Object} options user options\r\n     * @returns {Object}\r\n     */\r\n    create: function (idOrElement, options, _init_options) {\r\n        lib_util._propertiesInit();\r\n\r\n        if (typeof options !== 'object') options = {};\r\n        if (_init_options) {\r\n            options =  [_init_options, options].reduce(function (init, option) {\r\n                            for (let key in option) {\r\n                                if (!lib_util.hasOwn(option, key)) continue;\r\n                                if (key === 'plugins' && option[key] && init[key]) {\r\n                                    let i = init[key], o = option[key];\r\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\r\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\r\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                                } else {\r\n                                    init[key] = option[key];\r\n                                }\r\n                            }\r\n                            return init;\r\n                        }, {});\r\n        }\r\n        \r\n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\r\n\r\n        if (!element) {\r\n            if (typeof idOrElement === 'string') {\r\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\r\n            }\r\n\r\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\r\n        }\r\n\r\n        const cons = lib_constructor.init(element, options);\r\n\r\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\r\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\r\n        }\r\n\r\n        return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\r\n    }\r\n});\r\n\n// CONCATENATED MODULE: ./misc/getPlugins.js\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar getPlugins = function getPlugins(_ref) {\n  var buttonList = _ref.buttonList,\n      customPlugins = _ref.customPlugins;\n  if (!buttonList) return undefined;\n  if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n    var pluginList = [];\n    buttonList = flatten(buttonList);\n    if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(9).default);\n    if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(10).default);\n    if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(11).default);\n    if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(12).default);\n    if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(13).default);\n    if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(14).default);\n    if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(15).default);\n    if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(16).default);\n    if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(17).default);\n    if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(18).default);\n    if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(19).default);\n    if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(20).default);\n    if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(21).default);\n    if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(22).default);\n    if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(23).default);\n    if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(24).default);\n    if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(25).default);\n    if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(26).default);\n    if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(27).default);\n    if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(28).default);\n    return [].concat(pluginList, _toConsumableArray(customPlugins || []));\n  }\n};\n\nvar flatten = function flatten(arr) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    return [].concat(_toConsumableArray(result), [arr]);\n  }\n\n  for (var a = 0; a < arr.length; a++) {\n    result = flatten(arr[a], result);\n  }\n\n  return result;\n};\n\nvar isArray = function isArray(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\n\n/* harmony default export */ var misc_getPlugins = (getPlugins);\n// CONCATENATED MODULE: ./misc/getLanguage.js\nvar getLanguage = function getLanguage(lang) {\n  switch (typeof lang) {\n    case 'object':\n      return lang;\n\n    case 'string':\n      switch (lang) {\n        case 'en':\n          return __webpack_require__(4);\n\n        case 'da':\n          return __webpack_require__(29);\n\n        case 'de':\n          return __webpack_require__(30);\n\n        case 'es':\n          return __webpack_require__(31);\n\n        case 'fr':\n          return __webpack_require__(32);\n\n        case 'ja':\n          return __webpack_require__(33);\n\n        case 'ko':\n          return __webpack_require__(34);\n\n        case 'pt_br':\n          return __webpack_require__(35);\n\n        case 'ru':\n          return __webpack_require__(36);\n\n        case 'it':\n          return __webpack_require__(37);\n\n        case 'zh_cn':\n          return __webpack_require__(38);\n\n        case 'ro':\n          return __webpack_require__(39);\n\n        case 'pl':\n          return __webpack_require__(40);\n\n        case 'ckb':\n          return __webpack_require__(41);\n\n        case 'lv':\n          return __webpack_require__(42);\n\n        default:\n          return __webpack_require__(4);\n      }\n\n  }\n\n  return __webpack_require__(4);\n};\n\n/* harmony default export */ var misc_getLanguage = (getLanguage);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(0);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./SunEditor.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n  _inherits(SunEditor, _Component);\n\n  var _super = _createSuper(SunEditor);\n\n  function SunEditor() {\n    var _this;\n\n    _classCallCheck(this, SunEditor);\n\n    _this = _super.call(this);\n    _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n    return _this;\n  }\n\n  _createClass(SunEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          lang = _this$props.lang,\n          _this$props$setOption = _this$props.setOptions,\n          setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n          _this$props$width = _this$props.width,\n          width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n          height = _this$props.height;\n      setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n      setOptions.plugins = misc_getPlugins(setOptions);\n      setOptions.width = setOptions.width || width;\n      if (height) setOptions.height = height;\n      this.editor = suneditor.create(this.txtArea.current);\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          insertHTML = _this$props2.insertHTML,\n          setContents = _this$props2.setContents,\n          setDefaultStyle = _this$props2.setDefaultStyle,\n          appendContents = _this$props2.appendContents,\n          disable = _this$props2.disable,\n          enable = _this$props2.enable,\n          hide = _this$props2.hide,\n          show = _this$props2.show,\n          _this$props2$showTool = _this$props2.showToolbar,\n          showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n          _this$props2$enableTo = _this$props2.enableToolbar,\n          enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n          onScroll = _this$props2.onScroll,\n          onClick = _this$props2.onClick,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyUp = _this$props2.onKeyUp,\n          onDrop = _this$props2.onDrop,\n          onChange = _this$props2.onChange,\n          onCopy = _this$props2.onCopy,\n          onCut = _this$props2.onCut,\n          onImageUpload = _this$props2.onImageUpload,\n          onImageUploadError = _this$props2.onImageUploadError,\n          onPaste = _this$props2.onPaste,\n          autoFocus = _this$props2.autoFocus,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          onLoad = _this$props2.onLoad,\n          onInput = _this$props2.onInput,\n          onImageUploadBefore = _this$props2.onImageUploadBefore,\n          onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n          onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n          onVideoUpload = _this$props2.onVideoUpload,\n          onMouseDown = _this$props2.onMouseDown,\n          onAudioUpload = _this$props2.onAudioUpload,\n          onVideoUploadError = _this$props2.onVideoUploadError,\n          onAudioUploadError = _this$props2.onAudioUploadError,\n          placeholder = _this$props2.placeholder,\n          imageUploadHandler = _this$props2.imageUploadHandler,\n          toggleCodeView = _this$props2.toggleCodeView,\n          toggleFullScreen = _this$props2.toggleFullScreen,\n          showInline = _this$props2.showInline,\n          showController = _this$props2.showController;\n      if (onChange || name) this.editor.onChange = function (content) {\n        if (name) _this2.txtArea.current.value = content;\n        if (onChange) onChange(content);\n      };\n      if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n        return onCopy(e, clipboardData);\n      };\n      if (onCut) this.editor.onCut = function (e, clipboardData) {\n        return onCut(e, clipboardData);\n      };\n      if (onMouseDown) this.editor.onMouseDown = function (e) {\n        return onMouseDown(e);\n      };\n      if (onScroll) this.editor.onScroll = function (e) {\n        return onScroll(e);\n      };\n      if (onInput) this.editor.onInput = function (e) {\n        return onInput(e);\n      };\n      if (onClick) this.editor.onClick = function (e) {\n        return onClick(e);\n      };\n      if (onKeyUp) this.editor.onKeyUp = function (e) {\n        return onKeyUp(e);\n      };\n      if (onKeyDown) this.editor.onKeyDown = function (e) {\n        return onKeyDown(e);\n      };\n      if (onBlur) this.editor.onBlur = function (e) {\n        return onBlur(e, _this2.editor.getContents());\n      };\n      if (onFocus) this.editor.onFocus = function (e) {\n        return onFocus(e);\n      };\n      if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n        return onImageUploadBefore(files, info, uploadHandler);\n      };\n      if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n        return onVideoUploadBefore(files, info, uploadHandler);\n      };\n      if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n        return onAudioUploadBefore(files, info, uploadHandler);\n      };\n      if (onDrop) this.editor.onDrop = function (e) {\n        return onDrop(e);\n      };\n      if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n        return onPaste(e, cleanData, maxCharCount);\n      };\n      if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n        return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n      };\n      if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n        return onImageUploadError(errorMessage, result);\n      };\n      if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n        return onVideoUploadError(errorMessage, result);\n      };\n      if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n        return onAudioUploadError(errorMessage, result);\n      };\n      if (placeholder) setOptions.placeholder = placeholder;\n      this.editor.setOptions(setOptions);\n\n      this.editor.onload = function (_, reload) {\n        if (reload === false) {\n          if (setContents) {\n            _this2.editor.setContents(setContents);\n\n            _this2.editor.core.focusEdge();\n          }\n\n          if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n          if (insertHTML) _this2.editor.insertHTML(insertHTML);\n          if (appendContents) _this2.editor.appendContents(appendContents);\n          if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n          if (enable === true) _this2.editor.enabled();\n          if (disable === true) _this2.editor.disabled();\n          if (hide === true) _this2.editor.hide();\n          if (show === true) _this2.editor.show();\n          if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n          if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n          if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n        }\n\n        if (onLoad) onLoad(reload);\n      };\n\n      if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n      if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n        return toggleCodeView(isCodeView);\n      };\n      if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n        return toggleFullScreen(isFullScreen);\n      };\n      if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n        return showInline(toolbar, context);\n      };\n      if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n        return showController(name, controllers);\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Props compared\n      if (prevProps.lang !== this.props.lang) {\n        this.editor.setOptions({\n          lang: misc_getLanguage(this.props.lang)\n        });\n      }\n\n      if (prevProps.height !== this.props.height) {\n        this.editor.setOptions({\n          height: this.props.height\n        });\n      }\n\n      if (prevProps.width !== this.props.width) {\n        this.editor.setOptions({\n          width: this.props.width\n        });\n      }\n\n      if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n        this.editor.setDefaultStyle(this.props.setDefaultStyle);\n      }\n\n      if (prevProps.setContents !== this.props.setContents) {\n        !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n      }\n\n      if (prevProps.appendContents !== this.props.appendContents) {\n        this.editor.appendContents(this.props.appendContents);\n        this.editor.core.focusEdge();\n      }\n\n      if (prevProps.insertHTML !== this.props.insertHTML) {\n        this.editor.insertHTML(this.props.insertHTML);\n      }\n\n      if (prevProps.enable !== this.props.enable) {\n        if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n      }\n\n      if (prevProps.disable !== this.props.disable) {\n        if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n      }\n\n      if (prevProps.showToolbar !== this.props.showToolbar) {\n        if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n      }\n\n      if (prevProps.enableToolbar !== this.props.enableToolbar) {\n        if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n      }\n\n      if (prevProps.show !== this.props.show) {\n        if (this.props.show === true) this.editor.show();else this.editor.hide();\n      }\n\n      if (prevProps.hide !== this.props.hide) {\n        if (this.props.hide === true) this.editor.hide();else this.editor.show();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dynamicName = {};\n      if (this.props.name) dynamicName.name = this.props.name;\n      return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n        ref: this.txtArea\n      }, dynamicName));\n    }\n  }]);\n\n  return SunEditor;\n}(external_react_[\"Component\"]);\n\nSunEditor_SunEditor.propTypes = {\n  imageUploadHandler: prop_types_default.a.func,\n  toggleCodeView: prop_types_default.a.func,\n  toggleFullScreen: prop_types_default.a.func,\n  showInline: prop_types_default.a.func,\n  showController: prop_types_default.a.func,\n  onChange: prop_types_default.a.func,\n  onScroll: prop_types_default.a.func,\n  onClick: prop_types_default.a.func,\n  onKeyUp: prop_types_default.a.func,\n  onKeyDown: prop_types_default.a.func,\n  onInput: prop_types_default.a.func,\n  onDrop: prop_types_default.a.func,\n  onBlur: prop_types_default.a.func,\n  onFocus: prop_types_default.a.func,\n  onLoad: prop_types_default.a.func,\n  onCut: prop_types_default.a.func,\n  onCopy: prop_types_default.a.func,\n  onPaste: prop_types_default.a.func,\n  onImageUploadBefore: prop_types_default.a.func,\n  onImageUpload: prop_types_default.a.func,\n  onImageUploadError: prop_types_default.a.func,\n  onVideoUploadBefore: prop_types_default.a.func,\n  onAudioUploadBefore: prop_types_default.a.func,\n  onVideoUpload: prop_types_default.a.func,\n  onMouseDown: prop_types_default.a.func,\n  onAudioUpload: prop_types_default.a.func,\n  onVideoUploadError: prop_types_default.a.func,\n  onAudioUploadError: prop_types_default.a.func,\n  setOptions: prop_types_default.a.object,\n  setContents: prop_types_default.a.string,\n  name: prop_types_default.a.string,\n  appendContents: prop_types_default.a.string,\n  setDefaultStyle: prop_types_default.a.string,\n  enable: prop_types_default.a.bool,\n  showToolbar: prop_types_default.a.bool,\n  enableToolbar: prop_types_default.a.bool,\n  disable: prop_types_default.a.bool,\n  hide: prop_types_default.a.bool,\n  show: prop_types_default.a.bool,\n  autoFocus: prop_types_default.a.bool,\n  placeholder: prop_types_default.a.string,\n  lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n  width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n  height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n};\n/* harmony default export */ var SunEditor_0 = (SunEditor_SunEditor);\n// CONCATENATED MODULE: ./main.js\n\n\n\n/* harmony default export */ var main = __webpack_exports__[\"default\"] = (SunEditor_0);\n\n/***/ })\n/******/ ]);"]},"metadata":{},"sourceType":"script"}