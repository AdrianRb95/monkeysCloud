{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 45);\n  /******/\n}(\n/************************************************************************/\n\n/******/\n[\n/* 0 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  if (false) {\n    var throwOnDirectAccess, ReactIs;\n  } else {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = __webpack_require__(43)();\n  }\n  /***/\n\n},\n/* 1 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n      name: 'dialog',\n\n      /**\n       * @description Constructor\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const context = core.context;\n        context.dialog = {\n          kind: '',\n          updateModal: false,\n          _closeSignal: false\n        };\n        /** dialog */\n\n        let dialog_div = core.util.createElement('DIV');\n        dialog_div.className = 'se-dialog sun-editor-common';\n        let dialog_back = core.util.createElement('DIV');\n        dialog_back.className = 'se-dialog-back';\n        dialog_back.style.display = 'none';\n        let dialog_area = core.util.createElement('DIV');\n        dialog_area.className = 'se-dialog-inner';\n        dialog_area.style.display = 'none';\n        dialog_div.appendChild(dialog_back);\n        dialog_div.appendChild(dialog_area);\n        context.dialog.modalArea = dialog_div;\n        context.dialog.back = dialog_back;\n        context.dialog.modal = dialog_area;\n        /** add event listeners */\n\n        context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n        context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(dialog_div);\n        /** empty memory */\n\n        dialog_div = null, dialog_back = null, dialog_area = null;\n      },\n\n      /**\n       * @description Event to control the behavior of closing the dialog\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onMouseDown_dialog: function (e) {\n        if (/se-dialog-inner/.test(e.target.className)) {\n          this.context.dialog._closeSignal = true;\n        } else {\n          this.context.dialog._closeSignal = false;\n        }\n      },\n\n      /**\n       * @description Event to close the window when the outside area of the dialog or close button is click\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onClick_dialog: function (e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n          this.plugins.dialog.close.call(this);\n        }\n      },\n\n      /**\n       * @description Open a Dialog plugin\n       * @param {String} kind Dialog plugin name\n       * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n       */\n      open: function (kind, update) {\n        if (this.modalForm) return false;\n\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        this.plugins.dialog._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.dialog.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n        this.context.dialog.updateModal = update;\n\n        if (this.context.option.popupDisplay === 'full') {\n          this.context.dialog.modalArea.style.position = 'fixed';\n        } else {\n          this.context.dialog.modalArea.style.position = 'absolute';\n        }\n\n        this.context.dialog.kind = kind;\n        this.modalForm = this.context[kind].modal;\n        const focusElement = this.context[kind].focusElement;\n        if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n        this.context.dialog.modalArea.style.display = 'block';\n        this.context.dialog.back.style.display = 'block';\n        this.context.dialog.modal.style.display = 'block';\n        this.modalForm.style.display = 'block';\n        if (focusElement) focusElement.focus();\n      },\n      _bindClose: null,\n\n      /**\n       * @description Close a Dialog plugin\n       * The plugin's \"init\" method is called.\n       */\n      close: function () {\n        if (this.plugins.dialog._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n\n          this.plugins.dialog._bindClose = null;\n        }\n\n        const kind = this.context.dialog.kind;\n        this.modalForm.style.display = 'none';\n        this.context.dialog.back.style.display = 'none';\n        this.context.dialog.modalArea.style.display = 'none';\n        this.context.dialog.updateModal = false;\n        if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n        this.context.dialog.kind = '';\n        this.modalForm = null;\n        this.focus();\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: dialog\n      });\n    }\n\n    return dialog;\n  });\n  /***/\n\n},\n/* 2 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const component = {\n      name: 'component',\n\n      /**\n       * @description Create a container for the resizing component and insert the element.\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {String} className Class name of container (fixed: se-component)\n       * @returns {Element} Created container element\n       */\n      set_container: function (cover, className) {\n        const container = this.util.createElement('DIV');\n        container.className = 'se-component ' + className;\n        container.setAttribute('contenteditable', false);\n        container.appendChild(cover);\n        return container;\n      },\n\n      /**\n       * @description Cover the target element with a FIGURE element.\n       * @param {Element} element Target element\n       */\n      set_cover: function (element) {\n        const cover = this.util.createElement('FIGURE');\n        cover.appendChild(element);\n        return cover;\n      },\n\n      /**\n       * @description Return HTML string of caption(FIGCAPTION) element\n       * @returns {String}\n       */\n      create_caption: function () {\n        const caption = this.util.createElement('FIGCAPTION');\n        caption.setAttribute('contenteditable', true);\n        caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n        return caption;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: component\n      });\n    }\n\n    return component;\n  });\n  /***/\n\n},\n/* 3 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileManager = {\n      name: 'fileManager',\n      _xmlHttp: null,\n\n      /**\n       * @description Upload the file to the server.\n       * @param {String} uploadUrl Upload server url\n       * @param {Object|null} uploadHeader Request header\n       * @param {FormData} formData FormData in body\n       * @param {Function|null} callBack Success call back function\n       * @param {Function|null} errorCallBack Error call back function\n       * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n       */\n      upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n        this.showLoading();\n        const filePlugin = this.plugins.fileManager;\n        const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n        xmlHttp.open('post', uploadUrl, true);\n\n        if (uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0) {\n          for (let key in uploadHeader) {\n            xmlHttp.setRequestHeader(key, uploadHeader[key]);\n          }\n        }\n\n        xmlHttp.send(formData);\n      },\n      _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\n        if (xmlHttp.readyState === 4) {\n          if (xmlHttp.status === 200) {\n            try {\n              callBack(xmlHttp);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.closeLoading();\n            }\n          } else {\n            // exception\n            this.closeLoading();\n            const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n            if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\n              const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              this.functions.noticeOpen(err);\n              throw Error(err);\n            }\n          }\n        }\n      },\n\n      /**\n       * @description Checke the file's information and modify the tag that does not fit the format.\n       * @param {String} pluginName Plugin name\n       * @param {Array} tagNames Tag array to check\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\n       * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\n       * @param {Boolean} resizing True if the plugin is using a resizing module\n       * @example \n       * const modifyHandler = function (tag) {\n       *      imagePlugin.onModifyMode.call(this, tag, null);\n       *      imagePlugin.openModify.call(this, true);\n       *      imagePlugin.update_image.call(this, true, false, true);\n       *  }.bind(this);\n       *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n       */\n      checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n        let tags = [];\n\n        for (let i = 0, len = tagNames.length; i < len; i++) {\n          tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n        }\n\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        const setFileInfo = this.plugins.fileManager.setInfo.bind(this);\n\n        if (tags.length === infoList.length) {\n          // reset\n          if (this._componentsInfoReset) {\n            for (let i = 0, len = tags.length; i < len; i++) {\n              setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\n            }\n\n            return;\n          } else {\n            let infoUpdate = false;\n\n            for (let i = 0, len = infoList.length, info; i < len; i++) {\n              info = infoList[i];\n\n              if (tags.filter(function (t) {\n                return info.src === t.src && info.index.toString() === t.getAttribute('data-index');\n              }).length === 0) {\n                infoUpdate = true;\n                break;\n              }\n            } // pass\n\n\n            if (!infoUpdate) return;\n          }\n        } // check\n\n\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const currentTags = [];\n        const infoIndex = [];\n\n        for (let i = 0, len = infoList.length; i < len; i++) {\n          infoIndex[i] = infoList[i].index;\n        }\n\n        for (let i = 0, len = tags.length, tag; i < len; i++) {\n          tag = tags[i];\n\n          if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !/FIGURE/i.test(tag.parentElement.nodeName)) {\n            currentTags.push(context._infoIndex);\n            modifyHandler(tag);\n          } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\n            currentTags.push(context._infoIndex);\n            tag.removeAttribute('data-index');\n            setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n          } else {\n            currentTags.push(tag.getAttribute('data-index') * 1);\n          }\n        }\n\n        for (let i = 0, dataIndex; i < infoList.length; i++) {\n          dataIndex = infoList[i].index;\n          if (currentTags.indexOf(dataIndex) > -1) continue;\n          infoList.splice(i, 1);\n          if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\n          i--;\n        }\n\n        if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\n      },\n\n      /**\n       * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\n       * @param {String} pluginName Plugin name \n       * @param {Element} element \n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       * @param {Object|null} file \n       * @param {Boolean} resizing True if the plugin is using a resizing module\n       * @example \n       * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\n       * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n       */\n      setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\n        const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n\n        if (resizing) this.context.resizing._resize_plugin = pluginName;\n        const plguin = this.plugins[pluginName];\n        const context = this.context[pluginName];\n        const infoList = context._infoList;\n        let dataIndex = element.getAttribute('data-index');\n        let info = null;\n        let state = '';\n\n        if (!file) {\n          file = {\n            'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\n            'size': element.getAttribute('data-file-size') || 0\n          };\n        } // create\n\n\n        if (!dataIndex || this._componentsInfoInit) {\n          state = 'create';\n          dataIndex = context._infoIndex++;\n          element.setAttribute('data-index', dataIndex);\n          element.setAttribute('data-file-name', file.name);\n          element.setAttribute('data-file-size', file.size);\n          info = {\n            src: element.src,\n            index: dataIndex * 1,\n            name: file.name,\n            size: file.size\n          };\n          infoList.push(info);\n        } else {\n          // update\n          state = 'update';\n          dataIndex *= 1;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (dataIndex === infoList[i].index) {\n              info = infoList[i];\n              break;\n            }\n          }\n\n          if (!info) {\n            dataIndex = context._infoIndex++;\n            info = {\n              index: dataIndex\n            };\n            infoList.push(info);\n          }\n\n          info.src = element.src;\n          info.name = element.getAttribute(\"data-file-name\");\n          info.size = element.getAttribute(\"data-file-size\") * 1;\n        } // method bind\n\n\n        info.element = element;\n        info.delete = plguin.destroy.bind(this, element);\n\n        info.select = function (element) {\n          element.scrollIntoView(true);\n\n          this._w.setTimeout(plguin.select.bind(this, element));\n        }.bind(this, element);\n\n        if (resizing) {\n          if (!element.getAttribute('origin-size') && element.naturalWidth) {\n            element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\n          }\n\n          if (!element.getAttribute('data-origin')) {\n            const container = this.util.getParentElement(element, this.util.isMediaComponent);\n            const cover = this.util.getParentElement(element, 'FIGURE');\n\n            const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n            const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n            element.setAttribute('data-origin', w + ',' + h);\n            element.setAttribute('data-size', w + ',' + h);\n          }\n\n          if (!element.style.width) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            plguin.onModifyMode.call(this, element, null);\n            plguin.applySize.call(this, size[0], size[1]);\n          }\n\n          this.context.resizing._resize_plugin = _resize_plugin;\n        }\n\n        if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      },\n\n      /**\n       * @description Delete info object at \"_infoList\"\n       * @param {String} pluginName Plugin name \n       * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       */\n      deleteInfo: function (pluginName, index, uploadEventHandler) {\n        if (index >= 0) {\n          const infoList = this.context[pluginName]._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            if (index === infoList[i].index) {\n              infoList.splice(i, 1);\n              if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\n              return;\n            }\n          }\n        }\n      },\n\n      /**\n       * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\n       * @param {String} pluginName Plugin name \n       * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n       */\n      resetInfo: function (pluginName, uploadEventHandler) {\n        const context = this.context[pluginName];\n\n        if (typeof uploadEventHandler === 'function') {\n          const infoList = context._infoList;\n\n          for (let i = 0, len = infoList.length; i < len; i++) {\n            uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\n          }\n        }\n\n        context._infoList = [];\n        context._infoIndex = 0;\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileManager\n      });\n    }\n\n    return fileManager;\n  });\n  /***/\n\n},\n/* 4 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'en',\n      toolbar: {\n        default: 'Default',\n        save: 'Save',\n        font: 'Font',\n        formats: 'Formats',\n        fontSize: 'Size',\n        bold: 'Bold',\n        underline: 'Underline',\n        italic: 'Italic',\n        strike: 'Strike',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Remove Format',\n        fontColor: 'Font Color',\n        hiliteColor: 'Highlight Color',\n        indent: 'Indent',\n        outdent: 'Outdent',\n        align: 'Align',\n        alignLeft: 'Align left',\n        alignRight: 'Align right',\n        alignCenter: 'Align center',\n        alignJustify: 'Align justify',\n        list: 'List',\n        orderList: 'Ordered list',\n        unorderList: 'Unordered list',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Solid',\n        hr_dotted: 'Dotted',\n        hr_dashed: 'Dashed',\n        table: 'Table',\n        link: 'Link',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Full screen',\n        showBlocks: 'Show blocks',\n        codeView: 'Code view',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Line height',\n        paragraphStyle: 'Paragraph style',\n        textStyle: 'Text style',\n        imageGallery: 'Image gallery',\n        mention: 'Mention'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insert Link',\n          url: 'URL to link',\n          text: 'Text to display',\n          newWindowCheck: 'Open in new window'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Mathematical Notation',\n          fontSizeLabel: 'Font Size',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Insert image',\n          file: 'Select from files',\n          url: 'Image URL',\n          altText: 'Alternative text'\n        },\n        videoBox: {\n          title: 'Insert Video',\n          file: 'Select from files',\n          url: 'Media embed URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insert Audio',\n          file: 'Select from files',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Search'\n        },\n        caption: 'Insert description',\n        close: 'Close',\n        submitButton: 'Submit',\n        revertButton: 'Revert',\n        proportion: 'Constrain proportions',\n        basic: 'Basic',\n        left: 'Left',\n        right: 'Right',\n        center: 'Center',\n        width: 'Width',\n        height: 'Height',\n        size: 'Size',\n        ratio: 'Ratio'\n      },\n      controller: {\n        edit: 'Edit',\n        unlink: 'Unlink',\n        remove: 'Remove',\n        insertRowAbove: 'Insert row above',\n        insertRowBelow: 'Insert row below',\n        deleteRow: 'Delete row',\n        insertColumnBefore: 'Insert column before',\n        insertColumnAfter: 'Insert column after',\n        deleteColumn: 'Delete column',\n        fixedColumnWidth: 'Fixed column width',\n        resize100: 'Resize 100%',\n        resize75: 'Resize 75%',\n        resize50: 'Resize 50%',\n        resize25: 'Resize 25%',\n        autoSize: 'Auto size',\n        mirrorHorizontal: 'Mirror, Horizontal',\n        mirrorVertical: 'Mirror, Vertical',\n        rotateLeft: 'Rotate left',\n        rotateRight: 'Rotate right',\n        maxSize: 'Max size',\n        minSize: 'Min size',\n        tableHeader: 'Table header',\n        mergeCells: 'Merge cells',\n        splitCells: 'Split Cells',\n        HorizontalSplit: 'Horizontal split',\n        VerticalSplit: 'Vertical split'\n      },\n      menu: {\n        spaced: 'Spaced',\n        bordered: 'Bordered',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Shadow',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 5 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2018 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  __webpack_exports__[\"a\"] = {\n    name: 'colorPicker',\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\n    add: function (core) {\n      const context = core.context;\n      context.colorPicker = {\n        colorListHTML: '',\n        _colorInput: '',\n        _defaultColor: '#000',\n        _styleProperty: 'color',\n        _currentColor: '',\n        _colorList: []\n      };\n      /** set submenu */\n\n      let listDiv = this.createColorList(core, this._makeColorList);\n      /** caching */\n\n      context.colorPicker.colorListHTML = listDiv;\n      /** empty memory */\n\n      listDiv = null;\n    },\n\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\n    createColorList: function (core, makeColor) {\n      const option = core.context.option;\n      const lang = core.lang;\n      const colorList = !option.colorList || option.colorList.length === 0 ? ['#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000', '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1', '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd', '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c', '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535', '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'] : option.colorList;\n      let colorArr = [];\n      let list = '<div class=\"se-list-inner\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n        if (!color) continue;\n\n        if (typeof color === 'string') {\n          colorArr.push(color);\n          if (i < len - 1) continue;\n        }\n\n        if (colorArr.length > 0) {\n          list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\n          colorArr = [];\n        }\n\n        if (typeof color === 'object') {\n          list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\n        }\n      }\n\n      list += '' + '<form class=\"se-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' + '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + '</button>' + '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + '</button>' + '</form>' + '</div>';\n      return list;\n    },\n\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\n    _makeColorList: function (colorList) {\n      let list = '';\n      list += '<ul class=\"se-color-pallet\">';\n\n      for (let i = 0, len = colorList.length, color; i < len; i++) {\n        color = colorList[i];\n\n        if (typeof color === 'string') {\n          list += '<li>' + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + '</li>';\n        }\n      }\n\n      list += '</ul>';\n      return list;\n    },\n\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\n    init: function (node, color) {\n      const colorPicker = this.plugins.colorPicker;\n      let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n      fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n      const colorList = this.context.colorPicker._colorList;\n\n      if (colorList) {\n        for (let i = 0, len = colorList.length; i < len; i++) {\n          if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\n            this.util.addClass(colorList[i], 'active');\n          } else {\n            this.util.removeClass(colorList[i], 'active');\n          }\n        }\n      }\n\n      colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n    },\n\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setCurrentColor: function (hexColorStr) {\n      this.context.colorPicker._currentColor = hexColorStr;\n      this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n    },\n\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\n    setInputText: function (hexColorStr) {\n      hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\n      this.context.colorPicker._colorInput.value = hexColorStr;\n      this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n    },\n\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\n    getColorInNode: function (node) {\n      let findColor = '';\n      const styleProperty = this.context.colorPicker._styleProperty;\n\n      while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n        if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\n        node = node.parentNode;\n      }\n\n      return findColor;\n    },\n\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\n    isHexColor: function (str) {\n      return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n    },\n\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\n    rgb2hex: function (rgb) {\n      const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n      return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : '';\n    },\n\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\n    colorName2hex: function (colorName) {\n      if (/^#/.test(colorName)) return colorName;\n      var temp = this.util.createElement('div');\n      temp.style.display = 'none';\n      temp.style.color = colorName;\n\n      var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n        return parseInt(a, 10);\n      });\n\n      this.util.removeItem(temp);\n      return colors.length >= 3 ? '#' + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n    }\n  };\n  /***/\n},\n/* 6 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n      name: 'resizing',\n\n      /**\n       * @description Constructor\n       * Require context properties when resizing module\n          inputX: Element,\n          inputY: Element,\n          _container: null,\n          _cover: null,\n          _element: null,\n          _element_w: 1,\n          _element_h: 1,\n          _element_l: 0,\n          _element_t: 0,\n          _defaultSizeX: 'auto',\n          _defaultSizeY: 'auto',\n          _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n          _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n          _proportionChecked: true,\n          // -- select function --\n          _resizing: context.option.imageResizing,\n          _resizeDotHide: !context.option.imageHeightShow,\n          _rotation: context.option.imageRotation,\n          _onlyPercentage: context.option.imageSizeOnlyPercentage,\n          _ratio: false,\n          _ratioX: 1,\n          _ratioY: 1\n          _captionShow: true,\n          // -- when used caption (_captionShow: true) --\n          _caption: null,\n          _captionChecked: false,\n          captionCheckEl: null,\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const icons = core.icons;\n        const context = core.context;\n        context.resizing = {\n          _resizeClientX: 0,\n          _resizeClientY: 0,\n          _resize_plugin: '',\n          _resize_w: 0,\n          _resize_h: 0,\n          _origin_w: 0,\n          _origin_h: 0,\n          _rotateVertical: false,\n          _resize_direction: '',\n          _move_path: null,\n          _isChange: false,\n          alignIcons: {\n            basic: icons.align_justify,\n            left: icons.align_left,\n            right: icons.align_right,\n            center: icons.align_center\n          }\n        };\n        /** resize controller, button */\n\n        let resize_div_container = this.setController_resize.call(core);\n        context.resizing.resizeContainer = resize_div_container;\n        context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n        context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n        context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n        let resize_button = this.setController_button.call(core);\n        context.resizing.resizeButton = resize_button;\n        let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n        context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n        context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n        context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n        context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n        context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n        context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n        context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n        context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n        /** add event listeners */\n\n        resize_div_container.addEventListener('mousedown', function (e) {\n          e.preventDefault();\n        });\n        resize_button.addEventListener('mousedown', core.eventStop);\n        resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n        resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(resize_div_container);\n        context.element.relative.appendChild(resize_button);\n        /** empty memory */\n\n        resize_div_container = null, resize_button = null, resize_handles = null;\n      },\n\n      /** resize controller, button (image, iframe, video) */\n      setController_resize: function () {\n        const resize_container = this.util.createElement('DIV');\n        resize_container.className = 'se-controller se-resizing-container';\n        resize_container.style.display = 'none';\n        resize_container.innerHTML = '' + '<div class=\"se-modal-resize\"></div>' + '<div class=\"se-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"se-resize-display\"></div>' + '</div>';\n        return resize_container;\n      },\n      setController_button: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const resize_button = this.util.createElement(\"DIV\");\n        resize_button.className = \"se-controller se-controller-resizing\";\n        resize_button.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"se-btn-group _se_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' + '<span>100%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' + '<span>75%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' + '<span>50%</span>' + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' + icons.auto_size + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' + icons.rotate_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' + icons.mirror_horizontal + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' + icons.mirror_vertical + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' + '</button></li>' + '</ul>' + '</div>' + '</div>' + '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' + icons.caption + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' + icons.revert + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' + icons.modify + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>';\n        return resize_button;\n      },\n\n      /**\n       * @description Gets the width size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeX: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!element) return '';\n        return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Gets the height size\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Element} element Target element\n       * @param {Element} cover Cover element (FIGURE)\n       * @param {Element} container Container element (DIV.se-component)\n       * @returns {String}\n       */\n      _module_getSizeY: function (contextPlugin, element, cover, container) {\n        if (!element) element = contextPlugin._element;\n        if (!cover) cover = contextPlugin._cover;\n        if (!container) container = contextPlugin._container;\n        if (!container || !cover) return element && element.style.height || '';\n        return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + '%';\n      },\n\n      /**\n       * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {Object} pluginObj Plugin object\n       */\n      _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n        const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n        contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n        let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n        if (x === contextPlugin._defaultSizeX) x = '';\n        if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n        contextPlugin.inputX.value = x;\n        pluginObj.setInputSize.call(this, 'x');\n\n        if (!contextPlugin._onlyPercentage) {\n          let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n          if (y === contextPlugin._defaultSizeY) y = '';\n          if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n          contextPlugin.inputY.value = y;\n        }\n\n        contextPlugin.inputX.disabled = percentageRotation ? true : false;\n        contextPlugin.inputY.disabled = percentageRotation ? true : false;\n        contextPlugin.proportion.disabled = percentageRotation ? true : false;\n        pluginObj.setRatio.call(this);\n      },\n\n      /**\n       * @description It is called in \"setInputSize\" (input tag keyupEvent), \n       * checks the value entered in the input tag, \n       * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       * @param {String} xy 'x': width, 'y': height\n       */\n      _module_setInputSize: function (contextPlugin, xy) {\n        if (contextPlugin._onlyPercentage) {\n          if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n          return;\n        }\n\n        if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n          const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          if (xUnit !== yUnit) return;\n          const dec = xUnit === '%' ? 2 : 0;\n\n          if (xy === 'x') {\n            contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n          } else {\n            contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n          }\n        }\n      },\n\n      /**\n       * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n       * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_setRatio: function (contextPlugin) {\n        const xValue = contextPlugin.inputX.value;\n        const yValue = contextPlugin.inputY.value;\n\n        if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n          const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n          const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n\n          if (xUnit !== yUnit) {\n            contextPlugin._ratio = false;\n          } else if (!contextPlugin._ratio) {\n            const x = this.util.getNumber(xValue, 0);\n            const y = this.util.getNumber(yValue, 0);\n            contextPlugin._ratio = true;\n            contextPlugin._ratioX = x / y;\n            contextPlugin._ratioY = y / x;\n          }\n        } else {\n          contextPlugin._ratio = false;\n        }\n      },\n\n      /**\n       * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_sizeRevert: function (contextPlugin) {\n        if (contextPlugin._onlyPercentage) {\n          contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n        } else {\n          contextPlugin.inputX.value = contextPlugin._origin_w;\n          contextPlugin.inputY.value = contextPlugin._origin_h;\n        }\n      },\n\n      /**\n       * @description Save the size data (element.setAttribute(\"data-size\"))\n       * Used at the \"setSize\" method\n       * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n       */\n      _module_saveCurrentSize: function (contextPlugin) {\n        const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n        const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        contextPlugin._element.setAttribute('data-size', x + ',' + y);\n\n        if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n      },\n\n      /**\n       * @description Call the resizing module\n       * @param {Element} targetElement Resizing target element\n       * @param {string} plugin Plugin name\n       * @returns {Object} Size of resizing div {w, h, t, l}\n       */\n      call_controller_resize: function (targetElement, plugin) {\n        const contextResizing = this.context.resizing;\n        const contextPlugin = this.context[plugin];\n        contextResizing._resize_plugin = plugin;\n        const resizeContainer = contextResizing.resizeContainer;\n        const resizeDiv = contextResizing.resizeDiv;\n        const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n        const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n        const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n        const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n        const t = offset.top;\n        const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n        resizeContainer.style.top = t + 'px';\n        resizeContainer.style.left = l + 'px';\n        resizeContainer.style.width = w + 'px';\n        resizeContainer.style.height = h + 'px';\n        resizeDiv.style.top = '0px';\n        resizeDiv.style.left = '0px';\n        resizeDiv.style.width = w + 'px';\n        resizeDiv.style.height = h + 'px';\n        let align = targetElement.getAttribute('data-align') || 'basic';\n        align = align === 'none' ? 'basic' : align; // text\n\n        const container = this.util.getParentElement(targetElement, this.util.isComponent);\n        const cover = this.util.getParentElement(targetElement, 'FIGURE');\n        const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n        const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n        this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')'); // resizing display\n\n        contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n        const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n        const resizeHandles = contextResizing.resizeHandles;\n\n        for (let i = 0, len = resizeHandles.length; i < len; i++) {\n          resizeHandles[i].style.display = resizeDotShow;\n        }\n\n        if (contextPlugin._resizing) {\n          const rotations = contextResizing.rotationButtons;\n          rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n        } // align icon\n\n\n        const alignList = contextResizing.alignMenuList;\n        this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');else this.util.removeClass(alignList[i], 'on');\n        } // percentage active\n\n\n        const pButtons = contextResizing.percentageButtons;\n        const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + '' : '';\n\n        for (let i = 0, len = pButtons.length; i < len; i++) {\n          if (pButtons[i].getAttribute('data-value') === value) {\n            this.util.addClass(pButtons[i], 'active');\n          } else {\n            this.util.removeClass(pButtons[i], 'active');\n          }\n        } // caption display, active\n\n\n        if (!contextPlugin._captionShow) {\n          contextResizing.captionButton.style.display = 'none';\n        } else {\n          contextResizing.captionButton.style.display = '';\n\n          if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n            this.util.addClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = true;\n          } else {\n            this.util.removeClass(contextResizing.captionButton, 'active');\n            contextPlugin._captionChecked = false;\n          }\n        }\n\n        if (this.currentControllerName !== plugin) {\n          this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n          resizeContainer.style.display = 'block';\n          const addOffset = {\n            left: 0,\n            top: 50\n          };\n\n          if (this.context.options.iframe) {\n            addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n            addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n          }\n\n          this.setControllerPosition(contextResizing.resizeButton, resizeContainer, 'bottom', addOffset);\n          this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n        }\n\n        contextResizing._resize_w = w;\n        contextResizing._resize_h = h;\n        const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n        contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n        contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n        return {\n          w: w,\n          h: h,\n          t: t,\n          l: l\n        };\n      },\n      _closeAlignMenu: null,\n\n      /**\n       * @description Open align submenu of module\n       */\n      openAlignMenu: function () {\n        const alignButton = this.context.resizing.alignButton;\n        this.util.addClass(alignButton, 'on');\n        this.context.resizing.alignMenu.style.top = alignButton.offsetTop + alignButton.offsetHeight + 'px';\n        this.context.resizing.alignMenu.style.left = alignButton.offsetLeft - alignButton.offsetWidth / 2 + 'px';\n        this.context.resizing.alignMenu.style.display = 'block';\n\n        this.plugins.resizing._closeAlignMenu = function () {\n          this.util.removeClass(this.context.resizing.alignButton, 'on');\n          this.context.resizing.alignMenu.style.display = 'none';\n          this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n          this.plugins.resizing._closeAlignMenu = null;\n        }.bind(this);\n\n        this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n      },\n\n      /**\n       * @description Click event of resizing toolbar\n       * Performs the action of the clicked toolbar button.\n       * @param {MouseEvent} e Event object\n       */\n      onClick_resizeButton: function (e) {\n        e.stopPropagation();\n        const target = e.target;\n        const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n        if (!command) return;\n        const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n        const pluginName = this.context.resizing._resize_plugin;\n        const currentContext = this.context[pluginName];\n        const contextEl = currentContext._element;\n        const currentModule = this.plugins[pluginName];\n        e.preventDefault();\n\n        if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n          this.plugins.resizing._closeAlignMenu();\n\n          if (command === 'onalign') return;\n        }\n\n        switch (command) {\n          case 'auto':\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setAutoSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'percent':\n            let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n            if (this.context.resizing._rotateVertical) {\n              const percentage = contextEl.getAttribute('data-percentage');\n              if (percentage) percentY = percentage.split(',')[1];\n            }\n\n            this.plugins.resizing.resetTransform.call(this, contextEl);\n            currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? '' : percentY);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'mirror':\n            const r = contextEl.getAttribute('data-rotate') || '0';\n            let x = contextEl.getAttribute('data-rotateX') || '';\n            let y = contextEl.getAttribute('data-rotateY') || '';\n\n            if (value === 'h' && !this.context.resizing._rotateVertical || value === 'v' && this.context.resizing._rotateVertical) {\n              y = y ? '' : '180';\n            } else {\n              x = x ? '' : '180';\n            }\n\n            contextEl.setAttribute('data-rotateX', x);\n            contextEl.setAttribute('data-rotateY', y);\n\n            this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n            break;\n\n          case 'rotate':\n            const contextResizing = this.context.resizing;\n            const slope = contextEl.getAttribute('data-rotate') * 1 + value * 1;\n            const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n            contextEl.setAttribute('data-rotate', deg);\n            contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n            this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'onalign':\n            this.plugins.resizing.openAlignMenu.call(this);\n            return;\n\n          case 'align':\n            const alignValue = value === 'basic' ? 'none' : value;\n            currentModule.setAlign.call(this, alignValue, null, null, null);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'caption':\n            const caption = !currentContext._captionChecked;\n            currentModule.openModify.call(this, true);\n            currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n            currentModule.update_image.call(this, false, false, false);\n\n            if (caption) {\n              const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                return current.nodeType === 3;\n              });\n\n              if (!captionText) {\n                currentContext._caption.focus();\n              } else {\n                this.setRange(captionText, 0, captionText, captionText.textContent.length);\n              }\n\n              this.controllersOff();\n            } else {\n              this.selectComponent(contextEl, pluginName);\n              currentModule.openModify.call(this, true);\n            }\n\n            break;\n\n          case 'revert':\n            currentModule.setOriginSize.call(this);\n            this.selectComponent(contextEl, pluginName);\n            break;\n\n          case 'update':\n            currentModule.openModify.call(this);\n            this.controllersOff();\n            break;\n\n          case 'delete':\n            currentModule.destroy.call(this);\n            break;\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\n       * @description Initialize the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       */\n      resetTransform: function (element) {\n        const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n        this.context.resizing._rotateVertical = false;\n        element.style.maxWidth = '';\n        element.style.transform = '';\n        element.style.transformOrigin = '';\n        element.setAttribute('data-rotate', '');\n        element.setAttribute('data-rotateX', '');\n        element.setAttribute('data-rotateY', '');\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n      },\n\n      /**\n       * @description Set the transform style (rotation) of the element.\n       * @param {Element} element Target element\n       * @param {Number|null} width Element's width size\n       * @param {Number|null} height Element's height size\n       */\n      setTransformSize: function (element, width, height) {\n        let percentage = element.getAttribute('data-percentage');\n        const isVertical = this.context.resizing._rotateVertical;\n        const deg = element.getAttribute('data-rotate') * 1;\n        let transOrigin = '';\n\n        if (percentage && !isVertical) {\n          percentage = percentage.split(',');\n\n          if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n            this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n          } else {\n            this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n          }\n        } else {\n          const cover = this.util.getParentElement(element, 'FIGURE');\n          const offsetW = width || element.offsetWidth;\n          const offsetH = height || element.offsetHeight;\n          const w = (isVertical ? offsetH : offsetW) + 'px';\n          const h = (isVertical ? offsetW : offsetH) + 'px';\n\n          this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n          this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n\n          cover.style.width = w;\n          cover.style.height = !!this.context[this.context.resizing._resize_plugin]._caption ? '' : h;\n\n          if (isVertical) {\n            let transW = offsetW / 2 + 'px ' + offsetW / 2 + 'px 0';\n            let transH = offsetH / 2 + 'px ' + offsetH / 2 + 'px 0';\n            transOrigin = deg === 90 || deg === -270 ? transH : transW;\n          }\n        }\n\n        element.style.transformOrigin = transOrigin;\n\n        this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n\n        if (isVertical) element.style.maxWidth = 'none';else element.style.maxWidth = '';\n        this.plugins.resizing.setCaptionPosition.call(this, element);\n      },\n      _setTransForm: function (element, r, x, y) {\n        let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n        let translate = '';\n\n        if (/[1-9]/.test(r) && (x || y)) {\n          translate = x ? 'Y' : 'X';\n\n          switch (r) {\n            case '90':\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            case '270':\n              width *= -1;\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-90':\n              translate = x && y ? 'Y' : x ? translate : '';\n              break;\n\n            case '-270':\n              width *= -1;\n              translate = x && y ? 'X' : y ? translate : '';\n              break;\n\n            default:\n              translate = '';\n          }\n        }\n\n        if (r % 180 === 0) {\n          element.style.maxWidth = '';\n        }\n\n        element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n      },\n\n      /**\n       * @description The position of the caption is set automatically.\n       * @param {Element} element Target element (not caption element)\n       */\n      setCaptionPosition: function (element) {\n        const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n\n        if (figcaption) {\n          figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n        }\n      },\n\n      /**\n       * @description Mouse down event of resize handles\n       * @param {MouseEvent} e Event object \n       */\n      onMouseDown_resize_handle: function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n        const contextResizing = this.context.resizing;\n        const direction = contextResizing._resize_direction = e.target.classList[0];\n        contextResizing._resizeClientX = e.clientX;\n        contextResizing._resizeClientY = e.clientY;\n        this.context.element.resizeBackground.style.display = 'block';\n        contextResizing.resizeButton.style.display = 'none';\n        contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n\n        const closureFunc_bind = function closureFunc(e) {\n          if (e.type === 'keydown' && e.keyCode !== 27) return;\n          const change = contextResizing._isChange;\n          contextResizing._isChange = false;\n          this.removeDocEvent('mousemove', resizing_element_bind);\n          this.removeDocEvent('mouseup', closureFunc_bind);\n          this.removeDocEvent('keydown', closureFunc_bind);\n\n          if (e.type === 'keydown') {\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n\n            this.plugins[this.context.resizing._resize_plugin].init.call(this);\n          } else {\n            // element resize\n            this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n            if (change) this.history.push(false);\n          }\n        }.bind(this);\n\n        const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n        this.addDocEvent('mousemove', resizing_element_bind);\n        this.addDocEvent('mouseup', closureFunc_bind);\n        this.addDocEvent('keydown', closureFunc_bind);\n      },\n\n      /**\n       * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n       * The size of the module's \"div\" is adjusted according to the mouse move event.\n       * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n       * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n       * @param {MouseEvent} e Event object\n       */\n      resizing_element: function (contextResizing, direction, plugin, e) {\n        const clientX = e.clientX;\n        const clientY = e.clientY;\n        let resultW = plugin._element_w;\n        let resultH = plugin._element_h;\n        const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n        const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n        const wh = plugin._element_h / plugin._element_w * w;\n        if (/t/.test(direction)) contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + 'px';\n        if (/l/.test(direction)) contextResizing.resizeDiv.style.left = plugin._element_w - w + 'px';\n\n        if (/r|l/.test(direction)) {\n          contextResizing.resizeDiv.style.width = w + 'px';\n          resultW = w;\n        }\n\n        if (/^(t|b)[^h]$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = wh + 'px';\n          resultH = wh;\n        } else if (/^(t|b)h$/.test(direction)) {\n          contextResizing.resizeDiv.style.height = h + 'px';\n          resultH = h;\n        }\n\n        contextResizing._resize_w = resultW;\n        contextResizing._resize_h = resultH;\n        this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n        contextResizing._isChange = true;\n      },\n\n      /**\n       * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n       * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n       * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n       */\n      cancel_controller_resize: function (direction) {\n        const isVertical = this.context.resizing._rotateVertical;\n        this.controllersOff();\n        this.context.element.resizeBackground.style.display = 'none';\n\n        let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n        let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n        if (!isVertical && !/%$/.test(w)) {\n          const padding = 16;\n          const limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n          if (this.util.getNumber(w, 0) > limit) {\n            h = this._w.Math.round(h / w * limit);\n            w = limit;\n          }\n        }\n\n        const pluginName = this.context.resizing._resize_plugin;\n        this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n        this.selectComponent(this.context[pluginName]._element, pluginName);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: resizing\n      });\n    }\n\n    return resizing;\n  });\n  /***/\n\n},\n/* 7 */\n\n/***/\nfunction (module, exports) {\n  module.exports = require(\"react\");\n  /***/\n},\n/* 8 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_MODULES a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n      name: 'fileBrowser',\n      _xmlHttp: null,\n      _loading: null,\n\n      /**\n       * @description Constructor\n       * @param {Object} core Core object \n       */\n      add: function (core) {\n        const context = core.context;\n        context.fileBrowser = {\n          _closeSignal: false,\n          area: null,\n          header: null,\n          tagArea: null,\n          body: null,\n          list: null,\n          tagElements: null,\n          items: [],\n          selectedTags: [],\n          selectorHandler: null,\n          contextPlugin: '',\n          columnSize: 4\n        };\n        /** fileBrowser */\n\n        let browser_div = core.util.createElement('DIV');\n        browser_div.className = 'se-file-browser sun-editor-common';\n        let back = core.util.createElement('DIV');\n        back.className = 'se-file-browser-back';\n        let content = core.util.createElement('DIV');\n        content.className = 'se-file-browser-inner';\n        content.innerHTML = this.set_browser(core);\n        browser_div.appendChild(back);\n        browser_div.appendChild(content);\n        this._loading = browser_div.querySelector('.se-loading-box');\n        context.fileBrowser.area = browser_div;\n        context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n        context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n        context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n        context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n        context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n        /** add event listeners */\n\n        context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n        context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n        content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n        content.addEventListener('click', this._onClick_browser.bind(core));\n        /** append html */\n\n        context.element.relative.appendChild(browser_div);\n        /** empty memory */\n\n        browser_div = null, back = null, content = null;\n      },\n      set_browser: function (core) {\n        const lang = core.lang;\n        return '<div class=\"se-file-browser-content\">' + '<div class=\"se-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + '</button>' + '<span class=\"se-file-browser-title\"></span>' + '<div class=\"se-file-browser-tags\"></div>' + '</div>' + '<div class=\"se-file-browser-body\">' + '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' + '<div class=\"se-file-browser-list\"></div>' + '</div>' + '</div>';\n      },\n\n      /**\n       * @description Event to control the behavior of closing the browser\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onMouseDown_browser: function (e) {\n        if (/se-file-browser-inner/.test(e.target.className)) {\n          this.context.fileBrowser._closeSignal = true;\n        } else {\n          this.context.fileBrowser._closeSignal = false;\n        }\n      },\n\n      /**\n       * @description Event to close the window when the outside area of the browser or close button is click\n       * @param {MouseEvent} e Event object\n       * @private\n       */\n      _onClick_browser: function (e) {\n        e.stopPropagation();\n\n        if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n          this.plugins.fileBrowser.close.call(this);\n        }\n      },\n\n      /**\n       * @description Open a file browser plugin\n       * @param {String} pluginName Plugin name using the file browser\n       * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n       */\n      open: function (pluginName, selectorHandler) {\n        if (this.plugins.fileBrowser._bindClose) {\n          this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n          this.plugins.fileBrowser._bindClose = null;\n        }\n\n        this.plugins.fileBrowser._bindClose = function (e) {\n          if (!/27/.test(e.keyCode)) return;\n          this.plugins.fileBrowser.close.call(this);\n        }.bind(this);\n\n        this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.contextPlugin = pluginName;\n        fileBrowserContext.selectorHandler = selectorHandler;\n        const pluginContext = this.context[pluginName];\n        const listClassName = pluginContext.listClass;\n\n        if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n          fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n        }\n\n        if (this.context.option.popupDisplay === 'full') {\n          fileBrowserContext.area.style.position = 'fixed';\n        } else {\n          fileBrowserContext.area.style.position = 'absolute';\n        }\n\n        fileBrowserContext.titleArea.textContent = pluginContext.title;\n        fileBrowserContext.area.style.display = 'block';\n\n        this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url);\n      },\n      _bindClose: null,\n\n      /**\n       * @description Close a fileBrowser plugin\n       * The plugin's \"init\" method is called.\n       */\n      close: function () {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n\n        if (fileBrowserPlugin._xmlHttp) {\n          fileBrowserPlugin._xmlHttp.abort();\n        }\n\n        if (fileBrowserPlugin._bindClose) {\n          this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n\n          fileBrowserPlugin._bindClose = null;\n        }\n\n        const fileBrowserContext = this.context.fileBrowser;\n        fileBrowserContext.area.style.display = 'none';\n        fileBrowserContext.selectorHandler = null;\n        fileBrowserContext.selectedTags = [];\n        fileBrowserContext.items = [];\n        fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n        if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n        fileBrowserContext.contextPlugin = '';\n      },\n\n      /**\n       * @description Show file browser loading box\n       */\n      showBrowserLoading: function () {\n        this._loading.style.display = 'block';\n      },\n\n      /**\n       * @description Close file browser loading box\n       */\n      closeBrowserLoading: function () {\n        this._loading.style.display = 'none';\n      },\n      _drawFileList: function (url) {\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n        xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n        xmlHttp.open('get', url, true);\n        xmlHttp.send(null);\n        this.plugins.fileBrowser.showBrowserLoading();\n      },\n      _callBackGet: function (xmlHttp) {\n        if (xmlHttp.readyState === 4) {\n          this.plugins.fileBrowser._xmlHttp = null;\n\n          if (xmlHttp.status === 200) {\n            try {\n              this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n            } catch (e) {\n              throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n            } finally {\n              this.plugins.fileBrowser.closeBrowserLoading();\n              this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + 'px';\n            }\n          } else {\n            // exception\n            this.plugins.fileBrowser.closeBrowserLoading();\n\n            if (xmlHttp.status !== 0) {\n              const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n              const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n              throw Error(err);\n            }\n          }\n        }\n      },\n      _drawListItem: function (items, update) {\n        const fileBrowserContext = this.context.fileBrowser;\n        const pluginContext = this.context[fileBrowserContext.contextPlugin];\n        const _tags = [];\n        const len = items.length;\n        const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n        const splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n        const drawItemHandler = pluginContext.itemTemplateHandler;\n        let tagsHTML = '';\n        let listHTML = '<div class=\"se-file-item-column\">';\n        let columns = 1;\n\n        for (let i = 0, item, tags; i < len; i++) {\n          item = items[i];\n          tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n          tags = item.tag = tags.map(function (v) {\n            return v.trim();\n          });\n          listHTML += drawItemHandler(item);\n\n          if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n            columns++;\n            listHTML += '</div><div class=\"se-file-item-column\">';\n          }\n\n          if (update && tags.length > 0) {\n            for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n              tag = tags[t];\n\n              if (tag && _tags.indexOf(tag) === -1) {\n                _tags.push(tag);\n\n                tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\n              }\n            }\n          }\n        }\n\n        listHTML += '</div>';\n        fileBrowserContext.list.innerHTML = listHTML;\n\n        if (update) {\n          fileBrowserContext.items = items;\n          fileBrowserContext.tagArea.innerHTML = tagsHTML;\n          fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n        }\n      },\n      onClickTag: function (e) {\n        const target = e.target;\n        if (!this.util.isAnchor(target)) return;\n        const tagName = target.textContent;\n        const fileBrowserPlugin = this.plugins.fileBrowser;\n        const fileBrowserContext = this.context.fileBrowser;\n        const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n        const selectedTags = fileBrowserContext.selectedTags;\n        const sTagIndex = selectedTags.indexOf(tagName);\n\n        if (sTagIndex > -1) {\n          selectedTags.splice(sTagIndex, 1);\n          this.util.removeClass(selectTag, 'on');\n        } else {\n          selectedTags.push(tagName);\n          this.util.addClass(selectTag, 'on');\n        }\n\n        fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n          return item.tag.some(function (tag) {\n            return selectedTags.indexOf(tag) > -1;\n          });\n        }), false);\n      },\n      onClickFile: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        const fileBrowserContext = this.context.fileBrowser;\n        const listEl = fileBrowserContext.list;\n        let target = e.target;\n        let command = null;\n        if (target === listEl) return;\n\n        while (listEl !== target.parentNode) {\n          command = target.getAttribute('data-command');\n          if (command) break;\n          target = target.parentNode;\n        }\n\n        if (!command) return;\n        const handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n        this.plugins.fileBrowser.close.call(this);\n        handler(target);\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_MODULES) {\n        Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: fileBrowser\n      });\n    }\n\n    return fileBrowser;\n  });\n  /***/\n\n},\n/* 9 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const icons = core.icons;\n      const context = core.context;\n      context.align = {\n        targetButton: targetElement,\n        _alignList: null,\n        currentAlign: '',\n        defaultDir: context.options.rtl ? 'right' : 'left',\n        icons: {\n          justify: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.align._alignList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const listDiv = this.util.createElement('DIV');\n      const leftDir = this.context.align.defaultDir === 'left';\n      const leftMenu = '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft + '</button>' + '</li>';\n      const rightMenu = '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"se-list-icon\">' + icons.align_right + '</span>' + lang.toolbar.alignRight + '</button>' + '</li>';\n      listDiv.className = 'se-submenu se-list-layer se-list-align';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + (leftDir ? leftMenu : rightMenu) + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter + '</button>' + '</li>' + (leftDir ? rightMenu : leftMenu) + '<li>' + '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      const alignContext = this.context.align;\n      const targetButton = alignContext.targetButton;\n      const target = targetButton.firstElementChild;\n\n      if (!element) {\n        this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n        targetButton.removeAttribute('data-focus');\n      } else if (this.util.isFormatElement(element)) {\n        const textAlign = element.style.textAlign;\n\n        if (textAlign) {\n          this.util.changeElement(target, alignContext.icons[textAlign]);\n          targetButton.setAttribute('data-focus', textAlign);\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override submenu\n     */\n    on: function () {\n      const alignContext = this.context.align;\n      const alignList = alignContext._alignList;\n      const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n      if (currentAlign !== alignContext.currentAlign) {\n        for (let i = 0, len = alignList.length; i < len; i++) {\n          if (currentAlign === alignList[i].getAttribute('data-value')) {\n            this.util.addClass(alignList[i], 'active');\n          } else {\n            this.util.removeClass(alignList[i], 'active');\n          }\n        }\n\n        alignContext.currentAlign = currentAlign;\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const defaultDir = this.context.align.defaultDir;\n      const selectedFormsts = this.getSelectedElements();\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        this.util.setStyle(selectedFormsts[i], 'textAlign', value === defaultDir ? '' : value);\n      }\n\n      this.effectNode = null;\n      this.submenuOff();\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 10 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.math = {\n        focusElement: null,\n        previewElement: null,\n        fontSizeElement: null,\n        _mathExp: null\n      };\n      /** math dialog */\n\n      let math_dialog = this.setDialog.call(core);\n      context.math.modal = math_dialog;\n      context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n      context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n      context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n      context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\n      context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\n      context.math.fontSizeElement.addEventListener('change', function (e) {\n        this.fontSize = e.target.value;\n      }.bind(context.math.previewElement.style), false);\n      /** math controller */\n\n      let math_controller = this.setController_MathButton.call(core);\n      context.math.mathController = math_controller;\n      context.math._mathExp = null;\n      math_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\n      math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n      /** append html */\n\n      context.dialog.modal.appendChild(math_dialog);\n      context.element.relative.appendChild(math_controller);\n      /** empty memory */\n\n      math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form>' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' + '<select class=\"se-input-select se-math-size\">' + '<option value=\"1em\">1</option>' + '<option value=\"1.5em\">1.5</option>' + '<option value=\"2em\">2</option>' + '<option value=\"2.5em\">2.5</option>' + '</select>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' + '<p class=\"se-math-preview\"></p>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function () {\n      const lang = this.lang;\n      const math_btn = this.util.createElement('DIV');\n      math_btn.className = 'se-controller se-controller-link';\n      math_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + this.icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>' + '';\n      return math_btn;\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\n     * @Override core - managedTagsInfo\n     */\n    managedTags: function () {\n      return {\n        className: 'katex',\n        method: function (element) {\n          if (!element.getAttribute('data-exp')) return;\n\n          const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n\n          element.innerHTML = dom.querySelector('.katex').innerHTML;\n        }\n      };\n    },\n    _renderer: function (exp) {\n      const katex = this.context.option.katex;\n      return katex.src.renderToString(exp, katex.options);\n    },\n    _renderMathExp: function (contextMath, e) {\n      contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      const submitAction = function () {\n        if (this.context.math.focusElement.value.trim().length === 0) return false;\n        const contextMath = this.context.math;\n        const mathExp = contextMath.focusElement.value;\n        const katexEl = contextMath.previewElement.querySelector('.katex');\n        if (!katexEl) return false;\n        katexEl.className = '__se__katex ' + katexEl.className;\n        katexEl.setAttribute('contenteditable', false);\n        katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n        katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n        katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n        if (!this.context.dialog.updateModal) {\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(katexEl);\n            if (!this.insertNode(oFormat, null, true)) return false;\n          } else {\n            if (!this.insertNode(katexEl, null, true)) return false;\n          }\n\n          const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n          katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n          this.setRange(katexEl, 0, katexEl, 1);\n        } else {\n          const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n          containerEl.parentNode.replaceChild(katexEl, containerEl);\n          this.setRange(katexEl, 0, katexEl, 1);\n        }\n\n        contextMath.focusElement.value = '';\n        contextMath.fontSizeElement.value = '1em';\n        contextMath.previewElement.style.fontSize = '1em';\n        contextMath.previewElement.innerHTML = '';\n        return true;\n      }.bind(this);\n\n      try {\n        if (submitAction()) {\n          this.plugins.dialog.close.call(this); // history stack\n\n          this.history.push(false);\n        }\n      } catch (e) {\n        this.plugins.dialog.close.call(this);\n      } finally {\n        this.closeLoading();\n      }\n\n      return false;\n    },\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n          this.controllersOff();\n        }\n      } else if (element.getAttribute('data-exp')) {\n        if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n          this.setRange(element, 0, element, 1);\n          this.plugins.math.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n    on: function (update) {\n      if (!update) {\n        this.plugins.math.init.call(this);\n      } else {\n        const contextMath = this.context.math;\n\n        if (contextMath._mathExp) {\n          const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n          const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n          this.context.dialog.updateModal = true;\n          contextMath.focusElement.value = exp;\n          contextMath.fontSizeElement.value = fontSize;\n          contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n          contextMath.previewElement.style.fontSize = fontSize;\n        }\n      }\n    },\n    call_controller: function (mathTag) {\n      this.context.math._mathExp = mathTag;\n      const mathBtn = this.context.math.mathController;\n      this.setControllerPosition(mathBtn, mathTag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(mathBtn, mathTag, 'math');\n    },\n    onClick_mathController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n        this.plugins.dialog.open.call(this, 'math', true);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.math._mathExp);\n        this.context.math._mathExp = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n    init: function () {\n      const contextMath = this.context.math;\n      contextMath.mathController.style.display = 'none';\n      contextMath._mathExp = null;\n      contextMath.focusElement.value = '';\n      contextMath.previewElement.innerHTML = '';\n    }\n  };\n  /***/\n},\n/* 11 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'imageGallery',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.imageGallery = {\n        title: core.lang.toolbar.imageGallery,\n        // @Required @Override fileBrowser - File browser window title.\n        url: context.options.imageGalleryUrl,\n        // @Required @Override fileBrowser - File server url.\n        listClass: 'se-image-list',\n        // @Required @Override fileBrowser - Class name of list div.\n        itemTemplateHandler: this.drawItems,\n        // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n        selectorHandler: this.setImage.bind(core),\n        // @Required @Override fileBrowser - Function that action when item click.\n        columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n\n      };\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Open a file browser.\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (selectorHandler) {\n      this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n     * Format: [\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n     * ]\n     * @param {Object} item Item of the response data's array\n     */\n    drawItems: function (item) {\n      const srcName = item.src.split('/').pop();\n      return '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"se-file-img-name se-file-name-back\"></div>' + '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' + '</div>';\n    },\n    setImage: function (target) {\n      this.callPlugin('image', function () {\n        const file = {\n          name: target.parentNode.querySelector('.__se__img_name').textContent,\n          size: 0\n        };\n        this.context.image._altText = target.alt;\n        this.plugins.image.create_image.call(this, target.src, '', false, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\n      }.bind(this), null);\n    }\n  };\n  /***/\n},\n/* 12 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.blockquote = {\n        targetButton: targetElement,\n        tag: core.util.createElement('BLOCKQUOTE')\n      };\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      if (!element) {\n        this.util.removeClass(this.context.blockquote.targetButton, 'active');\n      } else if (/blockquote/i.test(element.nodeName)) {\n        this.util.addClass(this.context.blockquote.targetButton, 'active');\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override core\n     */\n    action: function () {\n      const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n      if (currentBlockquote) {\n        this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n      } else {\n        this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n      }\n    }\n  };\n  /***/\n},\n/* 13 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.font = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _fontList: null,\n        currentFont: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n      context.font._fontList = listDiv.querySelectorAll('ul li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n      let font, text, i, len;\n      let fontList = !option.font ? ['Arial', 'Comic Sans MS', 'Courier New', 'Impact', 'Georgia', 'tahoma', 'Trebuchet MS', 'Verdana'] : option.font;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (i = 0, len = fontList.length; i < len; i++) {\n        font = fontList[i];\n        text = font.split(',')[0];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      const target = this.context.font.targetText;\n      const tooltip = this.context.font.targetTooltip;\n\n      if (!element) {\n        const font = this.lang.toolbar.font;\n        this.util.changeTxt(target, font);\n        this.util.changeTxt(tooltip, font);\n      } else if (element.style && element.style.fontFamily.length > 0) {\n        const selectFont = element.style.fontFamily.replace(/[\"']/g, '');\n        this.util.changeTxt(target, selectFont);\n        this.util.changeTxt(tooltip, selectFont);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const fontContext = this.context.font;\n      const fontList = fontContext._fontList;\n      const currentFont = fontContext.targetText.textContent;\n\n      if (currentFont !== fontContext.currentFont) {\n        for (let i = 0, len = fontList.length; i < len; i++) {\n          if (currentFont === fontList[i].getAttribute('data-value')) {\n            this.util.addClass(fontList[i], 'active');\n          } else {\n            this.util.removeClass(fontList[i], 'active');\n          }\n        }\n\n        fontContext.currentFont = currentFont;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontFamily = value;\n        this.nodeChange(newNode, ['font-family'], null, null);\n      } else {\n        this.nodeChange(null, ['font-family'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 14 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.fontColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.fontColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const colorArea = this.context.colorPicker.colorListHTML;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextFontColor = this.context.fontColor;\n      contextPicker._colorInput = contextFontColor.colorInput;\n      contextPicker._defaultColor = '#333333';\n      contextPicker._styleProperty = 'color';\n      contextPicker._colorList = contextFontColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.color = color;\n      this.nodeChange(newNode, ['color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 15 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.fontSize = {\n        targetText: targetElement.querySelector('.txt'),\n        _sizeList: null,\n        currentSize: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.fontSize._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-font-size';\n      const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      if (!element) {\n        this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n      } else if (element.style && element.style.fontSize.length > 0) {\n        this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const fontSizeContext = this.context.fontSize;\n      const sizeList = fontSizeContext._sizeList;\n      const currentSize = fontSizeContext.targetText.textContent;\n\n      if (currentSize !== fontSizeContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        fontSizeContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value');\n\n      if (value) {\n        const newNode = this.util.createElement('SPAN');\n        newNode.style.fontSize = value;\n        this.nodeChange(newNode, ['font-size'], null, null);\n      } else {\n        this.nodeChange(null, ['font-size'], ['span'], true);\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 16 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.formatBlock = {\n        targetText: targetElement.querySelector('.txt'),\n        targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n        _formatList: null,\n        currentFormat: ''\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang_toolbar = this.lang.toolbar;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n      const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n        format = formatList[i];\n\n        if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n          tagName = format.toLowerCase();\n          command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n          h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n          name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n          className = '';\n          attrs = '';\n        } else {\n          tagName = format.tag.toLowerCase();\n          command = format.command;\n          name = format.name || tagName;\n          className = format.class;\n          attrs = className ? ' class=\"' + className + '\"' : '';\n        }\n\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + '<' + tagName + attrs + '>' + name + '</' + tagName + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      let formatTitle = this.lang.toolbar.formats;\n      const target = this.context.formatBlock.targetText;\n      const tooltip = this.context.formatBlock.targetTooltip;\n\n      if (!element) {\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n      } else if (this.util.isFormatElement(element)) {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const nodeName = element.nodeName.toLowerCase();\n        const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n            formatTitle = f.title;\n            break;\n          }\n        }\n\n        this.util.changeTxt(target, formatTitle);\n        this.util.changeTxt(tooltip, formatTitle);\n        target.setAttribute('data-value', nodeName);\n        target.setAttribute('data-class', className);\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const formatContext = this.context.formatBlock;\n      const formatList = formatContext._formatList;\n      const target = formatContext.targetText;\n      const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n      if (currentFormat !== formatContext.currentFormat) {\n        for (let i = 0, len = formatList.length, f; i < len; i++) {\n          f = formatList[i];\n\n          if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n            this.util.addClass(f, 'active');\n          } else {\n            this.util.removeClass(f, 'active');\n          }\n        }\n\n        formatContext.currentFormat = currentFormat;\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          value = null,\n          tag = null,\n          className = '';\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        value = target.getAttribute('data-value');\n        className = target.getAttribute('data-class');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return; // blockquote\n\n      if (command === 'range') {\n        const rangeElement = tag.cloneNode(false);\n        this.applyRangeFormatElement(rangeElement);\n      } // free, replace\n      else {\n          let range = this.getRange();\n          let selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n          if (selectedFormsts.length === 0) {\n            range = this.getRange_addLine(range, null);\n            selectedFormsts = this.getSelectedElementsAndComponents(false);\n            if (selectedFormsts.length === 0) return;\n          }\n\n          const startOffset = range.startOffset;\n          const endOffset = range.endOffset;\n          const util = this.util;\n          let first = selectedFormsts[0];\n          let last = selectedFormsts[selectedFormsts.length - 1];\n          const firstPath = util.getNodePath(range.startContainer, first, null, null);\n          const lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n          const rlist = this.detachList(selectedFormsts, false);\n          if (rlist.sc) first = rlist.sc;\n          if (rlist.ec) last = rlist.ec; // change format tag\n\n          this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n          const modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n          if (command === 'free') {\n            const len = modifiedFormsts.length - 1;\n            let parentNode = modifiedFormsts[len].parentNode;\n            let freeElement = tag.cloneNode(false);\n            const focusElement = freeElement;\n\n            for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n              f = modifiedFormsts[i];\n              if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n              isComp = util.isComponent(f);\n              html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n              before = util.getParentElement(f, function (current) {\n                return current.parentNode === parentNode;\n              });\n\n              if (parentNode !== f.parentNode || isComp) {\n                if (util.isFormatElement(parentNode)) {\n                  parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                  parentNode = parentNode.parentNode;\n                } else {\n                  parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                  parentNode = f.parentNode;\n                }\n\n                next = freeElement.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                freeElement = tag.cloneNode(false);\n                first = true;\n              }\n\n              inner = freeElement.innerHTML;\n              freeElement.innerHTML = (first || !html || !inner || /<br>$/i.test(html) ? html : html + '<BR>') + inner;\n\n              if (i === 0) {\n                parentNode.insertBefore(freeElement, f);\n                next = f.nextSibling;\n\n                if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                  freeElement.innerHTML += '<BR>' + next.innerHTML;\n                  util.removeItem(next);\n                }\n\n                const prev = freeElement.previousSibling;\n\n                if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                  prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                  util.removeItem(freeElement);\n                }\n              }\n\n              if (!isComp) util.removeItem(f);\n              if (!!html) first = false;\n            }\n\n            this.setRange(focusElement, 0, focusElement, 0);\n          } // replace format\n          else {\n              for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                node = modifiedFormsts[i];\n\n                if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                  newFormat = tag.cloneNode(false);\n                  util.copyFormatAttributes(newFormat, node);\n                  newFormat.innerHTML = node.innerHTML;\n                  node.parentNode.replaceChild(newFormat, node);\n                }\n\n                if (i === 0) first = newFormat || node;\n                if (i === len - 1) last = newFormat || node;\n                newFormat = null;\n              }\n\n              this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            } // history stack\n\n\n          this.history.push(false);\n        }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 17 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'hiliteColor',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[\n      /* default */\n      \"a\"]]);\n      const context = core.context;\n      context.hiliteColor = {\n        previewEl: null,\n        colorInput: null,\n        colorList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\n      /** add event listeners */\n\n      context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\n      listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\n      listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\n      listDiv.addEventListener('click', this.pickup.bind(core));\n      context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const colorArea = this.context.colorPicker.colorListHTML;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = colorArea;\n      return listDiv;\n    },\n\n    /**\r\n    * @Override submenu\r\n    */\n    on: function () {\n      const contextPicker = this.context.colorPicker;\n      const contextHiliteColor = this.context.hiliteColor;\n      contextPicker._colorInput = contextHiliteColor.colorInput;\n      contextPicker._defaultColor = '#FFFFFF';\n      contextPicker._styleProperty = 'backgroundColor';\n      contextPicker._colorList = contextHiliteColor.colorList;\n      this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n    },\n\n    /**\r\n    * @Override _colorPicker\r\n    */\n    onChangeInput: function (e) {\n      this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n    },\n    submit: function () {\n      this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\n    },\n    remove: function () {\n      this.nodeChange(null, ['background-color'], ['span'], true);\n      this.submenuOff();\n    },\n    applyColor: function (color) {\n      if (!color) return;\n      const newNode = this.util.createElement('SPAN');\n      newNode.style.backgroundColor = color;\n      this.nodeChange(newNode, ['background-color'], null, null);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 18 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      /** set submenu */\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-line';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '<li>' + '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + '</button>' + '</li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n    appendHr: function (className) {\n      const oHr = this.util.createElement('HR');\n      oHr.className = className;\n      this.focus();\n      return this.insertComponent(oHr, false, true, false);\n    },\n    horizontalRulePick: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!value && !/UL/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n\n      if (oNode) {\n        this.setRange(oNode, 0, oNode, 0);\n        this.submenuOff();\n      }\n    }\n  };\n  /***/\n},\n/* 19 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 20197 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.lineHeight = {\n        _sizeList: null,\n        currentSize: -1\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      const sizeList = !option.lineHeights ? [{\n        text: '1',\n        value: 1\n      }, {\n        text: '1.15',\n        value: 1.15\n      }, {\n        text: '1.5',\n        value: 1.5\n      }, {\n        text: '2',\n        value: 2\n      }] : option.lineHeights;\n      let list = '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n\n      for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n        size = sizeList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const lineHeightContext = this.context.lineHeight;\n      const sizeList = lineHeightContext._sizeList;\n      const format = this.util.getFormatElement(this.getSelectionNode());\n      const currentSize = !format ? '' : format.style.lineHeight + '';\n\n      if (currentSize !== lineHeightContext.currentSize) {\n        for (let i = 0, len = sizeList.length; i < len; i++) {\n          if (currentSize === sizeList[i].getAttribute('data-value')) {\n            this.util.addClass(sizeList[i], 'active');\n          } else {\n            this.util.removeClass(sizeList[i], 'active');\n          }\n        }\n\n        lineHeightContext.currentSize = currentSize;\n      }\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const value = e.target.getAttribute('data-value') || '';\n      const formats = this.getSelectedElements();\n\n      for (let i = 0, len = formats.length; i < len; i++) {\n        formats[i].style.lineHeight = value;\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 20 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.list = {\n        targetButton: targetElement,\n        _list: null,\n        currentList: '',\n        icons: {\n          bullets: core.icons.list_bullets,\n          number: core.icons.list_number\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.list._list = listUl.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const lang = this.lang;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer';\n      listDiv.innerHTML = '' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + this.icons.list_number + '</button></li>' + '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + this.icons.list_bullets + '</button></li>' + '</ul>' + '</div>';\n      return listDiv;\n    },\n\n    /**\n    * @Override core\n    */\n    active: function (element) {\n      const button = this.context.list.targetButton;\n      const icon = button.firstElementChild;\n      const util = this.util;\n\n      if (!element) {\n        button.removeAttribute('data-focus');\n        util.changeElement(icon, this.context.list.icons.number);\n        util.removeClass(button, 'active');\n      } else if (util.isList(element)) {\n        const nodeName = element.nodeName;\n        button.setAttribute('data-focus', nodeName);\n        util.addClass(button, 'active');\n\n        if (/UL/i.test(nodeName)) {\n          util.changeElement(icon, this.context.list.icons.bullets);\n        } else {\n          util.changeElement(icon, this.context.list.icons.number);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const listContext = this.context.list;\n      const list = listContext._list;\n      const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n      if (currentList !== listContext.currentList) {\n        for (let i = 0, len = list.length; i < len; i++) {\n          if (currentList === list[i].getAttribute('data-command')) {\n            this.util.addClass(list[i], 'active');\n          } else {\n            this.util.removeClass(list[i], 'active');\n          }\n        }\n\n        listContext.currentList = currentList;\n      }\n    },\n    editList: function (command, selectedCells, detach) {\n      let range = this.getRange();\n      let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n      if (selectedFormats.length === 0) {\n        if (selectedCells) return;\n        range = this.getRange_addLine(range, null);\n        selectedFormats = this.getSelectedElementsAndComponents(false);\n        if (selectedFormats.length === 0) return;\n      }\n\n      const util = this.util;\n      util.sortByDepth(selectedFormats, true); // merge\n\n      let firstSel = selectedFormats[0];\n      let lastSel = selectedFormats[selectedFormats.length - 1];\n      let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n      let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n      const originRange = {\n        sc: range.startContainer,\n        so: range.startOffset,\n        ec: range.endContainer,\n        eo: range.endOffset\n      };\n      let isRemove = true;\n\n      for (let i = 0, len = selectedFormats.length; i < len; i++) {\n        if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n          return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n        }.bind(util)))) {\n          isRemove = false;\n          break;\n        }\n      }\n\n      if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n        if (detach) {\n          for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedFormats[j].contains(selectedFormats[i])) {\n                selectedFormats.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        const currentFormat = util.getRangeFormatElement(firstSel);\n        const cancel = currentFormat && currentFormat.tagName === command;\n        let rangeArr, tempList;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        if (!cancel) tempList = util.createElement(command);\n\n        for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          if (!o || !util.isList(o)) continue;\n\n          if (!r) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n          } else {\n            if (r !== o) {\n              if (detach && util.isListCell(o.parentNode)) {\n                this.plugins.list._detachNested.call(this, rangeArr.f);\n              } else {\n                this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n              }\n\n              o = selectedFormats[i].parentNode;\n              if (!cancel) tempList = util.createElement(command);\n              r = o;\n              rangeArr = {\n                r: r,\n                f: [util.getParentElement(selectedFormats[i], 'LI')]\n              };\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n            }\n          }\n\n          if (i === len - 1) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n          }\n        }\n      } else {\n        const topElParent = topEl ? topEl.parentNode : topEl;\n        const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n        topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n        bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n        const mergeTop = topEl && topEl.tagName === command;\n        const mergeBottom = bottomEl && bottomEl.tagName === command;\n        let list = mergeTop ? topEl : util.createElement(command);\n        let firstList = null;\n        let lastList = null;\n        let topNumber = null;\n        let bottomNumber = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current) && !this.isList(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n          fTag = selectedFormats[i];\n\n          if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n            util.removeItem(fTag);\n            continue;\n          }\n\n          next = selectedFormats[i + 1];\n          originParent = fTag.parentNode;\n          nextParent = next ? next.parentNode : null;\n          isCell = util.isListCell(fTag);\n          rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n          parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n          siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n          newCell = util.createElement('LI');\n          util.copyFormatAttributes(newCell, fTag);\n\n          if (util.isComponent(fTag)) {\n            const isHR = /^HR$/i.test(fTag.nodeName);\n            if (!isHR) newCell.innerHTML = '<br>';\n            newCell.innerHTML += fTag.outerHTML;\n            if (isHR) newCell.innerHTML += '<br>';\n          } else {\n            const fChildren = fTag.childNodes;\n\n            while (fChildren[0]) {\n              newCell.appendChild(fChildren[0]);\n            }\n          }\n\n          list.appendChild(newCell);\n          if (!next) lastList = list;\n\n          if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n            if (!firstList) firstList = list;\n\n            if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n              if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n            }\n          }\n\n          util.removeItem(fTag);\n          if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n\n          if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n            list = util.createElement(command);\n          }\n\n          if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n        }\n\n        if (topNumber) {\n          firstList = firstList.children[topNumber];\n        }\n\n        if (mergeBottom) {\n          bottomNumber = list.children.length - 1;\n          list.innerHTML += bottomEl.innerHTML;\n          lastList = list.children[bottomNumber];\n          util.removeItem(bottomEl);\n        }\n      }\n\n      this.effectNode = null;\n      return originRange;\n    },\n    _detachNested: function (cells) {\n      const first = cells[0];\n      const last = cells[cells.length - 1];\n      const next = last.nextElementSibling;\n      const originList = first.parentNode;\n      const sibling = originList.parentNode.nextElementSibling;\n      const parentNode = originList.parentNode.parentNode;\n\n      for (let c = 0, cLen = cells.length; c < cLen; c++) {\n        parentNode.insertBefore(cells[c], sibling);\n      }\n\n      if (next && originList.children.length > 0) {\n        const newList = originList.cloneNode(false);\n        const children = originList.childNodes;\n        const index = this.util.getPositionIndex(next);\n\n        while (children[index]) {\n          newList.appendChild(children[index]);\n        }\n\n        last.appendChild(newList);\n      }\n\n      if (originList.children.length === 0) this.util.removeItem(originList);\n      this.util.mergeSameTags(parentNode);\n      const edge = this.util.getEdgeChildNodes(first, last);\n      return {\n        cc: first.parentNode,\n        sc: edge.sc,\n        ec: edge.ec\n      };\n    },\n    editInsideList: function (remove, selectedCells) {\n      selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n        return this.isListCell(el);\n      }.bind(this.util)) : selectedCells;\n      const cellsLen = selectedCells.length;\n\n      if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n        return {\n          sc: selectedCells[0],\n          so: 0,\n          ec: selectedCells[cellsLen - 1],\n          eo: 1\n        };\n      }\n\n      let originList = selectedCells[0].parentNode;\n      let lastCell = selectedCells[cellsLen - 1];\n      let range = null;\n\n      if (remove) {\n        if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n          lastCell = lastCell.nextElementSibling;\n\n          while (lastCell) {\n            selectedCells.push(lastCell);\n            lastCell = lastCell.nextElementSibling;\n          }\n        }\n\n        range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n      } else {\n        let innerList = this.util.createElement(originList.nodeName);\n        let prev = selectedCells[0].previousElementSibling;\n        let next = lastCell.nextElementSibling;\n        const nodePath = {\n          s: null,\n          e: null,\n          sl: originList,\n          el: originList\n        };\n\n        for (let i = 0, len = cellsLen, c; i < len; i++) {\n          c = selectedCells[i];\n\n          if (c.parentNode !== originList) {\n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            originList = c.parentNode;\n            innerList = this.util.createElement(originList.nodeName);\n          }\n\n          prev = c.previousElementSibling;\n          next = c.nextElementSibling;\n          innerList.appendChild(c);\n        }\n\n        this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n        const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n        const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n        range = {\n          sc: sc,\n          so: 0,\n          ec: ec,\n          eo: ec.textContent.length\n        };\n      }\n\n      return range;\n    },\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n      let insertPrev = false;\n\n      if (prev && innerList.tagName === prev.tagName) {\n        const children = innerList.children;\n\n        while (children[0]) {\n          prev.appendChild(children[0]);\n        }\n\n        innerList = prev;\n        insertPrev = true;\n      }\n\n      if (next && innerList.tagName === next.tagName) {\n        const children = next.children;\n\n        while (children[0]) {\n          innerList.appendChild(children[0]);\n        }\n\n        const temp = next.nextElementSibling;\n        next.parentNode.removeChild(next);\n        next = temp;\n      }\n\n      if (!insertPrev) {\n        if (this.util.isListCell(prev)) {\n          originList = prev;\n          next = null;\n        }\n\n        originList.insertBefore(innerList, next);\n\n        if (!nodePath.s) {\n          nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n          nodePath.sl = originList;\n        }\n\n        const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n        nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n        nodePath.el = originList;\n        this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n        this.util.mergeNestedTags(originList);\n        if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n\n      return innerList;\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = '';\n\n      while (!command && !/^UL$/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const range = this.plugins.list.editList.call(this, command, null, false);\n      if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 21 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.paragraphStyle = {\n        _classList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n      context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const menuLang = this.lang.menu;\n      const defaultList = {\n        spaced: {\n          name: menuLang.spaced,\n          class: '__se__p-spaced',\n          _class: ''\n        },\n        bordered: {\n          name: menuLang.bordered,\n          class: '__se__p-bordered',\n          _class: ''\n        },\n        neon: {\n          name: menuLang.neon,\n          class: '__se__p-neon',\n          _class: ''\n        }\n      };\n      const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n        p = paragraphStyles[i];\n\n        if (typeof p === 'string') {\n          const defaultStyle = defaultList[p.toLowerCase()];\n          if (!defaultStyle) continue;\n          p = defaultStyle;\n        }\n\n        name = p.name;\n        attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n        _class = p._class;\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + '<div' + attrs + '>' + name + '</div>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const paragraphContext = this.context.paragraphStyle;\n      const paragraphList = paragraphContext._classList;\n      const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n      for (let i = 0, len = paragraphList.length; i < len; i++) {\n        if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n          this.util.addClass(paragraphList[i], 'active');\n        } else {\n          this.util.removeClass(paragraphList[i], 'active');\n        }\n      }\n    },\n    pickUp: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let value = null;\n\n      while (!/^UL$/i.test(target.tagName)) {\n        value = target.getAttribute('data-value');\n        if (value) break;\n        target = target.parentNode;\n      }\n\n      if (!value) return;\n      let selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        this.getRange_addLine(this.getRange(), null);\n        selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) return;\n      } // change format class\n\n\n      const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n      for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n        toggleClass(selectedFormsts[i], value);\n      }\n\n      this.submenuOff(); // history stack\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 22 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'table',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      let contextTable = context.table = {\n        _element: null,\n        _tdElement: null,\n        _trElement: null,\n        _trElements: null,\n        _tableXY: [],\n        _maxWidth: true,\n        _fixedColumn: false,\n        _rtl: context.options.rtl,\n        cellControllerTop: context.options.tableCellControllerPosition === 'top',\n        resizeText: null,\n        headerButton: null,\n        mergeButton: null,\n        splitButton: null,\n        splitMenu: null,\n        maxText: core.lang.controller.maxSize,\n        minText: core.lang.controller.minSize,\n        _physical_cellCnt: 0,\n        _logical_cellCnt: 0,\n        _rowCnt: 0,\n        _rowIndex: 0,\n        _physical_cellIndex: 0,\n        _logical_cellIndex: 0,\n        _current_colSpan: 0,\n        _current_rowSpan: 0,\n        icons: {\n          expansion: core.icons.expansion,\n          reduction: core.icons.reduction\n        }\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let tablePicker = listDiv.querySelector('.se-controller-table-picker');\n      contextTable.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\n      contextTable.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\n      contextTable.tableDisplay = listDiv.querySelector('.se-table-size-display');\n      if (context.options.rtl) contextTable.tableHighlight.style.left = 10 * 18 - 13 + 'px';\n      /** set table controller */\n\n      let tableController = this.setController_table.call(core);\n      contextTable.tableController = tableController;\n      contextTable.resizeButton = tableController.querySelector('._se_table_resize');\n      contextTable.resizeText = tableController.querySelector('._se_table_resize > span > span');\n      contextTable.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\n      contextTable.headerButton = tableController.querySelector('._se_table_header');\n      tableController.addEventListener('mousedown', core.eventStop);\n      /** set resizing */\n\n      let resizeDiv = this.setController_tableEditor.call(core, contextTable.cellControllerTop);\n      contextTable.resizeDiv = resizeDiv;\n      contextTable.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\n      contextTable.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\n      contextTable.splitButton = resizeDiv.querySelector('._se_table_split_button');\n      contextTable.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\n      contextTable.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\n      resizeDiv.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core, contextTable));\n      tablePicker.addEventListener('click', this.appendTable.bind(core));\n      resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\n      tableController.addEventListener('click', this.onClick_tableController.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** append controller */\n\n      context.element.relative.appendChild(resizeDiv);\n      context.element.relative.appendChild(tableController);\n      /** empty memory */\n\n      listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\n    },\n    setSubmenu: function () {\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-selector-table';\n      listDiv.innerHTML = '' + '<div class=\"se-table-size\">' + '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' + '<div class=\"se-table-size-highlighted\"></div>' + '<div class=\"se-table-size-unhighlighted\"></div>' + '</div>' + '<div class=\"se-table-size-display\">1 x 1</div>';\n      return listDiv;\n    },\n    setController_table: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table';\n      tableResize.innerHTML = '' + '<div>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' + icons.expansion + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' + icons.table_header + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    setController_tableEditor: function (cellControllerTop) {\n      const lang = this.lang;\n      const icons = this.icons;\n      const tableResize = this.util.createElement('DIV');\n      tableResize.className = 'se-controller se-controller-table-cell';\n      tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' + icons.delete_row + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' + icons.merge_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' + '</button>' + '</div>' + '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' + icons.insert_column_left + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' + icons.insert_column_right + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' + icons.delete_column + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' + icons.split_cell + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' + '</button>' + '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' + '<div class=\"se-list-inner\">' + '<ul class=\"se-list-basic\">' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + '</li>' + '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + '</li>' + '</ul>' + '</div>' + '</div>' + '</div>';\n      return tableResize;\n    },\n    appendTable: function () {\n      const oTable = this.util.createElement('TABLE');\n      const createCells = this.plugins.table.createCells;\n      const x = this.context.table._tableXY[0];\n      let y = this.context.table._tableXY[1];\n      let tableHTML = '<tbody>';\n\n      while (y > 0) {\n        tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\n        --y;\n      }\n\n      tableHTML += '</tbody>';\n      oTable.innerHTML = tableHTML;\n      const changed = this.insertComponent(oTable, false, true, false);\n\n      if (changed) {\n        const firstTd = oTable.querySelector('td div');\n        this.setRange(firstTd, 0, firstTd, 0);\n        this.plugins.table.reset_table_picker.call(this);\n      }\n    },\n    createCells: function (nodeName, cnt, returnElement) {\n      nodeName = nodeName.toLowerCase();\n\n      if (!returnElement) {\n        let cellsHTML = '';\n\n        while (cnt > 0) {\n          cellsHTML += '<' + nodeName + '><div><br></div></' + nodeName + '>';\n          cnt--;\n        }\n\n        return cellsHTML;\n      } else {\n        const cell = this.util.createElement(nodeName);\n        cell.innerHTML = '<div><br></div>';\n        return cell;\n      }\n    },\n    onMouseMove_tablePicker: function (contextTable, e) {\n      e.stopPropagation();\n\n      let x = this._w.Math.ceil(e.offsetX / 18);\n\n      let y = this._w.Math.ceil(e.offsetY / 18);\n\n      x = x < 1 ? 1 : x;\n      y = y < 1 ? 1 : y;\n\n      if (contextTable._rtl) {\n        contextTable.tableHighlight.style.left = x * 18 - 13 + 'px';\n        x = 11 - x;\n      }\n\n      contextTable.tableHighlight.style.width = x + 'em';\n      contextTable.tableHighlight.style.height = y + 'em'; // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n      // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n      // contextTable.tableUnHighlight.style.width = x_u + 'em';\n      // contextTable.tableUnHighlight.style.height = y_u + 'em';\n\n      this.util.changeTxt(contextTable.tableDisplay, x + ' x ' + y);\n      contextTable._tableXY = [x, y];\n    },\n    reset_table_picker: function () {\n      if (!this.context.table.tableHighlight) return;\n      const highlight = this.context.table.tableHighlight.style;\n      const unHighlight = this.context.table.tableUnHighlight.style;\n      highlight.width = '1em';\n      highlight.height = '1em';\n      unHighlight.width = '10em';\n      unHighlight.height = '10em';\n      this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\n      this.submenuOff();\n    },\n    init: function () {\n      const contextTable = this.context.table;\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      if (tablePlugin._selectedTable) {\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\n          this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n        }\n      }\n\n      tablePlugin._toggleEditor.call(this, true);\n\n      contextTable._element = null;\n      contextTable._tdElement = null;\n      contextTable._trElement = null;\n      contextTable._trElements = null;\n      contextTable._tableXY = [];\n      contextTable._maxWidth = true;\n      contextTable._fixedColumn = false;\n      contextTable._physical_cellCnt = 0;\n      contextTable._logical_cellCnt = 0;\n      contextTable._rowCnt = 0;\n      contextTable._rowIndex = 0;\n      contextTable._physical_cellIndex = 0;\n      contextTable._logical_cellIndex = 0;\n      contextTable._current_colSpan = 0;\n      contextTable._current_rowSpan = 0;\n      tablePlugin._shift = false;\n      tablePlugin._selectedCells = null;\n      tablePlugin._selectedTable = null;\n      tablePlugin._ref = null;\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    },\n\n    /** table edit controller */\n    call_controller_tableEdit: function (tdElement) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n\n      if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n        this.controllersOff();\n        this.util.removeClass(tdElement, 'se-table-selected-cell');\n        return;\n      }\n\n      const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n      contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || !tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto');\n      contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\n      tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\n      tablePlugin.setPositionControllerTop.call(this, tableElement);\n      tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n      if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\n    },\n    setPositionControllerTop: function (tableElement) {\n      this.setControllerPosition(this.context.table.tableController, tableElement, 'top', {\n        left: 0,\n        top: 0\n      });\n    },\n    setPositionControllerDiv: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const resizeDiv = contextTable.resizeDiv;\n      this.plugins.table.setCellInfo.call(this, tdElement, reset);\n\n      if (contextTable.cellControllerTop) {\n        this.setControllerPosition(resizeDiv, contextTable._element, 'top', {\n          left: contextTable.tableController.offsetWidth,\n          top: 0\n        });\n      } else {\n        this.setControllerPosition(resizeDiv, tdElement, 'bottom', {\n          left: 0,\n          top: 0\n        });\n      }\n    },\n    setCellInfo: function (tdElement, reset) {\n      const contextTable = this.context.table;\n      const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\n\n      if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n        this.util.addClass(contextTable.headerButton, 'active');\n      } else {\n        this.util.removeClass(contextTable.headerButton, 'active');\n      }\n\n      if (reset || contextTable._physical_cellCnt === 0) {\n        if (contextTable._tdElement !== tdElement) {\n          contextTable._tdElement = tdElement;\n          contextTable._trElement = tdElement.parentNode;\n        }\n\n        const rows = contextTable._trElements = table.rows;\n        const cellIndex = tdElement.cellIndex;\n        let cellCnt = 0;\n\n        for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n          cellCnt += cells[i].colSpan;\n        } // row cnt, row index\n\n\n        const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n        contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n        contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n        contextTable._logical_cellCnt = cellCnt;\n        contextTable._physical_cellIndex = cellIndex; // span\n\n        contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n        contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n        let rowSpanArr = [];\n        let spanIndex = [];\n\n        for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            } // logcal cell index\n\n\n            if (i === rowIndex && c === cellIndex) {\n              contextTable._logical_cellIndex = logcalIndex;\n              break;\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        rowSpanArr = null;\n        spanIndex = null;\n      }\n    },\n    editTable: function (type, option) {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const table = contextTable._element;\n      const isRow = type === 'row';\n\n      if (isRow) {\n        const tableAttr = contextTable._trElement.parentNode;\n\n        if (/^THEAD$/i.test(tableAttr.nodeName)) {\n          if (option === 'up') {\n            return;\n          } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n            table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\n            return;\n          }\n        }\n      } // multi\n\n\n      if (tablePlugin._ref) {\n        const positionCell = contextTable._tdElement;\n        const selectedCells = tablePlugin._selectedCells; // multi - row\n\n        if (isRow) {\n          // remove row\n          if (!option) {\n            let row = selectedCells[0].parentNode;\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (row !== cell.parentNode) {\n                removeCells.push(cell);\n                row = cell.parentNode;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editRow.call(this, option);\n            }\n          } else {\n            // edit row\n            tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n            tablePlugin.editRow.call(this, option, positionCell);\n          }\n        } else {\n          // multi - cell\n          const firstRow = selectedCells[0].parentNode; // remove cell\n\n          if (!option) {\n            const removeCells = [selectedCells[0]];\n\n            for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\n              cell = selectedCells[i];\n\n              if (firstRow === cell.parentNode) {\n                removeCells.push(cell);\n              } else {\n                break;\n              }\n            }\n\n            for (let i = 0, len = removeCells.length; i < len; i++) {\n              tablePlugin.setCellInfo.call(this, removeCells[i], true);\n              tablePlugin.editCell.call(this, option);\n            }\n          } else {\n            // edit cell\n            let rightCell = null;\n\n            for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\n              if (firstRow !== selectedCells[i + 1].parentNode) {\n                rightCell = selectedCells[i];\n                break;\n              }\n            }\n\n            tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\n            tablePlugin.editCell.call(this, option, positionCell);\n          }\n        }\n\n        if (!option) tablePlugin.init.call(this);\n      } // one\n      else {\n          tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\n        } // after remove\n\n\n      if (!option) {\n        const children = table.children;\n\n        for (let i = 0; i < children.length; i++) {\n          if (children[i].children.length === 0) {\n            this.util.removeItem(children[i]);\n            i--;\n          }\n        }\n\n        if (table.children.length === 0) this.util.removeItem(table);\n      }\n    },\n    editRow: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const remove = !option;\n      const up = option === 'up';\n      const originRowIndex = contextTable._rowIndex;\n      const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n      const sign = remove ? -1 : 1;\n      const rows = contextTable._trElements;\n      let cellCnt = contextTable._logical_cellCnt;\n\n      for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n        cell = rows[i].cells;\n        if (cell.length === 0) return;\n\n        for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n          rs = cell[c].rowSpan;\n          cs = cell[c].colSpan;\n          if (rs < 2 && cs < 2) continue;\n\n          if (rs + i > rowIndex && rowIndex > i) {\n            cell[c].rowSpan = rs + sign;\n            cellCnt -= cs;\n          }\n        }\n      }\n\n      if (remove) {\n        const next = rows[originRowIndex + 1];\n\n        if (next) {\n          const spanCells = [];\n          let cells = rows[originRowIndex].cells;\n          let colSpan = 0;\n\n          for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n            cell = cells[i];\n            logcalIndex = i + colSpan;\n            colSpan += cell.colSpan - 1;\n\n            if (cell.rowSpan > 1) {\n              cell.rowSpan -= 1;\n              spanCells.push({\n                cell: cell.cloneNode(false),\n                index: logcalIndex\n              });\n            }\n          }\n\n          if (spanCells.length > 0) {\n            let spanCell = spanCells.shift();\n            cells = next.cells;\n            colSpan = 0;\n\n            for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\n              cell = cells[i];\n              logcalIndex = i + colSpan;\n              colSpan += cell.colSpan - 1;\n\n              if (logcalIndex >= spanCell.index) {\n                i--, colSpan--;\n                colSpan += spanCell.cell.colSpan - 1;\n                next.insertBefore(spanCell.cell, cell);\n                spanCell = spanCells.shift();\n                if (!spanCell) break;\n              }\n            }\n\n            if (spanCell) {\n              next.appendChild(spanCell.cell);\n\n              for (let i = 0, len = spanCells.length; i < len; i++) {\n                next.appendChild(spanCells[i].cell);\n              }\n            }\n          }\n        }\n\n        contextTable._element.deleteRow(rowIndex);\n      } else {\n        const newRow = contextTable._element.insertRow(rowIndex);\n\n        newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\n      }\n\n      if (!remove) {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      } else {\n        this.controllersOff();\n      }\n    },\n    editCell: function (option, positionResetElement) {\n      const contextTable = this.context.table;\n      const util = this.util;\n      const remove = !option;\n      const left = option === 'left';\n      const colSpan = contextTable._current_colSpan;\n      const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n      const rows = contextTable._trElements;\n      let rowSpanArr = [];\n      let spanIndex = [];\n      let passCell = 0;\n      const removeCell = [];\n      const removeSpanArr = [];\n\n      for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n        row = rows[i];\n        insertIndex = cellIndex;\n        applySpan = false;\n        cells = row.cells;\n        cellColSpan = 0;\n\n        for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n          cell = cells[c];\n          if (!cell) break;\n          rs = cell.rowSpan - 1;\n          cs = cell.colSpan - 1;\n\n          if (!remove) {\n            if (c >= insertIndex) break;\n\n            if (cs > 0) {\n              if (passCell < 1 && cs + c >= insertIndex) {\n                cell.colSpan += 1;\n                insertIndex = null;\n                passCell = rs + 1;\n                break;\n              }\n\n              insertIndex -= cs;\n            }\n\n            if (!applySpan) {\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                insertIndex -= arr.cs;\n                arr.rs -= 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n\n              applySpan = true;\n            }\n          } else {\n            removeIndex = c + cellColSpan;\n\n            if (spanIndex.length > 0) {\n              const lastCell = !cells[c + 1];\n\n              for (let r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n                if (arr.row > i) continue;\n\n                if (removeIndex >= arr.index) {\n                  cellColSpan += arr.cs;\n                  removeIndex = c + cellColSpan;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (lastCell) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (rs > 0) {\n              rowSpanArr.push({\n                rs: rs,\n                cs: cs + 1,\n                index: removeIndex,\n                row: -1\n              });\n            }\n\n            if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n              removeCell.push(cell);\n            } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n              cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n            } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n              removeSpanArr.push({\n                cell: cell,\n                i: i,\n                rs: i + rs\n              });\n            }\n\n            cellColSpan += cs;\n          }\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n\n        if (!remove) {\n          if (passCell > 0) {\n            passCell -= 1;\n            continue;\n          }\n\n          if (insertIndex !== null && cells.length > 0) {\n            newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n            newCell = row.insertBefore(newCell, cells[insertIndex]);\n          }\n        }\n      }\n\n      if (remove) {\n        let removeFirst, removeEnd;\n\n        for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\n          row = removeCell[r].parentNode;\n          util.removeItem(removeCell[r]);\n\n          if (row.cells.length === 0) {\n            if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\n            removeEnd = util.getArrayIndex(rows, row);\n            util.removeItem(row);\n          }\n        }\n\n        for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\n          rowSpanCell = removeSpanArr[c];\n          rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n        }\n\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n      }\n    },\n    _closeSplitMenu: null,\n    openSplitMenu: function () {\n      this.util.addClass(this.context.table.splitButton, 'on');\n      this.context.table.splitMenu.style.display = 'inline-table';\n\n      this.plugins.table._closeSplitMenu = function () {\n        this.util.removeClass(this.context.table.splitButton, 'on');\n        this.context.table.splitMenu.style.display = 'none';\n        this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n        this.plugins.table._closeSplitMenu = null;\n      }.bind(this);\n\n      this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\n    },\n    splitCells: function (direction) {\n      const util = this.util;\n      const vertical = direction === 'vertical';\n      const contextTable = this.context.table;\n      const currentCell = contextTable._tdElement;\n      const rows = contextTable._trElements;\n      const currentRow = contextTable._trElement;\n      const index = contextTable._logical_cellIndex;\n      const rowIndex = contextTable._rowIndex;\n      const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n      if (vertical) {\n        const currentColSpan = currentCell.colSpan;\n        newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n        if (currentColSpan > 1) {\n          newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n          currentCell.colSpan = currentColSpan - newCell.colSpan;\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        } else {\n          // colspan - 1\n          let rowSpanArr = [];\n          let spanIndex = [];\n\n          for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n              cell = cells[c];\n              cs = cell.colSpan - 1;\n              rs = cell.rowSpan - 1;\n              logcalIndex = c + colSpan;\n\n              if (spanIndex.length > 0) {\n                for (let r = 0, arr; r < spanIndex.length; r++) {\n                  arr = spanIndex[r];\n                  if (arr.row > i) continue;\n\n                  if (logcalIndex >= arr.index) {\n                    colSpan += arr.cs;\n                    logcalIndex += arr.cs;\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  } else if (c === cLen - 1) {\n                    arr.rs -= 1;\n                    arr.row = i + 1;\n\n                    if (arr.rs < 1) {\n                      spanIndex.splice(r, 1);\n                      r--;\n                    }\n                  }\n                }\n              }\n\n              if (logcalIndex <= index && rs > 0) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cs + 1,\n                  rs: rs,\n                  row: -1\n                });\n              }\n\n              if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n                cell.colSpan += 1;\n                break;\n              }\n\n              if (logcalIndex > index) break;\n              colSpan += cs;\n            }\n\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n              return a.index - b.index;\n            });\n            rowSpanArr = [];\n          }\n\n          currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n        }\n      } else {\n        // horizontal\n        const currentRowSpan = currentCell.rowSpan;\n        newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n        if (currentRowSpan > 1) {\n          newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n          const newRowSpan = currentRowSpan - newCell.rowSpan;\n          const rowSpanArr = [];\n          const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n          for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\n            cells = rows[i].cells;\n            colSpan = 0;\n\n            for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\n              logcalIndex = c + colSpan;\n              if (logcalIndex >= index) break;\n              cell = cells[c];\n              cs = cell.rowSpan - 1;\n\n              if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\n                rowSpanArr.push({\n                  index: logcalIndex,\n                  cs: cell.colSpan\n                });\n              }\n\n              colSpan += cell.colSpan - 1;\n            }\n          }\n\n          const nextRow = rows[nextRowIndex];\n          const nextCells = nextRow.cells;\n          let rs = rowSpanArr.shift();\n\n          for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\n            logcalIndex = c + colSpan;\n            cell = nextCells[c];\n            cs = cell.colSpan - 1;\n            insertIndex = logcalIndex + cs + 1;\n\n            if (rs && insertIndex >= rs.index) {\n              colSpan += rs.cs;\n              insertIndex += rs.cs;\n              rs = rowSpanArr.shift();\n            }\n\n            if (insertIndex >= index || c === cLen - 1) {\n              nextRow.insertBefore(newCell, cell.nextElementSibling);\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          currentCell.rowSpan = newRowSpan;\n        } else {\n          // rowspan - 1\n          newCell.rowSpan = currentCell.rowSpan;\n          const newRow = util.createElement('TR');\n          newRow.appendChild(newCell);\n\n          for (let i = 0, cells; i < rowIndex; i++) {\n            cells = rows[i].cells;\n            if (cells.length === 0) return;\n\n            for (let c = 0, cLen = cells.length; c < cLen; c++) {\n              if (i + cells[c].rowSpan - 1 >= rowIndex) {\n                cells[c].rowSpan += 1;\n              }\n            }\n          }\n\n          const physicalIndex = contextTable._physical_cellIndex;\n          const cells = currentRow.cells;\n\n          for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            if (c === physicalIndex) continue;\n            cells[c].rowSpan += 1;\n          }\n\n          currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n        }\n      }\n\n      this.focusEdge(currentCell);\n      this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n    },\n    mergeCells: function () {\n      const tablePlugin = this.plugins.table;\n      const contextTable = this.context.table;\n      const util = this.util;\n      const ref = tablePlugin._ref;\n      const selectedCells = tablePlugin._selectedCells;\n      const mergeCell = selectedCells[0];\n      let emptyRowFirst = null;\n      let emptyRowLast = null;\n      let cs = ref.ce - ref.cs + 1;\n      let rs = ref.re - ref.rs + 1;\n      let mergeHTML = '';\n      let row = null;\n\n      for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n        cell = selectedCells[i];\n        if (row !== cell.parentNode) row = cell.parentNode;\n        ch = cell.children;\n\n        for (let c = 0, cLen = ch.length; c < cLen; c++) {\n          if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n            util.removeItem(ch[c]);\n          }\n        }\n\n        mergeHTML += cell.innerHTML;\n        util.removeItem(cell);\n\n        if (row.cells.length === 0) {\n          if (!emptyRowFirst) emptyRowFirst = row;else emptyRowLast = row;\n          rs -= 1;\n        }\n      }\n\n      if (emptyRowFirst) {\n        const rows = contextTable._trElements;\n        const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n        const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n        const removeRows = [];\n\n        for (let i = 0, cells; i <= rowIndexLast; i++) {\n          cells = rows[i].cells;\n\n          if (cells.length === 0) {\n            removeRows.push(rows[i]);\n            continue;\n          }\n\n          for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\n            cell = cells[c];\n            rs = cell.rowSpan - 1;\n\n            if (rs > 0 && i + rs >= rowIndexFirst) {\n              cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\n            }\n          }\n        }\n\n        for (let i = 0, len = removeRows.length; i < len; i++) {\n          util.removeItem(removeRows[i]);\n        }\n      }\n\n      mergeCell.innerHTML += mergeHTML;\n      mergeCell.colSpan = cs;\n      mergeCell.rowSpan = rs;\n      this.controllersOff();\n      tablePlugin.setActiveButton.call(this, true, false);\n      tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n      util.addClass(mergeCell, 'se-table-selected-cell');\n      this.focusEdge(mergeCell);\n    },\n    toggleHeader: function () {\n      const util = this.util;\n      const headerButton = this.context.table.headerButton;\n      const active = util.hasClass(headerButton, 'active');\n      const table = this.context.table._element;\n\n      if (!active) {\n        const header = util.createElement('THEAD');\n        header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\n        table.insertBefore(header, table.firstElementChild);\n      } else {\n        util.removeItem(table.querySelector('thead'));\n      }\n\n      util.toggleClass(headerButton, 'active');\n\n      if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n        this.controllersOff();\n      } else {\n        this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n      }\n    },\n    setTableStyle: function (styles) {\n      const contextTable = this.context.table;\n      const tableElement = contextTable._element;\n      let icon, span, sizeIcon, text;\n\n      if (styles.indexOf('width') > -1) {\n        icon = contextTable.resizeButton.firstElementChild;\n        span = contextTable.resizeText;\n\n        if (!contextTable._maxWidth) {\n          sizeIcon = contextTable.icons.expansion;\n          text = contextTable.maxText;\n          contextTable.columnFixedButton.style.display = 'none';\n          this.util.removeClass(tableElement, 'se-table-size-100');\n          this.util.addClass(tableElement, 'se-table-size-auto');\n        } else {\n          sizeIcon = contextTable.icons.reduction;\n          text = contextTable.minText;\n          contextTable.columnFixedButton.style.display = 'block';\n          this.util.removeClass(tableElement, 'se-table-size-auto');\n          this.util.addClass(tableElement, 'se-table-size-100');\n        }\n\n        this.util.changeElement(icon, sizeIcon);\n        this.util.changeTxt(span, text);\n      }\n\n      if (styles.indexOf('column') > -1) {\n        if (!contextTable._fixedColumn) {\n          this.util.removeClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(tableElement, 'se-table-layout-auto');\n          this.util.removeClass(contextTable.columnFixedButton, 'active');\n        } else {\n          this.util.removeClass(tableElement, 'se-table-layout-auto');\n          this.util.addClass(tableElement, 'se-table-layout-fixed');\n          this.util.addClass(contextTable.columnFixedButton, 'active');\n        }\n      }\n    },\n    setActiveButton: function (fixedCell, selectedCell) {\n      const contextTable = this.context.table;\n\n      if (/^TH$/i.test(fixedCell.nodeName)) {\n        contextTable.insertRowAboveButton.setAttribute('disabled', true);\n        contextTable.insertRowBelowButton.setAttribute('disabled', true);\n      } else {\n        contextTable.insertRowAboveButton.removeAttribute('disabled');\n        contextTable.insertRowBelowButton.removeAttribute('disabled');\n      }\n\n      if (!selectedCell || fixedCell === selectedCell) {\n        contextTable.splitButton.removeAttribute('disabled');\n        contextTable.mergeButton.setAttribute('disabled', true);\n      } else {\n        contextTable.splitButton.setAttribute('disabled', true);\n        contextTable.mergeButton.removeAttribute('disabled');\n      }\n    },\n    // multi selecte\n    _bindOnSelect: null,\n    _bindOffSelect: null,\n    _bindOffShift: null,\n    _selectedCells: null,\n    _shift: false,\n    _fixedCell: null,\n    _fixedCellName: null,\n    _selectedCell: null,\n    _selectedTable: null,\n    _ref: null,\n    _toggleEditor: function (enabled) {\n      this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\n      if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\n    },\n    _offCellMultiSelect: function (e) {\n      e.stopPropagation();\n      const tablePlugin = this.plugins.table;\n\n      if (!tablePlugin._shift) {\n        tablePlugin._removeEvents.call(this);\n\n        tablePlugin._toggleEditor.call(this, true);\n      } else if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\n      tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n      tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n      tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n      if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\n\n      if (!tablePlugin._shift) {\n        tablePlugin._fixedCell = null;\n        tablePlugin._selectedCell = null;\n        tablePlugin._fixedCellName = null;\n      }\n    },\n    _onCellMultiSelect: function (e) {\n      this._antiBlur = true;\n      const tablePlugin = this.plugins.table;\n      const target = this.util.getParentElement(e.target, this.util.isCell);\n\n      if (tablePlugin._shift) {\n        if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);else tablePlugin._toggleEditor.call(this, false);\n      } else if (!tablePlugin._ref) {\n        if (target === tablePlugin._fixedCell) return;else tablePlugin._toggleEditor.call(this, false);\n      }\n\n      if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\n        return;\n      }\n\n      tablePlugin._selectedCell = target;\n\n      tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n    },\n    _setMultiCells: function (startCell, endCell) {\n      const tablePlugin = this.plugins.table;\n      const rows = tablePlugin._selectedTable.rows;\n      const util = this.util;\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      if (startCell === endCell) {\n        util.addClass(startCell, 'se-table-selected-cell');\n        if (!tablePlugin._shift) return;\n      }\n\n      let findSelectedCell = true;\n      let spanIndex = [];\n      let rowSpanArr = [];\n      const ref = tablePlugin._ref = {\n        _i: 0,\n        cs: null,\n        ce: null,\n        rs: null,\n        re: null\n      };\n\n      for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\n        cells = rows[i].cells;\n        colSpan = 0;\n\n        for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n          cell = cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (let r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              if (arr.row > i) continue;\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          }\n\n          if (findSelectedCell) {\n            if (cell === startCell || cell === endCell) {\n              ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n              ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n              ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\n              ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\n              ref._i += 1;\n            }\n\n            if (ref._i === 2) {\n              findSelectedCell = false;\n              spanIndex = [];\n              rowSpanArr = [];\n              i = -1;\n              break;\n            }\n          } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\n            const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            const newRs = ref.rs < i ? ref.rs : i;\n            const newRe = ref.re > i + rs ? ref.re : i + rs;\n\n            if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n              ref.cs = newCs;\n              ref.ce = newCe;\n              ref.rs = newRs;\n              ref.re = newRe;\n              i = -1;\n              spanIndex = [];\n              rowSpanArr = [];\n              break;\n            }\n\n            util.addClass(cell, 'se-table-selected-cell');\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cell.colSpan - 1;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n    },\n    _removeEvents: function () {\n      const tablePlugin = this.plugins.table;\n\n      if (tablePlugin._initBind) {\n        this._wd.removeEventListener('touchmove', tablePlugin._initBind);\n\n        tablePlugin._initBind = null;\n      }\n\n      if (tablePlugin._bindOnSelect) {\n        this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\n\n        this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\n\n        tablePlugin._bindOnSelect = null;\n      }\n\n      if (tablePlugin._bindOffSelect) {\n        this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\n\n        tablePlugin._bindOffSelect = null;\n      }\n\n      if (tablePlugin._bindOffShift) {\n        this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\n\n        tablePlugin._bindOffShift = null;\n      }\n    },\n    _initBind: null,\n    onTableCellMultiSelect: function (tdElement, shift) {\n      const tablePlugin = this.plugins.table;\n\n      tablePlugin._removeEvents.call(this);\n\n      this.controllersOff();\n      tablePlugin._shift = shift;\n      tablePlugin._fixedCell = tdElement;\n      tablePlugin._fixedCellName = tdElement.nodeName;\n      tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\n\n      const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\n\n      for (let i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\n      }\n\n      this.util.addClass(tdElement, 'se-table-selected-cell');\n      tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n      tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n      if (!shift) {\n        this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\n      } else {\n        tablePlugin._bindOffShift = function () {\n          this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\n          if (!tablePlugin._ref) this.controllersOff();\n        }.bind(this);\n\n        this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\n\n        this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\n      }\n\n      this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\n\n      tablePlugin._initBind = tablePlugin.init.bind(this);\n\n      this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\n    },\n    onClick_tableController: function (e) {\n      e.stopPropagation();\n      const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\n      if (target.getAttribute('disabled')) return;\n      const command = target.getAttribute('data-command');\n      const value = target.getAttribute('data-value');\n      const option = target.getAttribute('data-option');\n      const tablePlugin = this.plugins.table;\n\n      if (typeof tablePlugin._closeSplitMenu === 'function') {\n        tablePlugin._closeSplitMenu();\n\n        if (command === 'onsplit') return;\n      }\n\n      if (!command) return;\n      e.preventDefault();\n      const contextTable = this.context.table;\n\n      switch (command) {\n        case 'insert':\n        case 'delete':\n          tablePlugin.editTable.call(this, value, option);\n          break;\n\n        case 'header':\n          tablePlugin.toggleHeader.call(this);\n          break;\n\n        case 'onsplit':\n          tablePlugin.openSplitMenu.call(this);\n          break;\n\n        case 'split':\n          tablePlugin.splitCells.call(this, value);\n          break;\n\n        case 'merge':\n          tablePlugin.mergeCells.call(this);\n          break;\n\n        case 'resize':\n          contextTable._maxWidth = !contextTable._maxWidth;\n          tablePlugin.setTableStyle.call(this, 'width');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'layout':\n          contextTable._fixedColumn = !contextTable._fixedColumn;\n          tablePlugin.setTableStyle.call(this, 'column');\n          tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n          tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n          break;\n\n        case 'remove':\n          const emptyDiv = contextTable._element.parentNode;\n          this.util.removeItem(contextTable._element);\n          this.controllersOff();\n          if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n          this.focus();\n      } // history stack\n\n\n      this.history.push(false);\n    }\n  };\n  /***/\n},\n/* 23 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.template = {};\n      /** set submenu */\n\n      let templateDiv = this.setSubmenu.call(core);\n      /** add event listeners */\n\n      templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, templateDiv);\n      /** empty memory */\n\n      templateDiv = null;\n    },\n    setSubmenu: function () {\n      const templateList = this.context.option.templates;\n\n      if (!templateList || templateList.length === 0) {\n        throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n      }\n\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-list-layer';\n      let list = '<div class=\"se-submenu se-list-inner\">' + '<ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = templateList.length, t; i < len; i++) {\n        t = templateList[i];\n        list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n    pickup: function (e) {\n      if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n      e.preventDefault();\n      e.stopPropagation();\n      const temp = this.context.option.templates[e.target.getAttribute('data-value')];\n\n      if (temp.html) {\n        this.setContents(temp.html);\n      } else {\n        this.submenuOff();\n        throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n      }\n\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 24 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n      const context = core.context;\n      context.textStyle = {\n        _styleList: null\n      };\n      /** set submenu */\n\n      let listDiv = this.setSubmenu.call(core);\n      let listUl = listDiv.querySelector('ul');\n      /** add event listeners */\n\n      listUl.addEventListener('click', this.pickup.bind(core));\n      context.textStyle._styleList = listDiv.querySelectorAll('li button');\n      /** append target button menu */\n\n      core.initMenuTarget(this.name, targetElement, listDiv);\n      /** empty memory */\n\n      listDiv = null, listUl = null;\n    },\n    setSubmenu: function () {\n      const option = this.context.option;\n      const listDiv = this.util.createElement('DIV');\n      listDiv.className = 'se-submenu se-list-layer se-list-format';\n      const defaultList = {\n        code: {\n          name: this.lang.menu.code,\n          class: '__se__t-code',\n          tag: 'code'\n        },\n        translucent: {\n          name: this.lang.menu.translucent,\n          style: 'opacity: 0.5;',\n          tag: 'span'\n        },\n        shadow: {\n          name: this.lang.menu.shadow,\n          class: '__se__t-shadow',\n          tag: 'span'\n        }\n      };\n      const styleList = !option.textStyles ? this._w.Object.keys(defaultList) : option.textStyles;\n      let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n\n      for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n        t = styleList[i];\n        attrs = '', value = '', command = [];\n\n        if (typeof t === 'string') {\n          const defaultStyle = defaultList[t.toLowerCase()];\n          if (!defaultStyle) continue;\n          t = defaultStyle;\n        }\n\n        name = t.name;\n        tag = t.tag || 'span';\n        _class = t._class;\n\n        if (t.style) {\n          attrs += ' style=\"' + t.style + '\"';\n          value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n          command.push('style');\n        }\n\n        if (t.class) {\n          attrs += ' class=\"' + t.class + '\"';\n          value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n          command.push('class');\n        }\n\n        value = value.replace(/,$/, '');\n        list += '<li>' + '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class : '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + '<' + tag + attrs + '>' + name + '</' + tag + '>' + '</button></li>';\n      }\n\n      list += '</ul></div>';\n      listDiv.innerHTML = list;\n      return listDiv;\n    },\n\n    /**\n    * @Override submenu\n    */\n    on: function () {\n      const util = this.util;\n      const textStyleContext = this.context.textStyle;\n      const styleButtonList = textStyleContext._styleList;\n      const selectionNode = this.getSelectionNode();\n\n      for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n        btn = styleButtonList[i];\n        data = btn.getAttribute('data-value').split(',');\n\n        for (let v = 0, node, value; v < data.length; v++) {\n          node = selectionNode;\n          active = false;\n\n          while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n            if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n              value = data[v];\n\n              if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                active = true;\n                break;\n              }\n            }\n\n            node = node.parentNode;\n          }\n\n          if (!active) break;\n        }\n\n        active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n      }\n    },\n    pickup: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      let target = e.target;\n      let command = null,\n          tag = null;\n\n      while (!command && !/UL/i.test(target.tagName)) {\n        command = target.getAttribute('data-command');\n\n        if (command) {\n          tag = target.firstChild;\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) return;\n      const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n      checkStyles.pop();\n      const classes = tag.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        checkStyles.push('.' + classes[i]);\n      }\n\n      const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n      const removeNodes = newNode ? null : [tag.nodeName];\n      this.nodeChange(newNode, checkStyles, removeNodes, true);\n      this.submenuOff();\n    }\n  };\n  /***/\n},\n/* 25 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n      const context = core.context;\n      const contextImage = context.image = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        sizeUnit: context.option._imageSizeUnit,\n        _altText: '',\n        _linkElement: null,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _v_link: {\n          _linkValue: ''\n        },\n        _v_src: {\n          _linkValue: ''\n        },\n        svgDefaultSize: '30%',\n        base64RenderIndex: 0,\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: 'auto',\n        _defaultSizeY: 'auto',\n        _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n        _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n        _proportionChecked: true,\n        _resizing: context.option.imageResizing,\n        _resizeDotHide: !context.option.imageHeightShow,\n        _rotation: context.option.imageRotation,\n        _onlyPercentage: context.option.imageSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: true,\n        _captionChecked: false,\n        _caption: null,\n        captionCheckEl: null\n      };\n      /** image dialog */\n\n      let image_dialog = this.setDialog.call(core);\n      contextImage.modal = image_dialog;\n      contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n      contextImage.imgUrlFile = image_dialog.querySelector('._se_image_url');\n      contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n      contextImage.altText = image_dialog.querySelector('._se_image_alt');\n      contextImage.imgLink = image_dialog.querySelector('._se_image_link');\n      contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\n      contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n      contextImage.previewLink = image_dialog.querySelector('._se_tab_content_url .se-link-preview');\n      contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\n      /** add event listeners */\n\n      image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n      image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n      contextImage.imgLink.addEventListener('input', this._onLinkPreview.bind(contextImage.previewLink, contextImage._v_link, context.options.linkProtocol));\n      if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, context.options.linkProtocol));\n      const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\n      if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\n      contextImage.proportion = {};\n      contextImage.inputX = {};\n      contextImage.inputY = {};\n\n      if (context.option.imageResizing) {\n        contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n        contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n        contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n        contextImage.inputX.value = context.option.imageWidth;\n        contextImage.inputY.value = context.option.imageHeight;\n        contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n        image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(image_dialog);\n      /** empty memory */\n\n      image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-tabs\">' + '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' + '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' + '</div>' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_se_tab_content _se_tab_content_image\">' + '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n      if (option.imageFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.imageUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.url + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form se-input-url _se_image_url\" type=\"text\" />' + (option.imageGalleryUrl && this.plugins.imageGallery ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + this.icons.image_gallery + '</button>' : '') + '</div>' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' + '</div>';\n\n      if (option.imageResizing) {\n        const onlyPercentage = option.imageSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n        html += '<div class=\"se-dialog-form\">';\n\n        if (onlyPercentage || !option.imageHeightShow) {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' + '</div>';\n        } else {\n          html += '' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' + '</div>';\n        }\n\n        html += '' + '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' + '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>';\n      }\n\n      html += '' + '<div class=\"se-dialog-form se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' + '</div>' + '</div>' + '</div>' + '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form se-input-url _se_image_link\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>' + '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.imgInputFile.value) {\n        this.imgUrlFile.removeAttribute('disabled');\n        this.previewSrc.style.textDecoration = '';\n      } else {\n        this.imgUrlFile.setAttribute('disabled', true);\n        this.previewSrc.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, previewSrc) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        previewSrc.style.textDecoration = '';\n      }\n    },\n    _openGallery: function () {\n      this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n    },\n    _setUrlInput: function (target) {\n      this.altText.value = target.alt;\n      this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n      this.imgUrlFile.focus();\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['img'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n      const imageEl = element || this.context.image._element;\n      const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n      const dataIndex = imageEl.getAttribute('data-index') * 1;\n      let focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n      const emptyDiv = imageContainer.parentNode;\n      this.util.removeItem(imageContainer);\n      this.plugins.image.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextImage = this.context.image;\n\n      if (!update) {\n        contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\n      }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n    openTab: function (e) {\n      const modal = this.context.image.modal;\n      const targetElement = e === 'init' ? modal.querySelector('._se_tab_link') : e.target;\n\n      if (!/^BUTTON$/i.test(targetElement.tagName)) {\n        return false;\n      } // Declare all variables\n\n\n      const tabName = targetElement.getAttribute('data-tab-link');\n      const contentClassName = '_se_tab_content';\n      let i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n      tabContent = modal.getElementsByClassName(contentClassName);\n\n      for (i = 0; i < tabContent.length; i++) {\n        tabContent[i].style.display = 'none';\n      } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n      tabLinks = modal.getElementsByClassName('_se_tab_link');\n\n      for (i = 0; i < tabLinks.length; i++) {\n        this.util.removeClass(tabLinks[i], 'active');\n      } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n      modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n      this.util.addClass(targetElement, 'active'); // focus\n\n      if (tabName === 'image' && this.context.image.focusElement) {\n        this.context.image.focusElement.focus();\n      } else if (tabName === 'url' && this.context.image.imgLink) {\n        this.context.image.imgLink.focus();\n      }\n\n      return false;\n    },\n    submit: function (e) {\n      const contextImage = this.context.image;\n      const imagePlugin = this.plugins.image;\n      e.preventDefault();\n      e.stopPropagation();\n      contextImage._altText = contextImage.altText.value;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked;\n      if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n      try {\n        if (this.context.dialog.updateModal) {\n          imagePlugin.update_image.call(this, false, true, false);\n        }\n\n        if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n          this.showLoading();\n          imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n        } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n          this.showLoading();\n          imagePlugin.onRender_imgUrl.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/image/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.imageUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const imagesInfo = this.context.image._infoList;\n\n        for (let i = 0, len = imagesInfo.length; i < len; i++) {\n          infoSize += imagesInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextImage = this.context.image;\n      contextImage._uploadFileLength = files.length;\n      const info = {\n        linkValue: contextImage._v_link._linkValue,\n        linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\n        inputWidth: contextImage.inputX.value,\n        inputHeight: contextImage.inputY.value,\n        align: contextImage._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextImage._element\n      };\n\n      if (typeof this.functions.onImageUploadBefore === 'function') {\n        const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.image.register.call(this, info, data);\n          } else {\n            this.plugins.image.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (this._w.Array.isArray(result) && result.length > 0) files = result;\n      }\n\n      this.plugins.image.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.image.error.call(this, files, null);\n        return;\n      }\n\n      const imageUploadUrl = this.context.option.imageUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n      } else {\n        // base64\n        this.plugins.image.setup_reader.call(this, files, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n      }\n    },\n    callBack_imgUpload: function (info, xmlHttp) {\n      if (typeof this.functions.imageUploadHandler === 'function') {\n        this.functions.imageUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.image.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.image.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n\n        if (info.isUpdate) {\n          this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n          break;\n        } else {\n          this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\n        }\n      }\n\n      this.closeLoading();\n    },\n    setup_reader: function (files, imgLinkValue, newWindowCheck, width, height, align, filesLen, isUpdate) {\n      try {\n        this.context.image.base64RenderIndex = filesLen;\n        const wFileReader = this._w.FileReader;\n        const filesStack = [filesLen];\n        this.context.image.inputX.value = width;\n        this.context.image.inputY.value = height;\n\n        for (let i = 0, reader, file; i < filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          reader.onload = function (reader, update, updateElement, file, index) {\n            filesStack[index] = {\n              result: reader.result,\n              file: file\n            };\n\n            if (--this.context.image.base64RenderIndex === 0) {\n              this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, imgLinkValue, newWindowCheck, width, height, align);\n              this.closeLoading();\n            }\n          }.bind(this, reader, isUpdate, this.context.image._element, file, i);\n\n          reader.readAsDataURL(file);\n        }\n      } catch (e) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\n      }\n    },\n    onRender_imgBase64: function (update, filesStack, updateElement, imgLinkValue, newWindowCheck, width, height, align) {\n      const updateMethod = this.plugins.image.update_src;\n      const createMethod = this.plugins.image.create_image;\n\n      for (let i = 0, len = filesStack.length; i < len; i++) {\n        if (update) {\n          this.context.image._element.setAttribute('data-file-name', filesStack[i].file.name);\n\n          this.context.image._element.setAttribute('data-file-size', filesStack[i].file.size);\n\n          updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n        } else {\n          createMethod.call(this, filesStack[i].result, imgLinkValue, newWindowCheck, width, height, align, filesStack[i].file);\n        }\n      }\n    },\n    onRender_imgUrl: function () {\n      const contextImage = this.context.image;\n      if (contextImage._v_src._linkValue.length === 0) return false;\n\n      try {\n        const file = {\n          name: contextImage._v_src._linkValue.split('/').pop(),\n          size: 0\n        };\n        if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, contextImage._v_link._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      } catch (e) {\n        throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n      if (imgLinkValue.trim().length > 0) {\n        const link = this.util.createElement('A');\n        link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n        link.target = newWindowCheck ? '_blank' : '';\n        link.setAttribute('data-image-link', 'image');\n        imgTag.setAttribute('data-image-link', imgLinkValue);\n        link.appendChild(imgTag);\n        return link;\n      }\n\n      return imgTag;\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      const imagePlugin = this.plugins.image;\n\n      const modifyHandler = function (tag) {\n        imagePlugin.onModifyMode.call(this, tag, null);\n        imagePlugin.openModify.call(this, true);\n        imagePlugin.update_image.call(this, true, false, true);\n      }.bind(this);\n\n      this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\n    },\n    create_image: function (src, linkValue, linkNewWindow, width, height, align, file) {\n      const imagePlugin = this.plugins.image;\n      const contextImage = this.context.image;\n      this.context.resizing._resize_plugin = 'image';\n      let oImg = this.util.createElement('IMG');\n      oImg.src = src;\n      oImg.alt = contextImage._altText;\n      oImg = imagePlugin.onRender_link.call(this, oImg, linkValue, linkNewWindow);\n      oImg.setAttribute('data-rotate', '0');\n\n      if (contextImage._resizing) {\n        oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n      }\n\n      const cover = this.plugins.component.set_cover.call(this, oImg);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-image-container'); // caption\n\n      if (contextImage._captionChecked) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n\n        contextImage._caption.setAttribute('contenteditable', false);\n\n        cover.appendChild(contextImage._caption);\n      }\n\n      contextImage._element = oImg;\n      contextImage._cover = cover;\n      contextImage._container = container; // set size\n\n      imagePlugin.applySize.call(this, width, height); // align\n\n      imagePlugin.setAlign.call(this, align, oImg, cover, container);\n      oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize);\n      if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n      this.context.resizing._resize_plugin = '';\n    },\n    _image_create_onload: function (oImg, svgDefaultSize) {\n      // svg exception handling\n      if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\n      this.selectComponent.call(this, oImg, 'image');\n    },\n    update_image: function (init, openController, notHistoryPush) {\n      const contextImage = this.context.image;\n      const linkValue = contextImage._v_link._linkValue;\n      let imageEl = contextImage._element;\n      let cover = contextImage._cover;\n      let container = contextImage._container;\n      let isNewContainer = false;\n\n      if (cover === null) {\n        isNewContainer = true;\n        imageEl = contextImage._element.cloneNode(true);\n        cover = this.plugins.component.set_cover.call(this, imageEl);\n      }\n\n      if (container === null) {\n        cover = cover.cloneNode(true);\n        imageEl = cover.querySelector('img');\n        isNewContainer = true;\n        container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n      } else if (isNewContainer) {\n        container.innerHTML = '';\n        container.appendChild(cover);\n        contextImage._cover = cover;\n        contextImage._element = imageEl;\n        isNewContainer = false;\n      } // check size\n\n\n      let changeSize;\n      const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n      const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n      if (/%$/.test(imageEl.style.width)) {\n        changeSize = x !== container.style.width || y !== container.style.height;\n      } else {\n        changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n      } // alt\n\n\n      imageEl.alt = contextImage._altText; // caption\n\n      let modifiedCaption = false;\n\n      if (contextImage._captionChecked) {\n        if (!contextImage._caption) {\n          contextImage._caption = this.plugins.component.create_caption.call(this);\n          cover.appendChild(contextImage._caption);\n          modifiedCaption = true;\n        }\n      } else {\n        if (contextImage._caption) {\n          this.util.removeItem(contextImage._caption);\n          contextImage._caption = null;\n          modifiedCaption = true;\n        }\n      } // link\n\n\n      if (linkValue.trim().length > 0) {\n        if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\n          contextImage._linkElement.href = linkValue;\n          contextImage._linkElement.target = contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '';\n          imageEl.setAttribute('data-image-link', linkValue);\n        } else {\n          let newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n          cover.insertBefore(newEl, contextImage._caption);\n        }\n      } else if (contextImage._linkElement !== null) {\n        const imageElement = imageEl;\n        imageElement.setAttribute('data-image-link', '');\n        let newEl = imageElement.cloneNode(true);\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(newEl, contextImage._caption);\n        imageEl = newEl;\n      }\n\n      if (isNewContainer) {\n        const existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n\n        if (this.util.isFormatElement(existElement) && existElement.textContent.length > 0) {\n          existElement.parentNode.insertBefore(container, existElement.nextElementSibling);\n          this.util.removeItem(contextImage._element);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n\n        imageEl = container.querySelector('img');\n        contextImage._element = imageEl;\n        contextImage._cover = cover;\n        contextImage._container = container;\n      } // transform\n\n\n      if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n        if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n          if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n            this.plugins.resizing.resetTransform.call(this, imageEl);\n          } else {\n            this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n          }\n        }\n      } // size\n\n\n      let isPercent = false;\n\n      if (contextImage._resizing) {\n        imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n\n        if (changeSize) {\n          this.plugins.image.applySize.call(this);\n        }\n      } // align\n\n\n      if (!(isPercent && contextImage._align === 'center')) {\n        this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n      } // set imagesInfo\n\n\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\n      }\n\n      if (openController) {\n        this.selectComponent(imageEl, 'image');\n      } // history stack\n\n\n      if (!notHistoryPush) this.history.push(false);\n    },\n    update_src: function (src, element, file) {\n      element.src = src;\n\n      this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\n\n      this.selectComponent(element, 'image');\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n      if (!element) return;\n      const contextImage = this.context.image;\n      contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n      contextImage._element = element;\n      contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n      contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n      contextImage._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextImage._element_w = size.w;\n        contextImage._element_h = size.h;\n        contextImage._element_t = size.t;\n        contextImage._element_l = size.l;\n      }\n\n      let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n\n      if (userSize) {\n        userSize = userSize.split(',');\n        contextImage._origin_w = userSize[0];\n        contextImage._origin_h = userSize[1];\n      } else if (size) {\n        contextImage._origin_w = size.w;\n        contextImage._origin_h = size.h;\n      }\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      const contextImage = this.context.image;\n\n      if (contextImage.imgUrlFile) {\n        contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n      }\n\n      contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n      contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n      contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n      contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n      contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n      if (contextImage._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    /**\n     * @Override resizing\n     */\n    applySize: function (w, h) {\n      const contextImage = this.context.image;\n      if (!w) w = contextImage.inputX.value || this.context.option.imageWidth;\n      if (!h) h = contextImage.inputY.value || this.context.option.imageHeight;\n\n      if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.image.setAutoSize.call(this);\n      } else {\n        this.plugins.image.setSize.call(this, w, h, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextImage = this.context.image;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n      this.plugins.image.cancelPercentAttr.call(this);\n      if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n      if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n      const contextImage = this.context.image;\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      contextImage._element.style.maxWidth = '';\n      contextImage._element.style.width = '';\n      contextImage._element.style.height = '';\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', 'auto,auto'); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function () {\n      const contextImage = this.context.image;\n\n      contextImage._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextImage._element);\n      this.plugins.image.cancelPercentAttr.call(this);\n      const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n      const w = originSize[0];\n      const h = originSize[1];\n\n      if (originSize) {\n        if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.image.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.image.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n      const contextImage = this.context.image;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || '';\n      const heightPercentage = /%$/.test(h);\n      contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextImage._container.style.height = '';\n      contextImage._cover.style.width = '100%';\n      contextImage._cover.style.height = !heightPercentage ? '' : h;\n      contextImage._element.style.width = '100%';\n      contextImage._element.style.height = heightPercentage ? '' : h;\n      contextImage._element.style.maxWidth = '';\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n      contextImage._element.setAttribute('data-percentage', w + ',' + h);\n\n      this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n      const contextImage = this.context.image;\n      contextImage._cover.style.width = '';\n      contextImage._cover.style.height = '';\n      contextImage._container.style.width = '';\n      contextImage._container.style.height = '';\n      this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n      this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n      if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextImage = this.context.image;\n      if (!align) align = contextImage._align;\n      if (!element) element = contextImage._element;\n      if (!cover) cover = contextImage._cover;\n      if (!container) container = contextImage._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === 'auto' ? '' : element.style.width || '100%';\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextImage._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function () {\n      const contextImage = this.context.image;\n\n      contextImage._element.setAttribute('data-align', '');\n\n      contextImage._align = 'none';\n      contextImage._cover.style.margin = '0';\n      this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      const contextImage = this.context.image;\n      if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n      if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\n\n      if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n        contextImage.imgUrlFile.removeAttribute('disabled');\n        contextImage.previewSrc.style.textDecoration = '';\n      }\n\n      contextImage.altText.value = '';\n      contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = '';\n      contextImage.imgLinkNewWindowCheck.checked = false;\n      contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n      contextImage.captionCheckEl.checked = false;\n      contextImage._element = null;\n      this.plugins.image.openTab.call(this, 'init');\n\n      if (contextImage._resizing) {\n        contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n        contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n        contextImage.proportion.checked = true;\n        contextImage._ratio = false;\n        contextImage._ratioX = 1;\n        contextImage._ratioY = 1;\n      }\n    }\n  };\n  /***/\n},\n/* 26 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n      const context = core.context;\n      context.link = {\n        focusElement: null,\n        linkNewWindowCheck: null,\n        linkAnchorText: null,\n        _linkAnchor: null,\n        _linkValue: ''\n      };\n      /** link dialog */\n\n      let link_dialog = this.setDialog.call(core);\n      context.link.modal = link_dialog;\n      context.link.focusElement = link_dialog.querySelector('._se_link_url');\n      context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\n      context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\n      context.link.preview = link_dialog.querySelector('.se-link-preview');\n      /** link controller */\n\n      let link_controller = this.setController_LinkButton.call(core);\n      context.link.linkController = link_controller;\n      context.link._linkAnchor = null;\n      link_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n      context.link.focusElement.addEventListener('input', this._onLinkPreview.bind(context.link.preview, context.link, context.options.linkProtocol));\n      /** append html */\n\n      context.dialog.modal.appendChild(link_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(link_controller);\n      /** empty memory */\n\n      link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      dialog.innerHTML = '' + '<form class=\"editor_link\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.url + '</label>' + '<input class=\"se-input-form se-input-url _se_link_url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' + '</div>' + '<div class=\"se-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' + '</div>' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const link_btn = this.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.unlink + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n\n    /**\n     * @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n    submit: function (e) {\n      this.showLoading();\n      e.preventDefault();\n      e.stopPropagation();\n\n      const submitAction = function () {\n        const contextLink = this.context.link;\n        if (contextLink._linkValue.length === 0) return false;\n        const url = contextLink._linkValue;\n        const anchor = contextLink.linkAnchorText;\n        const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n        if (!this.context.dialog.updateModal) {\n          const oA = this.util.createElement('A');\n          oA.href = url;\n          oA.textContent = anchorText;\n          oA.target = contextLink.linkNewWindowCheck.checked ? '_blank' : '';\n          const selectedFormats = this.getSelectedElements();\n\n          if (selectedFormats.length > 1) {\n            const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n            oFormat.appendChild(oA);\n            if (!this.insertNode(oFormat, null, true)) return;\n          } else {\n            if (!this.insertNode(oA, null, true)) return;\n          }\n\n          this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n        } else {\n          contextLink._linkAnchor.href = url;\n          contextLink._linkAnchor.textContent = anchorText;\n          contextLink._linkAnchor.target = contextLink.linkNewWindowCheck.checked ? '_blank' : ''; // set range\n\n          const textNode = contextLink._linkAnchor.childNodes[0];\n          this.setRange(textNode, 0, textNode, textNode.textContent.length);\n        }\n\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink.linkAnchorText.value = '';\n      }.bind(this);\n\n      try {\n        submitAction();\n      } finally {\n        this.plugins.dialog.close.call(this);\n        this.closeLoading(); // history stack\n\n        this.history.push(false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n      if (!element) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n          this.controllersOff();\n        }\n      } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n        if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n          this.plugins.link.call_controller.call(this, element);\n        }\n\n        return true;\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override dialog\n     */\n    on: function (update) {\n      const contextLink = this.context.link;\n\n      if (!update) {\n        this.plugins.link.init.call(this);\n        contextLink.linkAnchorText.value = this.getSelection().toString();\n      } else if (contextLink._linkAnchor) {\n        this.context.dialog.updateModal = true;\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n        contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n        contextLink.linkNewWindowCheck.checked = /_blank/i.test(contextLink._linkAnchor.target) ? true : false;\n      }\n    },\n    call_controller: function (selectionATag) {\n      this.editLink = this.context.link._linkAnchor = selectionATag;\n      const linkBtn = this.context.link.linkController;\n      const link = linkBtn.querySelector('a');\n      link.href = selectionATag.href;\n      link.title = selectionATag.textContent;\n      link.textContent = selectionATag.textContent;\n      this.setControllerPosition(linkBtn, selectionATag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(linkBtn, selectionATag, 'link');\n    },\n    onClick_linkController: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        const contextLink = this.context.link;\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n        contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n        contextLink.linkNewWindowCheck.checked = /_blank/i.test(contextLink._linkAnchor.target) ? true : false;\n        this.plugins.dialog.open.call(this, 'link', true);\n      } else if (/unlink/.test(command)) {\n        const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, false);\n        const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n          return current.childNodes.length === 0 || current.nodeType === 3;\n        }, true);\n        this.setRange(sc, 0, ec, ec.textContent.length);\n        this.nodeChange(null, null, ['A'], false);\n      } else {\n        /** delete */\n        this.util.removeItem(this.context.link._linkAnchor);\n        this.context.link._linkAnchor = null;\n        this.focus(); // history stack\n\n        this.history.push(false);\n      }\n\n      this.controllersOff();\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      const contextLink = this.context.link;\n      contextLink.linkController.style.display = 'none';\n      contextLink._linkAnchor = null;\n      contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = '';\n      contextLink.linkAnchorText.value = '';\n      contextLink.linkNewWindowCheck.checked = false;\n    }\n  };\n  /***/\n},\n/* 27 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n      const context = core.context;\n      const contextVideo = context.video = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        sizeUnit: context.option._videoSizeUnit,\n        _align: 'none',\n        _floatClassRegExp: '__se__float\\\\-[a-z]+',\n        _youtubeQuery: context.option.youtubeQuery,\n        _videoRatio: context.option.videoRatio * 100 + '%',\n        _defaultRatio: context.option.videoRatio * 100 + '%',\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null,\n        // @Override resizing properties\n        inputX: null,\n        inputY: null,\n        _element_w: 1,\n        _element_h: 1,\n        _element_l: 0,\n        _element_t: 0,\n        _defaultSizeX: '100%',\n        _defaultSizeY: context.option.videoRatio * 100 + '%',\n        _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\n        _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\n        _proportionChecked: true,\n        _resizing: context.option.videoResizing,\n        _resizeDotHide: !context.option.videoHeightShow,\n        _rotation: context.option.videoRotation,\n        _onlyPercentage: context.option.videoSizeOnlyPercentage,\n        _ratio: false,\n        _ratioX: 1,\n        _ratioY: 1,\n        _captionShow: false\n      };\n      /** video dialog */\n\n      let video_dialog = this.setDialog.call(core);\n      contextVideo.modal = video_dialog;\n      contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\n      contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\n      contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n      contextVideo.preview = video_dialog.querySelector('.se-link-preview');\n      /** add event listeners */\n\n      video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\n      if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, context.options.linkProtocol));\n      contextVideo.proportion = {};\n      contextVideo.videoRatioOption = {};\n      contextVideo.inputX = {};\n      contextVideo.inputY = {};\n\n      if (context.option.videoResizing) {\n        contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n        contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n        contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n        contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n        contextVideo.inputX.value = context.option.videoWidth;\n        contextVideo.inputY.value = context.option.videoHeight;\n        contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n        contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n        contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n        contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n        video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n      }\n      /** append html */\n\n\n      context.dialog.modal.appendChild(video_dialog);\n      /** empty memory */\n\n      video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.videoFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.videoUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.videoBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      if (option.videoResizing) {\n        const ratioList = option.videoRatioList || [{\n          name: '16:9',\n          value: 0.5625\n        }, {\n          name: '4:3',\n          value: 0.75\n        }, {\n          name: '21:9',\n          value: 0.4285\n        }];\n        const ratio = option.videoRatio;\n        const onlyPercentage = option.videoSizeOnlyPercentage;\n        const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n        const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n        const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n        html += '' + '<div class=\"se-dialog-form\">' + '<div class=\"se-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' + '<label class=\"se-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' + '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' + '</div>' + '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' + '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' + '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' + '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n        if (!heightDisplay) html += '<option value=\"\"> - </option>';\n\n        for (let i = 0, len = ratioList.length; i < len; i++) {\n          html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n        }\n\n        html += '</select>' + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' + '</div>' + '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' + '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<div>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' + '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' + '</div>' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n    _fileInputChange: function () {\n      if (!this.videoInputFile.value) {\n        this.videoUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.videoUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n\n      if (/^<iframe.*\\/iframe>$/.test(value)) {\n        context._linkValue = value;\n        this.textContent = '<IFrame :src=\"..\"></IFrame>';\n      } else {\n        context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n      }\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.context.options.videoTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createVideoTag: function () {\n      const videoTag = this.util.createElement('VIDEO');\n\n      this.plugins.video._setTagAttrs.call(this, videoTag);\n\n      return videoTag;\n    },\n    _setIframeAttrs: function (element) {\n      element.frameBorder = '0';\n      element.allowFullscreen = true;\n      const attrs = this.context.options.videoIframeAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    createIframeTag: function () {\n      const iframeTag = this.util.createElement('IFRAME');\n\n      this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n      return iframeTag;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['iframe', 'video'],\n\n    /**\n     * @Override core, resizing, fileManager\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n      const frame = element || this.context.video._element;\n      const container = this.context.video._container;\n      const dataIndex = frame.getAttribute('data-index') * 1;\n      let focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.video.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextVideo = this.context.video;\n\n      if (!update) {\n        contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.disabled = true;\n        if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\n      } else {\n        if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\n      }\n\n      if (contextVideo._resizing) {\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    setVideoRatio: function (e) {\n      const contextVideo = this.context.video;\n      const value = e.target.options[e.target.selectedIndex].value;\n      contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + '%';\n      contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n      contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n      if (e && e.keyCode === 32) {\n        e.preventDefault();\n        return;\n      }\n\n      const contextVideo = this.context.video;\n\n      this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n      if (xy === 'y') {\n        this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n      this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n    submit: function (e) {\n      const contextVideo = this.context.video;\n      const videoPlugin = this.plugins.video;\n      e.preventDefault();\n      e.stopPropagation();\n      contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n      try {\n        if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n          this.showLoading();\n          videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n        } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n          this.showLoading();\n          videoPlugin.setup_url.call(this);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/video/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.videoUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const videosInfo = this.context.video._infoList;\n\n        for (let i = 0, len = videosInfo.length; i < len; i++) {\n          infoSize += videosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextVideo = this.context.video;\n      contextVideo._uploadFileLength = files.length;\n      const info = {\n        inputWidth: contextVideo.inputX.value,\n        inputHeight: contextVideo.inputY.value,\n        align: contextVideo._align,\n        isUpdate: this.context.dialog.updateModal,\n        element: contextVideo._element\n      };\n\n      if (typeof this.functions.onVideoUploadBefore === 'function') {\n        const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.video.register.call(this, info, data);\n          } else {\n            this.plugins.video.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.video.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.video.error.call(this, files, null);\n        return;\n      }\n\n      const videoUploadUrl = this.context.option.videoUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n      if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\n        const formData = new FormData();\n\n        for (let i = 0; i < filesLen; i++) {\n          formData.append('file-' + i, files[i]);\n        }\n\n        this.plugins.fileManager.upload.call(this, videoUploadUrl, this.context.option.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n      } else {\n        throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n      }\n    },\n    callBack_videoUpload: function (info, xmlHttp) {\n      if (typeof this.functions.videoUploadHandler === 'function') {\n        this.functions.videoUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.video.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.video.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n      const videoTag = this.plugins.video.createVideoTag.call(this);\n\n      for (let i = 0, len = fileList.length, file; i < len; i++) {\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setup_url: function () {\n      try {\n        const contextVideo = this.context.video;\n        let url = contextVideo._linkValue;\n        if (url.length === 0) return false;\n        /** iframe source */\n\n        if (/^<iframe.*\\/iframe>$/.test(url)) {\n          const oIframe = new this._w.DOMParser().parseFromString(url, 'text/html').querySelector('iframe');\n          url = oIframe.src;\n          if (url.length === 0) return false;\n        }\n        /** youtube */\n\n\n        if (/youtu\\.?be/.test(url)) {\n          if (!/^http/.test(url)) url = 'https://' + url;\n          url = url.replace('watch?v=', '');\n\n          if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n            url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n          }\n\n          if (contextVideo._youtubeQuery.length > 0) {\n            if (/\\?/.test(url)) {\n              const splitUrl = url.split('?');\n              url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n            } else {\n              url += '?' + contextVideo._youtubeQuery;\n            }\n          }\n        } else if (/vimeo\\.com/.test(url)) {\n          if (url.endsWith('/')) {\n            url = url.slice(0, -1);\n          }\n\n          url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\n        }\n\n        this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\n      this.context.resizing._resize_plugin = 'video';\n      const contextVideo = this.context.video;\n      let cover = null;\n      let container = null;\n      let init = false;\n      /** update */\n\n      if (isUpdate) {\n        oFrame = contextVideo._element;\n\n        if (oFrame.src !== src) {\n          init = true;\n          const isYoutube = /youtu\\.?be/.test(src);\n          const isVimeo = /vimeo\\.com/.test(src);\n\n          if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createIframeTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n            const newTag = this.plugins.video.createVideoTag.call(this);\n            newTag.src = src;\n            oFrame.parentNode.replaceChild(newTag, oFrame);\n            contextVideo._element = oFrame = newTag;\n          } else {\n            oFrame.src = src;\n          }\n        }\n\n        container = contextVideo._container;\n        cover = this.util.getParentElement(oFrame, 'FIGURE');\n      }\n      /** create */\n      else {\n          init = true;\n          oFrame.src = src;\n          contextVideo._element = oFrame;\n          cover = this.plugins.component.set_cover.call(this, oFrame);\n          container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n        }\n      /** rendering */\n\n\n      contextVideo._cover = cover;\n      contextVideo._container = container;\n\n      const inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n      const changeSize = !isUpdate || inputUpdate;\n\n      if (contextVideo._resizing) {\n        this.context.video._proportionChecked = contextVideo.proportion.checked;\n        oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\n      } // size\n\n\n      let isPercent = false;\n\n      if (changeSize) {\n        isPercent = this.plugins.video.applySize.call(this);\n      } // align\n\n\n      if (!(isPercent && align === 'center')) {\n        this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n      }\n\n      let changed = true;\n\n      if (!isUpdate) {\n        changed = this.insertComponent(container, false, true, false);\n      } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n        this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n      }\n\n      if (changed) {\n        if (init) {\n          this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\n        }\n\n        if (isUpdate) {\n          this.selectComponent(oFrame, 'video'); // history stack\n\n          this.history.push(false);\n        }\n      }\n\n      this.context.resizing._resize_plugin = '';\n    },\n    _update_videoCover: function (oFrame) {\n      if (!oFrame) return;\n      const contextVideo = this.context.video;\n      if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);else this.plugins.video._setIframeAttrs.call(this, oFrame);\n      const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util));\n      oFrame = oFrame.cloneNode(true);\n      const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n      const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n      const figcaption = existElement.querySelector('figcaption');\n      let caption = null;\n\n      if (!!figcaption) {\n        caption = this.util.createElement('DIV');\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      }\n\n      const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\n      this.plugins.video.applySize.call(this, size[0], size[1]);\n\n      if (this.util.isFormatElement(existElement) && existElement.textContent.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement.nextElementSibling);\n        this.util.removeItem(contextVideo._element);\n        contextVideo._element = oFrame;\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n\n      if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n      const contextVideo = this.context.video;\n      contextVideo._element = element;\n      contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n      contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n      contextVideo._align = element.getAttribute('data-align') || 'none';\n\n      if (size) {\n        contextVideo._element_w = size.w;\n        contextVideo._element_h = size.h;\n        contextVideo._element_t = size.t;\n        contextVideo._element_l = size.l;\n      }\n\n      let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n\n      if (origin) {\n        origin = origin.split(',');\n        contextVideo._origin_w = origin[0];\n        contextVideo._origin_h = origin[1];\n      } else if (size) {\n        contextVideo._origin_w = size.w;\n        contextVideo._origin_h = size.h;\n      }\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '';\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n        const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n        const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n        if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n    setVideoRatioSelect: function (value) {\n      let ratioSelected = false;\n      const contextVideo = this.context.video;\n      const ratioOptions = contextVideo.videoRatioOption.options;\n      if (/%$/.test(value) || contextVideo._onlyPercentage) value = this.util.getNumber(value, 2) / 100 + '';else if (!this.util.isNumber(value) || value * 1 >= 1) value = '';\n      contextVideo.inputY.placeholder = '';\n\n      for (let i = 0, len = ratioOptions.length; i < len; i++) {\n        if (ratioOptions[i].value === value) {\n          ratioSelected = ratioOptions[i].selected = true;\n          contextVideo.inputY.placeholder = !value ? '' : value * 100 + '%';\n        } else ratioOptions[i].selected = false;\n      }\n\n      return ratioSelected;\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n      this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    /**\n     * @Override resizing\n     */\n    applySize: function (w, h) {\n      const contextVideo = this.context.video;\n      if (!w) w = contextVideo.inputX.value || this.context.option.videoWidth;\n      if (!h) h = contextVideo.inputY.value || this.context.option.videoHeight;\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n        this.plugins.video.setPercentSize.call(this, w || '100%', h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n        return true;\n      } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n        this.plugins.video.setAutoSize.call(this);\n      } else {\n        this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n      }\n\n      return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n      const contextVideo = this.context.video;\n      const onlyW = /^(rw|lw)$/.test(direction);\n      const onlyH = /^(th|bh)$/.test(direction);\n      if (!onlyH) w = this.util.getNumber(w, 0);\n      if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n      if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n      if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n      if (!onlyH && !/%$/.test(w)) {\n        contextVideo._cover.style.width = '';\n        contextVideo._container.style.width = '';\n      }\n\n      if (!onlyW && !/%$/.test(h)) {\n        contextVideo._element.style.height = h;\n      } else {\n        contextVideo._element.style.height = '';\n      }\n\n      if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage'); // save current size\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n      this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function (dataSize) {\n      const contextVideo = this.context.video;\n\n      contextVideo._element.removeAttribute('data-percentage');\n\n      this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n      this.plugins.video.cancelPercentAttr.call(this);\n      const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n\n      if (originSize) {\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n          this.plugins.video.setPercentSize.call(this, w, h);\n        } else {\n          this.plugins.video.setSize.call(this, w, h);\n        } // save current size\n\n\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n      }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n      const contextVideo = this.context.video;\n      h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n      contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n      contextVideo._container.style.height = '';\n      contextVideo._cover.style.width = '100%';\n      contextVideo._cover.style.height = h;\n      contextVideo._cover.style.paddingBottom = h;\n      contextVideo._element.style.width = '100%';\n      contextVideo._element.style.height = '100%';\n      contextVideo._element.style.maxWidth = '';\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n\n      contextVideo._element.setAttribute('data-percentage', w + ',' + h); // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n      const contextVideo = this.context.video;\n      contextVideo._cover.style.width = '';\n      contextVideo._cover.style.height = '';\n      contextVideo._cover.style.paddingBottom = '';\n      contextVideo._container.style.width = '';\n      contextVideo._container.style.height = '';\n      this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n      this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n      if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n      const contextVideo = this.context.video;\n      if (!align) align = contextVideo._align;\n      if (!element) element = contextVideo._element;\n      if (!cover) cover = contextVideo._cover;\n      if (!container) container = contextVideo._container;\n\n      if (align && align !== 'none') {\n        cover.style.margin = 'auto';\n      } else {\n        cover.style.margin = '0';\n      }\n\n      if (/%$/.test(element.style.width) && align === 'center') {\n        container.style.minWidth = '100%';\n        cover.style.width = container.style.width;\n        cover.style.height = cover.style.height;\n        cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + '%';\n      } else {\n        container.style.minWidth = '';\n        cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || '100%';\n        cover.style.paddingBottom = cover.style.height;\n      }\n\n      if (!this.util.hasClass(container, '__se__float-' + align)) {\n        this.util.removeClass(container, contextVideo._floatClassRegExp);\n        this.util.addClass(container, '__se__float-' + align);\n      }\n\n      element.setAttribute('data-align', align);\n    },\n    resetAlign: function () {\n      const contextVideo = this.context.video;\n\n      contextVideo._element.setAttribute('data-align', '');\n\n      contextVideo._align = 'none';\n      contextVideo._cover.style.margin = '0';\n      this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n      const contextVideo = this.context.video;\n      if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\n      if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\n\n      if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n        contextVideo.videoUrlFile.removeAttribute('disabled');\n        contextVideo.preview.style.textDecoration = '';\n      }\n\n      contextVideo._origin_w = this.context.option.videoWidth;\n      contextVideo._origin_h = this.context.option.videoHeight;\n      contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n\n      if (contextVideo._resizing) {\n        contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n        contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n        contextVideo.proportion.checked = true;\n        contextVideo.proportion.disabled = true;\n        this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n      }\n    }\n  };\n  /***/\n},\n/* 28 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n  /* harmony import */\n\n\n  var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {\n    name: 'audio',\n    display: 'dialog',\n    add: function (core) {\n      core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\n      const context = core.context;\n      const contextAudio = context.audio = {\n        _infoList: [],\n        // @Override fileManager\n        _infoIndex: 0,\n        // @Override fileManager\n        _uploadFileLength: 0,\n        // @Override fileManager\n        focusElement: null,\n        // @Override // This element has focus when the dialog is opened.\n        targetSelect: null,\n        _origin_w: context.option.audioWidth,\n        _origin_h: context.option.audioHeight,\n        _linkValue: '',\n        // @require @Override component\n        _element: null,\n        _cover: null,\n        _container: null\n      };\n      /** dialog */\n\n      let audio_dialog = this.setDialog.call(core);\n      contextAudio.modal = audio_dialog;\n      contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\n      contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\n      contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n      contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\n      /** controller */\n\n      let audio_controller = this.setController.call(core);\n      contextAudio.controller = audio_controller;\n      audio_controller.addEventListener('mousedown', core.eventStop);\n      /** add event listeners */\n\n      audio_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n      if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\n      audio_controller.addEventListener('click', this.onClick_controller.bind(core));\n      if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, context.options.linkProtocol));\n      /** append html */\n\n      context.dialog.modal.appendChild(audio_dialog);\n      /** append controller */\n\n      context.element.relative.appendChild(audio_controller);\n      /** empty memory */\n\n      audio_dialog = null, audio_controller = null;\n    },\n\n    /** HTML - dialog */\n    setDialog: function () {\n      const option = this.context.option;\n      const lang = this.lang;\n      const dialog = this.util.createElement('DIV');\n      dialog.className = 'se-dialog-content';\n      dialog.style.display = 'none';\n      let html = '' + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"se-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + this.icons.cancel + '</button>' + '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' + '</div>' + '<div class=\"se-dialog-body\">';\n\n      if (option.audioFileInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.file + '</label>' + '<div class=\"se-dialog-form-files\">' + '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' + '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' + '</div>' + '</div>';\n      }\n\n      if (option.audioUrlInput) {\n        html += '' + '<div class=\"se-dialog-form\">' + '<label>' + lang.dialogBox.audioBox.url + '</label>' + '<input class=\"se-input-form se-input-url\" type=\"text\" />' + '<pre class=\"se-link-preview\"></pre>' + '</div>';\n      }\n\n      html += '' + '</div>' + '<div class=\"se-dialog-footer\">' + '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' + '</div>' + '</form>';\n      dialog.innerHTML = html;\n      return dialog;\n    },\n\n    /** HTML - controller */\n    setController: function () {\n      const lang = this.lang;\n      const icons = this.icons;\n      const link_btn = this.util.createElement('DIV');\n      link_btn.className = 'se-controller se-controller-link';\n      link_btn.innerHTML = '' + '<div class=\"se-arrow se-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"se-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.edit + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' + '</button>' + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' + icons.delete + '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' + '</button>' + '</div>' + '</div>';\n      return link_btn;\n    },\n    // Disable url input when uploading files\n    _fileInputChange: function () {\n      if (!this.audioInputFile.value) {\n        this.audioUrlFile.removeAttribute('disabled');\n        this.preview.style.textDecoration = '';\n      } else {\n        this.audioUrlFile.setAttribute('disabled', true);\n        this.preview.style.textDecoration = 'line-through';\n      }\n    },\n    // Disable url input when uploading files\n    _removeSelectedFiles: function (urlInput, preview) {\n      this.value = '';\n\n      if (urlInput) {\n        urlInput.removeAttribute('disabled');\n        preview.style.textDecoration = '';\n      }\n    },\n    // create new audio tag\n    _createAudioTag: function () {\n      const oAudio = this.util.createElement('AUDIO');\n\n      this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n      const w = this.context.audio._origin_w;\n      const h = this.context.audio._origin_h;\n      oAudio.setAttribute('origin-size', w + ',' + h);\n      oAudio.style.cssText = (w ? 'width:' + w + '; ' : '') + (h ? 'height:' + h + ';' : '');\n      return oAudio;\n    },\n    _setTagAttrs: function (element) {\n      element.setAttribute('controls', true);\n      const attrs = this.context.options.audioTagAttrs;\n      if (!attrs) return;\n\n      for (let key in attrs) {\n        if (!this.util.hasOwn(attrs, key)) continue;\n        element.setAttribute(key, attrs[key]);\n      }\n    },\n    _onLinkPreview: function (context, protocol, e) {\n      const value = e.target.value.trim();\n      context._linkValue = this.textContent = !value ? '' : protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0 ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Required @Override fileManager\n     */\n    fileTags: ['audio'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n      this.plugins.audio.onModifyMode.call(this, element);\n    },\n\n    /**\n     * @Override fileManager, resizing \n     */\n    destroy: function (element) {\n      element = element || this.context.audio._element;\n      const container = this.util.getParentElement(element, this.util.isComponent) || element;\n      const dataIndex = element.getAttribute('data-index') * 1;\n      const focusEl = container.previousElementSibling || container.nextElementSibling;\n      const emptyDiv = container.parentNode;\n      this.util.removeItem(container);\n      this.plugins.audio.init.call(this);\n      this.controllersOff();\n      if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null); // focus\n\n      this.focusEdge(focusEl); // fileManager event\n\n      this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload); // history stack\n\n      this.history.push(false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n      this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n      this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n      const contextAudio = this.context.audio;\n\n      if (!update) {\n        this.plugins.audio.init.call(this);\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\n      } else if (contextAudio._element) {\n        this.context.dialog.updateModal = true;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      } else {\n        if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n      }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n      this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\n    },\n    submit: function (e) {\n      const contextAudio = this.context.audio;\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n          this.showLoading();\n          this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n        } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n          this.showLoading();\n          this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n        }\n      } catch (error) {\n        this.closeLoading();\n        throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.plugins.dialog.close.call(this);\n      }\n\n      return false;\n    },\n    submitAction: function (fileList) {\n      if (fileList.length === 0) return;\n      let fileSize = 0;\n      let files = [];\n\n      for (let i = 0, len = fileList.length; i < len; i++) {\n        if (/audio/i.test(fileList[i].type)) {\n          files.push(fileList[i]);\n          fileSize += fileList[i].size;\n        }\n      }\n\n      const limitSize = this.context.option.audioUploadSizeLimit;\n\n      if (limitSize > 0) {\n        let infoSize = 0;\n        const audiosInfo = this.context.audio._infoList;\n\n        for (let i = 0, len = audiosInfo.length; i < len; i++) {\n          infoSize += audiosInfo[i].size * 1;\n        }\n\n        if (fileSize + infoSize > limitSize) {\n          this.closeLoading();\n          const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + limitSize / 1000 + 'KB';\n\n          if (this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, {\n            'limitSize': limitSize,\n            'currentSize': infoSize,\n            'uploadSize': fileSize\n          }, this)) {\n            this.functions.noticeOpen(err);\n          }\n\n          return;\n        }\n      }\n\n      const contextAudio = this.context.audio;\n      contextAudio._uploadFileLength = files.length;\n      const info = {\n        isUpdate: this.context.dialog.updateModal,\n        element: contextAudio._element\n      };\n\n      if (typeof this.functions.onAudioUploadBefore === 'function') {\n        const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n          if (data && this._w.Array.isArray(data.result)) {\n            this.plugins.audio.register.call(this, info, data);\n          } else {\n            this.plugins.audio.upload.call(this, info, data);\n          }\n        }.bind(this));\n        if (typeof result === 'undefined') return;\n\n        if (!result) {\n          this.closeLoading();\n          return;\n        }\n\n        if (typeof result === 'object' && result.length > 0) files = result;\n      }\n\n      this.plugins.audio.upload.call(this, info, files);\n    },\n    error: function (message, response) {\n      this.closeLoading();\n\n      if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\n        this.functions.noticeOpen(message);\n        throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\n      }\n    },\n    upload: function (info, files) {\n      if (!files) {\n        this.closeLoading();\n        return;\n      }\n\n      if (typeof files === 'string') {\n        this.plugins.audio.error.call(this, files, null);\n        return;\n      }\n\n      const audioUploadUrl = this.context.option.audioUploadUrl;\n      const filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n      const formData = new FormData();\n\n      for (let i = 0; i < filesLen; i++) {\n        formData.append('file-' + i, files[i]);\n      } // server upload\n\n\n      this.plugins.fileManager.upload.call(this, audioUploadUrl, this.context.option.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n    },\n    callBack_upload: function (info, xmlHttp) {\n      if (typeof this.functions.audioUploadHandler === 'function') {\n        this.functions.audioUploadHandler(xmlHttp, info, this);\n      } else {\n        const response = JSON.parse(xmlHttp.responseText);\n\n        if (response.errorMessage) {\n          this.plugins.audio.error.call(this, response.errorMessage, response);\n        } else {\n          this.plugins.audio.register.call(this, info, response);\n        }\n      }\n    },\n    register: function (info, response) {\n      const fileList = response.result;\n\n      for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n        if (info.isUpdate) oAudio = info.element;else oAudio = this.plugins.audio._createAudioTag.call(this);\n        file = {\n          name: fileList[i].name,\n          size: fileList[i].size\n        };\n        this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n      }\n\n      this.closeLoading();\n    },\n    setupUrl: function (src) {\n      try {\n        if (src.length === 0) return false;\n        this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n      } catch (error) {\n        throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\n      } finally {\n        this.closeLoading();\n      }\n    },\n    create_audio: function (element, src, file, isUpdate) {\n      const contextAudio = this.context.audio; // create new tag\n\n      if (!isUpdate) {\n        element.src = src;\n        const cover = this.plugins.component.set_cover.call(this, element);\n        const container = this.plugins.component.set_container.call(this, cover, '');\n\n        if (!this.insertComponent(container, false, true, false)) {\n          this.focus();\n          return;\n        }\n      } // update\n      else {\n          if (contextAudio._element) element = contextAudio._element;\n\n          if (element && element.src !== src) {\n            element.src = src;\n          } else {\n            this.selectComponent(element, 'audio');\n            return;\n          }\n        }\n\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\n      this.selectComponent(element, 'audio');\n      if (isUpdate) this.history.push(false);\n    },\n    updateCover: function (element) {\n      const contextAudio = this.context.audio;\n\n      this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n      const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n        return this.isWysiwygDiv(current.parentNode);\n      }.bind(this.util)); // clone element\n\n      contextAudio._element = element = element.cloneNode(false);\n      const cover = this.plugins.component.set_cover.call(this, element);\n      const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\n      existElement.parentNode.replaceChild(container, existElement);\n      this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (selectionTag) {\n      const contextAudio = this.context.audio;\n      this.setControllerPosition(contextAudio.controller, selectionTag, 'bottom', {\n        left: 0,\n        top: 0\n      });\n      this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\n      this.util.addClass(selectionTag, 'active');\n      contextAudio._element = selectionTag;\n      contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\n      contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n      if (this.context.audio.audioUrlFile) {\n        const contextAudio = this.context.audio;\n        contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n      }\n\n      if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\n    },\n    onClick_controller: function (e) {\n      e.stopPropagation();\n      const command = e.target.getAttribute('data-command');\n      if (!command) return;\n      e.preventDefault();\n\n      if (/update/.test(command)) {\n        this.plugins.audio.openModify.call(this, false);\n      } else {\n        /** delete */\n        this.plugins.audio.destroy.call(this, this.context.audio._element);\n      }\n\n      this.controllersOff();\n    },\n    onControllerOff: function (selectionTag) {\n      this.util.removeClass(selectionTag, 'active');\n      this.context.audio.controller.style.display = 'none';\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    init: function () {\n      if (this.context.dialog.updateModal) return;\n      const contextAudio = this.context.audio;\n      if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\n      if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\n\n      if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n        contextAudio.audioUrlFile.removeAttribute('disabled');\n        contextAudio.preview.style.textDecoration = '';\n      }\n\n      contextAudio._element = null;\n    }\n  };\n  /***/\n},\n/* 29 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * \n   * Danish translation by davidkonrad at github or gmail\n   *\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'da',\n      toolbar: {\n        default: 'Default',\n        save: 'Gem',\n        font: 'Skrifttype',\n        formats: 'Format',\n        fontSize: 'Skriftstørrelse',\n        bold: 'Fed',\n        underline: 'Understreget',\n        italic: 'Skråskrift',\n        strike: 'Overstreget',\n        subscript: 'Sænket skrift',\n        superscript: 'Hævet skrift',\n        removeFormat: 'Fjern formatering',\n        fontColor: 'Skriftfarve',\n        hiliteColor: 'Baggrundsfarve',\n        indent: 'Ryk ind',\n        outdent: 'Ryk ud',\n        align: 'Justering',\n        alignLeft: 'Venstrejustering',\n        alignRight: 'Højrejustering',\n        alignCenter: 'Midterjustering',\n        alignJustify: 'Tilpas margin',\n        list: 'Lister',\n        orderList: 'Nummereret liste',\n        unorderList: 'Uordnet liste',\n        horizontalRule: 'Horisontal linie',\n        hr_solid: 'Almindelig',\n        hr_dotted: 'Punkteret',\n        hr_dashed: 'Streget',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Math',\n        image: 'Billede',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Fuld skærm',\n        showBlocks: 'Vis blokke',\n        codeView: 'Vis koder',\n        undo: 'Undo',\n        redo: 'Redo',\n        preview: 'Preview',\n        print: 'Print',\n        tag_p: 'Paragraph',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Overskrift',\n        tag_blockquote: 'Citer',\n        tag_pre: 'Code',\n        template: 'Schablone',\n        lineHeight: 'Linjehøjde',\n        paragraphStyle: 'Afsnitstil',\n        textStyle: 'Tekststil',\n        imageGallery: 'Billedgalleri',\n        mention: 'Nævne'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Indsæt link',\n          url: 'URL til link',\n          text: 'Tekst for link',\n          newWindowCheck: 'Åben i nyt faneblad'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Matematisk notation',\n          fontSizeLabel: 'Skriftstørrelse',\n          previewLabel: 'Preview'\n        },\n        imageBox: {\n          title: 'Indsæt billede',\n          file: 'Indsæt fra fil',\n          url: 'Indsæt fra URL',\n          altText: 'Alternativ tekst'\n        },\n        videoBox: {\n          title: 'Indsæt Video',\n          file: 'Indsæt fra fil',\n          url: 'Indlejr video / YouTube,Vimeo'\n        },\n        audioBox: {\n          title: 'Indsæt Audio',\n          file: 'Indsæt fra fil',\n          url: 'Indsæt fra URL'\n        },\n        browser: {\n          tags: 'Tags',\n          search: 'Søg'\n        },\n        caption: 'Indsæt beskrivelse',\n        close: 'Luk',\n        submitButton: 'Gennemfør',\n        revertButton: 'Gendan',\n        proportion: 'Bevar proportioner',\n        basic: 'Basis',\n        left: 'Venstre',\n        right: 'Højre',\n        center: 'Center',\n        width: 'Bredde',\n        height: 'Højde',\n        size: 'Størrelse',\n        ratio: 'Forhold'\n      },\n      controller: {\n        edit: 'Rediger',\n        unlink: 'Fjern link',\n        remove: 'Fjern',\n        insertRowAbove: 'Indsæt række foroven',\n        insertRowBelow: 'Indsæt række nedenfor',\n        deleteRow: 'Slet række',\n        insertColumnBefore: 'Indsæt kolonne før',\n        insertColumnAfter: 'Indsæt kolonne efter',\n        deleteColumn: 'Slet kolonne',\n        fixedColumnWidth: 'Fast søjlebredde',\n        resize100: 'Forstør 100%',\n        resize75: 'Forstør 75%',\n        resize50: 'Forstør 50%',\n        resize25: 'Forstør 25%',\n        autoSize: 'Auto størrelse',\n        mirrorHorizontal: 'Spejling, horisontal',\n        mirrorVertical: 'Spejling, vertikal',\n        rotateLeft: 'Roter til venstre',\n        rotateRight: 'Toter til højre',\n        maxSize: 'Max størrelse',\n        minSize: 'Min størrelse',\n        tableHeader: 'Tabel overskrift',\n        mergeCells: 'Sammenlæg celler (merge)',\n        splitCells: 'Opdel celler',\n        HorizontalSplit: 'Opdel horisontalt',\n        VerticalSplit: 'Opdel vertikalt'\n      },\n      menu: {\n        spaced: 'Brev Afstand',\n        bordered: 'Afgrænsningslinje',\n        neon: 'Neon',\n        translucent: 'Gennemsigtig',\n        shadow: 'Skygge',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 30 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 @Gundolf68\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'de',\n      toolbar: {\n        default: 'Standard',\n        save: 'Speichern',\n        font: 'Schriftart',\n        formats: 'Format',\n        fontSize: 'Schriftgröße',\n        bold: 'Fett',\n        underline: 'Unterstrichen',\n        italic: 'Kursiv',\n        strike: 'Durchgestrichen',\n        subscript: 'Tiefgestellt',\n        superscript: 'Hochgestellt',\n        removeFormat: 'Format entfernen',\n        fontColor: 'Schriftfarbe',\n        hiliteColor: 'Farbe für Hervorhebungen',\n        indent: 'Einzug vergrößern',\n        outdent: 'Einzug verkleinern',\n        align: 'Ausrichtung',\n        alignLeft: 'Links ausrichten',\n        alignRight: 'Rechts ausrichten',\n        alignCenter: 'Zentriert ausrichten',\n        alignJustify: 'Blocksatz',\n        list: 'Liste',\n        orderList: 'Nummerierte Liste',\n        unorderList: 'Aufzählung',\n        horizontalRule: 'Horizontale Linie',\n        hr_solid: 'Strich',\n        hr_dotted: 'Gepunktet',\n        hr_dashed: 'Gestrichelt',\n        table: 'Tabelle',\n        link: 'Link',\n        math: 'Mathematik',\n        image: 'Bild',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Vollbild',\n        showBlocks: 'Blockformatierungen anzeigen',\n        codeView: 'Quelltext anzeigen',\n        undo: 'Rückgängig',\n        redo: 'Wiederholen',\n        preview: 'Vorschau',\n        print: 'Drucken',\n        tag_p: 'Absatz',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Zitat',\n        tag_pre: 'Quellcode',\n        template: 'Vorlage',\n        lineHeight: 'Zeilenhöhe',\n        paragraphStyle: 'Absatzstil',\n        textStyle: 'Textstil',\n        imageGallery: 'Bildergalerie',\n        mention: 'Erwähnen'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Link einfügen',\n          url: 'Link-URL',\n          text: 'Link-Text',\n          newWindowCheck: 'In neuem Fenster anzeigen'\n        },\n        mathBox: {\n          title: 'Mathematik',\n          inputLabel: 'Mathematische Notation',\n          fontSizeLabel: 'Schriftgröße',\n          previewLabel: 'Vorschau'\n        },\n        imageBox: {\n          title: 'Bild einfügen',\n          file: 'Datei auswählen',\n          url: 'Bild-URL',\n          altText: 'Alternativer Text'\n        },\n        videoBox: {\n          title: 'Video enfügen',\n          file: 'Datei auswählen',\n          url: 'Video-URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Audio enfügen',\n          file: 'Datei auswählen',\n          url: 'Audio-URL'\n        },\n        browser: {\n          tags: 'Stichworte',\n          search: 'Suche'\n        },\n        caption: 'Beschreibung eingeben',\n        close: 'Schließen',\n        submitButton: 'Übernehmen',\n        revertButton: 'Rückgängig',\n        proportion: 'Seitenverhältnis beibehalten',\n        basic: 'Standard',\n        left: 'Links',\n        right: 'Rechts',\n        center: 'Zentriert',\n        width: 'Breite',\n        height: 'Höhe',\n        size: 'Größe',\n        ratio: 'Verhältnis'\n      },\n      controller: {\n        edit: 'Bearbeiten',\n        unlink: 'Link entfernen',\n        remove: 'Löschen',\n        insertRowAbove: 'Zeile oberhalb einfügen',\n        insertRowBelow: 'Zeile unterhalb einfügen',\n        deleteRow: 'Zeile löschen',\n        insertColumnBefore: 'Spalte links einfügen',\n        insertColumnAfter: 'Spalte rechts einfügen',\n        deleteColumn: 'Spalte löschen',\n        fixedColumnWidth: 'Feste Spaltenbreite',\n        resize100: 'Zoom 100%',\n        resize75: 'Zoom 75%',\n        resize50: 'Zoom 50%',\n        resize25: 'Zoom 25%',\n        autoSize: 'Automatische Größenanpassung',\n        mirrorHorizontal: 'Horizontal spiegeln',\n        mirrorVertical: 'Vertikal spiegeln',\n        rotateLeft: 'Nach links drehen',\n        rotateRight: 'Nach rechts drehen',\n        maxSize: 'Maximale Größe',\n        minSize: 'Mindestgröße',\n        tableHeader: 'Tabellenüberschrift',\n        mergeCells: 'Zellen verbinden',\n        splitCells: 'Zellen teilen',\n        HorizontalSplit: 'Horizontal teilen',\n        VerticalSplit: 'Vertikal teilen'\n      },\n      menu: {\n        spaced: 'Buchstabenabstand',\n        bordered: 'Umrandet',\n        neon: 'Neon',\n        translucent: 'Durchscheinend',\n        shadow: 'Schatten',\n        code: 'Quellcode'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 31 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'es',\n      toolbar: {\n        default: 'Valor por defecto',\n        save: 'Guardar',\n        font: 'Fuente',\n        formats: 'Formato',\n        fontSize: 'Tamaño de fuente',\n        bold: 'Negrita',\n        underline: 'Subrayado',\n        italic: 'Cursiva',\n        strike: 'Tachado',\n        subscript: 'Subíndice',\n        superscript: 'Superíndice',\n        removeFormat: 'Eliminar formato',\n        fontColor: 'Color de fuente',\n        hiliteColor: 'Color de resaltado',\n        indent: 'Más tabulación',\n        outdent: 'Menos tabulación',\n        align: 'Alinear',\n        alignLeft: 'Alinear a la izquierda',\n        alignRight: 'Alinear a la derecha',\n        alignCenter: 'Alinear al centro',\n        alignJustify: 'Justificar',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Horizontal line',\n        hr_solid: 'Línea horizontal solida',\n        hr_dotted: 'Línea horizontal punteada',\n        hr_dashed: 'Línea horizontal discontinua',\n        table: 'Tabla',\n        link: 'Link',\n        math: 'Matemáticas',\n        image: 'Imagen',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pantalla completa',\n        showBlocks: 'Ver bloques',\n        codeView: 'Ver código fuente',\n        undo: 'UndoDeshacer última acción',\n        redo: 'Rehacer última acción',\n        preview: 'Vista previa',\n        print: 'Imprimir',\n        tag_p: 'Párrafo',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Header',\n        tag_blockquote: 'Cita',\n        tag_pre: 'Código',\n        template: 'Plantilla',\n        lineHeight: 'Altura de la línea',\n        paragraphStyle: 'Estilo del parrafo',\n        textStyle: 'Estilo del texto',\n        imageGallery: 'Galería de imágenes',\n        mention: 'Mencionar'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insertar Link',\n          url: '¿Hacia que URL lleva el link?',\n          text: 'Texto para mostrar',\n          newWindowCheck: 'Abrir en una nueva ventana'\n        },\n        mathBox: {\n          title: 'Matemáticas',\n          inputLabel: 'Notación Matemática',\n          fontSizeLabel: 'Tamaño de fuente',\n          previewLabel: 'Vista previa'\n        },\n        imageBox: {\n          title: 'Insertar imagen',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la imagen',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Insertar Video',\n          file: 'Seleccionar desde los archivos',\n          url: '¿URL del vídeo? Youtube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar Audio',\n          file: 'Seleccionar desde los archivos',\n          url: 'URL de la audio'\n        },\n        browser: {\n          tags: 'Etiquetas',\n          search: 'Buscar'\n        },\n        caption: 'Insertar descripción',\n        close: 'Cerrar',\n        submitButton: 'Enviar',\n        revertButton: 'revertir',\n        proportion: 'Restringir las proporciones',\n        basic: 'Basico',\n        left: 'Izquierda',\n        right: 'derecha',\n        center: 'Centro',\n        width: 'Ancho',\n        height: 'Alto',\n        size: 'Tamaño',\n        ratio: 'Proporción'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Desvincular',\n        remove: 'RemoveQuitar',\n        insertRowAbove: 'Insertar fila arriba',\n        insertRowBelow: 'Insertar fila debajo',\n        deleteRow: 'Eliminar fila',\n        insertColumnBefore: 'Insertar columna antes',\n        insertColumnAfter: 'Insertar columna después',\n        deleteColumn: 'Eliminar columna',\n        fixedColumnWidth: 'Ancho de columna fijo',\n        resize100: 'Redimensionar 100%',\n        resize75: 'Redimensionar 75%',\n        resize50: 'Redimensionar 50%',\n        resize25: 'Redimensionar 25%',\n        autoSize: 'Tamaño automático',\n        mirrorHorizontal: 'Espejo, Horizontal',\n        mirrorVertical: 'Espejo, Vertical',\n        rotateLeft: 'Girar a la izquierda',\n        rotateRight: 'Girar a la derecha',\n        maxSize: 'Tamaño máximo',\n        minSize: 'Tamaño minímo',\n        tableHeader: 'Encabezado de tabla',\n        mergeCells: 'Combinar celdas',\n        splitCells: 'Dividir celdas',\n        HorizontalSplit: 'División horizontal',\n        VerticalSplit: 'División vertical'\n      },\n      menu: {\n        spaced: 'Espaciado',\n        bordered: 'Bordeado',\n        neon: 'Neón',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado',\n        code: 'Código'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 32 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'fr',\n      toolbar: {\n        default: 'Défaut',\n        save: 'Sauvegarder',\n        font: 'Police',\n        formats: 'Formats',\n        fontSize: 'Taille',\n        bold: 'Gras',\n        underline: 'Souligné',\n        italic: 'Italique',\n        strike: 'Barré',\n        subscript: 'Indice',\n        superscript: 'Exposant',\n        removeFormat: 'Éffacer  le Formatage',\n        fontColor: 'Couleur du texte',\n        hiliteColor: 'Couleur en arrière plan',\n        indent: 'Indenter',\n        outdent: 'Désindenter',\n        align: 'Alignenement',\n        alignLeft: 'À gauche',\n        alignRight: 'À droite',\n        alignCenter: 'Centré',\n        alignJustify: 'Justifié',\n        list: 'Liste',\n        orderList: 'Ordonnée',\n        unorderList: 'Non-ordonnée',\n        horizontalRule: 'Ligne horizontale',\n        hr_solid: 'Solide',\n        hr_dotted: 'Points',\n        hr_dashed: 'Tirets',\n        table: 'Table',\n        link: 'Lien',\n        math: 'Math',\n        image: 'Image',\n        video: 'Video',\n        audio: 'l\\'audio',\n        fullScreen: 'Plein écran',\n        showBlocks: 'Voir les blocs',\n        codeView: 'Voir le code',\n        undo: 'Annuler',\n        redo: 'Rétablir',\n        preview: 'Previsualiser',\n        print: 'Imprimer',\n        tag_p: 'Paragraphe',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Titre',\n        tag_blockquote: 'Citation',\n        tag_pre: 'Code',\n        template: 'Template',\n        lineHeight: 'Hauteur de la ligne',\n        paragraphStyle: 'Style de paragraphe',\n        textStyle: 'Style de texte',\n        imageGallery: 'Galerie d\\'images',\n        mention: 'Mention'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Insérer un lien',\n          url: 'Adresse URL du lien',\n          text: 'Texte à afficher',\n          newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\n        },\n        mathBox: {\n          title: 'Math',\n          inputLabel: 'Notation mathématique',\n          fontSizeLabel: 'Taille',\n          previewLabel: 'Previsualiser'\n        },\n        imageBox: {\n          title: 'Insérer une image',\n          file: 'Sélectionner le fichier',\n          url: 'Adresse URL du fichier',\n          altText: 'Texte Alternatif'\n        },\n        videoBox: {\n          title: 'Insérer une Vidéo',\n          file: 'Sélectionner le fichier',\n          url: 'URL d’intégration du média, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar une l\\'audio',\n          file: 'Sélectionner le fichier',\n          url: 'Adresse URL du fichier'\n        },\n        browser: {\n          tags: 'Mots clés',\n          search: 'Chercher'\n        },\n        caption: 'Insérer une description',\n        close: 'Fermer',\n        submitButton: 'Appliquer',\n        revertButton: 'Revenir en arrière',\n        proportion: 'Maintenir le rapport hauteur/largeur',\n        basic: 'Basique',\n        left: 'Gauche',\n        right: 'Droite',\n        center: 'Centré',\n        width: 'Largeur',\n        height: 'Hauteur',\n        size: 'La taille',\n        ratio: 'Rapport'\n      },\n      controller: {\n        edit: 'Modifier',\n        unlink: 'Supprimer un lien',\n        remove: 'Effacer',\n        insertRowAbove: 'Insérer une ligne en dessous',\n        insertRowBelow: 'Insérer une ligne au dessus',\n        deleteRow: 'Effacer la ligne',\n        insertColumnBefore: 'Insérer une colonne avant',\n        insertColumnAfter: 'Insérer une colonne après',\n        deleteColumn: 'Effacer la colonne',\n        fixedColumnWidth: 'Largeur de colonne fixe',\n        resize100: 'Redimensionner à 100%',\n        resize75: 'Redimensionner à 75%',\n        resize50: 'Redimensionner à 50%',\n        resize25: 'Redimensionner à 25%',\n        autoSize: 'Taille automatique',\n        mirrorHorizontal: 'Mirroir, Horizontal',\n        mirrorVertical: 'Mirroir, Vertical',\n        rotateLeft: 'Rotation à gauche',\n        rotateRight: 'Rotation à droite',\n        maxSize: 'Taille max',\n        minSize: 'Taille min',\n        tableHeader: 'En-tête de table',\n        mergeCells: 'Fusionner les cellules',\n        splitCells: 'Diviser les Cellules',\n        HorizontalSplit: 'Scission horizontale',\n        VerticalSplit: 'Scission verticale'\n      },\n      menu: {\n        spaced: 'Espacement',\n        bordered: 'Ligne de démarcation',\n        neon: 'Néon',\n        translucent: 'Translucide',\n        shadow: 'L\\'ombre',\n        code: 'Code'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 33 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ja',\n      toolbar: {\n        default: 'デフォルト',\n        save: '保存',\n        font: 'フォント',\n        formats: '段落形式',\n        fontSize: 'サイズ',\n        bold: '太字',\n        underline: '下線',\n        italic: 'イタリック',\n        strike: '取り消し線',\n        subscript: '下付き',\n        superscript: '上付き',\n        removeFormat: '形式を削除',\n        fontColor: '文字色',\n        hiliteColor: '文字の背景色',\n        indent: 'インデント',\n        outdent: 'インデント',\n        align: 'ソート',\n        alignLeft: '左揃え',\n        alignRight: '右揃え',\n        alignCenter: '中央揃え',\n        alignJustify: '両端揃え',\n        list: 'リスト',\n        orderList: '数値ブリット',\n        unorderList: '円形ブリット',\n        horizontalRule: '水平線を挿入',\n        hr_solid: '実線',\n        hr_dotted: '点線',\n        hr_dashed: 'ダッシュ',\n        table: 'テーブル',\n        link: 'リンク',\n        math: '数学',\n        image: '画像',\n        video: '動画',\n        audio: 'オーディオ',\n        fullScreen: 'フルスクリーン',\n        showBlocks: 'ブロック表示',\n        codeView: 'HTMLの編集',\n        undo: '元に戻す',\n        redo: '再実行',\n        preview: 'プレビュー',\n        print: '印刷',\n        tag_p: '本文',\n        tag_div: '基本（DIV）',\n        tag_h: 'タイトル',\n        tag_blockquote: '引用',\n        tag_pre: 'コード',\n        template: 'テンプレート',\n        lineHeight: '行の高さ',\n        paragraphStyle: '段落スタイル',\n        textStyle: 'テキストスタイル',\n        imageGallery: 'イメージギャラリー',\n        mention: '言及する'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'リンクの挿入',\n          url: 'インターネットアドレス',\n          text: '画面のテキスト',\n          newWindowCheck: '別ウィンドウで開く'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学表記',\n          fontSizeLabel: 'サイズ',\n          previewLabel: 'プレビュー'\n        },\n        imageBox: {\n          title: '画像の挿入',\n          file: 'ファイルの選択',\n          url: 'イメージアドレス',\n          altText: '置換文字列'\n        },\n        videoBox: {\n          title: '動画を挿入',\n          file: 'ファイルの選択',\n          url: 'メディア埋め込みアドレス, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'オーディオを挿入',\n          file: 'ファイルの選択',\n          url: 'オーディオアドレス'\n        },\n        browser: {\n          tags: 'タグ',\n          search: '探す'\n        },\n        caption: '説明付け',\n        close: '閉じる',\n        submitButton: '確認',\n        revertButton: '元に戻す',\n        proportion: 'の割合カスタマイズ',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '中央',\n        width: '横',\n        height: '縦',\n        size: 'サイズ',\n        ratio: '比率'\n      },\n      controller: {\n        edit: '編集',\n        unlink: 'リンク解除',\n        remove: '削除',\n        insertRowAbove: '上に行を挿入',\n        insertRowBelow: '下に行を挿入',\n        deleteRow: '行の削除',\n        insertColumnBefore: '左に列を挿入',\n        insertColumnAfter: '右に列を挿入',\n        deleteColumn: '列を削除する',\n        fixedColumnWidth: '固定列幅',\n        resize100: '100％ サイズ',\n        resize75: '75％ サイズ',\n        resize50: '50％ サイズ',\n        resize25: '25％ サイズ',\n        autoSize: '自動サイズ',\n        mirrorHorizontal: '左右反転',\n        mirrorVertical: '上下反転',\n        rotateLeft: '左に回転',\n        rotateRight: '右に回転',\n        maxSize: '最大サイズ',\n        minSize: '最小サイズ',\n        tableHeader: '表のヘッダー',\n        mergeCells: 'セルの結合',\n        splitCells: 'セルを分割',\n        HorizontalSplit: '横分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '文字間隔',\n        bordered: '境界線',\n        neon: 'ネオン',\n        translucent: '半透明',\n        shadow: '影',\n        code: 'コード'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 34 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ko',\n      toolbar: {\n        default: '기본값',\n        save: '저장',\n        font: '글꼴',\n        formats: '문단 형식',\n        fontSize: '크기',\n        bold: '굵게',\n        underline: '밑줄',\n        italic: '기울임',\n        strike: '취소선',\n        subscript: '아래 첨자',\n        superscript: '위 첨자',\n        removeFormat: '형식 제거',\n        fontColor: '글자색',\n        hiliteColor: '배경색',\n        indent: '들여쓰기',\n        outdent: '내어쓰기',\n        align: '정렬',\n        alignLeft: '왼쪽 정렬',\n        alignRight: '오른쪽 정렬',\n        alignCenter: '가운데 정렬',\n        alignJustify: '양쪽 정렬',\n        list: '리스트',\n        orderList: '숫자형 리스트',\n        unorderList: '원형 리스트',\n        horizontalRule: '가로 줄 삽입',\n        hr_solid: '실선',\n        hr_dotted: '점선',\n        hr_dashed: '대시',\n        table: '테이블',\n        link: '링크',\n        math: '수식',\n        image: '이미지',\n        video: '동영상',\n        audio: '오디오',\n        fullScreen: '전체 화면',\n        showBlocks: '블록 보기',\n        codeView: 'HTML 편집',\n        undo: '실행 취소',\n        redo: '다시 실행',\n        preview: '미리보기',\n        print: '인쇄',\n        tag_p: '본문',\n        tag_div: '기본 (DIV)',\n        tag_h: '제목',\n        tag_blockquote: '인용문',\n        tag_pre: '코드',\n        template: '템플릿',\n        lineHeight: '줄 높이',\n        paragraphStyle: '문단 스타일',\n        textStyle: '글자 스타일',\n        imageGallery: '이미지 갤러리',\n        mention: '멘션'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '링크 삽입',\n          url: '인터넷 주소',\n          text: '화면 텍스트',\n          newWindowCheck: '새창으로 열기'\n        },\n        mathBox: {\n          title: '수식',\n          inputLabel: '수학적 표기법',\n          fontSizeLabel: '글자 크기',\n          previewLabel: '미리보기'\n        },\n        imageBox: {\n          title: '이미지 삽입',\n          file: '파일 선택',\n          url: '이미지 주소',\n          altText: '대체 문자열'\n        },\n        videoBox: {\n          title: '동영상 삽입',\n          file: '파일 선택',\n          url: '미디어 임베드 주소, 유튜브/비메오'\n        },\n        audioBox: {\n          title: '오디오 삽입',\n          file: '파일 선택',\n          url: '오디오 파일 주소'\n        },\n        browser: {\n          tags: '태그',\n          search: '검색'\n        },\n        caption: '설명 넣기',\n        close: '닫기',\n        submitButton: '확인',\n        revertButton: '되돌리기',\n        proportion: '비율 맞춤',\n        basic: '기본',\n        left: '왼쪽',\n        right: '오른쪽',\n        center: '가운데',\n        width: '가로',\n        height: '세로',\n        size: '크기',\n        ratio: '비율'\n      },\n      controller: {\n        edit: '편집',\n        unlink: '링크 해제',\n        remove: '삭제',\n        insertRowAbove: '위에 행 삽입',\n        insertRowBelow: '아래에 행 삽입',\n        deleteRow: '행 삭제',\n        insertColumnBefore: '왼쪽에 열 삽입',\n        insertColumnAfter: '오른쪽에 열 삽입',\n        deleteColumn: '열 삭제',\n        fixedColumnWidth: '고정 된 열 너비',\n        resize100: '100% 크기',\n        resize75: '75% 크기',\n        resize50: '50% 크기',\n        resize25: '25% 크기',\n        autoSize: '자동 크기',\n        mirrorHorizontal: '좌우 반전',\n        mirrorVertical: '상하 반전',\n        rotateLeft: '왼쪽으로 회전',\n        rotateRight: '오른쪽으로 회전',\n        maxSize: '최대화',\n        minSize: '최소화',\n        tableHeader: '테이블 제목',\n        mergeCells: '셀 병합',\n        splitCells: '셀 분할',\n        HorizontalSplit: '가로 분할',\n        VerticalSplit: '세로 분할'\n      },\n      menu: {\n        spaced: '글자 간격',\n        bordered: '경계선',\n        neon: '네온',\n        translucent: '반투명',\n        shadow: '그림자',\n        code: '코드'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 35 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * Brazilian Portuguese translation by lpeil github\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pt_br',\n      toolbar: {\n        default: 'Padrão',\n        save: 'Salvar',\n        font: 'Fonte',\n        formats: 'Formatos',\n        fontSize: 'Tamanho',\n        bold: 'Negrito',\n        underline: 'Sublinhado',\n        italic: 'Itálico',\n        strike: 'Riscado',\n        subscript: 'Subescrito',\n        superscript: 'Sobrescrito',\n        removeFormat: 'Remover Formatação',\n        fontColor: 'Cor da Fonte',\n        hiliteColor: 'Cor de destaque',\n        indent: 'Recuo',\n        outdent: 'Avançar',\n        align: 'Alinhar',\n        alignLeft: 'Alinhar à esquerda',\n        alignRight: 'Alinhar à direita',\n        alignCenter: 'Alinhar ao centro',\n        alignJustify: 'Alinhat justificado',\n        list: 'Lista',\n        orderList: 'Lista ordenada',\n        unorderList: 'Lista desordenada',\n        horizontalRule: 'Linha horizontal',\n        hr_solid: 'solida',\n        hr_dotted: 'pontilhada',\n        hr_dashed: 'tracejada',\n        table: 'Tabela',\n        link: 'Link',\n        math: 'Matemática',\n        image: 'Imagem',\n        video: 'Vídeo',\n        audio: 'Áudio',\n        fullScreen: 'Tela cheia',\n        showBlocks: 'Mostrar blocos',\n        codeView: 'Mostrar códigos',\n        undo: 'Voltar',\n        redo: 'Refazer',\n        preview: 'Prever',\n        print: 'imprimir',\n        tag_p: 'Paragráfo',\n        tag_div: '(DIV) Normal',\n        tag_h: 'Cabeçalho',\n        tag_blockquote: 'Citar',\n        tag_pre: 'Código',\n        template: 'Modelo',\n        lineHeight: 'Altura da linha',\n        paragraphStyle: 'Estilo do parágrafo',\n        textStyle: 'Estilo do texto',\n        imageGallery: 'Galeria de imagens',\n        mention: 'Menção'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserir link',\n          url: 'URL para link',\n          text: 'Texto à mostrar',\n          newWindowCheck: 'Abrir em nova guia'\n        },\n        mathBox: {\n          title: 'Matemática',\n          inputLabel: 'Notação matemática',\n          fontSizeLabel: 'Tamanho',\n          previewLabel: 'Prever'\n        },\n        imageBox: {\n          title: 'Inserir imagens',\n          file: 'Selecionar arquivos',\n          url: 'URL da imagem',\n          altText: 'Texto alternativo'\n        },\n        videoBox: {\n          title: 'Inserir vídeo',\n          file: 'Selecionar arquivos',\n          url: 'URL do YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Inserir audio',\n          file: 'Selecionar arquivos',\n          url: 'URL da audio'\n        },\n        browser: {\n          tags: 'Tag',\n          search: 'Procurar'\n        },\n        caption: 'Inserir descrição',\n        close: 'Fechar',\n        submitButton: 'Enviar',\n        revertButton: 'Reverter',\n        proportion: 'restringir proporções',\n        basic: 'Básico',\n        left: 'Esquerda',\n        right: 'Direita',\n        center: 'Centro',\n        width: 'Largura',\n        height: 'Altura',\n        size: 'Tamanho',\n        ratio: 'Proporções'\n      },\n      controller: {\n        edit: 'Editar',\n        unlink: 'Retirar link',\n        remove: 'Remover',\n        insertRowAbove: 'Inserir linha acima',\n        insertRowBelow: 'Inserir linha abaixo',\n        deleteRow: 'Deletar linha',\n        insertColumnBefore: 'Inserir coluna antes',\n        insertColumnAfter: 'Inserir coluna depois',\n        deleteColumn: 'Deletar coluna',\n        fixedColumnWidth: 'Largura fixa da coluna',\n        resize100: 'Redimensionar para 100%',\n        resize75: 'Redimensionar para 75%',\n        resize50: 'Redimensionar para 50%',\n        resize25: 'Redimensionar para 25%',\n        autoSize: 'Tamanho automático',\n        mirrorHorizontal: 'Espelho, Horizontal',\n        mirrorVertical: 'Espelho, Vertical',\n        rotateLeft: 'Girar para esquerda',\n        rotateRight: 'Girar para direita',\n        maxSize: 'Tam max',\n        minSize: 'Tam min',\n        tableHeader: 'Cabeçalho da tabela',\n        mergeCells: 'Mesclar células',\n        splitCells: 'Dividir células',\n        HorizontalSplit: 'Divisão horizontal',\n        VerticalSplit: 'Divisão vertical'\n      },\n      menu: {\n        spaced: 'Espaçado',\n        bordered: 'Com borda',\n        neon: 'Néon',\n        translucent: 'Translúcido',\n        shadow: 'Sombreado',\n        code: 'Código'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 36 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ru',\n      toolbar: {\n        default: 'По умолчанию',\n        save: 'Сохранить',\n        font: 'Шрифт',\n        formats: 'Стиль абзаца',\n        fontSize: 'Размер шрифта',\n        bold: 'Полужирный',\n        underline: 'Подчёркнутый',\n        italic: 'Курсив',\n        strike: 'Зачеркнутый',\n        subscript: 'Нижний индекс',\n        superscript: 'Верхний индекс',\n        removeFormat: 'Очистить форматирование',\n        fontColor: 'Цвет текста',\n        hiliteColor: 'Цвет фона',\n        indent: 'Увеличить отступ',\n        outdent: 'Уменьшить отступ',\n        align: 'Выравнивание',\n        alignLeft: 'Слева',\n        alignRight: 'Справа',\n        alignCenter: 'По центру',\n        alignJustify: 'По ширине',\n        list: 'Списки',\n        orderList: 'Нумерованный',\n        unorderList: 'Маркированный',\n        horizontalRule: 'Горизонтальная линия',\n        hr_solid: 'Сплошная',\n        hr_dotted: 'Пунктир',\n        hr_dashed: 'Штриховая',\n        table: 'Таблица',\n        link: 'Ссылка',\n        math: 'математический',\n        image: 'Изображение',\n        video: 'Видео',\n        audio: 'Аудио',\n        fullScreen: 'Полный экран',\n        showBlocks: 'Блочный вид',\n        codeView: 'Редактировать HTML',\n        undo: 'Отменить',\n        redo: 'Вернуть',\n        preview: 'Предварительный просмотр',\n        print: 'Печать',\n        tag_p: 'Текст',\n        tag_div: 'Базовый',\n        tag_h: 'Заголовок',\n        tag_blockquote: 'Цитата',\n        tag_pre: 'Код',\n        template: 'Шаблон',\n        lineHeight: 'Высота линии',\n        paragraphStyle: 'Стиль абзаца',\n        textStyle: 'Стиль текста',\n        imageGallery: 'Галерея',\n        mention: 'Упоминание'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Вставить ссылку',\n          url: 'Ссылка',\n          text: 'Текст',\n          newWindowCheck: 'Открывать в новом окне'\n        },\n        mathBox: {\n          title: 'математический',\n          inputLabel: 'Математическая запись',\n          fontSizeLabel: 'Кегль',\n          previewLabel: 'Предварительный просмотр'\n        },\n        imageBox: {\n          title: 'Вставить изображение',\n          file: 'Выберите файл',\n          url: 'Адрес изображения',\n          altText: 'Текстовое описание изображения'\n        },\n        videoBox: {\n          title: 'Вставить видео',\n          file: 'Выберите файл',\n          url: 'Ссылка на видео, Youtube,Vimeo'\n        },\n        audioBox: {\n          title: 'Вставить аудио',\n          file: 'Выберите файл',\n          url: 'Адрес аудио'\n        },\n        browser: {\n          tags: 'Теги',\n          search: 'Поиск'\n        },\n        caption: 'Добавить подпись',\n        close: 'Закрыть',\n        submitButton: 'Подтвердить',\n        revertButton: 'Сбросить',\n        proportion: 'Сохранить пропорции',\n        basic: 'Без обтекания',\n        left: 'Слева',\n        right: 'Справа',\n        center: 'По центру',\n        width: 'Ширина',\n        height: 'Высота',\n        size: 'Размер',\n        ratio: 'Соотношение'\n      },\n      controller: {\n        edit: 'Изменить',\n        unlink: 'Убрать ссылку',\n        remove: 'Удалить',\n        insertRowAbove: 'Вставить строку выше',\n        insertRowBelow: 'Вставить строку ниже',\n        deleteRow: 'Удалить строку',\n        insertColumnBefore: 'Вставить столбец слева',\n        insertColumnAfter: 'Вставить столбец справа',\n        deleteColumn: 'Удалить столбец',\n        fixedColumnWidth: 'Фиксированная ширина столбца',\n        resize100: 'Размер 100%',\n        resize75: 'Размер 75%',\n        resize50: 'Размер 50%',\n        resize25: 'Размер 25%',\n        autoSize: 'Авто размер',\n        mirrorHorizontal: 'Отразить по горизонтали',\n        mirrorVertical: 'Отразить по вертикали',\n        rotateLeft: 'Повернуть против часовой стрелки',\n        rotateRight: 'Повернуть по часовой стрелке',\n        maxSize: 'Ширина по размеру страницы',\n        minSize: 'Ширина по содержимому',\n        tableHeader: 'Строка заголовков',\n        mergeCells: 'Объединить ячейки',\n        splitCells: 'Разделить ячейку',\n        HorizontalSplit: 'Разделить горизонтально',\n        VerticalSplit: 'Разделить вертикально'\n      },\n      menu: {\n        spaced: 'интервал',\n        bordered: 'Граничная Линия',\n        neon: 'неон',\n        translucent: 'полупрозрачный',\n        shadow: 'Тень',\n        code: 'Код'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 37 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG una finestra con un documento');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'it',\n      toolbar: {\n        default: 'Predefinita',\n        save: 'Salva',\n        font: 'Font',\n        formats: 'Formato',\n        fontSize: 'Grandezza',\n        bold: 'Grassetto',\n        underline: 'Sottolineato',\n        italic: 'Italico',\n        strike: 'Cancellato',\n        subscript: 'Apice',\n        superscript: 'Pedice',\n        removeFormat: 'Rimuovi Formattazione',\n        fontColor: 'Colore Testo',\n        hiliteColor: 'Colore Sottolineatura',\n        indent: 'Aumenta rientro',\n        outdent: 'Riduci rientro',\n        align: 'Allinea',\n        alignLeft: 'Sinistra',\n        alignRight: 'Destra',\n        alignCenter: 'Centrato',\n        alignJustify: 'Giustificato',\n        list: 'Lista',\n        orderList: 'Lista numerata',\n        unorderList: 'Lista Puntata',\n        horizontalRule: 'Linea Orizzontale',\n        hr_solid: 'Linea',\n        hr_dotted: 'Puntinato',\n        hr_dashed: 'Tratteggiato',\n        table: 'Tabella',\n        link: 'Link',\n        math: 'Matematica',\n        image: 'Immagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Tutto Schermo',\n        showBlocks: 'Visualizza Blocchi',\n        codeView: 'Visualizza Codice',\n        undo: 'Annulla',\n        redo: 'Ripristina',\n        preview: 'Anteprima',\n        print: 'Stampa',\n        tag_p: 'Paragrafo',\n        tag_div: 'DIV Normale',\n        tag_h: 'Intestazione',\n        tag_blockquote: 'Citazione',\n        tag_pre: 'Codice',\n        template: 'Template',\n        lineHeight: 'Altezza linea',\n        paragraphStyle: 'Stile Paragrafo',\n        textStyle: 'Stile Testo',\n        imageGallery: 'Galleria di immagini',\n        mention: 'Citare'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserisci un Link',\n          url: 'Indirizzo in link',\n          text: 'Applica Testo da visualizzare',\n          newWindowCheck: 'Apri in una nuova finestra'\n        },\n        mathBox: {\n          title: 'Matematica',\n          inputLabel: 'Notazione matematica',\n          fontSizeLabel: 'Grandezza testo',\n          previewLabel: 'Anteprima'\n        },\n        imageBox: {\n          title: 'Inserisci Immagine',\n          file: 'Seleziona da file',\n          url: 'Indirizzo immagine',\n          altText: 'Testo alternativo (ALT)'\n        },\n        videoBox: {\n          title: 'Inserisci Video',\n          file: 'Seleziona da file',\n          url: 'Indirizzo video, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Insertar Audio',\n          file: 'Seleziona da file',\n          url: 'Indirizzo audio'\n        },\n        browser: {\n          tags: 'tag',\n          search: 'Ricerca'\n        },\n        caption: 'Inserisci descrizione',\n        close: 'ClChiudiose',\n        submitButton: 'Invia',\n        revertButton: 'Annulla',\n        proportion: 'Proporzionale',\n        basic: 'Da impostazione',\n        left: 'Sinistra',\n        right: 'Destra',\n        center: 'Centrato',\n        width: 'Larghezza',\n        height: 'Altezza',\n        size: 'Peso',\n        ratio: 'Rapporto'\n      },\n      controller: {\n        edit: 'Modifica',\n        unlink: 'Elimina link',\n        remove: 'Rimuovi',\n        insertRowAbove: 'Inserisci linea sopra',\n        insertRowBelow: 'Inserisci linea sotto',\n        deleteRow: 'Cancella riga',\n        insertColumnBefore: 'Inserisci una colonna prima',\n        insertColumnAfter: 'Inserisci una colonna dopo',\n        deleteColumn: 'Cancella colonna',\n        fixedColumnWidth: 'Larghezza della colonna fissa',\n        resize100: 'Ridimensiona 100%',\n        resize75: 'Ridimensiona 75%',\n        resize50: 'Ridimensiona 50%',\n        resize25: 'Ridimensiona 25%',\n        autoSize: 'Ridimensione automatica',\n        mirrorHorizontal: 'Specchia, orizontale',\n        mirrorVertical: 'Specchia, verticale',\n        rotateLeft: 'Ruota a sinistra',\n        rotateRight: 'Ruota a destra',\n        maxSize: 'Dimensione massima',\n        minSize: 'Dimensione minima',\n        tableHeader: 'Intestazione Tabella',\n        mergeCells: 'Unisci celle',\n        splitCells: 'Dividi celle',\n        HorizontalSplit: 'Separa orizontale',\n        VerticalSplit: 'Separa verticale'\n      },\n      menu: {\n        spaced: 'Spaziatura',\n        bordered: 'Bordo',\n        neon: 'Luminoso',\n        translucent: 'Translucente',\n        shadow: 'Ombra',\n        code: 'Codice'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 38 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'zh_cn',\n      toolbar: {\n        default: '默认',\n        save: '保存',\n        font: '字体',\n        formats: '格式',\n        fontSize: '字号',\n        bold: '粗体',\n        underline: '下划线',\n        italic: '斜体',\n        strike: '删除线',\n        subscript: '下标',\n        superscript: '上标',\n        removeFormat: '清除格式',\n        fontColor: '字体颜色',\n        hiliteColor: '背景颜色',\n        indent: '增加缩进',\n        outdent: '减少缩进',\n        align: '对齐方式',\n        alignLeft: '左对齐',\n        alignRight: '右对齐',\n        alignCenter: '居中',\n        alignJustify: '两端对齐',\n        list: '列表',\n        orderList: '有序列表',\n        unorderList: '无序列表',\n        horizontalRule: '水平线',\n        hr_solid: '实线',\n        hr_dotted: '点线',\n        hr_dashed: '虚线',\n        table: '表格',\n        link: '超链接',\n        math: '数学',\n        image: '图片',\n        video: '视频',\n        audio: '音讯',\n        fullScreen: '全屏',\n        showBlocks: '显示块区域',\n        codeView: '代码视图',\n        undo: '撤消',\n        redo: '恢复',\n        preview: '预览',\n        print: '打印',\n        tag_p: '段落',\n        tag_div: '正文 (DIV)',\n        tag_h: '标题',\n        tag_blockquote: '引用',\n        tag_pre: '代码',\n        template: '模板',\n        lineHeight: '行高',\n        paragraphStyle: '段落样式',\n        textStyle: '文字样式',\n        imageGallery: '图片库',\n        mention: '提到'\n      },\n      dialogBox: {\n        linkBox: {\n          title: '插入超链接',\n          url: '网址',\n          text: '字体',\n          newWindowCheck: '在新标签页中打开'\n        },\n        mathBox: {\n          title: '数学',\n          inputLabel: '数学符号',\n          fontSizeLabel: '字号',\n          previewLabel: '预览'\n        },\n        imageBox: {\n          title: '插入图片',\n          file: '上传图片',\n          url: '图片网址',\n          altText: '替换文字'\n        },\n        videoBox: {\n          title: '插入视频',\n          file: '上传图片',\n          url: '嵌入网址, Youtube,Vimeo'\n        },\n        audioBox: {\n          title: '插入音频',\n          file: '上传图片',\n          url: '音频网址'\n        },\n        browser: {\n          tags: '标签',\n          search: '搜索'\n        },\n        caption: '标题',\n        close: '取消',\n        submitButton: '确定',\n        revertButton: '恢复',\n        proportion: '比例',\n        basic: '基本',\n        left: '左',\n        right: '右',\n        center: '居中',\n        width: '宽度',\n        height: '高度',\n        size: '尺寸',\n        ratio: '比'\n      },\n      controller: {\n        edit: '编辑',\n        unlink: '去除链接',\n        remove: '删除',\n        insertRowAbove: '在上方插入',\n        insertRowBelow: '在下方插入',\n        deleteRow: '删除行',\n        insertColumnBefore: '在左侧插入',\n        insertColumnAfter: '在右侧插入',\n        deleteColumn: '删除列',\n        fixedColumnWidth: '固定列宽',\n        resize100: '放大 100%',\n        resize75: '放大 75%',\n        resize50: '放大 50%',\n        resize25: '放大 25%',\n        mirrorHorizontal: '翻转左右',\n        mirrorVertical: '翻转上下',\n        rotateLeft: '向左旋转',\n        rotateRight: '向右旋转',\n        maxSize: '最大尺寸',\n        minSize: '最小尺寸',\n        tableHeader: '表格标题',\n        mergeCells: '合并单元格',\n        splitCells: '分割单元格',\n        HorizontalSplit: '水平分割',\n        VerticalSplit: '垂直分割'\n      },\n      menu: {\n        spaced: '间隔开',\n        bordered: '边界线',\n        neon: '霓虹灯',\n        translucent: '半透明',\n        shadow: '阴影',\n        code: '代码'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 39 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ro',\n      toolbar: {\n        default: 'Default',\n        save: 'Salvează',\n        font: 'Font',\n        formats: 'Format',\n        fontSize: 'Dimensiune',\n        bold: 'Îngroșat',\n        underline: 'Subliniat',\n        italic: 'Înclinat',\n        strike: 'Tăiat',\n        subscript: 'Subscript',\n        superscript: 'Superscript',\n        removeFormat: 'Șterge formatare',\n        fontColor: 'Culoare font',\n        hiliteColor: 'Culoare de evidențiere',\n        indent: 'Indentează',\n        outdent: 'Fără indentare',\n        align: 'Aliniere',\n        alignLeft: 'Aliniere la stânga',\n        alignRight: 'Aliniere la dreapta',\n        alignCenter: 'Aliniere la centru',\n        alignJustify: 'Aliniere stânga - dreapta',\n        list: 'Listă',\n        orderList: 'Listă ordonată',\n        unorderList: 'Listă neordonată',\n        horizontalRule: 'Linie orizontală',\n        hr_solid: 'Solid',\n        hr_dotted: 'Punctat',\n        hr_dashed: 'Punctate',\n        table: 'Tabel',\n        link: 'Link',\n        math: 'Matematică',\n        image: 'Imagine',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Tot ecranul',\n        showBlocks: 'Arată blocuri',\n        codeView: 'Vizualizare cod',\n        undo: 'Anulează',\n        redo: 'Refă',\n        preview: 'Previzualizare',\n        print: 'printează',\n        tag_p: 'Paragraf',\n        tag_div: 'Normal (DIV)',\n        tag_h: 'Antet',\n        tag_blockquote: 'Quote',\n        tag_pre: 'Citat',\n        template: 'Template',\n        lineHeight: 'Înălțime linie',\n        paragraphStyle: 'Stil paragraf',\n        textStyle: 'Stil text',\n        imageGallery: 'Galerie de imagini',\n        mention: 'Mentiune'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Inserează Link',\n          url: 'Adresă link',\n          text: 'Text de afișat',\n          newWindowCheck: 'Deschide în fereastră nouă'\n        },\n        mathBox: {\n          title: 'Matematică',\n          inputLabel: 'Notație matematică',\n          fontSizeLabel: 'Dimensiune font',\n          previewLabel: 'Previzualizare'\n        },\n        imageBox: {\n          title: 'Inserează imagine',\n          file: 'Selectează',\n          url: 'URL imagine',\n          altText: 'text alternativ'\n        },\n        videoBox: {\n          title: 'Inserează video',\n          file: 'Selectează',\n          url: 'Include URL, youtube/vimeo'\n        },\n        audioBox: {\n          title: 'Inserează Audio',\n          file: 'Selectează',\n          url: 'URL Audio'\n        },\n        browser: {\n          tags: 'Etichete',\n          search: 'Căutareim'\n        },\n        caption: 'Inserează descriere',\n        close: 'Închide',\n        submitButton: 'Salvează',\n        revertButton: 'Revenire',\n        proportion: 'Constrânge proporțiile',\n        basic: 'De bază',\n        left: 'Stânga',\n        right: 'Dreapta',\n        center: 'Centru',\n        width: 'Lățime',\n        height: 'Înălțime',\n        size: 'Dimensiune',\n        ratio: 'Ratie'\n      },\n      controller: {\n        edit: 'Editează',\n        unlink: 'Scoate link',\n        remove: 'Elimină',\n        insertRowAbove: 'Inserează rând deasupra',\n        insertRowBelow: 'Inserează rând dedesupt',\n        deleteRow: 'Șterge linie',\n        insertColumnBefore: 'Inserează coloană înainte',\n        insertColumnAfter: 'Inserează coloană după',\n        deleteColumn: 'Șterge coloană',\n        fixedColumnWidth: 'Lățime fixă coloană',\n        resize100: 'Redimensionare 100%',\n        resize75: 'Redimensionare 75%',\n        resize50: 'Redimensionare 50%',\n        resize25: 'Redimensionare 25%',\n        autoSize: 'Dimensiune automată',\n        mirrorHorizontal: 'Oglindă, orizontal',\n        mirrorVertical: 'Oglindă, vertical',\n        rotateLeft: 'Rotește la stânga',\n        rotateRight: 'Rotește la dreapta',\n        maxSize: 'Dimensiune maximă',\n        minSize: 'Dimensiune minimă',\n        tableHeader: 'Antet tabel',\n        mergeCells: 'Îmbină celule',\n        splitCells: 'Divizează celule',\n        HorizontalSplit: 'Despicare orizontală',\n        VerticalSplit: 'Despicare verticală'\n      },\n      menu: {\n        spaced: 'Spațiat',\n        bordered: 'Mărginit',\n        neon: 'Neon',\n        translucent: 'Translucent',\n        shadow: 'Umbră',\n        code: 'Citat'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 40 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'pl',\n      toolbar: {\n        default: 'Domyślne',\n        save: 'Zapisz',\n        font: 'Czcionka',\n        formats: 'Formaty',\n        fontSize: 'Rozmiar',\n        bold: 'Pogrubienie',\n        underline: 'Podkreślenie',\n        italic: 'Kursywa',\n        strike: 'Przekreślenie',\n        subscript: 'Indeks dolny',\n        superscript: 'Indeks górny',\n        removeFormat: 'Wyczyść formatowanie',\n        fontColor: 'Kolor tekstu',\n        hiliteColor: 'Kolor tła tekstu',\n        indent: 'Zwiększ wcięcie',\n        outdent: 'Zmniejsz wcięcie',\n        align: 'Wyrównaj',\n        alignLeft: 'Do lewej',\n        alignRight: 'Do prawej',\n        alignCenter: 'Do środka',\n        alignJustify: 'Wyjustuj',\n        list: 'Lista',\n        orderList: 'Lista numerowana',\n        unorderList: 'Lista wypunktowana',\n        horizontalRule: 'Pozioma linia',\n        hr_solid: 'Ciągła',\n        hr_dotted: 'Kropkowana',\n        hr_dashed: 'Przerywana',\n        table: 'Tabela',\n        link: 'Odnośnik',\n        math: 'Matematyczne',\n        image: 'Obraz',\n        video: 'Wideo',\n        audio: 'Audio',\n        fullScreen: 'Pełny ekran',\n        showBlocks: 'Pokaż bloki',\n        codeView: 'Widok kodu',\n        undo: 'Cofnij',\n        redo: 'Ponów',\n        preview: 'Podgląd',\n        print: 'Drukuj',\n        tag_p: 'Akapit',\n        tag_div: 'Blok (DIV)',\n        tag_h: 'Nagłówek H',\n        tag_blockquote: 'Cytat',\n        tag_pre: 'Kod',\n        template: 'Szablon',\n        lineHeight: 'Odstęp między wierszami',\n        paragraphStyle: 'Styl akapitu',\n        textStyle: 'Styl tekstu',\n        imageGallery: 'Galeria obrazów',\n        mention: 'Wzmianka'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Wstaw odnośnik',\n          url: 'Adres URL',\n          text: 'Tekst do wyświetlenia',\n          newWindowCheck: 'Otwórz w nowym oknie'\n        },\n        mathBox: {\n          title: 'Matematyczne',\n          inputLabel: 'Zapis matematyczny',\n          fontSizeLabel: 'Rozmiar czcionki',\n          previewLabel: 'Podgląd'\n        },\n        imageBox: {\n          title: 'Wstaw obraz',\n          file: 'Wybierz plik',\n          url: 'Adres URL obrazka',\n          altText: 'Tekst alternatywny'\n        },\n        videoBox: {\n          title: 'Wstaw wideo',\n          file: 'Wybierz plik',\n          url: 'Adres URL video, np. YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Wstaw audio',\n          file: 'Wybierz plik',\n          url: 'Adres URL audio'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Szukaj'\n        },\n        caption: 'Wstaw opis',\n        close: 'Zamknij',\n        submitButton: 'Zatwierdź',\n        revertButton: 'Cofnij zmiany',\n        proportion: 'Ogranicz proporcje',\n        basic: 'Bez wyrównania',\n        left: 'Do lewej',\n        right: 'Do prawej',\n        center: 'Do środka',\n        width: 'Szerokość',\n        height: 'Wysokość',\n        size: 'Rozmiar',\n        ratio: 'Proporcje'\n      },\n      controller: {\n        edit: 'Edycja',\n        unlink: 'Usuń odnośnik',\n        remove: 'Usuń',\n        insertRowAbove: 'Wstaw wiersz powyżej',\n        insertRowBelow: 'Wstaw wiersz poniżej',\n        deleteRow: 'Usuń wiersz',\n        insertColumnBefore: 'Wstaw kolumnę z lewej',\n        insertColumnAfter: 'Wstaw kolumnę z prawej',\n        deleteColumn: 'Usuń kolumnę',\n        fixedColumnWidth: 'Stała szerokość kolumny',\n        resize100: 'Zmień rozmiar - 100%',\n        resize75: 'Zmień rozmiar - 75%',\n        resize50: 'Zmień rozmiar - 50%',\n        resize25: 'Zmień rozmiar - 25%',\n        autoSize: 'Rozmiar automatyczny',\n        mirrorHorizontal: 'Odbicie lustrzane w poziomie',\n        mirrorVertical: 'Odbicie lustrzane w pionie',\n        rotateLeft: 'Obróć w lewo',\n        rotateRight: 'Obróć w prawo',\n        maxSize: 'Maksymalny rozmiar',\n        minSize: 'Minimalny rozmiar',\n        tableHeader: 'Nagłówek tabeli',\n        mergeCells: 'Scal komórki',\n        splitCells: 'Podziel komórki',\n        HorizontalSplit: 'Podział poziomy',\n        VerticalSplit: 'Podział pionowy'\n      },\n      menu: {\n        spaced: 'Rozstawiony',\n        bordered: 'Z obwódką',\n        neon: 'Neon',\n        translucent: 'Półprzezroczysty',\n        shadow: 'Cień',\n        code: 'Kod'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 41 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'ckb',\n      toolbar: {\n        default: 'بنه‌ڕه‌ت',\n        save: 'پاشه‌كه‌وتكردن',\n        font: 'فۆنت',\n        formats: 'Formats',\n        fontSize: 'قه‌باره‌',\n        bold: 'تۆخكردن',\n        underline: 'هێڵ به‌ژێردا بێنه‌',\n        italic: 'لار',\n        strike: 'هێڵ به‌ناودا بێنه‌',\n        subscript: 'ژێرسکریپت',\n        superscript: 'سەرنووس',\n        removeFormat: 'لابردنی فۆرمات',\n        fontColor: 'ره‌نگی فۆنت',\n        hiliteColor: 'ره‌نگی دیاركراو',\n        indent: 'بۆشایی بەجێهێشتن',\n        outdent: 'لابردنی بۆشایی',\n        align: 'ئاراسته‌',\n        alignLeft: 'لای چه‌پ',\n        alignRight: 'لای راست',\n        alignCenter: 'ناوه‌ند',\n        alignJustify: 'به‌رێكی دابه‌ش بكه‌',\n        list: 'لیست',\n        orderList: 'لیستی ریزكراو',\n        unorderList: 'لیستی ریزنه‌كراو',\n        horizontalRule: 'هێڵی ئاسۆیی',\n        hr_solid: 'پته‌و',\n        hr_dotted: 'نوكته‌ نوكته‌',\n        hr_dashed: 'داش داش',\n        table: 'خشته‌',\n        link: 'به‌سته‌ر',\n        math: 'بیركاری',\n        image: 'وێنه‌',\n        video: 'ڤیدیۆ',\n        audio: 'ده‌نگ',\n        fullScreen: 'پڕ به‌ شاشه‌',\n        showBlocks: 'بڵۆك نیشانبده',\n        codeView: 'بینینی كۆده‌كان',\n        undo: 'وەک خۆی لێ بکەوە',\n        redo: 'هەڵگەڕاندنەوە',\n        preview: 'پێشبینین',\n        print: 'پرینت',\n        tag_p: 'په‌ره‌گراف',\n        tag_div: 'ی ئاسایی (DIV)',\n        tag_h: 'سەرپەڕە',\n        tag_blockquote: 'ده‌ق',\n        tag_pre: 'كۆد',\n        template: 'قاڵب',\n        lineHeight: 'بڵندی دێر',\n        paragraphStyle: 'ستایلی په‌ره‌گراف',\n        textStyle: 'ستایلی نوسین',\n        imageGallery: 'گاله‌ری وێنه‌كان',\n        mention: 'تنويه ب'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'به‌سته‌ر دابنێ',\n          url: 'به‌سته‌ر',\n          text: 'تێكستی به‌سته‌ر',\n          newWindowCheck: 'له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌'\n        },\n        mathBox: {\n          title: 'بیركاری',\n          inputLabel: 'نیشانه‌كانی بیركاری',\n          fontSizeLabel: 'قه‌باره‌ی فۆنت',\n          previewLabel: 'پێشبینین'\n        },\n        imageBox: {\n          title: 'وێنه‌یه‌ك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'به‌سته‌ری وێنه‌',\n          altText: 'نوسینی جێگره‌وه‌'\n        },\n        videoBox: {\n          title: 'ڤیدیۆیه‌ك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك '\n        },\n        audioBox: {\n          title: 'ده‌نگێك دابنێ',\n          file: 'فایلێك هه‌ڵبژێره‌',\n          url: 'به‌سته‌ری ده‌نگ'\n        },\n        browser: {\n          tags: 'تاگه‌كان',\n          search: 'گه‌ران'\n        },\n        caption: 'پێناسه‌یه‌ك دابنێ',\n        close: 'داخستن',\n        submitButton: 'ناردن',\n        revertButton: 'بیگەڕێنەوە سەر باری سەرەتایی',\n        proportion: 'رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌',\n        basic: 'سه‌ره‌تایی',\n        left: 'چه‌پ',\n        right: 'راست',\n        center: 'ناوەڕاست',\n        width: 'پانی',\n        height: 'به‌رزی',\n        size: 'قه‌باره‌',\n        ratio: 'رێژه‌'\n      },\n      controller: {\n        edit: 'دەسکاریکردن',\n        unlink: 'سڕینەوەی بەستەر',\n        remove: 'سڕینه‌وه‌',\n        insertRowAbove: 'ریزك له‌ سه‌ره‌وه‌ زیادبكه‌',\n        insertRowBelow: 'ریزێك له‌ خواره‌وه‌ زیادبكه‌',\n        deleteRow: 'ریز بسره‌وه‌',\n        insertColumnBefore: 'ستونێك له‌ پێشه‌وه‌ زیادبكه‌',\n        insertColumnAfter: 'ستونێك له‌ دواوه‌ زیادبكه‌',\n        deleteColumn: 'ستونێك بسره‌وه‌',\n        fixedColumnWidth: 'پانی ستون نه‌گۆربكه‌',\n        resize100: 'قه‌باره‌ بگۆره‌ بۆ ١٠٠%',\n        resize75: 'قه‌باره‌ بگۆره‌ بۆ ٧٥%',\n        resize50: 'قه‌باره‌ بگۆره‌ بۆ ٥٠%',\n        resize25: 'قه‌باره‌ بگۆره‌ بۆ ٢٥%',\n        autoSize: 'قه‌باره‌ی خۆكارانه‌',\n        mirrorHorizontal: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی',\n        mirrorVertical: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی',\n        rotateLeft: 'بسوڕێنه‌ به‌لای چه‌پدا',\n        rotateRight: 'بسورێنه‌ به‌لای راستدا',\n        maxSize: 'گه‌وره‌ترین قه‌باره‌',\n        minSize: 'بچوكترین قه‌باره‌',\n        tableHeader: 'سه‌ردێری خشته‌ك',\n        mergeCells: 'خانه‌كان تێكه‌ڵبكه‌',\n        splitCells: 'خانه‌كان لێك جیابكه‌وه‌',\n        HorizontalSplit: 'جیاكردنه‌وه‌ی ئاسۆیی',\n        VerticalSplit: 'جیاكردنه‌وه‌ی ستونی'\n      },\n      menu: {\n        spaced: 'بۆشای هه‌بێت',\n        bordered: 'لێواری هه‌بێت',\n        neon: 'نیۆن',\n        translucent: 'كه‌مێك وه‌ك شووشه‌',\n        shadow: 'سێبه‌ر',\n        code: 'كۆد'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 42 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  (function (global, factory) {\n    if (true && typeof module.exports === 'object') {\n      module.exports = global.document ? factory(global, true) : function (w) {\n        if (!w.document) {\n          throw new Error('SUNEDITOR_LANG a window with a document');\n        }\n\n        return factory(w);\n      };\n    } else {\n      factory(global);\n    }\n  })(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n      code: 'lv',\n      toolbar: {\n        default: 'Noklusējuma',\n        save: 'Saglabāt',\n        font: 'Fonts',\n        formats: 'Formāti',\n        fontSize: 'Fonta lielums',\n        bold: 'Treknraksts',\n        underline: 'Pasvītrot',\n        italic: 'Slīpraksts',\n        strike: 'Pārsvītrojums',\n        subscript: 'Apakšraksts',\n        superscript: 'Augšraksts',\n        removeFormat: 'Noņemt formātu',\n        fontColor: 'Fonta krāsa',\n        hiliteColor: 'Teksta iezīmēšanas krāsa',\n        indent: 'Palielināt atkāpi',\n        outdent: 'Samazināt atkāpi',\n        align: 'Izlīdzināt',\n        alignLeft: 'Līdzināt pa kreisi',\n        alignRight: 'Līdzināt pa labi',\n        alignCenter: 'Centrēt',\n        alignJustify: 'Taisnot',\n        list: 'Saraksts',\n        orderList: 'Numerācija',\n        unorderList: 'Aizzimes',\n        horizontalRule: 'Horizontāla līnija',\n        hr_solid: 'Ciets',\n        hr_dotted: 'Punktiņš',\n        hr_dashed: 'Braša',\n        table: 'Tabula',\n        link: 'Saite',\n        math: 'Matemātika',\n        image: 'Attēls',\n        video: 'Video',\n        audio: 'Audio',\n        fullScreen: 'Pilnekrāna režīms',\n        showBlocks: 'Parādit blokus',\n        codeView: 'Koda skats',\n        undo: 'Atsaukt',\n        redo: 'Atkārtot',\n        preview: 'Priekšskatījums',\n        print: 'Drukāt',\n        tag_p: 'Paragrāfs',\n        tag_div: 'Normāli (DIV)',\n        tag_h: 'Galvene',\n        tag_blockquote: 'Citāts',\n        tag_pre: 'Kods',\n        template: 'Veidne',\n        lineHeight: 'Līnijas augstums',\n        paragraphStyle: 'Paragrāfa stils',\n        textStyle: 'Teksta stils',\n        imageGallery: 'Attēlu galerija',\n        mention: 'Pieminēt'\n      },\n      dialogBox: {\n        linkBox: {\n          title: 'Ievietot saiti',\n          url: 'Saites URL',\n          text: 'Parādāmais teksts',\n          newWindowCheck: 'Atvērt jaunā logā'\n        },\n        mathBox: {\n          title: 'Matemātika',\n          inputLabel: 'Matemātiskā notācija',\n          fontSizeLabel: 'Fonta lielums',\n          previewLabel: 'Priekšskatījums'\n        },\n        imageBox: {\n          title: 'Ievietot attēlu',\n          file: 'Izvēlieties no failiem',\n          url: 'Attēla URL',\n          altText: 'Alternatīvs teksts'\n        },\n        videoBox: {\n          title: 'Ievietot video',\n          file: 'Izvēlieties no failiem',\n          url: 'Multivides iegulšanas URL, YouTube/Vimeo'\n        },\n        audioBox: {\n          title: 'Ievietot audio',\n          file: 'Izvēlieties no failiem',\n          url: 'Audio URL'\n        },\n        browser: {\n          tags: 'Tagi',\n          search: 'Meklēt'\n        },\n        caption: 'Ievietot aprakstu',\n        close: 'Aizvērt',\n        submitButton: 'Iesniegt',\n        revertButton: 'Atjaunot',\n        proportion: 'Ierobežo proporcijas',\n        basic: 'Nav iesaiņojuma',\n        left: 'Pa kreisi',\n        right: 'Labajā pusē',\n        center: 'Centrs',\n        width: 'Platums',\n        height: 'Augstums',\n        size: 'Izmērs',\n        ratio: 'Attiecība'\n      },\n      controller: {\n        edit: 'Rediģēt',\n        unlink: 'Atsaistīt',\n        remove: 'Noņemt',\n        insertRowAbove: 'Ievietot rindu virs',\n        insertRowBelow: 'Ievietot rindu zemāk',\n        deleteRow: 'Dzēst rindu',\n        insertColumnBefore: 'Ievietot kolonnu pirms',\n        insertColumnAfter: 'Ievietot kolonnu aiz',\n        deleteColumn: 'Dzēst kolonnu',\n        fixColumnWidth: 'Fiksēts kolonnas platums',\n        resize100: 'Mainīt izmēru 100%',\n        resize75: 'Mainīt izmēru 75%',\n        resize50: 'Mainīt izmēru 50%',\n        resize25: 'Mainīt izmēru 25%',\n        autoSize: 'Automātiskais izmērs',\n        mirrorHorizontal: 'Spogulis, horizontāls',\n        mirrorVertical: 'Spogulis, vertikāls',\n        rotateLeft: 'Pagriezt pa kreisi',\n        rotateRight: 'Pagriezt pa labi',\n        maxSize: 'Maksimālais izmērs',\n        minSize: 'Minimālais izmērs',\n        tableHeader: 'Tabulas galvene',\n        mergeCells: 'Apvienot šūnas',\n        splitCells: 'Sadalīt šūnas',\n        HorizontalSplit: 'Horizontāls sadalījums',\n        VerticalSplit: 'Vertikāls sadalījums'\n      },\n      menu: {\n        spaced: 'Ar atstarpi',\n        bordered: 'Robežojās',\n        neon: 'Neona',\n        translucent: 'Caurspīdīgs',\n        shadow: 'Ēna',\n        code: 'Kods'\n      }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n      if (!window.SUNEDITOR_LANG) {\n        Object.defineProperty(window, 'SUNEDITOR_LANG', {\n          enumerable: true,\n          writable: false,\n          configurable: false,\n          value: {}\n        });\n      }\n\n      Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\n        enumerable: true,\n        writable: true,\n        configurable: true,\n        value: lang\n      });\n    }\n\n    return lang;\n  });\n  /***/\n\n},\n/* 43 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = __webpack_require__(44);\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  module.exports = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n\n    ;\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n\n    ; // Important!\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n  /***/\n\n},\n/* 44 */\n\n/***/\nfunction (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  module.exports = ReactPropTypesSecret;\n  /***/\n},\n/* 45 */\n\n/***/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\"; // ESM COMPAT FLAG\n\n  __webpack_require__.r(__webpack_exports__); // EXPORTS\n\n\n  __webpack_require__.d(__webpack_exports__, \"buttonList\", function () {\n    return (\n      /* reexport */\n      buttonList_namespaceObject\n    );\n  }); // NAMESPACE OBJECT: ./misc/buttonList.js\n\n\n  var buttonList_namespaceObject = {};\n\n  __webpack_require__.r(buttonList_namespaceObject);\n\n  __webpack_require__.d(buttonList_namespaceObject, \"basic\", function () {\n    return basic;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"complex\", function () {\n    return complex;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"formatting\", function () {\n    return formatting;\n  });\n\n  __webpack_require__.d(buttonList_namespaceObject, \"default\", function () {\n    return misc_buttonList;\n  }); // CONCATENATED MODULE: ./misc/buttonList.js\n\n\n  var basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\n  var complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\n  var formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n  /* harmony default export */\n\n  var misc_buttonList = {\n    basic,\n    complex,\n    formatting\n  }; // EXTERNAL MODULE: external \"react\"\n\n  var external_react_ = __webpack_require__(7);\n\n  var external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_); // CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2020 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var defaultIcons = {\n    // rtl icon\n    rtl: {\n      italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.5 15.8\" xml:space=\"preserve\"><g><path d=\"M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z\"/></g></svg>',\n      indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z\"/></g></svg>',\n      outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z\"/></g></svg>',\n      list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><path d=\"M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z\"/></g></svg>',\n      list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z\"/></g><path d=\"M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z\"/><path d=\"M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z\"/><path d=\"M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z\"/></svg>',\n      link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z\"/></g></svg>',\n      unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z\"/></g></svg>'\n    },\n    // common, ltr icon\n    redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n    undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n    bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n    underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n    italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n    strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n    subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n    superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n    erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n    indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n    preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n    print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n    template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n    line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n    paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n    text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n    save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n    arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n    align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n    font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n    highlight_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n    list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n    table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n    show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n    cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n    video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n    link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n    unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n    caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n    edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n    delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n    revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n    auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n    insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n    insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n    insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n    insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n    delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n    delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n    fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n    rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n    rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n    mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n    mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n    checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n    line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n    audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\n    image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n    // More icons\n    more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n    more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n    more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n    // Not currently used\n    attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n    map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n    magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n    empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n  }; // EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\n\n  var en = __webpack_require__(4);\n\n  var en_default = /*#__PURE__*/__webpack_require__.n(en); // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description utility function\r\n   */\n\n\n  const util_util = {\n    _d: null,\n    _w: null,\n    isIE: null,\n    isIE_Edge: null,\n    isOSX_IOS: null,\n    _propertiesInit: function () {\n      if (this._d) return;\n      this._d = document;\n      this._w = window;\n      this.isIE = navigator.userAgent.indexOf('Trident') > -1;\n      this.isIE_Edge = navigator.userAgent.indexOf('Trident') > -1 || navigator.appVersion.indexOf('Edge') > -1;\n      this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\n    },\n\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\n    _HTMLConvertor: function (contents) {\n      const ec = {\n        '&': '&amp;',\n        '\\u00A0': '&nbsp;',\n        '\\'': '&apos;',\n        '\"': '&quot;',\n        '<': '&lt;',\n        '>': '&gt;'\n      };\n      return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\n    zeroWidthSpace: String.fromCharCode(8203),\n\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\n\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\n\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\n    onlyZeroWidthSpace: function (text) {\n      if (typeof text !== 'string') text = text.textContent;\n      return text === '' || this.onlyZeroWidthRegExp.test(text);\n    },\n\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\n    getXMLHttpRequest: function () {\n      /** IE */\n      if (this._w.ActiveXObject) {\n        try {\n          return new ActiveXObject('Msxml2.XMLHTTP');\n        } catch (e) {\n          try {\n            return new ActiveXObject('Microsoft.XMLHTTP');\n          } catch (e1) {\n            return null;\n          }\n        }\n      }\n      /** netscape */\n      else if (this._w.XMLHttpRequest) {\n          return new XMLHttpRequest();\n        }\n        /** fail */\n        else {\n            return null;\n          }\n    },\n\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\n    createElement: function (elementName) {\n      return this._d.createElement(elementName);\n    },\n\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\n    createTextNode: function (text) {\n      return this._d.createTextNode(text || '');\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLEncoder: function (contents) {\n      const ec = {\n        '<': '$lt;',\n        '>': '$gt;'\n      };\n      return contents.replace(/<|>/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\n    HTMLDecoder: function (contents) {\n      const ec = {\n        '$lt;': '<',\n        '$gt;': '>'\n      };\n      return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\n        return typeof ec[m] === 'string' ? ec[m] : m;\n      });\n    },\n\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\n    hasOwn: function (obj, key) {\n      return this._hasOwn.call(obj, key);\n    },\n    _hasOwn: Object.prototype.hasOwnProperty,\n\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\n    getIncludePath: function (nameArray, extension) {\n      let path = '';\n      const pathList = [];\n      const tagName = extension === 'js' ? 'script' : 'link';\n      const src = extension === 'js' ? 'src' : 'href';\n      let fileName = '(?:';\n\n      for (let i = 0, len = nameArray.length; i < len; i++) {\n        fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\n      }\n\n      const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n      const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\n\n      for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\n        if (extRegExp.test(c[i][src])) {\n          pathList.push(c[i]);\n        }\n      }\n\n      for (let i = 0; i < pathList.length; i++) {\n        let editorTag = pathList[i][src].match(regExp);\n\n        if (editorTag) {\n          path = editorTag[0];\n          break;\n        }\n      }\n\n      if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\n      -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\n      if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\n      return path;\n    },\n\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\n    getPageStyle: function (doc) {\n      let cssText = '';\n      const sheets = (doc || this._d).styleSheets;\n\n      for (let i = 0, len = sheets.length, rules; i < len; i++) {\n        try {\n          rules = sheets[i].cssRules;\n        } catch (e) {\n          continue;\n        }\n\n        for (let c = 0, cLen = rules.length; c < cLen; c++) {\n          cssText += rules[c].cssText;\n        }\n      }\n\n      return cssText;\n    },\n\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\n    getIframeDocument: function (iframe) {\n      let wDocument = iframe.contentWindow || iframe.contentDocument;\n      if (wDocument.document) wDocument = wDocument.document;\n      return wDocument;\n    },\n\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\n    getAttributesToString: function (element, exceptAttrs) {\n      if (!element.attributes) return '';\n      const attrs = element.attributes;\n      let attrString = '';\n\n      for (let i = 0, len = attrs.length; i < len; i++) {\n        if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\n        attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\n      }\n\n      return attrString;\n    },\n\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\n    getByteLength: function (text) {\n      const encoder = this._w.encodeURIComponent;\n      let cr, cl;\n\n      if (this.isIE_Edge) {\n        cl = this._w.unescape(encoder(text.toString())).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      } else {\n        cl = new this._w.TextEncoder('utf-8').encode(text.toString()).length;\n        cr = 0;\n\n        if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\n          cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\n        }\n\n        return cl + cr;\n      }\n    },\n\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isWysiwygDiv: function (element) {\n      return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNonEditable: function (element) {\n      return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\n    },\n\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isTextStyleElement: function (element) {\n      return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureRangeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\n    },\n\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\n    },\n\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isClosureFreeFormatElement: function (element) {\n      return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe, video, audio] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isComponent: function (element) {\n      return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\n    },\n\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isMediaComponent: function (element) {\n      return element && /se-component/.test(element.className);\n    },\n\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\n    isNotCheckingNode: function (element) {\n      return element && /katex|__se__tag/.test(element.className);\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element)) element.firstElementChild;\n        if (this.isFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getRangeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\n    getClosureFreeFormatElement: function (element, validation) {\n      if (!element) return null;\n\n      if (!validation) {\n        validation = function () {\n          return true;\n        };\n      }\n\n      while (element) {\n        if (this.isWysiwygDiv(element)) return null;\n        if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\n        element = element.parentNode;\n      }\n\n      return null;\n    },\n\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyTagAttributes: function (originEl, copyEl) {\n      if (copyEl.style.cssText) {\n        originEl.style.cssText += copyEl.style.cssText;\n      }\n\n      const classes = copyEl.classList;\n\n      for (let i = 0, len = classes.length; i < len; i++) {\n        this.addClass(originEl, classes[i]);\n      }\n\n      if (!originEl.style.cssText) originEl.removeAttribute('style');\n      if (!originEl.className.trim()) originEl.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\n    copyFormatAttributes: function (originEl, copyEl) {\n      copyEl = copyEl.cloneNode(false);\n      copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\n      this.copyTagAttributes(originEl, copyEl);\n    },\n\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\n    getArrayItem: function (array, validation, multi) {\n      if (!array || array.length === 0) return null;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      const arr = [];\n\n      for (let i = 0, len = array.length, a; i < len; i++) {\n        a = array[i];\n\n        if (validation(a)) {\n          if (!multi) return a;else arr.push(a);\n        }\n      }\n\n      return !multi ? null : arr;\n    },\n\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\n    getArrayIndex: function (array, element) {\n      let idx = -1;\n\n      for (let i = 0, len = array.length; i < len; i++) {\n        if (array[i] === element) {\n          idx = i;\n          break;\n        }\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    nextIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx + 1;\n    },\n\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\n    prevIdx: function (array, item) {\n      let idx = this.getArrayIndex(array, item);\n      if (idx === -1) return -1;\n      return idx - 1;\n    },\n\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\n    getPositionIndex: function (node) {\n      let idx = 0;\n\n      while (node = node.previousSibling) {\n        idx += 1;\n      }\n\n      return idx;\n    },\n\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\n    getNodePath: function (node, parentNode, _newOffsets) {\n      const path = [];\n      let finds = true;\n      this.getParentElement(node, function (el) {\n        if (el === parentNode) finds = false;\n\n        if (finds && !this.isWysiwygDiv(el)) {\n          // merge text nodes\n          if (_newOffsets && el.nodeType === 3) {\n            let temp = null,\n                tempText = null;\n            _newOffsets.s = _newOffsets.e = 0;\n            let previous = el.previousSibling;\n\n            while (previous && previous.nodeType === 3) {\n              tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.s += tempText.length;\n              el.textContent = tempText + el.textContent;\n              temp = previous;\n              previous = previous.previousSibling;\n              this.removeItem(temp);\n            }\n\n            let next = el.nextSibling;\n\n            while (next && next.nodeType === 3) {\n              tempText = next.textContent.replace(this.zeroWidthRegExp, '');\n              _newOffsets.e += tempText.length;\n              el.textContent += tempText;\n              temp = next;\n              next = next.nextSibling;\n              this.removeItem(temp);\n            }\n          } // index push\n\n\n          path.push(el);\n        }\n\n        return false;\n      }.bind(this));\n      return path.map(this.getPositionIndex).reverse();\n    },\n\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\n    getNodeFromPath: function (offsets, parentNode) {\n      let current = parentNode;\n      let nodes;\n\n      for (let i = 0, len = offsets.length; i < len; i++) {\n        nodes = current.childNodes;\n        if (nodes.length === 0) break;\n\n        if (nodes.length <= offsets[i]) {\n          current = nodes[nodes.length - 1];\n        } else {\n          current = nodes[offsets[i]];\n        }\n      }\n\n      return current;\n    },\n\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\n    isSameAttributes: function (a, b) {\n      if (a.nodeType === 3 && b.nodeType === 3) return true;\n      if (a.nodeType === 3 || b.nodeType === 3) return false;\n      const style_a = a.style;\n      const style_b = b.style;\n      let compStyle = 0;\n\n      for (let i = 0, len = style_a.length; i < len; i++) {\n        if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\n      }\n\n      const class_a = a.classList;\n      const class_b = b.classList;\n      const reg = this._w.RegExp;\n      let compClass = 0;\n\n      for (let i = 0, len = class_a.length; i < len; i++) {\n        if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\n      }\n\n      return compStyle === style_b.length && compStyle === style_a.length && compClass === class_b.length && compClass === class_a.length;\n    },\n\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isList: function (node) {\n      return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isListCell: function (node) {\n      return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isTable: function (node) {\n      return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isCell: function (node) {\n      return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isBreak: function (node) {\n      return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isAnchor: function (node) {\n      return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\n    isMedia: function (node) {\n      return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\n    },\n\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\n    isNumber: function (text) {\n      return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\n    },\n\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\n    getNumber: function (text, maxDec) {\n      if (!text) return 0;\n      let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\n      if (!number || !number[0]) return 0;\n      number = number[0];\n      return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\n    },\n\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildren: function (element, validation) {\n      const children = [];\n      if (!element || !element.children || element.children.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (let i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\n    getListChildNodes: function (element, validation) {\n      const children = [];\n      if (!element || element.childNodes.length === 0) return children;\n\n      validation = validation || function () {\n        return true;\n      };\n\n      (function recursionFunc(current) {\n        if (element !== current && validation(current)) {\n          children.push(current);\n        }\n\n        for (let i = 0, len = current.childNodes.length; i < len; i++) {\n          recursionFunc(current.childNodes[i]);\n        }\n      })(element);\n\n      return children;\n    },\n\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\n    getElementDepth: function (element) {\n      if (!element || this.isWysiwygDiv(element)) return -1;\n      let depth = 0;\n      element = element.parentNode;\n\n      while (element && !this.isWysiwygDiv(element)) {\n        depth += 1;\n        element = element.parentNode;\n      }\n\n      return depth;\n    },\n\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\n    compareElements: function (a, b) {\n      let aNode = a,\n          bNode = b;\n\n      while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\n        aNode = aNode.parentNode;\n        bNode = bNode.parentNode;\n      }\n\n      if (!aNode || !bNode) return {\n        ancestor: null,\n        a: a,\n        b: b,\n        result: 0\n      };\n      const children = aNode.parentNode.childNodes;\n      const aIndex = this.getArrayIndex(children, aNode);\n      const bIndex = this.getArrayIndex(children, bNode);\n      return {\n        ancestor: aNode.parentNode,\n        a: aNode,\n        b: bNode,\n        result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\n      };\n    },\n\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getParentElement: function (element, query) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + query + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      while (element && !check(element)) {\n        if (this.isWysiwygDiv(element)) {\n          return null;\n        }\n\n        element = element.parentNode;\n      }\n\n      return element;\n    },\n\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\n    getChildElement: function (element, query, last) {\n      let check;\n\n      if (typeof query === 'function') {\n        check = query;\n      } else {\n        let attr;\n\n        if (/^\\./.test(query)) {\n          attr = 'className';\n          query = query.split('.')[1];\n        } else if (/^#/.test(query)) {\n          attr = 'id';\n          query = '^' + query.split('#')[1] + '$';\n        } else if (/^:/.test(query)) {\n          attr = 'name';\n          query = '^' + query.split(':')[1] + '$';\n        } else {\n          attr = 'nodeName';\n          query = '^' + (query === 'text' ? '#' + query : query) + '$';\n        }\n\n        const regExp = new this._w.RegExp(query, 'i');\n\n        check = function (el) {\n          return regExp.test(el[attr]);\n        };\n      }\n\n      const childList = this.getListChildNodes(element, function (current) {\n        return check(current);\n      });\n      return childList[last ? childList.length - 1 : 0];\n    },\n\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\n    getEdgeChildNodes: function (first, last) {\n      if (!first) return;\n      if (!last) last = first;\n\n      while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\n\n      while (last && last.nodeType === 1 && last.childNodes.length > 0 && !this.isBreak(last)) last = last.lastChild;\n\n      return {\n        sc: first,\n        ec: last || first\n      };\n    },\n\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\n    getOffset: function (element, wysiwygFrame) {\n      let offsetLeft = 0;\n      let offsetTop = 0;\n      let offsetElement = element.nodeType === 3 ? element.parentElement : element;\n      const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\n\n      while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\n        offsetLeft += offsetElement.offsetLeft;\n        offsetTop += offsetElement.offsetTop;\n        offsetElement = offsetElement.offsetParent;\n      }\n\n      const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\n      return {\n        left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\n        top: offsetTop - wysiwyg.scrollTop + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\n      };\n    },\n\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\n      if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\n      const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\n      return (overlap < 0 ? overlap * -1 : overlap) + 1;\n    },\n\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\n    changeTxt: function (element, txt) {\n      if (!element || !txt) return;\n      element.textContent = txt;\n    },\n\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\n    changeElement: function (element, newElement) {\n      if (typeof newElement === 'string') {\n        if (element.outerHTML) {\n          element.outerHTML = newElement;\n        } else {\n          const doc = this.createElement('DIV');\n          doc.innerHTML = newElement;\n          newElement = doc.firstChild;\n          element.parentNode.replaceChild(newElement, element);\n        }\n      } else if (newElement.nodeType === 1) {\n        element.parentNode.replaceChild(newElement, element);\n      }\n    },\n\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\n    setStyle: function (element, styleName, value) {\n      element.style[styleName] = value;\n\n      if (!value && !element.style.cssText) {\n        element.removeAttribute('style');\n      }\n    },\n\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\n    hasClass: function (element, className) {\n      if (!element) return;\n      return new this._w.RegExp(className).test(element.className);\n    },\n\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\n    addClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      if (check.test(element.className)) return;\n      element.className += (element.className.length > 0 ? ' ' : '') + className;\n    },\n\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\n    removeClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n      element.className = element.className.replace(check, ' ').trim();\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\n    toggleClass: function (element, className) {\n      if (!element) return;\n      const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\n      if (check.test(element.className)) {\n        element.className = element.className.replace(check, ' ').trim();\n      } else {\n        element.className += ' ' + className;\n      }\n\n      if (!element.className.trim()) element.removeAttribute('class');\n    },\n\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\n    setDisabledButtons: function (disabled, buttonList) {\n      for (let i = 0, len = buttonList.length; i < len; i++) {\n        buttonList[i].disabled = disabled;\n      }\n    },\n\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\n    removeItem: function (item) {\n      if (!item) return;\n\n      try {\n        item.remove();\n      } catch (e) {\n        if (item.parentNode) item.parentNode.removeChild(item);\n      }\n    },\n\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\n    removeItemAllParents: function (item, validation, stopParent) {\n      if (!item) return null;\n      let cc = null;\n\n      if (!validation) {\n        validation = function (current) {\n          if (current === stopParent || this.isComponent(current)) return false;\n          const text = current.textContent.trim();\n          return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n        }.bind(this);\n      }\n\n      (function recursionFunc(element) {\n        if (!util_util.isWysiwygDiv(element)) {\n          const parent = element.parentNode;\n\n          if (parent && validation(element)) {\n            cc = {\n              sc: element.previousElementSibling,\n              ec: element.nextElementSibling\n            };\n            util_util.removeItem(element);\n            recursionFunc(parent);\n          }\n        }\n      })(item);\n\n      return cc;\n    },\n\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\n    detachNestedList: function (baseNode, all) {\n      const rNode = this._deleteNestedList(baseNode);\n\n      let rangeElement, cNodes;\n\n      if (rNode) {\n        rangeElement = rNode.cloneNode(false);\n        cNodes = rNode.childNodes;\n        const index = this.getPositionIndex(baseNode);\n\n        while (cNodes[index]) {\n          rangeElement.appendChild(cNodes[index]);\n        }\n      } else {\n        rangeElement = baseNode;\n      }\n\n      let rChildren;\n\n      if (!all) {\n        const depth = this.getElementDepth(baseNode) + 2;\n        rChildren = this.getListChildren(baseNode, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth;\n        }.bind(this));\n      } else {\n        rChildren = this.getListChildren(rangeElement, function (current) {\n          return this.isListCell(current) && !current.previousElementSibling;\n        }.bind(this));\n      }\n\n      for (let i = 0, len = rChildren.length; i < len; i++) {\n        this._deleteNestedList(rChildren[i]);\n      }\n\n      if (rNode) {\n        rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\n        if (cNodes && cNodes.length === 0) this.removeItem(rNode);\n      }\n\n      return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\n    },\n\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\n    _deleteNestedList: function (baseNode) {\n      const baseParent = baseNode.parentNode;\n      let sibling = baseParent;\n      let parent = sibling.parentNode;\n      let liSibling, liParent, child, index, c;\n\n      while (this.isListCell(parent)) {\n        index = this.getPositionIndex(baseNode);\n        liSibling = parent.nextElementSibling;\n        liParent = parent.parentNode;\n        child = sibling;\n\n        while (child) {\n          sibling = sibling.nextSibling;\n\n          if (this.isList(child)) {\n            c = child.childNodes;\n\n            while (c[index]) {\n              liParent.insertBefore(c[index], liSibling);\n            }\n\n            if (c.length === 0) this.removeItem(child);\n          } else {\n            liParent.appendChild(child);\n          }\n\n          child = sibling;\n        }\n\n        sibling = liParent;\n        parent = liParent.parentNode;\n      }\n\n      if (baseParent.children.length === 0) this.removeItem(baseParent);\n      return liParent;\n    },\n\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\n    splitElement: function (baseNode, offset, depth) {\n      const bp = baseNode.parentNode;\n      let index = 0,\n          newEl,\n          children,\n          temp;\n      let next = true;\n      if (!depth || depth < 0) depth = 0;\n\n      if (baseNode.nodeType === 3) {\n        index = this.getPositionIndex(baseNode);\n\n        if (offset >= 0) {\n          baseNode.splitText(offset);\n          const after = this.getNodeFromPath([index + 1], bp);\n          if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\n        }\n      } else if (baseNode.nodeType === 1) {\n        if (!baseNode.previousSibling) {\n          if (this.getElementDepth(baseNode) === depth) next = false;\n        } else {\n          baseNode = baseNode.previousSibling;\n        }\n      }\n\n      let depthEl = baseNode;\n\n      while (this.getElementDepth(depthEl) > depth) {\n        index = this.getPositionIndex(depthEl) + 1;\n        depthEl = depthEl.parentNode;\n        temp = newEl;\n        newEl = depthEl.cloneNode(false);\n        children = depthEl.childNodes;\n\n        if (temp) {\n          if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\n            newEl.innerHTML = temp.firstElementChild.innerHTML;\n            util_util.removeItem(temp.firstElementChild);\n            if (temp.children.length > 0) newEl.appendChild(temp);\n          } else {\n            newEl.appendChild(temp);\n          }\n        }\n\n        while (children[index]) {\n          newEl.appendChild(children[index]);\n        }\n      }\n\n      if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\n      const pElement = depthEl.parentNode;\n      if (next) depthEl = depthEl.nextSibling;\n      if (!newEl) return depthEl;\n      this.mergeSameTags(newEl, null, false);\n      this.mergeNestedTags(newEl, function (current) {\n        return this.isList(current);\n      }.bind(this));\n      if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);else newEl = depthEl;\n      if (bp.childNodes.length === 0) this.removeItem(bp);\n      return newEl;\n    },\n\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\n    mergeSameTags: function (element, nodePathArray, onlyText) {\n      const inst = this;\n      const nodePathLen = nodePathArray ? nodePathArray.length : 0;\n      let offsets = null;\n\n      if (nodePathLen) {\n        offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\n      }\n\n      (function recursionFunc(current, depth, depthIndex) {\n        const children = current.childNodes;\n\n        for (let i = 0, len = children.length, child, next; i < len; i++) {\n          child = children[i];\n          next = children[i + 1];\n          if (!child) break;\n\n          if (onlyText && inst._isIgnoreNodeChange(child) || !onlyText && (inst.isTable(child) || inst.isListCell(child) || inst.isFormatElement(child) && !inst.isFreeFormatElement(child))) {\n            if (inst.isTable(child) || inst.isListCell(child)) {\n              recursionFunc(child, depth + 1, i);\n            }\n\n            continue;\n          }\n\n          if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\n            // update nodePath\n            if (nodePathLen) {\n              let path, c, p, cDepth, spliceDepth;\n\n              for (let n = 0; n < nodePathLen; n++) {\n                path = nodePathArray[n];\n\n                if (path && path[depth] === i) {\n                  c = child, p = current, cDepth = depth, spliceDepth = true;\n\n                  while (cDepth >= 0) {\n                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\n                      spliceDepth = false;\n                      break;\n                    }\n\n                    c = child.parentNode;\n                    p = c.parentNode;\n                    cDepth--;\n                  }\n\n                  if (spliceDepth) {\n                    path.splice(depth, 1);\n                    path[depth] = i;\n                  }\n                }\n              }\n            } // merge tag\n\n\n            inst.copyTagAttributes(child, current);\n            current.parentNode.insertBefore(child, current);\n            inst.removeItem(current);\n          }\n\n          if (!next) {\n            if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\n            break;\n          }\n\n          if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\n            const childs = child.childNodes;\n            let childLength = 0;\n\n            for (let n = 0, nLen = childs.length; n < nLen; n++) {\n              if (childs[n].textContent.length > 0) childLength++;\n            }\n\n            const l = child.lastChild;\n            const r = next.firstChild;\n            let addOffset = 0;\n\n            if (l && r) {\n              const textOffset = l.nodeType === 3 && r.nodeType === 3;\n              addOffset = l.textContent.length;\n              let tempL = l.previousSibling;\n\n              while (tempL && tempL.nodeType === 3) {\n                addOffset += tempL.textContent.length;\n                tempL = tempL.previousSibling;\n              }\n\n              if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n\n                      if (textOffset) {\n                        if (l && l.nodeType === 3 && r && r.nodeType === 3) {\n                          offsets[n] += addOffset;\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n\n            if (child.nodeType === 3) {\n              addOffset = child.textContent.length;\n              child.textContent += next.textContent;\n\n              if (nodePathLen) {\n                let path = null;\n\n                for (let n = 0; n < nodePathLen; n++) {\n                  path = nodePathArray[n];\n\n                  if (path && path[depth] > i) {\n                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\n                    path[depth] -= 1;\n\n                    if (path[depth + 1] >= 0 && path[depth] === i) {\n                      path[depth + 1] += childLength;\n                      offsets[n] += addOffset;\n                    }\n                  }\n                }\n              }\n            } else {\n              child.innerHTML += next.innerHTML;\n            }\n\n            inst.removeItem(next);\n            i--;\n          } else if (child.nodeType === 1) {\n            recursionFunc(child, depth + 1, i);\n          }\n        }\n      })(element, 0, 0);\n\n      return offsets;\n    },\n\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\n    mergeNestedTags: function (element, validation) {\n      if (typeof validation === 'string') {\n        validation = function (current) {\n          return this.test(current.tagName);\n        }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\n      } else if (typeof validation !== 'function') {\n        validation = function () {\n          return true;\n        };\n      }\n\n      (function recursionFunc(current) {\n        let children = current.children;\n\n        if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\n          const temp = children[0];\n          children = temp.children;\n\n          while (children[0]) {\n            current.appendChild(children[0]);\n          }\n\n          current.removeChild(temp);\n        }\n\n        for (let i = 0, len = current.children.length; i < len; i++) {\n          recursionFunc(current.children[i]);\n        }\n      })(element);\n    },\n\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\n    removeEmptyNode: function (element, notRemoveNode) {\n      const inst = this;\n\n      if (notRemoveNode) {\n        notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\n          return element === current.parentElement;\n        });\n      }\n\n      (function recursionFunc(current) {\n        if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\n\n        if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\n          if (current.parentNode) {\n            current.parentNode.removeChild(current);\n            return -1;\n          }\n        } else {\n          const children = current.children;\n\n          for (let i = 0, len = children.length, r = 0; i < len; i++) {\n            if (!children[i + r] || inst.isComponent(children[i + r])) continue;\n            r += recursionFunc(children[i + r]);\n          }\n        }\n\n        return 0;\n      })(element);\n\n      if (element.childNodes.length === 0) element.innerHTML = '<br>';\n    },\n\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\n    htmlRemoveWhiteSpace: function (html) {\n      if (!html) return '';\n      return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) {\n        return m.trim();\n      });\n    },\n\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\n    sortByDepth: function (array, des) {\n      const t = !des ? -1 : 1;\n      const f = t * -1;\n      array.sort(function (a, b) {\n        if (!this.isListCell(a) || !this.isListCell(b)) return 0;\n        a = this.getElementDepth(a);\n        b = this.getElementDepth(b);\n        return a > b ? t : a < b ? f : 0;\n      }.bind(this));\n    },\n\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isIgnoreNodeChange: function (element) {\n      return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\n    },\n\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isMaintainedNode: function (element) {\n      return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\n    },\n\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _isSizeNode: function (element) {\n      return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\n    },\n\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _notTextNode: function (element) {\n      return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\n    },\n\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\n    _disallowedTags: function (element) {\n      return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\n    },\n\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\n    createTagsWhitelist: function (list) {\n      return new RegExp('<\\\\/?\\\\b(?!\\\\b' + list.replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\n    },\n\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\n      /**\r\n       * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n       * So check the node type and exclude the text no (current.nodeType !== 1)\r\n       */\n      const removeTags = [],\n            emptyTags = [],\n            wrongList = [],\n            withoutFormatCells = []; // wrong position\n\n      const wrongTags = this.getListChildNodes(documentFragment, function (current) {\n        if (current.nodeType !== 1) return false; // white list\n\n        if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\n          removeTags.push(current);\n          return false;\n        }\n\n        const nrtag = !this.getParentElement(current, this.isNotCheckingNode); // empty tags\n\n        if (!this.isTable(current) && !this.isListCell(current) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\n          emptyTags.push(current);\n          return false;\n        } // wrong list\n\n\n        if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\n          wrongList.push(current);\n          return false;\n        } // table cells\n\n\n        if (this.isCell(current)) {\n          const fel = current.firstElementChild;\n\n          if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\n            withoutFormatCells.push(current);\n            return false;\n          }\n        }\n\n        return current.parentNode !== documentFragment && (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) && !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) && !this.getParentElement(current, this.isComponent) && nrtag;\n      }.bind(this));\n\n      for (let i = 0, len = removeTags.length; i < len; i++) {\n        this.removeItem(removeTags[i]);\n      }\n\n      const checkTags = [];\n\n      for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\n        t = wrongTags[i];\n        p = t.parentNode;\n        if (!p || !p.parentNode) continue;\n        p.parentNode.insertBefore(t, p);\n        checkTags.push(p);\n      }\n\n      for (let i = 0, len = checkTags.length, t; i < len; i++) {\n        t = checkTags[i];\n\n        if (this.onlyZeroWidthSpace(t.textContent.trim())) {\n          this.removeItem(t);\n        }\n      }\n\n      for (let i = 0, len = emptyTags.length; i < len; i++) {\n        this.removeItem(emptyTags[i]);\n      }\n\n      for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\n        t = wrongList[i];\n        tp = this.createElement('LI');\n        children = t.childNodes;\n\n        while (children[0]) {\n          tp.appendChild(children[0]);\n        }\n\n        p = t.parentNode;\n        if (!p) continue;\n        p.insertBefore(tp, t);\n        this.removeItem(t);\n      }\n\n      for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\n        t = withoutFormatCells[i];\n        f = this.createElement('DIV');\n        f.innerHTML = t.textContent.trim().length === 0 ? '<br>' : t.innerHTML;\n        t.innerHTML = f.outerHTML;\n      }\n    },\n    _setDefaultOptionStyle: function (options, defaultStyle) {\n      let optionStyle = '';\n      if (options.height) optionStyle += 'height:' + options.height + ';';\n      if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\n      if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\n      if (options.position) optionStyle += 'position:' + options.position + ';';\n      if (options.width) optionStyle += 'width:' + options.width + ';';\n      if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\n      if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\n      let top = '',\n          frame = '',\n          editor = '';\n      defaultStyle = optionStyle + defaultStyle;\n      const styleArr = defaultStyle.split(';');\n\n      for (let i = 0, len = styleArr.length, s; i < len; i++) {\n        s = styleArr[i].trim();\n        if (!s) continue;\n\n        if (/^(min-|max-)?width\\s*:/.test(s)) {\n          top += s + ';';\n          continue;\n        }\n\n        if (/^(min-|max-)?height\\s*:/.test(s)) {\n          if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\n            options.height = 'auto';\n          }\n\n          frame += s + ';';\n          continue;\n        }\n\n        editor += s + ';';\n      }\n\n      return {\n        top: top,\n        frame: frame,\n        editor: editor\n      };\n    },\n    _setIframeDocument: function (frame, options) {\n      frame.setAttribute('scrolling', 'auto');\n      frame.contentDocument.head.innerHTML = '' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + this._setIframeCssTags(options);\n      frame.contentDocument.body.className = options._editableClass;\n      frame.contentDocument.body.setAttribute('contenteditable', true);\n    },\n    _setIframeCssTags: function (options) {\n      const linkNames = options.iframeCSSFileName;\n      const wRegExp = this._w.RegExp;\n      let tagString = '';\n\n      for (let f = 0, len = linkNames.length, path; f < len; f++) {\n        path = [];\n\n        if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\n          path.push(linkNames[f]);\n        } else {\n          const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\n\n          for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\n            styleTag = c[i].href.match(CSSFileName);\n            if (styleTag) path.push(styleTag[0]);\n          }\n        }\n\n        if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\n\n        for (let i = 0, len = path.length; i < len; i++) {\n          tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\n        }\n      }\n\n      return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\n    }\n  };\n  /* harmony default export */\n\n  var lib_util = util_util; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /* harmony default export */\n\n  var lib_constructor = {\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\n    init: function (element, options) {\n      if (typeof options !== 'object') options = {};\n      const doc = document;\n      /** --- init options --- */\n\n      this._initOptions(element, options); // suneditor div\n\n\n      const top_div = doc.createElement('DIV');\n      top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\n      if (element.id) top_div.id = 'suneditor_' + element.id; // relative div\n\n      const relative = doc.createElement('DIV');\n      relative.className = 'se-container'; // toolbar\n\n      const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\n\n      tool_bar.element.style.visibility = 'hidden';\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\n      const arrow = doc.createElement('DIV');\n      arrow.className = 'se-arrow'; // sticky toolbar dummy\n\n      const sticky_dummy = doc.createElement('DIV');\n      sticky_dummy.className = 'se-toolbar-sticky-dummy'; // inner editor div\n\n      const editor_div = doc.createElement('DIV');\n      editor_div.className = 'se-wrapper';\n      /** --- init elements and create bottom bar --- */\n\n      const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwyg_div = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let textarea = initElements.codeView; // resizing bar\n\n      const resizing_bar = bottomBar.resizingBar;\n      const navigation = bottomBar.navigation;\n      const char_wrapper = bottomBar.charWrapper;\n      const char_counter = bottomBar.charCounter; // loading box\n\n      const loading_box = doc.createElement('DIV');\n      loading_box.className = 'se-loading-box sun-editor-common';\n      loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>'; // enter line\n\n      const line_breaker = doc.createElement('DIV');\n      line_breaker.className = 'se-line-breaker';\n      line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\n      const line_breaker_t = doc.createElement('DIV');\n      line_breaker_t.className += 'se-line-breaker-component';\n      const line_breaker_b = line_breaker_t.cloneNode(true);\n      line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break; // resize operation background\n\n      const resize_back = doc.createElement('DIV');\n      resize_back.className = 'se-resizing-back'; // toolbar container\n\n      const toolbarContainer = options.toolbarContainer;\n\n      if (toolbarContainer) {\n        toolbarContainer.appendChild(tool_bar.element);\n      }\n      /** append html */\n\n\n      editor_div.appendChild(textarea);\n      if (placeholder_span) editor_div.appendChild(placeholder_span);\n      if (!toolbarContainer) relative.appendChild(tool_bar.element);\n      relative.appendChild(sticky_dummy);\n      relative.appendChild(editor_div);\n      relative.appendChild(resize_back);\n      relative.appendChild(loading_box);\n      relative.appendChild(line_breaker);\n      relative.appendChild(line_breaker_t);\n      relative.appendChild(line_breaker_b);\n      if (resizing_bar) relative.appendChild(resizing_bar);\n      top_div.appendChild(relative);\n      textarea = this._checkCodeMirror(options, textarea);\n      return {\n        constructed: {\n          _top: top_div,\n          _relative: relative,\n          _toolBar: tool_bar.element,\n          _menuTray: tool_bar._menuTray,\n          _editorArea: editor_div,\n          _wysiwygArea: wysiwyg_div,\n          _codeArea: textarea,\n          _placeholder: placeholder_span,\n          _resizingBar: resizing_bar,\n          _navigation: navigation,\n          _charWrapper: char_wrapper,\n          _charCounter: char_counter,\n          _loading: loading_box,\n          _lineBreaker: line_breaker,\n          _lineBreaker_t: line_breaker_t,\n          _lineBreaker_b: line_breaker_b,\n          _resizeBack: resize_back,\n          _stickyDummy: sticky_dummy,\n          _arrow: arrow\n        },\n        options: options,\n        plugins: tool_bar.plugins,\n        pluginCallButtons: tool_bar.pluginCallButtons,\n        _responsiveButtons: tool_bar.responsiveButtons\n      };\n    },\n\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\n    _checkCodeMirror: function (options, textarea) {\n      if (options.codeMirror) {\n        const cmOptions = [{\n          mode: 'htmlmixed',\n          htmlMode: true,\n          lineNumbers: true,\n          lineWrapping: true\n        }, options.codeMirror.options || {}].reduce(function (init, option) {\n          for (let key in option) {\n            if (lib_util.hasOwn(option, key)) init[key] = option[key];\n          }\n\n          return init;\n        }, {});\n\n        if (options.height === 'auto') {\n          cmOptions.viewportMargin = Infinity;\n          cmOptions.height = 'auto';\n        }\n\n        const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\n        cm.display.wrapper.style.cssText = textarea.style.cssText;\n        options.codeMirrorEditor = cm;\n        textarea = cm.display.wrapper;\n        textarea.className += ' se-wrapper-code-mirror';\n      }\n\n      return textarea;\n    },\n\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\n    _checkKatexMath: function (katex) {\n      if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\n      const katexOptions = [{\n        throwOnError: false\n      }, katex.options || {}].reduce(function (init, option) {\n        for (let key in option) {\n          if (lib_util.hasOwn(option, key)) init[key] = option[key];\n        }\n\n        return init;\n      }, {});\n      katex.options = katexOptions;\n    },\n\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\n      this._initOptions(context.element.originElement, mergeOptions);\n\n      const el = context.element;\n      const relative = el.relative;\n      const editorArea = el.editorArea;\n      const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\n      const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\n      const isNewPlugins = !!mergeOptions.plugins;\n\n      const tool_bar = this._createToolBar(document, isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList, isNewPlugins ? mergeOptions.plugins : plugins, mergeOptions);\n\n      if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\n      const arrow = document.createElement('DIV');\n      arrow.className = 'se-arrow';\n\n      if (isNewToolbar) {\n        tool_bar.element.style.visibility = 'hidden'; // toolbar container\n\n        if (isNewToolbarContainer) {\n          mergeOptions.toolbarContainer.appendChild(tool_bar.element);\n          el.toolbar.parentElement.removeChild(el.toolbar);\n        } else {\n          el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\n        }\n\n        el.toolbar = tool_bar.element;\n        el._menuTray = tool_bar._menuTray;\n        el._arrow = arrow;\n      }\n\n      const initElements = this._initElements(mergeOptions, el.topArea, isNewToolbar ? tool_bar.element : el.toolbar, arrow);\n\n      const bottomBar = initElements.bottomBar;\n      const wysiwygFrame = initElements.wysiwygFrame;\n      const placeholder_span = initElements.placeholder;\n      let code = initElements.codeView;\n      if (el.resizingBar) relative.removeChild(el.resizingBar);\n      if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\n      editorArea.innerHTML = '';\n      editorArea.appendChild(code);\n      if (placeholder_span) editorArea.appendChild(placeholder_span);\n      code = this._checkCodeMirror(mergeOptions, code);\n      el.resizingBar = bottomBar.resizingBar;\n      el.navigation = bottomBar.navigation;\n      el.charWrapper = bottomBar.charWrapper;\n      el.charCounter = bottomBar.charCounter;\n      el.wysiwygFrame = wysiwygFrame;\n      el.code = code;\n      el.placeholder = placeholder_span;\n      if (mergeOptions.rtl) lib_util.addClass(el.topArea, 'se-rtl');else lib_util.removeClass(el.topArea, 'se-rtl');\n      return {\n        callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\n        plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null,\n        toolbar: tool_bar\n      };\n    },\n\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\n      /** top div */\n      topDiv.style.cssText = options._editorStyles.top;\n      /** toolbar */\n\n      if (/inline/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-inline';\n        toolBar.style.width = options.toolbarWidth;\n      } else if (/balloon/i.test(options.mode)) {\n        toolBar.className += ' se-toolbar-balloon';\n        toolBar.style.width = options.toolbarWidth;\n        toolBar.appendChild(toolBarArrow);\n      }\n      /** editor */\n      // wysiwyg div or iframe\n\n\n      const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\n      wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\n\n      if (!options.iframe) {\n        wysiwygDiv.setAttribute('contenteditable', true);\n        wysiwygDiv.setAttribute('scrolling', 'auto');\n        wysiwygDiv.className += ' ' + options._editableClass;\n        wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\n      } else {\n        wysiwygDiv.allowFullscreen = true;\n        wysiwygDiv.frameBorder = 0;\n        wysiwygDiv.style.cssText = options._editorStyles.frame;\n      } // textarea for code view\n\n\n      const textarea = document.createElement('TEXTAREA');\n      textarea.className = 'se-wrapper-inner se-wrapper-code';\n      textarea.style.cssText = options._editorStyles.frame;\n      textarea.style.display = 'none';\n      if (options.height === 'auto') textarea.style.overflow = 'hidden';\n      /** resize bar */\n\n      let resizingBar = null;\n      let navigation = null;\n      let charWrapper = null;\n      let charCounter = null;\n\n      if (options.resizingBar) {\n        resizingBar = document.createElement('DIV');\n        resizingBar.className = 'se-resizing-bar sun-editor-common';\n        /** navigation */\n\n        navigation = document.createElement('DIV');\n        navigation.className = 'se-navigation sun-editor-common';\n        resizingBar.appendChild(navigation);\n        /** char counter */\n\n        if (options.charCounter) {\n          charWrapper = document.createElement('DIV');\n          charWrapper.className = 'se-char-counter-wrapper';\n\n          if (options.charCounterLabel) {\n            const charLabel = document.createElement('SPAN');\n            charLabel.className = 'se-char-label';\n            charLabel.textContent = options.charCounterLabel;\n            charWrapper.appendChild(charLabel);\n          }\n\n          charCounter = document.createElement('SPAN');\n          charCounter.className = 'se-char-counter';\n          charCounter.textContent = '0';\n          charWrapper.appendChild(charCounter);\n\n          if (options.maxCharCount > 0) {\n            const char_max = document.createElement('SPAN');\n            char_max.textContent = ' / ' + options.maxCharCount;\n            charWrapper.appendChild(char_max);\n          }\n\n          resizingBar.appendChild(charWrapper);\n        }\n      }\n\n      let placeholder = null;\n\n      if (options.placeholder) {\n        placeholder = document.createElement('SPAN');\n        placeholder.className = 'se-placeholder';\n        placeholder.innerText = options.placeholder;\n      }\n\n      return {\n        bottomBar: {\n          resizingBar: resizingBar,\n          navigation: navigation,\n          charWrapper: charWrapper,\n          charCounter: charCounter\n        },\n        wysiwygFrame: wysiwygDiv,\n        codeView: textarea,\n        placeholder: placeholder\n      };\n    },\n\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\n    _initOptions: function (element, options) {\n      /** Values */\n      options.lang = options.lang || en_default.a;\n      options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\n      options.value = typeof options.value === 'string' ? options.value : null;\n      options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\n      /** Whitelist */\n\n      options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code';\n      options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\n      options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\n      options.attributesWhitelist = !options.attributesWhitelist || typeof options.attributesWhitelist !== 'object' ? null : options.attributesWhitelist;\n      /** Layout */\n\n      options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\n\n      options.rtl = !!options.rtl;\n      options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\n      options.toolbarWidth = options.toolbarWidth ? lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth : 'auto';\n      options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\n      options.stickyToolbar = /balloon/i.test(options.mode) || !!options.toolbarContainer ? -1 : options.stickyToolbar === undefined ? 0 : /^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1;\n      options.iframe = options.fullPage || options.iframe;\n      options.fullPage = !!options.fullPage;\n      options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : options.iframeCSSFileName || ['suneditor'] : null;\n      options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\n      /** CodeMirror object */\n\n      options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {\n        src: options.codeMirror\n      } : null;\n      /** katex object (Math plugin) */\n\n      options.katex = options.katex ? options.katex.src ? options.katex : {\n        src: options.katex\n      } : null;\n      /** Display */\n\n      options.position = typeof options.position === 'string' ? options.position : null;\n      options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\n      options.popupDisplay = options.popupDisplay || 'full';\n      /** Bottom resizing bar */\n\n      options.resizingBar = options.resizingBar === undefined ? /inline|balloon/i.test(options.mode) ? false : true : options.resizingBar;\n      options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\n      /** Character count */\n\n      options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\n      options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\n      options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\n      options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\n      /** Width size */\n\n      options.width = options.width ? lib_util.isNumber(options.width) ? options.width + 'px' : options.width : element.clientWidth ? element.clientWidth + 'px' : '100%';\n      options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\n      options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\n      /** Height size */\n\n      options.height = options.height ? lib_util.isNumber(options.height) ? options.height + 'px' : options.height : element.clientHeight ? element.clientHeight + 'px' : 'auto';\n      options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\n      options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\n      /** Editing area default style */\n\n      options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\n      /** Defining menu items */\n\n      options.font = !options.font ? null : options.font;\n      options.fontSize = !options.fontSize ? null : options.fontSize;\n      options.formats = !options.formats ? null : options.formats;\n      options.colorList = !options.colorList ? null : options.colorList;\n      options.lineHeights = !options.lineHeights ? null : options.lineHeights;\n      options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\n      options.textStyles = !options.textStyles ? null : options.textStyles;\n      options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? options.fontSizeUnit.trim() || 'px' : 'px';\n      /** Image */\n\n      options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\n      options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\n      options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\n      options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\n      options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\n      options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\n      options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\n      options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\n      options.imageUrlInput = options.imageUrlInput === undefined || !options.imageFileInput ? true : options.imageUrlInput;\n      options.imageUploadHeader = options.imageUploadHeader || null;\n      options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\n      options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\n      options.imageMultipleFile = !!options.imageMultipleFile;\n      options.imageAccept = typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\" ? 'image/*' : options.imageAccept.trim() || 'image/*';\n      /** Image - image gallery */\n\n      options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\n      /** Video */\n\n      options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\n      options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\n      options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\n      options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\n      options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\n      options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\n      options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\n      options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\n      options.videoRatio = lib_util.getNumber(options.videoRatio, 4) || 0.5625;\n      options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\n      options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\n      options.videoFileInput = !!options.videoFileInput;\n      options.videoUrlInput = options.videoUrlInput === undefined || !options.videoFileInput ? true : options.videoUrlInput;\n      options.videoUploadHeader = options.videoUploadHeader || null;\n      options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\n      options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\n      options.videoMultipleFile = !!options.videoMultipleFile;\n      options.videoTagAttrs = options.videoTagAttrs || null;\n      options.videoIframeAttrs = options.videoIframeAttrs || null;\n      options.videoAccept = typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\" ? 'video/*' : options.videoAccept.trim() || 'video/*';\n      /** Audio */\n\n      options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\n      options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\n      options.audioFileInput = !!options.audioFileInput;\n      options.audioUrlInput = options.audioUrlInput === undefined || !options.audioFileInput ? true : options.audioUrlInput;\n      options.audioUploadHeader = options.audioUploadHeader || null;\n      options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\n      options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\n      options.audioMultipleFile = !!options.audioMultipleFile;\n      options.audioTagAttrs = options.audioTagAttrs || null;\n      options.audioAccept = typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\" ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\n      /** Table */\n\n      options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\n      /** Key actions */\n\n      options.tabDisable = !!options.tabDisable;\n      options.shortcutsDisable = Array.isArray(options.shortcutsDisable) && options.shortcutsDisable.length > 0 ? options.shortcutsDisable.map(function (v) {\n        return v.toLowerCase();\n      }) : [];\n      options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\n      /** Defining save button */\n\n      options.callBackSave = !options.callBackSave ? null : options.callBackSave;\n      /** Templates Array */\n\n      options.templates = !options.templates ? null : options.templates;\n      /** ETC */\n\n      options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\n      options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\n      /** Buttons */\n\n      options.buttonList = !!options.buttonList ? JSON.parse(JSON.stringify(options.buttonList)) : [['undo', 'redo'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['removeFormat'], ['outdent', 'indent'], ['fullScreen', 'showBlocks', 'codeView'], ['preview', 'print']];\n      /** RTL - buttons */\n\n      if (options.rtl) {\n        options.buttonList = options.buttonList.reverse();\n      }\n      /** --- Define icons --- */\n      // custom icons\n\n\n      options.icons = !options.icons || typeof options.icons !== 'object' ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\n        for (let key in _new) {\n          if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {}); // rtl icons\n\n      options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\n        for (let key in _new) {\n          if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\n        }\n\n        return _default;\n      }, {});\n      /** _init options */\n\n      options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\n    },\n\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\n    _defaultButtons: function (options) {\n      const icons = options.icons;\n      const lang = options.lang;\n      const cmd = lib_util.isOSX_IOS ? '⌘' : 'CTRL';\n      const addShift = lib_util.isOSX_IOS ? '⇧' : '+SHIFT';\n      const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent'] : options.shortcutsDisable;\n      const indentKey = options.rtl ? ['[', ']'] : [']', '['];\n      return {\n        /** default command */\n        bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'STRONG', '', icons.bold],\n        underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'U', '', icons.underline],\n        italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'EM', '', icons.italic],\n        strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'DEL', '', icons.strike],\n        subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\n        superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\n        removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\n        indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\n        outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\n        fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\n        showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\n        codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\n        undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\n        redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\n        preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\n        print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\n        save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\n\n        /** plugins - command */\n        blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\n\n        /** plugins - submenu */\n        font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\n        formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\n        fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\n        fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\n        hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\n        align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', options.rtl ? icons.align_right : icons.align_left],\n        list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\n        horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\n        table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\n        lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\n        template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\n        paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\n        textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\n\n        /** plugins - dialog */\n        link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\n        image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\n        video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\n        audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\n        math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\n\n        /** plugins - fileBrowser */\n        imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\n      };\n    },\n\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createModuleGroup: function () {\n      const oDiv = lib_util.createElement('DIV');\n      oDiv.className = 'se-btn-module se-btn-module-border';\n      const oUl = lib_util.createElement('UL');\n      oUl.className = 'se-menu-list';\n      oDiv.appendChild(oUl);\n      return {\n        'div': oDiv,\n        'ul': oUl\n      };\n    },\n\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\n      const oLi = lib_util.createElement('LI');\n      const oButton = lib_util.createElement('BUTTON');\n      oButton.setAttribute('type', 'button');\n      oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\n      oButton.setAttribute('data-command', dataCommand);\n      oButton.setAttribute('data-display', dataDisplay);\n      oButton.setAttribute('tabindex', '-1');\n      if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\n\n      if (/^default\\./i.test(innerHTML)) {\n        innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\n      }\n\n      if (/^text\\./i.test(innerHTML)) {\n        innerHTML = innerHTML.replace(/^text\\./i, '');\n        oButton.className += ' se-btn-more-text';\n      }\n\n      innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\n      if (_disabled) oButton.setAttribute('disabled', true);\n      oButton.innerHTML = innerHTML;\n      oLi.appendChild(oButton);\n      return {\n        'li': oLi,\n        'button': oButton\n      };\n    },\n\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\n    _createToolBar: function (doc, buttonList, _plugins, options) {\n      const separator_vertical = doc.createElement('DIV');\n      separator_vertical.className = 'se-toolbar-separator-vertical';\n      const tool_bar = doc.createElement('DIV');\n      tool_bar.className = 'se-toolbar sun-editor-common';\n\n      const _buttonTray = doc.createElement('DIV');\n\n      _buttonTray.className = 'se-btn-tray';\n      tool_bar.appendChild(_buttonTray);\n      /** create button list */\n\n      const icons = options.icons;\n\n      const defaultButtonList = this._defaultButtons(options);\n\n      const pluginCallButtons = {};\n      const responsiveButtons = [];\n      const plugins = {};\n\n      if (_plugins) {\n        const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function (name) {\n          return _plugins[name];\n        });\n\n        for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\n          p = pluginsValues[i].default || pluginsValues[i];\n          plugins[p.name] = p;\n        }\n      }\n\n      let module = null;\n      let button = null;\n      let moduleElement = null;\n      let buttonElement = null;\n      let pluginName = '';\n      let vertical = false;\n      const moreLayer = lib_util.createElement('DIV');\n      moreLayer.className = 'se-toolbar-more-layer';\n\n      buttonGroupLoop: for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\n        more = false;\n        align = '';\n        buttonGroup = buttonList[i];\n        moduleElement = this._createModuleGroup(); // button object\n\n        if (typeof buttonGroup === 'object') {\n          // buttons loop\n          for (let j = 0, moreButton; j < buttonGroup.length; j++) {\n            button = buttonGroup[j];\n            moreButton = false;\n\n            if (/^\\%\\d+/.test(button) && j === 0) {\n              buttonGroup[0] = button.replace(/[^\\d]/g, '');\n              responsiveButtons.push(buttonGroup);\n              buttonList.splice(i--, 1);\n              continue buttonGroupLoop;\n            }\n\n            if (typeof button === 'object') {\n              if (typeof button.add === 'function') {\n                pluginName = button.name;\n                module = defaultButtonList[pluginName];\n                plugins[pluginName] = button;\n              } else {\n                pluginName = button.name;\n                module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\n              }\n            } else {\n              // align\n              if (/^\\-/.test(button)) {\n                align = button.substr(1);\n                moduleElement.div.style.float = align;\n                continue;\n              } // more button\n\n\n              if (/^\\:/.test(button)) {\n                moreButton = true;\n                const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\n                moreCommand = '__se__' + matched[1].trim();\n                const title = matched[2].trim();\n                const innerHTML = matched[3].trim();\n                module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\n              } // buttons\n              else {\n                  module = defaultButtonList[button];\n                }\n\n              pluginName = button;\n\n              if (!module) {\n                const custom = plugins[pluginName];\n                if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\n                module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\n              }\n            }\n\n            buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\n            (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\n\n            if (plugins[pluginName]) {\n              pluginCallButtons[pluginName] = buttonElement.button;\n            } // more button\n\n\n            if (moreButton) {\n              more = true;\n              moreContainer = lib_util.createElement('DIV');\n              moreContainer.className = 'se-more-layer ' + moreCommand;\n              moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\n              moreLayer.appendChild(moreContainer);\n              moreContainer = moreContainer.firstElementChild.firstElementChild;\n            }\n          }\n\n          if (vertical) {\n            const sv = separator_vertical.cloneNode(false);\n            if (align) sv.style.float = align;\n\n            _buttonTray.appendChild(sv);\n          }\n\n          _buttonTray.appendChild(moduleElement.div);\n\n          vertical = true;\n        }\n        /** line break  */\n        else if (/^\\/$/.test(buttonGroup)) {\n            const enterDiv = doc.createElement('DIV');\n            enterDiv.className = 'se-btn-module-enter';\n\n            _buttonTray.appendChild(enterDiv);\n\n            vertical = false;\n          }\n      }\n\n      const lastFloat = _buttonTray.lastElementChild.style.float;\n\n      if (!!lastFloat) {\n        const sv = separator_vertical.cloneNode(false);\n        sv.style.float = lastFloat;\n\n        _buttonTray.appendChild(sv);\n      }\n\n      if (_buttonTray.children.length === 1) lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\n      if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\n      if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer); // menu tray\n\n      const _menuTray = doc.createElement('DIV');\n\n      _menuTray.className = 'se-menu-tray';\n      tool_bar.appendChild(_menuTray); // cover\n\n      const tool_cover = doc.createElement('DIV');\n      tool_cover.className = 'se-toolbar-cover';\n      tool_bar.appendChild(tool_cover);\n      return {\n        'element': tool_bar,\n        'plugins': plugins,\n        'pluginCallButtons': pluginCallButtons,\n        'responsiveButtons': responsiveButtons,\n        '_menuTray': _menuTray,\n        '_buttonTray': _buttonTray\n      };\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description Elements and variables you should have\r\n   * @param {Element} element textarea element\r\n   * @param {object} cons Toolbar element you created\r\n   * @param {JSON|Object} options Inserted options\r\n   * @returns {Object} {Elements, variables of the editor, option}\r\n   * @private\r\n   */\n\n  const _Context = function (element, cons, options) {\n    return {\n      element: {\n        originElement: element,\n        topArea: cons._top,\n        relative: cons._relative,\n        toolbar: cons._toolBar,\n        _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\n        _menuTray: cons._menuTray,\n        resizingBar: cons._resizingBar,\n        navigation: cons._navigation,\n        charWrapper: cons._charWrapper,\n        charCounter: cons._charCounter,\n        editorArea: cons._editorArea,\n        wysiwygFrame: cons._wysiwygArea,\n        wysiwyg: cons._wysiwygArea,\n        // if (options.iframe) cons._wysiwygArea.contentDocument.body\n        code: cons._codeArea,\n        placeholder: cons._placeholder,\n        loading: cons._loading,\n        lineBreaker: cons._lineBreaker,\n        lineBreaker_t: cons._lineBreaker_t,\n        lineBreaker_b: cons._lineBreaker_b,\n        resizeBackground: cons._resizeBack,\n        _stickyDummy: cons._stickyDummy,\n        _arrow: cons._arrow\n      },\n      tool: {\n        cover: cons._toolBar.querySelector('.se-toolbar-cover'),\n        bold: cons._toolBar.querySelector('._se_command_bold'),\n        underline: cons._toolBar.querySelector('._se_command_underline'),\n        italic: cons._toolBar.querySelector('._se_command_italic'),\n        strike: cons._toolBar.querySelector('._se_command_strike'),\n        subscript: cons._toolBar.querySelector('._se_command_subscript'),\n        superscript: cons._toolBar.querySelector('._se_command_superscript'),\n        undo: cons._toolBar.querySelector('._se_command_undo'),\n        redo: cons._toolBar.querySelector('._se_command_redo'),\n        save: cons._toolBar.querySelector('._se_command_save'),\n        outdent: cons._toolBar.querySelector('._se_command_outdent'),\n        indent: cons._toolBar.querySelector('._se_command_indent'),\n        fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\n        showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\n        codeView: cons._toolBar.querySelector('._se_command_codeView')\n      },\n      options: options,\n      option: options\n    };\n  };\n  /* harmony default export */\n\n\n  var lib_context = _Context; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2019 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n  var lib_history = function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.context.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack() {\n      const item = stack[stackIndex];\n      editor.wysiwyg.innerHTML = item.contents;\n      core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n      core.focus();\n\n      if (stackIndex === 0) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.removeAttribute('disabled');\n      } else if (stackIndex === stack.length - 1) {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.setAttribute('disabled', true);\n      } else {\n        if (undo) undo.removeAttribute('disabled');\n        if (redo) redo.removeAttribute('disabled');\n      }\n\n      core.controllersOff();\n\n      core._checkComponents();\n\n      core._setCharCount();\n\n      core._resourcesStateChange(); // onChange\n\n\n      change();\n    }\n\n    function pushStack() {\n      core._checkComponents();\n\n      const current = core.getContents(true);\n      if (!current || !!stack[stackIndex] && current === stack[stackIndex].contents) return;\n      stackIndex++;\n      const range = core._variable._range;\n\n      if (stack.length > stackIndex) {\n        stack = stack.slice(0, stackIndex);\n        if (redo) redo.setAttribute('disabled', true);\n      }\n\n      if (!range) {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: [0, 0],\n            offset: [0, 0]\n          },\n          e: {\n            path: 0,\n            offset: 0\n          }\n        };\n      } else {\n        stack[stackIndex] = {\n          contents: current,\n          s: {\n            path: util.getNodePath(range.startContainer, null, null),\n            offset: range.startOffset\n          },\n          e: {\n            path: util.getNodePath(range.endContainer, null, null),\n            offset: range.endOffset\n          }\n        };\n      }\n\n      if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n      core._setCharCount(); // onChange\n\n\n      change();\n    }\n\n    return {\n      /**\n       * @description History stack\n       */\n      stack: stack,\n\n      /**\n       * @description Saving the current status to the history object stack\n       * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n       * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n       * You can specify the delay time by sending a number.\n       * @param {Boolean|Number} delay If true, Add stack without delay time.\n       */\n      push: function (delay) {\n        _w.setTimeout(core._resourcesStateChange.bind(core));\n\n        const time = typeof delay === 'number' ? delay > 0 ? delay : 0 : !delay ? 0 : delayTime;\n\n        if (!time || pushDelay) {\n          _w.clearTimeout(pushDelay);\n\n          if (!time) {\n            pushStack();\n            return;\n          }\n        }\n\n        pushDelay = _w.setTimeout(function () {\n          _w.clearTimeout(pushDelay);\n\n          pushDelay = null;\n          pushStack();\n        }, time);\n      },\n\n      /**\n       * @description Undo function\n       */\n      undo: function () {\n        if (stackIndex > 0) {\n          stackIndex--;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Redo function\n       */\n      redo: function () {\n        if (stack.length - 1 > stackIndex) {\n          stackIndex++;\n          setContentsFromStack();\n        }\n      },\n\n      /**\n       * @description Go to the history stack for that index.\n       * If \"index\" is -1, go to the last stack\n       * @param {Number} index Stack index\n       */\n      go: function (index) {\n        stackIndex = index < 0 ? stack.length - 1 : index;\n        setContentsFromStack();\n      },\n\n      /**\n       * @description Reset the history object\n       */\n      reset: function (ignoreChangeEvent) {\n        if (undo) undo.setAttribute('disabled', true);\n        if (redo) redo.setAttribute('disabled', true);\n        if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        stack.splice(0);\n        stackIndex = 0; // pushStack\n\n        stack[stackIndex] = {\n          contents: core.getContents(true),\n          s: {\n            path: [0, 0],\n            offset: 0\n          },\n          e: {\n            path: [0, 0],\n            offset: 0\n          }\n        };\n        if (!ignoreChangeEvent) change();\n      },\n\n      /**\n       * @description Reset the disabled state of the buttons to fit the current stack.\n       * @private\n       */\n      _resetCachingButton: function () {\n        editor = core.context.element;\n        undo = core.context.tool.undo;\n        redo = core.context.tool.redo;\n\n        if (stackIndex === 0) {\n          if (undo) undo.setAttribute('disabled', true);\n          if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n          if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n        } else if (stackIndex === stack.length - 1) {\n          if (redo) redo.setAttribute('disabled', true);\n        }\n      },\n\n      /**\n       * @description Remove all stacks and remove the timeout function.\n       * @private\n       */\n      _destroy: function () {\n        if (pushDelay) _w.clearTimeout(pushDelay);\n        stack = null;\n      }\n    };\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var _notice = {\n    name: 'notice',\n\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n      const context = core.context;\n      context.notice = {};\n      /** dialog */\n\n      let notice_div = core.util.createElement('DIV');\n      let notice_span = core.util.createElement('SPAN');\n      let notice_button = core.util.createElement('BUTTON');\n      notice_div.className = 'se-notice';\n      notice_button.className = 'close';\n      notice_button.setAttribute('aria-label', 'Close');\n      notice_button.setAttribute('title', core.lang.dialogBox.close);\n      notice_button.innerHTML = core.icons.cancel;\n      notice_div.appendChild(notice_span);\n      notice_div.appendChild(notice_button);\n      context.notice.modal = notice_div;\n      context.notice.message = notice_span;\n      /** add event listeners */\n\n      notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n      /** append html */\n\n      context.element.editorArea.appendChild(notice_div);\n      /** empty memory */\n\n      notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function (text) {\n      this.context.notice.message.textContent = text;\n      this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function () {\n      this.context.notice.modal.style.display = 'none';\n    }\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n\n  /*\r\n   * wysiwyg web editor\r\n   *\r\n   * suneditor.js\r\n   * Copyright 2017 JiHong Lee.\r\n   * MIT license.\r\n   */\n\n  /**\r\n   * @description SunEditor constuctor function.\r\n   * create core object and event registration.\r\n   * core, event, functions\r\n   * @param {Object} context\r\n   * @param {Object} pluginCallButtons\r\n   * @param {Object} plugins \r\n   * @param {Object} lang\r\n   * @param {Object} options\r\n   * @param {Object} _responsiveButtons\r\n   * @returns {Object} functions Object\r\n   */\n\n  /* harmony default export */\n\n  var lib_core = function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\n    const _d = context.element.originElement.ownerDocument || document;\n\n    const _w = _d.defaultView || window;\n\n    const util = lib_util;\n    const icons = options.icons;\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\n\n    const core = {\n      _d: _d,\n      _w: _w,\n      _parser: new _w.DOMParser(),\n\n      /**\r\n       * @description Document object of the iframe if created as an iframe || _d\r\n       * @private\r\n       */\n      _wd: null,\n\n      /**\r\n       * @description Window object of the iframe if created as an iframe || _w\r\n       * @private\r\n       */\n      _ww: null,\n\n      /**\r\n       * @description Closest ShadowRoot to editor if found\r\n       * @private\r\n       */\n      _shadowRoot: null,\n\n      /**\r\n       * @description Util object\r\n       */\n      util: util,\n\n      /**\r\n       * @description Functions object\r\n       */\n      functions: null,\n\n      /**\r\n       * @description Notice object\r\n       */\n      notice: _notice,\n\n      /**\r\n       * @description Default icons object\r\n       */\n      icons: icons,\n\n      /**\r\n       * @description History object for undo, redo\r\n       */\n      history: null,\n\n      /**\r\n       * @description Elements and user options parameters of the suneditor\r\n       */\n      context: context,\n\n      /**\r\n       * @description Plugin buttons\r\n       */\n      pluginCallButtons: pluginCallButtons,\n\n      /**\r\n       * @description Loaded plugins\r\n       */\n      plugins: plugins || {},\n\n      /**\r\n       * @description Whether the plugin is initialized\r\n       */\n      initPlugins: {},\n\n      /**\r\n       * @description Object for managing submenu elements\r\n       * @private\r\n       */\n      _targetPlugins: {},\n\n      /**\r\n       * @description Save rendered submenus and containers\r\n       * @private\r\n       */\n      _menuTray: {},\n\n      /**\r\n       * @description loaded language\r\n       */\n      lang: lang,\n\n      /**\r\n       * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n       */\n      effectNode: null,\n\n      /**\r\n       * @description submenu element\r\n       */\n      submenu: null,\n\n      /**\r\n       * @description container element\r\n       */\n      container: null,\n\n      /**\r\n       * @description current subment name\r\n       * @private\r\n       */\n      _submenuName: '',\n\n      /**\r\n       * @description binded submenuOff method\r\n       * @private\r\n       */\n      _bindedSubmenuOff: null,\n\n      /**\r\n       * @description binded containerOff method\r\n       * @private\r\n       */\n      _bindedContainerOff: null,\n\n      /**\r\n       * @description active button element in submenu\r\n       */\n      submenuActiveButton: null,\n\n      /**\r\n       * @description active button element in container\r\n       */\n      containerActiveButton: null,\n\n      /**\r\n       * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n       */\n      controllerArray: [],\n\n      /**\r\n       * @description The name of the plugin that called the currently active controller\r\n       */\n      currentControllerName: '',\n\n      /**\r\n       * @description The target element of current controller\r\n       */\n      currentControllerTarget: null,\n\n      /**\r\n       * @description The file component object of current selected file tag (getFileComponent)\r\n       */\n      currentFileComponentInfo: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n       */\n      codeViewDisabledButtons: null,\n\n      /**\r\n       * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n       */\n      resizingDisabledButtons: null,\n\n      /**\r\n       * @description active more layer element in submenu\r\n       * @private\r\n       */\n      _moreLayerActiveButton: null,\n\n      /**\r\n       * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n       * ^(options._editorTagsWhitelist)$\r\n       * @private\r\n       */\n      _htmlCheckWhitelistRegExp: null,\n\n      /**\r\n       * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n       * @private\r\n       */\n      _disallowedTextTagsRegExp: null,\n\n      /**\r\n       * @description Editor tags whitelist (RegExp object)\r\n       * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n       */\n      editorTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Tag whitelist when pasting (RegExp object)\r\n       * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n       */\n      pasteTagsWhitelistRegExp: null,\n\n      /**\r\n       * @description Boolean value of whether the editor has focus\r\n       */\n      hasFocus: false,\n\n      /**\r\n       * @description Boolean value of whether the editor is disabled\r\n       */\n      isDisabled: false,\n\n      /**\r\n       * @description Attributes whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesWhitelistRegExp: null,\n\n      /**\r\n       * @description Attributes of tags whitelist used by the cleanHTML method\r\n       * @private\r\n       */\n      _attributesTagsWhitelist: null,\n\n      /**\r\n       * @description binded controllersOff method\r\n       * @private\r\n       */\n      _bindControllersOff: null,\n\n      /**\r\n       * @description Is inline mode?\r\n       * @private\r\n       */\n      _isInline: null,\n\n      /**\r\n       * @description Is balloon|balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloon: null,\n\n      /**\r\n       * @description Is balloon-always mode?\r\n       * @private\r\n       */\n      _isBalloonAlways: null,\n\n      /**\r\n       * @description Required value when using inline mode to sticky toolbar\r\n       * @private\r\n       */\n      _inlineToolbarAttr: {\n        top: '',\n        width: '',\n        isShow: false\n      },\n\n      /**\r\n       * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n       * @private\r\n       */\n      _notHideToolbar: false,\n\n      /**\r\n       * @description Variable value that sticky toolbar mode\r\n       * @private\r\n       */\n      _sticky: false,\n\n      /**\r\n       * @description Variables for controlling focus and blur events\r\n       * @private\r\n       */\n      _antiBlur: false,\n\n      /**\r\n       * @description Component line breaker element\r\n       * @private\r\n       */\n      _lineBreaker: null,\n      _lineBreakerButton: null,\n\n      /**\r\n       * @description If true, (initialize, reset) all indexes of image, video information\r\n       * @private\r\n       */\n      _componentsInfoInit: true,\n      _componentsInfoReset: false,\n\n      /**\r\n       * @description Plugins array with \"active\" method.\r\n       * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n       */\n      activePlugins: null,\n\n      /**\r\n       * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n       * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n       * Basic Editor Actions:\r\n       * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n       * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n       * \"managedTagsInfo\" structure ex:\r\n       * managedTagsInfo: {\r\n       *   query: '.__se__xxx, se-xxx'\r\n       *   map: {\r\n       *     '__se__xxx': method.bind(core),\r\n       *     'se-xxx': method.bind(core),\r\n       *   }\r\n       * }\r\n       * @example\r\n       * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n       * managedTagInfo() => {\r\n       *  return {\r\n       *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n       *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n       *    // \"method\" is executed by binding \"core\".\r\n       *    method: function (element) {\r\n       *      // this === core\r\n       *      element.innerHTML = // (rendered html);\r\n       *    }\r\n       *  }\r\n       * }\r\n       */\n      managedTagsInfo: null,\n\n      /**\r\n       * @description cashing: options.charCounterType === 'byte-html'\r\n       * @private\r\n       */\n      _charTypeHTML: false,\n\n      /**\r\n       * @description Array of \"checkFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n       * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n       * @private\r\n       */\n      _fileInfoPluginsCheck: null,\n\n      /**\r\n       * @description Array of \"resetFileInfo\" functions with the core bound\r\n       * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n       * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n       * @private\r\n       */\n      _fileInfoPluginsReset: null,\n\n      /**\r\n       * @description Variables for file component management\r\n       * @private\r\n       */\n      _fileManager: {\n        tags: null,\n        regExp: null,\n        queryString: null,\n        pluginRegExp: null,\n        pluginMap: null\n      },\n\n      /**\r\n       * @description Elements that need to change text or className for each selection change\r\n       * After creating the editor, \"activePlugins\" are added.\r\n       * @property {Element} STRONG bold button\r\n       * @property {Element} U underline button\r\n       * @property {Element} EM italic button\r\n       * @property {Element} DEL strike button\r\n       * @property {Element} SUB subscript button\r\n       * @property {Element} SUP superscript button\r\n       * @property {Element} OUTDENT outdent button\r\n       * @property {Element} INDENT indent button\r\n       */\n      commandMap: null,\n\n      /**\r\n       * @description Style button related to edit area\r\n       * @property {Element} fullScreen fullScreen button element\r\n       * @property {Element} showBlocks showBlocks button element\r\n       * @property {Element} codeView codeView button element\r\n       * @private\r\n       */\n      _styleCommandMap: null,\n\n      /**\r\n       * @description Map of default command\r\n       * @private\r\n       */\n      _defaultCommand: {\n        bold: 'STRONG',\n        underline: 'U',\n        italic: 'EM',\n        strike: 'DEL',\n        subscript: 'SUB',\n        superscript: 'SUP'\n      },\n\n      /**\r\n       * @description Variables used internally in editor operation\r\n       * @property {Boolean} isCodeView State of code view\r\n       * @property {Boolean} isFullScreen State of full screen\r\n       * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n       * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n       * @property {Number} tabSize Indent size of tab (4)\r\n       * @property {Number} codeIndent Indent size of Code view mode (4)\r\n       * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n       * @property {Array} currentNodes  An array of the current cursor's node structure\r\n       * @private\r\n       */\n      _variable: {\n        isCodeView: false,\n        isFullScreen: false,\n        innerHeight_fullScreen: 0,\n        resizeClientY: 0,\n        tabSize: 4,\n        codeIndent: 4,\n        minResizingSize: util.getNumber(context.element.wysiwygFrame.style.minHeight || '65', 0),\n        currentNodes: [],\n        currentNodesMap: [],\n        _range: null,\n        _selectionNode: null,\n        _originCssText: context.element.topArea.style.cssText,\n        _bodyOverflow: '',\n        _editorAreaOriginCssText: '',\n        _wysiwygOriginCssText: '',\n        _codeOriginCssText: '',\n        _fullScreenAttrs: {\n          sticky: false,\n          balloon: false,\n          inline: false\n        },\n        _lineBreakComp: null,\n        _lineBreakDir: ''\n      },\n\n      /**\r\n       * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n       * If the plugin is added call callBack function.\r\n       * @param {String} pluginName The name of the plugin to call\r\n       * @param {function} callBackFunction Function to be executed immediately after module call\r\n       * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n       */\n      callPlugin: function (pluginName, callBackFunction, _target) {\n        _target = _target || pluginCallButtons[pluginName];\n\n        if (!this.plugins[pluginName]) {\n          throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\n        } else if (!this.initPlugins[pluginName]) {\n          this.plugins[pluginName].add(this, _target);\n          this.initPlugins[pluginName] = true;\n        } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\n          this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\n        }\n\n        if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\n          this.commandMap[pluginName] = _target;\n          this.activePlugins.push(pluginName);\n        }\n\n        if (typeof callBackFunction === 'function') callBackFunction();\n      },\n\n      /**\r\n       * @description If the module is not added, add the module and call the 'add' function\r\n       * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n       */\n      addModule: function (moduleArray) {\n        for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\n          moduleName = moduleArray[i].name;\n\n          if (!this.plugins[moduleName]) {\n            this.plugins[moduleName] = moduleArray[i];\n          }\n\n          if (!this.initPlugins[moduleName]) {\n            this.initPlugins[moduleName] = true;\n            if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\n          }\n        }\n      },\n\n      /**\r\n       * @description Method for managing submenu element.\r\n       * You must add the \"submenu\" element using the this method at custom plugin.\r\n       * @param {String} pluginName Plugin name\r\n       * @param {Element|null} target Target button\r\n       * @param {Element} menu Submenu element\r\n       */\n      initMenuTarget: function (pluginName, target, menu) {\n        if (!target) {\n          this._targetPlugins[pluginName] = menu;\n        } else {\n          context.element._menuTray.appendChild(menu);\n\n          this._targetPlugins[pluginName] = true;\n          this._menuTray[target.getAttribute('data-command')] = menu;\n        }\n      },\n\n      /**\r\n       * @description Enabled submenu\r\n       * @param {Element} element Submenu's button element to call\r\n       */\n      submenuOn: function (element) {\n        if (this._bindedSubmenuOff) this._bindedSubmenuOff();\n        if (this._bindControllersOff) this.controllersOff();\n        const submenuName = this._submenuName = element.getAttribute('data-command');\n        const menu = this.submenu = this._menuTray[submenuName];\n        this.submenuActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedSubmenuOff = this.submenuOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\n        if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable submenu\r\n       */\n      submenuOff: function () {\n        this.removeDocEvent('mousedown', this._bindedSubmenuOff);\n        this._bindedSubmenuOff = null;\n\n        if (this.submenu) {\n          this._submenuName = '';\n          this.submenu.style.display = 'none';\n          this.submenu = null;\n          util.removeClass(this.submenuActiveButton, 'on');\n          this.submenuActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Enabled container\r\n       * @param {Element} element Container's button element to call\r\n       */\n      containerOn: function (element) {\n        if (this._bindedContainerOff) this._bindedContainerOff();\n        const containerName = this._containerName = element.getAttribute('data-command');\n        const menu = this.container = this._menuTray[containerName];\n        this.containerActiveButton = element;\n\n        this._setMenuPosition(element, menu);\n\n        this._bindedContainerOff = this.containerOff.bind(this);\n        this.addDocEvent('mousedown', this._bindedContainerOff, false);\n        if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\n        this._antiBlur = true;\n      },\n\n      /**\r\n       * @description Disable container\r\n       */\n      containerOff: function () {\n        this.removeDocEvent('mousedown', this._bindedContainerOff);\n        this._bindedContainerOff = null;\n\n        if (this.container) {\n          this._containerName = '';\n          this.container.style.display = 'none';\n          this.container = null;\n          util.removeClass(this.containerActiveButton, 'on');\n          this.containerActiveButton = null;\n          this._notHideToolbar = false;\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Set the menu position. (submenu, container)\r\n       * @param {*} element Button element\r\n       * @param {*} menu Menu element\r\n       * @private\r\n       */\n      _setMenuPosition: function (element, menu) {\n        menu.style.visibility = 'hidden';\n        menu.style.display = 'block';\n        menu.style.height = '';\n        util.addClass(element, 'on');\n        const toolbar = this.context.element.toolbar;\n        const toolbarW = toolbar.offsetWidth;\n\n        const toolbarOffset = event._getEditorOffsets(context.element.toolbar);\n\n        const menuW = menu.offsetWidth;\n        const l = element.parentElement.offsetLeft + 3; // rtl\n\n        if (options.rtl) {\n          const elementW = element.offsetWidth;\n          const rtlW = menuW > elementW ? menuW - elementW : 0;\n          const rtlL = rtlW > 0 ? 0 : elementW - menuW;\n          menu.style.left = l - rtlW + rtlL + 'px';\n\n          if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\n            menu.style.left = '0px';\n          }\n        } else {\n          const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\n          if (overLeft < 0) menu.style.left = l + overLeft + 'px';else menu.style.left = l + 'px';\n        } // get element top\n\n\n        let t = 0;\n        let offsetEl = element;\n\n        while (offsetEl && offsetEl !== toolbar) {\n          t += offsetEl.offsetTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        const bt = t;\n\n        if (this._isBalloon) {\n          t += toolbar.offsetTop + element.offsetHeight;\n        } else {\n          t -= element.offsetHeight;\n        } // set menu position\n\n\n        const toolbarTop = toolbarOffset.top;\n        let menuHeight = menu.offsetHeight;\n        let el = context.element.topArea;\n        let scrollTop = 0;\n\n        while (!!el) {\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        }\n\n        const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\n\n        if (menuHeight_bottom < menuHeight) {\n          let menuTop = -1 * (menuHeight - bt + 3);\n          const insTop = toolbarTop - scrollTop + menuTop;\n          const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\n\n          if (menuHeight_top > menuHeight_bottom) {\n            menu.style.height = menuHeight_top + 'px';\n            menuTop = -1 * (menuHeight_top - bt + 3);\n          } else {\n            menu.style.height = menuHeight_bottom + 'px';\n            menuTop = bt + element.parentElement.offsetHeight;\n          }\n\n          menu.style.top = menuTop + 'px';\n        } else {\n          menu.style.top = bt + element.parentElement.offsetHeight + 'px';\n        }\n\n        menu.style.visibility = '';\n      },\n\n      /**\r\n       * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n       * @param {*} arguments controller elements, functions..\r\n       */\n      controllersOn: function () {\n        if (this._bindControllersOff) this._bindControllersOff();\n        this.controllerArray = [];\n\n        for (let i = 0, arg; i < arguments.length; i++) {\n          arg = arguments[i];\n          if (!arg) continue;\n\n          if (typeof arg === 'string') {\n            this.currentControllerName = arg;\n            continue;\n          }\n\n          if (typeof arg === 'function') {\n            this.controllerArray.push(arg);\n            continue;\n          }\n\n          if (!util.hasClass(arg, 'se-controller')) {\n            this.currentControllerTarget = arg;\n            this.currentFileComponentInfo = this.getFileComponent(arg);\n            continue;\n          }\n\n          if (arg.style) arg.style.display = 'block';\n          this.controllerArray.push(arg);\n        }\n\n        this._bindControllersOff = this.controllersOff.bind(this);\n        this.addDocEvent('mousedown', this._bindControllersOff, false);\n        this.addDocEvent('keydown', this._bindControllersOff, false);\n        this._antiBlur = true;\n        if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\n      },\n\n      /**\r\n       * @description Hide controller at editor area (link button, image resize button..)\r\n       * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n       */\n      controllersOff: function (e) {\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\n        context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\n        this._variable._lineBreakComp = null;\n        this.currentControllerName = '';\n        this.currentControllerTarget = null;\n        this.currentFileComponentInfo = null;\n        this.effectNode = null;\n        if (!this._bindControllersOff) return;\n        this.removeDocEvent('mousedown', this._bindControllersOff);\n        this.removeDocEvent('keydown', this._bindControllersOff);\n        this._bindControllersOff = null;\n        const len = this.controllerArray.length;\n\n        if (len > 0) {\n          for (let i = 0; i < len; i++) {\n            if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();else this.controllerArray[i].style.display = 'none';\n          }\n\n          this.controllerArray = [];\n        }\n\n        this._antiBlur = false;\n      },\n\n      /**\r\n       * @description Specify the position of the controller.\r\n       * @param {Element} controller Controller element.\r\n       * @param {Element} referEl Element that is the basis of the controller's position.\r\n       * @param {String} position Type of position (\"top\" | \"bottom\")\r\n       * When using the \"top\" position, there should not be an arrow on the controller.\r\n       * When using the \"bottom\" position there should be an arrow on the controller.\r\n       * @param {Object} addOffset These are the left and top values that need to be added specially. \r\n       * This argument is required. - {left: 0, top: 0}\r\n       * Please enter the value based on ltr mode.\r\n       * Calculated automatically in rtl mode.\r\n       */\n      setControllerPosition: function (controller, referEl, position, addOffset) {\n        if (options.rtl) addOffset.left *= -1;\n        const offset = util.getOffset(referEl, context.element.wysiwygFrame);\n        controller.style.visibility = 'hidden';\n        controller.style.display = 'block'; // Height value of the arrow element is 11px\n\n        const topMargin = position === 'top' ? -(controller.offsetHeight + 2) : referEl.offsetHeight + 12;\n        controller.style.top = offset.top + topMargin + addOffset.top + 'px';\n        const l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\n        const controllerW = controller.offsetWidth;\n        const referElW = referEl.offsetWidth; // rtl (Width value of the arrow element is 22px)\n\n        if (options.rtl) {\n          const rtlW = controllerW > referElW ? controllerW - referElW : 0;\n          const rtlL = rtlW > 0 ? 0 : referElW - controllerW;\n          controller.style.left = l - rtlW + rtlL + 'px';\n\n          if (rtlW > 0) {\n            controller.firstElementChild.style.left = (controllerW - 14 < 10 + rtlW ? controllerW - 14 : 10 + rtlW) + 'px';\n          }\n\n          const overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\n\n          if (overSize > 0) {\n            controller.style.left = '0px';\n            controller.firstElementChild.style.left = overSize + 'px';\n          }\n        } else {\n          controller.style.left = l + 'px';\n          const overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\n\n          if (overSize < 0) {\n            controller.style.left = controller.offsetLeft + overSize + 'px';\n            controller.firstElementChild.style.left = 20 - overSize + 'px';\n          } else {\n            controller.firstElementChild.style.left = '20px';\n          }\n        }\n\n        controller.style.visibility = '';\n      },\n\n      /**\r\n       * @description Run event.stopPropagation and event.preventDefault.\r\n       * @param {Object} e Event Object\r\n       */\n      eventStop: function (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      },\n\n      /**\r\n       * @description javascript execCommand\r\n       * @param {String} command javascript execCommand function property\r\n       * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n       * @param {String|undefined} value javascript execCommand function property\r\n       */\n      execCommand: function (command, showDefaultUI, value) {\n        this._wd.execCommand(command, showDefaultUI, command === 'formatBlock' ? '<' + value + '>' : value); // history stack\n\n\n        this.history.push(true);\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area using \"native focus function\"\r\n       */\n      nativeFocus: function () {\n        const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\n\n        if (caption) {\n          caption.focus();\n        } else {\n          context.element.wysiwyg.focus();\n        }\n\n        this._editorRange();\n      },\n\n      /**\r\n       * @description Focus to wysiwyg area\r\n       */\n      focus: function () {\n        if (context.element.wysiwygFrame.style.display === 'none') return;\n\n        if (options.iframe) {\n          this.nativeFocus();\n        } else {\n          try {\n            const range = this.getRange();\n\n            if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\n              const format = util.createElement(options.defaultTag);\n              const br = util.createElement('BR');\n              format.appendChild(br);\n              context.element.wysiwyg.appendChild(format);\n              this.setRange(br, 0, br, 0);\n            } else {\n              this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\n            }\n          } catch (e) {\n            this.nativeFocus();\n          }\n        }\n\n        event._applyTagEffects();\n\n        if (this._isBalloon) event._toggleToolbarBalloon();\n      },\n\n      /**\r\n       * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n       * If \"focusEdge\" is null, then selected last element\r\n       * @param {Element|null} focusEl Focus element\r\n       */\n      focusEdge: function (focusEl) {\n        if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\n        const fileComponentInfo = this.getFileComponent(focusEl);\n\n        if (fileComponentInfo) {\n          this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n        } else if (focusEl) {\n          focusEl = util.getChildElement(focusEl, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, true);\n          if (!focusEl) this.nativeFocus();else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\n        } else {\n          this.focus();\n        }\n      },\n\n      /**\r\n       * @description Set current editor's range object and return.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @returns {Object} Range object.\r\n       */\n      setRange: function (startCon, startOff, endCon, endOff) {\n        if (!startCon || !endCon) return;\n        if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\n        if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\n\n        const range = this._wd.createRange();\n\n        try {\n          range.setStart(startCon, startOff);\n          range.setEnd(endCon, endOff);\n        } catch (error) {\n          console.warn('[SUNEDITOR.core.focus.error] ' + error);\n          this.nativeFocus();\n          return;\n        }\n\n        const selection = this.getSelection();\n\n        if (selection.removeAllRanges) {\n          selection.removeAllRanges();\n        }\n\n        selection.addRange(range);\n\n        this._editorRange();\n\n        if (options.iframe) this.nativeFocus();\n        return range;\n      },\n\n      /**\r\n       * @description Remove range object and button effect\r\n       */\n      removeRange: function () {\n        this._variable._range = null;\n        this._variable._selectionNode = null;\n        this.getSelection().removeAllRanges();\n        const commandMap = this.commandMap;\n        const activePlugins = this.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(this, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n      },\n\n      /**\r\n       * @description Get current editor's range object\r\n       * @returns {Object}\r\n       */\n      getRange: function () {\n        const range = this._variable._range || this._createDefaultRange();\n\n        const selection = this.getSelection();\n        if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\n\n        if (selection.rangeCount > 0) {\n          this._variable._range = selection.getRangeAt(0);\n          return this._variable._range;\n        } else {\n          const sc = selection.anchorNode,\n                ec = selection.focusNode,\n                so = selection.anchorOffset,\n                eo = selection.focusOffset;\n          const compareValue = util.compareElements(sc, ec);\n          const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\n          return this.setRange(rightDir ? sc : ec, rightDir ? so : eo, rightDir ? ec : sc, rightDir ? eo : so);\n        }\n      },\n\n      /**\r\n       * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n       * Returns a new \"range\" or argument \"range\".\r\n       * @param {Object} range core.getRange()\r\n       * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n       * @returns {Object} range\r\n       */\n      getRange_addLine: function (range, container) {\n        if (this._selectionVoid(range)) {\n          const wysiwyg = context.element.wysiwyg;\n          const op = util.createElement(options.defaultTag);\n          op.innerHTML = '<br>';\n          wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\n          this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\n          range = this._variable._range;\n        }\n\n        return range;\n      },\n\n      /**\r\n       * @description Get window selection obejct\r\n       * @returns {Object}\r\n       */\n      getSelection: function () {\n        return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\n      },\n\n      /**\r\n       * @description Get current select node\r\n       * @returns {Node}\r\n       */\n      getSelectionNode: function () {\n        if (util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\n\n        if (!this._variable._selectionNode) {\n          const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) {\n            return current.childNodes.length === 0 || current.nodeType === 3;\n          }, false);\n\n          if (!selectionNode) {\n            this._editorRange();\n          } else {\n            this._variable._selectionNode = selectionNode;\n            return selectionNode;\n          }\n        }\n\n        return this._variable._selectionNode;\n      },\n\n      /**\r\n       * @description Saving the range object and the currently selected node of editor\r\n       * @private\r\n       */\n      _editorRange: function () {\n        const selection = this.getSelection();\n        if (!selection) return null;\n        let range = null;\n        let selectionNode = null;\n\n        if (selection.rangeCount > 0) {\n          range = selection.getRangeAt(0);\n        } else {\n          range = this._createDefaultRange();\n        }\n\n        this._variable._range = range;\n\n        if (range.collapsed) {\n          selectionNode = range.commonAncestorContainer;\n        } else {\n          selectionNode = selection.extentNode || selection.anchorNode;\n        }\n\n        this._variable._selectionNode = selectionNode;\n      },\n\n      /**\r\n       * @description Return the range object of editor's first child node\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _createDefaultRange: function () {\n        const wysiwyg = context.element.wysiwyg;\n        wysiwyg.focus();\n\n        const range = this._wd.createRange();\n\n        let focusEl = wysiwyg.firstElementChild;\n\n        if (!focusEl) {\n          focusEl = util.createElement(options.defaultTag);\n          focusEl.innerHTML = '<br>';\n          wysiwyg.appendChild(focusEl);\n        }\n\n        range.setStart(focusEl, 0);\n        range.setEnd(focusEl, 0);\n        return range;\n      },\n\n      /**\r\n       * @description Returns true if there is no valid \"selection\".\r\n       * @param {Object} range core.getRange()\r\n       * @returns {Object} range\r\n       * @private\r\n       */\n      _selectionVoid: function (range) {\n        const comm = range.commonAncestorContainer;\n        return util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\n      },\n\n      /**\r\n       * @description Reset range object to text node selected status.\r\n       * @returns {Boolean} Returns false if there is no valid selection.\r\n       * @private\r\n       */\n      _resetRangeToTextNode: function () {\n        const range = this.getRange();\n        if (this._selectionVoid(range)) return false;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n        let tempCon, tempOffset, tempChild;\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.lastChild;\n          startOff = startCon.textContent.length;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        } // startContainer\n\n\n        tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\n        tempOffset = startOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\n              tempOffset = 0;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : options.defaultTag);\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n\n            if (onlyBreak) {\n              if (startCon === endCon) {\n                endCon = tempCon;\n                endOff = 1;\n              }\n            }\n          }\n        } // set startContainer\n\n\n        startCon = tempCon;\n        startOff = tempOffset; // endContainer\n\n        tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\n        tempOffset = endOff;\n\n        if (util.isBreak(tempCon) || tempCon.nodeType === 1 && tempCon.childNodes.length > 0) {\n          const onlyBreak = util.isBreak(tempCon);\n\n          if (!onlyBreak) {\n            while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\n              tempChild = tempCon.childNodes;\n              if (tempChild.length === 0) break;\n              tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : tempCon.previousElementSibling || tempCon.previousSibling || startCon;\n              tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\n            }\n\n            let format = util.getFormatElement(tempCon, null);\n\n            if (format === util.getRangeFormatElement(format, null)) {\n              format = util.createElement(util.isCell(format) ? 'DIV' : options.defaultTag);\n              tempCon.parentNode.insertBefore(format, tempCon);\n              format.appendChild(tempCon);\n            }\n          }\n\n          if (util.isBreak(tempCon)) {\n            const emptyText = util.createTextNode(util.zeroWidthSpace);\n            tempCon.parentNode.insertBefore(emptyText, tempCon);\n            tempCon = emptyText;\n            tempOffset = 1;\n\n            if (onlyBreak && !tempCon.previousSibling) {\n              util.removeItem(endCon);\n            }\n          }\n        } // set endContainer\n\n\n        endCon = tempCon;\n        endOff = tempOffset; // set Range\n\n        this.setRange(startCon, startOff, endCon, endOff);\n        return true;\n      },\n\n      /**\r\n       * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n       * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n       * @returns {Array}\r\n       */\n      getSelectedElements: function (validation) {\n        if (!this._resetRangeToTextNode()) return [];\n        let range = this.getRange();\n\n        if (util.isWysiwygDiv(range.startContainer)) {\n          const children = context.element.wysiwyg.children;\n          if (children.length === 0) return [];\n          this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\n          range = this.getRange();\n        }\n\n        const startCon = range.startContainer;\n        const endCon = range.endContainer;\n        const commonCon = range.commonAncestorContainer; // get line nodes\n\n        const lineNodes = util.getListChildren(commonCon, function (current) {\n          return validation ? validation(current) : util.isFormatElement(current);\n        });\n        if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\n        if (startCon === endCon || lineNodes.length === 1) return lineNodes;\n        let startLine = util.getFormatElement(startCon, null);\n        let endLine = util.getFormatElement(endCon, null);\n        let startIdx = null;\n        let endIdx = null;\n\n        const onlyTable = function (current) {\n          return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\n        };\n\n        let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\n        let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\n        if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\n        if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\n        const sameRange = startRangeEl === endRangeEl;\n\n        for (let i = 0, len = lineNodes.length, line; i < len; i++) {\n          line = lineNodes[i];\n\n          if (startLine === line || !sameRange && line === startRangeEl) {\n            startIdx = i;\n            continue;\n          }\n\n          if (endLine === line || !sameRange && line === endRangeEl) {\n            endIdx = i;\n            break;\n          }\n        }\n\n        if (startIdx === null) startIdx = 0;\n        if (endIdx === null) endIdx = lineNodes.length - 1;\n        return lineNodes.slice(startIdx, endIdx + 1);\n      },\n\n      /**\r\n       * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n       * If some of the component are included in the selection, get the entire that component.\r\n       * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n       * @returns {Array}\r\n       */\n      getSelectedElementsAndComponents: function (removeDuplicate) {\n        const commonCon = this.getRange().commonAncestorContainer;\n        const myComponent = util.getParentElement(commonCon, util.isComponent);\n        const selectedLines = util.isTable(commonCon) ? this.getSelectedElements(null) : this.getSelectedElements(function (current) {\n          const component = this.getParentElement(current, this.isComponent);\n          return this.isFormatElement(current) && (!component || component === myComponent) || this.isComponent(current) && !this.getFormatElement(current);\n        }.bind(util));\n\n        if (removeDuplicate) {\n          for (let i = 0, len = selectedLines.length; i < len; i++) {\n            for (let j = i - 1; j >= 0; j--) {\n              if (selectedLines[j].contains(selectedLines[i])) {\n                selectedLines.splice(i, 1);\n                i--;\n                len--;\n                break;\n              }\n            }\n          }\n        }\n\n        return selectedLines;\n      },\n\n      /**\r\n       * @description Determine if this offset is the edge offset of container\r\n       * @param {Node} container The node of the selection object. (range.startContainer..)\r\n       * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n       * @returns {Boolean}\r\n       */\n      isEdgePoint: function (container, offset) {\n        return offset === 0 || !container.nodeValue && offset === 1 || offset === container.nodeValue.length;\n      },\n\n      /**\r\n       * @description Show loading box\r\n       */\n      showLoading: function () {\n        context.element.loading.style.display = 'block';\n      },\n\n      /**\r\n       * @description Close loading box\r\n       */\n      closeLoading: function () {\n        context.element.loading.style.display = 'none';\n      },\n\n      /**\r\n       * @description Append format element to sibling node of argument element.\r\n       * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n       * If not, the currently selected format tag is inserted.\r\n       * @param {Element} element Insert as siblings of that element\r\n       * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n       * @returns {Element}\r\n       */\n      appendFormatTag: function (element, formatNode) {\n        const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\n        const oFormatName = formatNode ? typeof formatNode === 'string' ? formatNode : formatNode.nodeName : util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl) ? currentFormatEl.nodeName : options.defaultTag;\n        const oFormat = util.createElement(oFormatName);\n        oFormat.innerHTML = '<br>';\n\n        if (formatNode && typeof formatNode !== 'string' || !formatNode && util.isFormatElement(currentFormatEl)) {\n          util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\n        }\n\n        if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\n        return oFormat;\n      },\n\n      /**\r\n       * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n       * If \"element\" is \"HR\", insert and return the new line.\r\n       * @param {Element} element Element to be inserted\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n       * @returns {Element}\r\n       */\n      insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\n        if (checkCharCount && !this.checkCharCount(element, null)) {\n          return null;\n        }\n\n        const r = this.removeNode();\n        this.getRange_addLine(this.getRange(), r.container);\n        let oNode = null;\n        let selectionNode = this.getSelectionNode();\n        let formatEl = util.getFormatElement(selectionNode, null);\n\n        if (util.isListCell(formatEl)) {\n          this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\n          if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\n        } else {\n          if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\n            const depthFormat = util.getParentElement(r.container, function (current) {\n              return this.isRangeFormatElement(current);\n            }.bind(util));\n            oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n            if (oNode) formatEl = oNode.previousSibling;\n          }\n\n          this.insertNode(element, formatEl, false);\n          if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\n        }\n\n        this.setRange(element, 0, element, 0);\n\n        if (!notSelect) {\n          const fileComponentInfo = this.getFileComponent(element);\n\n          if (fileComponentInfo) {\n            this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          } else if (oNode) {\n            oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\n            this.setRange(oNode, 0, oNode, 0);\n          }\n        } // history stack\n\n\n        if (!notHistoryPush) this.history.push(1);\n        return oNode || element;\n      },\n\n      /**\r\n       * @description Gets the file component and that plugin name\r\n       * return: {target, component, pluginName} | null\r\n       * @param {Element} element Target element (figure tag, component div, file tag)\r\n       * @returns {Object|null}\r\n       */\n      getFileComponent: function (element) {\n        if (!this._fileManager.queryString || !element) return null;\n        let target, pluginName;\n\n        if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\n          target = element.querySelector(this._fileManager.queryString);\n        }\n\n        if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\n          target = element;\n        }\n\n        if (target) {\n          pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\n\n          if (pluginName) {\n            return {\n              target: target,\n              component: util.getParentElement(target, util.isComponent),\n              pluginName: pluginName\n            };\n          }\n        }\n\n        return null;\n      },\n\n      /**\r\n       * @description The component(image, video) is selected and the resizing module is called.\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @param {String} pluginName Plugin name (image, video)\r\n       */\n      selectComponent: function (element, pluginName) {\n        if (!this.hasFocus) this.focus();\n        const plugin = this.plugins[pluginName];\n        if (!plugin) return;\n\n        _w.setTimeout(function () {\n          if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\n\n          this._setComponentLineBreaker(element);\n        }.bind(this));\n      },\n\n      /**\r\n       * @description Set line breaker of component\r\n       * @param {Element} element Element tag (img, iframe, video)\r\n       * @private\r\n       */\n      _setComponentLineBreaker: function (element) {\n        // line breaker\n        this._lineBreaker.style.display = 'none';\n        const container = util.getParentElement(element, util.isComponent);\n        const t_style = context.element.lineBreaker_t.style;\n        const b_style = context.element.lineBreaker_b.style;\n        const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\n        const isList = util.isListCell(container.parentNode);\n        let componentTop, wScroll, w; // top\n\n        if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\n          this._variable._lineBreakComp = container;\n          wScroll = context.element.wysiwyg.scrollTop;\n          componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n          w = target.offsetWidth / 2 / 2;\n          t_style.top = componentTop - wScroll - 12 + 'px';\n          t_style.left = util.getOffset(target).left + w + 'px';\n          t_style.display = 'block';\n        } else {\n          t_style.display = 'none';\n        } // bottom\n\n\n        if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\n          if (!componentTop) {\n            this._variable._lineBreakComp = container;\n            wScroll = context.element.wysiwyg.scrollTop;\n            componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\n            w = target.offsetWidth / 2 / 2;\n          }\n\n          b_style.top = componentTop + target.offsetHeight - wScroll - 12 + 'px';\n          b_style.left = util.getOffset(target).left + target.offsetWidth - w - 24 + 'px';\n          b_style.display = 'block';\n        } else {\n          b_style.display = 'none';\n        }\n      },\n\n      /**\r\n       * @description Delete selected node and insert argument value node and return.\r\n       * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n       * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n       * @param {Node} oNode Element to be inserted\r\n       * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @returns {Object|Node|null}\r\n       */\n      insertNode: function (oNode, afterNode, checkCharCount) {\n        if (checkCharCount && !this.checkCharCount(oNode, null)) {\n          return null;\n        }\n\n        const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\n        const isFormats = !freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) || util.isComponent(oNode);\n\n        if (!afterNode && isFormats) {\n          const range = this.getRange();\n\n          if (range.startOffset !== range.endOffset || range.startContainer !== range.endContainer) {\n            const r = this.removeNode();\n\n            if (r.container.nodeType === 3 || util.isBreak(r.container)) {\n              const depthFormat = util.getParentElement(r.container, function (current) {\n                return this.isRangeFormatElement(current) || this.isListCell(current);\n              }.bind(util));\n              afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n              if (afterNode) afterNode = afterNode.previousSibling;\n            }\n          }\n        }\n\n        const range = !afterNode && !isFormats ? this.getRange_addLine(this.getRange(), null) : this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startOff = range.startOffset;\n        const endOff = range.endOffset;\n        const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\n        const startCon = formatRange ? commonCon.childNodes[startOff] : range.startContainer;\n        const endCon = formatRange ? commonCon.childNodes[endOff] : range.endContainer;\n        let parentNode,\n            originAfter = null;\n\n        if (!afterNode) {\n          parentNode = startCon;\n\n          if (startCon.nodeType === 3) {\n            parentNode = startCon.parentNode;\n          }\n          /** No Select range node */\n\n\n          if (range.collapsed) {\n            if (commonCon.nodeType === 3) {\n              if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);else afterNode = commonCon.nextSibling;\n            } else {\n              if (!util.isBreak(parentNode)) {\n                let c = parentNode.childNodes[startOff];\n                const focusNode = c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling) ? c.nextSibling : c;\n\n                if (focusNode) {\n                  if (!focusNode.nextSibling) {\n                    parentNode.removeChild(focusNode);\n                    afterNode = null;\n                  } else {\n                    afterNode = util.isBreak(focusNode) && !util.isBreak(oNode) ? focusNode : focusNode.nextSibling;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                afterNode = parentNode;\n                parentNode = parentNode.parentNode;\n              }\n            }\n          } else {\n            /** Select range nodes */\n            const isSameContainer = startCon === endCon;\n\n            if (isSameContainer) {\n              if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;else afterNode = endCon.splitText(endOff);\n              let removeNode = startCon;\n              if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\n              parentNode.removeChild(removeNode);\n\n              if (parentNode.childNodes.length === 0 && isFormats) {\n                parentNode.innerHTML = '<br>';\n              }\n            } else {\n              const removedTag = this.removeNode();\n              const container = removedTag.container;\n              const prevContainer = removedTag.prevContainer;\n\n              if (container && container.childNodes.length === 0 && isFormats) {\n                if (util.isFormatElement(container)) {\n                  container.innerHTML = '<br>';\n                } else if (util.isRangeFormatElement(container)) {\n                  container.innerHTML = '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n                }\n              }\n\n              if (!isFormats && prevContainer) {\n                parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\n\n                if (parentNode.contains(container)) {\n                  afterNode = container;\n\n                  while (afterNode.parentNode === parentNode) {\n                    afterNode = afterNode.parentNode;\n                  }\n                } else {\n                  afterNode = null;\n                }\n              } else {\n                parentNode = isFormats ? commonCon : container;\n                afterNode = isFormats ? endCon : null;\n              }\n\n              while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\n                afterNode = afterNode.parentNode;\n              }\n            }\n          }\n        } // has afterNode\n        else {\n            parentNode = afterNode.parentNode;\n            afterNode = afterNode.nextSibling;\n            originAfter = true;\n          } // --- insert node ---\n\n\n        try {\n          if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || !util.isListCell(parentNode) && util.isComponent(oNode)) {\n            const oldParent = parentNode;\n\n            if (util.isList(afterNode)) {\n              parentNode = afterNode;\n              afterNode = null;\n            } else if (util.isListCell(afterNode)) {\n              parentNode = afterNode.previousElementSibling || afterNode;\n            } else if (!originAfter && !afterNode) {\n              const r = this.removeNode();\n              const container = r.container.nodeType === 3 ? util.isListCell(util.getFormatElement(r.container, null)) ? r.container : util.getFormatElement(r.container, null) || r.container.parentNode : r.container;\n              const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\n              parentNode = rangeCon ? container : container.parentNode;\n              afterNode = rangeCon ? null : container.nextSibling;\n            }\n\n            if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\n          }\n\n          if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\n            afterNode = parentNode.nextElementSibling;\n            parentNode = parentNode.parentNode;\n          }\n\n          parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\n        } catch (e) {\n          parentNode.appendChild(oNode);\n        } finally {\n          if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\n            oNode = this._setIntoFreeFormat(oNode);\n          }\n\n          if (!util.isComponent(oNode)) {\n            let offset = 1;\n\n            if (oNode.nodeType === 3) {\n              const previous = oNode.previousSibling;\n              const next = oNode.nextSibling;\n              const previousText = !previous || previous.nodeType === 1 || util.onlyZeroWidthSpace(previous) ? '' : previous.textContent;\n              const nextText = !next || next.nodeType === 1 || util.onlyZeroWidthSpace(next) ? '' : next.textContent;\n\n              if (previous && previousText.length > 0) {\n                oNode.textContent = previousText + oNode.textContent;\n                util.removeItem(previous);\n              }\n\n              if (next && next.length > 0) {\n                oNode.textContent += nextText;\n                util.removeItem(next);\n              }\n\n              const newRange = {\n                container: oNode,\n                startOffset: previousText.length,\n                endOffset: oNode.textContent.length - nextText.length\n              };\n              this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\n              return newRange;\n            } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\n              let zeroWidth = null;\n\n              if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.insertBefore(zeroWidth, oNode);\n              }\n\n              if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\n                zeroWidth = util.createTextNode(util.zeroWidthSpace);\n                oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\n              }\n\n              if (util._isIgnoreNodeChange(oNode)) {\n                oNode = oNode.nextSibling;\n                offset = 0;\n              }\n            }\n\n            this.setRange(oNode, offset, oNode, offset);\n          } // history stack\n\n\n          this.history.push(true);\n          return oNode;\n        }\n      },\n      _setIntoFreeFormat: function (oNode) {\n        const parentNode = oNode.parentNode;\n        let oNodeChildren, lastONode;\n\n        while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\n          oNodeChildren = oNode.childNodes;\n          lastONode = null;\n\n          while (oNodeChildren[0]) {\n            lastONode = oNodeChildren[0];\n\n            if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\n              this._setIntoFreeFormat(lastONode);\n\n              if (!oNode.parentNode) break;\n              oNodeChildren = oNode.childNodes;\n              continue;\n            }\n\n            parentNode.insertBefore(lastONode, oNode);\n          }\n\n          if (oNode.childNodes.length === 0) util.removeItem(oNode);\n          oNode = util.createElement('BR');\n          parentNode.insertBefore(oNode, lastONode.nextSibling);\n        }\n\n        return oNode;\n      },\n\n      /**\r\n       * @description Delete the currently selected nodes and reset selection range\r\n       * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n       * @returns {Object}\r\n       */\n      removeNode: function () {\n        this._resetRangeToTextNode();\n\n        const range = this.getRange();\n        let container,\n            offset = 0;\n        let startCon = range.startContainer;\n        let endCon = range.endContainer;\n        const startOff = range.startOffset;\n        const endOff = range.endOffset;\n        const commonCon = range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode ? startCon.parentNode : range.commonAncestorContainer;\n        let beforeNode = null;\n        let afterNode = null;\n        const childNodes = util.getListChildNodes(commonCon, null);\n        let startIndex = util.getArrayIndex(childNodes, startCon);\n        let endIndex = util.getArrayIndex(childNodes, endCon);\n\n        if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\n          for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\n            if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\n              startIndex = i;\n              startNode = startNode.parentNode;\n            }\n          }\n\n          for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\n            if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\n              childNodes.splice(i, 1);\n              endNode = endNode.parentNode;\n              --endIndex;\n            }\n          }\n        } else {\n          if (childNodes.length === 0) {\n            if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\n              return {\n                container: commonCon,\n                offset: 0\n              };\n            } else if (commonCon.nodeType === 3) {\n              return {\n                container: commonCon,\n                offset: endOff\n              };\n            }\n\n            childNodes.push(commonCon);\n            startCon = endCon = commonCon;\n          } else {\n            startCon = endCon = childNodes[0];\n\n            if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\n              return {\n                container: util.isMedia(commonCon) ? commonCon : startCon,\n                offset: 0\n              };\n            }\n          }\n\n          startIndex = endIndex = 0;\n        }\n\n        function remove(item) {\n          const format = util.getFormatElement(item, null);\n          util.removeItem(item);\n\n          if (util.isListCell(format)) {\n            const list = util.getArrayItem(format.children, util.isList, false);\n\n            if (list) {\n              const child = list.firstElementChild;\n              const children = child.childNodes;\n\n              while (children[0]) {\n                format.insertBefore(children[0], list);\n              }\n\n              util.removeItemAllParents(child, null, null);\n            }\n          }\n        }\n\n        for (let i = startIndex; i <= endIndex; i++) {\n          const item = childNodes[i];\n\n          if (item.length === 0 || item.nodeType === 3 && item.data === undefined) {\n            remove(item);\n            continue;\n          }\n\n          if (item === startCon) {\n            if (startCon.nodeType === 1) {\n              beforeNode = util.createTextNode(startCon.textContent);\n            } else {\n              if (item === endCon) {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, endCon.length - endOff));\n                offset = startOff;\n              } else {\n                beforeNode = util.createTextNode(startCon.substringData(0, startOff));\n              }\n            }\n\n            if (beforeNode.length > 0) {\n              startCon.data = beforeNode.data;\n            } else {\n              remove(startCon);\n            }\n\n            if (item === endCon) break;\n            continue;\n          }\n\n          if (item === endCon) {\n            if (endCon.nodeType === 1) {\n              afterNode = util.createTextNode(endCon.textContent);\n            } else {\n              afterNode = util.createTextNode(endCon.substringData(endOff, endCon.length - endOff));\n            }\n\n            if (afterNode.length > 0) {\n              endCon.data = afterNode.data;\n            } else {\n              remove(endCon);\n            }\n\n            continue;\n          }\n\n          remove(item);\n        }\n\n        container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : range.endContainer || range.startContainer;\n\n        if (!util.isWysiwygDiv(container)) {\n          const rc = util.removeItemAllParents(container, function (current) {\n            if (this.isComponent(current)) return false;\n            const text = current.textContent;\n            return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\n          }.bind(util), null);\n          if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\n        } // set range\n\n\n        this.setRange(container, offset, container, offset); // history stack\n\n        this.history.push(true);\n        return {\n          container: container,\n          offset: offset,\n          prevContainer: startCon && startCon.parentNode ? startCon : null\n        };\n      },\n\n      /**\r\n       * @description Appended all selected format Element to the argument element and insert\r\n       * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n       */\n      applyRangeFormatElement: function (rangeElement) {\n        this.getRange_addLine(this.getRange(), null);\n        const rangeLines = this.getSelectedElementsAndComponents(false);\n        if (!rangeLines || rangeLines.length === 0) return;\n\n        linesLoop: for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\n          line = rangeLines[i];\n          if (!util.isListCell(line)) continue;\n          nested = line.lastElementChild;\n\n          if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\n            lEl = nested.lastElementChild;\n\n            if (rangeLines.indexOf(lEl) > -1) {\n              let list = null;\n\n              while (list = lEl.lastElementChild) {\n                if (util.isList(list)) {\n                  if (rangeLines.indexOf(list.lastElementChild) > -1) {\n                    lEl = list.lastElementChild;\n                  } else {\n                    continue linesLoop;\n                  }\n                }\n              }\n\n              fEl = nested.firstElementChild;\n              f = rangeLines.indexOf(fEl);\n              l = rangeLines.indexOf(lEl);\n              rangeLines.splice(f, l - f + 1);\n              len = rangeLines.length;\n              continue;\n            }\n          }\n        }\n\n        let last = rangeLines[rangeLines.length - 1];\n        let standTag, beforeTag, pElement;\n\n        if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\n          standTag = last;\n        } else {\n          standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\n        }\n\n        if (util.isCell(standTag)) {\n          beforeTag = null;\n          pElement = standTag;\n        } else {\n          beforeTag = standTag.nextSibling;\n          pElement = standTag.parentNode;\n        }\n\n        let parentDepth = util.getElementDepth(standTag);\n        let listParent = null;\n        const lineArr = [];\n\n        const removeItems = function (parent, origin, before) {\n          let cc = null;\n\n          if (parent !== origin && !util.isTable(origin)) {\n            if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\n            cc = util.removeItemAllParents(origin, null, parent);\n          }\n\n          return cc ? cc.ec : before;\n        };\n\n        for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\n          line = rangeLines[i];\n          originParent = line.parentNode;\n          if (!originParent || rangeElement.contains(originParent)) continue;\n          depth = util.getElementDepth(line);\n\n          if (util.isList(originParent)) {\n            if (listParent === null) {\n              if (nextList) {\n                listParent = nextList;\n                nested = true;\n                nextList = null;\n              } else {\n                listParent = originParent.cloneNode(false);\n              }\n            }\n\n            lineArr.push(line);\n            nextLine = rangeLines[i + 1];\n\n            if (i === len - 1 || nextLine && nextLine.parentNode !== originParent) {\n              // nested list\n              if (nextLine && line.contains(nextLine.parentNode)) {\n                nextList = nextLine.parentNode.cloneNode(false);\n              }\n\n              let list = originParent.parentNode,\n                  p;\n\n              while (util.isList(list)) {\n                p = util.createElement(list.nodeName);\n                p.appendChild(listParent);\n                listParent = p;\n                list = list.parentNode;\n              }\n\n              const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\n\n              if (parentDepth >= depth) {\n                parentDepth = depth;\n                pElement = edge.cc;\n                beforeTag = removeItems(pElement, originParent, edge.ec);\n                if (beforeTag) pElement = beforeTag.parentNode;\n              } else if (pElement === edge.cc) {\n                beforeTag = edge.ec;\n              }\n\n              if (pElement !== edge.cc) {\n                before = removeItems(pElement, edge.cc, before);\n                if (before !== undefined) beforeTag = before;else beforeTag = edge.cc;\n              }\n\n              for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\n                listParent.appendChild(edge.removeArray[c]);\n              }\n\n              if (!nested) rangeElement.appendChild(listParent);\n              if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\n              listParent = null;\n              nested = false;\n            }\n          } else {\n            if (parentDepth >= depth) {\n              parentDepth = depth;\n              pElement = originParent;\n              beforeTag = line.nextSibling;\n            }\n\n            rangeElement.appendChild(line);\n\n            if (pElement !== originParent) {\n              before = removeItems(pElement, originParent);\n              if (before !== undefined) beforeTag = before;\n            }\n          }\n        }\n\n        this.effectNode = null;\n        util.mergeSameTags(rangeElement, null, false);\n        util.mergeNestedTags(rangeElement, function (current) {\n          return this.isList(current);\n        }.bind(util)); // Nested list\n\n        if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\n          const depthFormat = util.getParentElement(beforeTag, function (current) {\n            return this.isRangeFormatElement(current) && !this.isList(current);\n          }.bind(util));\n          const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\n          splitRange.parentNode.insertBefore(rangeElement, splitRange);\n        } else {\n          // basic\n          pElement.insertBefore(rangeElement, beforeTag);\n          removeItems(rangeElement, beforeTag);\n        }\n\n        const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\n\n        if (rangeLines.length > 1) {\n          this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\n        } else {\n          this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n       * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n       * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n       * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n       * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n       * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n       * @returns {Object}\r\n       */\n      detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\n        const range = this.getRange();\n        const so = range.startOffset;\n        const eo = range.endOffset;\n        let children = util.getListChildNodes(rangeElement, function (current) {\n          return current.parentNode === rangeElement;\n        });\n        let parent = rangeElement.parentNode;\n        let firstNode = null;\n        let lastNode = null;\n        let rangeEl = rangeElement.cloneNode(false);\n        const removeArray = [];\n        const newList = util.isList(newRangeElement);\n        let insertedNew = false;\n        let reset = false;\n        let moveComplete = false;\n\n        function appendNode(parent, insNode, sibling, originNode) {\n          if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\n\n          if (insNode.nodeType === 3) {\n            parent.insertBefore(insNode, sibling);\n            return insNode;\n          }\n\n          const insChildren = (moveComplete ? insNode : originNode).childNodes;\n          let format = insNode.cloneNode(false);\n          let first = null;\n          let c = null;\n\n          while (insChildren[0]) {\n            c = insChildren[0];\n\n            if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\n              if (format.childNodes.length > 0) {\n                if (!first) first = format;\n                parent.insertBefore(format, sibling);\n                format = insNode.cloneNode(false);\n              }\n\n              parent.insertBefore(c, sibling);\n              if (!first) first = c;\n            } else {\n              format.appendChild(c);\n            }\n          }\n\n          if (format.childNodes.length > 0) {\n            if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\n              if (newList) {\n                first = sibling;\n\n                while (sibling) {\n                  format.appendChild(sibling);\n                  sibling = sibling.nextSibling;\n                }\n\n                parent.parentNode.insertBefore(format, parent.nextElementSibling);\n              } else {\n                const originNext = originNode.nextElementSibling;\n                const detachRange = util.detachNestedList(originNode, false);\n\n                if (rangeElement !== detachRange || originNext !== originNode.nextElementSibling) {\n                  const fChildren = format.childNodes;\n\n                  while (fChildren[0]) {\n                    originNode.appendChild(fChildren[0]);\n                  }\n\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              }\n            } else {\n              parent.insertBefore(format, sibling);\n            }\n\n            if (!first) first = format;\n          }\n\n          return first;\n        } // detach loop\n\n\n        for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\n          insNode = children[i];\n          if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\n          moveComplete = false;\n\n          if (remove && i === 0) {\n            if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\n              firstNode = rangeElement.previousSibling;\n            } else {\n              firstNode = rangeEl;\n            }\n          }\n\n          if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\n\n          if (selectedFormats && lineIndex === -1) {\n            if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\n            rangeEl.appendChild(insNode);\n          } else {\n            if (selectedFormats) next = selectedFormats[lineIndex + 1];\n\n            if (rangeEl && rangeEl.children.length > 0) {\n              parent.insertBefore(rangeEl, rangeElement);\n              rangeEl = null;\n            }\n\n            if (!newList && util.isListCell(insNode)) {\n              if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\n                const insNext = insNode.nextElementSibling;\n                const detachRange = util.detachNestedList(insNode, false);\n\n                if (rangeElement !== detachRange || insNext !== insNode.nextElementSibling) {\n                  rangeElement = detachRange;\n                  reset = true;\n                }\n              } else {\n                const inner = insNode;\n                insNode = util.createElement(remove ? inner.nodeName : util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : options.defaultTag);\n                const isCell = util.isListCell(insNode);\n                const innerChildren = inner.childNodes;\n\n                while (innerChildren[0]) {\n                  if (util.isList(innerChildren[0]) && !isCell) break;\n                  insNode.appendChild(innerChildren[0]);\n                }\n\n                util.copyFormatAttributes(insNode, inner);\n                moveComplete = true;\n              }\n            } else {\n              insNode = insNode.cloneNode(false);\n            }\n\n            if (!reset) {\n              if (!remove) {\n                if (newRangeElement) {\n                  if (!insertedNew) {\n                    parent.insertBefore(newRangeElement, rangeElement);\n                    insertedNew = true;\n                  }\n\n                  insNode = appendNode(newRangeElement, insNode, null, children[i]);\n                } else {\n                  insNode = appendNode(parent, insNode, rangeElement, children[i]);\n                }\n\n                if (!reset) {\n                  if (selectedFormats) {\n                    lastNode = insNode;\n\n                    if (!firstNode) {\n                      firstNode = insNode;\n                    }\n                  } else if (!firstNode) {\n                    firstNode = lastNode = insNode;\n                  }\n                }\n              } else {\n                removeArray.push(insNode);\n                util.removeItem(children[i]);\n              }\n\n              if (reset) {\n                reset = moveComplete = false;\n                children = util.getListChildNodes(rangeElement, function (current) {\n                  return current.parentNode === rangeElement;\n                });\n                rangeEl = rangeElement.cloneNode(false);\n                parent = rangeElement.parentNode;\n                i = -1;\n                len = children.length;\n                continue;\n              }\n            }\n          }\n        }\n\n        const rangeParent = rangeElement.parentNode;\n        let rangeRight = rangeElement.nextSibling;\n\n        if (rangeEl && rangeEl.children.length > 0) {\n          rangeParent.insertBefore(rangeEl, rangeRight);\n        }\n\n        if (newRangeElement) firstNode = newRangeElement.previousSibling;else if (!firstNode) firstNode = rangeElement.previousSibling;\n        rangeRight = rangeElement.nextSibling;\n\n        if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\n          util.removeItem(rangeElement);\n        } else {\n          util.removeEmptyNode(rangeElement, null);\n        }\n\n        let edge = null;\n\n        if (remove) {\n          edge = {\n            cc: rangeParent,\n            sc: firstNode,\n            ec: rangeRight,\n            removeArray: removeArray\n          };\n        } else {\n          if (!firstNode) firstNode = lastNode;\n          if (!lastNode) lastNode = firstNode;\n          const childEdge = util.getEdgeChildNodes(firstNode, lastNode.parentNode ? firstNode : lastNode);\n          edge = {\n            cc: (childEdge.sc || childEdge.ec).parentNode,\n            sc: childEdge.sc,\n            ec: childEdge.ec\n          };\n        }\n\n        this.effectNode = null;\n        if (notHistoryPush) return edge;\n\n        if (!remove && edge) {\n          if (!selectedFormats) {\n            this.setRange(edge.sc, 0, edge.sc, 0);\n          } else {\n            this.setRange(edge.sc, so, edge.ec, eo);\n          }\n        } // history stack\n\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description \"selectedFormats\" array are detached from the list element.\r\n       * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n       * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n       * @param {Boolean} remove If true, deleted without detached.\r\n       * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n       */\n      detachList: function (selectedFormats, remove) {\n        let rangeArr = {};\n        let listFirst = false;\n        let listLast = false;\n        let first = null;\n        let last = null;\n\n        const passComponent = function (current) {\n          return !this.isComponent(current);\n        }.bind(util);\n\n        for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\n          lastIndex = i === len - 1;\n          o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n          isList = util.isList(o);\n\n          if (!r && isList) {\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[i], 'LI')]\n            };\n            if (i === 0) listFirst = true;\n          } else if (r && isList) {\n            if (r !== o) {\n              const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n              o = selectedFormats[i].parentNode;\n\n              if (listFirst) {\n                first = edge.sc;\n                listFirst = false;\n              }\n\n              if (lastIndex) last = edge.ec;\n\n              if (isList) {\n                r = o;\n                rangeArr = {\n                  r: r,\n                  f: [util.getParentElement(selectedFormats[i], 'LI')]\n                };\n                if (lastIndex) listLast = true;\n              } else {\n                r = null;\n              }\n            } else {\n              rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n              if (lastIndex) listLast = true;\n            }\n          }\n\n          if (lastIndex && util.isList(r)) {\n            const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\n            if (listLast || len === 1) last = edge.ec;\n            if (listFirst) first = edge.sc || last;\n          }\n        }\n\n        return {\n          sc: first,\n          ec: last\n        };\n      },\n\n      /**\r\n       * @description Add, update, and delete nodes from selected text.\r\n       * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n       * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n       * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n       * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n       *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n       * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n       *    (The class name is preceded by \".\" [\".className\"])\r\n       * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n       * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n       * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n       * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       *10. It won't work if the parent node has the same class and same value style.\r\n       *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n       * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n       * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n       * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n       * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n       */\n      nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\n        this._resetRangeToTextNode();\n\n        let range = this.getRange_addLine(this.getRange(), null);\n        styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\n        removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\n        const isRemoveNode = !appendNode;\n        const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\n        let startCon = range.startContainer;\n        let startOff = range.startOffset;\n        let endCon = range.endContainer;\n        let endOff = range.endOffset;\n\n        if (isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode) || startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon)) {\n          return;\n        }\n\n        if (range.collapsed && !isRemoveFormat) {\n          if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\n            let afterNode = null;\n            const focusNode = startCon.childNodes[startOff];\n\n            if (focusNode) {\n              if (!focusNode.nextSibling) {\n                afterNode = null;\n              } else {\n                afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\n              }\n            }\n\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            startCon.insertBefore(zeroWidth, afterNode);\n            this.setRange(zeroWidth, 1, zeroWidth, 1);\n            range = this.getRange();\n            startCon = range.startContainer;\n            startOff = range.startOffset;\n            endCon = range.endContainer;\n            endOff = range.endOffset;\n          }\n        }\n\n        if (util.isFormatElement(startCon)) {\n          startCon = startCon.childNodes[startOff] || startCon.firstChild;\n          startOff = 0;\n        }\n\n        if (util.isFormatElement(endCon)) {\n          endCon = endCon.childNodes[endOff] || endCon.lastChild;\n          endOff = endCon.textContent.length;\n        }\n\n        if (isRemoveNode) {\n          appendNode = util.createElement('DIV');\n        }\n\n        const wRegExp = _w.RegExp;\n        const newNodeName = appendNode.nodeName;\n        /* checked same style property */\n\n        if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\n          let sNode = startCon;\n          let checkCnt = 0;\n          const checkAttrs = [];\n          const checkStyles = appendNode.style;\n\n          for (let i = 0, len = checkStyles.length; i < len; i++) {\n            checkAttrs.push(checkStyles[i]);\n          }\n\n          const ckeckClasses = appendNode.classList;\n\n          for (let i = 0, len = ckeckClasses.length; i < len; i++) {\n            checkAttrs.push('.' + ckeckClasses[i]);\n          }\n\n          if (checkAttrs.length > 0) {\n            while (!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\n              for (let i = 0; i < checkAttrs.length; i++) {\n                if (sNode.nodeType === 1) {\n                  const s = checkAttrs[i];\n                  const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\n                  const styleCheck = isRemoveNode ? !!sNode.style[s] : !!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s];\n                  const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\n\n                  if (styleCheck || classCheck) {\n                    checkCnt++;\n                  }\n                }\n              }\n\n              sNode = sNode.parentNode;\n            }\n\n            if (checkCnt >= checkAttrs.length) return;\n          }\n        }\n\n        let start = {},\n            end = {};\n        let newNode,\n            styleRegExp = '',\n            classRegExp = '',\n            removeNodeRegExp = '';\n\n        if (styleArray) {\n          for (let i = 0, len = styleArray.length, s; i < len; i++) {\n            s = styleArray[i];\n\n            if (/^\\./.test(s)) {\n              classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\n            } else {\n              styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\n            }\n          }\n\n          if (styleRegExp) {\n            styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\n            styleRegExp = new wRegExp(styleRegExp, 'ig');\n          }\n\n          if (classRegExp) {\n            classRegExp += ')(?=\\\\s+|$)';\n            classRegExp = new wRegExp(classRegExp, 'ig');\n          }\n        }\n\n        if (removeNodeArray) {\n          removeNodeRegExp = '^(?:' + removeNodeArray[0];\n\n          for (let i = 1; i < removeNodeArray.length; i++) {\n            removeNodeRegExp += '|' + removeNodeArray[i];\n          }\n\n          removeNodeRegExp += ')$';\n          removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\n        }\n        /** validation check function*/\n\n\n        const wBoolean = _w.Boolean;\n        const _removeCheck = {\n          v: false\n        };\n\n        const validation = function (checkNode) {\n          const vNode = checkNode.cloneNode(false); // all path\n\n          if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode; // all remove\n\n          if (isRemoveFormat) return null; // remove node check\n\n          const tagRemove = !removeNodeRegExp && isRemoveNode || removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName); // tag remove\n\n          if (tagRemove && !strictRemove) {\n            _removeCheck.v = true;\n            return null;\n          } // style regexp\n\n\n          const originStyle = vNode.style.cssText;\n          let style = '';\n\n          if (styleRegExp && originStyle.length > 0) {\n            style = originStyle.replace(styleRegExp, '').trim();\n            if (style !== originStyle) _removeCheck.v = true;\n          } // class check\n\n\n          const originClasses = vNode.className;\n          let classes = '';\n\n          if (classRegExp && originClasses.length > 0) {\n            classes = originClasses.replace(classRegExp, '').trim();\n            if (classes !== originClasses) _removeCheck.v = true;\n          } // remove only\n\n\n          if (isRemoveNode) {\n            if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\n              _removeCheck.v = true;\n              return null;\n            }\n          } // change\n\n\n          if (style || classes || vNode.nodeName !== newNodeName || wBoolean(styleRegExp) !== wBoolean(originStyle) || wBoolean(classRegExp) !== wBoolean(originClasses)) {\n            if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\n\n            if (!vNode.style.cssText) {\n              vNode.removeAttribute('style');\n            }\n\n            if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\n\n            if (!vNode.className.trim()) {\n              vNode.removeAttribute('class');\n            }\n\n            if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\n              _removeCheck.v = true;\n              return null;\n            }\n\n            return vNode;\n          }\n\n          _removeCheck.v = true;\n          return null;\n        }; // get line nodes\n\n\n        const lineNodes = this.getSelectedElements(null);\n        range = this.getRange();\n        startCon = range.startContainer;\n        startOff = range.startOffset;\n        endCon = range.endContainer;\n        endOff = range.endOffset;\n\n        if (!util.getFormatElement(startCon, null)) {\n          startCon = util.getChildElement(lineNodes[0], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          startOff = 0;\n        }\n\n        if (!util.getFormatElement(endCon, null)) {\n          endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) {\n            return current.nodeType === 3;\n          }, false);\n          endOff = endCon.textContent.length;\n        }\n\n        const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\n        const endLength = lineNodes.length - (oneLine ? 0 : 1); // node Changes\n\n        newNode = appendNode.cloneNode(false);\n\n        const isRemoveAnchor = isRemoveFormat || isRemoveNode && function (arr) {\n          for (let n = 0, len = arr.length; n < len; n++) {\n            if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\n          }\n\n          return false;\n        }(removeNodeArray);\n\n        const isSizeNode = util._isSizeNode(newNode);\n\n        const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\n\n        const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode); // one line\n\n\n        if (oneLine) {\n          const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n\n          start.container = newRange.startContainer;\n          start.offset = newRange.startOffset;\n          end.container = newRange.endContainer;\n          end.offset = newRange.endOffset;\n\n          if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\n            start.offset = end.offset = 1;\n          }\n\n          this._setCommonListStyle(newRange.ancestor, null);\n        } else {\n          // multi line \n          // end\n          if (endLength > 0) {\n            newNode = appendNode.cloneNode(false);\n            end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\n          } // mid\n\n\n          for (let i = endLength - 1, newRange; i > 0; i--) {\n            newNode = appendNode.cloneNode(false);\n            newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\n\n            if (newRange.endContainer) {\n              end.ancestor = null;\n              end.container = newRange.endContainer;\n            }\n\n            this._setCommonListStyle(newRange.ancestor, null);\n          } // start\n\n\n          newNode = appendNode.cloneNode(false);\n          start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\n\n          if (start.endContainer) {\n            end.ancestor = null;\n            end.container = start.endContainer;\n          }\n\n          if (endLength <= 0) {\n            end = start;\n          } else if (!end.container) {\n            end.ancestor = null;\n            end.container = start.container;\n            end.offset = start.container.textContent.length;\n          }\n\n          this._setCommonListStyle(start.ancestor, null);\n\n          this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\n        } // set range\n\n\n        this.controllersOff();\n        this.setRange(start.container, start.offset, end.container, end.offset); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n       * @param {Element} el List cell element. <li>\r\n       * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n       * @private\r\n       */\n      _setCommonListStyle: function (el, child) {\n        if (!util.isListCell(el)) return;\n        if (!child) el.removeAttribute('style');\n        const children = util.getArrayItem((child || el).childNodes, function (current) {\n          return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim());\n        }, true);\n\n        if (children[0] && children.length === 1) {\n          child = children[0];\n          if (!child || child.nodeType !== 1) return;\n          const childStyle = child.style;\n          const elStyle = el.style; // bold\n\n          if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\n          else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight; // styles\n\n          if (childStyle.color) elStyle.color = childStyle.color; // color\n\n          if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\n\n          this._setCommonListStyle(el, child);\n        }\n      },\n\n      /**\r\n       * @description Strip remove node\r\n       * @param {Node} removeNode The remove node\r\n       * @private\r\n       */\n      _stripRemoveNode: function (removeNode) {\n        const element = removeNode.parentNode;\n        if (!removeNode || removeNode.nodeType === 3 || !element) return;\n        const children = removeNode.childNodes;\n\n        while (children[0]) {\n          element.insertBefore(children[0], removeNode);\n        }\n\n        element.removeChild(removeNode);\n      },\n\n      /**\r\n       * @description Return the parent maintained tag. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove) return null;\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\n      },\n\n      /**\r\n       * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n       * @param {Element} element Element\r\n       * @returns {Element}\r\n       * @private\r\n       */\n      _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\n        if (!element || _isRemove || element.nodeType !== 1) return false;\n\n        const anchor = this._isMaintainedNode(element);\n\n        return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : anchor || (!_isSizeNode ? this._isSizeNode(element) : false);\n      },\n\n      /**\r\n       * @description wraps text nodes of line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Boolean} collapsed range.collapsed\r\n       * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n       * @private\r\n       */\n      _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\n          if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n            const children = parentCon.childNodes;\n            let sameTag = true;\n\n            for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\n              c = children[i];\n              z = !util.onlyZeroWidthSpace(c);\n\n              if (c === startCon) {\n                s = true;\n                continue;\n              }\n\n              if (c === endCon) {\n                e = true;\n                continue;\n              }\n\n              if (!s && z || s && e && z) {\n                sameTag = false;\n                break;\n              }\n            }\n\n            if (sameTag) {\n              util.copyTagAttributes(parentCon, newInnerNode);\n              return {\n                startContainer: startCon,\n                startOffset: startOff,\n                endContainer: endCon,\n                endOffset: endOff\n              };\n            }\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        const isSameNode = startCon === endCon;\n        let startContainer = startCon;\n        let startOffset = startOff;\n        let endContainer = endCon;\n        let endOffset = endOff;\n        let startPass = false;\n        let endPass = false;\n        let pCurrent, newNode, appendNode, cssText, anchorNode;\n        const wRegExp = _w.RegExp;\n\n        function checkCss(vNode) {\n          const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\n          let style = '';\n\n          if (regExp && vNode.style.cssText.length > 0) {\n            style = regExp.test(vNode.style.cssText);\n          }\n\n          return !style;\n        }\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n            let cloneNode; // startContainer\n\n            if (!startPass && child === startContainer) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\n              const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, isSameNode ? endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset : startContainer.data.length - startOffset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== line && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              newInnerNode.appendChild(childNode);\n              line.appendChild(newInnerNode);\n\n              if (anchorNode && !_getMaintainedNode(endContainer)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              startContainer = textNode;\n              startOffset = 0;\n              startPass = true;\n              if (newNode !== textNode) newNode.appendChild(startContainer);\n              if (!isSameNode) continue;\n            } // endContainer\n\n\n            if (!endPass && child === endContainer) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, endContainer.length - endOffset));\n              const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                newNode = child;\n                cssText = '';\n                pCurrent = [];\n                const anchors = [];\n\n                while (newNode !== pNode && newNode !== el && newNode !== null) {\n                  if (newNode.nodeType === 1 && checkCss(newNode)) {\n                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));else pCurrent.push(newNode.cloneNode(false));\n                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                  }\n\n                  newNode = newNode.parentNode;\n                }\n\n                pCurrent = pCurrent.concat(anchors);\n                cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\n\n                while (pCurrent.length > 0) {\n                  newNode = pCurrent.pop();\n                  appendNode.appendChild(newNode);\n                  appendNode = newNode;\n                }\n\n                pNode.appendChild(cloneNode);\n                newNode.textContent = afterNode.data;\n              }\n\n              if (anchorNode && cloneNode) {\n                const afterAnchorNode = _getMaintainedNode(cloneNode);\n\n                if (afterAnchorNode) {\n                  anchorNode = afterAnchorNode;\n                }\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n\n              while (newNode !== pNode && newNode !== el && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\n                  pCurrent.push(vNode);\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || textNode;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                newInnerNode.appendChild(childNode);\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.appendChild(anchorNode);\n                nNodeArray.push(newInnerNode);\n                anchorNode = null;\n              } else {\n                newInnerNode.appendChild(childNode);\n              }\n\n              endContainer = textNode;\n              endOffset = textNode.data.length;\n              endPass = true;\n\n              if (!isRemoveFormat && collapsed) {\n                newInnerNode = textNode;\n                textNode.textContent = util.zeroWidthSpace;\n              }\n\n              if (newNode !== textNode) newNode.appendChild(endContainer);\n              continue;\n            } // other\n\n\n            if (startPass) {\n              if (child.nodeType === 1 && !util.isBreak(child)) {\n                if (util._isIgnoreNodeChange(child)) {\n                  pNode.appendChild(child.cloneNode(true));\n\n                  if (!collapsed) {\n                    newInnerNode = newInnerNode.cloneNode(false);\n                    pNode.appendChild(newInnerNode);\n                    nNodeArray.push(newInnerNode);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              cssText = '';\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\n\n                if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n\n                  cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (childNode === child) {\n                if (!endPass) ancestor = newInnerNode;else ancestor = pNode;\n              } else if (endPass) {\n                pNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            }\n\n            cloneNode = child.cloneNode(false);\n            ancestor.appendChild(cloneNode);\n            if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            startContainer: startCon,\n            startOffset: startOff,\n            endContainer: endCon,\n            endOffset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            let textNode, textNode_s, textNode_e;\n\n            if (collapsed) {\n              textNode = util.createTextNode(util.zeroWidthSpace);\n              pNode.replaceChild(textNode, removeNode);\n            } else {\n              const rChildren = removeNode.childNodes;\n              textNode_s = rChildren[0];\n\n              while (rChildren[0]) {\n                textNode_e = rChildren[0];\n                pNode.insertBefore(textNode_e, removeNode);\n              }\n\n              util.removeItem(removeNode);\n            }\n\n            if (i === 0) {\n              if (collapsed) {\n                startContainer = endContainer = textNode;\n              } else {\n                startContainer = textNode_s;\n                endContainer = textNode_e;\n              }\n            }\n          }\n        } else {\n          if (isRemoveNode) {\n            for (let i = 0; i < nNodeArray.length; i++) {\n              this._stripRemoveNode(nNodeArray[i]);\n            }\n          }\n\n          if (collapsed) {\n            startContainer = endContainer = newInnerNode;\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n\n        if (collapsed) {\n          startOffset = startContainer.textContent.length;\n          endOffset = endContainer.textContent.length;\n        } // endContainer reset\n\n\n        const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\n\n        if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\n          util.removeItem(endContainer);\n          endContainer = startContainer;\n        }\n\n        endOffset = endConReset ? endContainer.textContent.length : endOffset; // node change\n\n        const newStartOffset = {\n          s: 0,\n          e: 0\n        };\n        const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\n        const mergeEndCon = !endContainer.parentNode;\n        if (mergeEndCon) endContainer = startContainer;\n        const newEndOffset = {\n          s: 0,\n          e: 0\n        };\n        const endPath = util.getNodePath(endContainer, pNode, !mergeEndCon && !endConReset ? newEndOffset : null);\n        startOffset += newStartOffset.s;\n        endOffset = collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s; // tag merge\n\n        const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\n        element.parentNode.replaceChild(pNode, element);\n        startContainer = util.getNodeFromPath(startPath, pNode);\n        endContainer = util.getNodeFromPath(endPath, pNode);\n        return {\n          ancestor: pNode,\n          startContainer: startContainer,\n          startOffset: startOffset + newOffsets[0],\n          endContainer: endContainer,\n          endOffset: endOffset + newOffsets[1]\n        };\n      },\n\n      /**\r\n       * @description wraps first line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} startCon The startContainer property of the selection object.\r\n       * @param {Number} startOff The startOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {null|Node} If end container is renewed, returned renewed node\r\n       * @returns {Object} { ancestor, container, offset, endContainer }\r\n       * @private\r\n       */\n      _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\n        // not add tag\n        let parentCon = startCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\n          let sameTag = true;\n          let s = startCon.previousSibling;\n\n          while (s) {\n            if (!util.onlyZeroWidthSpace(s)) {\n              sameTag = false;\n              break;\n            }\n\n            s = s.previousSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: startCon,\n              offset: startOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = startCon;\n        let offset = startOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  cloneChild = child.cloneNode(true);\n                  pNode.appendChild(cloneChild);\n                  pNode.appendChild(newInnerNode);\n                  nNodeArray.push(newInnerNode); // end container\n\n                  if (_endContainer && child.contains(_endContainer)) {\n                    const endPath = util.getNodePath(_endContainer, child);\n                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\n                  }\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.appendChild(childNode);\n                ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\n                nNodeArray.push(newInnerNode);\n              } else if (isTopNode) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.appendChild(newInnerNode);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // startContainer\n\n\n            if (!passNode && child === container) {\n              let line = pNode;\n              anchorNode = _getMaintainedNode(child);\n              const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n\n              if (anchorNode) {\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== line) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== line) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.appendChild(a);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              }\n\n              if (!util.onlyZeroWidthSpace(prevNode)) {\n                ancestor.appendChild(prevNode);\n              }\n\n              const prevAnchorNode = _getMaintainedNode(ancestor);\n\n              if (!!prevAnchorNode) anchorNode = prevAnchorNode;\n              if (anchorNode) line = anchorNode;\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== line && newNode !== null) {\n                vNode = validation(newNode);\n\n                if (newNode.nodeType === 1 && vNode) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.appendChild(childNode);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n              line.appendChild(newInnerNode);\n              container = textNode;\n              offset = 0;\n              passNode = true;\n              ancestor.appendChild(container);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.appendChild(vNode);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: startCon,\n            offset: startOff,\n            endContainer: _endContainer\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            const textNode = rChildren[0];\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n            if (i === 0) container = textNode;\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = 0;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps mid lines selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n       * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n       * @private\r\n       */\n      _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\n        // not add tag\n        if (!isRemoveNode) {\n          // end container path\n          let endPath = null;\n          if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\n          const tempNode = element.cloneNode(true);\n          const newNodeName = newInnerNode.nodeName;\n          const newCssText = newInnerNode.style.cssText;\n          const newClass = newInnerNode.className;\n          let children = tempNode.childNodes;\n          let i = 0,\n              len = children.length;\n\n          for (let child; i < len; i++) {\n            child = children[i];\n            if (child.nodeType === 3) break;\n\n            if (child.nodeName === newNodeName) {\n              child.style.cssText += newCssText;\n              util.addClass(child, newClass);\n            } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              continue;\n            } else if (len === 1) {\n              children = child.childNodes;\n              len = children.length;\n              i = -1;\n              continue;\n            } else {\n              break;\n            }\n          }\n\n          if (len > 0 && i === len) {\n            element.innerHTML = tempNode.innerHTML;\n            return {\n              ancestor: element,\n              endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const pNode = element.cloneNode(false);\n        const nNodeArray = [newInnerNode];\n        let noneChange = true;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\n            let child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\n              if (newInnerNode.childNodes.length > 0) {\n                pNode.appendChild(newInnerNode);\n                newInnerNode = newInnerNode.cloneNode(false);\n              }\n\n              cloneChild = child.cloneNode(true);\n              pNode.appendChild(cloneChild);\n              pNode.appendChild(newInnerNode);\n              nNodeArray.push(newInnerNode);\n              ancestor = newInnerNode; // end container\n\n              if (_endContainer && child.contains(_endContainer)) {\n                const endPath = util.getNodePath(_endContainer, child);\n                _endContainer = util.getNodeFromPath(endPath, cloneChild);\n              }\n\n              continue;\n            } else {\n              vNode = validation(child);\n\n              if (vNode) {\n                noneChange = false;\n                ancestor.appendChild(vNode);\n                if (child.nodeType === 1) coverNode = vNode;\n              }\n            }\n\n            if (!util.isBreak(child)) recursionFunc(child, coverNode);\n          }\n        })(element, newInnerNode); // not remove tag\n\n\n        if (noneChange || isRemoveNode && !isRemoveFormat && !_removeCheck.v) return {\n          ancestor: element,\n          endContainer: _endContainer\n        };\n        pNode.appendChild(newInnerNode);\n\n        if (isRemoveFormat && isRemoveNode) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n\n            while (rChildren[0]) {\n              pNode.insertBefore(rChildren[0], removeNode);\n            }\n\n            util.removeItem(removeNode);\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        util.removeEmptyNode(pNode, newInnerNode);\n        util.mergeSameTags(pNode, null, true); // node change\n\n        element.parentNode.replaceChild(pNode, element);\n        return {\n          ancestor: pNode,\n          endContainer: _endContainer\n        };\n      },\n\n      /**\r\n       * @description wraps last line selected text.\r\n       * @param {Element} element The node of the line that contains the selected text node.\r\n       * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n       * @param {Function} validation Check if the node should be stripped.\r\n       * @param {Node} endCon The endContainer property of the selection object.\r\n       * @param {Number} endOff The endOffset property of the selection object.\r\n       * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n       * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n       * @returns {Object} { ancestor, container, offset }\r\n       * @private\r\n       */\n      _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\n        // not add tag\n        let parentCon = endCon.parentNode;\n\n        while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\n          if (parentCon.nodeName === newInnerNode.nodeName) break;\n          parentCon = parentCon.parentNode;\n        }\n\n        if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\n          let sameTag = true;\n          let e = endCon.nextSibling;\n\n          while (e) {\n            if (!util.onlyZeroWidthSpace(e)) {\n              sameTag = false;\n              break;\n            }\n\n            e = e.nextSibling;\n          }\n\n          if (sameTag) {\n            util.copyTagAttributes(parentCon, newInnerNode);\n            return {\n              ancestor: element,\n              container: endCon,\n              offset: endOff\n            };\n          }\n        } // add tag\n\n\n        _removeCheck.v = false;\n        const el = element;\n        const nNodeArray = [newInnerNode];\n        const pNode = element.cloneNode(false);\n        let container = endCon;\n        let offset = endOff;\n        let passNode = false;\n        let pCurrent, newNode, appendNode, anchorNode;\n\n        (function recursionFunc(current, ancestor) {\n          const childNodes = current.childNodes;\n\n          for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\n            const child = childNodes[i];\n            if (!child) continue;\n            let coverNode = ancestor;\n\n            if (passNode && !util.isBreak(child)) {\n              if (child.nodeType === 1) {\n                if (util._isIgnoreNodeChange(child)) {\n                  newInnerNode = newInnerNode.cloneNode(false);\n                  const cloneChild = child.cloneNode(true);\n                  pNode.insertBefore(cloneChild, ancestor);\n                  pNode.insertBefore(newInnerNode, cloneChild);\n                  nNodeArray.push(newInnerNode);\n                } else {\n                  recursionFunc(child, child);\n                }\n\n                continue;\n              }\n\n              newNode = child;\n              pCurrent = [];\n              const anchors = [];\n\n              while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\n                vNode = validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  if (_isMaintainedNode(newNode)) {\n                    if (!anchorNode) anchors.push(vNode);\n                  } else {\n                    pCurrent.push(vNode);\n                  }\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              pCurrent = pCurrent.concat(anchors);\n              const isTopNode = pCurrent.length > 0;\n              const childNode = pCurrent.pop() || child;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!anchorNode && _isMaintainedNode(childNode)) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                const aChildren = childNode.childNodes;\n\n                for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\n                  newInnerNode.appendChild(aChildren[a]);\n                }\n\n                childNode.appendChild(newInnerNode);\n                pNode.insertBefore(childNode, pNode.firstChild);\n                nNodeArray.push(newInnerNode);\n                if (newInnerNode.children.length > 0) ancestor = newNode;else ancestor = newInnerNode;\n              } else if (isTopNode) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (anchorNode && child.nodeType === 3) {\n                if (_getMaintainedNode(child)) {\n                  const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {\n                    return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;\n                  }.bind(util));\n                  anchorNode.appendChild(ancestorAnchorNode);\n                  newInnerNode = ancestorAnchorNode.cloneNode(false);\n                  nNodeArray.push(newInnerNode);\n                  pNode.insertBefore(newInnerNode, pNode.firstChild);\n                } else {\n                  anchorNode = null;\n                }\n              }\n            } // endContainer\n\n\n            if (!passNode && child === container) {\n              anchorNode = _getMaintainedNode(child);\n              const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, container.length - offset));\n              const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\n\n              if (anchorNode) {\n                anchorNode = anchorNode.cloneNode(false);\n\n                const a = _getMaintainedNode(ancestor);\n\n                if (a && a.parentNode !== pNode) {\n                  let m = a;\n                  let p = null;\n\n                  while (m.parentNode !== pNode) {\n                    ancestor = p = m.parentNode.cloneNode(false);\n\n                    while (m.childNodes[0]) {\n                      p.appendChild(m.childNodes[0]);\n                    }\n\n                    m.appendChild(p);\n                    m = m.parentNode;\n                  }\n\n                  m.parentNode.insertBefore(a, m.parentNode.firstChild);\n                }\n\n                anchorNode = anchorNode.cloneNode(false);\n              } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\n                newInnerNode = newInnerNode.cloneNode(false);\n                pNode.appendChild(newInnerNode);\n                nNodeArray.push(newInnerNode);\n              }\n\n              if (!util.onlyZeroWidthSpace(afterNode)) {\n                ancestor.insertBefore(afterNode, ancestor.firstChild);\n              }\n\n              newNode = ancestor;\n              pCurrent = [];\n\n              while (newNode !== pNode && newNode !== null) {\n                vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\n\n                if (vNode && newNode.nodeType === 1) {\n                  pCurrent.push(vNode);\n                }\n\n                newNode = newNode.parentNode;\n              }\n\n              const childNode = pCurrent.pop() || ancestor;\n              appendNode = newNode = childNode;\n\n              while (pCurrent.length > 0) {\n                newNode = pCurrent.pop();\n                appendNode.appendChild(newNode);\n                appendNode = newNode;\n              }\n\n              if (childNode !== ancestor) {\n                newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\n                ancestor = newNode;\n              } else {\n                ancestor = newInnerNode;\n              }\n\n              if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\n\n              if (anchorNode) {\n                anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\n                pNode.insertBefore(anchorNode, pNode.firstChild);\n                anchorNode = null;\n              } else {\n                pNode.insertBefore(newInnerNode, pNode.firstChild);\n              }\n\n              container = textNode;\n              offset = textNode.data.length;\n              passNode = true;\n              ancestor.insertBefore(container, ancestor.firstChild);\n              continue;\n            }\n\n            vNode = !passNode ? child.cloneNode(false) : validation(child);\n\n            if (vNode) {\n              ancestor.insertBefore(vNode, ancestor.firstChild);\n              if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\n            }\n\n            recursionFunc(child, coverNode);\n          }\n        })(element, pNode); // not remove tag\n\n\n        if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\n          return {\n            ancestor: element,\n            container: endCon,\n            offset: endOff\n          };\n        }\n\n        isRemoveFormat = isRemoveFormat && isRemoveNode;\n\n        if (isRemoveFormat) {\n          for (let i = 0; i < nNodeArray.length; i++) {\n            let removeNode = nNodeArray[i];\n            const rChildren = removeNode.childNodes;\n            let textNode = null;\n\n            while (rChildren[0]) {\n              textNode = rChildren[0];\n              pNode.insertBefore(textNode, removeNode);\n            }\n\n            util.removeItem(removeNode);\n\n            if (i === nNodeArray.length - 1) {\n              container = textNode;\n              offset = textNode.textContent.length;\n            }\n          }\n        } else if (isRemoveNode) {\n          newInnerNode = newInnerNode.firstChild;\n\n          for (let i = 0; i < nNodeArray.length; i++) {\n            this._stripRemoveNode(nNodeArray[i]);\n          }\n        }\n\n        if (!isRemoveFormat && pNode.childNodes.length === 0) {\n          if (element.childNodes) {\n            container = element.childNodes[0];\n          } else {\n            container = util.createTextNode(util.zeroWidthSpace);\n            element.appendChild(container);\n          }\n        } else {\n          if (!isRemoveNode && newInnerNode.textContent.length === 0) {\n            util.removeEmptyNode(pNode, null);\n            return {\n              ancestor: null,\n              container: null,\n              offset: 0\n            };\n          }\n\n          util.removeEmptyNode(pNode, newInnerNode);\n\n          if (util.onlyZeroWidthSpace(pNode.textContent)) {\n            container = pNode.firstChild;\n            offset = container.textContent.length;\n          } else if (util.onlyZeroWidthSpace(container)) {\n            container = newInnerNode;\n            offset = 1;\n          } // node change\n\n\n          const offsets = {\n            s: 0,\n            e: 0\n          };\n          const path = util.getNodePath(container, pNode, offsets);\n          offset += offsets.s; // tag merge\n\n          const newOffsets = util.mergeSameTags(pNode, [path], true);\n          element.parentNode.replaceChild(pNode, element);\n          container = util.getNodeFromPath(path, pNode);\n          offset += newOffsets[0];\n        }\n\n        return {\n          ancestor: pNode,\n          container: container,\n          offset: offset\n        };\n      },\n\n      /**\r\n       * @description Run plugin calls and basic commands.\r\n       * @param {String} command Command string\r\n       * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n       * @param {Element} target The element of command button\r\n       */\n      actionCall: function (command, display, target) {\n        // call plugins\n        if (display) {\n          if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\n            const layer = context.element.toolbar.querySelector('.' + command);\n\n            if (layer) {\n              if (this._moreLayerActiveButton) {\n                context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command')).style.display = 'none';\n                util.removeClass(this._moreLayerActiveButton, 'on');\n              }\n\n              util.addClass(target, 'on');\n              this._moreLayerActiveButton = target;\n              layer.style.display = 'block';\n\n              event._showToolbarBalloon();\n\n              event._showToolbarInline();\n            }\n\n            return;\n          } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\n            this.callPlugin(command, this.submenuOn.bind(this, target), target);\n            return;\n          } else if (/dialog/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this), target);\n            return;\n          } else if (/command/.test(display)) {\n            this.callPlugin(command, this.plugins[command].action.bind(this), target);\n          } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\n            this.callPlugin(command, this.containerOn.bind(this, target), target);\n            return;\n          } else if (/fileBrowser/.test(display)) {\n            this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\n          }\n        } // default command\n        else if (command) {\n            this.commandHandler(target, command);\n          }\n\n        if (/more/i.test(display)) {\n          const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\n\n          if (layer) {\n            util.removeClass(this._moreLayerActiveButton, 'on');\n            this._moreLayerActiveButton = null;\n            layer.style.display = 'none';\n\n            event._showToolbarBalloon();\n\n            event._showToolbarInline();\n          }\n        } else if (/submenu/.test(display)) {\n          this.submenuOff();\n        } else {\n          this.submenuOff();\n          this.containerOff();\n        }\n      },\n\n      /**\r\n       * @description Execute command of command button(All Buttons except submenu and dialog)\r\n       * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript)\r\n       * @param {Element|null} target The element of command button\r\n       * @param {String} command Property of command button (data-value)\r\n       */\n      commandHandler: function (target, command) {\n        switch (command) {\n          case 'selectAll':\n            const wysiwyg = context.element.wysiwyg;\n            const first = util.getChildElement(wysiwyg.firstChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, false) || wysiwyg.firstChild;\n            const last = util.getChildElement(wysiwyg.lastChild, function (current) {\n              return current.childNodes.length === 0 || current.nodeType === 3;\n            }, true) || wysiwyg.lastChild;\n            if (!first || !last) return;\n            this.setRange(first, 0, last, last.textContent.length);\n            break;\n\n          case 'codeView':\n            this.toggleCodeView();\n            break;\n\n          case 'fullScreen':\n            this.toggleFullScreen(target);\n            break;\n\n          case 'indent':\n          case 'outdent':\n            this.indent(command);\n            break;\n\n          case 'undo':\n            this.history.undo();\n            break;\n\n          case 'redo':\n            this.history.redo();\n            break;\n\n          case 'removeFormat':\n            this.removeFormat();\n            this.focus();\n            break;\n\n          case 'print':\n            this.print();\n            break;\n\n          case 'preview':\n            this.preview();\n            break;\n\n          case 'showBlocks':\n            this.toggleDisplayBlocks();\n            break;\n\n          case 'save':\n            if (typeof options.callBackSave === 'function') {\n              options.callBackSave(this.getContents(false));\n            } else if (typeof functions.save === 'function') {\n              functions.save();\n            } else {\n              throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\n            }\n\n            if (context.tool.save) context.tool.save.setAttribute('disabled', true);\n            break;\n\n          default:\n            // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\n            command = this._defaultCommand[command.toLowerCase()] || command;\n            if (!this.commandMap[command]) this.commandMap[command] = target;\n            const nodesMap = this._variable.currentNodesMap;\n            const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\n            let removeNode = command;\n\n            if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\n              removeNode = 'SUP';\n            } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\n              removeNode = 'SUB';\n            }\n\n            this.nodeChange(cmd, null, [removeNode], false);\n            this.focus();\n        }\n      },\n\n      /**\r\n       * @description Remove format of the currently selected range\r\n       */\n      removeFormat: function () {\n        this.nodeChange(null, null, null, null);\n      },\n\n      /**\r\n       * @description This method implements indentation to selected range.\r\n       * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n       * @param {String} command Separator (\"indent\" or \"outdent\")\r\n       */\n      indent: function (command) {\n        const range = this.getRange();\n        const rangeLines = this.getSelectedElements(null);\n        const cells = [];\n        const shift = 'indent' !== command;\n        const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\n        let sc = range.startContainer;\n        let ec = range.endContainer;\n        let so = range.startOffset;\n        let eo = range.endOffset;\n\n        for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\n          f = rangeLines[i];\n\n          if (!util.isListCell(f) || !this.plugins.list) {\n            margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\n\n            if (shift) {\n              margin -= 25;\n            } else {\n              margin += 25;\n            }\n\n            util.setStyle(f, marginDir, margin <= 0 ? '' : margin + 'px');\n          } else {\n            if (shift || f.previousElementSibling) {\n              cells.push(f);\n            }\n          }\n        } // list cells\n\n\n        if (cells.length > 0) {\n          this.plugins.list.editInsideList.call(this, shift, cells);\n        }\n\n        this.effectNode = null;\n        this.setRange(sc, so, ec, eo); // history stack\n\n        this.history.push(false);\n      },\n\n      /**\r\n       * @description Add or remove the class name of \"body\" so that the code block is visible\r\n       */\n      toggleDisplayBlocks: function () {\n        const wysiwyg = context.element.wysiwyg;\n        util.toggleClass(wysiwyg, 'se-show-block');\n\n        if (util.hasClass(wysiwyg, 'se-show-block')) {\n          util.addClass(this._styleCommandMap.showBlocks, 'active');\n        } else {\n          util.removeClass(this._styleCommandMap.showBlocks, 'active');\n        }\n\n        this._resourcesStateChange();\n      },\n\n      /**\r\n       * @description Changes to code view or wysiwyg view\r\n       */\n      toggleCodeView: function () {\n        const isCodeView = this._variable.isCodeView;\n        this.controllersOff();\n        util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\n\n        if (isCodeView) {\n          this._setCodeDataToEditor();\n\n          context.element.wysiwygFrame.scrollTop = 0;\n          context.element.code.style.display = 'none';\n          context.element.wysiwygFrame.style.display = 'block';\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\n          this._variable.isCodeView = false;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = false;\n\n            if (/balloon|balloon-always/i.test(options.mode)) {\n              context.element._arrow.style.display = '';\n              this._isInline = false;\n              this._isBalloon = true;\n\n              event._hideToolbar();\n            }\n          }\n\n          this.nativeFocus();\n          util.removeClass(this._styleCommandMap.codeView, 'active'); // history stack\n\n          this.history.push(false);\n        } else {\n          this._setEditorDataToCodeView();\n\n          this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\n          this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\n          if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? context.element.code.scrollHeight + 'px' : 'auto';\n          if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\n          this._variable.isCodeView = true;\n\n          if (!this._variable.isFullScreen) {\n            this._notHideToolbar = true;\n\n            if (this._isBalloon) {\n              context.element._arrow.style.display = 'none';\n              context.element.toolbar.style.left = '';\n              this._isInline = true;\n              this._isBalloon = false;\n\n              event._showToolbarInline();\n            }\n          }\n\n          this._variable._range = null;\n          context.element.code.focus();\n          util.addClass(this._styleCommandMap.codeView, 'active');\n        }\n\n        this._checkPlaceholder();\n\n        if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\n      },\n\n      /**\r\n       * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n       * @private\r\n       */\n      _setCodeDataToEditor: function () {\n        const code_html = this._getCodeView();\n\n        if (options.fullPage) {\n          const parseDocument = this._parser.parseFromString(code_html, 'text/html');\n\n          const headChildren = parseDocument.head.children;\n\n          for (let i = 0, len = headChildren.length; i < len; i++) {\n            if (/^script$/i.test(headChildren[i].tagName)) {\n              parseDocument.head.removeChild(headChildren[i]);\n              i--, len--;\n            }\n          }\n\n          this._wd.head.innerHTML = parseDocument.head.innerHTML;\n          this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\n          const attrs = parseDocument.body.attributes;\n\n          for (let i = 0, len = attrs.length; i < len; i++) {\n            if (attrs[i].name === 'contenteditable') continue;\n\n            this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\n          }\n\n          if (!util.hasClass(this._wd.body, 'sun-editor-editable')) {\n            const editableClasses = options._editableClass.split(' ');\n\n            for (let i = 0; i < editableClasses.length; i++) {\n              util.addClass(this._wd.body, options._editableClass[i]);\n            }\n          }\n        } else {\n          context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n        }\n      },\n\n      /**\r\n       * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n       * @private\r\n       */\n      _setEditorDataToCodeView: function () {\n        const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\n        let codeValue = '';\n\n        if (options.fullPage) {\n          const attrs = util.getAttributesToString(this._wd.body, null);\n          codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\n        } else {\n          codeValue = codeContents;\n        }\n\n        context.element.code.style.display = 'block';\n        context.element.wysiwygFrame.style.display = 'none';\n\n        this._setCodeView(codeValue);\n      },\n\n      /**\r\n       * @description Changes to full screen or default screen\r\n       * @param {Element} element full screen button\r\n       */\n      toggleFullScreen: function (element) {\n        const topArea = context.element.topArea;\n        const toolbar = context.element.toolbar;\n        const editorArea = context.element.editorArea;\n        const wysiwygFrame = context.element.wysiwygFrame;\n        const code = context.element.code;\n        const _var = this._variable;\n        this.controllersOff();\n\n        if (!_var.isFullScreen) {\n          _var.isFullScreen = true;\n          _var._fullScreenAttrs.inline = this._isInline;\n          _var._fullScreenAttrs.balloon = this._isBalloon;\n\n          if (this._isInline || this._isBalloon) {\n            this._isInline = false;\n            this._isBalloon = false;\n          }\n\n          if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\n          topArea.style.position = 'fixed';\n          topArea.style.top = '0';\n          topArea.style.left = '0';\n          topArea.style.width = '100%';\n          topArea.style.maxWidth = '100%';\n          topArea.style.height = '100%';\n          topArea.style.zIndex = '2147483647';\n\n          if (context.element._stickyDummy.style.display !== (true && '')) {\n            _var._fullScreenAttrs.sticky = true;\n            context.element._stickyDummy.style.display = 'none';\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          _var._bodyOverflow = _d.body.style.overflow;\n          _d.body.style.overflow = 'hidden';\n          _var._editorAreaOriginCssText = editorArea.style.cssText;\n          _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\n          _var._codeOriginCssText = code.style.cssText;\n          editorArea.style.cssText = toolbar.style.cssText = '';\n          wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\n          toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\n          toolbar.style.position = 'relative';\n          toolbar.style.display = 'block';\n          _var.innerHeight_fullScreen = _w.innerHeight - toolbar.offsetHeight;\n          editorArea.style.height = _var.innerHeight_fullScreen + 'px';\n          util.changeElement(element.firstElementChild, icons.reduction);\n\n          if (options.iframe && options.height === 'auto') {\n            editorArea.style.overflow = 'auto';\n\n            this._iframeAutoHeight();\n          }\n\n          util.addClass(this._styleCommandMap.fullScreen, 'active');\n        } else {\n          _var.isFullScreen = false;\n          wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\n          code.style.cssText = _var._codeOriginCssText;\n          toolbar.style.cssText = '';\n          editorArea.style.cssText = _var._editorAreaOriginCssText;\n          topArea.style.cssText = _var._originCssText;\n          _d.body.style.overflow = _var._bodyOverflow;\n          if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\n\n          if (options.stickyToolbar > -1) {\n            util.removeClass(toolbar, 'se-toolbar-sticky');\n          }\n\n          if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\n            _var._fullScreenAttrs.sticky = false;\n            context.element._stickyDummy.style.display = 'block';\n            util.addClass(toolbar, \"se-toolbar-sticky\");\n          }\n\n          this._isInline = _var._fullScreenAttrs.inline;\n          this._isBalloon = _var._fullScreenAttrs.balloon;\n          if (this._isInline) event._showToolbarInline();\n          if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\n          event.onScroll_window();\n          util.changeElement(element.firstElementChild, icons.expansion);\n          util.removeClass(this._styleCommandMap.fullScreen, 'active');\n        }\n\n        if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\n      },\n\n      /**\r\n       * @description Prints the current contents of the editor.\r\n       */\n      print: function () {\n        const iframe = util.createElement('IFRAME');\n        iframe.style.display = 'none';\n\n        _d.body.appendChild(iframe);\n\n        const printDocument = util.getIframeDocument(iframe);\n        const contentsHTML = this.getContents(true);\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          printDocument.write('' + '<!DOCTYPE html><html>' + '<head>' + linkHTML + '</head>' + '<body class=\"' + options._editableClass + '\">' + contentsHTML + '</body>' + '</html>');\n        }\n\n        this.showLoading();\n\n        _w.setTimeout(function () {\n          try {\n            iframe.focus(); // IE or Edge\n\n            if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\n              try {\n                iframe.contentWindow.document.execCommand('print', false, null);\n              } catch (e) {\n                iframe.contentWindow.print();\n              }\n            } else {\n              // Other browsers\n              iframe.contentWindow.print();\n            }\n          } catch (error) {\n            throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\n          } finally {\n            core.closeLoading();\n            util.removeItem(iframe);\n          }\n        }, 1000);\n      },\n\n      /**\r\n       * @description Open the preview window.\r\n       */\n      preview: function () {\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        const contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\n\n        const windowObject = _w.open('', '_blank');\n\n        windowObject.mimeType = 'text/html';\n        const w = context.element.wysiwygFrame.offsetWidth + 'px !important';\n        const wDoc = this._wd;\n\n        if (options.iframe) {\n          const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + wDoc.head.innerHTML + '<style>body {overflow:auto !important; width:' + w + '; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style>' + '</head>' + '<body ' + arrts + '>' + contentsHTML + '</body>' + '</html>');\n        } else {\n          const links = _d.head.getElementsByTagName('link');\n\n          const styles = _d.head.getElementsByTagName('style');\n\n          let linkHTML = '';\n\n          for (let i = 0, len = links.length; i < len; i++) {\n            linkHTML += links[i].outerHTML;\n          }\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            linkHTML += styles[i].outerHTML;\n          }\n\n          windowObject.document.write('' + '<!DOCTYPE html><html>' + '<head>' + '<meta charset=\"utf-8\" />' + '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' + '<title>' + lang.toolbar.preview + '</title>' + linkHTML + '</head>' + '<body class=\"' + options._editableClass + '\" style=\"width:' + w + '; border:1px solid #ccc; margin:10px auto !important; height:auto !important;\">' + contentsHTML + '</body>' + '</html>');\n        }\n      },\n\n      /**\r\n       * @description Sets the HTML string\r\n       * @param {String|undefined} html HTML string\r\n       */\n      setContents: function (html) {\n        this.removeRange();\n        const convertValue = html === null || html === undefined ? '' : this.convertContentsForEditor(html);\n\n        this._resetComponents();\n\n        if (!this._variable.isCodeView) {\n          context.element.wysiwyg.innerHTML = convertValue; // history stack\n\n          this.history.push(false);\n        } else {\n          const value = this.convertHTMLForCodeView(convertValue);\n\n          this._setCodeView(value);\n        }\n      },\n\n      /**\r\n       * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n       * @param {Object} ctx { head: HTML string, body: HTML string}\r\n       */\n      setIframeContents: function (ctx) {\n        if (!options.iframe) return false;\n        if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script\\s*.*>.*<\\/script>/g, '');\n        if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\n      },\n\n      /**\r\n       * @description Gets the current contents\r\n       * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {Object}\r\n       */\n      getContents: function (onlyContents) {\n        const contents = context.element.wysiwyg.innerHTML;\n        const renderHTML = util.createElement('DIV');\n        renderHTML.innerHTML = contents;\n        const figcaptions = util.getListChildren(renderHTML, function (current) {\n          return /FIGCAPTION/i.test(current.nodeName);\n        });\n\n        for (let i = 0, len = figcaptions.length; i < len; i++) {\n          figcaptions[i].removeAttribute('contenteditable');\n        }\n\n        if (options.fullPage && !onlyContents) {\n          const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\n          return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\n        } else {\n          return renderHTML.innerHTML;\n        }\n      },\n\n      /**\r\n       * @description Returns HTML string according to tag type and configuration.\r\n       * Use only \"cleanHTML\"\r\n       * @param {Node} node Node\r\n       * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n       * @private\r\n       */\n      _makeLine: function (node, requireFormat) {\n        const defaultTag = options.defaultTag; // element\n\n        if (node.nodeType === 1) {\n          if (util._disallowedTags(node)) return '';\n\n          if (!requireFormat || util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || util.isAnchor(node) && util.isMedia(node.firstElementChild)) {\n            return node.outerHTML;\n          } else {\n            return '<' + defaultTag + '>' + node.outerHTML + '</' + defaultTag + '>';\n          }\n        } // text\n\n\n        if (node.nodeType === 3) {\n          if (!requireFormat) return node.textContent;\n          const textArray = node.textContent.split(/\\n/g);\n          let html = '';\n\n          for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\n            text = textArray[i].trim();\n            if (text.length > 0) html += '<' + defaultTag + '>' + text + '</' + defaultTag + '>';\n          }\n\n          return html;\n        } // comments\n\n\n        if (node.nodeType === 8 && this._allowHTMLComments) {\n          return '<!--' + node.textContent.trim() + '-->';\n        }\n\n        return '';\n      },\n\n      /**\r\n       * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n       * @param {String} text \r\n       * @returns {String} HTML string\r\n       * @private\r\n       */\n      _tagConvertor: function (text) {\n        if (!this._disallowedTextTagsRegExp) return text;\n        const ec = {\n          'b': 'strong',\n          'i': 'em',\n          'ins': 'u',\n          'strike': 'del',\n          's': 'del'\n        };\n        return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\n          return t + (typeof ec[n] === 'string' ? ec[n] : n);\n        });\n      },\n\n      /**\r\n       * @description Delete disallowed tags\r\n       * @param {String} html HTML string\r\n       * @returns {String}\r\n       * @private\r\n       */\n      _deleteDisallowedTags: function (html) {\n        return html.replace(/\\n/g, '').replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/gi, '').replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '').replace(this.editorTagsWhitelistRegExp, '');\n      },\n\n      /**\r\n       * @description Gets the clean HTML code for editor\r\n       * @param {String} html HTML string\r\n       * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n       * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n       * @returns {String}\r\n       */\n      cleanHTML: function (html, whitelist) {\n        html = this._deleteDisallowedTags(html).replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\n          if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n          let v = null;\n\n          const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\n\n          if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n          if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\n            const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\n\n            if (sv) {\n              if (!v) v = [];\n              v.push(sv[0]);\n            }\n          }\n\n          if (v) {\n            for (let i = 0, len = v.length; i < len; i++) {\n              if (/^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\n              t += ' ' + v[i];\n            }\n          }\n\n          return t;\n        }.bind(this));\n\n        const dom = _d.createRange().createContextualFragment(html);\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\n        }\n\n        if (this.managedTagsInfo && this.managedTagsInfo.query) {\n          const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\n\n          for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\n            classList = [].slice.call(textCompList[i].classList);\n\n            for (let c = 0, cLen = classList.length; c < cLen; c++) {\n              initMethod = this.managedTagsInfo.map[classList[c]];\n\n              if (initMethod) {\n                initMethod(textCompList[i]);\n                break;\n              }\n            }\n          }\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n        let requireFormat = false;\n\n        for (let i = 0, len = domTree.length, t; i < len; i++) {\n          t = domTree[i];\n\n          if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\n            requireFormat = true;\n            break;\n          }\n        }\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], requireFormat);\n        }\n\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\n      },\n\n      /**\r\n       * @description Converts contents into a format that can be placed in an editor\r\n       * @param {String} contents contents\r\n       * @returns {String}\r\n       */\n      convertContentsForEditor: function (contents) {\n        contents = this._deleteDisallowedTags(contents).replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\n          if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\n          let v = null;\n\n          const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\n\n          if (tAttr) v = m.match(tAttr);else v = m.match(this._attributesWhitelistRegExp);\n\n          if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\n            const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\n\n            if (sv) {\n              if (!v) v = [];\n              v.push(sv[0]);\n            }\n          }\n\n          if (v) {\n            for (let i = 0, len = v.length; i < len; i++) {\n              t += ' ' + v[i];\n            }\n          }\n\n          return t;\n        }.bind(this));\n\n        const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\n\n        try {\n          util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\n        } catch (error) {\n          console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\n        }\n\n        const domTree = dom.childNodes;\n        let cleanHTML = '';\n\n        for (let i = 0, len = domTree.length; i < len; i++) {\n          cleanHTML += this._makeLine(domTree[i], true);\n        }\n\n        if (cleanHTML.length === 0) return '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\n        cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\n        return this._tagConvertor(cleanHTML);\n      },\n\n      /**\r\n       * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n       * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n       * @returns {String}\r\n       */\n      convertHTMLForCodeView: function (html) {\n        let returnHTML = '';\n        const wRegExp = _w.RegExp;\n        const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\n        const isFormatElement = util.isFormatElement.bind(util);\n        const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\n        let indentSize = this._variable.codeIndent * 1;\n        indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\n\n        (function recursionFunc(element, indent, lineBR) {\n          const children = element.childNodes;\n          const elementRegTest = brReg.test(element.nodeName);\n          const elementIndent = elementRegTest ? indent : '';\n\n          for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\n            node = children[i];\n            nodeRegTest = brReg.test(node.nodeName);\n            br = nodeRegTest ? '\\n' : '';\n            lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\n\n            if (node.nodeType === 8) {\n              returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\n              continue;\n            }\n\n            if (node.nodeType === 3) {\n              returnHTML += util._HTMLConvertor(/^\\n+$/.test(node.data) ? '' : node.data);\n              continue;\n            }\n\n            if (node.childNodes.length === 0) {\n              returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\n              continue;\n            }\n\n            node.innerHTML = node.innerHTML;\n            const tag = node.nodeName.toLowerCase();\n            returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\n            recursionFunc(node, indent + indentSize, '');\n            returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' : false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\n          }\n        })(wDoc, '', '\\n');\n\n        return returnHTML.trim() + '\\n';\n      },\n\n      /**\r\n       * @description Add an event to document.\r\n       * When created as an Iframe, the same event is added to the document in the Iframe.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       * @param {Boolean} useCapture Use event capture\r\n       */\n      addDocEvent: function (type, listener, useCapture) {\n        _d.addEventListener(type, listener, useCapture);\n\n        if (options.iframe) {\n          this._wd.addEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description Remove events from document.\r\n       * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n       * @param {String} type Event type\r\n       * @param {Function} listener Event listener\r\n       */\n      removeDocEvent: function (type, listener) {\n        _d.removeEventListener(type, listener);\n\n        if (options.iframe) {\n          this._wd.removeEventListener(type, listener);\n        }\n      },\n\n      /**\r\n       * @description The current number of characters is counted and displayed.\r\n       * @param {String} inputText Text added.\r\n       * @returns {Boolean}\r\n       * @private\r\n       */\n      _charCount: function (inputText) {\n        const maxCharCount = options.maxCharCount;\n        const countType = options.charCounterType;\n        let nextCharCount = 0;\n        if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\n\n        this._setCharCount();\n\n        if (maxCharCount > 0) {\n          let over = false;\n          const count = functions.getCharCount(countType);\n\n          if (count > maxCharCount) {\n            over = true;\n\n            if (nextCharCount > 0) {\n              this._editorRange();\n\n              const range = this.getRange();\n              const endOff = range.endOffset - 1;\n              const text = this.getSelectionNode().textContent;\n              const slicePosition = range.endOffset - (count - maxCharCount);\n              this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\n              this.setRange(range.endContainer, endOff, range.endContainer, endOff);\n            }\n          } else if (count + nextCharCount > maxCharCount) {\n            over = true;\n          }\n\n          if (over) {\n            this._callCounterBlink();\n\n            if (nextCharCount > 0) return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n       * @param {Node|String} element Element node or String.\r\n       * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n       * @returns {Boolean}\r\n       */\n      checkCharCount: function (element, charCounterType) {\n        if (options.maxCharCount) {\n          const countType = charCounterType || options.charCounterType;\n          const length = this.getCharLength(typeof element === 'string' ? element : this._charTypeHTML ? element.outerHTML : element.textContent, countType);\n\n          if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\n            this._callCounterBlink();\n\n            return false;\n          }\n        }\n\n        return true;\n      },\n\n      /**\r\n       * @description Get the length of the content.\r\n       * Depending on the option, the length of the character is taken. (charCounterType)\r\n       * @param {String} content Content to count\r\n       * @param {String} charCounterType options.charCounterType\r\n       * @returns {Number}\r\n       */\n      getCharLength: function (content, charCounterType) {\n        return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\n      },\n\n      /**\r\n       * @description Set the char count to charCounter element textContent.\r\n       * @private\r\n       */\n      _setCharCount: function () {\n        if (context.element.charCounter) {\n          _w.setTimeout(function () {\n            context.element.charCounter.textContent = functions.getCharCount(options.charCounterType);\n          });\n        }\n      },\n\n      /**\r\n       * @description The character counter blinks.\r\n       * @private\r\n       */\n      _callCounterBlink: function () {\n        const charWrapper = context.element.charWrapper;\n\n        if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\n          util.addClass(charWrapper, 'se-blink');\n\n          _w.setTimeout(function () {\n            util.removeClass(charWrapper, 'se-blink');\n          }, 600);\n        }\n      },\n\n      /**\r\n       * @description Check the components such as image and video and modify them according to the format.\r\n       * @private\r\n       */\n      _checkComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\n          this._fileInfoPluginsCheck[i]();\n        }\n      },\n\n      /**\r\n       * @description Initialize the information of the components.\r\n       * @private\r\n       */\n      _resetComponents: function () {\n        for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\n          this._fileInfoPluginsReset[i]();\n        }\n      },\n\n      /**\r\n       * @description Set method in the code view area\r\n       * @param {String} value HTML string\r\n       * @private\r\n       */\n      _setCodeView: function (value) {\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.getDoc().setValue(value);\n        } else {\n          context.element.code.value = value;\n        }\n      },\n\n      /**\r\n       * @description Get method in the code view area\r\n       * @private\r\n       */\n      _getCodeView: function () {\n        return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\n      },\n\n      /**\r\n       * @description Initializ core variable\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _init: function (reload, _initHTML) {\n        const wRegExp = _w.RegExp;\n        this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\n        this._wd = _d;\n        this._charTypeHTML = options.charCounterType === 'byte-html';\n\n        if (!options.iframe && typeof _w.ShadowRoot === 'function') {\n          let child = context.element.wysiwygFrame;\n\n          while (child) {\n            if (child.shadowRoot) {\n              this._shadowRoot = child.shadowRoot;\n              break;\n            } else if (child instanceof _w.ShadowRoot) {\n              this._shadowRoot = child;\n              break;\n            }\n\n            child = child.parentNode;\n          }\n        } // set disallow text nodes\n\n\n        const disallowTextTags = ['b', 'i', 'ins', 's', 'strike'];\n        const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) {\n          return /b|i|ins|s|strike/i.test(v);\n        });\n\n        for (let i = 0; i < allowTextTags.length; i++) {\n          disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\n        }\n\n        this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi'); // set whitelist\n\n        const defaultAttr = 'contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\n        this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\n        this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\n        this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\n        this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\n        const _attr = options.attributesWhitelist;\n        const tagsAttr = {};\n        let allAttr = '';\n\n        if (!!_attr) {\n          for (let k in _attr) {\n            if (!util.hasOwn(_attr, k)) continue;\n\n            if (k === 'all') {\n              allAttr = _attr[k] + '|';\n            } else {\n              tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\n            }\n          }\n        }\n\n        this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\n        this._attributesTagsWhitelist = tagsAttr; // set modes\n\n        this._isInline = /inline/i.test(options.mode);\n        this._isBalloon = /balloon|balloon-always/i.test(options.mode);\n        this._isBalloonAlways = /balloon-always/i.test(options.mode); // caching buttons\n\n        this._cachingButtons(); // file components\n\n\n        this._fileInfoPluginsCheck = [];\n        this._fileInfoPluginsReset = []; // text components\n\n        this.managedTagsInfo = {\n          query: '',\n          map: {}\n        };\n        const managedClass = []; // Command and file plugins registration\n\n        this.activePlugins = [];\n        this._fileManager.tags = [];\n        this._fileManager.pluginMap = {};\n        let filePluginRegExp = [];\n        let plugin, button;\n\n        for (let key in plugins) {\n          if (!util.hasOwn(plugins, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            this.callPlugin(key, null, button);\n          }\n\n          if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\n            this.callPlugin(key, null, button);\n\n            this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\n\n            this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\n          }\n\n          if (_w.Array.isArray(plugin.fileTags)) {\n            const fileTags = plugin.fileTags;\n            this.callPlugin(key, null, button);\n            this._fileManager.tags = this._fileManager.tags.concat(fileTags);\n            filePluginRegExp.push(key);\n\n            for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\n              this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\n            }\n          }\n\n          if (plugin.managedTags) {\n            const info = plugin.managedTags();\n            managedClass.push('.' + info.className);\n            this.managedTagsInfo.map[info.className] = info.method.bind(this);\n          }\n        }\n\n        this.managedTagsInfo.query = managedClass.toString();\n        this._fileManager.queryString = this._fileManager.tags.join(',');\n        this._fileManager.regExp = new wRegExp('^(' + this._fileManager.tags.join('|') + ')$', 'i');\n        this._fileManager.pluginRegExp = new wRegExp('^(' + (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i'); // cache editor's element\n\n        this._variable._originCssText = context.element.topArea.style.cssText;\n        this._placeholder = context.element.placeholder;\n        this._lineBreaker = context.element.lineBreaker;\n        this._lineBreakerButton = this._lineBreaker.querySelector('button'); // Excute history function\n\n        this.history = lib_history(this, this._onChange_historyStack.bind(this)); // register notice module\n\n        this.addModule([_notice]); // Init, validate\n\n        if (options.iframe) {\n          this._wd = context.element.wysiwygFrame.contentDocument;\n          context.element.wysiwyg = this._wd.body;\n          if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\n          if (options.height === 'auto') this._iframeAuto = this._wd.body;\n        }\n\n        this._initWysiwygArea(reload, _initHTML);\n      },\n\n      /**\r\n       * @description Caching basic buttons to use\r\n       * @private\r\n       */\n      _cachingButtons: function () {\n        this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\n        this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\n        const tool = context.tool;\n        this.commandMap = {\n          STRONG: tool.bold,\n          U: tool.underline,\n          EM: tool.italic,\n          DEL: tool.strike,\n          SUB: tool.subscript,\n          SUP: tool.superscript,\n          OUTDENT: tool.outdent,\n          INDENT: tool.indent\n        };\n        this._styleCommandMap = {\n          fullScreen: tool.fullScreen,\n          showBlocks: tool.showBlocks,\n          codeView: tool.codeView\n        };\n      },\n\n      /**\r\n       * @description Initializ wysiwyg area (Only called from core._init)\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _initWysiwygArea: function (reload, _initHTML) {\n        context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\n      },\n\n      /**\r\n       * @description Called when there are changes to tags in the wysiwyg region.\r\n       * @private\r\n       */\n      _resourcesStateChange: function () {\n        this._iframeAutoHeight();\n\n        this._checkPlaceholder();\n      },\n\n      /**\r\n       * @description Called when after execute \"history.push\"\r\n       * @private\r\n       */\n      _onChange_historyStack: function () {\n        event._applyTagEffects();\n\n        if (context.tool.save) context.tool.save.removeAttribute('disabled');\n        if (functions.onChange) functions.onChange(this.getContents(true), this);\n      },\n\n      /**\r\n       * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n       * @private\r\n       */\n      _iframeAutoHeight: function () {\n        if (this._iframeAuto) {\n          _w.setTimeout(function () {\n            context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px';\n          });\n        }\n      },\n\n      /**\r\n       * @description Set display property when there is placeholder.\r\n       * @private\r\n       */\n      _checkPlaceholder: function () {\n        if (this._placeholder) {\n          if (this._variable.isCodeView) {\n            this._placeholder.style.display = 'none';\n            return;\n          }\n\n          const wysiwyg = context.element.wysiwyg;\n\n          if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\n            this._placeholder.style.display = 'none';\n          } else {\n            this._placeholder.style.display = 'block';\n          }\n        }\n      },\n\n      /**\r\n       * @description If there is no default format, add a format and move \"selection\".\r\n       * @param {String|null} formatName Format tag name (default: 'P')\r\n       * @private\r\n       */\n      _setDefaultFormat: function (formatName) {\n        if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\n        const range = this.getRange();\n        const commonCon = range.commonAncestorContainer;\n        const startCon = range.startContainer;\n        const rangeEl = util.getRangeFormatElement(commonCon, null);\n        let focusNode, offset, format;\n        const fileComponent = util.getParentElement(commonCon, util.isComponent);\n        if (fileComponent && !util.isTable(fileComponent)) return;\n        if ((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\n\n        if (rangeEl) {\n          format = util.createElement(formatName || options.defaultTag);\n          format.innerHTML = rangeEl.innerHTML;\n          if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\n          rangeEl.innerHTML = format.outerHTML;\n          format = rangeEl.firstChild;\n          focusNode = util.getEdgeChildNodes(format, null).sc;\n\n          if (!focusNode) {\n            focusNode = util.createTextNode(util.zeroWidthSpace);\n            format.insertBefore(focusNode, format.firstChild);\n          }\n\n          offset = focusNode.textContent.length;\n          this.setRange(focusNode, offset, focusNode, offset);\n          return;\n        }\n\n        if (util.isRangeFormatElement(commonCon) && commonCon.childNodes.length <= 1) {\n          let br = null;\n\n          if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\n            br = commonCon.firstChild;\n          } else {\n            br = util.createTextNode(util.zeroWidthSpace);\n            commonCon.appendChild(br);\n          }\n\n          this.setRange(br, 1, br, 1);\n          return;\n        }\n\n        this.execCommand('formatBlock', false, formatName || options.defaultTag);\n        focusNode = util.getEdgeChildNodes(commonCon, commonCon);\n        focusNode = focusNode ? focusNode.ec : commonCon;\n        format = util.getFormatElement(focusNode, null);\n\n        if (!format) {\n          this.removeRange();\n\n          this._editorRange();\n\n          return;\n        }\n\n        if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\n        if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\n\n        if (util.isBreak(focusNode)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          focusNode.parentNode.insertBefore(zeroWidth, focusNode);\n          focusNode = zeroWidth;\n        }\n\n        this.effectNode = null;\n        this.nativeFocus();\n      },\n\n      /**\r\n       * @description Initialization after \"setOptions\"\r\n       * @param {Object} el context.element\r\n       * @param {String} _initHTML Initial html string\r\n       * @private\r\n       */\n      _setOptionsInit: function (el, _initHTML) {\n        this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\n        this._componentsInfoReset = true;\n\n        this._editorInit(true, _initHTML);\n      },\n\n      /**\r\n       * @description Initializ editor\r\n       * @param {Boolean} reload Is relooad?\r\n       * @param {String} _initHTML initial html string\r\n       * @private\r\n       */\n      _editorInit: function (reload, _initHTML) {\n        // initialize core and add event listeners\n        this._init(reload, _initHTML);\n\n        event._addEvent();\n\n        this._setCharCount();\n\n        event._offStickyToolbar();\n\n        event.onResize_window(); // toolbar visibility\n\n        context.element.toolbar.style.visibility = '';\n\n        this._checkComponents();\n\n        this._componentsInfoInit = false;\n        this._componentsInfoReset = false;\n        this.history.reset(true);\n\n        this._resourcesStateChange();\n\n        _w.setTimeout(function () {\n          if (typeof functions.onload === 'function') functions.onload(core, reload);\n        });\n      },\n\n      /**\r\n       * @description Create and return an object to cache the new context.\r\n       * @param {Element} contextEl context.element\r\n       * @returns {Object}\r\n       * @private\r\n       */\n      _getConstructed: function (contextEl) {\n        return {\n          _top: contextEl.topArea,\n          _relative: contextEl.relative,\n          _toolBar: contextEl.toolbar,\n          _menuTray: contextEl._menuTray,\n          _editorArea: contextEl.editorArea,\n          _wysiwygArea: contextEl.wysiwygFrame,\n          _codeArea: contextEl.code,\n          _placeholder: contextEl.placeholder,\n          _resizingBar: contextEl.resizingBar,\n          _navigation: contextEl.navigation,\n          _charCounter: contextEl.charCounter,\n          _charWrapper: contextEl.charWrapper,\n          _loading: contextEl.loading,\n          _lineBreaker: contextEl.lineBreaker,\n          _lineBreaker_t: contextEl.lineBreaker_t,\n          _lineBreaker_b: contextEl.lineBreaker_b,\n          _resizeBack: contextEl.resizeBackground,\n          _stickyDummy: contextEl._stickyDummy,\n          _arrow: contextEl._arrow\n        };\n      }\n    };\n    /**\r\n     * @description event function\r\n     */\n\n    const event = {\n      _IEisComposing: false,\n      // In IE, there is no \"e.isComposing\" in the key-up event.\n      _lineBreakerBind: null,\n      _responsiveCurrentSize: 'default',\n      _responsiveButtonSize: null,\n      _responsiveButtons: null,\n      _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\n      _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\n      _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\n      _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\n      _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\n      _keyCodeShortcut: {\n        65: 'A',\n        66: 'B',\n        83: 'S',\n        85: 'U',\n        73: 'I',\n        89: 'Y',\n        90: 'Z',\n        219: '[',\n        221: ']'\n      },\n      _shortcutCommand: function (keyCode, shift) {\n        let command = null;\n        const keyStr = event._keyCodeShortcut[keyCode];\n\n        switch (keyStr) {\n          case 'A':\n            command = 'selectAll';\n            break;\n\n          case 'B':\n            if (options.shortcutsDisable.indexOf('bold') === -1) {\n              command = 'STRONG';\n            }\n\n            break;\n\n          case 'S':\n            if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\n              command = 'DEL';\n            }\n\n            break;\n\n          case 'U':\n            if (options.shortcutsDisable.indexOf('underline') === -1) {\n              command = 'U';\n            }\n\n            break;\n\n          case 'I':\n            if (options.shortcutsDisable.indexOf('italic') === -1) {\n              command = 'EM';\n            }\n\n            break;\n\n          case 'Z':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              if (shift) {\n                command = 'redo';\n              } else {\n                command = 'undo';\n              }\n            }\n\n            break;\n\n          case 'Y':\n            if (options.shortcutsDisable.indexOf('undo') === -1) {\n              command = 'redo';\n            }\n\n            break;\n\n          case '[':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = options.rtl ? 'indent' : 'outdent';\n            }\n\n            break;\n\n          case ']':\n            if (options.shortcutsDisable.indexOf('indent') === -1) {\n              command = options.rtl ? 'outdent' : 'indent';\n            }\n\n            break;\n        }\n\n        if (!command) return false;\n        core.commandHandler(core.commandMap[command], command);\n        return true;\n      },\n      _applyTagEffects: function () {\n        let selectionNode = core.getSelectionNode();\n        if (selectionNode === core.effectNode) return;\n        core.effectNode = selectionNode;\n        const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\n        const commandMap = core.commandMap;\n        const classOnCheck = this._onButtonsCheck;\n        const commandMapNodes = [];\n        const currentNodes = [];\n        const activePlugins = core.activePlugins;\n        const cLen = activePlugins.length;\n        let nodeName = '';\n\n        while (selectionNode.firstChild) {\n          selectionNode = selectionNode.firstChild;\n        }\n\n        for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\n          if (!element) break;\n          if (element.nodeType !== 1 || util.isBreak(element)) continue;\n          nodeName = element.nodeName.toUpperCase();\n          currentNodes.push(nodeName);\n          /* Active plugins */\n\n          for (let c = 0, name; c < cLen; c++) {\n            name = activePlugins[c];\n\n            if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\n              commandMapNodes.push(name);\n            }\n          }\n\n          if (util.isFormatElement(element)) {\n            /* Outdent */\n            if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\n              if (util.isListCell(element) || element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0) {\n                commandMapNodes.push('OUTDENT');\n                commandMap.OUTDENT.removeAttribute('disabled');\n              }\n            }\n            /* Indent */\n\n\n            if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\n              commandMapNodes.push('INDENT');\n              commandMap.INDENT.setAttribute('disabled', true);\n            }\n\n            continue;\n          }\n          /** default active buttons [strong, ins, em, del, sub, sup] */\n\n\n          if (classOnCheck.test(nodeName)) {\n            commandMapNodes.push(nodeName);\n            util.addClass(commandMap[nodeName], 'active');\n          }\n        }\n        /** remove class, display text */\n\n\n        for (let key in commandMap) {\n          if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n        /** save current nodes */\n\n\n        core._variable.currentNodes = currentNodes.reverse();\n        core._variable.currentNodesMap = commandMapNodes;\n        /**  Displays the current node structure to resizingBar */\n\n        if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\n      },\n      _cancelCaptionEdit: function () {\n        this.setAttribute('contenteditable', false);\n        this.removeEventListener('blur', event._cancelCaptionEdit);\n      },\n      _buttonsEventHandler: function (e) {\n        let target = e.target;\n        if (core._bindControllersOff) e.stopPropagation();\n\n        if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\n          core._antiBlur = false;\n        } else {\n          e.preventDefault();\n        }\n\n        if (util.getParentElement(target, '.se-submenu')) {\n          e.stopPropagation();\n          core._notHideToolbar = true;\n        } else {\n          let command = target.getAttribute('data-command');\n          let className = target.className;\n\n          while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\n            target = target.parentNode;\n            command = target.getAttribute('data-command');\n            className = target.className;\n          }\n\n          if (command === core._submenuName || command === core._containerName) {\n            e.stopPropagation();\n          }\n        }\n      },\n      onClick_toolbar: function (e) {\n        let target = e.target;\n        let display = target.getAttribute('data-display');\n        let command = target.getAttribute('data-command');\n        let className = target.className;\n\n        while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\n          target = target.parentNode;\n          command = target.getAttribute('data-command');\n          display = target.getAttribute('data-display');\n          className = target.className;\n        }\n\n        if (!command && !display) return;\n        if (target.disabled) return;\n        if (!core.hasFocus) core.nativeFocus();\n        if (!core._variable.isCodeView) core._editorRange();\n        core.actionCall(command, display, target);\n      },\n      onMouseDown_wysiwyg: function (e) {\n        if (util.isNonEditable(context.element.wysiwyg)) return;\n        const tableCell = util.getParentElement(e.target, util.isCell);\n\n        if (tableCell) {\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\n            core.callPlugin('table', function () {\n              tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\n            }, null);\n          }\n        }\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n\n        if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\n        if (typeof functions.onMouseDown === 'function') functions.onMouseDown(e, core);\n      },\n      onClick_wysiwyg: function (e) {\n        const targetElement = e.target;\n        if (util.isNonEditable(context.element.wysiwyg)) return;\n        const fileComponentInfo = core.getFileComponent(targetElement);\n\n        if (fileComponentInfo) {\n          e.preventDefault();\n          core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n          return;\n        }\n\n        const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\n\n        if (util.isNonEditable(figcaption)) {\n          e.preventDefault();\n          figcaption.setAttribute('contenteditable', true);\n          figcaption.focus();\n\n          if (core._isInline && !core._inlineToolbarAttr.isShow) {\n            event._showToolbarInline();\n\n            const hideToolbar = function () {\n              event._hideToolbar();\n\n              figcaption.removeEventListener('blur', hideToolbar);\n            };\n\n            figcaption.addEventListener('blur', hideToolbar);\n          }\n        }\n\n        _w.setTimeout(core._editorRange.bind(core));\n\n        core._editorRange();\n\n        const selectionNode = core.getSelectionNode();\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\n          const range = core.getRange();\n\n          if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\n            if (util.isList(rangeEl)) {\n              const oLi = util.createElement('LI');\n              const prevLi = selectionNode.nextElementSibling;\n              oLi.appendChild(selectionNode);\n              rangeEl.insertBefore(oLi, prevLi);\n            } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\n              core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\n            }\n\n            e.preventDefault();\n            core.focus();\n          }\n        } else {\n          event._applyTagEffects();\n        }\n\n        if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\n        if (typeof functions.onClick === 'function') functions.onClick(e, core);\n      },\n      _balloonDelay: null,\n      _showToolbarBalloonDelay: function () {\n        if (event._balloonDelay) {\n          _w.clearTimeout(event._balloonDelay);\n        }\n\n        event._balloonDelay = _w.setTimeout(function () {\n          _w.clearTimeout(this._balloonDelay);\n\n          this._balloonDelay = null;\n\n          this._showToolbarBalloon();\n        }.bind(event), 350);\n      },\n      _toggleToolbarBalloon: function () {\n        core._editorRange();\n\n        const range = core.getRange();\n        if (core._bindControllersOff || !core._isBalloonAlways && range.collapsed) event._hideToolbar();else event._showToolbarBalloon(range);\n      },\n      _showToolbarBalloon: function (rangeObj) {\n        if (!core._isBalloon) return;\n        const range = rangeObj || core.getRange();\n        const toolbar = context.element.toolbar;\n        const topArea = context.element.topArea;\n        const selection = core.getSelection();\n        let isDirTop;\n\n        if (core._isBalloonAlways && range.collapsed) {\n          isDirTop = true;\n        } else if (selection.focusNode === selection.anchorNode) {\n          isDirTop = selection.focusOffset < selection.anchorOffset;\n        } else {\n          const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\n          isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\n        }\n\n        let rects = range.getClientRects();\n        rects = rects[isDirTop ? 0 : rects.length - 1];\n        let scrollLeft = 0;\n        let scrollTop = 0;\n        let el = topArea;\n\n        while (!!el) {\n          scrollLeft += el.scrollLeft;\n          scrollTop += el.scrollTop;\n          el = el.parentElement;\n        }\n\n        const editorWidth = topArea.offsetWidth;\n\n        const offsets = event._getEditorOffsets(null);\n\n        const stickyTop = offsets.top;\n        const editorLeft = offsets.left;\n        toolbar.style.top = '-10000px';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n\n        if (!rects) {\n          const node = core.getSelectionNode();\n\n          if (util.isFormatElement(node)) {\n            const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n            core.insertNode(zeroWidth, null, false);\n            core.setRange(zeroWidth, 1, zeroWidth, 1);\n\n            core._editorRange();\n\n            rects = core.getRange().getClientRects();\n            rects = rects[isDirTop ? 0 : rects.length - 1];\n          }\n\n          if (!rects) {\n            const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\n            rects = {\n              left: nodeOffset.left,\n              top: nodeOffset.top,\n              right: nodeOffset.left,\n              bottom: nodeOffset.top + node.offsetHeight,\n              noText: true\n            };\n            scrollLeft = 0;\n            scrollTop = 0;\n          }\n\n          isDirTop = true;\n        }\n\n        const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\n\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = toolbar.offsetHeight;\n        const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\n\n        if (iframeRects) {\n          rects = {\n            left: rects.left + iframeRects.left,\n            top: rects.top + iframeRects.top,\n            right: rects.right + iframeRects.right - iframeRects.width,\n            bottom: rects.bottom + iframeRects.bottom - iframeRects.height\n          };\n        }\n\n        event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n\n        if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\n          event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\n        }\n\n        if (options.toolbarContainer) {\n          const editorParent = topArea.parentElement;\n          let container = options.toolbarContainer;\n          let left = container.offsetLeft;\n          let top = container.offsetTop;\n\n          while (!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\n            container = container.offsetParent;\n            left += container.offsetLeft;\n            top += container.offsetTop;\n          }\n\n          toolbar.style.left = toolbar.offsetLeft - left + topArea.offsetLeft + 'px';\n          toolbar.style.top = toolbar.offsetTop - top + topArea.offsetTop + 'px';\n        }\n\n        toolbar.style.visibility = '';\n      },\n      _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\n        const padding = 1;\n        const toolbarWidth = toolbar.offsetWidth;\n        const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\n        const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - toolbarWidth / 2 + scrollLeft;\n        const overRight = absoluteLeft + toolbarWidth - editorWidth;\n        let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\n        let resetTop = false;\n        const space = t + (isDirTop ? event._getEditorOffsets(null).top : toolbar.offsetHeight - context.element.wysiwyg.offsetHeight);\n\n        if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\n          isDirTop = true;\n          resetTop = true;\n        } else if (isDirTop && _d.documentElement.offsetTop > space) {\n          isDirTop = false;\n          resetTop = true;\n        }\n\n        if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\n        toolbar.style.left = _w.Math.floor(l) + 'px';\n        toolbar.style.top = _w.Math.floor(t) + 'px';\n\n        if (isDirTop) {\n          util.removeClass(context.element._arrow, 'se-arrow-up');\n          util.addClass(context.element._arrow, 'se-arrow-down');\n          context.element._arrow.style.top = toolbarHeight + 'px';\n        } else {\n          util.removeClass(context.element._arrow, 'se-arrow-down');\n          util.addClass(context.element._arrow, 'se-arrow-up');\n          context.element._arrow.style.top = -arrowMargin + 'px';\n        }\n\n        const arrow_left = _w.Math.floor(toolbarWidth / 2 + (absoluteLeft - l));\n\n        context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\n      },\n      _showToolbarInline: function () {\n        if (!core._isInline) return;\n        const toolbar = context.element.toolbar;\n        if (options.toolbarContainer) toolbar.style.position = 'relative';else toolbar.style.position = 'absolute';\n        toolbar.style.visibility = 'hidden';\n        toolbar.style.display = 'block';\n        core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\n        core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : -1 - toolbar.offsetHeight) + 'px';\n        if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\n        event.onScroll_window();\n        core._inlineToolbarAttr.isShow = true;\n        toolbar.style.visibility = '';\n      },\n      _hideToolbar: function () {\n        if (!core._notHideToolbar && !core._variable.isFullScreen) {\n          context.element.toolbar.style.display = 'none';\n          core._inlineToolbarAttr.isShow = false;\n        }\n      },\n      onInput_wysiwyg: function (e) {\n        core._editorRange();\n\n        const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';\n\n        if (!core._charCount(data)) {\n          e.preventDefault();\n          e.stopPropagation();\n        } // history stack\n\n\n        core.history.push(true);\n        if (typeof functions.onInput === 'function') functions.onInput(e, core);\n      },\n      _onShortcutKey: false,\n      onKeyDown_wysiwyg: function (e) {\n        const keyCode = e.keyCode;\n        const shift = e.shiftKey;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        event._IEisComposing = keyCode === 229;\n        core.submenuOff();\n\n        if (core._isBalloon) {\n          event._hideToolbar();\n        }\n        /** Shortcuts */\n\n\n        if (ctrl && event._shortcutCommand(keyCode, shift)) {\n          event._onShortcutKey = true;\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        } else if (event._onShortcutKey) {\n          event._onShortcutKey = false;\n        }\n        /** default key action */\n\n\n        let selectionNode = core.getSelectionNode();\n        const range = core.getRange();\n        const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\n        const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\n        let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\n        let rangeEl = util.getRangeFormatElement(formatEl, null);\n\n        switch (keyCode) {\n          case 8:\n            /** backspace key */\n            if (!selectRange) {\n              if (fileComponentName) {\n                e.preventDefault();\n                e.stopPropagation();\n                core.plugins[fileComponentName].destroy.call(core);\n                break;\n              }\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            }\n\n            if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\n              e.preventDefault();\n              e.stopPropagation();\n\n              core._setDefaultFormat(options.defaultTag);\n\n              return false;\n            }\n\n            if (!selectRange && !formatEl.previousElementSibling && range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))) {\n              // closure range\n              if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\n                e.preventDefault();\n                e.stopPropagation();\n                return false;\n              } // maintain default format\n\n\n              if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\n                e.preventDefault();\n                e.stopPropagation();\n                formatEl.innerHTML = '<br>';\n                const attrs = formatEl.attributes;\n\n                while (attrs[0]) {\n                  formatEl.removeAttribute(attrs[0].name);\n                }\n\n                core.nativeFocus();\n                return false;\n              }\n            } // clean remove tag\n\n\n            if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\n              if (range.collapsed ? selectionNode.textContent.length === 1 : range.endOffset - range.startOffset === selectionNode.textContent.length) {\n                e.preventDefault();\n                let offset = null;\n                let prev = selectionNode.parentNode.previousSibling;\n                const next = selectionNode.parentNode.nextSibling;\n\n                if (!prev) {\n                  if (!next) {\n                    prev = util.createElement('BR');\n                    formatEl.appendChild(prev);\n                  } else {\n                    prev = next;\n                    offset = 0;\n                  }\n                }\n\n                selectionNode.textContent = '';\n                util.removeItemAllParents(selectionNode, null, formatEl);\n                offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\n                core.setRange(prev, offset, prev, offset);\n                break;\n              }\n            } // nested list\n\n\n            const commonCon = range.commonAncestorContainer;\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling))) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : range.startOffset === 0 && range.collapsed)) {\n                if (range.startContainer !== range.endContainer) {\n                  e.preventDefault();\n                  core.removeNode();\n\n                  if (range.startContainer.nodeType === 3) {\n                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\n                  } // history stack\n\n\n                  core.history.push(true);\n                } else {\n                  let prev = formatEl.previousElementSibling || rangeEl.parentNode;\n\n                  if (util.isListCell(prev)) {\n                    e.preventDefault();\n                    let prevLast = prev;\n\n                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                      prevLast = prevLast.lastElementChild.lastElementChild;\n\n                      while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\n                        prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\n                      }\n\n                      prev = prevLast;\n                    }\n\n                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\n\n                    if (!con) {\n                      con = util.createTextNode(util.zeroWidthSpace);\n                      rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\n                    }\n\n                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\n                    const children = formatEl.childNodes;\n                    let after = con;\n                    let child = children[0];\n\n                    while (child = children[0]) {\n                      prev.insertBefore(child, after.nextSibling);\n                      after = child;\n                    }\n\n                    util.removeItem(formatEl);\n                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\n                    core.setRange(con, offset, con, offset); // history stack\n\n                    core.history.push(true);\n                  }\n                }\n\n                break;\n              } // detach range\n\n\n              if (!selectRange && range.startOffset === 0) {\n                let detach = true;\n                let comm = commonCon;\n\n                while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\n                  if (comm.previousSibling) {\n                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\n                      detach = false;\n                      break;\n                    }\n                  }\n\n                  comm = comm.parentNode;\n                }\n\n                if (detach && rangeEl.parentNode) {\n                  e.preventDefault();\n                  core.detachRangeFormatElement(rangeEl, util.isListCell(formatEl) ? [formatEl] : null, null, false, false); // history stack\n\n                  core.history.push(true);\n                  break;\n                }\n              }\n            } // component\n\n\n            if (!selectRange && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // select file component\n\n              const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\n\n              if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || ignoreZWS && util.isComponent(formatEl.previousSibling))) {\n                const fileComponentInfo = core.getFileComponent(formatEl.previousSibling);\n\n                if (fileComponentInfo) {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  if (formatEl.textContent.length === 0) util.removeItem(formatEl);\n                  core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n                }\n\n                break;\n              } // delete nonEditable\n\n\n              if (util.isNonEditable(sel.previousSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.previousSibling);\n                break;\n              }\n            }\n\n            break;\n\n          case 46:\n            /** delete key */\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.plugins[fileComponentName].destroy.call(core);\n              break;\n            }\n\n            if (selectRange && event._hardDelete()) {\n              e.preventDefault();\n              e.stopPropagation();\n              break;\n            } // component\n\n\n            if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null) && range.startOffset === selectionNode.textContent.length) {\n              let nextEl = formatEl.nextElementSibling;\n\n              if (!nextEl) {\n                e.preventDefault();\n                break;\n              }\n\n              if (util.isComponent(nextEl)) {\n                e.preventDefault();\n\n                if (util.onlyZeroWidthSpace(formatEl)) {\n                  util.removeItem(formatEl); // table component\n\n                  if (util.isTable(nextEl)) {\n                    let cell = util.getChildElement(nextEl, util.isCell, false);\n                    cell = cell.firstElementChild || cell;\n                    core.setRange(cell, 0, cell, 0);\n                    break;\n                  }\n                } // select file component\n\n\n                const fileComponentInfo = core.getFileComponent(nextEl);\n\n                if (fileComponentInfo) {\n                  e.stopPropagation();\n                  core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\n                }\n\n                break;\n              }\n            }\n\n            if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\n              const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode; // delete nonEditable\n\n              if (util.isNonEditable(sel.nextSibling)) {\n                e.preventDefault();\n                e.stopPropagation();\n                util.removeItem(sel.nextSibling);\n                break;\n              }\n            } // nested list\n\n\n            formatEl = util.getFormatElement(range.startContainer, null);\n            rangeEl = util.getRangeFormatElement(formatEl, null);\n\n            if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) && (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : range.endOffset === selectionNode.textContent.length && range.collapsed))) {\n              if (range.startContainer !== range.endContainer) core.removeNode();\n              let next = util.getArrayItem(formatEl.children, util.isList, false);\n              next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\n\n              if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\n                e.preventDefault();\n                let con, children;\n\n                if (util.isList(next)) {\n                  const child = next.firstElementChild;\n                  children = child.childNodes;\n                  con = children[0];\n\n                  while (children[0]) {\n                    formatEl.insertBefore(children[0], next);\n                  }\n\n                  util.removeItem(child);\n                } else {\n                  con = next.firstChild;\n                  children = next.childNodes;\n\n                  while (children[0]) {\n                    formatEl.appendChild(children[0]);\n                  }\n\n                  util.removeItem(next);\n                }\n\n                core.setRange(con, 0, con, 0); // history stack\n\n                core.history.push(true);\n              }\n\n              break;\n            }\n\n            break;\n\n          case 9:\n            /** tab key */\n            if (fileComponentName || options.tabDisable) break;\n            e.preventDefault();\n            if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\n            const isEdge = !range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset);\n            const selectedFormats = core.getSelectedElements(null);\n            selectionNode = core.getSelectionNode();\n            const cells = [];\n            let lines = [];\n            let fc = util.isListCell(selectedFormats[0]),\n                lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\n            let r = {\n              sc: range.startContainer,\n              so: range.startOffset,\n              ec: range.endContainer,\n              eo: range.endOffset\n            };\n\n            for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\n              f = selectedFormats[i];\n\n              if (util.isListCell(f)) {\n                if (!f.previousElementSibling && !shift) {\n                  continue;\n                } else {\n                  cells.push(f);\n                }\n              } else {\n                lines.push(f);\n              }\n            } // Nested list\n\n\n            if (cells.length > 0 && isEdge && core.plugins.list) {\n              r = core.plugins.list.editInsideList.call(core, shift, cells);\n            } else {\n              // table\n              const tableCell = util.getParentElement(selectionNode, util.isCell);\n\n              if (tableCell && isEdge) {\n                const table = util.getParentElement(tableCell, 'table');\n                const cells = util.getListChildren(table, util.isCell);\n                let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\n                if (idx === cells.length && !shift) idx = 0;\n                if (idx === -1 && shift) idx = cells.length - 1;\n                let moveCell = cells[idx];\n                if (!moveCell) break;\n                moveCell = moveCell.firstElementChild || moveCell;\n                core.setRange(moveCell, 0, moveCell, 0);\n                break;\n              }\n\n              lines = lines.concat(cells);\n              fc = lc = null;\n            } // Lines tab(4)\n\n\n            if (lines.length > 0) {\n              if (!shift) {\n                const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\n\n                if (lines.length === 1) {\n                  const textRange = core.insertNode(tabText, null, true);\n                  if (!textRange) return false;\n\n                  if (!fc) {\n                    r.sc = tabText;\n                    r.so = textRange.endOffset;\n                  }\n\n                  if (!lc) {\n                    r.ec = tabText;\n                    r.eo = textRange.endOffset;\n                  }\n                } else {\n                  const len = lines.length - 1;\n\n                  for (let i = 0, child; i <= len; i++) {\n                    child = lines[i].firstChild;\n                    if (!child) continue;\n\n                    if (util.isBreak(child)) {\n                      lines[i].insertBefore(tabText.cloneNode(false), child);\n                    } else {\n                      child.textContent = tabText.textContent + child.textContent;\n                    }\n                  }\n\n                  const firstChild = util.getChildElement(lines[0], 'text', false);\n                  const endChild = util.getChildElement(lines[len], 'text', true);\n\n                  if (!fc && firstChild) {\n                    r.sc = firstChild;\n                    r.so = 0;\n                  }\n\n                  if (!lc && endChild) {\n                    r.ec = endChild;\n                    r.eo = endChild.textContent.length;\n                  }\n                }\n              } else {\n                const len = lines.length - 1;\n\n                for (let i = 0, line; i <= len; i++) {\n                  line = lines[i].childNodes;\n\n                  for (let c = 0, cLen = line.length, child; c < cLen; c++) {\n                    child = line[c];\n                    if (!child) break;\n                    if (util.onlyZeroWidthSpace(child)) continue;\n\n                    if (/^\\s{1,4}$/.test(child.textContent)) {\n                      util.removeItem(child);\n                    } else if (/^\\s{1,4}/.test(child.textContent)) {\n                      child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\n                    }\n\n                    break;\n                  }\n                }\n\n                const firstChild = util.getChildElement(lines[0], 'text', false);\n                const endChild = util.getChildElement(lines[len], 'text', true);\n\n                if (!fc && firstChild) {\n                  r.sc = firstChild;\n                  r.so = 0;\n                }\n\n                if (!lc && endChild) {\n                  r.ec = endChild;\n                  r.eo = endChild.textContent.length;\n                }\n              }\n            }\n\n            core.setRange(r.sc, r.so, r.ec, r.eo); // history stack\n\n            core.history.push(false);\n            break;\n\n          case 13:\n            /** enter key */\n            const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\n\n            if (core._charTypeHTML) {\n              let enterHTML = '';\n\n              if (!shift && freeFormatEl || shift) {\n                enterHTML = '<br>';\n              } else {\n                enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\n              }\n\n              if (!core.checkCharCount(enterHTML, 'byte-html')) {\n                e.preventDefault();\n                return false;\n              }\n            }\n\n            if (!shift && freeFormatEl) {\n              e.preventDefault();\n              const selectionFormat = selectionNode === freeFormatEl;\n              const wSelection = core.getSelection();\n              const children = selectionNode.childNodes,\n                    offset = wSelection.focusOffset,\n                    prev = selectionNode.previousElementSibling,\n                    next = selectionNode.nextSibling;\n\n              if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && (selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || (!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent)) && offset > 0 && util.isBreak(children[offset - 1]) || !selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || !util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))) {\n                if (selectionFormat) util.removeItem(children[offset - 1]);else util.removeItem(selectionNode);\n                const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\n                util.copyFormatAttributes(newEl, freeFormatEl);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n\n              if (selectionFormat) {\n                functions.insertHTML(range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1]) ? '<br>' : '<br><br>', true, false);\n                let focusNode = wSelection.focusNode;\n                const wOffset = wSelection.focusOffset;\n\n                if (freeFormatEl === focusNode) {\n                  focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\n                }\n\n                core.setRange(focusNode, 1, focusNode, 1);\n              } else {\n                const focusNext = wSelection.focusNode.nextSibling;\n                const br = util.createElement('BR');\n                core.insertNode(br, null, false);\n                const brPrev = br.previousSibling,\n                      brNext = br.nextSibling;\n\n                if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\n                  br.parentNode.insertBefore(br.cloneNode(false), br);\n                  core.setRange(br, 1, br, 1);\n                } else {\n                  core.setRange(brNext, 0, brNext, 0);\n                }\n              }\n\n              event._onShortcutKey = true;\n              break;\n            }\n\n            if (selectRange) break;\n\n            if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\n              const range = core.getRange();\n\n              if (core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\n                e.preventDefault();\n                const newEl = util.createElement('LI');\n                const br = util.createElement('BR');\n                newEl.appendChild(br);\n                formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\n                newEl.appendChild(selectionNode.nextSibling);\n                core.setRange(br, 1, br, 1);\n                break;\n              }\n\n              if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\n                e.preventDefault();\n                let newEl = null;\n\n                if (util.isListCell(rangeEl.parentNode)) {\n                  rangeEl = formatEl.parentNode.parentNode.parentNode;\n                  newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\n\n                  if (!newEl) {\n                    const newListCell = util.createElement('LI');\n                    newListCell.innerHTML = '<br>';\n                    rangeEl.insertBefore(newListCell, newEl);\n                    newEl = newListCell;\n                  }\n                } else {\n                  const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\n                  newEl = util.createElement(newFormat);\n                  const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\n                  edge.cc.insertBefore(newEl, edge.ec);\n                }\n\n                newEl.innerHTML = '<br>';\n                util.copyFormatAttributes(newEl, formatEl);\n                util.removeItemAllParents(formatEl, null, null);\n                core.setRange(newEl, 1, newEl, 1);\n                break;\n              }\n            }\n\n            if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\n              e.preventDefault();\n              formatEl = core.appendFormatTag(formatEl, null);\n              core.setRange(formatEl, 0, formatEl, 0);\n            }\n\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              const compContext = context[fileComponentName];\n              const container = compContext._container;\n              const sibling = container.previousElementSibling || container.nextElementSibling;\n              let newEl = null;\n\n              if (util.isListCell(container.parentNode)) {\n                newEl = util.createElement('BR');\n              } else {\n                newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\n                newEl.innerHTML = '<br>';\n              }\n\n              container.parentNode.insertBefore(newEl, container);\n              core.callPlugin(fileComponentName, function () {\n                core.selectComponent(compContext._element, fileComponentName);\n              }, null);\n            }\n\n            break;\n\n          case 27:\n            if (fileComponentName) {\n              e.preventDefault();\n              e.stopPropagation();\n              core.controllersOff();\n              return false;\n            }\n\n            break;\n        }\n\n        if (shift && keyCode === 16) {\n          e.preventDefault();\n          e.stopPropagation();\n          const tablePlugin = core.plugins.table;\n\n          if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\n            const cell = util.getParentElement(formatEl, util.isCell);\n\n            if (cell) {\n              tablePlugin.onTableCellMultiSelect.call(core, cell, true);\n              return;\n            }\n          }\n        }\n\n        const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\n          const zeroWidth = util.createTextNode(util.zeroWidthSpace);\n          core.insertNode(zeroWidth, null, false);\n          core.setRange(zeroWidth, 1, zeroWidth, 1);\n        }\n\n        if (typeof functions.onKeyDown === 'function') functions.onKeyDown(e, core);\n      },\n      onKeyUp_wysiwyg: function (e) {\n        if (event._onShortcutKey) return;\n\n        core._editorRange();\n\n        const range = core.getRange();\n        const keyCode = e.keyCode;\n        const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\n        const alt = e.altKey;\n        let selectionNode = core.getSelectionNode();\n\n        if (core._isBalloon && (core._isBalloonAlways && keyCode !== 27 || !range.collapsed)) {\n          if (core._isBalloonAlways) {\n            if (keyCode !== 27) event._showToolbarBalloonDelay();\n          } else {\n            event._showToolbarBalloon();\n\n            return;\n          }\n        }\n        /** when format tag deleted */\n\n\n        if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\n          e.preventDefault();\n          e.stopPropagation();\n          selectionNode.innerHTML = '';\n          const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\n          oFormatTag.innerHTML = '<br>';\n          selectionNode.appendChild(oFormatTag);\n          core.setRange(oFormatTag, 0, oFormatTag, 0);\n\n          event._applyTagEffects();\n\n          core.history.push(false);\n          return;\n        }\n\n        const formatEl = util.getFormatElement(selectionNode, null);\n        const rangeEl = util.getRangeFormatElement(selectionNode, null);\n\n        if ((!formatEl && range.collapsed || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\n          core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\n\n          selectionNode = core.getSelectionNode();\n        }\n\n        if (event._directionKeyCode.test(keyCode)) {\n          event._applyTagEffects();\n        }\n\n        const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\n\n        if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\n          let so = range.startOffset,\n              eo = range.endOffset;\n          const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\n          so = range.startOffset - frontZeroWidthCnt;\n          eo = range.endOffset - frontZeroWidthCnt;\n          selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\n          core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\n        }\n\n        core._charCount(''); // history stack\n\n\n        core.history.push(true);\n        if (typeof functions.onKeyUp === 'function') functions.onKeyUp(e, core);\n      },\n      onScroll_wysiwyg: function (e) {\n        core.controllersOff();\n        core._lineBreaker.style.display = 'none';\n        if (core._isBalloon) event._hideToolbar();\n        if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\n      },\n      onFocus_wysiwyg: function (e) {\n        if (core._antiBlur) return;\n        core.hasFocus = true;\n        if (core._isInline) event._showToolbarInline();\n        if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\n      },\n      onBlur_wysiwyg: function (e) {\n        if (core._antiBlur || core._variable.isCodeView) return;\n        core.hasFocus = false;\n        core.controllersOff();\n        if (core._isInline || core._isBalloon) event._hideToolbar();\n        if (typeof functions.onBlur === 'function') functions.onBlur(e, core); // active class reset of buttons\n\n        const commandMap = core.commandMap;\n        const activePlugins = core.activePlugins;\n\n        for (let key in commandMap) {\n          if (!util.hasOwn(commandMap, key)) continue;\n\n          if (activePlugins.indexOf(key) > -1) {\n            plugins[key].active.call(core, null);\n          } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\n            commandMap.OUTDENT.setAttribute('disabled', true);\n          } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\n            commandMap.INDENT.removeAttribute('disabled');\n          } else {\n            util.removeClass(commandMap[key], 'active');\n          }\n        }\n\n        core._variable.currentNodes = [];\n        core._variable.currentNodesMap = [];\n        if (options.showPathLabel) context.element.navigation.textContent = '';\n      },\n      onMouseDown_resizingBar: function (e) {\n        e.stopPropagation();\n        core._variable.resizeClientY = e.clientY;\n        context.element.resizeBackground.style.display = 'block';\n\n        function closureFunc() {\n          context.element.resizeBackground.style.display = 'none';\n\n          _d.removeEventListener('mousemove', event._resize_editor);\n\n          _d.removeEventListener('mouseup', closureFunc);\n        }\n\n        _d.addEventListener('mousemove', event._resize_editor);\n\n        _d.addEventListener('mouseup', closureFunc);\n      },\n      _resize_editor: function (e) {\n        const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\n        context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\n        core._variable.resizeClientY = e.clientY;\n      },\n      onResize_window: function () {\n        core.controllersOff();\n        const responsiveSize = event._responsiveButtonSize;\n\n        if (responsiveSize) {\n          const windowWidth = _w.innerWidth;\n          let responsiveWidth = 'default';\n\n          for (let i = 1, len = responsiveSize.length; i < len; i++) {\n            if (windowWidth < responsiveSize[i]) {\n              responsiveWidth = responsiveSize[i] + '';\n              break;\n            }\n          }\n\n          if (event._responsiveCurrentSize !== responsiveWidth) {\n            event._responsiveCurrentSize = responsiveWidth;\n            functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\n          }\n        }\n\n        if (context.element.toolbar.offsetWidth === 0) return;\n\n        if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\n          context.fileBrowser.body.style.maxHeight = _w.innerHeight - context.fileBrowser.header.offsetHeight - 50 + 'px';\n        }\n\n        if (core.submenuActiveButton && core.submenu) {\n          core._setMenuPosition(core.submenuActiveButton, core.submenu);\n        }\n\n        if (core._variable.isFullScreen) {\n          core._variable.innerHeight_fullScreen += _w.innerHeight - context.element.toolbar.offsetHeight - core._variable.innerHeight_fullScreen;\n          context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\n          return;\n        }\n\n        if (core._variable.isCodeView && core._isInline) {\n          event._showToolbarInline();\n\n          return;\n        }\n\n        core._iframeAutoHeight();\n\n        if (core._sticky) {\n          context.element.toolbar.style.width = context.element.topArea.offsetWidth - 2 + 'px';\n          event.onScroll_window();\n        }\n      },\n      onScroll_window: function () {\n        if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\n        const element = context.element;\n        const editorHeight = element.editorArea.offsetHeight;\n        const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\n        const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\n\n        if (y < editorTop) {\n          event._offStickyToolbar();\n        } else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\n          if (!core._sticky) event._onStickyToolbar();\n          element.toolbar.style.top = editorHeight + editorTop + options.stickyToolbar - y - core._variable.minResizingSize + 'px';\n        } else if (y >= editorTop) {\n          event._onStickyToolbar();\n        }\n      },\n      _getEditorOffsets: function (container) {\n        let offsetEl = container || context.element.topArea;\n        let t = 0,\n            l = 0,\n            s = 0;\n\n        while (offsetEl) {\n          t += offsetEl.offsetTop;\n          l += offsetEl.offsetLeft;\n          s += offsetEl.scrollTop;\n          offsetEl = offsetEl.offsetParent;\n        }\n\n        return {\n          top: t,\n          left: l,\n          scroll: s\n        };\n      },\n      _getPageBottomSpace: function () {\n        return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\n      },\n      _onStickyToolbar: function () {\n        const element = context.element;\n\n        if (!core._isInline && !options.toolbarContainer) {\n          element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\n          element._stickyDummy.style.display = 'block';\n        }\n\n        element.toolbar.style.top = options.stickyToolbar + 'px';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\n        util.addClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = true;\n      },\n      _offStickyToolbar: function () {\n        const element = context.element;\n        element._stickyDummy.style.display = 'none';\n        element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\n        element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\n        element.editorArea.style.marginTop = '';\n        util.removeClass(element.toolbar, 'se-toolbar-sticky');\n        core._sticky = false;\n      },\n      _codeViewAutoHeight: function () {\n        context.element.code.style.height = context.element.code.scrollHeight + 'px';\n      },\n      // FireFox - table delete, Chrome - image, video, audio\n      _hardDelete: function () {\n        const range = core.getRange();\n        const sc = range.startContainer;\n        const ec = range.endContainer; // table\n\n        const sCell = util.getRangeFormatElement(sc);\n        const eCell = util.getRangeFormatElement(ec);\n        const sIsCell = util.isCell(sCell);\n        const eIsCell = util.isCell(eCell);\n\n        if ((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling || eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling) && sCell !== eCell) {\n          if (!sIsCell) {\n            util.removeItem(util.getParentElement(eCell, util.isComponent));\n          } else if (!eIsCell) {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n          } else {\n            util.removeItem(util.getParentElement(sCell, util.isComponent));\n            core.nativeFocus();\n            return true;\n          }\n        } // component\n\n\n        const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\n        const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\n        if (sComp) util.removeItem(sComp);\n        if (eComp) util.removeItem(eComp);\n        return false;\n      },\n      onPaste_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n        if (!clipboardData) return true;\n        return event._dataTransferAction('paste', e, clipboardData);\n      },\n      _setClipboardComponent: function (e, info, clipboardData) {\n        e.preventDefault();\n        e.stopPropagation();\n        clipboardData.setData('text/html', info.component.outerHTML);\n      },\n      onCopy_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n\n        if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.addClass(info.component, 'se-component-copy'); // copy effect\n\n          _w.setTimeout(function () {\n            util.removeClass(info.component, 'se-component-copy');\n          }, 150);\n        }\n      },\n      onCut_wysiwyg: function (e) {\n        const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\n\n        if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        const info = core.currentFileComponentInfo;\n\n        if (info && !util.isIE) {\n          event._setClipboardComponent(e, info, clipboardData);\n\n          util.removeItem(info.component);\n          core.controllersOff();\n        }\n\n        _w.setTimeout(function () {\n          // history stack\n          core.history.push(false);\n        });\n      },\n      onDrop_wysiwyg: function (e) {\n        const dataTransfer = e.dataTransfer;\n        if (!dataTransfer) return true;\n\n        if (util.isIE) {\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        core.removeNode();\n\n        event._setDropLocationSelection(e);\n\n        return event._dataTransferAction('drop', e, dataTransfer);\n      },\n      _setDropLocationSelection: function (e) {\n        if (e.rangeParent) {\n          core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\n        } else if (core._wd.caretRangeFromPoint) {\n          const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\n\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        } else {\n          const r = core.getRange();\n          core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\n        }\n      },\n      _dataTransferAction: function (type, e, data) {\n        let plainText, cleanData;\n\n        if (util.isIE) {\n          plainText = data.getData('Text');\n          const range = core.getRange();\n          const tempDiv = util.createElement('DIV');\n          const tempRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n          };\n          tempDiv.setAttribute('contenteditable', true);\n          tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\n          context.element.relative.appendChild(tempDiv);\n          tempDiv.focus();\n\n          _w.setTimeout(function () {\n            cleanData = tempDiv.innerHTML;\n            util.removeItem(tempDiv);\n            core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\n\n            event._setClipboardData(type, e, plainText, cleanData, data);\n          });\n\n          return true;\n        } else {\n          plainText = data.getData('text/plain');\n          cleanData = data.getData('text/html') || plainText;\n\n          if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n          }\n        }\n      },\n      _setClipboardData: function (type, e, plainText, cleanData, data) {\n        // MS word\n        if (/class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData)) {\n          cleanData = cleanData.replace(/\\n/g, ' ');\n          plainText = plainText.replace(/\\n/g, ' ');\n        } else {\n          plainText = plainText.replace(/\\n/g, '');\n        }\n\n        cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\n\n        const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText); // paste event\n\n\n        if (type === 'paste' && typeof functions.onPaste === 'function') {\n          const value = functions.onPaste(e, cleanData, maxCharCount, core);\n          if (!value) return false;\n          if (typeof value === 'string') cleanData = value;\n        } // drop event\n\n\n        if (type === 'drop' && typeof functions.onDrop === 'function') {\n          const value = functions.onDrop(e, cleanData, maxCharCount, core);\n          if (!value) return false;\n          if (typeof value === 'string') cleanData = value;\n        } // files\n\n\n        const files = data.files;\n\n        if (files.length > 0) {\n          if (/^image/.test(files[0].type) && core.plugins.image) {\n            functions.insertImage(files);\n          }\n\n          return false;\n        }\n\n        if (!maxCharCount) {\n          return false;\n        }\n\n        if (cleanData) {\n          functions.insertHTML(cleanData, true, false);\n          return false;\n        }\n      },\n      onMouseMove_wysiwyg: function (e) {\n        if (core.isDisabled) return;\n        const component = util.getParentElement(e.target, util.isComponent);\n        const lineBreakerStyle = core._lineBreaker.style;\n\n        if (component && !core.currentControllerName) {\n          let scrollTop = 0;\n          let el = context.element.wysiwyg;\n\n          do {\n            scrollTop += el.scrollTop;\n            el = el.parentElement;\n          } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\n\n          const wScroll = context.element.wysiwyg.scrollTop;\n\n          const offsets = event._getEditorOffsets(null);\n\n          const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\n          const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? context.element.toolbar.offsetHeight : 0);\n          const c = componentTop + (options.iframe ? scrollTop : offsets.top);\n          const isList = util.isListCell(component.parentNode);\n          let dir = '',\n              top = '';\n\n          if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < c + 20) {\n            top = componentTop;\n            dir = 't';\n          } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > c + component.offsetHeight - 20) {\n            top = componentTop + component.offsetHeight;\n            dir = 'b';\n          } else {\n            lineBreakerStyle.display = 'none';\n            return;\n          }\n\n          core._variable._lineBreakComp = component;\n          core._variable._lineBreakDir = dir;\n          lineBreakerStyle.top = top - wScroll + 'px';\n          core._lineBreakerButton.style.left = util.getOffset(component).left + component.offsetWidth / 2 - 15 + 'px';\n          lineBreakerStyle.display = 'block';\n        } // off line breaker\n        else if (lineBreakerStyle.display !== 'none') {\n            lineBreakerStyle.display = 'none';\n          }\n      },\n      _onMouseDown_lineBreak: function (e) {\n        e.preventDefault();\n      },\n      _onLineBreak: function (e) {\n        e.preventDefault();\n        const component = core._variable._lineBreakComp;\n        const dir = !this ? core._variable._lineBreakDir : this;\n        const isList = util.isListCell(component.parentNode);\n        const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : options.defaultTag);\n        if (!isList) format.innerHTML = '<br>';\n        if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\n        component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\n        core._lineBreaker.style.display = 'none';\n        core._variable._lineBreakComp = null;\n        const focusEl = isList ? format : format.firstChild;\n        core.setRange(focusEl, 1, focusEl, 1); // history stack\n\n        core.history.push(false);\n      },\n      _addEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        /** toolbar event */\n\n        context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\n\n        context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\n        /** editor area */\n\n        eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\n        eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\n        eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\n        eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\n        eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\n        eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\n        eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\n        eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\n        eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\n        eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\n        eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\n        /** line breaker */\n\n        event._lineBreakerBind = {\n          a: event._onLineBreak.bind(''),\n          t: event._onLineBreak.bind('t'),\n          b: event._onLineBreak.bind('b')\n        };\n        eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\n\n        core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\n\n        core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\n\n        context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\n        context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\n        /** Events are registered only when there is a table plugin.  */\n\n        if (core.plugins.table) {\n          eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {\n            passive: true,\n            useCapture: false\n          });\n        }\n        /** code view area auto line */\n\n\n        if (options.height === 'auto' && !options.codeMirrorEditor) {\n          context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\n          context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\n        }\n        /** resizingBar */\n\n\n        if (context.element.resizingBar) {\n          if (/\\d+/.test(options.height)) {\n            context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\n          } else {\n            util.addClass(context.element.resizingBar, 'se-resizing-none');\n          }\n        }\n        /** window event */\n\n\n        event._setResponsiveToolbar();\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n\n        _w.addEventListener('resize', event.onResize_window, false);\n\n        if (options.stickyToolbar > -1) {\n          _w.addEventListener('scroll', event.onScroll_window, false);\n        }\n      },\n      _removeEvent: function () {\n        const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\n        context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\n\n        context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\n        eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\n        eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\n        eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\n        eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\n        eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\n        eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\n        eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\n        eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\n        eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\n        eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\n        eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\n\n        core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\n\n        core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\n\n        context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\n        context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\n        event._lineBreakerBind = null;\n        eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {\n          passive: true,\n          useCapture: false\n        });\n        eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\n        eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\n        context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\n        context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\n\n        if (context.element.resizingBar) {\n          context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\n        }\n\n        _w.removeEventListener('resize', event.onResize_window);\n\n        _w.removeEventListener('scroll', event.onScroll_window);\n      },\n      _setResponsiveToolbar: function () {\n        if (_responsiveButtons.length === 0) {\n          _responsiveButtons = null;\n          return;\n        }\n\n        const sizeArray = event._responsiveButtonSize = [];\n        const buttonsObj = event._responsiveButtons = {\n          default: _responsiveButtons[0]\n        };\n\n        for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\n          buttonGroup = _responsiveButtons[i];\n          size = buttonGroup[0] * 1;\n          sizeArray.push(size);\n          buttonsObj[size] = buttonGroup[1];\n        }\n\n        sizeArray.sort(function (a, b) {\n          return a - b;\n        }).unshift('default');\n      }\n    };\n    /** functions */\n\n    const functions = {\n      /**\r\n       * @description Core, Util object\r\n       */\n      core: core,\n      util: util,\n\n      /**\r\n       * @description Event functions\r\n       * @param {Object} e Event Object\r\n       * @param {Object} core Core object\r\n       */\n      onload: null,\n      onScroll: null,\n      onMouseDown: null,\n      onClick: null,\n      onInput: null,\n      onKeyDown: null,\n      onKeyUp: null,\n      onChange: null,\n      onCopy: null,\n      onCut: null,\n      onFocus: null,\n      onBlur: null,\n\n      /**\r\n       * @description Event functions (drop, paste)\r\n       * When false is returned, the default behavior is stopped.\r\n       * If the string is returned, the cleanData value is modified to the return value.\r\n       * @param {Object} e Event object.\r\n       * @param {String} cleanData HTML string modified for editor format.\r\n       * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean|String}\r\n       */\n      onDrop: null,\n      onPaste: null,\n\n      /**\r\n       * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n       * @param {Element} toolbar Toolbar Element\r\n       * @param {Object} context The editor's context object (editor.getContext())\r\n       * @param {Object} core Core object\r\n       */\n      showInline: null,\n\n      /**\r\n       * @description Called just after the controller is positioned and displayed on the screen.\r\n       * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n       * @param {String} name The name of the plugin that called the controller\r\n       * @param {Array} controllers Array of Controller elements\r\n       * @param {Object} core Core object\r\n       */\n      showController: null,\n\n      /**\r\n       * @description An event when toggling between code view and wysiwyg view.\r\n       * @param {Boolean} isCodeView Whether the current code view mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleCodeView: null,\n\n      /**\r\n       * @description An event when toggling full screen.\r\n       * @param {Boolean} isFullScreen Whether the current full screen mode\r\n       * @param {Object} core Core object\r\n       */\n      toggleFullScreen: null,\n\n      /**\r\n       * @description It replaces the default callback function of the image upload\r\n       * @param {Object} response Response object\r\n       * @param {Object} info Input information\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * @param {Object} core Core object\r\n       */\n      imageUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the video upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * @param core Core object\r\n       */\n      videoUploadHandler: null,\n\n      /**\r\n       * @description It replaces the default callback function of the audio upload\r\n       * @param xmlHttp xmlHttpRequest object\r\n       * @param info Input information\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * @param core Core object\r\n       */\n      audioUploadHandler: null,\n\n      /**\r\n       * @description Called before the image is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no image upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - linkValue: Link url value\r\n       * - linkNewWindow: Open in new window Check Value\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update image if true, create image if false\r\n       * - element: If isUpdate is true, the currently selected image.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onImageUploadBefore: null,\n\n      /**\r\n       * @description Called before the video is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no video(iframe, video) upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - inputWidth: Value of width input\r\n       * - inputHeight: Value of height input\r\n       * - align: Align Check Value\r\n       * - isUpdate: Update video if true, create video if false\r\n       * - element: If isUpdate is true, the currently selected video.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onVideoUploadBefore: null,\n\n      /**\r\n       * @description Called before the audio is uploaded\r\n       * If true is returned, the internal upload process runs normally.\r\n       * If false is returned, no audio upload is performed.\r\n       * If new fileList are returned,  replaced the previous fileList\r\n       * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       * @param {Array} files Files array\r\n       * @param {Object} info info: {\r\n       * - isUpdate: Update audio if true, create audio if false\r\n       * - element: If isUpdate is true, the currently selected audio.\r\n       * }\r\n       * @param {Object} core Core object\r\n       * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n       *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n       *                [upload files] : uploadHandler(files or [new File(...),])\r\n       *                [error]        : uploadHandler(\"Error message\")\r\n       *                [Just finish]  : uploadHandler()\r\n       *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n       *                                   ex) {\r\n       *                                      // \"errorMessage\": \"insert error message\",\r\n       *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n       *                                   }\r\n       * @returns {Boolean|Array|undefined}\r\n       */\n      onAudioUploadBefore: null,\n\n      /**\r\n       * @description Called when the image is uploaded, updated, deleted\r\n       * @param {Element} targetElement Target element\r\n       * @param {Number} index Uploaded index\r\n       * @param {String} state Upload status ('create', 'update', 'delete')\r\n       * @param {Object} info Image info object\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n       * @param {Object} core Core object\r\n       */\n      onImageUpload: null,\n\n      /**\r\n      * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onVideoUpload: null,\n\n      /**\r\n      * @description Called when the audio is is uploaded, updated, deleted\r\n      * -- arguments is same \"onImageUpload\" --\r\n      */\n      onAudioUpload: null,\n\n      /**\r\n       * @description Called when the image is upload failed\r\n       * @param {String} errorMessage Error message\r\n       * @param {Object} result Response Object\r\n       * @param {Object} core Core object\r\n       * @returns {Boolean}\r\n       */\n      onImageUploadError: null,\n\n      /**\r\n       * @description Called when the video(iframe, video) upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onVideoUploadError: null,\n\n      /**\r\n       * @description Called when the audio upload failed\r\n       * -- arguments is same \"onImageUploadError\" --\r\n       */\n      onAudioUploadError: null,\n\n      /**\r\n       * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n       * You cannot set a new plugin for the button.\r\n       * @param {Array} buttonList Button list \r\n       */\n      setToolbarButtons: function (buttonList) {\n        core.submenuOff();\n        core.containerOff();\n\n        const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\n\n        _responsiveButtons = newToolbar.responsiveButtons;\n        core._moreLayerActiveButton = null;\n\n        event._setResponsiveToolbar();\n\n        context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\n        const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\n        context.element = newContext.element;\n        context.tool = newContext.tool;\n        if (options.iframe) context.element.wysiwyg = core._wd.body;\n\n        core._cachingButtons();\n\n        core.history._resetCachingButton();\n\n        core.activePlugins = [];\n        const oldCallButtons = pluginCallButtons;\n        pluginCallButtons = newToolbar.pluginCallButtons;\n        let plugin, button, oldButton;\n\n        for (let key in pluginCallButtons) {\n          if (!util.hasOwn(pluginCallButtons, key)) continue;\n          plugin = plugins[key];\n          button = pluginCallButtons[key];\n\n          if (plugin.active && button) {\n            oldButton = oldCallButtons[key];\n            core.callPlugin(key, null, oldButton || button);\n\n            if (oldButton) {\n              button.parentElement.replaceChild(oldButton, button);\n              pluginCallButtons[key] = oldButton;\n            }\n          }\n        }\n\n        if (core.hasFocus) event._applyTagEffects();\n        if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\n        if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\n        if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\n      },\n\n      /**\r\n       * @description Add or reset option property (Editor is reloaded)\r\n       * @param {Object} _options Options\r\n       */\n      setOptions: function (_options) {\n        event._removeEvent();\n\n        core._resetComponents();\n\n        util.removeClass(core._styleCommandMap.showBlocks, 'active');\n        util.removeClass(core._styleCommandMap.codeView, 'active');\n        core._variable.isCodeView = false;\n        core._iframeAuto = null;\n        core.plugins = _options.plugins || core.plugins;\n        const mergeOptions = [options, _options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : _w.Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : _w.Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n        const el = context.element;\n        const _initHTML = el.wysiwyg.innerHTML; // set option\n\n        const cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, options);\n\n        if (cons.callButtons) {\n          pluginCallButtons = cons.callButtons;\n          core.initPlugins = {};\n        }\n\n        if (cons.plugins) {\n          core.plugins = plugins = cons.plugins;\n        } // reset context\n\n\n        if (el._menuTray.children.length === 0) this._menuTray = {};\n        _responsiveButtons = cons.toolbar.responsiveButtons;\n        options = mergeOptions;\n        core.lang = lang = options.lang;\n\n        if (options.iframe) {\n          el.wysiwygFrame.addEventListener('load', function () {\n            util._setIframeDocument(this, options);\n\n            core._setOptionsInit(el, _initHTML);\n          });\n        }\n\n        el.editorArea.appendChild(el.wysiwygFrame);\n\n        if (!options.iframe) {\n          core._setOptionsInit(el, _initHTML);\n        }\n      },\n\n      /**\r\n       * @description Set \"options.defaultStyle\" style.\r\n       * Define the style of the edit area\r\n       * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n       * @param {String} style Style string\r\n       */\n      setDefaultStyle: function (style) {\n        const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\n\n        const el = context.element; // top area\n\n        el.topArea.style.cssText = newStyles.top; // code view\n\n        el.code.style.cssText = options._editorStyles.frame;\n        el.code.style.display = 'none';\n\n        if (options.height === 'auto') {\n          el.code.style.overflow = 'hidden';\n        } else {\n          el.code.style.overflow = '';\n        } // wysiwyg frame\n\n\n        if (!options.iframe) {\n          el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\n        } else {\n          el.wysiwygFrame.style.cssText = newStyles.frame;\n          el.wysiwyg.style.cssText = newStyles.editor;\n        }\n      },\n\n      /**\r\n       * @description Open a notice area\r\n       * @param {String} message Notice message\r\n       */\n      noticeOpen: function (message) {\n        core.notice.open.call(core, message);\n      },\n\n      /**\r\n       * @description Close a notice area\r\n       */\n      noticeClose: function () {\n        core.notice.close.call(core);\n      },\n\n      /**\r\n       * @description Copying the contents of the editor to the original textarea\r\n       */\n      save: function () {\n        context.element.originElement.value = core.getContents(false);\n      },\n\n      /**\r\n       * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n       * @returns {Object}\r\n       */\n      getContext: function () {\n        return context;\n      },\n\n      /**\r\n       * @description Gets the contents of the suneditor\r\n       * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n       * @returns {String}\r\n       */\n      getContents: function (onlyContents) {\n        return core.getContents(onlyContents);\n      },\n\n      /**\r\n       * @description Gets only the text of the suneditor contents\r\n       * @returns {String}\r\n       */\n      getText: function () {\n        return context.element.wysiwyg.textContent;\n      },\n\n      /**\r\n       * @description Get the editor's number of characters or binary data size.\r\n       * You can use the \"charCounterType\" option format.\r\n       * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n       * If argument is no value, the currently set \"charCounterType\" option is used.\r\n       * @returns {Number}\r\n       */\n      getCharCount: function (charCounterType) {\n        charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\n        return core.getCharLength(core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent, charCounterType);\n      },\n\n      /**\r\n       * @description Gets uploaded images informations\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @returns {Array}\r\n       */\n      getImagesInfo: function () {\n        return context.image ? context.image._infoList : [];\n      },\n\n      /**\r\n       * @description Gets uploaded files(plugin using fileManager) information list.\r\n       * image: [img], video: [video, iframe], audio: [audio]\r\n       * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n       * - index: data index\r\n       * - name: file name\r\n       * - size: file size\r\n       * - select: select function\r\n       * - delete: delete function\r\n       * - element: target element\r\n       * - src: src attribute of tag\r\n       * @param {String} pluginName Plugin name (image, video, audio)\r\n       * @returns {Array}\r\n       */\n      getFilesInfo: function (pluginName) {\n        return context[pluginName] ? context[pluginName]._infoList : [];\n      },\n\n      /**\r\n       * @description Upload images using image plugin\r\n       * @param {FileList} files FileList\r\n       */\n      insertImage: function (files) {\n        if (!core.plugins.image || !files) return;\n        if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);else core.plugins.image.submitAction.call(core, files);\n        core.focus();\n      },\n\n      /**\r\n       * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n       * @param {Element|String} html HTML Element or HTML string or plain string\r\n       * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n       * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n       * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n       */\n      insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\n        if (typeof html === 'string') {\n          if (!notCleaningData) html = core.cleanHTML(html, null);\n\n          try {\n            const dom = _d.createRange().createContextualFragment(html);\n\n            const domTree = dom.childNodes;\n\n            if (checkCharCount) {\n              const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\n              let checkHTML = '';\n\n              for (let i = 0, len = domTree.length; i < len; i++) {\n                checkHTML += domTree[i][type];\n              }\n\n              if (!core.checkCharCount(checkHTML, null)) return;\n            }\n\n            let c, a, t, firstCon;\n\n            while (c = domTree[0]) {\n              t = core.insertNode(c, a, false);\n              a = t.container || t;\n              if (!firstCon) firstCon = t;\n            }\n\n            const offset = a.nodeType === 3 ? t.endOffset || a.textContent.length : a.childNodes.length;\n            if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);else core.setRange(a, offset, a, offset);\n          } catch (error) {\n            core.execCommand('insertHTML', false, html);\n          }\n        } else {\n          if (util.isComponent(html)) {\n            core.insertComponent(html, false, checkCharCount, false);\n          } else {\n            let afterNode = null;\n\n            if (util.isFormatElement(html) || util.isMedia(html)) {\n              afterNode = util.getFormatElement(core.getSelectionNode(), null);\n            }\n\n            core.insertNode(html, afterNode, checkCharCount);\n          }\n        }\n\n        core.effectNode = null;\n        core.focus(); // history stack\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Change the contents of the suneditor\r\n       * @param {String|undefined} contents Contents to Input\r\n       */\n      setContents: function (contents) {\n        core.setContents(contents);\n      },\n\n      /**\r\n       * @description Add contents to the suneditor\r\n       * @param {String} contents Contents to Input\r\n       */\n      appendContents: function (contents) {\n        const convertValue = core.convertContentsForEditor(contents);\n\n        if (!core._variable.isCodeView) {\n          const temp = util.createElement('DIV');\n          temp.innerHTML = convertValue;\n          const wysiwyg = context.element.wysiwyg;\n          const children = temp.children;\n\n          for (let i = 0, len = children.length; i < len; i++) {\n            wysiwyg.appendChild(children[i]);\n          }\n        } else {\n          core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\n        } // history stack\n\n\n        core.history.push(false);\n      },\n\n      /**\r\n       * @description Disable the suneditor\r\n       */\n      disabled: function () {\n        context.tool.cover.style.display = 'block';\n        context.element.wysiwyg.setAttribute('contenteditable', false);\n        core.isDisabled = true;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', true);\n        } else {\n          context.element.code.setAttribute('disabled', 'disabled');\n        }\n      },\n\n      /**\r\n       * @description Enable the suneditor\r\n       */\n      enabled: function () {\n        context.tool.cover.style.display = 'none';\n        context.element.wysiwyg.setAttribute('contenteditable', true);\n        core.isDisabled = false;\n\n        if (options.codeMirrorEditor) {\n          options.codeMirrorEditor.setOption('readOnly', false);\n        } else {\n          context.element.code.removeAttribute('disabled');\n        }\n      },\n\n      /**\r\n       * @description Show the suneditor\r\n       */\n      show: function () {\n        const topAreaStyle = context.element.topArea.style;\n        if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\n      },\n\n      /**\r\n       * @description Hide the suneditor\r\n       */\n      hide: function () {\n        context.element.topArea.style.display = 'none';\n      },\n\n      /**\r\n       * @description Destroy the suneditor\r\n       */\n      destroy: function () {\n        /** off menus */\n        core.submenuOff();\n        core.containerOff();\n        core.controllersOff();\n        if (core.notice) core.notice.close.call(core);\n        if (core.modalForm) core.plugins.dialog.close.call(core);\n        /** remove history */\n\n        core.history._destroy();\n        /** remove event listeners */\n\n\n        event._removeEvent();\n        /** remove element */\n\n\n        util.removeItem(context.element.toolbar);\n        util.removeItem(context.element.topArea);\n        /** remove object reference */\n\n        for (let k in core) {\n          if (util.hasOwn(core, k)) delete core[k];\n        }\n\n        for (let k in event) {\n          if (util.hasOwn(event, k)) delete event[k];\n        }\n\n        for (let k in context) {\n          if (util.hasOwn(context, k)) delete context[k];\n        }\n\n        for (let k in pluginCallButtons) {\n          if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k];\n        }\n        /** remove user object */\n\n\n        for (let k in this) {\n          if (util.hasOwn(this, k)) delete this[k];\n        }\n      },\n\n      /**\r\n       * @description Toolbar methods\r\n       */\n      toolbar: {\n        /**\r\n         * @description Disable the toolbar\r\n         */\n        disabled: function () {\n          context.tool.cover.style.display = 'block';\n        },\n\n        /**\r\n         * @description Enable the toolbar\r\n         */\n        enabled: function () {\n          context.tool.cover.style.display = 'none';\n        },\n\n        /**\r\n         * @description Show the toolbar\r\n         */\n        show: function () {\n          if (core._isInline) {\n            event._showToolbarInline();\n          } else {\n            context.element.toolbar.style.display = '';\n            context.element._stickyDummy.style.display = '';\n          }\n        },\n\n        /**\r\n         * @description Hide the toolbar\r\n         */\n        hide: function () {\n          if (core._isInline) {\n            event._hideToolbar();\n          } else {\n            context.element.toolbar.style.display = 'none';\n            context.element._stickyDummy.style.display = 'none';\n          }\n        }\n      }\n    };\n    /************ Core init ************/\n    // functions\n\n    core.functions = functions; // Create to sibling node\n\n    let contextEl = context.element;\n    let originEl = contextEl.originElement;\n    let topEl = contextEl.topArea;\n    originEl.style.display = 'none';\n    topEl.style.display = 'block'; // init\n\n    if (options.iframe) {\n      contextEl.wysiwygFrame.addEventListener('load', function () {\n        util._setIframeDocument(this, options);\n\n        core._editorInit(false, options.value);\n\n        options.value = null;\n      });\n    } // insert editor element\n\n\n    if (typeof originEl.nextElementSibling === 'object') {\n      originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\n    } else {\n      originEl.parentNode.appendChild(topEl);\n    }\n\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\n    contextEl = originEl = topEl = null; // init\n\n    if (!options.iframe) {\n      core._editorInit(false, options.value);\n\n      options.value = null;\n    }\n\n    return functions;\n  }; // CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n\n  /*\n   * wysiwyg web editor\n   *\n   * suneditor.js\n   * Copyright 2017 JiHong Lee.\n   * MIT license.\n   */\n\n  /* harmony default export */\n\n\n  var suneditor = {\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function (init_options) {\n      return {\n        create: function (idOrElement, options) {\n          return this.create(idOrElement, options, init_options);\n        }.bind(this)\n      };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function (idOrElement, options, _init_options) {\n      lib_util._propertiesInit();\n\n      if (typeof options !== 'object') options = {};\n\n      if (_init_options) {\n        options = [_init_options, options].reduce(function (init, option) {\n          for (let key in option) {\n            if (!lib_util.hasOwn(option, key)) continue;\n\n            if (key === 'plugins' && option[key] && init[key]) {\n              let i = init[key],\n                  o = option[key];\n              i = i.length ? i : Object.keys(i).map(function (name) {\n                return i[name];\n              });\n              o = o.length ? o : Object.keys(o).map(function (name) {\n                return o[name];\n              });\n              init[key] = o.filter(function (val) {\n                return i.indexOf(val) === -1;\n              }).concat(i);\n            } else {\n              init[key] = option[key];\n            }\n          }\n\n          return init;\n        }, {});\n      }\n\n      const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n      if (!element) {\n        if (typeof idOrElement === 'string') {\n          throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n        }\n\n        throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n      }\n\n      const cons = lib_constructor.init(element, options);\n\n      if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n        throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n      }\n\n      return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n    }\n  }; // CONCATENATED MODULE: ./misc/getPlugins.js\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n\n  var getPlugins = function getPlugins(_ref) {\n    var buttonList = _ref.buttonList,\n        customPlugins = _ref.customPlugins;\n    if (!buttonList) return undefined;\n    if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n      var pluginList = [];\n      buttonList = flatten(buttonList);\n      if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(9).default);\n      if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(10).default);\n      if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(11).default);\n      if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(12).default);\n      if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(13).default);\n      if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(14).default);\n      if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(15).default);\n      if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(16).default);\n      if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(17).default);\n      if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(18).default);\n      if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(19).default);\n      if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(20).default);\n      if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(21).default);\n      if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(22).default);\n      if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(23).default);\n      if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(24).default);\n      if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(25).default);\n      if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(26).default);\n      if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(27).default);\n      if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(28).default);\n      return [].concat(pluginList, _toConsumableArray(customPlugins || []));\n    }\n  };\n\n  var flatten = function flatten(arr) {\n    var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (!isArray(arr)) {\n      return [].concat(_toConsumableArray(result), [arr]);\n    }\n\n    for (var a = 0; a < arr.length; a++) {\n      result = flatten(arr[a], result);\n    }\n\n    return result;\n  };\n\n  var isArray = function isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  /* harmony default export */\n\n\n  var misc_getPlugins = getPlugins; // CONCATENATED MODULE: ./misc/getLanguage.js\n\n  var getLanguage = function getLanguage(lang) {\n    switch (typeof lang) {\n      case 'object':\n        return lang;\n\n      case 'string':\n        switch (lang) {\n          case 'en':\n            return __webpack_require__(4);\n\n          case 'da':\n            return __webpack_require__(29);\n\n          case 'de':\n            return __webpack_require__(30);\n\n          case 'es':\n            return __webpack_require__(31);\n\n          case 'fr':\n            return __webpack_require__(32);\n\n          case 'ja':\n            return __webpack_require__(33);\n\n          case 'ko':\n            return __webpack_require__(34);\n\n          case 'pt_br':\n            return __webpack_require__(35);\n\n          case 'ru':\n            return __webpack_require__(36);\n\n          case 'it':\n            return __webpack_require__(37);\n\n          case 'zh_cn':\n            return __webpack_require__(38);\n\n          case 'ro':\n            return __webpack_require__(39);\n\n          case 'pl':\n            return __webpack_require__(40);\n\n          case 'ckb':\n            return __webpack_require__(41);\n\n          case 'lv':\n            return __webpack_require__(42);\n\n          default:\n            return __webpack_require__(4);\n        }\n\n    }\n\n    return __webpack_require__(4);\n  };\n  /* harmony default export */\n\n\n  var misc_getLanguage = getLanguage; // EXTERNAL MODULE: ./node_modules/prop-types/index.js\n\n  var prop_types = __webpack_require__(0);\n\n  var prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types); // CONCATENATED MODULE: ./SunEditor.js\n\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _createSuper(Derived) {\n    var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n    return function _createSuperInternal() {\n      var Super = _getPrototypeOf(Derived),\n          result;\n\n      if (hasNativeReflectConstruct) {\n        var NewTarget = _getPrototypeOf(this).constructor;\n\n        result = Reflect.construct(Super, arguments, NewTarget);\n      } else {\n        result = Super.apply(this, arguments);\n      }\n\n      return _possibleConstructorReturn(this, result);\n    };\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return self;\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n      return o.__proto__ || Object.getPrototypeOf(o);\n    };\n    return _getPrototypeOf(o);\n  }\n\n  var SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n    _inherits(SunEditor, _Component);\n\n    var _super = _createSuper(SunEditor);\n\n    function SunEditor() {\n      var _this;\n\n      _classCallCheck(this, SunEditor);\n\n      _this = _super.call(this);\n      _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n      return _this;\n    }\n\n    _createClass(SunEditor, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var _this2 = this;\n\n        var _this$props = this.props,\n            lang = _this$props.lang,\n            _this$props$setOption = _this$props.setOptions,\n            setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n            _this$props$width = _this$props.width,\n            width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n            height = _this$props.height;\n        setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n        setOptions.plugins = misc_getPlugins(setOptions);\n        setOptions.width = setOptions.width || width;\n        if (height) setOptions.height = height;\n        this.editor = suneditor.create(this.txtArea.current);\n        var _this$props2 = this.props,\n            name = _this$props2.name,\n            insertHTML = _this$props2.insertHTML,\n            setContents = _this$props2.setContents,\n            setDefaultStyle = _this$props2.setDefaultStyle,\n            appendContents = _this$props2.appendContents,\n            disable = _this$props2.disable,\n            enable = _this$props2.enable,\n            hide = _this$props2.hide,\n            show = _this$props2.show,\n            _this$props2$showTool = _this$props2.showToolbar,\n            showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n            _this$props2$enableTo = _this$props2.enableToolbar,\n            enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n            onScroll = _this$props2.onScroll,\n            onClick = _this$props2.onClick,\n            onKeyDown = _this$props2.onKeyDown,\n            onKeyUp = _this$props2.onKeyUp,\n            onDrop = _this$props2.onDrop,\n            onChange = _this$props2.onChange,\n            onCopy = _this$props2.onCopy,\n            onCut = _this$props2.onCut,\n            onImageUpload = _this$props2.onImageUpload,\n            onImageUploadError = _this$props2.onImageUploadError,\n            onPaste = _this$props2.onPaste,\n            autoFocus = _this$props2.autoFocus,\n            onBlur = _this$props2.onBlur,\n            onFocus = _this$props2.onFocus,\n            onLoad = _this$props2.onLoad,\n            onInput = _this$props2.onInput,\n            onImageUploadBefore = _this$props2.onImageUploadBefore,\n            onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n            onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n            onVideoUpload = _this$props2.onVideoUpload,\n            onMouseDown = _this$props2.onMouseDown,\n            onAudioUpload = _this$props2.onAudioUpload,\n            onVideoUploadError = _this$props2.onVideoUploadError,\n            onAudioUploadError = _this$props2.onAudioUploadError,\n            placeholder = _this$props2.placeholder,\n            imageUploadHandler = _this$props2.imageUploadHandler,\n            toggleCodeView = _this$props2.toggleCodeView,\n            toggleFullScreen = _this$props2.toggleFullScreen,\n            showInline = _this$props2.showInline,\n            showController = _this$props2.showController;\n        if (onChange || name) this.editor.onChange = function (content) {\n          if (name) _this2.txtArea.current.value = content;\n          if (onChange) onChange(content);\n        };\n        if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n          return onCopy(e, clipboardData);\n        };\n        if (onCut) this.editor.onCut = function (e, clipboardData) {\n          return onCut(e, clipboardData);\n        };\n        if (onMouseDown) this.editor.onMouseDown = function (e) {\n          return onMouseDown(e);\n        };\n        if (onScroll) this.editor.onScroll = function (e) {\n          return onScroll(e);\n        };\n        if (onInput) this.editor.onInput = function (e) {\n          return onInput(e);\n        };\n        if (onClick) this.editor.onClick = function (e) {\n          return onClick(e);\n        };\n        if (onKeyUp) this.editor.onKeyUp = function (e) {\n          return onKeyUp(e);\n        };\n        if (onKeyDown) this.editor.onKeyDown = function (e) {\n          return onKeyDown(e);\n        };\n        if (onBlur) this.editor.onBlur = function (e) {\n          return onBlur(e, _this2.editor.getContents());\n        };\n        if (onFocus) this.editor.onFocus = function (e) {\n          return onFocus(e);\n        };\n        if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n          return onImageUploadBefore(files, info, uploadHandler);\n        };\n        if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n          return onVideoUploadBefore(files, info, uploadHandler);\n        };\n        if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n          return onAudioUploadBefore(files, info, uploadHandler);\n        };\n        if (onDrop) this.editor.onDrop = function (e, cleanData, maxCharCount) {\n          return onDrop(e, cleanData, maxCharCount);\n        };\n        if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n          return onPaste(e, cleanData, maxCharCount);\n        };\n        if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n          return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n        };\n        if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n          return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n        };\n        if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n          return onImageUploadError(errorMessage, result);\n        };\n        if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n          return onVideoUploadError(errorMessage, result);\n        };\n        if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n          return onAudioUploadError(errorMessage, result);\n        };\n        if (placeholder) setOptions.placeholder = placeholder;\n        this.editor.setOptions(setOptions);\n\n        this.editor.onload = function (_, reload) {\n          if (reload === false) {\n            if (setContents) {\n              _this2.editor.setContents(setContents);\n\n              _this2.editor.core.focusEdge();\n            }\n\n            if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n            if (insertHTML) _this2.editor.insertHTML(insertHTML);\n            if (appendContents) _this2.editor.appendContents(appendContents);\n            if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n            if (enable === true) _this2.editor.enabled();\n            if (disable === true) _this2.editor.disabled();\n            if (hide === true) _this2.editor.hide();\n            if (show === true) _this2.editor.show();\n            if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n            if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n            if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n          }\n\n          if (onLoad) onLoad(reload);\n        };\n\n        if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n        if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n          return toggleCodeView(isCodeView);\n        };\n        if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n          return toggleFullScreen(isFullScreen);\n        };\n        if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n          return showInline(toolbar, context);\n        };\n        if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n          return showController(name, controllers);\n        };\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate(prevProps) {\n        // Props compared\n        if (prevProps.lang !== this.props.lang) {\n          this.editor.setOptions({\n            lang: misc_getLanguage(this.props.lang)\n          });\n        }\n\n        if (prevProps.placeholder !== this.props.placeholder) {\n          this.editor.setOptions({\n            placeholder: this.props.placeholder\n          });\n        }\n\n        if (prevProps.height !== this.props.height) {\n          this.editor.setOptions({\n            height: this.props.height\n          });\n        }\n\n        if (prevProps.width !== this.props.width) {\n          this.editor.setOptions({\n            width: this.props.width\n          });\n        }\n\n        if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n          this.editor.setDefaultStyle(this.props.setDefaultStyle);\n        }\n\n        if (prevProps.setContents !== this.props.setContents) {\n          !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n        }\n\n        if (prevProps.appendContents !== this.props.appendContents) {\n          this.editor.appendContents(this.props.appendContents);\n          this.editor.core.focusEdge();\n        }\n\n        if (prevProps.insertHTML !== this.props.insertHTML) {\n          this.editor.insertHTML(this.props.insertHTML);\n        }\n\n        if (prevProps.enable !== this.props.enable) {\n          if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n        }\n\n        if (prevProps.disable !== this.props.disable) {\n          if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n        }\n\n        if (prevProps.showToolbar !== this.props.showToolbar) {\n          if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n        }\n\n        if (prevProps.enableToolbar !== this.props.enableToolbar) {\n          if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n        }\n\n        if (prevProps.show !== this.props.show) {\n          if (this.props.show === true) this.editor.show();else this.editor.hide();\n        }\n\n        if (prevProps.hide !== this.props.hide) {\n          if (this.props.hide === true) this.editor.hide();else this.editor.show();\n        }\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var dynamicName = {};\n        if (this.props.name) dynamicName.name = this.props.name;\n        return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n          ref: this.txtArea\n        }, dynamicName));\n      }\n    }]);\n\n    return SunEditor;\n  }(external_react_[\"Component\"]);\n\n  SunEditor_SunEditor.propTypes = {\n    imageUploadHandler: prop_types_default.a.func,\n    toggleCodeView: prop_types_default.a.func,\n    toggleFullScreen: prop_types_default.a.func,\n    showInline: prop_types_default.a.func,\n    showController: prop_types_default.a.func,\n    onChange: prop_types_default.a.func,\n    onScroll: prop_types_default.a.func,\n    onClick: prop_types_default.a.func,\n    onKeyUp: prop_types_default.a.func,\n    onKeyDown: prop_types_default.a.func,\n    onInput: prop_types_default.a.func,\n    onDrop: prop_types_default.a.func,\n    onBlur: prop_types_default.a.func,\n    onFocus: prop_types_default.a.func,\n    onLoad: prop_types_default.a.func,\n    onCut: prop_types_default.a.func,\n    onCopy: prop_types_default.a.func,\n    onPaste: prop_types_default.a.func,\n    onImageUploadBefore: prop_types_default.a.func,\n    onImageUpload: prop_types_default.a.func,\n    onImageUploadError: prop_types_default.a.func,\n    onVideoUploadBefore: prop_types_default.a.func,\n    onAudioUploadBefore: prop_types_default.a.func,\n    onVideoUpload: prop_types_default.a.func,\n    onMouseDown: prop_types_default.a.func,\n    onAudioUpload: prop_types_default.a.func,\n    onVideoUploadError: prop_types_default.a.func,\n    onAudioUploadError: prop_types_default.a.func,\n    setOptions: prop_types_default.a.object,\n    setContents: prop_types_default.a.string,\n    name: prop_types_default.a.string,\n    appendContents: prop_types_default.a.string,\n    setDefaultStyle: prop_types_default.a.string,\n    enable: prop_types_default.a.bool,\n    showToolbar: prop_types_default.a.bool,\n    enableToolbar: prop_types_default.a.bool,\n    disable: prop_types_default.a.bool,\n    hide: prop_types_default.a.bool,\n    show: prop_types_default.a.bool,\n    autoFocus: prop_types_default.a.bool,\n    placeholder: prop_types_default.a.string,\n    lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n    width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n    height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n  };\n  /* harmony default export */\n\n  var SunEditor_0 = SunEditor_SunEditor; // CONCATENATED MODULE: ./main.js\n\n  /* harmony default export */\n\n  var main = __webpack_exports__[\"default\"] = SunEditor_0;\n  /***/\n}\n/******/\n]);","map":{"version":3,"sources":["D:/ColibriCode/monkeysCloud/frontend/node_modules/suneditor-react/dist/main.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","throwOnDirectAccess","ReactIs","global","factory","document","w","Error","window","noGlobal","dialog","add","core","context","kind","updateModal","_closeSignal","dialog_div","util","createElement","className","dialog_back","style","display","dialog_area","appendChild","modalArea","back","modal","addEventListener","_onMouseDown_dialog","_onClick_dialog","element","relative","e","test","target","stopPropagation","getAttribute","plugins","close","open","update","modalForm","_bindClose","_d","removeEventListener","keyCode","option","popupDisplay","position","focusElement","on","focus","init","undefined","SUNEDITOR_MODULES","writable","configurable","component","set_container","cover","container","setAttribute","set_cover","create_caption","caption","innerHTML","lang","dialogBox","fileManager","_xmlHttp","upload","uploadUrl","uploadHeader","formData","callBack","errorCallBack","showLoading","filePlugin","xmlHttp","getXMLHttpRequest","onreadystatechange","_callBackUpload","_w","keys","length","setRequestHeader","send","readyState","status","message","closeLoading","res","responseText","JSON","parse","err","errorMessage","functions","noticeOpen","checkInfo","pluginName","tagNames","uploadEventHandler","modifyHandler","resizing","tags","len","concat","slice","wysiwyg","getElementsByTagName","infoList","_infoList","setFileInfo","setInfo","_componentsInfoReset","infoUpdate","info","filter","src","index","toString","_resize_plugin","currentTags","infoIndex","tag","getParentElement","isMediaComponent","parentElement","nodeName","push","_infoIndex","indexOf","removeAttribute","dataIndex","splice","file","plguin","state","split","pop","_componentsInfoInit","size","delete","destroy","select","scrollIntoView","setTimeout","naturalWidth","naturalHeight","_module_getSizeX","h","_module_getSizeY","width","onModifyMode","applySize","_uploadFileLength","deleteInfo","resetInfo","code","toolbar","default","save","font","formats","fontSize","bold","underline","italic","strike","subscript","superscript","removeFormat","fontColor","hiliteColor","indent","outdent","align","alignLeft","alignRight","alignCenter","alignJustify","list","orderList","unorderList","horizontalRule","hr_solid","hr_dotted","hr_dashed","table","link","math","image","video","audio","fullScreen","showBlocks","codeView","undo","redo","preview","print","tag_p","tag_div","tag_h","tag_blockquote","tag_pre","template","lineHeight","paragraphStyle","textStyle","imageGallery","mention","linkBox","title","url","text","newWindowCheck","mathBox","inputLabel","fontSizeLabel","previewLabel","imageBox","altText","videoBox","audioBox","browser","search","submitButton","revertButton","proportion","basic","left","right","center","height","ratio","controller","edit","unlink","remove","insertRowAbove","insertRowBelow","deleteRow","insertColumnBefore","insertColumnAfter","deleteColumn","fixedColumnWidth","resize100","resize75","resize50","resize25","autoSize","mirrorHorizontal","mirrorVertical","rotateLeft","rotateRight","maxSize","minSize","tableHeader","mergeCells","splitCells","HorizontalSplit","VerticalSplit","menu","spaced","bordered","neon","translucent","shadow","SUNEDITOR_LANG","__webpack_exports__","colorPicker","colorListHTML","_colorInput","_defaultColor","_styleProperty","_currentColor","_colorList","listDiv","createColorList","_makeColorList","makeColor","colorList","colorArr","color","icons","checked","erase","node","fillColor","getColorInNode","isHexColor","rgb2hex","toLowerCase","addClass","removeClass","setInputText","colorName2hex","setCurrentColor","hexColorStr","borderColor","findColor","styleProperty","isWysiwygDiv","nodeType","parentNode","str","rgb","rgbMatch","match","parseInt","colorName","temp","colors","getComputedStyle","body","map","a","removeItem","substr","_resizeClientX","_resizeClientY","_resize_w","_resize_h","_origin_w","_origin_h","_rotateVertical","_resize_direction","_move_path","_isChange","alignIcons","align_justify","align_left","align_right","align_center","resize_div_container","setController_resize","resizeContainer","resizeDiv","querySelector","resizeDot","resizeDisplay","resize_button","setController_button","resizeButton","resize_handles","resizeHandles","querySelectorAll","resizeButtonGroup","rotationButtons","percentageButtons","alignMenu","alignMenuList","alignButton","autoSizeButton","captionButton","preventDefault","eventStop","onMouseDown_resize_handle","onClick_resizeButton","resize_container","auto_size","rotate_left","rotate_right","mirror_horizontal","mirror_vertical","revert","modify","contextPlugin","_element","_cover","_container","getNumber","paddingBottom","_module_setModifyInputSize","pluginObj","percentageRotation","_onlyPercentage","_proportionChecked","x","_defaultSizeX","inputX","setInputSize","y","_defaultSizeY","inputY","disabled","setRatio","_module_setInputSize","xy","_ratio","xUnit","replace","sizeUnit","yUnit","dec","_ratioY","_ratioX","_module_setRatio","xValue","yValue","_module_sizeRevert","_module_saveCurrentSize","_videoRatio","call_controller_resize","targetElement","plugin","contextResizing","offset","getOffset","wysiwygFrame","isVertical","Math","abs","offsetHeight","offsetWidth","top","scrollLeft","isComponent","displayX","displayY","changeTxt","_resizing","resizeDotShow","_resizeDotHide","rotations","_rotation","alignList","changeElement","firstElementChild","pButtons","_captionShow","getChildElement","_captionChecked","currentControllerName","setDisabledButtons","resizingDisabledButtons","addOffset","options","iframe","offsetLeft","offsetTop","setControllerPosition","controllersOn","originSize","_closeAlignMenu","openAlignMenu","removeDocEvent","addDocEvent","command","currentContext","contextEl","currentModule","resetTransform","setAutoSize","selectComponent","percentY","percentage","setPercentSize","_setTransForm","slope","deg","setTransformSize","alignValue","setAlign","openModify","captionCheckEl","update_image","captionText","_caption","current","setRange","textContent","controllersOff","setOriginSize","history","maxWidth","transform","transformOrigin","setSize","transOrigin","offsetW","offsetH","cancelPercentAttr","transW","transH","setCaptionPosition","translate","figcaption","marginTop","direction","classList","clientX","clientY","resizeBackground","float","closureFunc_bind","closureFunc","type","change","resizing_element_bind","cancel_controller_resize","resizing_element","resultW","_element_w","resultH","_element_h","wh","round","padding","limit","clientWidth","require","fileBrowser","_loading","area","header","tagArea","tagElements","items","selectedTags","selectorHandler","columnSize","browser_div","content","set_browser","titleArea","onClickTag","onClickFile","_onMouseDown_browser","_onClick_browser","cancel","fileBrowserContext","pluginContext","listClassName","listClass","hasClass","_drawFileList","fileBrowserPlugin","abort","showBrowserLoading","closeBrowserLoading","_callBackGet","_drawListItem","result","maxHeight","innerHeight","_tags","splitSize","drawItemHandler","itemTemplateHandler","tagsHTML","listHTML","columns","item","v","trim","tLen","isAnchor","tagName","selectTag","sTagIndex","some","listEl","handler","targetButton","_alignList","currentAlign","defaultDir","rtl","justify","setSubmenu","listUl","pickup","initMenuTarget","leftDir","leftMenu","rightMenu","active","alignContext","isFormatElement","textAlign","selectedFormsts","getSelectedElements","setStyle","effectNode","submenuOff","_modules_dialog__WEBPACK_IMPORTED_MODULE_0__","_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default","addModule","previewElement","fontSizeElement","_mathExp","math_dialog","setDialog","_renderMathExp","math_controller","setController_MathButton","mathController","submit","onClick_mathController","math_btn","managedTags","method","dom","createRange","createContextualFragment","_renderer","HTMLDecoder","exp","katex","renderToString","contextMath","submitAction","mathExp","katexEl","HTMLEncoder","selectedFormats","oFormat","insertNode","empty","createTextNode","zeroWidthSpace","insertBefore","nextSibling","containerEl","replaceChild","controllerArray","call_controller","mathTag","mathBtn","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__","_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default","imageGalleryUrl","drawItems","setImage","srcName","alt","callPlugin","_altText","create_image","blockquote","action","currentBlockquote","getSelectionNode","detachRangeFormatElement","applyRangeFormatElement","cloneNode","targetText","targetTooltip","_fontList","currentFont","fontList","tooltip","fontFamily","selectFont","fontContext","newNode","nodeChange","_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__","previewEl","colorInput","onChangeInput","colorArea","contextPicker","contextFontColor","applyColor","_sizeList","currentSize","sizeList","unit","fontSizeUnit","fontSizeContext","formatBlock","_formatList","currentFormat","pickUp","lang_toolbar","defaultFormats","formatList","format","attrs","class","formatTitle","formatContext","f","firstChild","rangeElement","range","getRange","getSelectedElementsAndComponents","getRange_addLine","startOffset","endOffset","first","last","firstPath","getNodePath","startContainer","lastPath","endContainer","rlist","detachList","sc","ec","getNodeFromPath","modifiedFormsts","freeElement","html","before","next","inner","isComp","isSameAttributes","prev","previousSibling","newFormat","copyFormatAttributes","contextHiliteColor","backgroundColor","horizontalRulePick","appendHr","oHr","insertComponent","oNode","lineHeights","lineHeightContext","getFormatElement","_list","currentList","bullets","list_bullets","number","list_number","button","icon","isList","listContext","editList","selectedCells","detach","sortByDepth","firstSel","lastSel","topEl","isListCell","previousElementSibling","bottomEl","nextElementSibling","originRange","so","eo","isRemove","getRangeFormatElement","toUpperCase","j","contains","rangeArr","tempList","passComponent","_detachNested","topElParent","bottomElParent","mergeTop","mergeBottom","firstList","lastList","topNumber","bottomNumber","newCell","fTag","isCell","originParent","nextParent","parentTag","siblingTag","rangeTag","childNodes","_isIgnoreNodeChange","isRangeFormatElement","isHR","outerHTML","fChildren","children","getElementDepth","cells","originList","sibling","cLen","newList","getPositionIndex","mergeSameTags","edge","getEdgeChildNodes","cc","editInsideList","el","cellsLen","lastCell","innerList","nodePath","sl","_insiedList","insertPrev","removeChild","slPath","lastElementChild","mergeNestedTags","_classList","menuLang","defaultList","_class","paragraphStyles","defaultStyle","paragraphContext","paragraphList","toggleClass","contextTable","_tdElement","_trElement","_trElements","_tableXY","_maxWidth","_fixedColumn","_rtl","cellControllerTop","tableCellControllerPosition","resizeText","headerButton","mergeButton","splitButton","splitMenu","maxText","minText","_physical_cellCnt","_logical_cellCnt","_rowCnt","_rowIndex","_physical_cellIndex","_logical_cellIndex","_current_colSpan","_current_rowSpan","expansion","reduction","tablePicker","tableHighlight","tableUnHighlight","tableDisplay","tableController","setController_table","columnFixedButton","setController_tableEditor","insertRowAboveButton","insertRowBelowButton","onMouseMove_tablePicker","appendTable","onClick_tableController","tableResize","fixed_column_width","table_header","insert_row_above","insert_row_below","delete_row","merge_cell","insert_column_left","insert_column_right","delete_column","split_cell","oTable","createCells","tableHTML","changed","firstTd","reset_table_picker","cnt","returnElement","cellsHTML","cell","ceil","offsetX","offsetY","highlight","unHighlight","tablePlugin","_removeEvents","_selectedTable","_toggleEditor","_shift","_selectedCells","_ref","_fixedCell","_selectedCell","_fixedCellName","call_controller_tableEdit","tdElement","getSelection","isCollapsed","tableElement","tableLayout","setTableStyle","setPositionControllerTop","setPositionControllerDiv","reset","setCellInfo","rows","cellIndex","cellCnt","colSpan","rowIndex","rowSpan","rowSpanArr","spanIndex","cs","rs","logcalIndex","arr","row","sort","b","editTable","isRow","tableAttr","positionCell","removeCells","editRow","firstRow","editCell","rightCell","positionResetElement","up","originRowIndex","sign","spanCells","spanCell","shift","newRow","insertRow","passCell","removeCell","removeSpanArr","insertIndex","applySpan","cellColSpan","removeIndex","getOverlapRangeAtIndex","removeFirst","removeEnd","rLen","getArrayIndex","rowSpanCell","_closeSplitMenu","openSplitMenu","vertical","currentCell","currentRow","currentColSpan","floor","currentRowSpan","newRowSpan","nextRowIndex","nextRow","nextCells","physicalIndex","focusEdge","ref","mergeCell","emptyRowFirst","emptyRowLast","ce","re","mergeHTML","ch","onlyZeroWidthSpace","rowIndexFirst","rowIndexLast","removeRows","setActiveButton","toggleHeader","styles","span","sizeIcon","fixedCell","selectedCell","_bindOnSelect","_bindOffSelect","_bindOffShift","enabled","_offCellMultiSelect","_initBind","_wd","_onCellMultiSelect","_antiBlur","_setMultiCells","startCell","endCell","findSelectedCell","_i","newCs","newCe","newRs","newRe","onTableCellMultiSelect","emptyDiv","removeItemAllParents","templateDiv","templateList","templates","setContents","_styleList","styleList","textStyles","textStyleContext","styleButtonList","selectionNode","btn","data","checkStyles","cssText","classes","removeNodes","_modules_component__WEBPACK_IMPORTED_MODULE_1__","_modules_component__WEBPACK_IMPORTED_MODULE_1___default","_modules_resizing__WEBPACK_IMPORTED_MODULE_2__","_modules_resizing__WEBPACK_IMPORTED_MODULE_2___default","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default","contextImage","_imageSizeUnit","_linkElement","_align","_floatClassRegExp","_v_link","_linkValue","_v_src","svgDefaultSize","base64RenderIndex","_element_l","_element_t","imageWidth","imageHeight","imageResizing","imageHeightShow","imageRotation","imageSizeOnlyPercentage","image_dialog","imgInputFile","imgUrlFile","imgLink","imgLinkNewWindowCheck","previewLink","previewSrc","openTab","_removeSelectedFiles","_fileInputChange","_onLinkPreview","linkProtocol","imageGalleryButton","_openGallery","sizeRevert","imageFileInput","imageAccept","imageMultipleFile","imageUrlInput","image_gallery","onlyPercentage","onlyPercentDisplay","heightDisplay","textDecoration","urlInput","_setUrlInput","protocol","fileTags","imageEl","imageContainer","focusEl","onImageUpload","tabName","contentClassName","tabContent","tabLinks","getElementsByClassName","imagePlugin","files","onRender_imgUrl","error","fileList","fileSize","limitSize","imageUploadSizeLimit","infoSize","imagesInfo","onImageUploadError","linkValue","linkNewWindow","inputWidth","inputHeight","isUpdate","onImageUploadBefore","Array","isArray","register","response","imageUploadUrl","filesLen","FormData","append","imageUploadHeader","callBack_imgUpload","setup_reader","imageUploadHandler","update_src","imgLinkValue","wFileReader","FileReader","filesStack","reader","onload","updateElement","onRender_imgBase64","readAsDataURL","updateMethod","createMethod","onRender_link","imgTag","href","checkFileInfo","resetFileInfo","oImg","_image_create_onload","openController","notHistoryPush","isNewContainer","changeSize","isNumber","modifiedCaption","newEl","imageElement","existElement","isPercent","userSize","notOpen","notResetPercentage","onlyW","onlyH","heightPercentage","margin","minWidth","resetAlign","linkNewWindowCheck","linkAnchorText","_linkAnchor","link_dialog","link_controller","setController_LinkButton","linkController","onClick_linkController","link_btn","contextLink","anchor","anchorText","oA","textNode","selectionATag","editLink","linkBtn","contextVideo","_videoSizeUnit","_youtubeQuery","youtubeQuery","videoRatio","_defaultRatio","videoWidth","videoHeight","videoResizing","videoHeightShow","videoRotation","videoSizeOnlyPercentage","video_dialog","videoInputFile","videoUrlFile","videoRatioOption","setVideoRatio","videoFileInput","videoAccept","videoMultipleFile","videoUrlInput","ratioList","videoRatioList","ratioDisplay","videoRatioShow","onlyWidthDisplay","_setTagAttrs","videoTagAttrs","hasOwn","createVideoTag","videoTag","_setIframeAttrs","frameBorder","allowFullscreen","videoIframeAttrs","createIframeTag","iframeTag","frame","onVideoUpload","setVideoRatioSelect","selectedIndex","placeholder","videoPlugin","setup_url","videoUploadSizeLimit","videosInfo","onVideoUploadError","onVideoUploadBefore","videoUploadUrl","videoUploadHeader","callBack_videoUpload","videoUploadHandler","create_video","oIframe","DOMParser","parseFromString","splitUrl","endsWith","lastIndexOf","oFrame","isYoutube","isVimeo","newTag","inputUpdate","_update_videoCover","origin","ratioSelected","ratioOptions","selected","dataSize","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__","_modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default","contextAudio","targetSelect","audioWidth","audioHeight","audio_dialog","audioInputFile","audioUrlFile","audio_controller","setController","onClick_controller","audioFileInput","audioAccept","audioMultipleFile","audioUrlInput","_createAudioTag","oAudio","audioTagAttrs","onAudioUpload","updateCover","setupUrl","audioUploadSizeLimit","audiosInfo","onAudioUploadError","onAudioUploadBefore","audioUploadUrl","audioUploadHeader","callBack_upload","audioUploadHandler","create_audio","selectionTag","onControllerOff","fixColumnWidth","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","isRequired","getShim","ReactPropTypes","array","bool","func","string","symbol","any","arrayOf","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","buttonList_namespaceObject","complex","formatting","misc_buttonList","external_react_","external_react_default","defaultIcons","code_view","line_height","paragraph_style","text_style","arrow_down","font_color","highlight_color","horizontal_rule","show_blocks","line_break","more_text","more_paragraph","more_plus","more_horizontal","more_vertical","attachment","magic_stick","empty_file","en","en_default","util_util","isIE","isIE_Edge","isOSX_IOS","_propertiesInit","navigator","userAgent","appVersion","platform","_HTMLConvertor","contents","String","fromCharCode","zeroWidthRegExp","RegExp","onlyZeroWidthRegExp","ActiveXObject","e1","XMLHttpRequest","elementName","obj","_hasOwn","getIncludePath","nameArray","extension","path","pathList","fileName","regExp","extRegExp","editorTag","getPageStyle","doc","sheets","styleSheets","rules","cssRules","getIframeDocument","wDocument","contentWindow","contentDocument","getAttributesToString","exceptAttrs","attributes","attrString","getByteLength","encoder","encodeURIComponent","cr","cl","unescape","TextEncoder","encode","isNonEditable","isTextStyleElement","isClosureRangeFormatElement","isFreeFormatElement","isClosureFreeFormatElement","isNotCheckingNode","validation","getFreeFormatElement","getClosureFreeFormatElement","copyTagAttributes","originEl","copyEl","getArrayItem","multi","idx","nextIdx","prevIdx","_newOffsets","finds","tempText","previous","reverse","offsets","nodes","style_a","style_b","compStyle","class_a","class_b","reg","compClass","isTable","isBreak","isMedia","maxDec","toFixed","getListChildren","recursionFunc","getListChildNodes","depth","compareElements","aNode","bNode","ancestor","aIndex","bIndex","query","check","attr","childList","lastChild","offsetElement","offsetParent","scrollTop","aStart","aEnd","bStart","bEnd","overlap","txt","newElement","styleName","buttonList","stopParent","parent","detachNestedList","baseNode","all","rNode","_deleteNestedList","cNodes","rChildren","baseParent","liSibling","liParent","child","splitElement","bp","splitText","after","depthEl","pElement","nodePathArray","onlyText","inst","nodePathLen","apply","Number","valueOf","depthIndex","cDepth","spliceDepth","childs","childLength","nLen","textOffset","tempL","removeEmptyNode","notRemoveNode","_notTextNode","htmlRemoveWhiteSpace","des","_isMaintainedNode","_isSizeNode","_disallowedTags","createTagsWhitelist","_consistencyCheckOfHTML","documentFragment","htmlCheckWhitelistRegExp","removeTags","emptyTags","wrongList","withoutFormatCells","wrongTags","nrtag","fel","checkTags","tp","_setDefaultOptionStyle","optionStyle","minHeight","editor","styleArr","_setIframeDocument","head","_setIframeCssTags","_editableClass","linkNames","iframeCSSFileName","wRegExp","tagString","CSSFileName","styleTag","lib_util","lib_constructor","_initOptions","top_div","id","tool_bar","_createToolBar","visibility","pluginCallButtons","_checkKatexMath","arrow","sticky_dummy","editor_div","initElements","_initElements","bottomBar","wysiwyg_div","placeholder_span","textarea","resizing_bar","resizingBar","navigation","char_wrapper","charWrapper","char_counter","charCounter","loading_box","line_breaker","line_breaker_t","line_breaker_b","resize_back","toolbarContainer","_checkCodeMirror","constructed","_top","_relative","_toolBar","_menuTray","_editorArea","_wysiwygArea","_codeArea","_placeholder","_resizingBar","_navigation","_charWrapper","_charCounter","_lineBreaker","_lineBreaker_t","_lineBreaker_b","_resizeBack","_stickyDummy","_arrow","_responsiveButtons","responsiveButtons","codeMirror","cmOptions","htmlMode","lineNumbers","lineWrapping","reduce","viewportMargin","Infinity","cm","fromTextArea","wrapper","codeMirrorEditor","katexOptions","throwOnError","_setOptions","mergeOptions","originOptions","originElement","editorArea","isNewToolbarContainer","isNewToolbar","isNewPlugins","topArea","callButtons","topDiv","toolBar","toolBarArrow","_editorStyles","toolbarWidth","wysiwygDiv","overflow","charCounterLabel","charLabel","maxCharCount","char_max","innerText","defaultTag","historyStackDelayTime","_defaultTagsWhitelist","_editorTagsWhitelist","addTagsWhitelist","pasteTagsWhitelist","attributesWhitelist","stickyToolbar","fullPage","previewTemplate","showPathLabel","charCounterType","clientHeight","tabDisable","shortcutsDisable","shortcutsHint","callBackSave","stringify","_default","_new","_defaultButtons","cmd","addShift","indentKey","_createModuleGroup","oDiv","oUl","_createButton","buttonClass","dataCommand","dataDisplay","_disabled","_icons","oLi","oButton","_plugins","separator_vertical","_buttonTray","defaultButtonList","pluginsValues","moduleElement","buttonElement","moreLayer","buttonGroupLoop","more","moreContainer","moreCommand","buttonGroup","moreButton","div","matched","custom","ul","li","sv","enterDiv","lastFloat","unshift","tool_cover","_Context","cons","loading","lineBreaker","lineBreaker_t","lineBreaker_b","tool","lib_context","lib_history","delayTime","pushDelay","stackIndex","stack","setContentsFromStack","_checkComponents","_setCharCount","_resourcesStateChange","pushStack","getContents","_variable","_range","delay","time","clearTimeout","go","ignoreChangeEvent","_resetCachingButton","_destroy","_notice","notice","notice_div","notice_span","notice_button","onClick_cancel","lib_core","ownerDocument","defaultView","_parser","_ww","_shadowRoot","initPlugins","_targetPlugins","submenu","_submenuName","_bindedSubmenuOff","_bindedContainerOff","submenuActiveButton","containerActiveButton","currentControllerTarget","currentFileComponentInfo","codeViewDisabledButtons","_moreLayerActiveButton","_htmlCheckWhitelistRegExp","_disallowedTextTagsRegExp","editorTagsWhitelistRegExp","pasteTagsWhitelistRegExp","hasFocus","isDisabled","_attributesWhitelistRegExp","_attributesTagsWhitelist","_bindControllersOff","_isInline","_isBalloon","_isBalloonAlways","_inlineToolbarAttr","isShow","_notHideToolbar","_sticky","_lineBreakerButton","activePlugins","managedTagsInfo","_charTypeHTML","_fileInfoPluginsCheck","_fileInfoPluginsReset","_fileManager","queryString","pluginRegExp","pluginMap","commandMap","_styleCommandMap","_defaultCommand","isCodeView","isFullScreen","innerHeight_fullScreen","resizeClientY","tabSize","codeIndent","minResizingSize","currentNodes","currentNodesMap","_selectionNode","_originCssText","_bodyOverflow","_editorAreaOriginCssText","_wysiwygOriginCssText","_codeOriginCssText","_fullScreenAttrs","sticky","balloon","inline","_lineBreakComp","_lineBreakDir","callBackFunction","_target","moduleArray","moduleName","submenuOn","submenuName","_setMenuPosition","containerOn","containerName","_containerName","containerOff","toolbarW","toolbarOffset","event","_getEditorOffsets","menuW","elementW","rtlW","rtlL","overLeft","offsetEl","bt","toolbarTop","menuHeight","menuHeight_bottom","menuTop","insTop","menuHeight_top","arg","arguments","getFileComponent","showController","referEl","topMargin","controllerW","referElW","overSize","execCommand","showDefaultUI","nativeFocus","_editorRange","br","_applyTagEffects","_toggleToolbarBalloon","fileComponentInfo","startCon","startOff","endCon","endOff","setStart","setEnd","console","warn","selection","removeAllRanges","addRange","removeRange","OUTDENT","INDENT","_createDefaultRange","collapsed","focusNode","rangeCount","getRangeAt","anchorNode","anchorOffset","focusOffset","compareValue","rightDir","_selectionVoid","op","commonAncestorContainer","extentNode","comm","_resetRangeToTextNode","tempCon","tempOffset","tempChild","onlyBreak","emptyText","commonCon","lineNodes","startLine","endLine","startIdx","endIdx","onlyTable","startRangeEl","endRangeEl","sameRange","line","removeDuplicate","myComponent","selectedLines","isEdgePoint","nodeValue","appendFormatTag","formatNode","currentFormatEl","oFormatName","checkCharCount","notSelect","removeNode","formatEl","depthFormat","_setComponentLineBreaker","t_style","b_style","componentTop","wScroll","afterNode","freeFormat","isFormats","formatRange","originAfter","isSameContainer","removedTag","prevContainer","oldParent","rangeCon","_setIntoFreeFormat","previousText","nextText","newRange","zeroWidth","oNodeChildren","lastONode","beforeNode","startIndex","endIndex","startNode","endNode","substringData","rc","rangeLines","linesLoop","nested","fEl","lEl","standTag","beforeTag","parentDepth","listParent","lineArr","removeItems","nextLine","nextList","removeArray","splitRange","newRangeElement","firstNode","lastNode","rangeEl","insertedNew","moveComplete","appendNode","insNode","originNode","insChildren","originNext","detachRange","lineIndex","insNext","innerChildren","rangeParent","rangeRight","childEdge","listFirst","listLast","lastIndex","styleArray","removeNodeArray","strictRemove","isRemoveNode","isRemoveFormat","newNodeName","sNode","checkCnt","checkAttrs","ckeckClasses","classReg","styleCheck","classCheck","start","end","styleRegExp","classRegExp","removeNodeRegExp","wBoolean","Boolean","_removeCheck","checkNode","vNode","tagRemove","originStyle","originClasses","oneLine","endLength","isRemoveAnchor","isSizeNode","_getMaintainedNode","_util_getMaintainedNode","_util_isMaintainedNode","_nodeChange_oneLine","_setCommonListStyle","_nodeChange_endLine","_nodeChange_middleLine","_nodeChange_startLine","childStyle","elStyle","fontWeight","_stripRemoveNode","_isRemove","newInnerNode","parentCon","sameTag","z","nNodeArray","pNode","isSameNode","startPass","endPass","pCurrent","checkCss","coverNode","prevNode","prevAnchorNode","childNode","anchors","afterAnchorNode","aChildren","aLen","ancestorAnchorNode","textNode_s","textNode_e","endConReset","newStartOffset","startPath","mergeEndCon","newEndOffset","endPath","newOffsets","_endContainer","passNode","cloneChild","isTopNode","tempNode","newCssText","newClass","noneChange","actionCall","layer","_showToolbarBalloon","_showToolbarInline","commandHandler","toggleCodeView","toggleFullScreen","toggleDisplayBlocks","nodesMap","marginDir","_setCodeDataToEditor","_hideToolbar","_setEditorDataToCodeView","scrollHeight","refresh","_checkPlaceholder","code_html","_getCodeView","parseDocument","headChildren","convertContentsForEditor","editableClasses","codeContents","convertHTMLForCodeView","codeValue","_setCodeView","_var","zIndex","_iframeAutoHeight","onScroll_window","printDocument","contentsHTML","wDoc","arrts","write","links","linkHTML","documentMode","StyleMedia","windowObject","mimeType","convertValue","_resetComponents","setIframeContents","ctx","onlyContents","renderHTML","figcaptions","_makeLine","requireFormat","textArray","_allowHTMLComments","_tagConvertor","_deleteDisallowedTags","cleanHTML","whitelist","tAttr","textCompList","initMethod","domTree","returnHTML","brReg","indentSize","join","lineBR","elementRegTest","elementIndent","nodeRegTest","listener","useCapture","_charCount","inputText","countType","nextCharCount","getCharLength","over","count","getCharCount","slicePosition","_callCounterBlink","getDoc","setValue","getValue","_init","reload","_initHTML","ShadowRoot","shadowRoot","disallowTextTags","allowTextTags","defaultAttr","_attr","tagsAttr","allAttr","k","_cachingButtons","managedClass","filePluginRegExp","_onChange_historyStack","_iframeAuto","_initWysiwygArea","STRONG","U","EM","DEL","SUB","SUP","onChange","_setDefaultFormat","formatName","fileComponent","_setOptionsInit","_getConstructed","_editorInit","_addEvent","_offStickyToolbar","onResize_window","_IEisComposing","_lineBreakerBind","_responsiveCurrentSize","_responsiveButtonSize","_directionKeyCode","_nonTextKeyCode","_historyIgnoreKeyCode","_onButtonsCheck","_frontZeroWidthReg","_keyCodeShortcut","_shortcutCommand","keyStr","classOnCheck","commandMapNodes","_cancelCaptionEdit","_buttonsEventHandler","onClick_toolbar","onMouseDown_wysiwyg","tableCell","onMouseDown","onClick_wysiwyg","hideToolbar","prevLi","onClick","_balloonDelay","_showToolbarBalloonDelay","rangeObj","isDirTop","rects","getClientRects","editorWidth","stickyTop","editorLeft","nodeOffset","bottom","noText","arrowMargin","toolbarHeight","iframeRects","_setToolbarOffset","editorParent","absoluteLeft","overRight","resetTop","space","_getPageBottomSpace","documentElement","arrow_left","showInline","onInput_wysiwyg","onInput","_onShortcutKey","onKeyDown_wysiwyg","shiftKey","ctrl","ctrlKey","metaKey","altKey","selectRange","fileComponentName","_hardDelete","prevLast","con","sel","ignoreZWS","nextEl","isEdge","lines","fc","lc","moveCell","tabText","textRange","endChild","freeFormatEl","enterHTML","selectionFormat","wSelection","insertHTML","wOffset","focusNext","brPrev","brNext","newListCell","compContext","textKey","onKeyDown","onKeyUp_wysiwyg","oFormatTag","isComposing","frontZeroWidthCnt","substring","onKeyUp","onScroll_wysiwyg","onScroll","onFocus_wysiwyg","onFocus","onBlur_wysiwyg","onBlur","onMouseDown_resizingBar","_resize_editor","resizeInterval","responsiveSize","windowWidth","innerWidth","responsiveWidth","setToolbarButtons","editorHeight","scrollY","editorTop","_onStickyToolbar","scroll","_codeViewAutoHeight","sCell","eCell","sIsCell","eIsCell","sComp","eComp","onPaste_wysiwyg","clipboardData","_dataTransferAction","_setClipboardComponent","setData","onCopy_wysiwyg","onCopy","onCut_wysiwyg","onCut","onDrop_wysiwyg","dataTransfer","_setDropLocationSelection","rangeOffset","caretRangeFromPoint","plainText","cleanData","getData","tempDiv","tempRange","_setClipboardData","onPaste","onDrop","insertImage","onMouseMove_wysiwyg","lineBreakerStyle","pageY","dir","_onMouseDown_lineBreak","_onLineBreak","eventWysiwyg","passive","_setResponsiveToolbar","_removeEvent","sizeArray","buttonsObj","newToolbar","newContext","oldCallButtons","oldButton","setOptions","_options","val","setDefaultStyle","newStyles","noticeClose","getContext","getText","getImagesInfo","getFilesInfo","notCleaningData","rangeSelection","checkHTML","firstCon","appendContents","setOption","show","topAreaStyle","hide","suneditor","init_options","idOrElement","_init_options","getElementById","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","minLen","_arrayLikeToArray","constructor","from","iter","iterator","arr2","getPlugins","customPlugins","pluginList","flatten","misc_getPlugins","getLanguage","misc_getLanguage","prop_types","prop_types_default","_extends","assign","source","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_inherits","subClass","superClass","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","getPrototypeOf","SunEditor_SunEditor","_Component","SunEditor","_super","_this","txtArea","componentDidMount","_this2","_this$props","_this$props$setOption","_this$props$width","_this$props2","disable","enable","_this$props2$showTool","showToolbar","_this$props2$enableTo","enableToolbar","autoFocus","onLoad","_","uploadHandler","targetImgElement","imageInfo","remainingFilesCount","blur","controllers","componentDidUpdate","prevProps","componentWillUnmount","render","dynamicName","propTypes","SunEditor_0","main"],"mappings":"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2B,MAAAA,OAAO,EAAE,IAhBK;AAiBdoC,MAAAA,SAAS,EAAE,IAjBG;AAkBdM,MAAAA,OAAO,EAAE,IAlBK;AAmBdtG,MAAAA,QAAQ,EAAE,IAnBI;AAoBduI,MAAAA,MAAM,EAAE,IApBM;AAqBdE,MAAAA,KAAK,EAAE,IArBO;AAsBd/B,MAAAA,OAAO,EAAE,IAtBK;AAuBdE,MAAAA,MAAM,EAAE,IAvBM;;AAyBd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ0C,MAAAA,MAAM,EAAE,IAnCM;AAoCdD,MAAAA,OAAO,EAAE,IApCK;;AAsCd;AACR;AACA;AACA;AACA;AACA;AACQ3F,MAAAA,UAAU,EAAE,IA5CE;;AA8Cd;AACR;AACA;AACA;AACA;AACA;AACA;AACQhY,MAAAA,cAAc,EAAE,IArDF;;AAuDd;AACR;AACA;AACA;AACA;AACQgO,MAAAA,cAAc,EAAE,IA5DF;;AA8Dd;AACR;AACA;AACA;AACA;AACQC,MAAAA,gBAAgB,EAAE,IAnEJ;;AAqEd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ94B,MAAAA,kBAAkB,EAAE,IAlFN;;AAoFd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQ2G,MAAAA,kBAAkB,EAAE,IA/FN;;AAiGd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACQgD,MAAAA,kBAAkB,EAAE,IAzGN;;AA2Gd;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQvK,MAAAA,mBAAmB,EAAE,IAxIP;;AAyId;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACQmH,MAAAA,mBAAmB,EAAE,IApKP;;AAqKd;AACR;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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 45);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) { var throwOnDirectAccess, ReactIs; } else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(43)();\n}\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const dialog = {\n        name: 'dialog',\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.dialog = {\n                kind: '',\n                updateModal: false,\n                _closeSignal: false\n            };\n\n            /** dialog */\n            let dialog_div = core.util.createElement('DIV');\n            dialog_div.className = 'se-dialog sun-editor-common';\n\n            let dialog_back = core.util.createElement('DIV');\n            dialog_back.className = 'se-dialog-back';\n            dialog_back.style.display = 'none';\n\n            let dialog_area = core.util.createElement('DIV');\n            dialog_area.className = 'se-dialog-inner';\n            dialog_area.style.display = 'none';\n\n            dialog_div.appendChild(dialog_back);\n            dialog_div.appendChild(dialog_area);\n\n            context.dialog.modalArea = dialog_div;\n            context.dialog.back = dialog_back;\n            context.dialog.modal = dialog_area;\n\n            /** add event listeners */\n            context.dialog.modal.addEventListener('mousedown', this._onMouseDown_dialog.bind(core));\n            context.dialog.modal.addEventListener('click', this._onClick_dialog.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(dialog_div);\n            \n            /** empty memory */\n            dialog_div = null, dialog_back = null, dialog_area = null;\n        },\n\n        /**\n         * @description Event to control the behavior of closing the dialog\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_dialog: function (e) {\n            if (/se-dialog-inner/.test(e.target.className)) {\n                this.context.dialog._closeSignal = true;\n            } else {\n                this.context.dialog._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the dialog or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_dialog: function (e) {\n            e.stopPropagation();\n\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.dialog._closeSignal) {\n                this.plugins.dialog.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a Dialog plugin\n         * @param {String} kind Dialog plugin name\n         * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n         */\n        open: function (kind, update)  {\n            if (this.modalForm) return false;\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            this.plugins.dialog._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.dialog.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.dialog._bindClose);\n\n            this.context.dialog.updateModal = update;\n\n            if (this.context.option.popupDisplay === 'full') {\n                this.context.dialog.modalArea.style.position = 'fixed';\n            } else {\n                this.context.dialog.modalArea.style.position = 'absolute';\n            }\n\n            this.context.dialog.kind = kind;\n            this.modalForm = this.context[kind].modal;\n            const focusElement = this.context[kind].focusElement;\n\n            if (typeof this.plugins[kind].on === 'function') this.plugins[kind].on.call(this, update);\n\n            this.context.dialog.modalArea.style.display = 'block';\n            this.context.dialog.back.style.display = 'block';\n            this.context.dialog.modal.style.display = 'block';\n            this.modalForm.style.display = 'block';\n\n            if (focusElement) focusElement.focus();\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a Dialog plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            if (this.plugins.dialog._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.dialog._bindClose);\n                this.plugins.dialog._bindClose = null;\n            }\n\n            const kind = this.context.dialog.kind;\n            this.modalForm.style.display = 'none';\n            this.context.dialog.back.style.display = 'none';\n            this.context.dialog.modalArea.style.display = 'none';\n            this.context.dialog.updateModal = false;\n            if (typeof this.plugins[kind].init === 'function') this.plugins[kind].init.call(this);\n            this.context.dialog.kind = '';\n            this.modalForm = null;\n            this.focus();\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'dialog', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: dialog\n        });\n    }\n\n    return dialog;\n}));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const component = {\n        name: 'component',\n        /**\n         * @description Create a container for the resizing component and insert the element.\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {String} className Class name of container (fixed: se-component)\n         * @returns {Element} Created container element\n         */\n        set_container: function (cover, className) {\n            const container = this.util.createElement('DIV');\n            container.className = 'se-component ' + className;\n            container.setAttribute('contenteditable', false);\n            container.appendChild(cover);\n    \n            return container;\n        },\n\n        /**\n         * @description Cover the target element with a FIGURE element.\n         * @param {Element} element Target element\n         */\n        set_cover: function (element) {\n            const cover = this.util.createElement('FIGURE');\n            cover.appendChild(element);\n    \n            return cover;\n        },\n\n        /**\n         * @description Return HTML string of caption(FIGCAPTION) element\n         * @returns {String}\n         */\n        create_caption: function () {\n            const caption = this.util.createElement('FIGCAPTION');\n            caption.setAttribute('contenteditable', true);\n            caption.innerHTML = '<div>' + this.lang.dialogBox.caption + '</div>';\n            return caption;\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'component', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: component\n        });\n    }\n\n    return component;\n}));\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileManager = {\n        name: 'fileManager',\n        _xmlHttp: null,\n\n        /**\n         * @description Upload the file to the server.\n         * @param {String} uploadUrl Upload server url\n         * @param {Object|null} uploadHeader Request header\n         * @param {FormData} formData FormData in body\n         * @param {Function|null} callBack Success call back function\n         * @param {Function|null} errorCallBack Error call back function\n         * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n         */\n        upload: function (uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n            this.showLoading();\n            const filePlugin = this.plugins.fileManager;\n            const xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n\n            xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n            xmlHttp.open('post', uploadUrl, true);\n            if(uploadHeader !== null && typeof uploadHeader === 'object' && this._w.Object.keys(uploadHeader).length > 0){\n                for(let key in uploadHeader){\n                    xmlHttp.setRequestHeader(key, uploadHeader[key]);\n                }\n            }\n            xmlHttp.send(formData);\n        },\n\n        _callBackUpload: function (xmlHttp, callBack, errorCallBack) {\n            if (xmlHttp.readyState === 4) {\n                if (xmlHttp.status === 200) {\n                    try {\n                        callBack(xmlHttp);\n                    } catch (e) {\n                        throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n                    } finally {\n                        this.closeLoading();\n                    }\n                } else { // exception\n                    this.closeLoading();\n                    const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n                    if (typeof errorCallBack !== 'function' || errorCallBack('', res, this)) {\n                        const err = '[SUNEDITOR.fileManager.upload.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n                        this.functions.noticeOpen(err);\n                        throw Error(err);\n                    }\n                }\n            }\n        },\n        \n        /**\n         * @description Checke the file's information and modify the tag that does not fit the format.\n         * @param {String} pluginName Plugin name\n         * @param {Array} tagNames Tag array to check\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\n         * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\n         * @param {Boolean} resizing True if the plugin is using a resizing module\n         * @example \n         * const modifyHandler = function (tag) {\n         *      imagePlugin.onModifyMode.call(this, tag, null);\n         *      imagePlugin.openModify.call(this, true);\n         *      imagePlugin.update_image.call(this, true, false, true);\n         *  }.bind(this);\n         *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n         */\n        checkInfo: function (pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n            let tags = [];\n            for (let i = 0, len = tagNames.length; i < len; i++) {\n                tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n            }\n\n            const context = this.context[pluginName];\n            const infoList = context._infoList;\n            const setFileInfo = this.plugins.fileManager.setInfo.bind(this);\n\n            if (tags.length === infoList.length) {\n                // reset\n                if (this._componentsInfoReset) {\n                    for (let i = 0, len = tags.length; i < len; i++) {\n                        setFileInfo(pluginName, tags[i], uploadEventHandler, null, resizing);\n                    }\n                    return ;\n                } else {\n                    let infoUpdate = false;\n                    for (let i = 0, len = infoList.length, info; i < len; i++) {\n                        info = infoList[i];\n                        if (tags.filter(function (t) { return info.src === t.src && info.index.toString() === t.getAttribute('data-index'); }).length === 0) {\n                            infoUpdate = true;\n                            break;\n                        }\n                    }\n                    // pass\n                    if (!infoUpdate) return;\n                }\n            }\n\n            // check\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\n            const currentTags = [];\n            const infoIndex = [];\n            for (let i = 0, len = infoList.length; i < len; i++) {\n                infoIndex[i] = infoList[i].index;\n            }\n            \n            for (let i = 0, len = tags.length, tag; i < len; i++) {\n                tag = tags[i];\n                if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !/FIGURE/i.test(tag.parentElement.nodeName)) {\n                    currentTags.push(context._infoIndex);\n                    modifyHandler(tag);\n                } else if (!tag.getAttribute('data-index') || infoIndex.indexOf(tag.getAttribute('data-index') * 1) < 0) {\n                    currentTags.push(context._infoIndex);\n                    tag.removeAttribute('data-index');\n                    setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n                } else {\n                    currentTags.push(tag.getAttribute('data-index') * 1);\n                }\n            }\n\n            for (let i = 0, dataIndex; i < infoList.length; i++) {\n                dataIndex = infoList[i].index;\n                if (currentTags.indexOf(dataIndex) > -1) continue;\n\n                infoList.splice(i, 1);\n                if (typeof uploadEventHandler === 'function') uploadEventHandler(null, dataIndex, 'delete', null, 0, this);\n                i--;\n            }\n\n            if (resizing) this.context.resizing._resize_plugin = _resize_plugin;\n        },\n\n        /**\n         * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\n         * @param {String} pluginName Plugin name \n         * @param {Element} element \n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         * @param {Object|null} file \n         * @param {Boolean} resizing True if the plugin is using a resizing module\n         * @example \n         * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\n         * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n         */\n        setInfo: function (pluginName, element, uploadEventHandler, file, resizing) {\n            const _resize_plugin = resizing ? this.context.resizing._resize_plugin : '';\n            if (resizing) this.context.resizing._resize_plugin = pluginName;\n    \n            const plguin = this.plugins[pluginName];\n            const context = this.context[pluginName];\n            const infoList = context._infoList;\n            let dataIndex = element.getAttribute('data-index');\n            let info = null;\n            let state = '';\n\n            if (!file) {\n                file = {\n                    'name': element.getAttribute('data-file-name') || (typeof element.src === 'string' ? element.src.split('/').pop() : ''),\n                    'size': element.getAttribute('data-file-size') || 0\n                };\n            }\n    \n            // create\n            if (!dataIndex || this._componentsInfoInit) {\n                state = 'create';\n                dataIndex = context._infoIndex++;\n    \n                element.setAttribute('data-index', dataIndex);\n                element.setAttribute('data-file-name', file.name);\n                element.setAttribute('data-file-size', file.size);\n    \n                info = {\n                    src: element.src,\n                    index: dataIndex * 1,\n                    name: file.name,\n                    size: file.size\n                };\n    \n                infoList.push(info);\n            } else { // update\n                state = 'update';\n                dataIndex *= 1;\n    \n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    if (dataIndex === infoList[i].index) {\n                        info = infoList[i];\n                        break;\n                    }\n                }\n    \n                if (!info) {\n                    dataIndex = context._infoIndex++;\n                    info = { index: dataIndex };\n                    infoList.push(info);\n                }\n    \n                info.src = element.src;\n                info.name = element.getAttribute(\"data-file-name\");\n                info.size = element.getAttribute(\"data-file-size\") * 1;\n            }\n    \n            // method bind\n            info.element = element;\n            info.delete = plguin.destroy.bind(this, element);\n            info.select = function (element) {\n                element.scrollIntoView(true);\n                this._w.setTimeout(plguin.select.bind(this, element));\n            }.bind(this, element);\n    \n            if (resizing) {\n                if (!element.getAttribute('origin-size') && element.naturalWidth) {\n                    element.setAttribute('origin-size', element.naturalWidth + ',' + element.naturalHeight);\n                }\n    \n                if (!element.getAttribute('data-origin')) {\n                    const container = this.util.getParentElement(element, this.util.isMediaComponent);\n                    const cover = this.util.getParentElement(element, 'FIGURE');\n        \n                    const w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n                    const h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n                    element.setAttribute('data-origin', w + ',' + h);\n                    element.setAttribute('data-size', w + ',' + h);\n                }\n        \n                if (!element.style.width) {\n                    const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n                    plguin.onModifyMode.call(this, element, null);\n                    plguin.applySize.call(this, size[0], size[1]);\n                }\n        \n                this.context.resizing._resize_plugin = _resize_plugin;\n            }\n\n            if (typeof uploadEventHandler === 'function') uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n        },\n\n        /**\n         * @description Delete info object at \"_infoList\"\n         * @param {String} pluginName Plugin name \n         * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         */\n        deleteInfo: function (pluginName, index, uploadEventHandler) {\n            if (index >= 0) {\n                const infoList = this.context[pluginName]._infoList;\n    \n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    if (index === infoList[i].index) {\n                        infoList.splice(i, 1);\n                        if (typeof uploadEventHandler === 'function') uploadEventHandler(null, index, 'delete', null, 0, this);\n                        return;\n                    }\n                }\n            }\n        },\n\n        /**\n         * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\n         * @param {String} pluginName Plugin name \n         * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\n         */\n        resetInfo: function (pluginName, uploadEventHandler) {\n            const context = this.context[pluginName];\n\n            if (typeof uploadEventHandler === 'function') {\n                const infoList = context._infoList;\n                for (let i = 0, len = infoList.length; i < len; i++) {\n                    uploadEventHandler(null, infoList[i].index, 'delete', null, 0, this);\n                }\n            }\n\n            context._infoList = [];\n            context._infoIndex = 0;\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileManager', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: fileManager\n        });\n    }\n\n    return fileManager;\n}));\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'en',\n        toolbar: {\n            default: 'Default',\n            save: 'Save',\n            font: 'Font',\n            formats: 'Formats',\n            fontSize: 'Size',\n            bold: 'Bold',\n            underline: 'Underline',\n            italic: 'Italic',\n            strike: 'Strike',\n            subscript: 'Subscript',\n            superscript: 'Superscript',\n            removeFormat: 'Remove Format',\n            fontColor: 'Font Color',\n            hiliteColor: 'Highlight Color',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            align: 'Align',\n            alignLeft: 'Align left',\n            alignRight: 'Align right',\n            alignCenter: 'Align center',\n            alignJustify: 'Align justify',\n            list: 'List',\n            orderList: 'Ordered list',\n            unorderList: 'Unordered list',\n            horizontalRule: 'Horizontal line',\n            hr_solid: 'Solid',\n            hr_dotted: 'Dotted',\n            hr_dashed: 'Dashed',\n            table: 'Table',\n            link: 'Link',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Full screen',\n            showBlocks: 'Show blocks',\n            codeView: 'Code view',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Quote',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Line height',\n            paragraphStyle: 'Paragraph style',\n            textStyle: 'Text style',\n            imageGallery: 'Image gallery',\n            mention: 'Mention'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insert Link',\n                url: 'URL to link',\n                text: 'Text to display',\n                newWindowCheck: 'Open in new window'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Mathematical Notation',\n                fontSizeLabel: 'Font Size',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Insert image',\n                file: 'Select from files',\n                url: 'Image URL',\n                altText: 'Alternative text'\n            },\n            videoBox: {\n                title: 'Insert Video',\n                file: 'Select from files',\n                url: 'Media embed URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Insert Audio',\n                file: 'Select from files',\n                url: 'Audio URL'\n            },\n            browser: {\n                tags: 'Tags',\n                search: 'Search',\n            },\n            caption: 'Insert description',\n            close: 'Close',\n            submitButton: 'Submit',\n            revertButton: 'Revert',\n            proportion: 'Constrain proportions',\n            basic: 'Basic',\n            left: 'Left',\n            right: 'Right',\n            center: 'Center',\n            width: 'Width',\n            height: 'Height',\n            size: 'Size',\n            ratio: 'Ratio'\n        },\n        controller: {\n            edit: 'Edit',\n            unlink: 'Unlink',\n            remove: 'Remove',\n            insertRowAbove: 'Insert row above',\n            insertRowBelow: 'Insert row below',\n            deleteRow: 'Delete row',\n            insertColumnBefore: 'Insert column before',\n            insertColumnAfter: 'Insert column after',\n            deleteColumn: 'Delete column',\n            fixedColumnWidth: 'Fixed column width',\n            resize100: 'Resize 100%',\n            resize75: 'Resize 75%',\n            resize50: 'Resize 50%',\n            resize25: 'Resize 25%',\n            autoSize: 'Auto size',\n            mirrorHorizontal: 'Mirror, Horizontal',\n            mirrorVertical: 'Mirror, Vertical',\n            rotateLeft: 'Rotate left',\n            rotateRight: 'Rotate right',\n            maxSize: 'Max size',\n            minSize: 'Min size',\n            tableHeader: 'Table header',\n            mergeCells: 'Merge cells',\n            splitCells: 'Split Cells',\n            HorizontalSplit: 'Horizontal split',\n            VerticalSplit: 'Vertical split'\n        },\n        menu: {\n            spaced: 'Spaced',\n            bordered: 'Bordered',\n            neon: 'Neon',\n            translucent: 'Translucent',\n            shadow: 'Shadow',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'en', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2018 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\r\n    name: 'colorPicker',\r\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object \r\n     */\r\n    add: function (core) {\r\n        const context = core.context;\r\n        context.colorPicker = {\r\n            colorListHTML: '',\r\n            _colorInput: '',\r\n            _defaultColor: '#000',\r\n            _styleProperty: 'color',\r\n            _currentColor: '',\r\n            _colorList: []\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.createColorList(core, this._makeColorList);\r\n\r\n        /** caching */\r\n        context.colorPicker.colorListHTML = listDiv;\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    /**\r\n     * @description Create color list\r\n     * @param {Object} core Core object \r\n     * @param {Function} makeColor this._makeColorList\r\n     * @returns {String} HTML string\r\n     */\r\n    createColorList: function (core, makeColor) {\r\n        const option = core.context.option;\r\n        const lang = core.lang;\r\n        const colorList = !option.colorList || option.colorList.length === 0 ?\r\n            [\r\n                '#ff0000', '#ff5e00', '#ffe400', '#abf200', '#00d8ff', '#0055ff', '#6600ff', '#ff00dd', '#000000',\r\n                '#ffd8d8', '#fae0d4', '#faf4c0', '#e4f7ba', '#d4f4fa', '#d9e5ff', '#e8d9ff', '#ffd9fa', '#f1f1f1',\r\n                '#ffa7a7', '#ffc19e', '#faed7d', '#cef279', '#b2ebf4', '#b2ccff', '#d1b2ff', '#ffb2f5', '#bdbdbd',\r\n                '#f15f5f', '#f29661', '#e5d85c', '#bce55c', '#5cd1e5', '#6699ff', '#a366ff', '#f261df', '#8c8c8c',\r\n                '#980000', '#993800', '#998a00', '#6b9900', '#008299', '#003399', '#3d0099', '#990085', '#353535',\r\n                '#670000', '#662500', '#665c00', '#476600', '#005766', '#002266', '#290066', '#660058', '#222222'\r\n            ] : option.colorList;\r\n\r\n        let colorArr = [];\r\n        let list = '<div class=\"se-list-inner\">';\r\n            for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n                color = colorList[i];\r\n                if (!color) continue;\r\n                \r\n                if (typeof color === 'string') {\r\n                    colorArr.push(color);\r\n                    if (i < len - 1) continue;\r\n                }\r\n                if (colorArr.length > 0) {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(colorArr) + '</div>';\r\n                    colorArr = [];\r\n                }\r\n                if (typeof color === 'object') {\r\n                    list += '<div class=\"se-selector-color\">' + makeColor(color) + '</div>';\r\n                }\r\n            }\r\n            list += '' +\r\n            '<form class=\"se-submenu-form-group\">' +\r\n                '<input type=\"text\" maxlength=\"9\" class=\"_se_color_picker_input se-color-input\"/>' +\r\n                '<button type=\"submit\" class=\"se-btn-primary _se_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' +\r\n                    core.icons.checked +\r\n                '</button>' +\r\n                '<button type=\"button\" class=\"se-btn _se_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' +\r\n                    core.icons.erase +\r\n                '</button>' +\r\n            '</form>' +\r\n            '</div>';\r\n\r\n        return list;\r\n    },\r\n\r\n    /**\r\n     * @description Internal function used by this.createColorList\r\n     * @param {Array} colorList Color list\r\n     * @private\r\n     */\r\n    _makeColorList: function (colorList) {\r\n        let list = '';\r\n\r\n        list += '<ul class=\"se-color-pallet\">';\r\n        for (let i = 0, len = colorList.length, color; i < len; i++) {\r\n            color = colorList[i];\r\n            if (typeof color === 'string') {\r\n                list += '<li>' +\r\n                            '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' +\r\n                        '</li>';\r\n            }\r\n        }\r\n        list += '</ul>';\r\n\r\n        return list;\r\n    },\r\n    \r\n    /**\r\n     * @description Displays or resets the currently selected color at color list.\r\n     * @param {Node} node Current Selected node\r\n     * @param {String|null} color Color value\r\n     */\r\n    init: function (node, color) {\r\n        const colorPicker = this.plugins.colorPicker;\r\n        let fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\r\n        fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\r\n\r\n        const colorList = this.context.colorPicker._colorList;\r\n        if (colorList) {\r\n            for (let i = 0, len = colorList.length; i < len; i++) {\r\n                if (fillColor.toLowerCase() === colorList[i].getAttribute('data-value').toLowerCase()) {\r\n                    this.util.addClass(colorList[i], 'active');\r\n                } else {\r\n                    this.util.removeClass(colorList[i], 'active');\r\n                }\r\n            }\r\n        }\r\n\r\n        colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\r\n    },\r\n\r\n    /**\r\n     * @description Store color values\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setCurrentColor: function (hexColorStr) {\r\n        this.context.colorPicker._currentColor = hexColorStr;\r\n        this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\r\n    },\r\n\r\n    /**\r\n     * @description Set color at input element\r\n     * @param {String} hexColorStr Hax color value\r\n     */\r\n    setInputText: function (hexColorStr) {\r\n        hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : '#' + hexColorStr;\r\n        this.context.colorPicker._colorInput.value = hexColorStr;\r\n        this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\r\n    },\r\n\r\n    /**\r\n     * @description Gets color value at color property of node\r\n     * @param {Node} node Selected node \r\n     * @returns {String}\r\n     */\r\n    getColorInNode: function (node) {\r\n        let findColor = '';\r\n        const styleProperty = this.context.colorPicker._styleProperty;\r\n\r\n        while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\r\n            if (node.nodeType === 1 && node.style[styleProperty]) findColor = node.style[styleProperty];\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return findColor;\r\n    },\r\n\r\n    /**\r\n     * @description Function to check hex format color\r\n     * @param {String} str Color value\r\n     */\r\n    isHexColor: function (str) {\r\n        return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\r\n    },\r\n\r\n    /**\r\n     * @description Function to convert hex format to a rgb color\r\n     * @param {String} rgb RGB color format\r\n     * @returns {String}\r\n     */\r\n    rgb2hex: function (rgb) {\r\n        const rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\r\n\r\n        return (rgbMatch && rgbMatch.length === 4) ? \"#\" +\r\n            (\"0\" + parseInt(rgbMatch[1],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[2],10).toString(16)).slice(-2) +\r\n            (\"0\" + parseInt(rgbMatch[3],10).toString(16)).slice(-2) : '';\r\n    },\r\n\r\n    /**\r\n     * @description Converts color values of other formats to hex color values and returns.\r\n     * @param {String} colorName Color value\r\n     * @returns {String}\r\n     */\r\n    colorName2hex: function (colorName) {\r\n        if (/^#/.test(colorName)) return colorName;\r\n        var temp = this.util.createElement('div');\r\n        temp.style.display = 'none';\r\n        temp.style.color = colorName;\r\n        var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) { return parseInt(a,10); });\r\n        this.util.removeItem(temp);\r\n        return (colors.length >= 3) ? '#' + (((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1)) : false;\r\n    }\r\n});\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const resizing = {\n        name: 'resizing',\n        /**\n         * @description Constructor\n         * Require context properties when resizing module\n            inputX: Element,\n            inputY: Element,\n            _container: null,\n            _cover: null,\n            _element: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n            _proportionChecked: true,\n            // -- select function --\n            _resizing: context.option.imageResizing,\n            _resizeDotHide: !context.option.imageHeightShow,\n            _rotation: context.option.imageRotation,\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1\n            _captionShow: true,\n            // -- when used caption (_captionShow: true) --\n            _caption: null,\n            _captionChecked: false,\n            captionCheckEl: null,\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const icons = core.icons;\n            const context = core.context;\n            context.resizing = {\n                _resizeClientX: 0,\n                _resizeClientY: 0,\n                _resize_plugin: '',\n                _resize_w: 0,\n                _resize_h: 0,\n                _origin_w: 0,\n                _origin_h: 0,\n                _rotateVertical: false,\n                _resize_direction: '',\n                _move_path: null,\n                _isChange: false,\n                alignIcons: {\n                    basic: icons.align_justify,\n                    left: icons.align_left,\n                    right: icons.align_right,\n                    center: icons.align_center\n                }\n            };\n    \n            /** resize controller, button */\n            let resize_div_container = this.setController_resize.call(core);\n            context.resizing.resizeContainer = resize_div_container;\n    \n            context.resizing.resizeDiv = resize_div_container.querySelector('.se-modal-resize');\n            context.resizing.resizeDot = resize_div_container.querySelector('.se-resize-dot');\n            context.resizing.resizeDisplay = resize_div_container.querySelector('.se-resize-display');\n    \n            let resize_button = this.setController_button.call(core);\n            context.resizing.resizeButton = resize_button;\n    \n            let resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll('span');\n            context.resizing.resizeButtonGroup = resize_button.querySelector('._se_resizing_btn_group');\n            context.resizing.rotationButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_rotation');\n            context.resizing.percentageButtons = resize_button.querySelectorAll('._se_resizing_btn_group ._se_percentage');\n    \n            context.resizing.alignMenu = resize_button.querySelector('.se-resizing-align-list');\n            context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll('button');\n    \n            context.resizing.alignButton = resize_button.querySelector('._se_resizing_align_button');\n            context.resizing.autoSizeButton = resize_button.querySelector('._se_resizing_btn_group ._se_auto_size');\n            context.resizing.captionButton = resize_button.querySelector('._se_resizing_caption_button');\n    \n            /** add event listeners */\n            resize_div_container.addEventListener('mousedown', function (e) { e.preventDefault(); });\n            resize_button.addEventListener('mousedown', core.eventStop);\n            resize_handles[0].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[1].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[2].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[3].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[4].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[5].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[6].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_handles[7].addEventListener('mousedown', this.onMouseDown_resize_handle.bind(core));\n            resize_button.addEventListener('click', this.onClick_resizeButton.bind(core));\n    \n            /** append html */\n            context.element.relative.appendChild(resize_div_container);\n            context.element.relative.appendChild(resize_button);\n    \n            /** empty memory */\n            resize_div_container = null, resize_button = null, resize_handles = null;\n        },\n    \n        /** resize controller, button (image, iframe, video) */\n        setController_resize: function () {\n            const resize_container = this.util.createElement('DIV');\n            \n            resize_container.className = 'se-controller se-resizing-container';\n            resize_container.style.display = 'none';\n            resize_container.innerHTML = '' +\n                '<div class=\"se-modal-resize\"></div>' +\n                '<div class=\"se-resize-dot\">' +\n                    '<span class=\"tl\"></span>' +\n                    '<span class=\"tr\"></span>' +\n                    '<span class=\"bl\"></span>' +\n                    '<span class=\"br\"></span>' +\n                    '<span class=\"lw\"></span>' +\n                    '<span class=\"th\"></span>' +\n                    '<span class=\"rw\"></span>' +\n                    '<span class=\"bh\"></span>' +\n                    '<div class=\"se-resize-display\"></div>' +\n                '</div>';\n    \n            return resize_container;\n        },\n    \n        setController_button: function () {\n            const lang = this.lang;\n            const icons = this.icons;\n            const resize_button = this.util.createElement(\"DIV\");\n    \n            resize_button.className = \"se-controller se-controller-resizing\";\n            resize_button.innerHTML = '' +\n                '<div class=\"se-arrow se-arrow-up\"></div>' +\n                '<div class=\"se-btn-group _se_resizing_btn_group\">' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>100%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize100 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>75%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize75 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"se-tooltip _se_percentage\">' +\n                        '<span>50%</span>' +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.resize50 + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"auto\" class=\"se-btn se-tooltip _se_auto_size\">' +\n                        icons.auto_size +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.autoSize + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_left +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateLeft + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"se-btn se-tooltip _se_rotation\">' +\n                        icons.rotate_right +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.rotateRight + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n                '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_horizontal +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorHorizontal + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"se-btn se-tooltip\">' +\n                        icons.mirror_vertical +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mirrorVertical + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"onalign\" class=\"se-btn se-tooltip _se_resizing_align_button\">' +\n                        icons.align_justify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.toolbar.align + '</span></span>' +\n                    '</button>' +\n                    '<div class=\"se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list\">' +\n                        '<div class=\"se-list-inner\">' +\n                            '<ul class=\"se-list-basic\">' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"basic\">' +\n                                    icons.align_justify +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.basic + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"left\">' +\n                                    icons.align_left +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.left + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"center\">' +\n                                    icons.align_center +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.center + '</span></span>' +\n                                '</button></li>' +\n                                '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"align\" data-value=\"right\">' +\n                                    icons.align_right +\n                                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.right + '</span></span>' +\n                                '</button></li>' +\n                            '</ul>' +\n                        '</div>' +\n                    '</div>' +\n                    '<button type=\"button\" data-command=\"caption\" class=\"se-btn se-tooltip _se_resizing_caption_button\">' +\n                        icons.caption +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.caption + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"revert\" class=\"se-btn se-tooltip\">' +\n                        icons.revert +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.dialogBox.revertButton + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"update\" class=\"se-btn se-tooltip\">' +\n                        icons.modify +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>';\n    \n            return resize_button;\n        },\n    \n        /**\n         * @description Gets the width size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeX: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!element) return '';\n    \n            return !/%$/.test(element.style.width) ? element.style.width : ((container && this.util.getNumber(container.style.width, 2)) || 100) + '%';\n        },\n    \n        /**\n         * @description Gets the height size\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Element} element Target element\n         * @param {Element} cover Cover element (FIGURE)\n         * @param {Element} container Container element (DIV.se-component)\n         * @returns {String}\n         */\n        _module_getSizeY: function (contextPlugin, element, cover, container) {\n            if (!element) element = contextPlugin._element;\n            if (!cover) cover = contextPlugin._cover;\n            if (!container) container = contextPlugin._container;\n    \n            if (!container || !cover) return (element && element.style.height) || '';\n    \n            return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : (!/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : ((container && this.util.getNumber(container.style.height, 2)) || 100) + '%');\n        },\n\n        /**\n         * @description Called at the \"openModify\" to put the size of the current target into the size input element.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {Object} pluginObj Plugin object\n         */\n        _module_setModifyInputSize: function (contextPlugin, pluginObj) {\n            const percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n            contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute('data-proportion') !== 'false';\n    \n            let x = percentageRotation ? '' : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            if (x === contextPlugin._defaultSizeX) x = '';\n            if (contextPlugin._onlyPercentage) x = this.util.getNumber(x, 2);\n            contextPlugin.inputX.value = x;\n            pluginObj.setInputSize.call(this, 'x');\n            \n            if (!contextPlugin._onlyPercentage) {\n                let y = percentageRotation ? '' : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n                if (y === contextPlugin._defaultSizeY) y = '';\n                if (contextPlugin._onlyPercentage) y = this.util.getNumber(y, 2);\n                contextPlugin.inputY.value = y;\n            }\n            \n            contextPlugin.inputX.disabled = percentageRotation ? true : false;\n            contextPlugin.inputY.disabled = percentageRotation ? true : false;\n            contextPlugin.proportion.disabled = percentageRotation ? true : false;\n    \n            pluginObj.setRatio.call(this);\n        },\n    \n        /**\n         * @description It is called in \"setInputSize\" (input tag keyupEvent), \n         * checks the value entered in the input tag, \n         * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         * @param {String} xy 'x': width, 'y': height\n         */\n        _module_setInputSize: function (contextPlugin, xy) {\n            if (contextPlugin._onlyPercentage) {\n                if (xy === 'x' && contextPlugin.inputX.value > 100) contextPlugin.inputX.value = 100;\n                return;\n            }\n    \n            if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n                const xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) return;\n    \n                const dec = xUnit === '%' ? 2 : 0;\n    \n                if (xy === 'x') {\n                    contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n                } else {\n                    contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n                }\n            }\n        },\n    \n        /**\n         * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent), \n         * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_setRatio: function (contextPlugin) {\n            const xValue = contextPlugin.inputX.value;\n            const yValue = contextPlugin.inputY.value;\n    \n            if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n                const xUnit = xValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n                const yUnit = yValue.replace(/\\d+|\\./g, '') || contextPlugin.sizeUnit;\n    \n                if (xUnit !== yUnit) {\n                    contextPlugin._ratio = false;\n                } else if (!contextPlugin._ratio) {\n                    const x = this.util.getNumber(xValue, 0);\n                    const y = this.util.getNumber(yValue, 0);\n    \n                    contextPlugin._ratio = true;\n                    contextPlugin._ratioX = x / y;\n                    contextPlugin._ratioY = y / x;\n                }\n            } else {\n                contextPlugin._ratio = false;\n            }\n        },\n    \n        /**\n         * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_sizeRevert: function (contextPlugin) {\n            if (contextPlugin._onlyPercentage) {\n                contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n            } else {\n                contextPlugin.inputX.value = contextPlugin._origin_w;\n                contextPlugin.inputY.value = contextPlugin._origin_h;\n            }\n        },\n    \n        /**\n         * @description Save the size data (element.setAttribute(\"data-size\"))\n         * Used at the \"setSize\" method\n         * @param {Object} contextPlugin context object of plugin (core.context[plugin])\n         */\n        _module_saveCurrentSize: function (contextPlugin) {\n            const x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n            const y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n            contextPlugin._element.setAttribute('data-size', x + ',' + y);\n            if (!!contextPlugin._videoRatio) contextPlugin._videoRatio = y;\n        },\n    \n        /**\n         * @description Call the resizing module\n         * @param {Element} targetElement Resizing target element\n         * @param {string} plugin Plugin name\n         * @returns {Object} Size of resizing div {w, h, t, l}\n         */\n        call_controller_resize: function (targetElement, plugin) {\n            const contextResizing = this.context.resizing;\n            const contextPlugin = this.context[plugin];\n            contextResizing._resize_plugin = plugin;\n    \n            const resizeContainer = contextResizing.resizeContainer;\n            const resizeDiv = contextResizing.resizeDiv;\n            const offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n    \n            const isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute('data-rotate')).toString());\n    \n            const w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n            const h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n            const t = offset.top;\n            const l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n    \n            resizeContainer.style.top = t + 'px';\n            resizeContainer.style.left = l + 'px';\n            resizeContainer.style.width = w + 'px';\n            resizeContainer.style.height = h + 'px';\n    \n            resizeDiv.style.top = '0px';\n            resizeDiv.style.left = '0px';\n            resizeDiv.style.width =  w + 'px';\n            resizeDiv.style.height =  h + 'px';\n    \n            let align = targetElement.getAttribute('data-align') || 'basic';\n            align = align === 'none' ? 'basic' : align;\n    \n            // text\n            const container = this.util.getParentElement(targetElement, this.util.isComponent);\n            const cover = this.util.getParentElement(targetElement, 'FIGURE');\n            const displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || 'auto';\n            const displayY = contextPlugin._onlyPercentage && plugin === 'image' ? '' : ', ' + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || 'auto');\n            this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + ' (' + displayX + displayY + ')');\n    \n            // resizing display\n            contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? '' : 'none';\n            const resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? 'flex' : 'none';\n            const resizeHandles = contextResizing.resizeHandles;\n            for (let i = 0, len = resizeHandles.length; i < len; i++) {\n                resizeHandles[i].style.display = resizeDotShow;\n            }\n    \n            if (contextPlugin._resizing) {\n                const rotations = contextResizing.rotationButtons;\n                rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? '' : 'none';\n            }\n    \n            // align icon\n            const alignList = contextResizing.alignMenuList;\n            this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (alignList[i].getAttribute('data-value') === align) this.util.addClass(alignList[i], 'on');\n                else this.util.removeClass(alignList[i], 'on');\n            }\n    \n            // percentage active\n            const pButtons = contextResizing.percentageButtons;\n            const value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? (this.util.getNumber(container.style.width, 0) / 100) + '' : '' ;\n            for (let i = 0, len = pButtons.length; i < len; i++) {\n                if (pButtons[i].getAttribute('data-value') === value) {\n                    this.util.addClass(pButtons[i], 'active');\n                } else {\n                    this.util.removeClass(pButtons[i], 'active');\n                }\n            }\n    \n            // caption display, active\n            if (!contextPlugin._captionShow) {\n                contextResizing.captionButton.style.display = 'none';\n            } else {\n                contextResizing.captionButton.style.display = '';\n                if (this.util.getChildElement(targetElement.parentNode, 'figcaption')) {\n                    this.util.addClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = true;\n                } else {\n                    this.util.removeClass(contextResizing.captionButton, 'active');\n                    contextPlugin._captionChecked = false;\n                }\n            }\n\n            if (this.currentControllerName !== plugin) {\n                this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n                resizeContainer.style.display = 'block';\n\n                const addOffset = {left: 0, top: 50};\n                if (this.context.options.iframe) {\n                    addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n                    addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n                }\n\n                this.setControllerPosition(contextResizing.resizeButton, resizeContainer, 'bottom', addOffset);\n                this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n            }\n    \n            contextResizing._resize_w = w;\n            contextResizing._resize_h = h;\n    \n            const originSize = (targetElement.getAttribute('origin-size') || '').split(',');\n            contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n            contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n    \n            return {\n                w: w,\n                h: h,\n                t: t,\n                l: l\n            };\n        },\n    \n        _closeAlignMenu: null,\n\n        /**\n         * @description Open align submenu of module\n         */\n        openAlignMenu: function () {\n            const alignButton = this.context.resizing.alignButton;\n            this.util.addClass(alignButton, 'on');\n            this.context.resizing.alignMenu.style.top = (alignButton.offsetTop + alignButton.offsetHeight) + 'px';\n            this.context.resizing.alignMenu.style.left = (alignButton.offsetLeft - alignButton.offsetWidth / 2) + 'px';\n            this.context.resizing.alignMenu.style.display = 'block';\n    \n            this.plugins.resizing._closeAlignMenu = function () {\n                this.util.removeClass(this.context.resizing.alignButton, 'on');\n                this.context.resizing.alignMenu.style.display = 'none';\n                this.removeDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n                this.plugins.resizing._closeAlignMenu = null;\n            }.bind(this);\n    \n            this.addDocEvent('mousedown', this.plugins.resizing._closeAlignMenu);\n        },\n    \n        /**\n         * @description Click event of resizing toolbar\n         * Performs the action of the clicked toolbar button.\n         * @param {MouseEvent} e Event object\n         */\n        onClick_resizeButton: function (e) {\n            e.stopPropagation();\n    \n            const target = e.target;\n            const command = target.getAttribute('data-command') || target.parentNode.getAttribute('data-command');\n    \n            if (!command) return;\n    \n            const value = target.getAttribute('data-value') || target.parentNode.getAttribute('data-value');\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            const currentContext = this.context[pluginName];\n            const contextEl = currentContext._element;\n            const currentModule = this.plugins[pluginName];\n    \n            e.preventDefault();\n    \n            if (typeof this.plugins.resizing._closeAlignMenu === 'function') {\n                this.plugins.resizing._closeAlignMenu();\n                if (command === 'onalign') return;\n            }\n    \n            switch (command) {\n                case 'auto':\n                    this.plugins.resizing.resetTransform.call(this, contextEl);\n                    currentModule.setAutoSize.call(this);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'percent':\n                    let percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n                    if (this.context.resizing._rotateVertical) {\n                        const percentage = contextEl.getAttribute('data-percentage');\n                        if (percentage) percentY = percentage.split(',')[1];\n                    }\n    \n                    this.plugins.resizing.resetTransform.call(this, contextEl);\n                    currentModule.setPercentSize.call(this, (value * 100), (this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY)) ? '' : percentY);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'mirror':\n                    const r = contextEl.getAttribute('data-rotate') || '0';\n                    let x = contextEl.getAttribute('data-rotateX') || '';\n                    let y = contextEl.getAttribute('data-rotateY') || '';\n        \n                    if ((value === 'h' && !this.context.resizing._rotateVertical) || (value === 'v' && this.context.resizing._rotateVertical)) {\n                        y = y ? '' : '180';\n                    } else {\n                        x = x ? '' : '180';\n                    }\n        \n                    contextEl.setAttribute('data-rotateX', x);\n                    contextEl.setAttribute('data-rotateY', y);\n        \n                    this.plugins.resizing._setTransForm(contextEl, r, x, y);\n                    break;\n                case 'rotate':\n                    const contextResizing = this.context.resizing;\n                    const slope = (contextEl.getAttribute('data-rotate') * 1) + (value * 1);\n                    const deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n        \n                    contextEl.setAttribute('data-rotate', deg);\n                    contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n                    this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n        \n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'onalign':\n                    this.plugins.resizing.openAlignMenu.call(this);\n                    return;\n                case 'align':\n                    const alignValue = value === 'basic' ? 'none' : value;\n                    currentModule.setAlign.call(this, alignValue, null, null, null);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'caption':\n                    const caption = !currentContext._captionChecked;\n                    currentModule.openModify.call(this, true);\n                    currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n    \n                    currentModule.update_image.call(this, false, false, false);\n    \n                    if (caption) {\n                        const captionText = this.util.getChildElement(currentContext._caption, function (current) {\n                            return current.nodeType === 3;\n                        });\n    \n                        if (!captionText) {\n                            currentContext._caption.focus();\n                        } else {\n                            this.setRange(captionText, 0, captionText, captionText.textContent.length);\n                        }\n    \n                        this.controllersOff();\n                    } else {\n                        this.selectComponent(contextEl, pluginName);\n                        currentModule.openModify.call(this, true);\n                    }\n    \n                    break;\n                case 'revert':\n                    currentModule.setOriginSize.call(this);\n                    this.selectComponent(contextEl, pluginName);\n                    break;\n                case 'update':\n                    currentModule.openModify.call(this);\n                    this.controllersOff();\n                    break;\n                case 'delete':\n                    currentModule.destroy.call(this);\n                    break;\n            }\n    \n            // history stack\n            this.history.push(false);\n        },\n    \n        /**\n         * @description Initialize the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         */\n        resetTransform: function (element) {\n            const size = (element.getAttribute('data-size') || element.getAttribute('data-origin') || '').split(',');\n            this.context.resizing._rotateVertical = false;\n    \n            element.style.maxWidth = '';\n            element.style.transform = '';\n            element.style.transformOrigin = '';\n            element.setAttribute('data-rotate', '');\n            element.setAttribute('data-rotateX', '');\n            element.setAttribute('data-rotateY', '');\n    \n            this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : 'auto', size[1] ? size[1] : '', true);\n        },\n    \n        /**\n         * @description Set the transform style (rotation) of the element.\n         * @param {Element} element Target element\n         * @param {Number|null} width Element's width size\n         * @param {Number|null} height Element's height size\n         */\n        setTransformSize: function (element, width, height) {\n            let percentage = element.getAttribute('data-percentage');\n            const isVertical = this.context.resizing._rotateVertical;\n            const deg = element.getAttribute('data-rotate') * 1;\n            let transOrigin = '';\n    \n            if (percentage && !isVertical) {\n                percentage = percentage.split(',');\n                if (percentage[0] === 'auto' && percentage[1] === 'auto') {\n                    this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n                } else {\n                    this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n                }\n            } else {\n                const cover = this.util.getParentElement(element, 'FIGURE');\n        \n                const offsetW = width || element.offsetWidth;\n                const offsetH = height || element.offsetHeight;\n                const w = (isVertical ? offsetH : offsetW) + 'px';\n                const h = (isVertical ? offsetW : offsetH) + 'px';\n        \n                this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n                this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + 'px', offsetH + 'px', true);\n        \n                cover.style.width = w;\n                cover.style.height = (!!this.context[this.context.resizing._resize_plugin]._caption ? '' : h);\n    \n                if (isVertical) {\n                    let transW = (offsetW/2) + 'px ' + (offsetW/2) + 'px 0';\n                    let transH = (offsetH/2) + 'px ' + (offsetH/2) + 'px 0';\n                    transOrigin = deg === 90 || deg === -270 ? transH : transW;\n                }\n            }\n    \n            element.style.transformOrigin = transOrigin;\n            this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute('data-rotateX') || '', element.getAttribute('data-rotateY') || '');\n            \n            if (isVertical) element.style.maxWidth = 'none';\n            else element.style.maxWidth = '';\n    \n            this.plugins.resizing.setCaptionPosition.call(this, element);\n        },\n    \n        _setTransForm: function (element, r, x, y) {\n            let width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n            let translate = '';\n    \n            if (/[1-9]/.test(r) && (x || y)) {\n                translate = x ? 'Y' : 'X';\n    \n                switch (r) {\n                    case '90':\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    case '270':\n                        width *= -1;\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-90':\n                        translate = x && y ? 'Y' : x ? translate : '';\n                        break;\n                    case '-270':\n                        width *= -1;\n                        translate = x && y ? 'X' : y ? translate : '';\n                        break;\n                    default:\n                        translate = '';\n                }\n            }\n    \n            if (r % 180 === 0) {\n                element.style.maxWidth = '';\n            }\n            \n            element.style.transform = 'rotate(' + r + 'deg)' + (x ? ' rotateX(' + x + 'deg)' : '') + (y ? ' rotateY(' + y + 'deg)' : '') + (translate ? ' translate' + translate + '(' + width + 'px)' : '');\n        },\n    \n        /**\n         * @description The position of the caption is set automatically.\n         * @param {Element} element Target element (not caption element)\n         */\n        setCaptionPosition: function (element) {\n            const figcaption = this.util.getChildElement(this.util.getParentElement(element, 'FIGURE'), 'FIGCAPTION');\n            if (figcaption) {\n                figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + 'px';\n            }\n        },\n    \n        /**\n         * @description Mouse down event of resize handles\n         * @param {MouseEvent} e Event object \n         */\n        onMouseDown_resize_handle: function (e) {\n            e.stopPropagation();\n            e.preventDefault();\n            \n            const contextResizing = this.context.resizing;\n            const direction = contextResizing._resize_direction = e.target.classList[0];\n    \n            contextResizing._resizeClientX = e.clientX;\n            contextResizing._resizeClientY = e.clientY;\n            this.context.element.resizeBackground.style.display = 'block';\n            contextResizing.resizeButton.style.display = 'none';\n            contextResizing.resizeDiv.style.float = /l/.test(direction) ? 'right' : /r/.test(direction) ? 'left' : 'none';\n    \n            const closureFunc_bind = function closureFunc(e) {\n                if (e.type === 'keydown' && e.keyCode !== 27) return;\n    \n                const change = contextResizing._isChange;\n                contextResizing._isChange = false;\n    \n                this.removeDocEvent('mousemove', resizing_element_bind);\n                this.removeDocEvent('mouseup', closureFunc_bind);\n                this.removeDocEvent('keydown', closureFunc_bind);\n                \n                if (e.type === 'keydown') {\n                    this.controllersOff();\n                    this.context.element.resizeBackground.style.display = 'none';\n                    this.plugins[this.context.resizing._resize_plugin].init.call(this);\n                } else {\n                    // element resize\n                    this.plugins.resizing.cancel_controller_resize.call(this, direction);\n                    // history stack\n                    if (change) this.history.push(false);\n                }\n            }.bind(this);\n    \n            const resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n            this.addDocEvent('mousemove', resizing_element_bind);\n            this.addDocEvent('mouseup', closureFunc_bind);\n            this.addDocEvent('keydown', closureFunc_bind);\n        },\n    \n        /**\n         * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\n         * The size of the module's \"div\" is adjusted according to the mouse move event.\n         * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\n         * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\n         * @param {MouseEvent} e Event object\n         */\n        resizing_element: function (contextResizing, direction, plugin, e) {\n            const clientX = e.clientX;\n            const clientY = e.clientY;\n    \n            let resultW = plugin._element_w;\n            let resultH = plugin._element_h;\n    \n            const w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n            const h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n            const wh = ((plugin._element_h / plugin._element_w) * w);\n    \n            if (/t/.test(direction)) contextResizing.resizeDiv.style.top = (plugin._element_h - (/h/.test(direction) ? h : wh)) + 'px';\n            if (/l/.test(direction)) contextResizing.resizeDiv.style.left = (plugin._element_w - w) + 'px';\n    \n            if (/r|l/.test(direction)) {\n                contextResizing.resizeDiv.style.width = w + 'px';\n                resultW = w;\n            }\n    \n            if (/^(t|b)[^h]$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = wh + 'px';\n                resultH = wh;\n            }\n            else if (/^(t|b)h$/.test(direction)) {\n                contextResizing.resizeDiv.style.height = h + 'px';\n                resultH = h;\n            }\n    \n            contextResizing._resize_w = resultW;\n            contextResizing._resize_h = resultH;\n            this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + ' x ' + this._w.Math.round(resultH));\n            contextResizing._isChange = true;\n        },\n    \n        /**\n         * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\n         * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\n         * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\n         */\n        cancel_controller_resize: function (direction) {\n            const isVertical = this.context.resizing._rotateVertical;\n            this.controllersOff();\n            this.context.element.resizeBackground.style.display = 'none';\n    \n            let w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n            let h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n    \n            if (!isVertical && !/%$/.test(w)) {\n                const padding = 16;\n                const limit = this.context.element.wysiwygFrame.clientWidth - (padding * 2) - 2;\n                \n                if (this.util.getNumber(w, 0) > limit) {\n                    h = this._w.Math.round((h / w) * limit);\n                    w = limit;\n                }\n            }\n    \n            const pluginName = this.context.resizing._resize_plugin;\n            this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n            this.selectComponent(this.context[pluginName]._element, pluginName);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'resizing', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: resizing\n        });\n    }\n\n    return resizing;\n}));\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_MODULES a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const fileBrowser = {\n        name: 'fileBrowser',\n        _xmlHttp: null,\n        _loading: null,\n\n        /**\n         * @description Constructor\n         * @param {Object} core Core object \n         */\n        add: function (core) {\n            const context = core.context;\n            context.fileBrowser = {\n                _closeSignal: false,\n                area: null,\n                header: null,\n                tagArea: null,\n                body: null,\n                list: null,\n                tagElements: null,\n                items: [],\n                selectedTags: [],\n                selectorHandler: null,\n                contextPlugin: '',\n                columnSize: 4\n            };\n\n            /** fileBrowser */\n            let browser_div = core.util.createElement('DIV');\n            browser_div.className = 'se-file-browser sun-editor-common';\n\n            let back = core.util.createElement('DIV');\n            back.className = 'se-file-browser-back';\n\n            let content = core.util.createElement('DIV');\n            content.className = 'se-file-browser-inner';\n            content.innerHTML = this.set_browser(core);\n\n            browser_div.appendChild(back);\n            browser_div.appendChild(content);\n            this._loading = browser_div.querySelector('.se-loading-box');\n\n            context.fileBrowser.area = browser_div;\n            context.fileBrowser.header = content.querySelector('.se-file-browser-header');\n            context.fileBrowser.titleArea = content.querySelector('.se-file-browser-title');\n            context.fileBrowser.tagArea = content.querySelector('.se-file-browser-tags');\n            context.fileBrowser.body = content.querySelector('.se-file-browser-body');\n            context.fileBrowser.list = content.querySelector('.se-file-browser-list');\n\n            /** add event listeners */\n            context.fileBrowser.tagArea.addEventListener('click', this.onClickTag.bind(core));\n            context.fileBrowser.list.addEventListener('click', this.onClickFile.bind(core));\n            content.addEventListener('mousedown', this._onMouseDown_browser.bind(core));\n            content.addEventListener('click', this._onClick_browser.bind(core));\n            \n            /** append html */\n            context.element.relative.appendChild(browser_div);\n            \n            /** empty memory */\n            browser_div = null, back = null, content = null;\n        },\n\n        set_browser: function (core) {\n            const lang = core.lang;\n\n            return '<div class=\"se-file-browser-content\">' +\n                    '<div class=\"se-file-browser-header\">' +\n                        '<button type=\"button\" data-command=\"close\" class=\"se-btn se-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        core.icons.cancel +\n                        '</button>' +\n                        '<span class=\"se-file-browser-title\"></span>' +\n                        '<div class=\"se-file-browser-tags\"></div>' +\n                    '</div>' +\n                    '<div class=\"se-file-browser-body\">' +\n                        '<div class=\"se-loading-box sun-editor-common\"><div class=\"se-loading-effect\"></div></div>' +\n                        '<div class=\"se-file-browser-list\"></div>' +\n                    '</div>' +\n                '</div>';\n        },\n\n        /**\n         * @description Event to control the behavior of closing the browser\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onMouseDown_browser: function (e) {\n            if (/se-file-browser-inner/.test(e.target.className)) {\n                this.context.fileBrowser._closeSignal = true;\n            } else {\n                this.context.fileBrowser._closeSignal = false;\n            }\n        },\n\n        /**\n         * @description Event to close the window when the outside area of the browser or close button is click\n         * @param {MouseEvent} e Event object\n         * @private\n         */\n        _onClick_browser: function (e) {\n            e.stopPropagation();\n\n            if (/close/.test(e.target.getAttribute('data-command')) || this.context.fileBrowser._closeSignal) {\n                this.plugins.fileBrowser.close.call(this);\n            }\n        },\n\n        /**\n         * @description Open a file browser plugin\n         * @param {String} pluginName Plugin name using the file browser\n         * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n         */\n        open: function (pluginName, selectorHandler)  {\n            if (this.plugins.fileBrowser._bindClose) {\n                this._d.removeEventListener('keydown', this.plugins.fileBrowser._bindClose);\n                this.plugins.fileBrowser._bindClose = null;\n            }\n\n            this.plugins.fileBrowser._bindClose = function (e) {\n                if (!/27/.test(e.keyCode)) return;\n                this.plugins.fileBrowser.close.call(this);\n            }.bind(this);\n            this._d.addEventListener('keydown', this.plugins.fileBrowser._bindClose);\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.contextPlugin = pluginName;\n            fileBrowserContext.selectorHandler = selectorHandler;\n            \n            const pluginContext = this.context[pluginName];\n            const listClassName = pluginContext.listClass;\n            if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n                fileBrowserContext.list.className = 'se-file-browser-list ' + listClassName;\n            }\n\n            if (this.context.option.popupDisplay === 'full') {\n                fileBrowserContext.area.style.position = 'fixed';\n            } else {\n                fileBrowserContext.area.style.position = 'absolute';\n            }\n            \n            fileBrowserContext.titleArea.textContent = pluginContext.title;\n            fileBrowserContext.area.style.display = 'block';\n\n            this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url);\n        },\n\n        _bindClose: null,\n        \n        /**\n         * @description Close a fileBrowser plugin\n         * The plugin's \"init\" method is called.\n         */\n        close: function () {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            if (fileBrowserPlugin._xmlHttp) {\n                fileBrowserPlugin._xmlHttp.abort();\n            }\n\n            if (fileBrowserPlugin._bindClose) {\n                this._d.removeEventListener('keydown', fileBrowserPlugin._bindClose);\n                fileBrowserPlugin._bindClose = null;\n            }\n\n            const fileBrowserContext = this.context.fileBrowser;\n            fileBrowserContext.area.style.display = 'none';\n            fileBrowserContext.selectorHandler = null;\n            fileBrowserContext.selectedTags = [];\n            fileBrowserContext.items = [];\n            fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = '';\n\n            if (typeof this.plugins[fileBrowserContext.contextPlugin].init === 'function') this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n            fileBrowserContext.contextPlugin = '';\n        },\n\n        /**\n         * @description Show file browser loading box\n         */\n        showBrowserLoading: function () {\n            this._loading.style.display = 'block';\n        },\n\n        /**\n         * @description Close file browser loading box\n         */\n        closeBrowserLoading: function () {\n            this._loading.style.display = 'none';\n        },\n\n        _drawFileList: function (url) {\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n\n            const xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n            xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n            xmlHttp.open('get', url, true);\n            xmlHttp.send(null);\n\n            this.plugins.fileBrowser.showBrowserLoading();\n        },\n\n        _callBackGet: function (xmlHttp) {\n            if (xmlHttp.readyState === 4) {\n                this.plugins.fileBrowser._xmlHttp = null;\n                if (xmlHttp.status === 200) {\n                    try {\n                        this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n                    } catch (e) {\n                        throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n                    } finally {\n                        this.plugins.fileBrowser.closeBrowserLoading();\n                        this.context.fileBrowser.body.style.maxHeight = (this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50) + 'px';\n                    }\n                } else { // exception\n                    this.plugins.fileBrowser.closeBrowserLoading();\n                    if (xmlHttp.status !== 0) {\n                        const res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n                        const err = '[SUNEDITOR.fileBrowser.get.serverException] status: ' + xmlHttp.status + ', response: ' + (res.errorMessage || xmlHttp.responseText);\n                        throw Error(err);\n                    }\n                }\n            }\n        },\n\n        _drawListItem: function (items, update) {\n            const fileBrowserContext = this.context.fileBrowser;\n            const pluginContext = this.context[fileBrowserContext.contextPlugin];\n\n            const _tags = [];\n            const len = items.length;\n            const columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n            const splitSize = columnSize <= 1 ? 1 : (Math.round(len/columnSize) || 1);\n            const drawItemHandler = pluginContext.itemTemplateHandler;\n            \n            let tagsHTML = '';\n            let listHTML = '<div class=\"se-file-item-column\">';\n            let columns = 1;\n            for (let i = 0, item, tags; i < len; i++) {\n                item = items[i];\n                tags = !item.tag ? [] : typeof item.tag === 'string' ? item.tag.split(',') : item.tag;\n                tags = item.tag = tags.map(function (v) { return v.trim(); });\n                listHTML += drawItemHandler(item);\n\n                if ((i + 1) % splitSize === 0 && columns < columnSize && (i + 1) < len) {\n                    columns++;\n                    listHTML += '</div><div class=\"se-file-item-column\">';\n                }\n                \n                if (update && tags.length > 0) {\n                    for (let t = 0, tLen = tags.length, tag; t < tLen; t++) {\n                        tag = tags[t];\n                        if (tag && _tags.indexOf(tag) === -1) {\n                            _tags.push(tag);\n                            tagsHTML += '<a title=\"' + tag + '\">' + tag + '</a>';\n                        }\n                    }\n                }\n            }\n            listHTML += '</div>';\n\n            fileBrowserContext.list.innerHTML = listHTML;\n\n            if (update) {\n                fileBrowserContext.items = items;\n                fileBrowserContext.tagArea.innerHTML = tagsHTML;\n                fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll('A');\n            }\n        },\n\n        onClickTag: function (e) {\n            const target = e.target;\n            if (!this.util.isAnchor(target)) return;\n\n            const tagName = target.textContent;\n            const fileBrowserPlugin = this.plugins.fileBrowser;\n            const fileBrowserContext = this.context.fileBrowser;\n\n            const selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n            const selectedTags = fileBrowserContext.selectedTags;\n            const sTagIndex = selectedTags.indexOf(tagName);\n\n            if (sTagIndex > -1){\n                selectedTags.splice(sTagIndex, 1);\n                this.util.removeClass(selectTag, 'on');\n            } else {\n                selectedTags.push(tagName);\n                this.util.addClass(selectTag, 'on');\n            }\n\n            fileBrowserPlugin._drawListItem.call(this,\n                selectedTags.length === 0 ?\n                fileBrowserContext.items :\n                fileBrowserContext.items.filter(function (item) {\n                    return item.tag.some(function (tag) {\n                        return selectedTags.indexOf(tag) > -1;\n                    });\n                }), false);\n        },\n\n        onClickFile: function (e) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            const fileBrowserContext = this.context.fileBrowser;\n            const listEl = fileBrowserContext.list;\n            let target = e.target;\n            let command = null;\n\n            if (target === listEl) return;\n\n            while (listEl !== target.parentNode) {\n                command = target.getAttribute('data-command');\n                if (command) break;\n                target = target.parentNode;\n            }\n\n            if (!command) return;\n\n            const handler = (fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler);\n            this.plugins.fileBrowser.close.call(this);\n            handler(target);\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_MODULES) {\n            Object.defineProperty(window, 'SUNEDITOR_MODULES', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_MODULES, 'fileBrowser', {\n            enumerable: true,\n            writable: false,\n            configurable: false,\n            value: fileBrowser\n        });\n    }\n\n    return fileBrowser;\n}));\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'align',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const icons = core.icons;\n        const context = core.context;\n        context.align = {\n            targetButton: targetElement,\n            _alignList: null,\n            currentAlign: '',\n            defaultDir: context.options.rtl ? 'right' : 'left', \n            icons: {\n                justify: icons.align_justify,\n                left: icons.align_left,\n                right: icons.align_right,\n                center: icons.align_center\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.align._alignList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const listDiv = this.util.createElement('DIV');\n        const leftDir = this.context.align.defaultDir === 'left';\n\n        const leftMenu = '<li>' +\n            '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' +\n                '<span class=\"se-list-icon\">' + icons.align_left + '</span>' + lang.toolbar.alignLeft +\n            '</button>' +\n        '</li>';\n\n        const rightMenu = '<li>' +\n            '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' +\n                '<span class=\"se-list-icon\">' + icons.align_right +'</span>' + lang.toolbar.alignRight +\n            '</button>' +\n        '</li>';\n\n        listDiv.className = 'se-submenu se-list-layer se-list-align';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    (leftDir ? leftMenu : rightMenu) +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_center + '</span>' + lang.toolbar.alignCenter +\n                        '</button>' +\n                    '</li>' +\n                    (leftDir? rightMenu : leftMenu) +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list se-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' +\n                            '<span class=\"se-list-icon\">' + icons.align_justify + '</span>' + lang.toolbar.alignJustify +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        const alignContext = this.context.align;\n        const targetButton = alignContext.targetButton;\n        const target = targetButton.firstElementChild;\n\n        if (!element) {\n            this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n            targetButton.removeAttribute('data-focus');\n        } else if (this.util.isFormatElement(element)) {\n            const textAlign = element.style.textAlign;\n            if (textAlign) {\n                this.util.changeElement(target, alignContext.icons[textAlign]);\n                targetButton.setAttribute('data-focus', textAlign);\n                return true;\n            }\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override submenu\n     */\n    on: function () {\n        const alignContext = this.context.align;\n        const alignList = alignContext._alignList;\n        const currentAlign = alignContext.targetButton.getAttribute('data-focus') || alignContext.defaultDir;\n\n        if (currentAlign !== alignContext.currentAlign) {\n            for (let i = 0, len = alignList.length; i < len; i++) {\n                if (currentAlign === alignList[i].getAttribute('data-value')) {\n                    this.util.addClass(alignList[i], 'active');\n                } else {\n                    this.util.removeClass(alignList[i], 'active');\n                }\n            }\n\n            alignContext.currentAlign = currentAlign;\n        }\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n\n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const defaultDir = this.context.align.defaultDir;\n        const selectedFormsts = this.getSelectedElements();\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            this.util.setStyle(selectedFormsts[i], 'textAlign', (value === defaultDir ? '' : value));\n        }\n\n        this.effectNode = null;\n        this.submenuOff();\n        this.focus();\n        \n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'math',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.math = {\n            focusElement: null,\n            previewElement: null,\n            fontSizeElement: null,\n            _mathExp: null\n        };\n\n        /** math dialog */\n        let math_dialog = this.setDialog.call(core);\n        context.math.modal = math_dialog;\n        context.math.focusElement = math_dialog.querySelector('.se-math-exp');\n        context.math.previewElement = math_dialog.querySelector('.se-math-preview');\n        context.math.fontSizeElement = math_dialog.querySelector('.se-math-size');\n        context.math.focusElement.addEventListener('keyup', this._renderMathExp.bind(core, context.math), false);\n        context.math.focusElement.addEventListener('change', this._renderMathExp.bind(core, context.math), false);\n        context.math.fontSizeElement.addEventListener('change', function (e) { this.fontSize = e.target.value; }.bind(context.math.previewElement.style), false);\n\n        /** math controller */\n        let math_controller = this.setController_MathButton.call(core);\n        context.math.mathController = math_controller;\n        context.math._mathExp = null;\n        math_controller.addEventListener('mousedown', core.eventStop);\n\n        /** add event listeners */\n        math_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core), false);\n        math_controller.addEventListener('click', this.onClick_mathController.bind(core));\n\n        /** append html */\n        context.dialog.modal.appendChild(math_dialog);\n        context.element.relative.appendChild(math_controller);\n\n        /** empty memory */\n        math_dialog = null, math_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        dialog.innerHTML = '' +\n        '<form>' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    this.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.mathBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-body\">' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' +\n                    '<textarea class=\"se-input-form se-math-exp\" type=\"text\"></textarea>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.fontSizeLabel + '</label>' +\n                    '<select class=\"se-input-select se-math-size\">' +\n                        '<option value=\"1em\">1</option>' +\n                        '<option value=\"1.5em\">1.5</option>' +\n                        '<option value=\"2em\">2</option>' +\n                        '<option value=\"2.5em\">2.5</option>' +\n                    '</select>' +\n                '</div>' +\n                '<div class=\"se-dialog-form\">' +\n                    '<label>' + lang.dialogBox.mathBox.previewLabel + '</label>' +\n                    '<p class=\"se-math-preview\"></p>' +\n                '</div>' +\n            '</div>' +\n            '<div class=\"se-dialog-footer\">' +\n                '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n            '</div>' +\n        '</form>';\n\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_MathButton: function () {\n        const lang = this.lang;\n        const math_btn = this.util.createElement('DIV');\n\n        math_btn.className = 'se-controller se-controller-link';\n        math_btn.innerHTML = '' +\n        '<div class=\"se-arrow se-arrow-up\"></div>' +\n        '<div class=\"link-content\">' +\n            '<div class=\"se-btn-group\">' +\n                '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    this.icons.edit +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                '</button>' +\n                '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                    this.icons.delete +\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                '</button>' +\n            '</div>' +\n        '</div>' +\n        '';\n\n        return math_btn;\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'math', 'math' === this.currentControllerName);\n    },\n\n    /**\n     * @Override core - managedTagsInfo\n     */\n    managedTags: function () {\n        return {\n            className: 'katex',\n            method: function (element) {\n                if (!element.getAttribute('data-exp')) return;\n                const dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute('data-exp'))));\n                element.innerHTML = dom.querySelector('.katex').innerHTML;\n            }\n        };\n    },\n\n    _renderer: function (exp) {\n        const katex = this.context.option.katex;\n        return katex.src.renderToString(exp, katex.options);\n    },\n\n    _renderMathExp: function (contextMath, e) {\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            if (this.context.math.focusElement.value.trim().length === 0) return false;\n\n            const contextMath = this.context.math;\n            const mathExp = contextMath.focusElement.value;\n            const katexEl = contextMath.previewElement.querySelector('.katex');\n\n            if (!katexEl) return false;\n            katexEl.className = '__se__katex ' + katexEl.className;\n            katexEl.setAttribute('contenteditable', false);\n            katexEl.setAttribute('data-exp', this.util.HTMLEncoder(mathExp));\n            katexEl.setAttribute('data-font-size', contextMath.fontSizeElement.value);\n            katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n            if (!this.context.dialog.updateModal) {\n                const selectedFormats = this.getSelectedElements();\n\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(katexEl);\n                    if (!this.insertNode(oFormat, null, true)) return false;\n                } else {\n                    if (!this.insertNode(katexEl, null, true)) return false;\n                }\n\n                const empty = this.util.createTextNode(this.util.zeroWidthSpace);\n                katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n                this.setRange(katexEl, 0, katexEl, 1);\n            } else {\n                const containerEl = this.util.getParentElement(contextMath._mathExp, '.katex');\n                containerEl.parentNode.replaceChild(katexEl, containerEl);\n                this.setRange(katexEl, 0, katexEl, 1);\n            }\n\n            contextMath.focusElement.value = '';\n            contextMath.fontSizeElement.value = '1em';\n            contextMath.previewElement.style.fontSize = '1em';\n            contextMath.previewElement.innerHTML = '';\n\n            return true;\n        }.bind(this);\n\n        try {\n            if (submitAction()) {\n                this.plugins.dialog.close.call(this);\n                // history stack\n                this.history.push(false);\n            }\n        } catch (e) {\n            this.plugins.dialog.close.call(this);\n        } finally {\n            this.closeLoading();\n        }\n\n        return false;\n    },\n\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n                this.controllersOff();\n            }\n        } else if (element.getAttribute('data-exp')) {\n            if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n                this.setRange(element, 0, element, 1);\n                this.plugins.math.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    on: function (update) {\n        if (!update) {\n            this.plugins.math.init.call(this);\n        } else {\n            const contextMath = this.context.math;\n            if (contextMath._mathExp) {\n                const exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute('data-exp'));\n                const fontSize = contextMath._mathExp.getAttribute('data-font-size') || '1em';\n                this.context.dialog.updateModal = true;\n                contextMath.focusElement.value = exp;\n                contextMath.fontSizeElement.value = fontSize;\n                contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n                contextMath.previewElement.style.fontSize = fontSize;\n            }\n        }\n    },\n\n    call_controller: function (mathTag) {\n        this.context.math._mathExp = mathTag;\n        const mathBtn = this.context.math.mathController;\n\n        this.setControllerPosition(mathBtn, mathTag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(mathBtn, mathTag, 'math');\n    },\n\n    onClick_mathController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute('data-exp'));\n            this.plugins.dialog.open.call(this, 'math', true);\n        } else {\n            /** delete */\n            this.util.removeItem(this.context.math._mathExp);\n            this.context.math._mathExp = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    init: function () {\n        const contextMath = this.context.math;\n        contextMath.mathController.style.display = 'none';\n        contextMath._mathExp = null;\n        contextMath.focusElement.value = '';\n        contextMath.previewElement.innerHTML = '';\n    }\n});\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(8);\n/* harmony import */ var _modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'imageGallery',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        core.addModule([_modules_fileBrowser__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.imageGallery = {\n            title: core.lang.toolbar.imageGallery, // @Required @Override fileBrowser - File browser window title.\n            url: context.options.imageGalleryUrl, // @Required @Override fileBrowser - File server url.\n            listClass: 'se-image-list', // @Required @Override fileBrowser - Class name of list div.\n            itemTemplateHandler: this.drawItems, // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n            selectorHandler: this.setImage.bind(core), // @Required @Override fileBrowser - Function that action when item click.\n            columnSize: 4 // @Option @Override fileBrowser - Number of \"div.se-file-item-column\" to be created (default: 4)\n        };\n    },\n    \n    /**\n     * @Required @Override fileBrowser\n     * @description Open a file browser.\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\n     */\n    open: function (selectorHandler) {\n        this.plugins.fileBrowser.open.call(this, 'imageGallery', selectorHandler);\n    },\n\n    /**\n     * @Required @Override fileBrowser\n     * @description Define the HTML of the item to be put in \"div.se-file-item-column\".\n     * Format: [\n     *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\n     * ]\n     * @param {Object} item Item of the response data's array\n     */\n    drawItems: function (item) {\n        const srcName = item.src.split('/').pop();\n        return  '<div class=\"se-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' +\n                    '<div class=\"se-file-img-name se-file-name-back\"></div>' +\n                    '<div class=\"se-file-img-name __se__img_name\">' + (item.name || srcName) + '</div>' +\n                '</div>';\n    },\n\n    setImage: function (target) {\n        this.callPlugin('image', function () {\n            const file = {name: target.parentNode.querySelector('.__se__img_name').textContent, size: 0};\n            this.context.image._altText = target.alt;\n            this.plugins.image.create_image.call(this, target.src, '', false, this.context.image._origin_w, this.context.image._origin_h, 'none', file);\n        }.bind(this), null);\n    }\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'blockquote',\n    display: 'command',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.blockquote = {\n            targetButton: targetElement,\n            tag: core.util.createElement('BLOCKQUOTE')\n        };\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.removeClass(this.context.blockquote.targetButton, 'active');\n        } else if (/blockquote/i.test(element.nodeName)) {\n            this.util.addClass(this.context.blockquote.targetButton, 'active');\n            return true;\n        }\n        \n        return false;\n    },\n\n    /**\n     * @Override core\n     */\n    action: function () {\n        const currentBlockquote = this.util.getParentElement(this.getSelectionNode(), 'blockquote');\n\n        if (currentBlockquote) {\n            this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n        } else {\n            this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n        }\n    }\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'font',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.font = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _fontList: null,\n            currentFont: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('.se-list-inner').addEventListener('click', this.pickup.bind(core));\n\n        context.font._fontList = listDiv.querySelectorAll('ul li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-font-family';\n\n        let font, text, i, len;\n        let fontList = !option.font ?\n            [\n                'Arial',\n                'Comic Sans MS',\n                'Courier New',\n                'Impact',\n                'Georgia',\n                'tahoma',\n                'Trebuchet MS',\n                'Verdana'\n            ] : option.font;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (i = 0, len = fontList.length; i < len; i++) {\n            font = fontList[i];\n            text = font.split(',')[0];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + '</button></li>';\n        }\n        list += '</ul></div>';\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        const target = this.context.font.targetText;\n        const tooltip = this.context.font.targetTooltip;\n\n        if (!element) {\n            const font = this.lang.toolbar.font;\n            this.util.changeTxt(target, font);\n            this.util.changeTxt(tooltip, font);\n        } else if (element.style && element.style.fontFamily.length > 0) {\n            const selectFont = element.style.fontFamily.replace(/[\"']/g,'');\n            this.util.changeTxt(target, selectFont);\n            this.util.changeTxt(tooltip, selectFont);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const fontContext = this.context.font;\n        const fontList = fontContext._fontList;\n        const currentFont = fontContext.targetText.textContent;\n\n        if (currentFont !== fontContext.currentFont) {\n            for (let i = 0, len = fontList.length; i < len; i++) {\n                if (currentFont === fontList[i].getAttribute('data-value')) {\n                    this.util.addClass(fontList[i], 'active');\n                } else {\n                    this.util.removeClass(fontList[i], 'active');\n                }\n            }\n\n            fontContext.currentFont = currentFont;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontFamily = value;\n            this.nodeChange(newNode, ['font-family'], null, null);\n        } else {\n            this.nodeChange(null, ['font-family'], ['span'], true);\n        }\n        \n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'fontColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.fontColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.fontColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.fontColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n        context.fontColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextFontColor = this.context.fontColor;\r\n\r\n        contextPicker._colorInput = contextFontColor.colorInput;\r\n        contextPicker._defaultColor = '#333333';\r\n        contextPicker._styleProperty = 'color';\r\n        contextPicker._colorList = contextFontColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.fontColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n\r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.color = color;\r\n        this.nodeChange(newNode, ['color'], null, null);\r\n\r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'fontSize',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.fontSize = {\n            targetText: targetElement.querySelector('.txt'),\n            _sizeList: null,\n            currentSize: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.fontSize._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-font-size';\n\n        const sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            this.util.changeTxt(this.context.fontSize.targetText, this.lang.toolbar.fontSize);\n        } else if (element.style && element.style.fontSize.length > 0) {\n            this.util.changeTxt(this.context.fontSize.targetText, element.style.fontSize);\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const fontSizeContext = this.context.fontSize;\n        const sizeList = fontSizeContext._sizeList;\n        const currentSize = fontSizeContext.targetText.textContent;\n\n        if (currentSize !== fontSizeContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            fontSizeContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value');\n\n        if (value) {\n            const newNode = this.util.createElement('SPAN');\n            newNode.style.fontSize = value;\n            this.nodeChange(newNode, ['font-size'], null, null);\n        } else {\n            this.nodeChange(null, ['font-size'], ['span'], true);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'formatBlock',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.formatBlock = {\n            targetText: targetElement.querySelector('.txt'),\n            targetTooltip: targetElement.parentNode.querySelector('.se-tooltip-text'),\n            _formatList: null,\n            currentFormat: ''\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n        context.formatBlock._formatList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang_toolbar = this.lang.toolbar;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultFormats = ['p', 'div', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n        const formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n            format = formatList[i];\n            \n            if (typeof format === 'string' && defaultFormats.indexOf(format) > -1) {\n                tagName = format.toLowerCase();\n                command = tagName === 'blockquote' ? 'range' : tagName === 'pre' ? 'free' : 'replace';\n                h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : '';\n                name = lang_toolbar['tag_' + (h ? 'h' : tagName)] + h;\n                className = '';\n                attrs = '';\n            } else {\n                tagName = format.tag.toLowerCase();\n                command = format.command;\n                name = format.name || tagName;\n                className = format.class;\n                attrs = className ? ' class=\"' + className + '\"' : '';\n            }\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' +\n                    '<' + tagName + attrs + '>' + name + '</' + tagName + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        let formatTitle = this.lang.toolbar.formats;\n        const target = this.context.formatBlock.targetText;\n        const tooltip = this.context.formatBlock.targetTooltip;\n\n        if (!element) {\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n        } else if (this.util.isFormatElement(element)) {\n            const formatContext = this.context.formatBlock;\n            const formatList = formatContext._formatList;\n            const nodeName = element.nodeName.toLowerCase();\n            const className = (element.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim();\n\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (nodeName === f.getAttribute('data-value') && className === f.getAttribute('data-class')) {\n                    formatTitle = f.title;\n                    break;\n                }\n            }\n\n            this.util.changeTxt(target, formatTitle);\n            this.util.changeTxt(tooltip, formatTitle);\n            target.setAttribute('data-value', nodeName);\n            target.setAttribute('data-class', className);\n\n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const formatContext = this.context.formatBlock;\n        const formatList = formatContext._formatList;\n        const target = formatContext.targetText;\n        const currentFormat = (target.getAttribute('data-value') || '') + (target.getAttribute('data-class') || '');\n\n        if (currentFormat !== formatContext.currentFormat) {\n            for (let i = 0, len = formatList.length, f; i < len; i++) {\n                f = formatList[i];\n                if (currentFormat === f.getAttribute('data-value') + f.getAttribute('data-class')) {\n                    this.util.addClass(f, 'active');\n                } else {\n                    this.util.removeClass(f, 'active');\n                }\n            }\n\n            formatContext.currentFormat = currentFormat;\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, value = null, tag = null, className = '';\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            value = target.getAttribute('data-value');\n            className = target.getAttribute('data-class');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        // blockquote\n        if (command === 'range') {\n            const rangeElement = tag.cloneNode(false);\n            this.applyRangeFormatElement(rangeElement);\n        }\n        // free, replace\n        else {\n            let range = this.getRange();\n            let selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n            if (selectedFormsts.length === 0) {\n                range = this.getRange_addLine(range, null);\n                selectedFormsts = this.getSelectedElementsAndComponents(false);\n                if (selectedFormsts.length === 0) return;\n            }\n\n            const startOffset = range.startOffset;\n            const endOffset = range.endOffset;\n\n            const util = this.util;\n            let first = selectedFormsts[0];\n            let last = selectedFormsts[selectedFormsts.length - 1];\n            const firstPath = util.getNodePath(range.startContainer, first, null, null);\n            const lastPath = util.getNodePath(range.endContainer, last, null, null);\n            \n            // remove selected list\n            const rlist = this.detachList(selectedFormsts, false);\n            if (rlist.sc) first = rlist.sc;\n            if (rlist.ec) last = rlist.ec;\n\n            // change format tag\n            this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            const modifiedFormsts = this.getSelectedElementsAndComponents(false);\n\n            // free format\n            if (command === 'free') {\n                const len = modifiedFormsts.length - 1;\n                let parentNode = modifiedFormsts[len].parentNode;\n                let freeElement = tag.cloneNode(false);\n                const focusElement = freeElement;\n    \n                for (let i = len, f, html, before, next, inner, isComp, first = true; i >= 0; i--) {\n                    f = modifiedFormsts[i];\n                    if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) continue;\n    \n                    isComp = util.isComponent(f);\n                    html = isComp ? '' : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, ' ');\n                    before = util.getParentElement(f, function (current) {\n                        return current.parentNode === parentNode;\n                    });\n    \n                    if (parentNode !== f.parentNode || isComp) {\n                        if (util.isFormatElement(parentNode)) {\n                            parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                            parentNode = parentNode.parentNode;\n                        } else {\n                            parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                            parentNode = f.parentNode;\n                        }\n\n                        next = freeElement.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        freeElement = tag.cloneNode(false);\n                        first = true;\n                    }\n    \n                    inner = freeElement.innerHTML;\n                    freeElement.innerHTML = ((first || !html || !inner || /<br>$/i.test(html)) ? html : html + '<BR>') + inner;\n\n                    if (i === 0) {\n                        parentNode.insertBefore(freeElement, f);\n                        next = f.nextSibling;\n                        if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                            freeElement.innerHTML += '<BR>' + next.innerHTML;\n                            util.removeItem(next);\n                        }\n\n                        const prev = freeElement.previousSibling;\n                        if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                            prev.innerHTML += '<BR>' + freeElement.innerHTML;\n                            util.removeItem(freeElement);\n                        }\n                    }\n\n                    if (!isComp) util.removeItem(f);\n                    if (!!html) first = false;\n                }\n    \n                this.setRange(focusElement, 0, focusElement, 0);\n            }\n            // replace format\n            else {\n                for (let i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n                    node = modifiedFormsts[i];\n                    \n                    if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__se__format__[^\\s]+/) || [''])[0].trim() !== className) && !util.isComponent(node)) {\n                        newFormat = tag.cloneNode(false);\n                        util.copyFormatAttributes(newFormat, node);\n                        newFormat.innerHTML = node.innerHTML;\n    \n                        node.parentNode.replaceChild(newFormat, node);\n                    }\n    \n                    if (i === 0) first = newFormat || node;\n                    if (i === len - 1) last = newFormat || node;\n                    newFormat = null;\n                }\n    \n                this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n            }\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(5);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'hiliteColor',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        core.addModule([_modules_colorPicker__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]]);\r\n\r\n        const context = core.context;\r\n        context.hiliteColor = {\r\n            previewEl: null,\r\n            colorInput: null,\r\n            colorList: null\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        context.hiliteColor.colorInput = listDiv.querySelector('._se_color_picker_input');\r\n\r\n        /** add event listeners */\r\n        context.hiliteColor.colorInput.addEventListener('keyup', this.onChangeInput.bind(core));\r\n        listDiv.querySelector('._se_color_picker_submit').addEventListener('click', this.submit.bind(core));\r\n        listDiv.querySelector('._se_color_picker_remove').addEventListener('click', this.remove.bind(core));\r\n        listDiv.addEventListener('click', this.pickup.bind(core));\r\n\r\n        context.hiliteColor.colorList = listDiv.querySelectorAll('li button');\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** empty memory */\r\n        listDiv = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const colorArea = this.context.colorPicker.colorListHTML;\r\n        const listDiv = this.util.createElement('DIV');\r\n\r\n        listDiv.className = 'se-submenu se-list-layer';\r\n        listDiv.innerHTML = colorArea;\r\n\r\n        return listDiv;\r\n    },\r\n\r\n     /**\r\n     * @Override submenu\r\n     */\r\n    on: function () {\r\n        const contextPicker = this.context.colorPicker;\r\n        const contextHiliteColor = this.context.hiliteColor;\r\n\r\n        contextPicker._colorInput = contextHiliteColor.colorInput;\r\n        contextPicker._defaultColor = '#FFFFFF';\r\n        contextPicker._styleProperty = 'backgroundColor';\r\n        contextPicker._colorList = contextHiliteColor.colorList;\r\n        \r\n        this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\r\n    },\r\n\r\n     /**\r\n     * @Override _colorPicker\r\n     */\r\n    onChangeInput: function (e) {\r\n        this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\r\n    },\r\n\r\n    submit: function () {\r\n        this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\r\n    },\r\n\r\n    pickup: function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute('data-value'));\r\n    },\r\n\r\n    remove: function () {\r\n        this.nodeChange(null, ['background-color'], ['span'], true);\r\n        this.submenuOff();\r\n    },\r\n\r\n    applyColor: function (color) {\r\n        if (!color) return;\r\n        \r\n        const newNode = this.util.createElement('SPAN');\r\n        newNode.style.backgroundColor = color;\r\n        this.nodeChange(newNode, ['background-color'], null, null);\r\n        \r\n        this.submenuOff();\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'horizontalRule',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.horizontalRulePick.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer se-list-line';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                    '<li>' +\n                        '<button type=\"button\" class=\"se-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' +\n                            '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' +\n                        '</button>' +\n                    '</li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n    appendHr: function (className) {\n        const oHr = this.util.createElement('HR');\n        oHr.className = className;\n        this.focus();\n        return this.insertComponent(oHr, false, true, false);\n    },\n\n    horizontalRulePick: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!value && !/UL/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        const oNode = this.plugins.horizontalRule.appendHr.call(this, '__se__' + value);\n        if (oNode) {\n            this.setRange(oNode, 0, oNode, 0);\n            this.submenuOff();\n        }\n    }\n});\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 20197 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'lineHeight',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.lineHeight = {\n            _sizeList: null,\n            currentSize: -1\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.lineHeight._sizeList = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n\n        const sizeList = !option.lineHeights ? [\n            {text: '1', value: 1},\n            {text: '1.15', value: 1.15},\n            {text: '1.5', value: 1.5},\n            {text: '2', value: 2}\n        ] : option.lineHeights;\n\n        let list = '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"default_value se-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + ')</button></li>';\n        for (let i = 0, len = sizeList.length, text, size; i < len; i++) {\n            size = sizeList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const lineHeightContext = this.context.lineHeight;\n        const sizeList = lineHeightContext._sizeList;\n        const format = this.util.getFormatElement(this.getSelectionNode());\n        const currentSize = !format ? '' : format.style.lineHeight + '';\n\n        if (currentSize !== lineHeightContext.currentSize) {\n            for (let i = 0, len = sizeList.length; i < len; i++) {\n                if (currentSize === sizeList[i].getAttribute('data-value')) {\n                    this.util.addClass(sizeList[i], 'active');\n                } else {\n                    this.util.removeClass(sizeList[i], 'active');\n                }\n            }\n\n            lineHeightContext.currentSize = currentSize;\n        }\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n        \n        e.preventDefault();\n        e.stopPropagation();\n\n        const value = e.target.getAttribute('data-value') || '';\n        const formats = this.getSelectedElements();\n\n        for (let i = 0, len = formats.length; i < len; i++) {\n            formats[i].style.lineHeight = value;\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'list',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.list = {\n            targetButton: targetElement,\n            _list: null,\n            currentList: '',\n            icons: {\n                bullets: core.icons.list_bullets,\n                number: core.icons.list_number\n            }\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n        context.list._list = listUl.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const lang = this.lang;\n        const listDiv = this.util.createElement('DIV');\n\n        listDiv.className = 'se-submenu se-list-layer';\n        listDiv.innerHTML = '' +\n            '<div class=\"se-list-inner\">' +\n                '<ul class=\"se-list-basic\">' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' +\n                        this.icons.list_number +\n                    '</button></li>' +\n                    '<li><button type=\"button\" class=\"se-btn-list se-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' +\n                        this.icons.list_bullets +\n                    '</button></li>' +\n                '</ul>' +\n            '</div>';\n\n        return listDiv;\n    },\n\n     /**\n     * @Override core\n     */\n    active: function (element) {\n        const button = this.context.list.targetButton;\n        const icon = button.firstElementChild;\n        const util = this.util;\n\n        if (!element) {\n            button.removeAttribute('data-focus');\n            util.changeElement(icon, this.context.list.icons.number);\n            util.removeClass(button, 'active');\n        } else if (util.isList(element)) {\n            const nodeName = element.nodeName;\n            button.setAttribute('data-focus', nodeName);\n            util.addClass(button, 'active');\n            if (/UL/i.test(nodeName)) {\n                util.changeElement(icon, this.context.list.icons.bullets);\n            } else {\n                util.changeElement(icon, this.context.list.icons.number);\n            }\n            \n            return true;\n        }\n\n        return false;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const listContext = this.context.list;\n        const list = listContext._list;\n        const currentList = listContext.targetButton.getAttribute('data-focus') || '';\n\n        if (currentList !== listContext.currentList) {\n            for (let i = 0, len = list.length; i < len; i++) {\n                if (currentList === list[i].getAttribute('data-command')) {\n                    this.util.addClass(list[i], 'active');\n                } else {\n                    this.util.removeClass(list[i], 'active');\n                }\n            }\n\n            listContext.currentList = currentList;\n        }\n    },\n\n    editList: function (command, selectedCells, detach) {\n        let range = this.getRange();\n        let selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n        if (selectedFormats.length === 0) {\n            if (selectedCells) return;\n            range = this.getRange_addLine(range, null);\n            selectedFormats = this.getSelectedElementsAndComponents(false);\n            if (selectedFormats.length === 0) return;\n        }\n        \n        const util = this.util;\n        util.sortByDepth(selectedFormats, true);\n\n        // merge\n        let firstSel = selectedFormats[0];\n        let lastSel = selectedFormats[selectedFormats.length - 1];\n        let topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n        let bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n\n        const originRange = {\n            sc: range.startContainer,\n            so: range.startOffset,\n            ec: range.endContainer,\n            eo: range.endOffset\n        };\n\n        let isRemove = true;\n\n        for (let i = 0, len = selectedFormats.length; i < len; i++) {\n            if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n                return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n            }.bind(util)))) {\n                isRemove = false;\n                break;\n            }\n        }\n\n        if (isRemove && (!topEl || (firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase())) && (!bottomEl || (lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase()))) {\n            if (detach) {\n                for (let i = 0, len = selectedFormats.length; i < len; i++) {\n                    for (let j = i - 1; j >= 0; j--) {\n                        if (selectedFormats[j].contains(selectedFormats[i])) {\n                            selectedFormats.splice(i, 1);\n                            i--; len--;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            const currentFormat = util.getRangeFormatElement(firstSel);\n            const cancel = currentFormat && currentFormat.tagName === command;\n            let rangeArr, tempList;\n            const passComponent = function (current) {\n                return !this.isComponent(current);\n            }.bind(util);\n            \n            if (!cancel) tempList = util.createElement(command);\n\n            for (let i = 0, len = selectedFormats.length, r, o; i < len; i++) {\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\n                if (!o || !util.isList(o)) continue;\n\n                if (!r) {\n                    r = o;\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                } else {\n                    if (r !== o) {\n                        if (detach && util.isListCell(o.parentNode)) {\n                            this.plugins.list._detachNested.call(this, rangeArr.f);\n                        } else {\n                            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                        }\n                        \n                        o = selectedFormats[i].parentNode;\n                        if (!cancel) tempList = util.createElement(command);\n                        \n                        r = o;\n                        rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\n                    } else {\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\n                    }\n                }\n                \n                if (i === len - 1) {\n                    if (detach && util.isListCell(o.parentNode)) {\n                        this.plugins.list._detachNested.call(this, rangeArr.f);\n                    } else {\n                        this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n                    }\n                }\n            }\n        } else {\n            const topElParent = topEl ? topEl.parentNode : topEl;\n            const bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n            topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n            bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n\n            const mergeTop = topEl && topEl.tagName === command;\n            const mergeBottom = bottomEl && bottomEl.tagName === command;\n            \n            let list = mergeTop ? topEl : util.createElement(command);\n            let firstList = null;\n            let lastList = null;\n            let topNumber = null;\n            let bottomNumber = null;\n\n            const passComponent = function (current) {\n                return !this.isComponent(current) && !this.isList(current);\n            }.bind(util);\n            \n            for (let i = 0, len = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; i < len; i++) {\n                fTag = selectedFormats[i];\n                if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n                    util.removeItem(fTag);\n                    continue;\n                }\n                next = selectedFormats[i + 1];\n                originParent = fTag.parentNode;\n                nextParent = next ? next.parentNode : null;\n                isCell = util.isListCell(fTag);\n                rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n                parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n                siblingTag = isCell && !util.isWysiwygDiv(originParent) ? (!next || util.isListCell(parentTag)) ? originParent : originParent.nextSibling : fTag.nextSibling;\n\n                newCell = util.createElement('LI');\n                util.copyFormatAttributes(newCell, fTag);\n                if (util.isComponent(fTag)) {\n                    const isHR = /^HR$/i.test(fTag.nodeName);\n                    if (!isHR) newCell.innerHTML = '<br>';\n                    newCell.innerHTML += fTag.outerHTML;\n                    if (isHR) newCell.innerHTML += '<br>';\n                } else {\n                    const fChildren = fTag.childNodes;\n                    while (fChildren[0]) {\n                        newCell.appendChild(fChildren[0]);\n                    }\n                }\n                list.appendChild(newCell);\n\n                if (!next) lastList = list;\n                if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n                    if (!firstList) firstList = list;\n                    if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n                        if (list.parentNode !== parentTag) parentTag.insertBefore(list, siblingTag);\n                    }\n                }\n\n                util.removeItem(fTag);\n                if (mergeTop && topNumber === null) topNumber = list.children.length - 1;\n                if (next && (util.getRangeFormatElement(nextParent, passComponent) !== util.getRangeFormatElement(originParent, passComponent) || (util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent)))) {\n                    list = util.createElement(command);\n                }\n\n                if (rangeTag && rangeTag.children.length === 0) util.removeItem(rangeTag);\n            }\n\n            if (topNumber) {\n                firstList = firstList.children[topNumber];\n            }\n\n            if (mergeBottom) {\n                bottomNumber = list.children.length - 1;\n                list.innerHTML += bottomEl.innerHTML;\n                lastList = list.children[bottomNumber];\n                util.removeItem(bottomEl);\n            }\n        }\n        \n        this.effectNode = null;\n        return originRange;\n    },\n\n    _detachNested: function (cells) {\n        const first = cells[0];\n        const last = cells[cells.length - 1];\n        const next = last.nextElementSibling;\n        const originList = first.parentNode;\n        const sibling = originList.parentNode.nextElementSibling;\n        const parentNode = originList.parentNode.parentNode;\n\n        for (let c = 0, cLen = cells.length; c < cLen; c++) {\n            parentNode.insertBefore(cells[c], sibling);\n        }\n\n        if (next && originList.children.length > 0) {\n            const newList = originList.cloneNode(false);\n            const children = originList.childNodes;\n            const index = this.util.getPositionIndex(next);\n            while (children[index]) {\n                newList.appendChild(children[index]);\n            }\n            last.appendChild(newList);\n        }\n\n        if (originList.children.length === 0) this.util.removeItem(originList);\n        this.util.mergeSameTags(parentNode);\n\n        const edge = this.util.getEdgeChildNodes(first, last);\n\n        return {\n            cc: first.parentNode,\n            sc: edge.sc,\n            ec: edge.ec\n        };\n    },\n\n    editInsideList: function (remove, selectedCells) {\n        selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) { return this.isListCell(el); }.bind(this.util)) : selectedCells;\n        const cellsLen = selectedCells.length;\n        if (cellsLen === 0 || (!remove && (!this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)))) {\n            return {\n                sc: selectedCells[0],\n                so: 0,\n                ec: selectedCells[cellsLen - 1],\n                eo: 1\n            };\n        }\n\n        let originList = selectedCells[0].parentNode;\n        let lastCell = selectedCells[cellsLen - 1];\n        let range = null;\n\n        if (remove) {\n            if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n                lastCell = lastCell.nextElementSibling;\n                while (lastCell) {\n                    selectedCells.push(lastCell);\n                    lastCell = lastCell.nextElementSibling;\n                }\n            }\n            range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n        } else {\n            let innerList = this.util.createElement(originList.nodeName);\n            let prev = selectedCells[0].previousElementSibling;\n            let next = lastCell.nextElementSibling;\n            const nodePath = { s: null, e: null, sl: originList, el: originList };\n\n            for (let i = 0, len = cellsLen, c; i < len; i++) {\n                c = selectedCells[i];\n                if (c.parentNode !== originList) {\n                    this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n                    originList = c.parentNode;\n                    innerList = this.util.createElement(originList.nodeName);\n                }\n                \n                prev = c.previousElementSibling;\n                next = c.nextElementSibling;\n                innerList.appendChild(c);\n            }\n            \n            this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n            const sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n            const ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n            range = {\n                sc: sc,\n                so: 0,\n                ec: ec,\n                eo: ec.textContent.length\n            };\n        }\n\n        return range;\n    },\n\n    _insiedList: function (originList, innerList, prev, next, nodePath) {\n        let insertPrev = false;\n\n        if (prev && innerList.tagName === prev.tagName) {\n            const children = innerList.children;\n            while (children[0]) {\n                prev.appendChild(children[0]);\n            }\n\n            innerList = prev;\n            insertPrev = true;\n        }\n\n        if (next && innerList.tagName === next.tagName) {\n            const children = next.children;\n            while (children[0]) {\n                innerList.appendChild(children[0]);\n            }\n\n            const temp = next.nextElementSibling;\n            next.parentNode.removeChild(next);\n            next = temp;\n        }\n\n        if (!insertPrev) {\n            if (this.util.isListCell(prev)) {\n                originList = prev;\n                next = null;\n            }\n\n            originList.insertBefore(innerList, next);\n\n            if (!nodePath.s) {\n                nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n                nodePath.sl = originList;\n            }\n\n            const slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n            nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n            nodePath.el = originList;\n\n            this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n            this.util.mergeNestedTags(originList);\n            if (slPath) nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n        }\n\n        return innerList;\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = '';\n\n        while (!command && !/^UL$/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const range = this.plugins.list.editList.call(this, command, null, false);\n        if (range) this.setRange(range.sc, range.so, range.ec, range.eo);\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'paragraphStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.paragraphStyle = {\n            _classList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        listDiv.querySelector('ul').addEventListener('click', this.pickUp.bind(core));\n\n        context.paragraphStyle._classList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const menuLang = this.lang.menu;\n        const defaultList = {\n            spaced: {\n                name: menuLang.spaced,\n                class: '__se__p-spaced',\n                _class: ''\n            },\n            bordered: {\n                name: menuLang.bordered,\n                class: '__se__p-bordered',\n                _class: ''\n            },\n            neon: {\n                name: menuLang.neon,\n                class: '__se__p-neon',\n                _class: ''\n            }\n        };\n        const paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? ['spaced', 'bordered', 'neon'] : option.paragraphStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n            p = paragraphStyles[i];\n\n            if (typeof p === 'string') {\n                const defaultStyle = defaultList[p.toLowerCase()];\n                if (!defaultStyle) continue;\n                p = defaultStyle;\n            }\n\n            name = p.name;\n            attrs = p.class ? ' class=\"' + p.class + '\"' : '';\n            _class = p._class;\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' +\n                    '<div' + attrs + '>' + name + '</div>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const paragraphContext = this.context.paragraphStyle;\n        const paragraphList = paragraphContext._classList;\n        const currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n        for (let i = 0, len = paragraphList.length; i < len; i++) {\n            if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute('data-value'))) {\n                this.util.addClass(paragraphList[i], 'active');\n            } else {\n                this.util.removeClass(paragraphList[i], 'active');\n            }\n        }\n    },\n\n    pickUp: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let value = null;\n        \n        while (!/^UL$/i.test(target.tagName)) {\n            value = target.getAttribute('data-value');\n            if (value) break;\n            target = target.parentNode;\n        }\n\n        if (!value) return;\n\n        let selectedFormsts = this.getSelectedElements();\n        if (selectedFormsts.length === 0) {\n            this.getRange_addLine(this.getRange(), null);\n            selectedFormsts = this.getSelectedElements();\n            if (selectedFormsts.length === 0) return;\n        }\n\n        // change format class\n        const toggleClass = this.util.hasClass(target, 'active') ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n        for (let i = 0, len = selectedFormsts.length; i < len; i++) {\n            toggleClass(selectedFormsts[i], value);\n        }\n\n        this.submenuOff();\n\n        // history stack\n        this.history.push(false);\n    }\n});\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\r\n    name: 'table',\r\n    display: 'submenu',\r\n    add: function (core, targetElement) {\r\n        const context = core.context;\r\n        let contextTable = context.table = {\r\n            _element: null,\r\n            _tdElement: null,\r\n            _trElement: null,\r\n            _trElements: null,\r\n            _tableXY: [],\r\n            _maxWidth: true,\r\n            _fixedColumn: false,\r\n            _rtl: context.options.rtl,\r\n            cellControllerTop: context.options.tableCellControllerPosition === 'top',\r\n            resizeText: null,\r\n            headerButton: null,\r\n            mergeButton: null,\r\n            splitButton: null,\r\n            splitMenu: null,\r\n            maxText: core.lang.controller.maxSize,\r\n            minText: core.lang.controller.minSize,\r\n            _physical_cellCnt: 0,\r\n            _logical_cellCnt: 0,\r\n            _rowCnt: 0,\r\n            _rowIndex: 0,\r\n            _physical_cellIndex: 0,\r\n            _logical_cellIndex: 0,\r\n            _current_colSpan: 0,\r\n            _current_rowSpan: 0,\r\n            icons: {\r\n                expansion: core.icons.expansion,\r\n                reduction: core.icons.reduction\r\n            }\r\n        };\r\n\r\n        /** set submenu */\r\n        let listDiv = this.setSubmenu.call(core);\r\n        let tablePicker = listDiv.querySelector('.se-controller-table-picker');\r\n\r\n        contextTable.tableHighlight = listDiv.querySelector('.se-table-size-highlighted');\r\n        contextTable.tableUnHighlight = listDiv.querySelector('.se-table-size-unhighlighted');\r\n        contextTable.tableDisplay = listDiv.querySelector('.se-table-size-display');\r\n        if (context.options.rtl) contextTable.tableHighlight.style.left = (10 * 18 - 13) + 'px';\r\n\r\n        /** set table controller */\r\n        let tableController = this.setController_table.call(core);\r\n        contextTable.tableController = tableController;\r\n        contextTable.resizeButton = tableController.querySelector('._se_table_resize');\r\n        contextTable.resizeText = tableController.querySelector('._se_table_resize > span > span');\r\n        contextTable.columnFixedButton = tableController.querySelector('._se_table_fixed_column');\r\n        contextTable.headerButton = tableController.querySelector('._se_table_header');\r\n        tableController.addEventListener('mousedown', core.eventStop);\r\n\r\n        /** set resizing */\r\n        let resizeDiv = this.setController_tableEditor.call(core, contextTable.cellControllerTop);\r\n        contextTable.resizeDiv = resizeDiv;\r\n        contextTable.splitMenu = resizeDiv.querySelector('.se-btn-group-sub');\r\n        contextTable.mergeButton = resizeDiv.querySelector('._se_table_merge_button');\r\n        contextTable.splitButton = resizeDiv.querySelector('._se_table_split_button');\r\n        contextTable.insertRowAboveButton = resizeDiv.querySelector('._se_table_insert_row_a');\r\n        contextTable.insertRowBelowButton = resizeDiv.querySelector('._se_table_insert_row_b');\r\n        resizeDiv.addEventListener('mousedown', core.eventStop);\r\n        \r\n        /** add event listeners */\r\n        tablePicker.addEventListener('mousemove', this.onMouseMove_tablePicker.bind(core, contextTable));\r\n        tablePicker.addEventListener('click', this.appendTable.bind(core));\r\n        resizeDiv.addEventListener('click', this.onClick_tableController.bind(core));\r\n        tableController.addEventListener('click', this.onClick_tableController.bind(core));\r\n\r\n        /** append target button menu */\r\n        core.initMenuTarget(this.name, targetElement, listDiv);\r\n\r\n        /** append controller */\r\n        context.element.relative.appendChild(resizeDiv);\r\n        context.element.relative.appendChild(tableController);\r\n\r\n        /** empty memory */\r\n        listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\r\n    },\r\n\r\n    setSubmenu: function () {\r\n        const listDiv = this.util.createElement('DIV');\r\n        listDiv.className = 'se-submenu se-selector-table';\r\n        listDiv.innerHTML = '' +\r\n            '<div class=\"se-table-size\">' +\r\n                '<div class=\"se-table-size-picker se-controller-table-picker\"></div>' +\r\n                '<div class=\"se-table-size-highlighted\"></div>' +\r\n                '<div class=\"se-table-size-unhighlighted\"></div>' +\r\n            '</div>' +\r\n            '<div class=\"se-table-size-display\">1 x 1</div>';\r\n\r\n        return listDiv;\r\n    },\r\n\r\n    setController_table: function () {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table';\r\n        tableResize.innerHTML = '' +\r\n            '<div>' +\r\n                '<div class=\"se-btn-group\">' +\r\n                    '<button type=\"button\" data-command=\"resize\" class=\"se-btn se-tooltip _se_table_resize\">' +\r\n                        icons.expansion +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.maxSize + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"layout\" class=\"se-btn se-tooltip _se_table_fixed_column\">' +\r\n                        icons.fixed_column_width +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.fixedColumnWidth + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"header\" class=\"se-btn se-tooltip _se_table_header\">' +\r\n                        icons.table_header +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.tableHeader + '</span></span>' +\r\n                    '</button>' +\r\n                    '<button type=\"button\" data-command=\"remove\" class=\"se-btn se-tooltip\">' +\r\n                        icons.delete +\r\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\r\n                    '</button>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    setController_tableEditor: function (cellControllerTop) {\r\n        const lang = this.lang;\r\n        const icons = this.icons;\r\n        const tableResize = this.util.createElement('DIV');\r\n\r\n        tableResize.className = 'se-controller se-controller-table-cell';\r\n        tableResize.innerHTML = (cellControllerTop ? '' : '<div class=\"se-arrow se-arrow-up\"></div>') +\r\n            '<div class=\"se-btn-group\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"se-btn se-tooltip _se_table_insert_row_a\">' +\r\n                    icons.insert_row_above +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowAbove + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"se-btn se-tooltip _se_table_insert_row_b\">' +\r\n                    icons.insert_row_below +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertRowBelow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_row +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteRow + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"merge\" class=\"_se_table_merge_button se-btn se-tooltip\" disabled>' +\r\n                    icons.merge_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.mergeCells + '</span></span>' +\r\n                '</button>' +\r\n            '</div>' +\r\n            '<div class=\"se-btn-group\" style=\"padding-top: 0;\">' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_left +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnBefore + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"se-btn se-tooltip\">' +\r\n                    icons.insert_column_right +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.insertColumnAfter + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"se-btn se-tooltip\">' +\r\n                    icons.delete_column +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.deleteColumn + '</span></span>' +\r\n                '</button>' +\r\n                '<button type=\"button\" data-command=\"onsplit\" class=\"_se_table_split_button se-btn se-tooltip\">' +\r\n                    icons.split_cell +\r\n                    '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.splitCells + '</span></span>' +\r\n                '</button>' +\r\n                '<div class=\"se-btn-group-sub sun-editor-common se-list-layer\">' +\r\n                    '<div class=\"se-list-inner\">' +\r\n                        '<ul class=\"se-list-basic\">' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + \r\n                                lang.controller.VerticalSplit + '</li>' +\r\n                            '<li class=\"se-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + \r\n                                lang.controller.HorizontalSplit + '</li>' +\r\n                        '</ul>' +\r\n                    '</div>' +\r\n                '</div>' +\r\n            '</div>';\r\n\r\n        return tableResize;\r\n    },\r\n\r\n    appendTable: function () {\r\n        const oTable = this.util.createElement('TABLE');\r\n        const createCells = this.plugins.table.createCells;\r\n\r\n        const x = this.context.table._tableXY[0];\r\n        let y = this.context.table._tableXY[1];\r\n        let tableHTML = '<tbody>';\r\n        while (y > 0) {\r\n            tableHTML += '<tr>' + createCells.call(this, 'td', x) + '</tr>';\r\n            --y;\r\n        }\r\n        tableHTML += '</tbody>';\r\n        oTable.innerHTML = tableHTML;\r\n\r\n        const changed = this.insertComponent(oTable, false, true, false);\r\n        \r\n        if (changed) {\r\n            const firstTd = oTable.querySelector('td div');\r\n            this.setRange(firstTd, 0, firstTd, 0);\r\n            this.plugins.table.reset_table_picker.call(this);\r\n        }\r\n    },\r\n\r\n    createCells: function (nodeName, cnt, returnElement) {\r\n        nodeName = nodeName.toLowerCase();\r\n\r\n        if (!returnElement) {\r\n            let cellsHTML = '';\r\n            while (cnt > 0) {\r\n                cellsHTML += '<' +nodeName + '><div><br></div></' + nodeName + '>';\r\n                cnt--;\r\n            }\r\n            return cellsHTML;\r\n        } else {\r\n            const cell = this.util.createElement(nodeName);\r\n            cell.innerHTML = '<div><br></div>';\r\n            return cell;\r\n        }\r\n    },\r\n\r\n    onMouseMove_tablePicker: function (contextTable, e) {\r\n        e.stopPropagation();\r\n\r\n        let x = this._w.Math.ceil(e.offsetX / 18);\r\n        let y = this._w.Math.ceil(e.offsetY / 18);\r\n        x = x < 1 ? 1 : x;\r\n        y = y < 1 ? 1 : y;\r\n        \r\n        if (contextTable._rtl) {\r\n            contextTable.tableHighlight.style.left = (x * 18 - 13) + 'px';\r\n            x = 11 - x;\r\n        }\r\n        \r\n        contextTable.tableHighlight.style.width = x + 'em';\r\n        contextTable.tableHighlight.style.height = y + 'em';\r\n\r\n        // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\r\n        // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\r\n        // contextTable.tableUnHighlight.style.width = x_u + 'em';\r\n        // contextTable.tableUnHighlight.style.height = y_u + 'em';\r\n\r\n        this.util.changeTxt(contextTable.tableDisplay, x + ' x ' + y);\r\n        contextTable._tableXY = [x, y];\r\n    },\r\n\r\n    reset_table_picker: function () {\r\n        if (!this.context.table.tableHighlight) return;\r\n\r\n        const highlight = this.context.table.tableHighlight.style;\r\n        const unHighlight = this.context.table.tableUnHighlight.style;\r\n\r\n        highlight.width = '1em';\r\n        highlight.height = '1em';\r\n        unHighlight.width = '10em';\r\n        unHighlight.height = '10em';\r\n\r\n        this.util.changeTxt(this.context.table.tableDisplay, '1 x 1');\r\n        this.submenuOff();\r\n    },\r\n\r\n    init: function () {\r\n        const contextTable = this.context.table;\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n\r\n        if (tablePlugin._selectedTable) {\r\n            const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n            for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n                this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n            }\r\n        }\r\n\r\n        tablePlugin._toggleEditor.call(this, true);\r\n\r\n        contextTable._element = null;\r\n        contextTable._tdElement = null;\r\n        contextTable._trElement = null;\r\n        contextTable._trElements = null;\r\n        contextTable._tableXY = [];\r\n        contextTable._maxWidth = true;\r\n        contextTable._fixedColumn = false;\r\n        contextTable._physical_cellCnt = 0;\r\n        contextTable._logical_cellCnt = 0;\r\n        contextTable._rowCnt = 0;\r\n        contextTable._rowIndex = 0;\r\n        contextTable._physical_cellIndex = 0;\r\n        contextTable._logical_cellIndex = 0;\r\n        contextTable._current_colSpan = 0;\r\n        contextTable._current_rowSpan = 0;\r\n\r\n        tablePlugin._shift = false;\r\n        tablePlugin._selectedCells = null;\r\n        tablePlugin._selectedTable = null;\r\n        tablePlugin._ref = null;\r\n\r\n        tablePlugin._fixedCell = null;\r\n        tablePlugin._selectedCell = null;\r\n        tablePlugin._fixedCellName = null;\r\n    },\r\n\r\n    /** table edit controller */\r\n    call_controller_tableEdit: function (tdElement) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n\r\n        if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\r\n            this.controllersOff();\r\n            this.util.removeClass(tdElement, 'se-table-selected-cell');\r\n            return;\r\n        }\r\n\r\n        const tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n        contextTable._maxWidth = this.util.hasClass(tableElement, 'se-table-size-100') || tableElement.style.width === '100%' || (!tableElement.style.width && !this.util.hasClass(tableElement, 'se-table-size-auto'));\r\n        contextTable._fixedColumn = this.util.hasClass(tableElement, 'se-table-layout-fixed') || tableElement.style.tableLayout === 'fixed';\r\n        tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? 'width|column' : 'width');\r\n        \r\n        tablePlugin.setPositionControllerTop.call(this, tableElement);\r\n        tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\r\n        \r\n        if (!tablePlugin._shift) this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, 'table');\r\n    },\r\n\r\n    setPositionControllerTop: function (tableElement) {\r\n        this.setControllerPosition(this.context.table.tableController, tableElement, 'top', {left: 0, top: 0});\r\n    },\r\n\r\n    setPositionControllerDiv: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const resizeDiv = contextTable.resizeDiv;\r\n        \r\n        this.plugins.table.setCellInfo.call(this, tdElement, reset);\r\n        \r\n        if (contextTable.cellControllerTop) {\r\n            this.setControllerPosition(resizeDiv, contextTable._element, 'top', {left: contextTable.tableController.offsetWidth, top: 0});\r\n        } else {\r\n            this.setControllerPosition(resizeDiv, tdElement, 'bottom', {left: 0, top: 0});\r\n        }\r\n    },\r\n\r\n    setCellInfo: function (tdElement, reset) {\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        if (/THEAD/i.test(table.firstElementChild.nodeName)) {\r\n            this.util.addClass(contextTable.headerButton, 'active');\r\n        } else {\r\n            this.util.removeClass(contextTable.headerButton, 'active');\r\n        }\r\n\r\n        if (reset || contextTable._physical_cellCnt === 0) {\r\n            if (contextTable._tdElement !== tdElement) {\r\n                contextTable._tdElement = tdElement;\r\n                contextTable._trElement = tdElement.parentNode;\r\n            }\r\n\r\n            const rows = contextTable._trElements = table.rows;\r\n            const cellIndex = tdElement.cellIndex;\r\n\r\n            let cellCnt = 0;\r\n            for (let i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\r\n                cellCnt += cells[i].colSpan;\r\n            }\r\n\r\n            // row cnt, row index\r\n            const rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\r\n            contextTable._rowCnt = rows.length;\r\n\r\n            // cell cnt, physical cell index\r\n            contextTable._physical_cellCnt = contextTable._trElement.cells.length;\r\n            contextTable._logical_cellCnt = cellCnt;\r\n            contextTable._physical_cellIndex = cellIndex;\r\n\r\n            // span\r\n            contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\r\n            contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1;\r\n\r\n            // find logcal cell index\r\n            let rowSpanArr = [];\r\n            let spanIndex = [];\r\n            for (let i = 0, cells, colSpan; i <= rowIndex; i++) {\r\n                cells = rows[i].cells;\r\n                colSpan = 0;\r\n                for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    rs = cell.rowSpan - 1;\r\n                    logcalIndex = c + colSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n                            if (logcalIndex >= arr.index) {\r\n                                colSpan += arr.cs;\r\n                                logcalIndex += arr.cs;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (c === cLen - 1) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // logcal cell index\r\n                    if (i === rowIndex && c === cellIndex) {\r\n                        contextTable._logical_cellIndex = logcalIndex;\r\n                        break;\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            index: logcalIndex,\r\n                            cs: cs + 1,\r\n                            rs: rs,\r\n                            row: -1\r\n                        });\r\n                    }\r\n                    \r\n                    colSpan += cs;\r\n                }\r\n\r\n                spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                rowSpanArr = [];\r\n            }\r\n\r\n            rowSpanArr = null;\r\n            spanIndex = null;\r\n        }\r\n    },\r\n\r\n    editTable: function (type, option) {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const table = contextTable._element;\r\n        const isRow = type === 'row';\r\n\r\n        if (isRow) {\r\n            const tableAttr = contextTable._trElement.parentNode;\r\n            if (/^THEAD$/i.test(tableAttr.nodeName)) {\r\n                if (option === 'up') {\r\n                    return;\r\n                } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\r\n                    table.innerHTML += '<tbody><tr>' + tablePlugin.createCells.call(this, 'td', contextTable._logical_cellCnt, false) + '</tr></tbody>';\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        // multi\r\n        if (tablePlugin._ref) {\r\n            const positionCell = contextTable._tdElement;\r\n            const selectedCells = tablePlugin._selectedCells;\r\n            // multi - row\r\n            if (isRow) {\r\n                // remove row\r\n                if (!option) {\r\n                    let row = selectedCells[0].parentNode;\r\n                    const removeCells = [selectedCells[0]];\r\n\r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (row !== cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                            row = cell.parentNode;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editRow.call(this, option);\r\n                    }\r\n                } else { // edit row\r\n                    tablePlugin.setCellInfo.call(this, option === 'up' ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\r\n                    tablePlugin.editRow.call(this, option, positionCell);\r\n                }\r\n            } else { // multi - cell\r\n                const firstRow = selectedCells[0].parentNode;\r\n                // remove cell\r\n                if (!option) {\r\n                    const removeCells = [selectedCells[0]];\r\n                    \r\n                    for (let i = 1, len = selectedCells.length, cell; i < len; i++) {\r\n                        cell = selectedCells[i];\r\n                        if (firstRow === cell.parentNode) {\r\n                            removeCells.push(cell);\r\n                        } else {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, len = removeCells.length; i < len; i++) {\r\n                        tablePlugin.setCellInfo.call(this, removeCells[i], true);\r\n                        tablePlugin.editCell.call(this, option);\r\n                    }\r\n                } else { // edit cell\r\n                    let rightCell = null;\r\n\r\n                    for (let i = 0, len = selectedCells.length - 1; i < len; i++) {\r\n                        if (firstRow !== selectedCells[i + 1].parentNode) {\r\n                            rightCell = selectedCells[i];\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    tablePlugin.setCellInfo.call(this, option === 'left' ? selectedCells[0] : rightCell || selectedCells[0], true);\r\n                    tablePlugin.editCell.call(this, option, positionCell);\r\n                }\r\n            }\r\n\r\n            if (!option) tablePlugin.init.call(this);\r\n        } // one\r\n        else {\r\n            tablePlugin[isRow ? 'editRow' : 'editCell'].call(this, option);\r\n        }\r\n\r\n        // after remove\r\n        if (!option) {\r\n            const children = table.children;\r\n            for (let i = 0; i < children.length; i++) {\r\n                if (children[i].children.length === 0) {\r\n                    this.util.removeItem(children[i]);\r\n                    i--;\r\n                }\r\n            }\r\n\r\n            if (table.children.length === 0) this.util.removeItem(table);\r\n        }\r\n    },\r\n\r\n    editRow: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const remove = !option;\r\n\r\n        const up = option === 'up';\r\n        const originRowIndex = contextTable._rowIndex;\r\n        const rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\r\n        const sign = remove ? -1 : 1;\r\n        \r\n        const rows = contextTable._trElements;\r\n        let cellCnt = contextTable._logical_cellCnt;\r\n\r\n        for (let i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\r\n            cell = rows[i].cells;\r\n            if (cell.length === 0) return;\r\n            \r\n            for (let c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\r\n                rs = cell[c].rowSpan;\r\n                cs = cell[c].colSpan;\r\n                if (rs < 2 && cs < 2) continue;\r\n\r\n                if (rs + i > rowIndex && rowIndex > i) {\r\n                    cell[c].rowSpan = rs + sign;\r\n                    cellCnt -= cs;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            const next = rows[originRowIndex + 1];\r\n            if (next) {\r\n                const spanCells = [];\r\n                let cells = rows[originRowIndex].cells;\r\n                let colSpan = 0;\r\n\r\n                for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                    cell = cells[i];\r\n                    logcalIndex = i + colSpan;\r\n                    colSpan += cell.colSpan - 1;\r\n\r\n                    if (cell.rowSpan > 1) {\r\n                        cell.rowSpan -= 1;\r\n                        spanCells.push({cell: cell.cloneNode(false), index: logcalIndex});\r\n                    }\r\n                }\r\n\r\n                if (spanCells.length > 0) {\r\n                    let spanCell = spanCells.shift();\r\n                    cells = next.cells;\r\n                    colSpan = 0;\r\n\r\n                    for (let i = 0, len = cells.length, cell, logcalIndex; i < len; i++) {\r\n                        cell = cells[i];\r\n                        logcalIndex = i + colSpan;\r\n                        colSpan += cell.colSpan - 1;\r\n    \r\n                        if (logcalIndex >= spanCell.index) {\r\n                            i--, colSpan--;\r\n                            colSpan += spanCell.cell.colSpan - 1;\r\n                            next.insertBefore(spanCell.cell, cell);\r\n                            spanCell = spanCells.shift();\r\n                            if (!spanCell) break;\r\n                        }\r\n                    }\r\n\r\n                    if (spanCell) {\r\n                        next.appendChild(spanCell.cell);\r\n                        for (let i = 0, len = spanCells.length; i < len; i++) {\r\n                            next.appendChild(spanCells[i].cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            contextTable._element.deleteRow(rowIndex);\r\n        } else {\r\n            const newRow = contextTable._element.insertRow(rowIndex);\r\n            newRow.innerHTML = this.plugins.table.createCells.call(this, 'td', cellCnt, false);\r\n        }\r\n\r\n        if (!remove) {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        } else {\r\n            this.controllersOff();\r\n        }\r\n    },\r\n\r\n    editCell: function (option, positionResetElement) {\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n        const remove = !option;\r\n\r\n        const left = option === 'left';\r\n        const colSpan = contextTable._current_colSpan;\r\n        const cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\r\n\r\n        const rows = contextTable._trElements;\r\n        let rowSpanArr = [];\r\n        let spanIndex = [];\r\n        let passCell = 0;\r\n        const removeCell = [];\r\n        const removeSpanArr = [];\r\n\r\n        for (let i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\r\n            row = rows[i];\r\n            insertIndex = cellIndex;\r\n            applySpan = false;\r\n            cells = row.cells;\r\n            cellColSpan = 0;\r\n\r\n            for (let c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\r\n                cell = cells[c];\r\n                if (!cell) break;\r\n\r\n                rs = cell.rowSpan - 1;\r\n                cs = cell.colSpan - 1;\r\n\r\n                if (!remove) {\r\n                    if (c >= insertIndex) break;\r\n                    if (cs > 0) {\r\n                        if (passCell < 1 && cs + c >= insertIndex) {\r\n                            cell.colSpan += 1;\r\n                            insertIndex = null;\r\n                            passCell = rs + 1;\r\n                            break;\r\n                        }\r\n\r\n                        insertIndex -= cs;\r\n                    }\r\n\r\n                    if (!applySpan) {\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            insertIndex -= arr.cs;\r\n                            arr.rs -= 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }  \r\n                        }\r\n                        applySpan = true;\r\n                    }\r\n                } else {\r\n                    removeIndex = c + cellColSpan;\r\n\r\n                    if (spanIndex.length > 0) {\r\n                        const lastCell = !cells[c + 1];\r\n                        for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                            arr = spanIndex[r];\r\n                            if (arr.row > i) continue;\r\n\r\n                            if (removeIndex >= arr.index) {\r\n                                cellColSpan += arr.cs;\r\n                                removeIndex = c + cellColSpan;\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }  \r\n                            } else if (lastCell) {\r\n                                arr.rs -= 1;\r\n                                arr.row = i + 1;\r\n                                if (arr.rs < 1) {\r\n                                    spanIndex.splice(r, 1);\r\n                                    r--;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (rs > 0) {\r\n                        rowSpanArr.push({\r\n                            rs: rs,\r\n                            cs: cs + 1,\r\n                            index: removeIndex,\r\n                            row: -1\r\n                        });\r\n                    }\r\n\r\n                    if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\r\n                        removeCell.push(cell);\r\n                    } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\r\n                        cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs); \r\n                    } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\r\n                        removeSpanArr.push({\r\n                            cell: cell,\r\n                            i: i,\r\n                            rs: i + rs\r\n                        });\r\n                    }\r\n\r\n                    cellColSpan += cs;\r\n                }\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n\r\n            if (!remove) {\r\n                if (passCell > 0) {\r\n                    passCell -= 1;\r\n                    continue;\r\n                }\r\n\r\n                if (insertIndex !== null && cells.length > 0) {\r\n                    newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\r\n                    newCell = row.insertBefore(newCell, cells[insertIndex]);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (remove) {\r\n            let removeFirst, removeEnd;\r\n            for (let r = 0, rLen = removeCell.length, row; r < rLen; r++) {\r\n                row = removeCell[r].parentNode;\r\n                util.removeItem(removeCell[r]);\r\n                if (row.cells.length === 0) {\r\n                    if (!removeFirst) removeFirst = util.getArrayIndex(rows, row);\r\n                    removeEnd = util.getArrayIndex(rows, row);\r\n                    util.removeItem(row);\r\n                }\r\n            }\r\n\r\n            for (let c = 0, cLen = removeSpanArr.length, rowSpanCell; c < cLen; c++) {\r\n                rowSpanCell = removeSpanArr[c];\r\n                rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\r\n            }\r\n\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\r\n        }\r\n    },\r\n\r\n    _closeSplitMenu: null,\r\n    openSplitMenu: function () {\r\n        this.util.addClass(this.context.table.splitButton, 'on');\r\n        this.context.table.splitMenu.style.display = 'inline-table';\r\n\r\n        this.plugins.table._closeSplitMenu = function () {\r\n            this.util.removeClass(this.context.table.splitButton, 'on');\r\n            this.context.table.splitMenu.style.display = 'none';\r\n            this.removeDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n            this.plugins.table._closeSplitMenu = null;\r\n        }.bind(this);\r\n\r\n        this.addDocEvent('mousedown', this.plugins.table._closeSplitMenu);\r\n    },\r\n\r\n    splitCells: function (direction) {\r\n        const util = this.util;\r\n        const vertical = direction === 'vertical';\r\n        const contextTable = this.context.table;\r\n        const currentCell = contextTable._tdElement;\r\n        const rows = contextTable._trElements;\r\n        const currentRow = contextTable._trElement;\r\n        const index = contextTable._logical_cellIndex;\r\n        const rowIndex = contextTable._rowIndex;\r\n        const newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true);\r\n\r\n        // vertical\r\n        if (vertical) {\r\n            const currentColSpan = currentCell.colSpan;\r\n            newCell.rowSpan = currentCell.rowSpan;\r\n\r\n            // colspan > 1\r\n            if (currentColSpan > 1) {\r\n                newCell.colSpan = this._w.Math.floor(currentColSpan/2);\r\n                currentCell.colSpan = currentColSpan - newCell.colSpan;\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            } else { // colspan - 1\r\n                let rowSpanArr = [];\r\n                let spanIndex = [];\r\n\r\n                for (let i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\r\n                        cell = cells[c];\r\n                        cs = cell.colSpan - 1;\r\n                        rs = cell.rowSpan - 1;\r\n                        logcalIndex = c + colSpan;\r\n\r\n                        if (spanIndex.length > 0) {\r\n                            for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                                arr = spanIndex[r];\r\n                                if (arr.row > i) continue;\r\n                                if (logcalIndex >= arr.index) {\r\n                                    colSpan += arr.cs;\r\n                                    logcalIndex += arr.cs;\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }  \r\n                                } else if (c === cLen - 1) {\r\n                                    arr.rs -= 1;\r\n                                    arr.row = i + 1;\r\n                                    if (arr.rs < 1) {\r\n                                        spanIndex.splice(r, 1);\r\n                                        r--;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (logcalIndex <= index && rs > 0) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cs + 1,\r\n                                rs: rs,\r\n                                row: -1\r\n                            });\r\n                        }\r\n\r\n                        if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\r\n                            cell.colSpan += 1;\r\n                            break;\r\n                        }\r\n\r\n                        if (logcalIndex > index) break;\r\n                        \r\n                        colSpan += cs;\r\n                    }\r\n\r\n                    spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n                    rowSpanArr = [];\r\n                }\r\n\r\n                currentRow.insertBefore(newCell, currentCell.nextElementSibling);\r\n            }\r\n        } else { // horizontal\r\n            const currentRowSpan = currentCell.rowSpan;\r\n            newCell.colSpan = currentCell.colSpan;\r\n\r\n            // rowspan > 1\r\n            if (currentRowSpan > 1) {\r\n                newCell.rowSpan = this._w.Math.floor(currentRowSpan/2);\r\n                const newRowSpan = currentRowSpan - newCell.rowSpan;\r\n\r\n                const rowSpanArr = [];\r\n                const nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\r\n\r\n                for (let i = 0, cells, colSpan; i < nextRowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    colSpan = 0;\r\n                    for (let c = 0, cLen = cells.length, cell, cs, logcalIndex; c < cLen; c++) {\r\n                        logcalIndex = c + colSpan;\r\n                        if (logcalIndex >= index) break;\r\n\r\n                        cell = cells[c];\r\n                        cs = cell.rowSpan - 1;\r\n                        if (cs > 0 && cs + i >= nextRowIndex && logcalIndex < index) {\r\n                            rowSpanArr.push({\r\n                                index: logcalIndex,\r\n                                cs: cell.colSpan\r\n                            });\r\n                        }\r\n                        colSpan += cell.colSpan - 1;\r\n                    }\r\n                }\r\n\r\n                const nextRow = rows[nextRowIndex];\r\n                const nextCells = nextRow.cells;\r\n                let rs = rowSpanArr.shift();\r\n\r\n                for (let c = 0, cLen = nextCells.length, colSpan = 0, cell, cs, logcalIndex, insertIndex; c < cLen; c++) {\r\n                    logcalIndex = c + colSpan;\r\n                    cell = nextCells[c];\r\n                    cs = cell.colSpan - 1;\r\n                    insertIndex = logcalIndex + cs + 1;\r\n\r\n                    if (rs && insertIndex >= rs.index) {\r\n                        colSpan += rs.cs;\r\n                        insertIndex += rs.cs;\r\n                        rs = rowSpanArr.shift();\r\n                    }\r\n                    \r\n                    if (insertIndex >= index || c === cLen - 1) {\r\n                        nextRow.insertBefore(newCell, cell.nextElementSibling);\r\n                        break;\r\n                    }\r\n\r\n                    colSpan += cs;\r\n                }\r\n\r\n                currentCell.rowSpan = newRowSpan;\r\n            } else { // rowspan - 1\r\n                newCell.rowSpan = currentCell.rowSpan;\r\n                const newRow = util.createElement('TR');\r\n                newRow.appendChild(newCell);\r\n\r\n                for (let i = 0, cells; i < rowIndex; i++) {\r\n                    cells = rows[i].cells;\r\n                    if (cells.length === 0) return;\r\n\r\n                    for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                        if (i + cells[c].rowSpan - 1 >= rowIndex) {\r\n                            cells[c].rowSpan += 1;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                const physicalIndex = contextTable._physical_cellIndex;\r\n                const cells = currentRow.cells;\r\n\r\n                for (let c = 0, cLen = cells.length; c < cLen; c++) {\r\n                    if (c === physicalIndex) continue;       \r\n                    cells[c].rowSpan += 1;                    \r\n                }\r\n\r\n                currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\r\n            }\r\n        }\r\n\r\n        this.focusEdge(currentCell);\r\n        this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\r\n    },\r\n\r\n    mergeCells: function () {\r\n        const tablePlugin = this.plugins.table;\r\n        const contextTable = this.context.table;\r\n        const util = this.util;\r\n\r\n        const ref = tablePlugin._ref;\r\n        const selectedCells = tablePlugin._selectedCells;\r\n        const mergeCell = selectedCells[0];\r\n        \r\n        let emptyRowFirst = null;\r\n        let emptyRowLast = null;\r\n        let cs = (ref.ce - ref.cs) + 1;\r\n        let rs = (ref.re - ref.rs) + 1;\r\n        let mergeHTML = '';\r\n        let row = null;\r\n\r\n        for (let i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\r\n            cell = selectedCells[i];\r\n            if (row !== cell.parentNode) row = cell.parentNode;\r\n\r\n            ch = cell.children;\r\n            for (let c = 0, cLen = ch.length; c < cLen; c++) {\r\n                if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\r\n                    util.removeItem(ch[c]);\r\n                }  \r\n            }\r\n\r\n            mergeHTML += cell.innerHTML;\r\n            util.removeItem(cell);\r\n\r\n            if (row.cells.length === 0) {\r\n                if (!emptyRowFirst) emptyRowFirst = row;\r\n                else emptyRowLast = row;\r\n                rs -= 1;\r\n            }\r\n        }\r\n\r\n        if (emptyRowFirst) {\r\n            const rows = contextTable._trElements;\r\n            const rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\r\n            const rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\r\n            const removeRows = [];\r\n    \r\n            for (let i = 0, cells; i <= rowIndexLast; i++) {\r\n                cells = rows[i].cells;\r\n                if (cells.length === 0) {\r\n                    removeRows.push(rows[i]);\r\n                    continue;\r\n                }\r\n    \r\n                for (let c = 0, cLen = cells.length, cell, rs; c < cLen; c++) {\r\n                    cell = cells[c];\r\n                    rs = cell.rowSpan - 1;\r\n                    if (rs > 0 && i + rs >= rowIndexFirst) {\r\n                        cell.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, i, i + rs);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = removeRows.length; i < len; i++) {\r\n                util.removeItem(removeRows[i]);\r\n            }\r\n        }\r\n\r\n        mergeCell.innerHTML += mergeHTML;\r\n        mergeCell.colSpan = cs;\r\n        mergeCell.rowSpan = rs;\r\n\r\n        this.controllersOff();\r\n        tablePlugin.setActiveButton.call(this, true, false);\r\n        tablePlugin.call_controller_tableEdit.call(this, mergeCell);\r\n\r\n        util.addClass(mergeCell, 'se-table-selected-cell');\r\n        this.focusEdge(mergeCell);\r\n    },\r\n\r\n    toggleHeader: function () {\r\n        const util = this.util;\r\n        const headerButton = this.context.table.headerButton;\r\n        const active = util.hasClass(headerButton, 'active');\r\n        const table = this.context.table._element;\r\n\r\n        if (!active) {\r\n            const header = util.createElement('THEAD');\r\n            header.innerHTML = '<tr>' + this.plugins.table.createCells.call(this, 'th', this.context.table._logical_cellCnt, false) + '</tr>';\r\n            table.insertBefore(header, table.firstElementChild);\r\n        } else {\r\n            util.removeItem(table.querySelector('thead'));\r\n        }\r\n\r\n        util.toggleClass(headerButton, 'active');\r\n\r\n        if (/TH/i.test(this.context.table._tdElement.nodeName)) {\r\n            this.controllersOff();\r\n        } else {\r\n            this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\r\n        }\r\n    },\r\n\r\n    setTableStyle: function (styles) {\r\n        const contextTable = this.context.table;\r\n        const tableElement = contextTable._element;\r\n        let icon, span, sizeIcon, text;\r\n\r\n        if (styles.indexOf('width') > -1) {\r\n            icon =  contextTable.resizeButton.firstElementChild;\r\n            span = contextTable.resizeText;\r\n\r\n            if (!contextTable._maxWidth) {\r\n                sizeIcon = contextTable.icons.expansion;\r\n                text = contextTable.maxText;\r\n                contextTable.columnFixedButton.style.display = 'none';\r\n                this.util.removeClass(tableElement, 'se-table-size-100');\r\n                this.util.addClass(tableElement, 'se-table-size-auto');\r\n            } else {\r\n                sizeIcon = contextTable.icons.reduction;\r\n                text = contextTable.minText;\r\n                contextTable.columnFixedButton.style.display = 'block';\r\n                this.util.removeClass(tableElement, 'se-table-size-auto');\r\n                this.util.addClass(tableElement, 'se-table-size-100');\r\n            }\r\n            \r\n            this.util.changeElement(icon, sizeIcon);\r\n            this.util.changeTxt(span, text);\r\n        }\r\n\r\n        if (styles.indexOf('column') > -1) {\r\n            if (!contextTable._fixedColumn) {\r\n                this.util.removeClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(tableElement, 'se-table-layout-auto');\r\n                this.util.removeClass(contextTable.columnFixedButton, 'active');\r\n            } else {\r\n                this.util.removeClass(tableElement, 'se-table-layout-auto');\r\n                this.util.addClass(tableElement, 'se-table-layout-fixed');\r\n                this.util.addClass(contextTable.columnFixedButton, 'active');\r\n            }\r\n            \r\n        }\r\n    },\r\n\r\n    setActiveButton: function (fixedCell, selectedCell) {\r\n        const contextTable = this.context.table;\r\n\r\n        if (/^TH$/i.test(fixedCell.nodeName)) {\r\n            contextTable.insertRowAboveButton.setAttribute('disabled', true);\r\n            contextTable.insertRowBelowButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.insertRowAboveButton.removeAttribute('disabled');\r\n            contextTable.insertRowBelowButton.removeAttribute('disabled');\r\n        }\r\n\r\n        if (!selectedCell || fixedCell === selectedCell) {\r\n            contextTable.splitButton.removeAttribute('disabled');\r\n            contextTable.mergeButton.setAttribute('disabled', true);\r\n        } else {\r\n            contextTable.splitButton.setAttribute('disabled', true);\r\n            contextTable.mergeButton.removeAttribute('disabled');\r\n        }\r\n    },\r\n\r\n    // multi selecte\r\n    _bindOnSelect: null,\r\n    _bindOffSelect: null,\r\n    _bindOffShift: null,\r\n    _selectedCells: null,\r\n    _shift: false,\r\n    _fixedCell: null,\r\n    _fixedCellName: null,\r\n    _selectedCell: null,\r\n    _selectedTable: null,\r\n    _ref: null,\r\n    _toggleEditor: function (enabled) {\r\n        this.context.element.wysiwyg.setAttribute('contenteditable', enabled);\r\n        if (enabled) this.util.removeClass(this.context.element.wysiwyg, 'se-disabled');\r\n        else this.util.addClass(this.context.element.wysiwyg, 'se-disabled');\r\n    },\r\n\r\n    _offCellMultiSelect: function (e) {\r\n        e.stopPropagation();\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._removeEvents.call(this);\r\n            tablePlugin._toggleEditor.call(this, true);\r\n        } else if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) return;\r\n        \r\n        tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\r\n        tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\r\n\r\n        tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        if (tablePlugin._selectedCell && tablePlugin._fixedCell) this.focusEdge(tablePlugin._selectedCell);\r\n\r\n        if (!tablePlugin._shift) {\r\n            tablePlugin._fixedCell = null;\r\n            tablePlugin._selectedCell = null;\r\n            tablePlugin._fixedCellName = null;\r\n        }\r\n    },\r\n\r\n    _onCellMultiSelect: function (e) {\r\n        this._antiBlur = true;\r\n        const tablePlugin = this.plugins.table;\r\n        const target = this.util.getParentElement(e.target, this.util.isCell);\r\n\r\n        if (tablePlugin._shift) {\r\n            if (target === tablePlugin._fixedCell) tablePlugin._toggleEditor.call(this, true);\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        } else if (!tablePlugin._ref) {\r\n            if (target === tablePlugin._fixedCell) return;\r\n            else tablePlugin._toggleEditor.call(this, false);\r\n        }\r\n\r\n        if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || \r\n            tablePlugin._selectedTable !== this.util.getParentElement(target, 'TABLE')) {\r\n            return;\r\n        }\r\n\r\n        tablePlugin._selectedCell = target;\r\n        tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\r\n    },\r\n\r\n    _setMultiCells: function (startCell, endCell) {\r\n        const tablePlugin = this.plugins.table;\r\n        const rows = tablePlugin._selectedTable.rows;\r\n        const util = this.util;\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        if (startCell === endCell) {\r\n            util.addClass(startCell, 'se-table-selected-cell');\r\n            if (!tablePlugin._shift) return;\r\n        }\r\n\r\n        let findSelectedCell = true;\r\n        let spanIndex = [];\r\n        let rowSpanArr = [];\r\n        const ref = tablePlugin._ref = {_i: 0, cs: null, ce: null, rs: null, re: null};\r\n\r\n        for (let i = 0, len = rows.length, cells, colSpan; i < len; i++) {\r\n            cells = rows[i].cells;\r\n            colSpan = 0;\r\n\r\n            for (let c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\r\n                cell = cells[c];\r\n                cs = cell.colSpan - 1;\r\n                rs = cell.rowSpan - 1;\r\n                logcalIndex = c + colSpan;\r\n\r\n                if (spanIndex.length > 0) {\r\n                    for (let r = 0, arr; r < spanIndex.length; r++) {\r\n                        arr = spanIndex[r];\r\n                        if (arr.row > i) continue;\r\n                        if (logcalIndex >= arr.index) {\r\n                            colSpan += arr.cs;\r\n                            logcalIndex += arr.cs;\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        } else if (c === cLen - 1) {\r\n                            arr.rs -= 1;\r\n                            arr.row = i + 1;\r\n                            if (arr.rs < 1) {\r\n                                spanIndex.splice(r, 1);\r\n                                r--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (findSelectedCell) {\r\n                    if (cell === startCell || cell === endCell) {\r\n                        ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                        ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                        ref.rs = ref.rs !== null && ref.rs < i ? ref.rs : i;\r\n                        ref.re = ref.re !== null && ref.re > i + rs ? ref.re : i + rs;\r\n                        ref._i += 1;\r\n                    }\r\n                    \r\n                    if (ref._i === 2) {\r\n                        findSelectedCell = false;\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        i = -1;\r\n                        break;\r\n                    }\r\n                } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, i, i + rs)) {\r\n                    const newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\r\n                    const newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\r\n                    const newRs = ref.rs < i ? ref.rs : i;\r\n                    const newRe = ref.re > i + rs ? ref.re : i + rs;\r\n\r\n                    if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\r\n                        ref.cs = newCs;\r\n                        ref.ce = newCe;\r\n                        ref.rs = newRs;\r\n                        ref.re = newRe;\r\n                        i = -1;\r\n\r\n                        spanIndex = [];\r\n                        rowSpanArr = [];\r\n                        break;\r\n                    }\r\n\r\n                    util.addClass(cell, 'se-table-selected-cell');\r\n                }\r\n\r\n                if (rs > 0) {\r\n                    rowSpanArr.push({\r\n                        index: logcalIndex,\r\n                        cs: cs + 1,\r\n                        rs: rs,\r\n                        row: -1\r\n                    });\r\n                }\r\n\r\n                colSpan += cell.colSpan - 1;\r\n            }\r\n\r\n            spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {return a.index - b.index;});\r\n            rowSpanArr = [];\r\n        }\r\n    },\r\n\r\n    _removeEvents: function () {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        if (tablePlugin._initBind) {\r\n            this._wd.removeEventListener('touchmove', tablePlugin._initBind);\r\n            tablePlugin._initBind = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOnSelect) {\r\n            this._wd.removeEventListener('mousedown', tablePlugin._bindOnSelect);\r\n            this._wd.removeEventListener('mousemove', tablePlugin._bindOnSelect);\r\n            tablePlugin._bindOnSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffSelect) {\r\n            this._wd.removeEventListener('mouseup', tablePlugin._bindOffSelect);\r\n            tablePlugin._bindOffSelect = null;\r\n        }\r\n\r\n        if (tablePlugin._bindOffShift) {\r\n            this._wd.removeEventListener('keyup', tablePlugin._bindOffShift);\r\n            tablePlugin._bindOffShift = null;\r\n        }\r\n    },\r\n\r\n    _initBind: null,\r\n    onTableCellMultiSelect: function (tdElement, shift) {\r\n        const tablePlugin = this.plugins.table;\r\n\r\n        tablePlugin._removeEvents.call(this);\r\n        this.controllersOff();\r\n\r\n        tablePlugin._shift = shift;\r\n        tablePlugin._fixedCell = tdElement;\r\n        tablePlugin._fixedCellName = tdElement.nodeName;\r\n        tablePlugin._selectedTable = this.util.getParentElement(tdElement, 'TABLE');\r\n\r\n        const selectedCells = tablePlugin._selectedTable.querySelectorAll('.se-table-selected-cell');\r\n        for (let i = 0, len = selectedCells.length; i < len; i++) {\r\n            this.util.removeClass(selectedCells[i], 'se-table-selected-cell');\r\n        }\r\n\r\n        this.util.addClass(tdElement, 'se-table-selected-cell');\r\n        \r\n        tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\r\n        tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\r\n\r\n        if (!shift) {\r\n            this._wd.addEventListener('mousemove', tablePlugin._bindOnSelect, false);\r\n        } else {\r\n            tablePlugin._bindOffShift = function () {\r\n                this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, 'table');\r\n                if (!tablePlugin._ref) this.controllersOff();\r\n            }.bind(this);\r\n\r\n            this._wd.addEventListener('keyup', tablePlugin._bindOffShift, false);\r\n            this._wd.addEventListener('mousedown', tablePlugin._bindOnSelect, false);\r\n        }\r\n\r\n        this._wd.addEventListener('mouseup', tablePlugin._bindOffSelect, false);\r\n        tablePlugin._initBind = tablePlugin.init.bind(this);\r\n        this._wd.addEventListener('touchmove', tablePlugin._initBind, false);\r\n    },\r\n\r\n    onClick_tableController: function (e) {\r\n        e.stopPropagation();\r\n        const target = e.target.getAttribute('data-command') ? e.target : e.target.parentNode;\r\n\r\n        if (target.getAttribute('disabled')) return;\r\n\r\n        const command = target.getAttribute('data-command');\r\n        const value = target.getAttribute('data-value');\r\n        const option = target.getAttribute('data-option');\r\n        const tablePlugin = this.plugins.table;\r\n        \r\n        if (typeof tablePlugin._closeSplitMenu === 'function') {\r\n            tablePlugin._closeSplitMenu();\r\n            if (command === 'onsplit') return;\r\n        }\r\n\r\n        if (!command) return;\r\n\r\n        e.preventDefault();\r\n        const contextTable = this.context.table;\r\n\r\n        switch (command) {\r\n            case 'insert':\r\n            case 'delete':\r\n                tablePlugin.editTable.call(this, value, option);\r\n                break;\r\n            case 'header':\r\n                tablePlugin.toggleHeader.call(this);\r\n                break;\r\n            case 'onsplit':\r\n                tablePlugin.openSplitMenu.call(this);\r\n                break;\r\n            case 'split':\r\n                tablePlugin.splitCells.call(this, value);\r\n                break;\r\n            case 'merge':\r\n                tablePlugin.mergeCells.call(this);\r\n                break;\r\n            case 'resize':\r\n                contextTable._maxWidth = !contextTable._maxWidth;\r\n                tablePlugin.setTableStyle.call(this, 'width');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'layout':\r\n                contextTable._fixedColumn = !contextTable._fixedColumn;\r\n                tablePlugin.setTableStyle.call(this, 'column');\r\n                tablePlugin.setPositionControllerTop.call(this, contextTable._element);\r\n                tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\r\n                break;\r\n            case 'remove':\r\n                const emptyDiv = contextTable._element.parentNode;\r\n                this.util.removeItem(contextTable._element);\r\n                this.controllersOff();\r\n\r\n                if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\r\n                this.focus();\r\n        }\r\n\r\n        // history stack\r\n        this.history.push(false);\r\n    }\r\n});\r\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'template',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.template = {};\n\n        /** set submenu */\n        let templateDiv = this.setSubmenu.call(core);\n\n        /** add event listeners */\n        templateDiv.querySelector('ul').addEventListener('click', this.pickup.bind(core));\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, templateDiv);\n\n        /** empty memory */\n        templateDiv = null;\n    },\n\n    setSubmenu: function () {\n        const templateList = this.context.option.templates;\n        if (!templateList || templateList.length === 0) {\n            throw Error('[SUNEDITOR.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n        }\n\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-list-layer';\n\n        let list = '<div class=\"se-submenu se-list-inner\">' +\n                '<ul class=\"se-list-basic\">';\n        for (let i = 0, len = templateList.length, t; i < len; i++) {\n            t = templateList[i];\n            list += '<li><button type=\"button\" class=\"se-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n    pickup: function (e) {\n        if (!/^BUTTON$/i.test(e.target.tagName)) return false;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const temp = this.context.option.templates[e.target.getAttribute('data-value')];\n\n        if (temp.html) {\n            this.setContents(temp.html);\n        } else {\n            this.submenuOff();\n            throw Error('[SUNEDITOR.template.fail] cause : \"templates[i].html not found\"');\n        }\n        \n        this.submenuOff();\n    }\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'textStyle',\n    display: 'submenu',\n    add: function (core, targetElement) {\n        const context = core.context;\n        context.textStyle = {\n            _styleList: null\n        };\n\n        /** set submenu */\n        let listDiv = this.setSubmenu.call(core);\n        let listUl = listDiv.querySelector('ul');\n\n        /** add event listeners */\n        listUl.addEventListener('click', this.pickup.bind(core));\n\n        context.textStyle._styleList = listDiv.querySelectorAll('li button');\n\n        /** append target button menu */\n        core.initMenuTarget(this.name, targetElement, listDiv);\n\n        /** empty memory */\n        listDiv = null, listUl = null;\n    },\n\n    setSubmenu: function () {\n        const option = this.context.option;\n        const listDiv = this.util.createElement('DIV');\n        listDiv.className = 'se-submenu se-list-layer se-list-format';\n\n        const defaultList = {\n            code: {\n                name: this.lang.menu.code,\n                class: '__se__t-code',\n                tag: 'code',\n            },\n            translucent: {\n                name: this.lang.menu.translucent,\n                style: 'opacity: 0.5;',\n                tag: 'span',\n            },\n            shadow: {\n                name: this.lang.menu.shadow,\n                class: '__se__t-shadow',\n                tag: 'span',\n            }\n        };\n        const styleList = !option.textStyles ? this._w.Object.keys(defaultList) : option.textStyles;\n\n        let list = '<div class=\"se-list-inner\"><ul class=\"se-list-basic\">';\n        for (let i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n            t = styleList[i];\n            attrs = '', value = '', command = [];\n\n            if (typeof t === 'string') {\n                const defaultStyle = defaultList[t.toLowerCase()];\n                if (!defaultStyle) continue;\n                t = defaultStyle;\n            }\n\n            name = t.name;\n            tag = t.tag || 'span';\n            _class = t._class;\n\n            if (t.style) {\n                attrs += ' style=\"' + t.style + '\"';\n                value += t.style.replace(/:[^;]+(;|$)\\s*/g, ',');\n                command.push('style');\n            }\n            if (t.class) {\n                attrs += ' class=\"' + t.class + '\"';\n                value += '.' + t.class.trim().replace(/\\s+/g, ',.');\n                command.push('class');\n            }\n\n            value = value.replace(/,$/, '');\n\n            list += '<li>' +\n                '<button type=\"button\" class=\"se-btn-list' + (_class ? ' ' + _class: '') + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' +\n                    '<' + tag + attrs + '>' + name +  '</' + tag + '>' +\n                '</button></li>';\n        }\n        list += '</ul></div>';\n\n        listDiv.innerHTML = list;\n\n        return listDiv;\n    },\n\n     /**\n     * @Override submenu\n     */\n    on: function () {\n        const util = this.util;\n        const textStyleContext = this.context.textStyle;\n        const styleButtonList = textStyleContext._styleList;\n        const selectionNode = this.getSelectionNode();\n\n        for (let i = 0, len = styleButtonList.length, btn, data, active; i < len; i++) {\n            btn = styleButtonList[i];\n            data = btn.getAttribute('data-value').split(',');\n            \n            for (let v = 0, node, value; v < data.length; v++) {\n                node = selectionNode;\n                active = false;\n                \n                while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n                    if (node.nodeName.toLowerCase() === btn.getAttribute('data-command').toLowerCase()) {\n                        value = data[v];\n                        if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, '')) : !!node.style[value]) {\n                            active = true;\n                            break;\n                        }\n                    }\n                    node = node.parentNode;\n                }\n\n                if (!active) break;\n            }\n\n            active ? util.addClass(btn, 'active') : util.removeClass(btn, 'active');\n        }\n\n    },\n\n    pickup: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        let target = e.target;\n        let command = null, tag = null;\n        \n        while (!command && !/UL/i.test(target.tagName)) {\n            command = target.getAttribute('data-command');\n            if (command) {\n                tag = target.firstChild;\n                break;\n            }\n            target = target.parentNode;\n        }\n\n        if (!command) return;\n\n        const checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, ',').split(',');\n        checkStyles.pop();\n\n        const classes = tag.classList;\n        for (let i = 0, len = classes.length; i < len; i++) {\n            checkStyles.push('.' + classes[i]);\n        }\n\n        const newNode = this.util.hasClass(target, 'active') ? null : tag.cloneNode(false);\n        const removeNodes = newNode ? null : [tag.nodeName];\n        this.nodeChange(newNode, checkStyles, removeNodes, true);\n\n        this.submenuOff();\n    }\n});\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'image',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n        \n        const context = core.context;\n        const contextImage = context.image = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            sizeUnit: context.option._imageSizeUnit,\n            _altText: '',\n            _linkElement: null,\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _v_link: {_linkValue: ''},\n            _v_src: {_linkValue: ''},\n            svgDefaultSize: '30%',\n            base64RenderIndex: 0,\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n            // @Override resizing properties\n            inputX: null,\n            inputY: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: 'auto',\n            _defaultSizeY: 'auto',\n            _origin_w: context.option.imageWidth === 'auto' ? '' : context.option.imageWidth,\n            _origin_h: context.option.imageHeight === 'auto' ? '' : context.option.imageHeight,\n            _proportionChecked: true,\n            _resizing: context.option.imageResizing,\n            _resizeDotHide: !context.option.imageHeightShow,\n            _rotation: context.option.imageRotation,\n            _onlyPercentage: context.option.imageSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: true,\n            _captionChecked: false,\n            _caption: null,\n            captionCheckEl: null\n        };\n\n        /** image dialog */\n        let image_dialog = this.setDialog.call(core);\n        contextImage.modal = image_dialog;\n        contextImage.imgInputFile = image_dialog.querySelector('._se_image_file');\n        contextImage.imgUrlFile = image_dialog.querySelector('._se_image_url');\n        contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n        contextImage.altText = image_dialog.querySelector('._se_image_alt');\n        contextImage.imgLink = image_dialog.querySelector('._se_image_link');\n        contextImage.imgLinkNewWindowCheck = image_dialog.querySelector('._se_image_link_check');\n        contextImage.captionCheckEl = image_dialog.querySelector('._se_image_check_caption');\n        contextImage.previewLink = image_dialog.querySelector('._se_tab_content_url .se-link-preview');\n        contextImage.previewSrc = image_dialog.querySelector('._se_tab_content_image .se-link-preview');\n\n        /** add event listeners */\n        image_dialog.querySelector('.se-dialog-tabs').addEventListener('click', this.openTab.bind(core));\n        image_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        if (contextImage.imgInputFile) image_dialog.querySelector('.se-file-remove').addEventListener('click', this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) contextImage.imgInputFile.addEventListener('change', this._fileInputChange.bind(contextImage));\n\n        contextImage.imgLink.addEventListener('input', this._onLinkPreview.bind(contextImage.previewLink, contextImage._v_link, context.options.linkProtocol));\n        if (contextImage.imgUrlFile) contextImage.imgUrlFile.addEventListener('input', this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, context.options.linkProtocol));\n\n        const imageGalleryButton = image_dialog.querySelector('.__se__gallery');\n        if (imageGalleryButton) imageGalleryButton.addEventListener('click', this._openGallery.bind(core));\n        \n        contextImage.proportion = {};\n        contextImage.inputX = {};\n        contextImage.inputY = {};\n        if (context.option.imageResizing) {\n            contextImage.proportion = image_dialog.querySelector('._se_image_check_proportion');\n            contextImage.inputX = image_dialog.querySelector('._se_image_size_x');\n            contextImage.inputY = image_dialog.querySelector('._se_image_size_y');\n            contextImage.inputX.value = context.option.imageWidth;\n            contextImage.inputY.value = context.option.imageHeight;\n            \n            contextImage.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextImage.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextImage.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextImage.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextImage.proportion.addEventListener('change', this.setRatio.bind(core));\n            \n            image_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(image_dialog);\n\n        /** empty memory */\n        image_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n\n        let html = '' +\n            '<div class=\"se-dialog-header\">' +\n                '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                    this.icons.cancel +\n                '</button>' +\n                '<span class=\"se-modal-title\">' + lang.dialogBox.imageBox.title + '</span>' +\n            '</div>' +\n            '<div class=\"se-dialog-tabs\">' +\n                '<button type=\"button\" class=\"_se_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + '</button>' +\n                '<button type=\"button\" class=\"_se_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + '</button>' +\n            '</div>' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"_se_tab_content _se_tab_content_image\">' +\n                    '<div class=\"se-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n                    \n                    if (option.imageFileInput) {\n                        html += '' +\n                            '<div class=\"se-dialog-form\">' +\n                                '<label>' + lang.dialogBox.imageBox.file + '</label>' +\n                                '<div class=\"se-dialog-form-files\">' +\n                                    '<input class=\"se-input-form _se_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                    '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\n                                '</div>' +\n                            '</div>' ;\n                    }\n        \n                    if (option.imageUrlInput) {\n                        html += '' +\n                            '<div class=\"se-dialog-form\">' +\n                                '<label>' + lang.dialogBox.imageBox.url + '</label>' +\n                                '<div class=\"se-dialog-form-files\">' +\n                                    '<input class=\"se-input-form se-input-url _se_image_url\" type=\"text\" />' +\n                                    ((option.imageGalleryUrl && this.plugins.imageGallery) ? '<button type=\"button\" class=\"se-btn se-dialog-files-edge-button __se__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + this.icons.image_gallery + '</button>' : '') +\n                                '</div>' +\n                                '<pre class=\"se-link-preview\"></pre>' +\n                            '</div>';\n                    }\n        \n                    html += '</div>' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.imageBox.altText + '</label><input class=\"se-input-form _se_image_alt\" type=\"text\" />' +\n                        '</div>';\n\n            if (option.imageResizing) {\n                const onlyPercentage = option.imageSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : '';\n                html += '<div class=\"se-dialog-form\">';\n                        if (onlyPercentage || !option.imageHeightShow) {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.size + '</label>' +\n                            '</div>';\n                        } else {\n                            html += '' +\n                            '<div class=\"se-dialog-size-text\">' +\n                                '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                                '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                                '<label class=\"size-h\">' + lang.dialogBox.height + '</label>' +\n                            '</div>';\n                        }\n                        html += '' +\n                            '<input class=\"se-input-control _se_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + ' />' +\n                            '<label class=\"se-dialog-size-x\"' + heightDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                            '<input type=\"text\" class=\"se-input-control _se_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                            '<label' + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                            '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\n                        '</div>' ;\n            }\n\n            html += '' +\n                        '<div class=\"se-dialog-form se-dialog-form-footer\">' +\n                            '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + '</label>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"_se_tab_content _se_tab_content_url\" style=\"display: none\">' +\n                    '<div class=\"se-dialog-body\">' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.linkBox.url + '</label><input class=\"se-input-form se-input-url _se_image_link\" type=\"text\" />' +\n                            '<pre class=\"se-link-preview\"></pre>' +\n                        '</div>' +\n                        '<label><input type=\"checkbox\" class=\"_se_image_link_check\"/>&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_image_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    _fileInputChange: function () {\n        if (!this.imgInputFile.value) {\n            this.imgUrlFile.removeAttribute('disabled');\n            this.previewSrc.style.textDecoration = '';\n        } else {\n            this.imgUrlFile.setAttribute('disabled', true);\n            this.previewSrc.style.textDecoration = 'line-through';\n        }\n    },\n\n    _removeSelectedFiles: function (urlInput, previewSrc) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            previewSrc.style.textDecoration = '';\n        }\n    },\n\n    _openGallery: function () {\n        this.callPlugin('imageGallery', this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n    },\n\n    _setUrlInput: function (target) {\n        this.altText.value = target.alt;\n        this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n        this.imgUrlFile.focus();\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['img'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'image'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n        const imageEl = element || this.context.image._element;\n        const imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n        const dataIndex = imageEl.getAttribute('data-index') * 1;\n        let focusEl = (imageContainer.previousElementSibling || imageContainer.nextElementSibling);\n        \n        const emptyDiv = imageContainer.parentNode;\n        this.util.removeItem(imageContainer);\n        this.plugins.image.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n        \n        // event\n        this.plugins.fileManager.deleteInfo.call(this, 'image', dataIndex, this.functions.onImageUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextImage = this.context.image;\n        \n        if (!update) {\n            contextImage.inputX.value = contextImage._origin_w = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n            contextImage.inputY.value = contextImage._origin_h = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n            if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.setAttribute('multiple', 'multiple');\n        } else {\n            if (contextImage.imgInputFile && this.context.options.imageMultipleFile) contextImage.imgInputFile.removeAttribute('multiple');\n        }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'image', 'image' === this.currentControllerName);\n    },\n\n    openTab: function (e) {\n        const modal = this.context.image.modal;\n        const targetElement = (e === 'init' ? modal.querySelector('._se_tab_link') : e.target);\n\n        if (!/^BUTTON$/i.test(targetElement.tagName)) {\n            return false;\n        }\n\n        // Declare all variables\n        const tabName = targetElement.getAttribute('data-tab-link');\n        const contentClassName = '_se_tab_content';\n        let i, tabContent, tabLinks;\n\n        // Get all elements with class=\"tabcontent\" and hide them\n        tabContent = modal.getElementsByClassName(contentClassName);\n        for (i = 0; i < tabContent.length; i++) {\n            tabContent[i].style.display = 'none';\n        }\n\n        // Get all elements with class=\"tablinks\" and remove the class \"active\"\n        tabLinks = modal.getElementsByClassName('_se_tab_link');\n        for (i = 0; i < tabLinks.length; i++) {\n            this.util.removeClass(tabLinks[i], 'active');\n        }\n\n        // Show the current tab, and add an \"active\" class to the button that opened the tab\n        modal.querySelector('.' + contentClassName + '_' + tabName).style.display = 'block';\n        this.util.addClass(targetElement, 'active');\n\n        // focus\n        if (tabName === 'image' && this.context.image.focusElement) {\n            this.context.image.focusElement.focus();\n        } else if (tabName === 'url' && this.context.image.imgLink) {\n            this.context.image.imgLink.focus();\n        }\n\n        return false;\n    },\n\n    submit: function (e) {\n        const contextImage = this.context.image;\n        const imagePlugin = this.plugins.image;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        contextImage._altText = contextImage.altText.value;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked;\n        if (contextImage._resizing) contextImage._proportionChecked = contextImage.proportion.checked;\n\n        try {\n            if (this.context.dialog.updateModal) {\n                imagePlugin.update_image.call(this, false, true, false);\n            }\n            \n            if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n                this.showLoading();\n                imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n            } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n                this.showLoading();\n                imagePlugin.onRender_imgUrl.call(this);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.image.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/image/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.context.option.imageUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const imagesInfo = this.context.image._infoList;\n            for (let i = 0, len = imagesInfo.length; i < len; i++) {\n                infoSize += imagesInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.imageUpload.fail] Size of uploadable total images: ' + (limitSize/1000) + 'KB';\n                if (this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextImage = this.context.image;\n        contextImage._uploadFileLength = files.length;\n        \n        const info = {\n            linkValue: contextImage._v_link._linkValue,\n            linkNewWindow: contextImage.imgLinkNewWindowCheck.checked,\n            inputWidth: contextImage.inputX.value,\n            inputHeight: contextImage.inputY.value,\n            align: contextImage._align,\n            isUpdate: this.context.dialog.updateModal,\n            element: contextImage._element\n        };\n\n        if (typeof this.functions.onImageUploadBefore === 'function') {\n            const result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.image.register.call(this, info, data);\n                } else {\n                    this.plugins.image.upload.call(this, info, data);\n                }\n            }.bind(this));\n            \n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (this._w.Array.isArray(result) && result.length > 0) files = result;\n        }\n\n        this.plugins.image.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onImageUploadError !== 'function' || this.functions.onImageUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.image.error] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.image.error.call(this, files, null);\n            return;\n        }\n\n        const imageUploadUrl = this.context.option.imageUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // server upload\n        if (typeof imageUploadUrl === 'string' && imageUploadUrl.length > 0) {\n            const formData = new FormData();\n            for (let i = 0; i < filesLen; i++) {\n                formData.append('file-' + i, files[i]);\n            }\n            this.plugins.fileManager.upload.call(this, imageUploadUrl, this.context.option.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n        } else { // base64\n            this.plugins.image.setup_reader.call(this, files, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n        }\n    },\n\n    callBack_imgUpload: function (info, xmlHttp) {\n        if (typeof this.functions.imageUploadHandler === 'function') {\n            this.functions.imageUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.image.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.image.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\n            file = { name: fileList[i].name, size: fileList[i].size };\n            if (info.isUpdate) {\n                this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n                break;\n            } else {\n                this.plugins.image.create_image.call(this, fileList[i].url, info.linkValue, info.linkNewWindow, info.inputWidth, info.inputHeight, info.align, file);\n            }\n        }\n        \n        this.closeLoading();\n    },\n\n    setup_reader: function (files, imgLinkValue, newWindowCheck, width, height, align, filesLen, isUpdate) {\n        try {\n            this.context.image.base64RenderIndex = filesLen;\n            const wFileReader = this._w.FileReader;\n            const filesStack = [filesLen];\n            this.context.image.inputX.value = width;\n            this.context.image.inputY.value = height;\n    \n            for (let i = 0, reader, file; i < filesLen; i++) {\n                reader = new wFileReader();\n                file = files[i];\n    \n                reader.onload = function (reader, update, updateElement, file, index) {\n                    filesStack[index] = { result: reader.result, file: file };\n\n                    if (--this.context.image.base64RenderIndex === 0) {\n                        this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, imgLinkValue, newWindowCheck, width, height, align);\n                        this.closeLoading();\n                    }\n                }.bind(this, reader, isUpdate, this.context.image._element, file, i);\n\n                reader.readAsDataURL(file);\n            }\n        } catch (e) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.image.setup_reader.fail] cause : \"' + e.message + '\"');\n        }\n    },\n\n    onRender_imgBase64: function (update, filesStack, updateElement, imgLinkValue, newWindowCheck, width, height, align) {\n        const updateMethod = this.plugins.image.update_src;\n        const createMethod = this.plugins.image.create_image;\n        \n        for (let i = 0, len = filesStack.length; i < len; i++) {\n            if (update) {\n                this.context.image._element.setAttribute('data-file-name', filesStack[i].file.name);\n                this.context.image._element.setAttribute('data-file-size', filesStack[i].file.size);\n                updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n            } else {\n                createMethod.call(this, filesStack[i].result, imgLinkValue, newWindowCheck, width, height, align, filesStack[i].file);\n            }\n        }\n    },\n\n    onRender_imgUrl: function () {\n        const contextImage = this.context.image;\n        if (contextImage._v_src._linkValue.length === 0) return false;\n\n        try {\n            const file = {name: contextImage._v_src._linkValue.split('/').pop(), size: 0};\n            if (this.context.dialog.updateModal) this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\n            else this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, contextImage._v_link._linkValue, contextImage.imgLinkNewWindowCheck.checked, contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n        } catch (e) {\n            throw Error('[SUNEDITOR.image.URLRendering.fail] cause : \"' + e.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    onRender_link: function (imgTag, imgLinkValue, newWindowCheck) {\n        if (imgLinkValue.trim().length > 0) {\n            const link = this.util.createElement('A');\n            link.href = /^https?:\\/\\//.test(imgLinkValue) ? imgLinkValue : 'http://' + imgLinkValue;\n            link.target = (newWindowCheck ? '_blank' : '');\n            link.setAttribute('data-image-link', 'image');\n            imgTag.setAttribute('data-image-link', imgLinkValue);\n\n            link.appendChild(imgTag);\n            return link;\n        }\n\n        return imgTag;\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.image);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        const imagePlugin = this.plugins.image;\n\n        const modifyHandler = function (tag) {\n            imagePlugin.onModifyMode.call(this, tag, null);\n            imagePlugin.openModify.call(this, true);\n            imagePlugin.update_image.call(this, true, false, true);\n        }.bind(this);\n\n        this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'image', this.functions.onImageUpload);\n    },\n\n    create_image: function (src, linkValue, linkNewWindow, width, height, align, file) {\n        const imagePlugin = this.plugins.image;\n        const contextImage = this.context.image;\n        this.context.resizing._resize_plugin = 'image';\n\n        let oImg = this.util.createElement('IMG');\n        oImg.src = src;\n        oImg.alt = contextImage._altText;\n        oImg = imagePlugin.onRender_link.call(this, oImg, linkValue, linkNewWindow);\n        oImg.setAttribute('data-rotate', '0');\n\n        if (contextImage._resizing) {\n            oImg.setAttribute('data-proportion', contextImage._proportionChecked);\n        }\n\n        const cover = this.plugins.component.set_cover.call(this, oImg);\n        const container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n\n        // caption\n        if (contextImage._captionChecked) {\n            contextImage._caption = this.plugins.component.create_caption.call(this);\n            contextImage._caption.setAttribute('contenteditable', false);\n            cover.appendChild(contextImage._caption);\n        }\n\n        contextImage._element = oImg;\n        contextImage._cover = cover;\n        contextImage._container = container;\n\n        // set size\n        imagePlugin.applySize.call(this, width, height);\n\n        // align\n        imagePlugin.setAlign.call(this, align, oImg, cover, container);\n\n        oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize);\n        if (this.insertComponent(container, true, true, true)) this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\n        this.context.resizing._resize_plugin = '';\n    },\n\n    _image_create_onload: function (oImg, svgDefaultSize) {\n        // svg exception handling\n        if (oImg.offsetWidth === 0) this.plugins.image.applySize.call(this, svgDefaultSize, '');\n        this.selectComponent.call(this, oImg, 'image');\n    },\n\n    update_image: function (init, openController, notHistoryPush) {\n        const contextImage = this.context.image;\n        const linkValue = contextImage._v_link._linkValue;\n        let imageEl = contextImage._element;\n        let cover = contextImage._cover;\n        let container = contextImage._container;\n        let isNewContainer = false;\n\n        if (cover === null) {\n            isNewContainer = true;\n            imageEl = contextImage._element.cloneNode(true);\n            cover = this.plugins.component.set_cover.call(this, imageEl);\n        }\n\n        if (container === null) {\n            cover = cover.cloneNode(true);\n            imageEl = cover.querySelector('img');\n            isNewContainer = true;\n            container = this.plugins.component.set_container.call(this, cover, 'se-image-container');\n        } else if (isNewContainer) {\n            container.innerHTML = '';\n            container.appendChild(cover);\n            contextImage._cover = cover;\n            contextImage._element = imageEl;\n            isNewContainer = false;\n        }\n\n        // check size\n        let changeSize;\n        const x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n        const y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n        if (/%$/.test(imageEl.style.width)) {\n            changeSize = x !== container.style.width || y !== container.style.height;\n        } else {\n            changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n        }\n\n        // alt\n        imageEl.alt = contextImage._altText;\n        \n        // caption\n        let modifiedCaption = false;\n        if (contextImage._captionChecked) {\n            if (!contextImage._caption) {\n                contextImage._caption = this.plugins.component.create_caption.call(this);\n                cover.appendChild(contextImage._caption);\n                modifiedCaption = true;\n            }\n        } else {\n            if (contextImage._caption) {\n                this.util.removeItem(contextImage._caption);\n                contextImage._caption = null;\n                modifiedCaption = true;\n            }\n        }\n\n        // link\n        if (linkValue.trim().length > 0) {\n            if (contextImage._linkElement !== null && cover.contains(contextImage._linkElement)) {\n                contextImage._linkElement.href = linkValue;\n                contextImage._linkElement.target = (contextImage.imgLinkNewWindowCheck.checked ? '_blank' : '');\n                imageEl.setAttribute('data-image-link', linkValue);\n            } else {\n                let newEl = this.plugins.image.onRender_link.call(this, imageEl, linkValue, this.context.image.imgLinkNewWindowCheck.checked);\n                cover.insertBefore(newEl, contextImage._caption);\n            }\n        }\n        else if (contextImage._linkElement !== null) {\n            const imageElement = imageEl;\n\n            imageElement.setAttribute('data-image-link', '');\n            let newEl = imageElement.cloneNode(true);\n            cover.removeChild(contextImage._linkElement);\n            cover.insertBefore(newEl, contextImage._caption);\n            imageEl = newEl;\n        }\n\n        if (isNewContainer) {\n            const existElement = (this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode)) ? \n                contextImage._element : \n                /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n                \n            if (this.util.isFormatElement(existElement) && existElement.textContent.length > 0) {\n                existElement.parentNode.insertBefore(container, existElement.nextElementSibling);\n                this.util.removeItem(contextImage._element);\n            } else {\n                existElement.parentNode.replaceChild(container, existElement);\n            }\n\n            imageEl = container.querySelector('img');\n\n            contextImage._element = imageEl;\n            contextImage._cover = cover;\n            contextImage._container = container;\n        }\n\n        // transform\n        if (modifiedCaption || (!contextImage._onlyPercentage && changeSize)) {\n            if (!init && (/\\d+/.test(imageEl.style.height) || (this.context.resizing._rotateVertical && contextImage._captionChecked))) {\n                if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n                    this.plugins.resizing.resetTransform.call(this, imageEl);\n                } else {\n                    this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n                }\n            }\n        }\n\n        // size\n        let isPercent = false;\n        if (contextImage._resizing) {\n            imageEl.setAttribute('data-proportion', contextImage._proportionChecked);\n            if (changeSize) {\n                this.plugins.image.applySize.call(this);\n            }\n        }\n\n        // align\n        if (!(isPercent && contextImage._align === 'center')) {\n            this.plugins.image.setAlign.call(this, null, imageEl, null, null);\n        }\n\n        // set imagesInfo\n        if (init) {\n            this.plugins.fileManager.setInfo.call(this, 'image', imageEl, this.functions.onImageUpload, null, true);\n        }\n\n        if (openController) {\n            this.selectComponent(imageEl, 'image');\n        }\n\n        // history stack\n        if (!notHistoryPush) this.history.push(false);\n    },\n\n    update_src: function (src, element, file) {\n        element.src = src;\n        this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, 'image', element, this.functions.onImageUpload, file, true));\n        this.selectComponent(element, 'image');\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n        if (!element) return;\n        \n        const contextImage = this.context.image;\n        contextImage._linkElement = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n        contextImage._element = element;\n        contextImage._cover = this.util.getParentElement(element, 'FIGURE');\n        contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n        contextImage._caption = this.util.getChildElement(contextImage._cover, 'FIGCAPTION');\n        contextImage._align = element.getAttribute('data-align') || 'none';\n\n        if (size) {\n            contextImage._element_w = size.w;\n            contextImage._element_h = size.h;\n            contextImage._element_t = size.t;\n            contextImage._element_l = size.l;\n        }\n\n        let userSize = contextImage._element.getAttribute('data-size') || contextImage._element.getAttribute('data-origin');\n        if (userSize) {\n            userSize = userSize.split(',');\n            contextImage._origin_w = userSize[0];\n            contextImage._origin_h = userSize[1];\n        } else if (size) {\n            contextImage._origin_w = size.w;\n            contextImage._origin_h = size.h;\n        }\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        const contextImage = this.context.image;\n        if (contextImage.imgUrlFile) {\n            contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n        }\n        contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n        contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = contextImage._linkElement === null ? '' : contextImage._linkElement.href;\n        contextImage.imgLinkNewWindowCheck.checked = contextImage._linkElement && contextImage._linkElement.target === '_blank';\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n        contextImage._align = contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"]:checked').value;\n        contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n        \n        if (contextImage._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'image', true);\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n    },\n\n    /**\n     * @Override resizing\n     */\n    applySize: function (w, h) {\n        const contextImage = this.context.image;\n\n        if (!w) w = contextImage.inputX.value || this.context.option.imageWidth;\n        if (!h) h = contextImage.inputY.value || this.context.option.imageHeight;\n        \n        if ((contextImage._onlyPercentage && !!w) || /%$/.test(w)) {\n            this.plugins.image.setPercentSize.call(this, w, h);\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.image.setAutoSize.call(this);\n        } else {\n            this.plugins.image.setSize.call(this, w, h, false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextImage = this.context.image;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        if (!onlyH) contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n        if (!onlyW) contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? '' : h;\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n        if (!notResetPercentage) contextImage._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n        const contextImage = this.context.image;\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        contextImage._element.style.maxWidth = '';\n        contextImage._element.style.width = '';\n        contextImage._element.style.height = '';\n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n\n        this.plugins.image.setAlign.call(this, null, null, null, null);\n        contextImage._element.setAttribute('data-percentage', 'auto,auto');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n    \n    /**\n     * @Override resizing\n     */\n    setOriginSize: function () {\n        const contextImage = this.context.image;\n        contextImage._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextImage._element);\n        this.plugins.image.cancelPercentAttr.call(this);\n\n        const originSize = (contextImage._element.getAttribute('data-origin') || '').split(',');\n        const w = originSize[0];\n        const h = originSize[1];\n\n        if (originSize) {\n            if (contextImage._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.image.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.image.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextImage = this.context.image;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : (h || '');\n        const heightPercentage = /%$/.test(h);\n\n        contextImage._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextImage._container.style.height = '';\n        contextImage._cover.style.width = '100%';\n        contextImage._cover.style.height = !heightPercentage ? '' : h;\n        contextImage._element.style.width = '100%';\n        contextImage._element.style.height = heightPercentage ? '' : h;\n        contextImage._element.style.maxWidth = '';\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n\n        contextImage._element.setAttribute('data-percentage', w + ',' + h);\n        this.plugins.resizing.setCaptionPosition.call(this, contextImage._element);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n        const contextImage = this.context.image;\n        \n        contextImage._cover.style.width = '';\n        contextImage._cover.style.height = '';\n        contextImage._container.style.width = '';\n        contextImage._container.style.height = '';\n\n        this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n        this.util.addClass(contextImage._container, '__se__float-' + contextImage._align);\n\n        if (contextImage._align === 'center') this.plugins.image.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextImage = this.context.image;\n        \n        if (!align) align = contextImage._align;\n        if (!element) element = contextImage._element;\n        if (!cover) cover = contextImage._cover;\n        if (!container) container = contextImage._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : ((!element.style.width || element.style.width === 'auto') ? '' : element.style.width || '100%');\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextImage._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    resetAlign: function () {\n        const contextImage = this.context.image;\n\n        contextImage._element.setAttribute('data-align', '');\n        contextImage._align = 'none';\n        contextImage._cover.style.margin = '0';\n        this.util.removeClass(contextImage._container, contextImage._floatClassRegExp);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        const contextImage = this.context.image;\n        if (contextImage.imgInputFile) contextImage.imgInputFile.value = '';\n        if (contextImage.imgUrlFile) contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = '';\n        if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n            contextImage.imgUrlFile.removeAttribute('disabled');\n            contextImage.previewSrc.style.textDecoration = '';\n        }\n\n        contextImage.altText.value = '';\n        contextImage._v_link._linkValue = contextImage.previewLink.textContent = contextImage.imgLink.value = '';\n        contextImage.imgLinkNewWindowCheck.checked = false;\n        contextImage.modal.querySelector('input[name=\"suneditor_image_radio\"][value=\"none\"]').checked = true;\n        contextImage.captionCheckEl.checked = false;\n        contextImage._element = null;\n        this.plugins.image.openTab.call(this, 'init');\n\n        if (contextImage._resizing) {\n            contextImage.inputX.value = this.context.option.imageWidth === contextImage._defaultSizeX ? '' : this.context.option.imageWidth;\n            contextImage.inputY.value = this.context.option.imageHeight === contextImage._defaultSizeY ? '' : this.context.option.imageHeight;\n            contextImage.proportion.checked = true;\n            contextImage._ratio = false;\n            contextImage._ratioX = 1;\n            contextImage._ratioY = 1;\n        }\n    }\n});\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'link',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a]);\n\n        const context = core.context;\n        context.link = {\n            focusElement: null,\n            linkNewWindowCheck: null,\n            linkAnchorText: null,\n            _linkAnchor: null,\n            _linkValue: ''\n        };\n\n        /** link dialog */\n        let link_dialog = this.setDialog.call(core);\n        context.link.modal = link_dialog;\n        context.link.focusElement = link_dialog.querySelector('._se_link_url');\n        context.link.linkAnchorText = link_dialog.querySelector('._se_link_text');\n        context.link.linkNewWindowCheck = link_dialog.querySelector('._se_link_check');\n        context.link.preview = link_dialog.querySelector('.se-link-preview');\n\n        /** link controller */\n        let link_controller = this.setController_LinkButton.call(core);\n        context.link.linkController = link_controller;\n        context.link._linkAnchor = null;\n        link_controller.addEventListener('mousedown', core.eventStop);\n\n        /** add event listeners */\n        link_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        link_controller.addEventListener('click', this.onClick_linkController.bind(core));\n        context.link.focusElement.addEventListener('input', this._onLinkPreview.bind(context.link.preview, context.link, context.options.linkProtocol));\n\n        /** append html */\n        context.dialog.modal.appendChild(link_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(link_controller);\n\n        /** empty memory */\n        link_dialog = null, link_controller = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        dialog.innerHTML = '' +\n            '<form class=\"editor_link\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        this.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.linkBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<label>' + lang.dialogBox.linkBox.url + '</label>' +\n                        '<input class=\"se-input-form se-input-url _se_link_url\" type=\"text\" />' +\n                        '<pre class=\"se-link-preview\"></pre>' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<label>' + lang.dialogBox.linkBox.text + '</label><input class=\"se-input-form _se_link_text\" type=\"text\" />' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form-footer\">' +\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_link_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + '</label>' +\n                    '</div>' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        return dialog;\n    },\n\n    /** modify controller button */\n    setController_LinkButton: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const link_btn = this.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.unlink +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.unlink + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-btn se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    /**\n     * @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'link', 'link' === this.currentControllerName);\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    submit: function (e) {\n        this.showLoading();\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        const submitAction = function () {\n            const contextLink = this.context.link;\n            if (contextLink._linkValue.length === 0) return false;\n            \n            const url = contextLink._linkValue;\n            const anchor = contextLink.linkAnchorText;\n            const anchorText = anchor.value.length === 0 ? url : anchor.value;\n\n            if (!this.context.dialog.updateModal) {\n                const oA = this.util.createElement('A');\n                oA.href = url;\n                oA.textContent = anchorText;\n                oA.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\n\n                const selectedFormats = this.getSelectedElements();\n                if (selectedFormats.length > 1) {\n                    const oFormat = this.util.createElement(selectedFormats[0].nodeName);\n                    oFormat.appendChild(oA);\n                    if (!this.insertNode(oFormat, null, true)) return;\n                } else {\n                    if (!this.insertNode(oA, null, true)) return;\n                }\n\n                this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n            } else {\n                contextLink._linkAnchor.href = url;\n                contextLink._linkAnchor.textContent = anchorText;\n                contextLink._linkAnchor.target = (contextLink.linkNewWindowCheck.checked ? '_blank' : '');\n\n                // set range\n                const textNode = contextLink._linkAnchor.childNodes[0];\n                this.setRange(textNode, 0, textNode, textNode.textContent.length);\n            }\n\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink.linkAnchorText.value = '';\n        }.bind(this);\n\n        try {\n            submitAction();\n        } finally {\n            this.plugins.dialog.close.call(this);\n            this.closeLoading();\n            // history stack\n            this.history.push(false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override core\n     */\n    active: function (element) {\n        if (!element) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n                this.controllersOff();\n            }\n        } else if (this.util.isAnchor(element) && element.getAttribute('data-image-link') === null) {\n            if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n                this.plugins.link.call_controller.call(this, element);\n            }\n            return true;\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override dialog\n     */\n    on: function (update) {\n        const contextLink = this.context.link;\n        if (!update) {\n            this.plugins.link.init.call(this);\n            contextLink.linkAnchorText.value = this.getSelection().toString();\n        } else if (contextLink._linkAnchor) {\n            this.context.dialog.updateModal = true;\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n            contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n            contextLink.linkNewWindowCheck.checked = (/_blank/i.test(contextLink._linkAnchor.target) ? true : false);\n        }\n    },\n\n    call_controller: function (selectionATag) {\n        this.editLink = this.context.link._linkAnchor = selectionATag;\n        const linkBtn = this.context.link.linkController;\n        const link = linkBtn.querySelector('a');\n\n        link.href = selectionATag.href;\n        link.title = selectionATag.textContent;\n        link.textContent = selectionATag.textContent;\n\n        this.setControllerPosition(linkBtn, selectionATag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(linkBtn, selectionATag, 'link');\n    },\n\n    onClick_linkController: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command') || e.target.parentNode.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            const contextLink = this.context.link;\n            contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = contextLink._linkAnchor.href;\n            contextLink.linkAnchorText.value = contextLink._linkAnchor.textContent;\n            contextLink.linkNewWindowCheck.checked = (/_blank/i.test(contextLink._linkAnchor.target) ? true : false);\n            this.plugins.dialog.open.call(this, 'link', true);\n        }\n        else if (/unlink/.test(command)) {\n            const sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\n            const ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\n            this.setRange(sc, 0, ec, ec.textContent.length);\n            this.nodeChange(null, null, ['A'], false);\n        }\n        else {\n            /** delete */\n            this.util.removeItem(this.context.link._linkAnchor);\n            this.context.link._linkAnchor = null;\n            this.focus();\n\n            // history stack\n            this.history.push(false);\n        }\n\n        this.controllersOff();\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        const contextLink = this.context.link;\n        contextLink.linkController.style.display = 'none';\n        contextLink._linkAnchor = null;\n        contextLink._linkValue = contextLink.preview.textContent = contextLink.focusElement.value = '';\n        contextLink.linkAnchorText.value = '';\n        contextLink.linkNewWindowCheck.checked = false;\n    }\n});\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_resizing__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_3__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'video',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_resizing__WEBPACK_IMPORTED_MODULE_2___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_3___default.a]);\n\n        const context = core.context;\n        const contextVideo = context.video = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            sizeUnit: context.option._videoSizeUnit,\n            _align: 'none',\n            _floatClassRegExp: '__se__float\\\\-[a-z]+',\n            _youtubeQuery: context.option.youtubeQuery,\n            _videoRatio: (context.option.videoRatio * 100) + '%',\n            _defaultRatio: (context.option.videoRatio * 100) + '%',\n            _linkValue: '',\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n            // @Override resizing properties\n            inputX: null,\n            inputY: null,\n            _element_w: 1,\n            _element_h: 1,\n            _element_l: 0,\n            _element_t: 0,\n            _defaultSizeX: '100%',\n            _defaultSizeY: (context.option.videoRatio * 100) + '%',\n            _origin_w: context.option.videoWidth === '100%' ? '' : context.option.videoWidth,\n            _origin_h: context.option.videoHeight === '56.25%' ? '' : context.option.videoHeight,\n            _proportionChecked: true,\n            _resizing: context.option.videoResizing,\n            _resizeDotHide: !context.option.videoHeightShow,\n            _rotation: context.option.videoRotation,\n            _onlyPercentage: context.option.videoSizeOnlyPercentage,\n            _ratio: false,\n            _ratioX: 1,\n            _ratioY: 1,\n            _captionShow: false\n        };\n\n        /** video dialog */\n        let video_dialog = this.setDialog.call(core);\n        contextVideo.modal = video_dialog;\n        contextVideo.videoInputFile = video_dialog.querySelector('._se_video_file');\n        contextVideo.videoUrlFile = video_dialog.querySelector('.se-input-url');\n        contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n        contextVideo.preview = video_dialog.querySelector('.se-link-preview');\n\n        /** add event listeners */\n        video_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        if (contextVideo.videoInputFile) video_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) contextVideo.videoInputFile.addEventListener('change', this._fileInputChange.bind(contextVideo));\n        if (contextVideo.videoUrlFile) contextVideo.videoUrlFile.addEventListener('input', this._onLinkPreview.bind(contextVideo.preview, contextVideo, context.options.linkProtocol));\n\n        contextVideo.proportion = {};\n        contextVideo.videoRatioOption = {};\n        contextVideo.inputX = {};\n        contextVideo.inputY = {};\n        if (context.option.videoResizing) {\n            contextVideo.proportion = video_dialog.querySelector('._se_video_check_proportion');\n            contextVideo.videoRatioOption = video_dialog.querySelector('.se-video-ratio');\n            contextVideo.inputX = video_dialog.querySelector('._se_video_size_x');\n            contextVideo.inputY = video_dialog.querySelector('._se_video_size_y');\n            contextVideo.inputX.value = context.option.videoWidth;\n            contextVideo.inputY.value = context.option.videoHeight;\n\n            contextVideo.inputX.addEventListener('keyup', this.setInputSize.bind(core, 'x'));\n            contextVideo.inputY.addEventListener('keyup', this.setInputSize.bind(core, 'y'));\n\n            contextVideo.inputX.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.inputY.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.proportion.addEventListener('change', this.setRatio.bind(core));\n            contextVideo.videoRatioOption.addEventListener('change', this.setVideoRatio.bind(core));\n\n            video_dialog.querySelector('.se-dialog-btn-revert').addEventListener('click', this.sizeRevert.bind(core));\n        }\n\n        /** append html */\n        context.dialog.modal.appendChild(video_dialog);\n\n        /** empty memory */\n        video_dialog = null;\n    },\n\n    /** dialog */\n    setDialog: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        this.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.videoBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">';\n\n                if (option.videoFileInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.videoBox.file + '</label>' +\n                            '<div class=\"se-dialog-form-files\">' +\n                                '<input class=\"se-input-form _se_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\n                            '</div>' +\n                        '</div>' ;\n                }\n    \n                if (option.videoUrlInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.videoBox.url + '</label>' +\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\n                            '<pre class=\"se-link-preview\"></pre>' +\n                        '</div>';\n                }\n\n            if (option.videoResizing) {\n                const ratioList = option.videoRatioList || [{name: '16:9', value: 0.5625}, {name: '4:3', value: 0.75}, {name: '21:9', value: 0.4285}];\n                const ratio = option.videoRatio;\n                const onlyPercentage = option.videoSizeOnlyPercentage;\n                const onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : '';\n                const heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : '';\n                const ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                const onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : '';\n                html += '' +\n                    '<div class=\"se-dialog-form\">' +\n                        '<div class=\"se-dialog-size-text\">' +\n                            '<label class=\"size-w\">' + lang.dialogBox.width + '</label>' +\n                            '<label class=\"se-dialog-size-x\">&nbsp;</label>' +\n                            '<label class=\"size-h\"' + heightDisplay + '>' + lang.dialogBox.height + '</label>' +\n                            '<label class=\"size-h\"' + ratioDisplay + '>(' + lang.dialogBox.ratio + ')</label>' +\n                        '</div>' +\n                        '<input class=\"se-input-control _se_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + '/>' +\n                        '<label class=\"se-dialog-size-x\"' + onlyWidthDisplay + '>' + (onlyPercentage ? '%' : 'x') + '</label>' +\n                        '<input class=\"se-input-control _se_video_size_y\" placeholder=\"' + (option.videoRatio * 100) + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : '') + heightDisplay + '/>' +\n                        '<select class=\"se-input-select se-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + '>';\n                            if (!heightDisplay) html += '<option value=\"\"> - </option>';\n                            for (let i = 0, len = ratioList.length; i < len; i++) {\n                                html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? ' selected' : '') + '>' + ratioList[i].name + '</option>';\n                            }\n                        html += '</select>' +\n                        '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"se-btn se-dialog-btn-revert\" style=\"float: right;\">' + this.icons.revert + '</button>' +\n                    '</div>' +\n                    '<div class=\"se-dialog-form se-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + '>' +\n                        '<label><input type=\"checkbox\" class=\"se-dialog-btn-check _se_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + '</label>' +\n                    '</div>';\n            }\n\n            html += '' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<div>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + '</label>' +\n                        '<label><input type=\"radio\" name=\"suneditor_video_radio\" class=\"se-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + '</label>' +\n                    '</div>' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    _fileInputChange: function () {\n        if (!this.videoInputFile.value) {\n            this.videoUrlFile.removeAttribute('disabled');\n            this.preview.style.textDecoration = '';\n        } else {\n            this.videoUrlFile.setAttribute('disabled', true);\n            this.preview.style.textDecoration = 'line-through';\n        }\n    },\n\n    _removeSelectedFiles: function (urlInput, preview) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            preview.style.textDecoration = '';\n        }\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        if (/^<iframe.*\\/iframe>$/.test(value)) {\n            context._linkValue = value;\n            this.textContent = '<IFrame :src=\"..\"></IFrame>';\n        } else {\n            context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n        }\n    },\n\n    _setTagAttrs: function (element) {\n        element.setAttribute('controls', true);\n\n        const attrs = this.context.options.videoTagAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    createVideoTag: function () {\n        const videoTag = this.util.createElement('VIDEO');\n        this.plugins.video._setTagAttrs.call(this, videoTag);\n        return videoTag;\n    },\n\n    _setIframeAttrs: function (element) {\n        element.frameBorder = '0';\n        element.allowFullscreen = true;\n\n        const attrs = this.context.options.videoIframeAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    createIframeTag: function () {\n        const iframeTag = this.util.createElement('IFRAME');\n        this.plugins.video._setIframeAttrs.call(this, iframeTag);\n        return iframeTag;\n    },\n\n    /**\n     * @Override @Required fileManager\n     */\n    fileTags: ['iframe', 'video'],\n\n    /**\n     * @Override core, resizing, fileManager\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, 'video'));\n    },\n\n    /**\n     * @Override fileManager, resizing\n     */\n    destroy: function (element) {\n        const frame = element || this.context.video._element;\n        const container = this.context.video._container;\n        const dataIndex = frame.getAttribute('data-index') * 1;\n        let focusEl = (container.previousElementSibling || container.nextElementSibling);\n\n        const emptyDiv = container.parentNode;\n        this.util.removeItem(container);\n        this.plugins.video.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n\n        // event\n        this.plugins.fileManager.deleteInfo.call(this, 'video', dataIndex, this.functions.onVideoUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextVideo = this.context.video;\n\n        if (!update) {\n            contextVideo.inputX.value = contextVideo._origin_w = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n            contextVideo.inputY.value = contextVideo._origin_h = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n            contextVideo.proportion.disabled = true;\n            if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.setAttribute('multiple', 'multiple');\n        } else {\n            if (contextVideo.videoInputFile && this.context.options.videoMultipleFile) contextVideo.videoInputFile.removeAttribute('multiple');\n        }\n\n        if (contextVideo._resizing) {\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n        }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'video', 'video' === this.currentControllerName);\n    },\n    \n    setVideoRatio: function (e) {\n        const contextVideo = this.context.video;\n        const value = e.target.options[e.target.selectedIndex].value;\n\n        contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : (value * 100) + '%';\n        contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n        contextVideo.inputY.value = '';\n    },\n\n    /**\n     * @Override resizing\n     * @param {String} xy 'x': width, 'y': height\n     * @param {KeyboardEvent} e Event object\n     */\n    setInputSize: function (xy, e) {\n        if (e && e.keyCode === 32) {\n            e.preventDefault();\n            return;\n        }\n\n        const contextVideo = this.context.video;\n        this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n        if (xy === 'y') {\n            this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setRatio: function () {\n        this.plugins.resizing._module_setRatio.call(this, this.context.video);\n    },\n\n    submit: function (e) {\n        const contextVideo = this.context.video;\n        const videoPlugin = this.plugins.video;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        contextVideo._align = contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"]:checked').value;\n\n        try {\n            if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n                this.showLoading();\n                videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n            } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n                this.showLoading();\n                videoPlugin.setup_url.call(this);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.video.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/video/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.context.option.videoUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const videosInfo = this.context.video._infoList;\n            for (let i = 0, len = videosInfo.length; i < len; i++) {\n                infoSize += videosInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: ' + (limitSize/1000) + 'KB';\n                if (this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextVideo = this.context.video;\n        contextVideo._uploadFileLength = files.length;\n\n        const info = {\n            inputWidth: contextVideo.inputX.value,\n            inputHeight: contextVideo.inputY.value,\n            align: contextVideo._align,\n            isUpdate: this.context.dialog.updateModal,\n            element: contextVideo._element\n        };\n\n        if (typeof this.functions.onVideoUploadBefore === 'function') {\n            const result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.video.register.call(this, info, data);\n                } else {\n                    this.plugins.video.upload.call(this, info, data);\n                }\n            }.bind(this));\n\n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (typeof result === 'object' && result.length > 0) files = result;\n        }\n\n        this.plugins.video.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onVideoUploadError !== 'function' || this.functions.onVideoUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.video.error] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.video.error.call(this, files, null);\n            return;\n        }\n\n        const videoUploadUrl = this.context.option.videoUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // server upload\n        if (typeof videoUploadUrl === 'string' && videoUploadUrl.length > 0) {\n            const formData = new FormData();\n            for (let i = 0; i < filesLen; i++) {\n                formData.append('file-' + i, files[i]);\n            }\n            this.plugins.fileManager.upload.call(this, videoUploadUrl, this.context.option.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n        } else {\n            throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n        }\n    },\n\n    callBack_videoUpload: function (info, xmlHttp) {\n        if (typeof this.functions.videoUploadHandler === 'function') {\n            this.functions.videoUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.video.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.video.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n        const videoTag = this.plugins.video.createVideoTag.call(this);\n\n        for (let i = 0, len = fileList.length, file; i < len; i++) {\n            file = { name: fileList[i].name, size: fileList[i].size };\n            this.plugins.video.create_video.call(this, (info.isUpdate ? info.element : videoTag.cloneNode(false)), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n        }\n\n        this.closeLoading();\n    },\n\n    setup_url: function () {\n        try {\n            const contextVideo = this.context.video;\n            let url = contextVideo._linkValue;\n\n            if (url.length === 0) return false;\n\n            /** iframe source */\n            if (/^<iframe.*\\/iframe>$/.test(url)) {\n                const oIframe = (new this._w.DOMParser()).parseFromString(url, 'text/html').querySelector('iframe');\n                url = oIframe.src;\n                if (url.length === 0) return false;\n            }\n            \n            /** youtube */\n            if (/youtu\\.?be/.test(url)) {\n                if (!/^http/.test(url)) url = 'https://' + url;\n                url = url.replace('watch?v=', '');\n                if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n                    url = url.replace(url.match(/\\/\\/.+\\//)[0], '//www.youtube.com/embed/').replace('&', '?&');\n                }\n\n                if (contextVideo._youtubeQuery.length > 0) {\n                    if (/\\?/.test(url)) {\n                        const splitUrl = url.split('?');\n                        url = splitUrl[0] + '?' + contextVideo._youtubeQuery + '&' + splitUrl[1];\n                    } else {\n                        url += '?' + contextVideo._youtubeQuery;\n                    }\n                }\n            } else if (/vimeo\\.com/.test(url)) {\n                if (url.endsWith('/')) {\n                    url = url.slice(0, -1);\n                }\n                url = 'https://player.vimeo.com/video/' + url.slice(url.lastIndexOf('/') + 1);\n            }\n\n            this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n        } catch (error) {\n            throw Error('[SUNEDITOR.video.upload.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    create_video: function (oFrame, src, width, height, align, file, isUpdate) {\n        this.context.resizing._resize_plugin = 'video';\n        const contextVideo = this.context.video;\n        \n        let cover = null;\n        let container = null;\n        let init = false;\n\n        /** update */\n        if (isUpdate) {\n            oFrame = contextVideo._element;\n            if (oFrame.src !== src) {\n                init = true;\n                const isYoutube = /youtu\\.?be/.test(src);\n                const isVimeo = /vimeo\\.com/.test(src);\n                if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n                    const newTag = this.plugins.video.createIframeTag.call(this);\n                    newTag.src = src;\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\n                    contextVideo._element = oFrame = newTag;\n                } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n                    const newTag = this.plugins.video.createVideoTag.call(this);\n                    newTag.src = src;\n                    oFrame.parentNode.replaceChild(newTag, oFrame);\n                    contextVideo._element = oFrame = newTag;\n                } else {\n                    oFrame.src = src;\n                }\n            }\n            container = contextVideo._container;\n            cover = this.util.getParentElement(oFrame, 'FIGURE');\n        }\n        /** create */\n        else {\n            init = true;\n            oFrame.src = src;\n            contextVideo._element = oFrame;\n            cover = this.plugins.component.set_cover.call(this, oFrame);\n            container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n        }\n\n        /** rendering */\n        contextVideo._cover = cover;\n        contextVideo._container = container;\n\n        const inputUpdate = (this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX)) || (this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio));\n        const changeSize = !isUpdate || inputUpdate;\n\n        if (contextVideo._resizing) {\n            this.context.video._proportionChecked = contextVideo.proportion.checked;\n            oFrame.setAttribute('data-proportion', contextVideo._proportionChecked);\n        }\n\n        // size\n        let isPercent = false;\n        if (changeSize) {\n            isPercent = this.plugins.video.applySize.call(this);\n        }\n\n        // align\n        if (!(isPercent && align === 'center')) {\n            this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n        }\n\n        let changed = true;\n        if (!isUpdate) {\n            changed = this.insertComponent(container, false, true, false);\n        } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n            this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n        }\n\n        if (changed) {\n            if (init) {\n                this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, file, true);\n            }\n            if (isUpdate) {\n                this.selectComponent(oFrame, 'video');\n                // history stack\n                this.history.push(false);\n            }\n        }\n\n        this.context.resizing._resize_plugin = '';\n    },\n\n    _update_videoCover: function (oFrame) {\n        if (!oFrame) return;\n\n        const contextVideo = this.context.video;\n        \n        if (/^video$/i.test(oFrame.nodeName)) this.plugins.video._setTagAttrs.call(this, oFrame);\n        else this.plugins.video._setIframeAttrs.call(this, oFrame);\n        \n        const existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || \n            this.util.getParentElement(oFrame, function (current) {\n                return this.isWysiwygDiv(current.parentNode);\n            }.bind(this.util));\n\n        oFrame = oFrame.cloneNode(true);\n        const cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n        const container = contextVideo._container = this.plugins.component.set_container.call(this, cover, 'se-video-container');\n\n        const figcaption = existElement.querySelector('figcaption');\n        let caption = null;\n        if (!!figcaption) {\n            caption = this.util.createElement('DIV');\n            caption.innerHTML = figcaption.innerHTML;\n            this.util.removeItem(figcaption);\n        }\n\n        const size = (oFrame.getAttribute('data-size') || oFrame.getAttribute('data-origin') || '').split(',');\n        this.plugins.video.applySize.call(this, size[0], size[1]);\n\n        if (this.util.isFormatElement(existElement) && existElement.textContent.length > 0) {\n            existElement.parentNode.insertBefore(container, existElement.nextElementSibling);\n            this.util.removeItem(contextVideo._element);\n            contextVideo._element = oFrame;\n        } else {\n            existElement.parentNode.replaceChild(container, existElement);\n        }\n\n        if (!!caption) existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n        this.plugins.fileManager.setInfo.call(this, 'video', oFrame, this.functions.onVideoUpload, null, true);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (element, size) {\n        const contextVideo = this.context.video;\n        contextVideo._element = element;\n        contextVideo._cover = this.util.getParentElement(element, 'FIGURE');\n        contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n        contextVideo._align = element.getAttribute('data-align') || 'none';\n\n        if (size) {\n            contextVideo._element_w = size.w;\n            contextVideo._element_h = size.h;\n            contextVideo._element_t = size.t;\n            contextVideo._element_l = size.l;\n        }\n\n        let origin = contextVideo._element.getAttribute('data-size') || contextVideo._element.getAttribute('data-origin');\n        if (origin) {\n            origin = origin.split(',');\n            contextVideo._origin_w = origin[0];\n            contextVideo._origin_h = origin[1];\n        } else if (size) {\n            contextVideo._origin_w = size.w;\n            contextVideo._origin_h = size.h;\n        }\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        const contextVideo = this.context.video;\n\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = (contextVideo._element.src || (contextVideo._element.querySelector('source') || '').src || '');\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n        if (contextVideo._resizing) {\n            this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n            \n            const y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n            const ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n            if (!ratioSelected) contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n        }\n\n        if (!notOpen) this.plugins.dialog.open.call(this, 'video', true);\n    },\n    \n    setVideoRatioSelect: function (value) {\n        let ratioSelected = false;\n        const contextVideo = this.context.video;\n        const ratioOptions = contextVideo.videoRatioOption.options;\n\n        if (/%$/.test(value) || contextVideo._onlyPercentage) value = (this.util.getNumber(value, 2) / 100) + '';\n        else if (!this.util.isNumber(value) || (value * 1) >= 1) value = '';\n\n        contextVideo.inputY.placeholder = '';\n        for (let i = 0, len = ratioOptions.length; i < len; i++) {\n            if (ratioOptions[i].value === value) {\n                ratioSelected = ratioOptions[i].selected = true;\n                contextVideo.inputY.placeholder = !value ? '' : (value * 100) + '%';\n            }\n            else ratioOptions[i].selected = false;\n        }\n\n        return ratioSelected;\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        this.plugins.fileManager.checkInfo.call(this, 'video', ['iframe', 'video'], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'video', this.functions.onVideoUpload);\n    },\n\n    /**\n     * @Override resizing\n     */\n    sizeRevert: function () {\n        this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n    },\n\n    /**\n     * @Override resizing\n     */\n    applySize: function (w, h) {\n        const contextVideo = this.context.video;\n\n        if (!w) w = contextVideo.inputX.value || this.context.option.videoWidth;\n        if (!h) h = contextVideo.inputY.value || this.context.option.videoHeight;\n        \n        if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n            this.plugins.video.setPercentSize.call(this, (w || '100%'), (h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio)));\n            return true;\n        } else if ((!w || w === 'auto') && (!h || h === 'auto')) {\n            this.plugins.video.setAutoSize.call(this);\n        } else {\n            this.plugins.video.setSize.call(this, w, (h || contextVideo._videoRatio || contextVideo._defaultRatio), false);\n        }\n\n        return false;\n    },\n\n    /**\n     * @Override resizing\n     */\n    setSize: function (w, h, notResetPercentage, direction) {\n        const contextVideo = this.context.video;\n        const onlyW = /^(rw|lw)$/.test(direction);\n        const onlyH = /^(th|bh)$/.test(direction);\n\n        if (!onlyH) w = this.util.getNumber(w, 0);\n        if (!onlyW) h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? '' : h;\n\n        if (!onlyH) contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : '';\n        if (!onlyW) contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n\n        if (!onlyH && !/%$/.test(w)) {\n            contextVideo._cover.style.width = '';\n            contextVideo._container.style.width = '';\n        }\n\n        if (!onlyW && !/%$/.test(h)) {\n            contextVideo._element.style.height = h;\n        } else {\n            contextVideo._element.style.height = '';\n        }\n\n        if (!notResetPercentage) contextVideo._element.removeAttribute('data-percentage');\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAutoSize: function () {\n        this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setOriginSize: function (dataSize) {\n        const contextVideo = this.context.video;\n        contextVideo._element.removeAttribute('data-percentage');\n\n        this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n        this.plugins.video.cancelPercentAttr.call(this);\n\n        const originSize = ((dataSize ? contextVideo._element.getAttribute('data-size') : '') || contextVideo._element.getAttribute('data-origin') || '').split(',');\n        \n        if (originSize) {\n            const w = originSize[0];\n            const h = originSize[1];\n\n            if (contextVideo._onlyPercentage || (/%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h)))) {\n                this.plugins.video.setPercentSize.call(this, w, h);\n            } else {\n                this.plugins.video.setSize.call(this, w, h);\n            }\n\n            // save current size\n            this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n        }\n    },\n\n    /**\n     * @Override resizing\n     */\n    setPercentSize: function (w, h) {\n        const contextVideo = this.context.video;\n        h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + '%' : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : (h || contextVideo._defaultRatio);\n\n        contextVideo._container.style.width = this.util.isNumber(w) ? w + '%' : w;\n        contextVideo._container.style.height = '';\n        contextVideo._cover.style.width = '100%';\n        contextVideo._cover.style.height = h;\n        contextVideo._cover.style.paddingBottom = h;\n        contextVideo._element.style.width = '100%';\n        contextVideo._element.style.height = '100%';\n        contextVideo._element.style.maxWidth = '';\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n        contextVideo._element.setAttribute('data-percentage', w + ',' + h);\n\n        // save current size\n        this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    },\n\n    /**\n     * @Override resizing\n     */\n    cancelPercentAttr: function () {\n        const contextVideo = this.context.video;\n        \n        contextVideo._cover.style.width = '';\n        contextVideo._cover.style.height = '';\n        contextVideo._cover.style.paddingBottom = '';\n        contextVideo._container.style.width = '';\n        contextVideo._container.style.height = '';\n\n        this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n        this.util.addClass(contextVideo._container, '__se__float-' + contextVideo._align);\n\n        if (contextVideo._align === 'center') this.plugins.video.setAlign.call(this, null, null, null, null);\n    },\n\n    /**\n     * @Override resizing\n     */\n    setAlign: function (align, element, cover, container) {\n        const contextVideo = this.context.video;\n        \n        if (!align) align = contextVideo._align;\n        if (!element) element = contextVideo._element;\n        if (!cover) cover = contextVideo._cover;\n        if (!container) container = contextVideo._container;\n\n        if (align && align !== 'none') {\n            cover.style.margin = 'auto';\n        } else {\n            cover.style.margin = '0';\n        }\n\n        if (/%$/.test(element.style.width) && align === 'center') {\n            container.style.minWidth = '100%';\n            cover.style.width = container.style.width;\n            cover.style.height = cover.style.height;\n            cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber((this.util.getNumber(cover.style.height, 2) / 100) * this.util.getNumber(cover.style.width, 2), 2) + '%';\n        } else {\n            container.style.minWidth = '';\n            cover.style.width = this.context.resizing._rotateVertical ? (element.style.height || element.offsetHeight) : (element.style.width || '100%');\n            cover.style.paddingBottom = cover.style.height;\n        }\n\n        if (!this.util.hasClass(container, '__se__float-' + align)) {\n            this.util.removeClass(container, contextVideo._floatClassRegExp);\n            this.util.addClass(container, '__se__float-' + align);\n        }\n        \n        element.setAttribute('data-align', align);\n    },\n\n    resetAlign: function () {\n        const contextVideo = this.context.video;\n\n        contextVideo._element.setAttribute('data-align', '');\n        contextVideo._align = 'none';\n        contextVideo._cover.style.margin = '0';\n        this.util.removeClass(contextVideo._container, contextVideo._floatClassRegExp);\n    },\n\n    /**\n     * @Override dialog\n     */\n    init: function () {\n        const contextVideo = this.context.video;\n        if (contextVideo.videoInputFile) contextVideo.videoInputFile.value = '';\n        if (contextVideo.videoUrlFile) contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = '';\n        if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n            contextVideo.videoUrlFile.removeAttribute('disabled');\n            contextVideo.preview.style.textDecoration = '';\n        }\n\n        contextVideo._origin_w = this.context.option.videoWidth;\n        contextVideo._origin_h = this.context.option.videoHeight;\n        contextVideo.modal.querySelector('input[name=\"suneditor_video_radio\"][value=\"none\"]').checked = true;\n        \n        if (contextVideo._resizing) {\n            contextVideo.inputX.value = this.context.option.videoWidth === contextVideo._defaultSizeX ? '' : this.context.option.videoWidth;\n            contextVideo.inputY.value = this.context.option.videoHeight === contextVideo._defaultSizeY ? '' : this.context.option.videoHeight;\n            contextVideo.proportion.checked = true;\n            contextVideo.proportion.disabled = true;\n            this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n        }\n    }\n});\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _modules_dialog__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_modules_dialog__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _modules_component__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_modules_component__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(3);\n/* harmony import */ var _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_modules_fileManager__WEBPACK_IMPORTED_MODULE_2__);\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'audio',\n    display: 'dialog',\n    add: function (core) {\n        core.addModule([_modules_dialog__WEBPACK_IMPORTED_MODULE_0___default.a, _modules_component__WEBPACK_IMPORTED_MODULE_1___default.a, _modules_fileManager__WEBPACK_IMPORTED_MODULE_2___default.a]);\n\n        const context = core.context;\n        const contextAudio = context.audio = {\n            _infoList: [], // @Override fileManager\n            _infoIndex: 0, // @Override fileManager\n            _uploadFileLength: 0, // @Override fileManager\n            focusElement: null, // @Override // This element has focus when the dialog is opened.\n            targetSelect: null,\n            _origin_w: context.option.audioWidth,\n            _origin_h: context.option.audioHeight,\n            _linkValue: '',\n            // @require @Override component\n            _element: null,\n            _cover: null,\n            _container: null,\n        };\n\n        /** dialog */\n        let audio_dialog = this.setDialog.call(core);\n        contextAudio.modal = audio_dialog;\n        contextAudio.audioInputFile = audio_dialog.querySelector('._se_audio_files');\n        contextAudio.audioUrlFile = audio_dialog.querySelector('.se-input-url');\n        contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n        contextAudio.preview = audio_dialog.querySelector('.se-link-preview');\n\n        /** controller */\n        let audio_controller = this.setController.call(core);\n        contextAudio.controller = audio_controller;\n\n        audio_controller.addEventListener('mousedown', core.eventStop);\n\n        /** add event listeners */\n        audio_dialog.querySelector('.se-btn-primary').addEventListener('click', this.submit.bind(core));\n        if (contextAudio.audioInputFile) audio_dialog.querySelector('.se-dialog-files-edge-button').addEventListener('click', this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) contextAudio.audioInputFile.addEventListener('change', this._fileInputChange.bind(contextAudio));\n        audio_controller.addEventListener('click', this.onClick_controller.bind(core));\n        if (contextAudio.audioUrlFile) contextAudio.audioUrlFile.addEventListener('input', this._onLinkPreview.bind(contextAudio.preview, contextAudio, context.options.linkProtocol));\n\n        /** append html */\n        context.dialog.modal.appendChild(audio_dialog);\n\n        /** append controller */\n        context.element.relative.appendChild(audio_controller);\n\n        /** empty memory */\n        audio_dialog = null, audio_controller = null;\n    },\n\n    /** HTML - dialog */\n    setDialog: function () {\n        const option = this.context.option;\n        const lang = this.lang;\n        const dialog = this.util.createElement('DIV');\n\n        dialog.className = 'se-dialog-content';\n        dialog.style.display = 'none';\n        let html = '' +\n            '<form method=\"post\" enctype=\"multipart/form-data\">' +\n                '<div class=\"se-dialog-header\">' +\n                    '<button type=\"button\" data-command=\"close\" class=\"se-btn se-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' +\n                        this.icons.cancel +\n                    '</button>' +\n                    '<span class=\"se-modal-title\">' + lang.dialogBox.audioBox.title + '</span>' +\n                '</div>' +\n                '<div class=\"se-dialog-body\">';\n\n                if (option.audioFileInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.audioBox.file + '</label>' +\n                            '<div class=\"se-dialog-form-files\">' +\n                                '<input class=\"se-input-form _se_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : '') + '/>' +\n                                '<button type=\"button\" data-command=\"filesRemove\" class=\"se-btn se-dialog-files-edge-button se-file-remove\" title=\"' + lang.controller.remove + '\">' + this.icons.cancel + '</button>' +\n                            '</div>' +\n                        '</div>';\n                }\n                 \n                if (option.audioUrlInput) {\n                    html += '' +\n                        '<div class=\"se-dialog-form\">' +\n                            '<label>' + lang.dialogBox.audioBox.url + '</label>' +\n                            '<input class=\"se-input-form se-input-url\" type=\"text\" />' +\n                            '<pre class=\"se-link-preview\"></pre>' +\n                        '</div>';\n                }\n                    \n                html += '' +\n                '</div>' +\n                '<div class=\"se-dialog-footer\">' +\n                    '<button type=\"submit\" class=\"se-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + '</span></button>' +\n                '</div>' +\n            '</form>';\n\n        dialog.innerHTML = html;\n\n        return dialog;\n    },\n\n    /** HTML - controller */\n    setController: function () {\n        const lang = this.lang;\n        const icons = this.icons;\n        const link_btn = this.util.createElement('DIV');\n\n        link_btn.className = 'se-controller se-controller-link';\n        link_btn.innerHTML = '' +\n            '<div class=\"se-arrow se-arrow-up\"></div>' +\n            '<div class=\"link-content\">' +\n                '<div class=\"se-btn-group\">' +\n                    '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"se-tooltip\">' +\n                        icons.edit +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.edit + '</span></span>' +\n                    '</button>' +\n                    '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"se-tooltip\">' +\n                        icons.delete +\n                        '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + lang.controller.remove + '</span></span>' +\n                    '</button>' +\n                '</div>' +\n            '</div>';\n\n        return link_btn;\n    },\n\n    // Disable url input when uploading files\n    _fileInputChange: function () {\n        if (!this.audioInputFile.value) {\n            this.audioUrlFile.removeAttribute('disabled');\n            this.preview.style.textDecoration = '';\n        } else {\n            this.audioUrlFile.setAttribute('disabled', true);\n            this.preview.style.textDecoration = 'line-through';\n        }\n    },\n\n    // Disable url input when uploading files\n    _removeSelectedFiles: function (urlInput, preview) {\n        this.value = '';\n        if (urlInput) {\n            urlInput.removeAttribute('disabled');\n            preview.style.textDecoration = '';\n        }\n    },\n\n    // create new audio tag\n    _createAudioTag: function () {\n        const oAudio = this.util.createElement('AUDIO');\n        this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n        const w = this.context.audio._origin_w;\n        const h = this.context.audio._origin_h;\n        oAudio.setAttribute('origin-size', w + ',' + h);\n        oAudio.style.cssText = (w ? ('width:' + w + '; ') : '') + (h ? ('height:' + h + ';') : '');\n\n        return oAudio;\n    },\n\n    _setTagAttrs: function (element) {\n        element.setAttribute('controls', true);\n\n        const attrs = this.context.options.audioTagAttrs;\n        if (!attrs) return;\n\n        for (let key in attrs) {\n            if (!this.util.hasOwn(attrs, key)) continue;\n            element.setAttribute(key, attrs[key]);\n        }\n    },\n\n    _onLinkPreview: function (context, protocol, e) {\n        const value = e.target.value.trim();\n        context._linkValue = this.textContent = !value ? '' : (protocol && value.indexOf('://') === -1 && value.indexOf('#') !== 0) ? protocol + value : value.indexOf('://') === -1 ? '/' + value : value;\n    },\n\n    /**\n     * @Required @Override fileManager\n     */\n    fileTags: ['audio'],\n\n    /**\n     * @Override core, fileManager, resizing\n     * @description It is called from core.selectComponent.\n     * @param {Element} element Target element\n     */\n    select: function (element) {\n        this.plugins.audio.onModifyMode.call(this, element);\n    },\n\n    /**\n     * @Override fileManager, resizing \n     */\n    destroy: function (element) {\n        element = element || this.context.audio._element;\n        const container = this.util.getParentElement(element, this.util.isComponent) || element;\n        const dataIndex = element.getAttribute('data-index') * 1;\n        const focusEl = (container.previousElementSibling || container.nextElementSibling);\n\n        const emptyDiv = container.parentNode;\n        this.util.removeItem(container);\n        this.plugins.audio.init.call(this);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) this.util.removeItemAllParents(emptyDiv, function (current) { return current.childNodes.length === 0; }, null);\n\n        // focus\n        this.focusEdge(focusEl);\n\n        // fileManager event\n        this.plugins.fileManager.deleteInfo.call(this, 'audio', dataIndex, this.functions.onAudioUpload);\n\n        // history stack\n        this.history.push(false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    checkFileInfo: function () {\n        this.plugins.fileManager.checkInfo.call(this, 'audio', ['audio'], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n    },\n\n    /**\n     * @Override fileManager\n     */\n    resetFileInfo: function () {\n        this.plugins.fileManager.resetInfo.call(this, 'audio', this.functions.onAudioUpload);\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    on: function (update) {\n        const contextAudio = this.context.audio;\n\n        if (!update) {\n            this.plugins.audio.init.call(this);\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.setAttribute('multiple', 'multiple');\n        } else if (contextAudio._element) {\n            this.context.dialog.updateModal = true;\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n        } else {\n            if (contextAudio.audioInputFile && this.context.options.audioMultipleFile) contextAudio.audioInputFile.removeAttribute('multiple');\n        }\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    open: function () {\n        this.plugins.dialog.open.call(this, 'audio', 'audio' === this.currentControllerName);\n    },\n\n    submit: function (e) {\n        const contextAudio = this.context.audio;\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        try {\n            if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n                this.showLoading();\n                this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n            } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n                this.showLoading();\n                this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n            }\n        } catch (error) {\n            this.closeLoading();\n            throw Error('[SUNEDITOR.audio.submit.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.plugins.dialog.close.call(this);\n        }\n\n        return false;\n    },\n\n    submitAction: function (fileList) {\n        if (fileList.length === 0) return;\n\n        let fileSize = 0;\n        let files = [];\n        for (let i = 0, len = fileList.length; i < len; i++) {\n            if (/audio/i.test(fileList[i].type)) {\n                files.push(fileList[i]);\n                fileSize += fileList[i].size;\n            }\n        }\n\n        const limitSize = this.context.option.audioUploadSizeLimit;\n        if (limitSize > 0) {\n            let infoSize = 0;\n            const audiosInfo = this.context.audio._infoList;\n            for (let i = 0, len = audiosInfo.length; i < len; i++) {\n                infoSize += audiosInfo[i].size * 1;\n            }\n\n            if ((fileSize + infoSize) > limitSize) {\n                this.closeLoading();\n                const err = '[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: ' + (limitSize/1000) + 'KB';\n                if (this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(err, { 'limitSize': limitSize, 'currentSize': infoSize, 'uploadSize': fileSize }, this)) {\n                    this.functions.noticeOpen(err);\n                }\n                return;\n            }\n        }\n\n        const contextAudio = this.context.audio;\n        contextAudio._uploadFileLength = files.length;\n\n        const info = {\n            isUpdate: this.context.dialog.updateModal,\n            element: contextAudio._element\n        };\n\n        if (typeof this.functions.onAudioUploadBefore === 'function') {\n            const result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n                if (data && this._w.Array.isArray(data.result)) {\n                    this.plugins.audio.register.call(this, info, data);\n                } else {\n                    this.plugins.audio.upload.call(this, info, data);\n                }\n            }.bind(this));\n\n            if (typeof result === 'undefined') return;\n            if (!result) {\n                this.closeLoading();\n                return;\n            }\n            if (typeof result === 'object' && result.length > 0) files = result;\n        }\n\n        this.plugins.audio.upload.call(this, info, files);\n    },\n\n    error: function (message, response) {\n        this.closeLoading();\n        if (typeof this.functions.onAudioUploadError !== 'function' || this.functions.onAudioUploadError(message, response, this)) {\n            this.functions.noticeOpen(message);\n            throw Error('[SUNEDITOR.plugin.audio.exception] response: ' + message);\n        }\n    },\n\n    upload: function (info, files) {\n        if (!files) {\n            this.closeLoading();\n            return;\n        }\n        if (typeof files === 'string') {\n            this.plugins.audio.error.call(this, files, null);\n            return;\n        }\n\n        const audioUploadUrl = this.context.option.audioUploadUrl;\n        const filesLen = this.context.dialog.updateModal ? 1 : files.length;\n\n        // create formData\n        const formData = new FormData();\n        for (let i = 0; i < filesLen; i++) {\n            formData.append('file-' + i, files[i]);\n        }\n\n        // server upload\n        this.plugins.fileManager.upload.call(this, audioUploadUrl, this.context.option.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n    },\n\n    callBack_upload: function (info, xmlHttp) {\n        if (typeof this.functions.audioUploadHandler === 'function') {\n            this.functions.audioUploadHandler(xmlHttp, info, this);\n        } else {\n            const response = JSON.parse(xmlHttp.responseText);\n            if (response.errorMessage) {\n                this.plugins.audio.error.call(this, response.errorMessage, response);\n            } else {\n                this.plugins.audio.register.call(this, info, response);\n            }\n        }\n    },\n\n    register: function (info, response) {\n        const fileList = response.result;\n\n        for (let i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n            if (info.isUpdate) oAudio = info.element;\n            else oAudio = this.plugins.audio._createAudioTag.call(this);\n\n            file = { name: fileList[i].name, size: fileList[i].size };\n            this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n        }\n\n        this.closeLoading();\n    },\n\n    setupUrl: function (src) {\n        try {\n            if (src.length === 0) return false;\n            this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n        } catch (error) {\n            throw Error('[SUNEDITOR.audio.audio.fail] cause : \"' + error.message + '\"');\n        } finally {\n            this.closeLoading();\n        }\n    },\n\n    create_audio: function (element, src, file, isUpdate) {\n        const contextAudio = this.context.audio;\n        \n        // create new tag\n        if (!isUpdate) {\n            element.src = src;\n            const cover = this.plugins.component.set_cover.call(this, element);\n            const container = this.plugins.component.set_container.call(this, cover, '');\n            if (!this.insertComponent(container, false, true, false)) {\n                this.focus();\n                return;\n            }\n        } // update\n        else {\n            if (contextAudio._element) element = contextAudio._element;\n            if (element && element.src !== src) {\n                element.src = src;\n            } else {\n                this.selectComponent(element, 'audio');\n                return;\n            }\n        }\n\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, file, false);\n        this.selectComponent(element, 'audio');\n        if (isUpdate) this.history.push(false);\n    },\n\n    updateCover: function (element) {\n        const contextAudio = this.context.audio;\n        this.plugins.audio._setTagAttrs.call(this, element);\n        \n        // find component element\n        const existElement = this.util.getParentElement(element, this.util.isMediaComponent) || \n            this.util.getParentElement(element, function (current) {\n                return this.isWysiwygDiv(current.parentNode);\n            }.bind(this.util));\n\n        // clone element\n        contextAudio._element = element = element.cloneNode(false);\n        const cover = this.plugins.component.set_cover.call(this, element);\n        const container = this.plugins.component.set_container.call(this, cover, 'se-audio-container');\n\n        existElement.parentNode.replaceChild(container, existElement);\n        this.plugins.fileManager.setInfo.call(this, 'audio', element, this.functions.onAudioUpload, null, false);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    onModifyMode: function (selectionTag) {\n        const contextAudio = this.context.audio;\n        \n        this.setControllerPosition(contextAudio.controller, selectionTag, 'bottom', {left: 0, top: 0});\n        this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), 'audio');\n\n        this.util.addClass(selectionTag, 'active');\n        contextAudio._element = selectionTag;\n        contextAudio._cover = this.util.getParentElement(selectionTag, 'FIGURE');\n        contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n    },\n\n    /**\n     * @Required @Override fileManager, resizing\n     */\n    openModify: function (notOpen) {\n        if (this.context.audio.audioUrlFile) {\n            const contextAudio = this.context.audio;\n            contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n        }\n        if (!notOpen) this.plugins.dialog.open.call(this, 'audio', true);\n    },\n\n    onClick_controller: function (e) {\n        e.stopPropagation();\n\n        const command = e.target.getAttribute('data-command');\n        if (!command) return;\n\n        e.preventDefault();\n\n        if (/update/.test(command)) {\n            this.plugins.audio.openModify.call(this, false);\n        }\n        else { /** delete */\n            this.plugins.audio.destroy.call(this, this.context.audio._element);\n        }\n\n        this.controllersOff();\n    },\n\n    onControllerOff: function (selectionTag) {\n        this.util.removeClass(selectionTag, 'active');\n        this.context.audio.controller.style.display = 'none';\n    },\n\n    /**\n     * @Required @Override dialog\n     */\n    init: function () {\n        if (this.context.dialog.updateModal) return;\n        const contextAudio = this.context.audio;\n\n        if (contextAudio.audioInputFile) contextAudio.audioInputFile.value = '';\n        if (contextAudio.audioUrlFile) contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = '';\n        if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n            contextAudio.audioUrlFile.removeAttribute('disabled');\n            contextAudio.preview.style.textDecoration = '';\n        }\n\n        contextAudio._element = null;\n    }\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * \n * Danish translation by davidkonrad at github or gmail\n *\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'da',\n        toolbar: {\n            default: 'Default',\n            save: 'Gem',\n            font: 'Skrifttype',\n            formats: 'Format',\n            fontSize: 'Skriftstørrelse',\n            bold: 'Fed',\n            underline: 'Understreget',\n            italic: 'Skråskrift',\n            strike: 'Overstreget',\n            subscript: 'Sænket skrift',\n            superscript: 'Hævet skrift',\n            removeFormat: 'Fjern formatering',\n            fontColor: 'Skriftfarve',\n            hiliteColor: 'Baggrundsfarve',\n            indent: 'Ryk ind',\n            outdent: 'Ryk ud',\n            align: 'Justering',\n            alignLeft: 'Venstrejustering',\n            alignRight: 'Højrejustering',\n            alignCenter: 'Midterjustering',\n            alignJustify: 'Tilpas margin',\n            list: 'Lister',\n            orderList: 'Nummereret liste',\n            unorderList: 'Uordnet liste',\n            horizontalRule: 'Horisontal linie',\n            hr_solid: 'Almindelig',\n            hr_dotted: 'Punkteret',\n            hr_dashed: 'Streget',\n            table: 'Tabel',\n            link: 'Link',\n            math: 'Math',\n            image: 'Billede',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Fuld skærm',\n            showBlocks: 'Vis blokke',\n            codeView: 'Vis koder',\n            undo: 'Undo',\n            redo: 'Redo',\n            preview: 'Preview',\n            print: 'Print',\n            tag_p: 'Paragraph',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Overskrift',\n            tag_blockquote: 'Citer',\n            tag_pre: 'Code',\n            template: 'Schablone',\n            lineHeight: 'Linjehøjde',\n            paragraphStyle: 'Afsnitstil',\n            textStyle: 'Tekststil',\n            imageGallery: 'Billedgalleri',\n            mention: 'Nævne'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Indsæt link',\n                url: 'URL til link',\n                text: 'Tekst for link',\n                newWindowCheck: 'Åben i nyt faneblad'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Matematisk notation',\n                fontSizeLabel: 'Skriftstørrelse',\n                previewLabel: 'Preview'\n            },\n            imageBox: {\n                title: 'Indsæt billede',\n                file: 'Indsæt fra fil',\n                url: 'Indsæt fra URL',\n                altText: 'Alternativ tekst'\n            },\n            videoBox: {\n                title: 'Indsæt Video',\n                file: 'Indsæt fra fil',\n                url: 'Indlejr video / YouTube,Vimeo'\n            },\n            audioBox: {\n                title: 'Indsæt Audio',\n                file: 'Indsæt fra fil',\n                url: 'Indsæt fra URL'\n            },\n            browser: {\n                tags: 'Tags',\n                search: 'Søg',\n            },\n            caption: 'Indsæt beskrivelse',\n            close: 'Luk',\n            submitButton: 'Gennemfør',\n            revertButton: 'Gendan',\n            proportion: 'Bevar proportioner',\n            basic: 'Basis',\n            left: 'Venstre',\n            right: 'Højre',\n            center: 'Center',\n            width: 'Bredde',\n            height: 'Højde',\n            size: 'Størrelse',\n            ratio: 'Forhold'\n        },\n        controller: {\n            edit: 'Rediger',\n            unlink: 'Fjern link',\n            remove: 'Fjern',\n            insertRowAbove: 'Indsæt række foroven',\n            insertRowBelow: 'Indsæt række nedenfor',\n            deleteRow: 'Slet række',\n            insertColumnBefore: 'Indsæt kolonne før',\n            insertColumnAfter: 'Indsæt kolonne efter',\n            deleteColumn: 'Slet kolonne',\n            fixedColumnWidth: 'Fast søjlebredde',\n            resize100: 'Forstør 100%',\n            resize75: 'Forstør 75%',\n            resize50: 'Forstør 50%',\n            resize25: 'Forstør 25%',\n            autoSize: 'Auto størrelse',\n            mirrorHorizontal: 'Spejling, horisontal',\n            mirrorVertical: 'Spejling, vertikal',\n            rotateLeft: 'Roter til venstre',\n            rotateRight: 'Toter til højre',\n            maxSize: 'Max størrelse',\n            minSize: 'Min størrelse',\n            tableHeader: 'Tabel overskrift',\n            mergeCells: 'Sammenlæg celler (merge)',\n            splitCells: 'Opdel celler',\n            HorizontalSplit: 'Opdel horisontalt',\n            VerticalSplit: 'Opdel vertikalt'\n        },\n        menu: {\n            spaced: 'Brev Afstand',\n            bordered: 'Afgrænsningslinje',\n            neon: 'Neon',\n            translucent: 'Gennemsigtig',\n            shadow: 'Skygge',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'da', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 @Gundolf68\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'de',\n        toolbar: {\n            default: 'Standard',\n            save: 'Speichern',\n            font: 'Schriftart',\n            formats: 'Format',\n            fontSize: 'Schriftgröße',\n            bold: 'Fett',\n            underline: 'Unterstrichen',\n            italic: 'Kursiv',\n            strike: 'Durchgestrichen',\n            subscript: 'Tiefgestellt',\n            superscript: 'Hochgestellt',\n            removeFormat: 'Format entfernen',\n            fontColor: 'Schriftfarbe',\n            hiliteColor: 'Farbe für Hervorhebungen',\n            indent: 'Einzug vergrößern',\n            outdent: 'Einzug verkleinern',\n            align: 'Ausrichtung',\n            alignLeft: 'Links ausrichten',\n            alignRight: 'Rechts ausrichten',\n            alignCenter: 'Zentriert ausrichten',\n            alignJustify: 'Blocksatz',\n            list: 'Liste',\n            orderList: 'Nummerierte Liste',\n            unorderList: 'Aufzählung',\n            horizontalRule: 'Horizontale Linie',\n            hr_solid: 'Strich',\n            hr_dotted: 'Gepunktet',\n            hr_dashed: 'Gestrichelt',\n            table: 'Tabelle',\n            link: 'Link',\n            math: 'Mathematik',\n            image: 'Bild',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Vollbild',\n            showBlocks: 'Blockformatierungen anzeigen',\n            codeView: 'Quelltext anzeigen',\n            undo: 'Rückgängig',\n            redo: 'Wiederholen',\n            preview: 'Vorschau',\n            print: 'Drucken',\n            tag_p: 'Absatz',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Header',\n            tag_blockquote: 'Zitat',\n            tag_pre: 'Quellcode',\n            template: 'Vorlage',\n            lineHeight: 'Zeilenhöhe',\n            paragraphStyle: 'Absatzstil',\n            textStyle: 'Textstil',\n            imageGallery: 'Bildergalerie',\n            mention: 'Erwähnen'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Link einfügen',\n                url: 'Link-URL',\n                text: 'Link-Text',\n                newWindowCheck: 'In neuem Fenster anzeigen'\n            },\n            mathBox: {\n                title: 'Mathematik',\n                inputLabel: 'Mathematische Notation',\n                fontSizeLabel: 'Schriftgröße',\n                previewLabel: 'Vorschau'\n            },\n            imageBox: {\n                title: 'Bild einfügen',\n                file: 'Datei auswählen',\n                url: 'Bild-URL',\n                altText: 'Alternativer Text'\n            },\n            videoBox: {\n                title: 'Video enfügen',\n                file: 'Datei auswählen',\n                url: 'Video-URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Audio enfügen',\n                file: 'Datei auswählen',\n                url: 'Audio-URL'\n            },\n            browser: {\n                tags: 'Stichworte',\n                search: 'Suche',\n            },\n            caption: 'Beschreibung eingeben',\n            close: 'Schließen',\n            submitButton: 'Übernehmen',\n            revertButton: 'Rückgängig',\n            proportion: 'Seitenverhältnis beibehalten',\n            basic: 'Standard',\n            left: 'Links',\n            right: 'Rechts',\n            center: 'Zentriert',\n            width: 'Breite',\n            height: 'Höhe',\n            size: 'Größe',\n            ratio: 'Verhältnis'\n        },\n        controller: {\n            edit: 'Bearbeiten',\n            unlink: 'Link entfernen',\n            remove: 'Löschen',\n            insertRowAbove: 'Zeile oberhalb einfügen',\n            insertRowBelow: 'Zeile unterhalb einfügen',\n            deleteRow: 'Zeile löschen',\n            insertColumnBefore: 'Spalte links einfügen',\n            insertColumnAfter: 'Spalte rechts einfügen',\n            deleteColumn: 'Spalte löschen',\n            fixedColumnWidth: 'Feste Spaltenbreite',\n            resize100: 'Zoom 100%',\n            resize75: 'Zoom 75%',\n            resize50: 'Zoom 50%',\n            resize25: 'Zoom 25%',\n            autoSize: 'Automatische Größenanpassung',\n            mirrorHorizontal: 'Horizontal spiegeln',\n            mirrorVertical: 'Vertikal spiegeln',\n            rotateLeft: 'Nach links drehen',\n            rotateRight: 'Nach rechts drehen',\n            maxSize: 'Maximale Größe',\n            minSize: 'Mindestgröße',\n            tableHeader: 'Tabellenüberschrift',\n            mergeCells: 'Zellen verbinden',\n            splitCells: 'Zellen teilen',\n            HorizontalSplit: 'Horizontal teilen',\n            VerticalSplit: 'Vertikal teilen'\n        },\n        menu: {\n            spaced: 'Buchstabenabstand',\n            bordered: 'Umrandet',\n            neon: 'Neon',\n            translucent: 'Durchscheinend',\n            shadow: 'Schatten',\n            code: 'Quellcode'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'de', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n\tif ( true && typeof module.exports === 'object') {\n\t\tmodule.exports = global.document ?\n\t\t\tfactory(global, true) :\n\t\t\tfunction (w) {\n\t\t\t\tif (!w.document) {\n\t\t\t\t\tthrow new Error('SUNEDITOR_LANG a window with a document');\n\t\t\t\t}\n\t\t\t\treturn factory(w);\n\t\t\t};\n\t} else {\n\t\tfactory(global);\n\t}\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n\tconst lang = {\n\t\tcode: 'es',\n\t\ttoolbar: {\n\t\t\tdefault: 'Valor por defecto',\n\t\t\tsave: 'Guardar',\n\t\t\tfont: 'Fuente',\n\t\t\tformats: 'Formato',\n\t\t\tfontSize: 'Tamaño de fuente',\n\t\t\tbold: 'Negrita',\n\t\t\tunderline: 'Subrayado',\n\t\t\titalic: 'Cursiva',\n\t\t\tstrike: 'Tachado',\n\t\t\tsubscript: 'Subíndice',\n\t\t\tsuperscript: 'Superíndice',\n\t\t\tremoveFormat: 'Eliminar formato',\n\t\t\tfontColor: 'Color de fuente',\n\t\t\thiliteColor: 'Color de resaltado',\n\t\t\tindent: 'Más tabulación',\n\t\t\toutdent: 'Menos tabulación',\n\t\t\talign: 'Alinear',\n\t\t\talignLeft: 'Alinear a la izquierda',\n\t\t\talignRight: 'Alinear a la derecha',\n\t\t\talignCenter: 'Alinear al centro',\n\t\t\talignJustify: 'Justificar',\n\t\t\tlist: 'Lista',\n\t\t\torderList: 'Lista ordenada',\n\t\t\tunorderList: 'Lista desordenada',\n\t\t\thorizontalRule: 'Horizontal line',\n\t\t\thr_solid: 'Línea horizontal solida',\n\t\t\thr_dotted: 'Línea horizontal punteada',\n\t\t\thr_dashed: 'Línea horizontal discontinua',\n\t\t\ttable: 'Tabla',\n\t\t\tlink: 'Link',\n\t\t\tmath: 'Matemáticas',\n\t\t\timage: 'Imagen',\n\t\t\tvideo: 'Video',\n\t\t\taudio: 'Audio',\n\t\t\tfullScreen: 'Pantalla completa',\n\t\t\tshowBlocks: 'Ver bloques',\n\t\t\tcodeView: 'Ver código fuente',\n\t\t\tundo: 'UndoDeshacer última acción',\n\t\t\tredo: 'Rehacer última acción',\n\t\t\tpreview: 'Vista previa',\n\t\t\tprint: 'Imprimir',\n\t\t\ttag_p: 'Párrafo',\n\t\t\ttag_div: 'Normal (DIV)',\n\t\t\ttag_h: 'Header',\n\t\t\ttag_blockquote: 'Cita',\n\t\t\ttag_pre: 'Código',\n\t\t\ttemplate: 'Plantilla',\n\t\t\tlineHeight: 'Altura de la línea',\n\t\t\tparagraphStyle: 'Estilo del parrafo',\n\t\t\ttextStyle: 'Estilo del texto',\n\t\t\timageGallery: 'Galería de imágenes',\n\t\t\tmention: 'Mencionar'\n\t\t},\n\t\tdialogBox: {\n\t\t\tlinkBox: {\n\t\t\t\ttitle: 'Insertar Link',\n\t\t\t\turl: '¿Hacia que URL lleva el link?',\n\t\t\t\ttext: 'Texto para mostrar',\n\t\t\t\tnewWindowCheck: 'Abrir en una nueva ventana'\n\t\t\t},\n\t\t\tmathBox: {\n                title: 'Matemáticas',\n                inputLabel: 'Notación Matemática',\n                fontSizeLabel: 'Tamaño de fuente',\n                previewLabel: 'Vista previa'\n            },\n\t\t\timageBox: {\n\t\t\t\ttitle: 'Insertar imagen',\n\t\t\t\tfile: 'Seleccionar desde los archivos',\n\t\t\t\turl: 'URL de la imagen',\n\t\t\t\taltText: 'Texto alternativo'\n\t\t\t},\n\t\t\tvideoBox: {\n\t\t\t\ttitle: 'Insertar Video',\n\t\t\t\tfile: 'Seleccionar desde los archivos',\n\t\t\t\turl: '¿URL del vídeo? Youtube/Vimeo'\n\t\t\t},\n\t\t\taudioBox: {\n                title: 'Insertar Audio',\n                file: 'Seleccionar desde los archivos',\n                url: 'URL de la audio'\n            },\n            browser: {\n                tags: 'Etiquetas',\n                search: 'Buscar',\n            },\n\t\t\tcaption: 'Insertar descripción',\n\t\t\tclose: 'Cerrar',\n\t\t\tsubmitButton: 'Enviar',\n\t\t\trevertButton: 'revertir',\n\t\t\tproportion: 'Restringir las proporciones',\n\t\t\tbasic: 'Basico',\n\t\t\tleft: 'Izquierda',\n\t\t\tright: 'derecha',\n\t\t\tcenter: 'Centro',\n\t\t\twidth: 'Ancho',\n\t\t\theight: 'Alto',\n\t\t\tsize: 'Tamaño',\n\t\t\tratio: 'Proporción'\n\t\t},\n\t\tcontroller: {\n\t\t\tedit: 'Editar',\n\t\t\tunlink: 'Desvincular',\n\t\t\tremove: 'RemoveQuitar',\n\t\t\tinsertRowAbove: 'Insertar fila arriba',\n\t\t\tinsertRowBelow: 'Insertar fila debajo',\n\t\t\tdeleteRow: 'Eliminar fila',\n\t\t\tinsertColumnBefore: 'Insertar columna antes',\n\t\t\tinsertColumnAfter: 'Insertar columna después',\n\t\t\tdeleteColumn: 'Eliminar columna',\n\t\t\tfixedColumnWidth: 'Ancho de columna fijo',\n\t\t\tresize100: 'Redimensionar 100%',\n\t\t\tresize75: 'Redimensionar 75%',\n\t\t\tresize50: 'Redimensionar 50%',\n\t\t\tresize25: 'Redimensionar 25%',\n\t\t\tautoSize: 'Tamaño automático',\n\t\t\tmirrorHorizontal: 'Espejo, Horizontal',\n\t\t\tmirrorVertical: 'Espejo, Vertical',\n\t\t\trotateLeft: 'Girar a la izquierda',\n\t\t\trotateRight: 'Girar a la derecha',\n\t\t\tmaxSize: 'Tamaño máximo',\n\t\t\tminSize: 'Tamaño minímo',\n\t\t\ttableHeader: 'Encabezado de tabla',\n\t\t\tmergeCells: 'Combinar celdas',\n\t\t\tsplitCells: 'Dividir celdas',\n\t\t\tHorizontalSplit: 'División horizontal',\n\t\t\tVerticalSplit: 'División vertical'\n\t\t},\n\t\tmenu: {\n\t\t\tspaced: 'Espaciado',\n\t\t\tbordered: 'Bordeado',\n\t\t\tneon: 'Neón',\n\t\t\ttranslucent: 'Translúcido',\n\t\t\tshadow: 'Sombreado',\n            code: 'Código'\n\t\t}\n\t};\n\n\tif (typeof noGlobal === typeof undefined) {\n\t\tif (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'es', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n\t}\n\n\treturn lang;\n}));\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'fr',\n        toolbar: {\n            default: 'Défaut',\n            save: 'Sauvegarder',\n            font: 'Police',\n            formats: 'Formats',\n            fontSize: 'Taille',\n            bold: 'Gras',\n            underline: 'Souligné',\n            italic: 'Italique',\n            strike: 'Barré',\n            subscript: 'Indice',\n            superscript: 'Exposant',\n            removeFormat: 'Éffacer  le Formatage',\n            fontColor: 'Couleur du texte',\n            hiliteColor: 'Couleur en arrière plan',\n            indent: 'Indenter',\n            outdent: 'Désindenter',\n            align: 'Alignenement',\n            alignLeft: 'À gauche',\n            alignRight: 'À droite',\n            alignCenter: 'Centré',\n            alignJustify: 'Justifié',\n            list: 'Liste',\n            orderList: 'Ordonnée',\n            unorderList: 'Non-ordonnée',\n            horizontalRule: 'Ligne horizontale',\n            hr_solid: 'Solide',\n            hr_dotted: 'Points',\n            hr_dashed: 'Tirets',\n            table: 'Table',\n            link: 'Lien',\n            math: 'Math',\n            image: 'Image',\n            video: 'Video',\n            audio: 'l\\'audio',\n            fullScreen: 'Plein écran',\n            showBlocks: 'Voir les blocs',\n            codeView: 'Voir le code',\n            undo: 'Annuler',\n            redo: 'Rétablir',\n            preview: 'Previsualiser',\n            print: 'Imprimer',\n            tag_p: 'Paragraphe',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Titre',\n            tag_blockquote: 'Citation',\n            tag_pre: 'Code',\n            template: 'Template',\n            lineHeight: 'Hauteur de la ligne',\n            paragraphStyle: 'Style de paragraphe',\n            textStyle: 'Style de texte',\n            imageGallery: 'Galerie d\\'images',\n            mention: 'Mention'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Insérer un lien',\n                url: 'Adresse URL du lien',\n                text: 'Texte à afficher',\n                newWindowCheck: 'Ouvrir dans une nouvelle fenêtre'\n            },\n            mathBox: {\n                title: 'Math',\n                inputLabel: 'Notation mathématique',\n                fontSizeLabel: 'Taille',\n                previewLabel: 'Previsualiser'\n            },\n            imageBox: {\n                title: 'Insérer une image',\n                file: 'Sélectionner le fichier',\n                url: 'Adresse URL du fichier',\n                altText: 'Texte Alternatif'\n            },\n            videoBox: {\n                title: 'Insérer une Vidéo',\n                file: 'Sélectionner le fichier',\n                url: 'URL d’intégration du média, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Insertar une l\\'audio',\n                file: 'Sélectionner le fichier',\n                url: 'Adresse URL du fichier'\n            },\n            browser: {\n                tags: 'Mots clés',\n                search: 'Chercher',\n            },\n            caption: 'Insérer une description',\n            close: 'Fermer',\n            submitButton: 'Appliquer',\n            revertButton: 'Revenir en arrière',\n            proportion: 'Maintenir le rapport hauteur/largeur',\n            basic: 'Basique',\n            left: 'Gauche',\n            right: 'Droite',\n            center: 'Centré',\n            width: 'Largeur',\n            height: 'Hauteur',\n            size: 'La taille',\n            ratio: 'Rapport'\n        },\n        controller: {\n            edit: 'Modifier',\n            unlink: 'Supprimer un lien',\n            remove: 'Effacer',\n            insertRowAbove: 'Insérer une ligne en dessous',\n            insertRowBelow: 'Insérer une ligne au dessus',\n            deleteRow: 'Effacer la ligne',\n            insertColumnBefore: 'Insérer une colonne avant',\n            insertColumnAfter: 'Insérer une colonne après',\n            deleteColumn: 'Effacer la colonne',\n            fixedColumnWidth: 'Largeur de colonne fixe',\n            resize100: 'Redimensionner à 100%',\n            resize75: 'Redimensionner à 75%',\n            resize50: 'Redimensionner à 50%',\n            resize25: 'Redimensionner à 25%',\n            autoSize: 'Taille automatique',\n            mirrorHorizontal: 'Mirroir, Horizontal',\n            mirrorVertical: 'Mirroir, Vertical',\n            rotateLeft: 'Rotation à gauche',\n            rotateRight: 'Rotation à droite',\n            maxSize: 'Taille max',\n            minSize: 'Taille min',\n            tableHeader: 'En-tête de table',\n            mergeCells: 'Fusionner les cellules',\n            splitCells: 'Diviser les Cellules',\n            HorizontalSplit: 'Scission horizontale',\n            VerticalSplit: 'Scission verticale'\n        },\n        menu: {\n            spaced: 'Espacement',\n            bordered: 'Ligne de démarcation',\n            neon: 'Néon',\n            translucent: 'Translucide',\n            shadow: 'L\\'ombre',\n            code: 'Code'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'fr', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ja',\n        toolbar: {\n            default: 'デフォルト',\n            save: '保存',\n            font: 'フォント',\n            formats: '段落形式',\n            fontSize: 'サイズ',\n            bold: '太字',\n            underline: '下線',\n            italic: 'イタリック',\n            strike: '取り消し線',\n            subscript: '下付き',\n            superscript: '上付き',\n            removeFormat: '形式を削除',\n            fontColor: '文字色',\n            hiliteColor: '文字の背景色',\n            indent: 'インデント',\n            outdent: 'インデント',\n            align: 'ソート',\n            alignLeft: '左揃え',\n            alignRight: '右揃え',\n            alignCenter: '中央揃え',\n            alignJustify: '両端揃え',\n            list: 'リスト',\n            orderList: '数値ブリット',\n            unorderList: '円形ブリット',\n            horizontalRule: '水平線を挿入',\n            hr_solid: '実線',\n            hr_dotted: '点線',\n            hr_dashed: 'ダッシュ',\n            table: 'テーブル',\n            link: 'リンク',\n            math: '数学',\n            image: '画像',\n            video: '動画',\n            audio: 'オーディオ',\n            fullScreen: 'フルスクリーン',\n            showBlocks: 'ブロック表示',\n            codeView: 'HTMLの編集',\n            undo: '元に戻す',\n            redo: '再実行',\n            preview: 'プレビュー',\n            print: '印刷',\n            tag_p: '本文',\n            tag_div: '基本（DIV）',\n            tag_h: 'タイトル',\n            tag_blockquote: '引用',\n            tag_pre: 'コード',\n            template: 'テンプレート',\n            lineHeight: '行の高さ',\n            paragraphStyle: '段落スタイル',\n            textStyle: 'テキストスタイル',\n            imageGallery: 'イメージギャラリー',\n            mention: '言及する'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'リンクの挿入',\n                url: 'インターネットアドレス',\n                text: '画面のテキスト',\n                newWindowCheck: '別ウィンドウで開く'\n            },\n            mathBox: {\n                title: '数学',\n                inputLabel: '数学表記',\n                fontSizeLabel: 'サイズ',\n                previewLabel: 'プレビュー'\n            },\n            imageBox: {\n                title: '画像の挿入',\n                file: 'ファイルの選択',\n                url: 'イメージアドレス',\n                altText: '置換文字列'\n            },\n            videoBox: {\n                title: '動画を挿入',\n                file: 'ファイルの選択',\n                url: 'メディア埋め込みアドレス, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'オーディオを挿入',\n                file: 'ファイルの選択',\n                url: 'オーディオアドレス'\n            },\n            browser: {\n                tags: 'タグ',\n                search: '探す',\n            },\n            caption: '説明付け',\n            close: '閉じる',\n            submitButton: '確認',\n            revertButton: '元に戻す',\n            proportion: 'の割合カスタマイズ',\n            basic: '基本',\n            left: '左',\n            right: '右',\n            center: '中央',\n            width: '横',\n            height: '縦',\n            size: 'サイズ',\n            ratio: '比率'\n        },\n        controller: {\n            edit: '編集',\n            unlink: 'リンク解除',\n            remove: '削除',\n            insertRowAbove: '上に行を挿入',\n            insertRowBelow: '下に行を挿入',\n            deleteRow: '行の削除',\n            insertColumnBefore: '左に列を挿入',\n            insertColumnAfter: '右に列を挿入',\n            deleteColumn: '列を削除する',\n            fixedColumnWidth: '固定列幅',\n            resize100: '100％ サイズ',\n            resize75: '75％ サイズ',\n            resize50: '50％ サイズ',\n            resize25: '25％ サイズ',\n            autoSize: '自動サイズ',\n            mirrorHorizontal: '左右反転',\n            mirrorVertical: '上下反転',\n            rotateLeft: '左に回転',\n            rotateRight: '右に回転',\n            maxSize: '最大サイズ',\n            minSize: '最小サイズ',\n            tableHeader: '表のヘッダー',\n            mergeCells: 'セルの結合',\n            splitCells: 'セルを分割',\n            HorizontalSplit: '横分割',\n            VerticalSplit: '垂直分割'\n        },\n        menu: {\n            spaced: '文字間隔',\n            bordered: '境界線',\n            neon: 'ネオン',\n            translucent: '半透明',\n            shadow: '影',\n            code: 'コード'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ja', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ko',\n        toolbar: {\n            default: '기본값',\n            save: '저장',\n            font: '글꼴',\n            formats: '문단 형식',\n            fontSize: '크기',\n            bold: '굵게',\n            underline: '밑줄',\n            italic: '기울임',\n            strike: '취소선',\n            subscript: '아래 첨자',\n            superscript: '위 첨자',\n            removeFormat: '형식 제거',\n            fontColor: '글자색',\n            hiliteColor: '배경색',\n            indent: '들여쓰기',\n            outdent: '내어쓰기',\n            align: '정렬',\n            alignLeft: '왼쪽 정렬',\n            alignRight: '오른쪽 정렬',\n            alignCenter: '가운데 정렬',\n            alignJustify: '양쪽 정렬',\n            list: '리스트',\n            orderList: '숫자형 리스트',\n            unorderList: '원형 리스트',\n            horizontalRule: '가로 줄 삽입',\n            hr_solid: '실선',\n            hr_dotted: '점선',\n            hr_dashed: '대시',\n            table: '테이블',\n            link: '링크',\n            math: '수식',\n            image: '이미지',\n            video: '동영상',\n            audio: '오디오',\n            fullScreen: '전체 화면',\n            showBlocks: '블록 보기',\n            codeView: 'HTML 편집',\n            undo: '실행 취소',\n            redo: '다시 실행',\n            preview: '미리보기',\n            print: '인쇄',\n            tag_p: '본문',\n            tag_div: '기본 (DIV)',\n            tag_h: '제목',\n            tag_blockquote: '인용문',\n            tag_pre: '코드',\n            template: '템플릿',\n            lineHeight: '줄 높이',\n            paragraphStyle: '문단 스타일',\n            textStyle: '글자 스타일',\n            imageGallery: '이미지 갤러리',\n            mention: '멘션'\n        },\n        dialogBox: {\n            linkBox: {\n                title: '링크 삽입',\n                url: '인터넷 주소',\n                text: '화면 텍스트',\n                newWindowCheck: '새창으로 열기'\n            },\n            mathBox: {\n                title: '수식',\n                inputLabel: '수학적 표기법',\n                fontSizeLabel: '글자 크기',\n                previewLabel: '미리보기'\n            },\n            imageBox: {\n                title: '이미지 삽입',\n                file: '파일 선택',\n                url: '이미지 주소',\n                altText: '대체 문자열'\n            },\n            videoBox: {\n                title: '동영상 삽입',\n                file: '파일 선택',\n                url: '미디어 임베드 주소, 유튜브/비메오'\n            },\n            audioBox: {\n                title: '오디오 삽입',\n                file: '파일 선택',\n                url: '오디오 파일 주소'\n            },\n            browser: {\n                tags: '태그',\n                search: '검색',\n            },\n            caption: '설명 넣기',\n            close: '닫기',\n            submitButton: '확인',\n            revertButton: '되돌리기',\n            proportion: '비율 맞춤',\n            basic: '기본',\n            left: '왼쪽',\n            right: '오른쪽',\n            center: '가운데',\n            width: '가로',\n            height: '세로',\n            size: '크기',\n            ratio: '비율'\n        },\n        controller: {\n            edit: '편집',\n            unlink: '링크 해제',\n            remove: '삭제',\n            insertRowAbove: '위에 행 삽입',\n            insertRowBelow: '아래에 행 삽입',\n            deleteRow: '행 삭제',\n            insertColumnBefore: '왼쪽에 열 삽입',\n            insertColumnAfter: '오른쪽에 열 삽입',\n            deleteColumn: '열 삭제',\n            fixedColumnWidth: '고정 된 열 너비',\n            resize100: '100% 크기',\n            resize75: '75% 크기',\n            resize50: '50% 크기',\n            resize25: '25% 크기',\n            autoSize: '자동 크기',\n            mirrorHorizontal: '좌우 반전',\n            mirrorVertical: '상하 반전',\n            rotateLeft: '왼쪽으로 회전',\n            rotateRight: '오른쪽으로 회전',\n            maxSize: '최대화',\n            minSize: '최소화',\n            tableHeader: '테이블 제목',\n            mergeCells: '셀 병합',\n            splitCells: '셀 분할',\n            HorizontalSplit: '가로 분할',\n            VerticalSplit: '세로 분할'\n        },\n        menu: {\n            spaced: '글자 간격',\n            bordered: '경계선',\n            neon: '네온',\n            translucent: '반투명',\n            shadow: '그림자',\n            code: '코드'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ko', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * Brazilian Portuguese translation by lpeil github\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'pt_br',\n        toolbar: {\n            default: 'Padrão',\n            save: 'Salvar',\n            font: 'Fonte',\n            formats: 'Formatos',\n            fontSize: 'Tamanho',\n            bold: 'Negrito',\n            underline: 'Sublinhado',\n            italic: 'Itálico',\n            strike: 'Riscado',\n            subscript: 'Subescrito',\n            superscript: 'Sobrescrito',\n            removeFormat: 'Remover Formatação',\n            fontColor: 'Cor da Fonte',\n            hiliteColor: 'Cor de destaque',\n            indent: 'Recuo',\n            outdent: 'Avançar',\n            align: 'Alinhar',\n            alignLeft: 'Alinhar à esquerda',\n            alignRight: 'Alinhar à direita',\n            alignCenter: 'Alinhar ao centro',\n            alignJustify: 'Alinhat justificado',\n            list: 'Lista',\n            orderList: 'Lista ordenada',\n            unorderList: 'Lista desordenada',\n            horizontalRule: 'Linha horizontal',\n            hr_solid: 'solida',\n            hr_dotted: 'pontilhada',\n            hr_dashed: 'tracejada',\n            table: 'Tabela',\n            link: 'Link',\n            math: 'Matemática',\n            image: 'Imagem',\n            video: 'Vídeo',\n            audio: 'Áudio',\n            fullScreen: 'Tela cheia',\n            showBlocks: 'Mostrar blocos',\n            codeView: 'Mostrar códigos',\n            undo: 'Voltar',\n            redo: 'Refazer',\n            preview: 'Prever',\n            print: 'imprimir',\n            tag_p: 'Paragráfo',\n            tag_div: '(DIV) Normal',\n            tag_h: 'Cabeçalho',\n            tag_blockquote: 'Citar',\n            tag_pre: 'Código',\n            template: 'Modelo',\n            lineHeight: 'Altura da linha',\n            paragraphStyle: 'Estilo do parágrafo',\n            textStyle: 'Estilo do texto',\n            imageGallery: 'Galeria de imagens',\n            mention: 'Menção'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserir link',\n                url: 'URL para link',\n                text: 'Texto à mostrar',\n                newWindowCheck: 'Abrir em nova guia'\n            },\n            mathBox: {\n                title: 'Matemática',\n                inputLabel: 'Notação matemática',\n                fontSizeLabel: 'Tamanho',\n                previewLabel: 'Prever'\n            },\n            imageBox: {\n                title: 'Inserir imagens',\n                file: 'Selecionar arquivos',\n                url: 'URL da imagem',\n                altText: 'Texto alternativo'\n            },\n            videoBox: {\n                title: 'Inserir vídeo',\n                file: 'Selecionar arquivos',\n                url: 'URL do YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Inserir audio',\n                file: 'Selecionar arquivos',\n                url: 'URL da audio'\n            },\n            browser: {\n                tags: 'Tag',\n                search: 'Procurar',\n            },\n            caption: 'Inserir descrição',\n            close: 'Fechar',\n            submitButton: 'Enviar',\n            revertButton: 'Reverter',\n            proportion: 'restringir proporções',\n            basic: 'Básico',\n            left: 'Esquerda',\n            right: 'Direita',\n            center: 'Centro',\n            width: 'Largura',\n            height: 'Altura',\n            size: 'Tamanho',\n            ratio: 'Proporções'\n        },\n        controller: {\n            edit: 'Editar',\n            unlink: 'Retirar link',\n            remove: 'Remover',\n            insertRowAbove: 'Inserir linha acima',\n            insertRowBelow: 'Inserir linha abaixo',\n            deleteRow: 'Deletar linha',\n            insertColumnBefore: 'Inserir coluna antes',\n            insertColumnAfter: 'Inserir coluna depois',\n            deleteColumn: 'Deletar coluna',\n            fixedColumnWidth: 'Largura fixa da coluna',\n            resize100: 'Redimensionar para 100%',\n            resize75: 'Redimensionar para 75%',\n            resize50: 'Redimensionar para 50%',\n            resize25: 'Redimensionar para 25%',\n            autoSize: 'Tamanho automático',\n            mirrorHorizontal: 'Espelho, Horizontal',\n            mirrorVertical: 'Espelho, Vertical',\n            rotateLeft: 'Girar para esquerda',\n            rotateRight: 'Girar para direita',\n            maxSize: 'Tam max',\n            minSize: 'Tam min',\n            tableHeader: 'Cabeçalho da tabela',\n            mergeCells: 'Mesclar células',\n            splitCells: 'Dividir células',\n            HorizontalSplit: 'Divisão horizontal',\n            VerticalSplit: 'Divisão vertical'\n        },\n        menu: {\n            spaced: 'Espaçado',\n            bordered: 'Com borda',\n            neon: 'Néon',\n            translucent: 'Translúcido',\n            shadow: 'Sombreado',\n            code: 'Código'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pt_br', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ru',\n        toolbar: {\n            default: 'По умолчанию',\n            save: 'Сохранить',\n            font: 'Шрифт',\n            formats: 'Стиль абзаца',\n            fontSize: 'Размер шрифта',\n            bold: 'Полужирный',\n            underline: 'Подчёркнутый',\n            italic: 'Курсив',\n            strike: 'Зачеркнутый',\n            subscript: 'Нижний индекс',\n            superscript: 'Верхний индекс',\n            removeFormat: 'Очистить форматирование',\n            fontColor: 'Цвет текста',\n            hiliteColor: 'Цвет фона',\n            indent: 'Увеличить отступ',\n            outdent: 'Уменьшить отступ',\n            align: 'Выравнивание',\n            alignLeft: 'Слева',\n            alignRight: 'Справа',\n            alignCenter: 'По центру',\n            alignJustify: 'По ширине',\n            list: 'Списки',\n            orderList: 'Нумерованный',\n            unorderList: 'Маркированный',\n            horizontalRule: 'Горизонтальная линия',\n            hr_solid: 'Сплошная',\n            hr_dotted: 'Пунктир',\n            hr_dashed: 'Штриховая',\n            table: 'Таблица',\n            link: 'Ссылка',\n            math: 'математический',\n            image: 'Изображение',\n            video: 'Видео',\n            audio: 'Аудио',\n            fullScreen: 'Полный экран',\n            showBlocks: 'Блочный вид',\n            codeView: 'Редактировать HTML',\n            undo: 'Отменить',\n            redo: 'Вернуть',\n            preview: 'Предварительный просмотр',\n            print: 'Печать',\n            tag_p: 'Текст',\n            tag_div: 'Базовый',\n            tag_h: 'Заголовок',\n            tag_blockquote: 'Цитата',\n            tag_pre: 'Код',\n            template: 'Шаблон',\n            lineHeight: 'Высота линии',\n            paragraphStyle: 'Стиль абзаца',\n            textStyle: 'Стиль текста',\n            imageGallery: 'Галерея',\n            mention: 'Упоминание'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Вставить ссылку',\n                url: 'Ссылка',\n                text: 'Текст',\n                newWindowCheck: 'Открывать в новом окне'\n            },\n            mathBox: {\n                title: 'математический',\n                inputLabel: 'Математическая запись',\n                fontSizeLabel: 'Кегль',\n                previewLabel: 'Предварительный просмотр'\n            },\n            imageBox: {\n                title: 'Вставить изображение',\n                file: 'Выберите файл',\n                url: 'Адрес изображения',\n                altText: 'Текстовое описание изображения'\n            },\n            videoBox: {\n                title: 'Вставить видео',\n                file: 'Выберите файл',\n                url: 'Ссылка на видео, Youtube,Vimeo'\n            },\n            audioBox: {\n                title: 'Вставить аудио',\n                file: 'Выберите файл',\n                url: 'Адрес аудио'\n            },\n            browser: {\n                tags: 'Теги',\n                search: 'Поиск',\n            },\n            caption: 'Добавить подпись',\n            close: 'Закрыть',\n            submitButton: 'Подтвердить',\n            revertButton: 'Сбросить',\n            proportion: 'Сохранить пропорции',\n            basic: 'Без обтекания',\n            left: 'Слева',\n            right: 'Справа',\n            center: 'По центру',\n            width: 'Ширина',\n            height: 'Высота',\n            size: 'Размер',\n            ratio: 'Соотношение'\n        },\n        controller: {\n            edit: 'Изменить',\n            unlink: 'Убрать ссылку',\n            remove: 'Удалить',\n            insertRowAbove: 'Вставить строку выше',\n            insertRowBelow: 'Вставить строку ниже',\n            deleteRow: 'Удалить строку',\n            insertColumnBefore: 'Вставить столбец слева',\n            insertColumnAfter: 'Вставить столбец справа',\n            deleteColumn: 'Удалить столбец',\n            fixedColumnWidth: 'Фиксированная ширина столбца',\n            resize100: 'Размер 100%',\n            resize75: 'Размер 75%',\n            resize50: 'Размер 50%',\n            resize25: 'Размер 25%',\n            autoSize: 'Авто размер',\n            mirrorHorizontal: 'Отразить по горизонтали',\n            mirrorVertical: 'Отразить по вертикали',\n            rotateLeft: 'Повернуть против часовой стрелки',\n            rotateRight: 'Повернуть по часовой стрелке',\n            maxSize: 'Ширина по размеру страницы',\n            minSize: 'Ширина по содержимому',\n            tableHeader: 'Строка заголовков',\n            mergeCells: 'Объединить ячейки',\n            splitCells: 'Разделить ячейку',\n            HorizontalSplit: 'Разделить горизонтально',\n            VerticalSplit: 'Разделить вертикально'\n        },\n        menu: {\n            spaced: 'интервал',\n            bordered: 'Граничная Линия',\n            neon: 'неон',\n            translucent: 'полупрозрачный',\n            shadow: 'Тень',\n            code: 'Код'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ru', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG una finestra con un documento');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'it',\n        toolbar: {\n            default: 'Predefinita',\n            save: 'Salva',\n            font: 'Font',\n            formats: 'Formato',\n            fontSize: 'Grandezza',\n            bold: 'Grassetto',\n            underline: 'Sottolineato',\n            italic: 'Italico',\n            strike: 'Cancellato',\n            subscript: 'Apice',\n            superscript: 'Pedice',\n            removeFormat: 'Rimuovi Formattazione',\n            fontColor: 'Colore Testo',\n            hiliteColor: 'Colore Sottolineatura',\n            indent: 'Aumenta rientro',\n            outdent: 'Riduci rientro',\n            align: 'Allinea',\n            alignLeft: 'Sinistra',\n            alignRight: 'Destra',\n            alignCenter: 'Centrato',\n            alignJustify: 'Giustificato',\n            list: 'Lista',\n            orderList: 'Lista numerata',\n            unorderList: 'Lista Puntata',\n            horizontalRule: 'Linea Orizzontale',\n            hr_solid: 'Linea',\n            hr_dotted: 'Puntinato',\n            hr_dashed: 'Tratteggiato',\n            table: 'Tabella',\n            link: 'Link',\n            math: 'Matematica',\n            image: 'Immagine',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Tutto Schermo',\n            showBlocks: 'Visualizza Blocchi',\n            codeView: 'Visualizza Codice',\n            undo: 'Annulla',\n            redo: 'Ripristina',\n            preview: 'Anteprima',\n            print: 'Stampa',\n            tag_p: 'Paragrafo',\n            tag_div: 'DIV Normale',\n            tag_h: 'Intestazione',\n            tag_blockquote: 'Citazione',\n            tag_pre: 'Codice',\n            template: 'Template',\n            lineHeight: 'Altezza linea',\n            paragraphStyle: 'Stile Paragrafo',\n            textStyle: 'Stile Testo',\n            imageGallery: 'Galleria di immagini',\n            mention: 'Citare'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserisci un Link',\n                url: 'Indirizzo in link',\n                text: 'Applica Testo da visualizzare',\n                newWindowCheck: 'Apri in una nuova finestra'\n            },\n            mathBox: {\n                title: 'Matematica',\n                inputLabel: 'Notazione matematica',\n                fontSizeLabel: 'Grandezza testo',\n                previewLabel: 'Anteprima'\n            },\n            imageBox: {\n                title: 'Inserisci Immagine',\n                file: 'Seleziona da file',\n                url: 'Indirizzo immagine',\n                altText: 'Testo alternativo (ALT)'\n            },\n            videoBox: {\n                title: 'Inserisci Video',\n                file: 'Seleziona da file',\n                url: 'Indirizzo video, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Insertar Audio',\n                file: 'Seleziona da file',\n                url: 'Indirizzo audio'\n            },\n            browser: {\n                tags: 'tag',\n                search: 'Ricerca',\n            },\n            caption: 'Inserisci descrizione',\n            close: 'ClChiudiose',\n            submitButton: 'Invia',\n            revertButton: 'Annulla',\n            proportion: 'Proporzionale',\n            basic: 'Da impostazione',\n            left: 'Sinistra',\n            right: 'Destra',\n            center: 'Centrato',\n            width: 'Larghezza',\n            height: 'Altezza',\n            size: 'Peso',\n            ratio: 'Rapporto'\n        },\n        controller: {\n            edit: 'Modifica',\n            unlink: 'Elimina link',\n            remove: 'Rimuovi',\n            insertRowAbove: 'Inserisci linea sopra',\n            insertRowBelow: 'Inserisci linea sotto',\n            deleteRow: 'Cancella riga',\n            insertColumnBefore: 'Inserisci una colonna prima',\n            insertColumnAfter: 'Inserisci una colonna dopo',\n            deleteColumn: 'Cancella colonna',\n            fixedColumnWidth: 'Larghezza della colonna fissa',\n            resize100: 'Ridimensiona 100%',\n            resize75: 'Ridimensiona 75%',\n            resize50: 'Ridimensiona 50%',\n            resize25: 'Ridimensiona 25%',\n            autoSize: 'Ridimensione automatica',\n            mirrorHorizontal: 'Specchia, orizontale',\n            mirrorVertical: 'Specchia, verticale',\n            rotateLeft: 'Ruota a sinistra',\n            rotateRight: 'Ruota a destra',\n            maxSize: 'Dimensione massima',\n            minSize: 'Dimensione minima',\n            tableHeader: 'Intestazione Tabella',\n            mergeCells: 'Unisci celle',\n            splitCells: 'Dividi celle',\n            HorizontalSplit: 'Separa orizontale',\n            VerticalSplit: 'Separa verticale'\n        },\n        menu: {\n            spaced: 'Spaziatura',\n            bordered: 'Bordo',\n            neon: 'Luminoso',\n            translucent: 'Translucente',\n            shadow: 'Ombra',\n            code: 'Codice'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'it', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'zh_cn',\n        toolbar: {\n            default: '默认',\n            save: '保存',\n            font: '字体',\n            formats: '格式',\n            fontSize: '字号',\n            bold: '粗体',\n            underline: '下划线',\n            italic: '斜体',\n            strike: '删除线',\n            subscript: '下标',\n            superscript: '上标',\n            removeFormat: '清除格式',\n            fontColor: '字体颜色',\n            hiliteColor: '背景颜色',\n            indent: '增加缩进',\n            outdent: '减少缩进',\n            align: '对齐方式',\n            alignLeft: '左对齐',\n            alignRight: '右对齐',\n            alignCenter: '居中',\n            alignJustify: '两端对齐',\n            list: '列表',\n            orderList: '有序列表',\n            unorderList: '无序列表',\n            horizontalRule: '水平线',\n            hr_solid: '实线',\n            hr_dotted: '点线',\n            hr_dashed: '虚线',\n            table: '表格',\n            link: '超链接',\n            math: '数学',\n            image: '图片',\n            video: '视频',\n            audio: '音讯',\n            fullScreen: '全屏',\n            showBlocks: '显示块区域',\n            codeView: '代码视图',\n            undo: '撤消',\n            redo: '恢复',\n            preview: '预览',\n            print: '打印',\n            tag_p: '段落',\n            tag_div: '正文 (DIV)',\n            tag_h: '标题',\n            tag_blockquote: '引用',\n            tag_pre: '代码',\n            template: '模板',\n            lineHeight: '行高',\n            paragraphStyle: '段落样式',\n            textStyle: '文字样式',\n            imageGallery: '图片库',\n            mention: '提到'\n        },\n        dialogBox: {\n            linkBox: {\n                title: '插入超链接',\n                url: '网址',\n                text: '字体',\n                newWindowCheck: '在新标签页中打开'\n            },\n            mathBox: {\n                title: '数学',\n                inputLabel: '数学符号',\n                fontSizeLabel: '字号',\n                previewLabel: '预览'\n            },\n            imageBox: {\n                title: '插入图片',\n                file: '上传图片',\n                url: '图片网址',\n                altText: '替换文字'\n            },\n            videoBox: {\n                title: '插入视频',\n                file: '上传图片',\n                url: '嵌入网址, Youtube,Vimeo'\n            },\n            audioBox: {\n                title: '插入音频',\n                file: '上传图片',\n                url: '音频网址'\n            },\n            browser: {\n                tags: '标签',\n                search: '搜索',\n            },\n            caption: '标题',\n            close: '取消',\n            submitButton: '确定',\n            revertButton: '恢复',\n            proportion: '比例',\n            basic: '基本',\n            left: '左',\n            right: '右',\n            center: '居中',\n            width: '宽度',\n            height: '高度',\n            size: '尺寸',\n            ratio: '比'\n        },\n        controller: {\n            edit: '编辑',\n            unlink: '去除链接',\n            remove: '删除',\n            insertRowAbove: '在上方插入',\n            insertRowBelow: '在下方插入',\n            deleteRow: '删除行',\n            insertColumnBefore: '在左侧插入',\n            insertColumnAfter: '在右侧插入',\n            deleteColumn: '删除列',\n            fixedColumnWidth: '固定列宽',\n            resize100: '放大 100%',\n            resize75: '放大 75%',\n            resize50: '放大 50%',\n            resize25: '放大 25%',\n            mirrorHorizontal: '翻转左右',\n            mirrorVertical: '翻转上下',\n            rotateLeft: '向左旋转',\n            rotateRight: '向右旋转',\n            maxSize: '最大尺寸',\n            minSize: '最小尺寸',\n            tableHeader: '表格标题',\n            mergeCells: '合并单元格',\n            splitCells: '分割单元格',\n            HorizontalSplit: '水平分割',\n            VerticalSplit: '垂直分割'\n        },\n        menu: {\n            spaced: '间隔开',\n            bordered: '边界线',\n            neon: '霓虹灯',\n            translucent: '半透明',\n            shadow: '阴影',\n            code: '代码'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'zh_cn', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ro',\n        toolbar: {\n            default: 'Default',\n            save: 'Salvează',\n            font: 'Font',\n            formats: 'Format',\n            fontSize: 'Dimensiune',\n            bold: 'Îngroșat',\n            underline: 'Subliniat',\n            italic: 'Înclinat',\n            strike: 'Tăiat',\n            subscript: 'Subscript',\n            superscript: 'Superscript',\n            removeFormat: 'Șterge formatare',\n            fontColor: 'Culoare font',\n            hiliteColor: 'Culoare de evidențiere',\n            indent: 'Indentează',\n            outdent: 'Fără indentare',\n            align: 'Aliniere',\n            alignLeft: 'Aliniere la stânga',\n            alignRight: 'Aliniere la dreapta',\n            alignCenter: 'Aliniere la centru',\n            alignJustify: 'Aliniere stânga - dreapta',\n            list: 'Listă',\n            orderList: 'Listă ordonată',\n            unorderList: 'Listă neordonată',\n            horizontalRule: 'Linie orizontală',\n            hr_solid: 'Solid',\n            hr_dotted: 'Punctat',\n            hr_dashed: 'Punctate',\n            table: 'Tabel',\n            link: 'Link',\n            math: 'Matematică',\n            image: 'Imagine',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Tot ecranul',\n            showBlocks: 'Arată blocuri',\n            codeView: 'Vizualizare cod',\n            undo: 'Anulează',\n            redo: 'Refă',\n            preview: 'Previzualizare',\n            print: 'printează',\n            tag_p: 'Paragraf',\n            tag_div: 'Normal (DIV)',\n            tag_h: 'Antet',\n            tag_blockquote: 'Quote',\n            tag_pre: 'Citat',\n            template: 'Template',\n            lineHeight: 'Înălțime linie',\n            paragraphStyle: 'Stil paragraf',\n            textStyle: 'Stil text',\n            imageGallery: 'Galerie de imagini',\n            mention: 'Mentiune'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Inserează Link',\n                url: 'Adresă link',\n                text: 'Text de afișat',\n                newWindowCheck: 'Deschide în fereastră nouă'\n            },\n            mathBox: {\n                title: 'Matematică',\n                inputLabel: 'Notație matematică',\n                fontSizeLabel: 'Dimensiune font',\n                previewLabel: 'Previzualizare'\n            },\n            imageBox: {\n                title: 'Inserează imagine',\n                file: 'Selectează',\n                url: 'URL imagine',\n                altText: 'text alternativ'\n            },\n            videoBox: {\n                title: 'Inserează video',\n                file: 'Selectează',\n                url: 'Include URL, youtube/vimeo'\n            },\n            audioBox: {\n                title: 'Inserează Audio',\n                file: 'Selectează',\n                url: 'URL Audio'\n            },\n            browser: {\n                tags: 'Etichete',\n                search: 'Căutareim',\n            },\n            caption: 'Inserează descriere',\n            close: 'Închide',\n            submitButton: 'Salvează',\n            revertButton: 'Revenire',\n            proportion: 'Constrânge proporțiile',\n            basic: 'De bază',\n            left: 'Stânga',\n            right: 'Dreapta',\n            center: 'Centru',\n            width: 'Lățime',\n            height: 'Înălțime',\n            size: 'Dimensiune',\n            ratio: 'Ratie'\n        },\n        controller: {\n            edit: 'Editează',\n            unlink: 'Scoate link',\n            remove: 'Elimină',\n            insertRowAbove: 'Inserează rând deasupra',\n            insertRowBelow: 'Inserează rând dedesupt',\n            deleteRow: 'Șterge linie',\n            insertColumnBefore: 'Inserează coloană înainte',\n            insertColumnAfter: 'Inserează coloană după',\n            deleteColumn: 'Șterge coloană',\n            fixedColumnWidth: 'Lățime fixă coloană',\n            resize100: 'Redimensionare 100%',\n            resize75: 'Redimensionare 75%',\n            resize50: 'Redimensionare 50%',\n            resize25: 'Redimensionare 25%',\n            autoSize: 'Dimensiune automată',\n            mirrorHorizontal: 'Oglindă, orizontal',\n            mirrorVertical: 'Oglindă, vertical',\n            rotateLeft: 'Rotește la stânga',\n            rotateRight: 'Rotește la dreapta',\n            maxSize: 'Dimensiune maximă',\n            minSize: 'Dimensiune minimă',\n            tableHeader: 'Antet tabel',\n            mergeCells: 'Îmbină celule',\n            splitCells: 'Divizează celule',\n            HorizontalSplit: 'Despicare orizontală',\n            VerticalSplit: 'Despicare verticală'\n        },\n        menu: {\n            spaced: 'Spațiat',\n            bordered: 'Mărginit',\n            neon: 'Neon',\n            translucent: 'Translucent',\n            shadow: 'Umbră',\n            code: 'Citat'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ro', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'pl',\n        toolbar: {\n            default: 'Domyślne',\n            save: 'Zapisz',\n            font: 'Czcionka',\n            formats: 'Formaty',\n            fontSize: 'Rozmiar',\n            bold: 'Pogrubienie',\n            underline: 'Podkreślenie',\n            italic: 'Kursywa',\n            strike: 'Przekreślenie',\n            subscript: 'Indeks dolny',\n            superscript: 'Indeks górny',\n            removeFormat: 'Wyczyść formatowanie',\n            fontColor: 'Kolor tekstu',\n            hiliteColor: 'Kolor tła tekstu',\n            indent: 'Zwiększ wcięcie',\n            outdent: 'Zmniejsz wcięcie',\n            align: 'Wyrównaj',\n            alignLeft: 'Do lewej',\n            alignRight: 'Do prawej',\n            alignCenter: 'Do środka',\n            alignJustify: 'Wyjustuj',\n            list: 'Lista',\n            orderList: 'Lista numerowana',\n            unorderList: 'Lista wypunktowana',\n            horizontalRule: 'Pozioma linia',\n            hr_solid: 'Ciągła',\n            hr_dotted: 'Kropkowana',\n            hr_dashed: 'Przerywana',\n            table: 'Tabela',\n            link: 'Odnośnik',\n            math: 'Matematyczne',\n            image: 'Obraz',\n            video: 'Wideo',\n            audio: 'Audio',\n            fullScreen: 'Pełny ekran',\n            showBlocks: 'Pokaż bloki',\n            codeView: 'Widok kodu',\n            undo: 'Cofnij',\n            redo: 'Ponów',\n            preview: 'Podgląd', \n            print: 'Drukuj',\n            tag_p: 'Akapit',\n            tag_div: 'Blok (DIV)',\n            tag_h: 'Nagłówek H',\n            tag_blockquote: 'Cytat',\n            tag_pre: 'Kod',\n            template: 'Szablon',\n            lineHeight: 'Odstęp między wierszami',\n            paragraphStyle: 'Styl akapitu',\n            textStyle: 'Styl tekstu',\n            imageGallery: 'Galeria obrazów',\n            mention: 'Wzmianka'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Wstaw odnośnik',\n                url: 'Adres URL',\n                text: 'Tekst do wyświetlenia',\n                newWindowCheck: 'Otwórz w nowym oknie'\n            },\n            mathBox: {\n                title: 'Matematyczne',\n                inputLabel: 'Zapis matematyczny',\n                fontSizeLabel: 'Rozmiar czcionki',\n                previewLabel: 'Podgląd'\n            },\n            imageBox: {\n                title: 'Wstaw obraz',\n                file: 'Wybierz plik',\n                url: 'Adres URL obrazka',\n                altText: 'Tekst alternatywny'\n            },\n            videoBox: {\n                title: 'Wstaw wideo',\n                file: 'Wybierz plik',\n                url: 'Adres URL video, np. YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Wstaw audio',\n                file: 'Wybierz plik',\n                url: 'Adres URL audio'\n            },\n            browser: {\n                tags: 'Tagi',\n                search: 'Szukaj',\n            },\n            caption: 'Wstaw opis',\n            close: 'Zamknij',\n            submitButton: 'Zatwierdź',\n            revertButton: 'Cofnij zmiany',\n            proportion: 'Ogranicz proporcje',\n            basic: 'Bez wyrównania',\n            left: 'Do lewej',\n            right: 'Do prawej',\n            center: 'Do środka',\n            width: 'Szerokość',\n            height: 'Wysokość',\n            size: 'Rozmiar',\n            ratio: 'Proporcje'\n        },\n        controller: {\n            edit: 'Edycja',\n            unlink: 'Usuń odnośnik',\n            remove: 'Usuń',\n            insertRowAbove: 'Wstaw wiersz powyżej',\n            insertRowBelow: 'Wstaw wiersz poniżej',\n            deleteRow: 'Usuń wiersz',\n            insertColumnBefore: 'Wstaw kolumnę z lewej',\n            insertColumnAfter: 'Wstaw kolumnę z prawej',\n            deleteColumn: 'Usuń kolumnę',\n            fixedColumnWidth: 'Stała szerokość kolumny',\n            resize100: 'Zmień rozmiar - 100%',\n            resize75: 'Zmień rozmiar - 75%',\n            resize50: 'Zmień rozmiar - 50%',\n            resize25: 'Zmień rozmiar - 25%',\n            autoSize: 'Rozmiar automatyczny',\n            mirrorHorizontal: 'Odbicie lustrzane w poziomie',\n            mirrorVertical: 'Odbicie lustrzane w pionie',\n            rotateLeft: 'Obróć w lewo',\n            rotateRight: 'Obróć w prawo',\n            maxSize: 'Maksymalny rozmiar',\n            minSize: 'Minimalny rozmiar',\n            tableHeader: 'Nagłówek tabeli',\n            mergeCells: 'Scal komórki',\n            splitCells: 'Podziel komórki',\n            HorizontalSplit: 'Podział poziomy',\n            VerticalSplit: 'Podział pionowy'\n        },\n        menu: {\n            spaced: 'Rozstawiony',\n            bordered: 'Z obwódką',\n            neon: 'Neon',\n            translucent: 'Półprzezroczysty',\n            shadow: 'Cień',\n            code: 'Kod'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'pl', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'ckb',\n        toolbar: {\n            default: 'بنه‌ڕه‌ت',\n            save: 'پاشه‌كه‌وتكردن',\n            font: 'فۆنت',\n            formats: 'Formats',\n            fontSize: 'قه‌باره‌',\n            bold: 'تۆخكردن',\n            underline: 'هێڵ به‌ژێردا بێنه‌',\n            italic: 'لار',\n            strike: 'هێڵ به‌ناودا بێنه‌',\n            subscript: 'ژێرسکریپت',\n            superscript: 'سەرنووس',\n            removeFormat: 'لابردنی فۆرمات',\n            fontColor: 'ره‌نگی فۆنت',\n            hiliteColor: 'ره‌نگی دیاركراو',\n            indent: 'بۆشایی بەجێهێشتن',\n            outdent: 'لابردنی بۆشایی',\n            align: 'ئاراسته‌',\n            alignLeft: 'لای چه‌پ',\n            alignRight: 'لای راست',\n            alignCenter: 'ناوه‌ند',\n            alignJustify: 'به‌رێكی دابه‌ش بكه‌',\n            list: 'لیست',\n            orderList: 'لیستی ریزكراو',\n            unorderList: 'لیستی ریزنه‌كراو',\n            horizontalRule: 'هێڵی ئاسۆیی',\n            hr_solid: 'پته‌و',\n            hr_dotted: 'نوكته‌ نوكته‌',\n            hr_dashed: 'داش داش',\n            table: 'خشته‌',\n            link: 'به‌سته‌ر',\n            math: 'بیركاری',\n            image: 'وێنه‌',\n            video: 'ڤیدیۆ',\n            audio: 'ده‌نگ',\n            fullScreen: 'پڕ به‌ شاشه‌',\n            showBlocks: 'بڵۆك نیشانبده',\n            codeView: 'بینینی كۆده‌كان',\n            undo: 'وەک خۆی لێ بکەوە',\n            redo: 'هەڵگەڕاندنەوە',\n            preview: 'پێشبینین',\n            print: 'پرینت',\n            tag_p: 'په‌ره‌گراف',\n            tag_div: 'ی ئاسایی (DIV)',\n            tag_h: 'سەرپەڕە',\n            tag_blockquote: 'ده‌ق',\n            tag_pre: 'كۆد',\n            template: 'قاڵب',\n            lineHeight: 'بڵندی دێر',\n            paragraphStyle: 'ستایلی په‌ره‌گراف',\n            textStyle: 'ستایلی نوسین',\n            imageGallery: 'گاله‌ری وێنه‌كان',\n            mention: 'تنويه ب'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'به‌سته‌ر دابنێ',\n                url: 'به‌سته‌ر',\n                text: 'تێكستی به‌سته‌ر',\n                newWindowCheck: 'له‌ په‌نجه‌ره‌یه‌كی نوێ بكه‌ره‌وه‌'\n            },\n            mathBox: {\n                title: 'بیركاری',\n                inputLabel: 'نیشانه‌كانی بیركاری',\n                fontSizeLabel: 'قه‌باره‌ی فۆنت',\n                previewLabel: 'پێشبینین'\n            },\n            imageBox: {\n                title: 'وێنه‌یه‌ك دابنێ',\n                file: 'فایلێك هه‌ڵبژێره‌',\n                url: 'به‌سته‌ری وێنه‌',\n                altText: 'نوسینی جێگره‌وه‌'\n            },\n            videoBox: {\n                title: 'ڤیدیۆیه‌ك دابنێ',\n                file: 'فایلێك هه‌ڵبژێره‌',\n                url: 'YouTube/Vimeo به‌سته‌ری له‌ناودانان وه‌ك '\n            },\n            audioBox: {\n                title: 'ده‌نگێك دابنێ',\n                file: 'فایلێك هه‌ڵبژێره‌',\n                url: 'به‌سته‌ری ده‌نگ'\n            },\n            browser: {\n                tags: 'تاگه‌كان',\n                search: 'گه‌ران',\n            },\n            caption: 'پێناسه‌یه‌ك دابنێ',\n            close: 'داخستن',\n            submitButton: 'ناردن',\n            revertButton: 'بیگەڕێنەوە سەر باری سەرەتایی',\n            proportion: 'رێژه‌كان وه‌ك خۆی بهێڵه‌وه‌',\n            basic: 'سه‌ره‌تایی',\n            left: 'چه‌پ',\n            right: 'راست',\n            center: 'ناوەڕاست',\n            width: 'پانی',\n            height: 'به‌رزی',\n            size: 'قه‌باره‌',\n            ratio: 'رێژه‌'\n        },\n        controller: {\n            edit: 'دەسکاریکردن',\n            unlink: 'سڕینەوەی بەستەر',\n            remove: 'سڕینه‌وه‌',\n            insertRowAbove: 'ریزك له‌ سه‌ره‌وه‌ زیادبكه‌',\n            insertRowBelow: 'ریزێك له‌ خواره‌وه‌ زیادبكه‌',\n            deleteRow: 'ریز بسره‌وه‌',\n            insertColumnBefore: 'ستونێك له‌ پێشه‌وه‌ زیادبكه‌',\n            insertColumnAfter: 'ستونێك له‌ دواوه‌ زیادبكه‌',\n            deleteColumn: 'ستونێك بسره‌وه‌',\n            fixedColumnWidth: 'پانی ستون نه‌گۆربكه‌',\n            resize100: 'قه‌باره‌ بگۆره‌ بۆ ١٠٠%',\n            resize75: 'قه‌باره‌ بگۆره‌ بۆ ٧٥%',\n            resize50: 'قه‌باره‌ بگۆره‌ بۆ ٥٠%',\n            resize25: 'قه‌باره‌ بگۆره‌ بۆ ٢٥%',\n            autoSize: 'قه‌باره‌ی خۆكارانه‌',\n            mirrorHorizontal: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ئاسۆیی',\n            mirrorVertical: 'هه‌ڵگه‌رێنه‌وه‌ به‌ده‌وری ته‌وه‌ره‌ی ستونی',\n            rotateLeft: 'بسوڕێنه‌ به‌لای چه‌پدا',\n            rotateRight: 'بسورێنه‌ به‌لای راستدا',\n            maxSize: 'گه‌وره‌ترین قه‌باره‌',\n            minSize: 'بچوكترین قه‌باره‌',\n            tableHeader: 'سه‌ردێری خشته‌ك',\n            mergeCells: 'خانه‌كان تێكه‌ڵبكه‌',\n            splitCells: 'خانه‌كان لێك جیابكه‌وه‌',\n            HorizontalSplit: 'جیاكردنه‌وه‌ی ئاسۆیی',\n            VerticalSplit: 'جیاكردنه‌وه‌ی ستونی'\n        },\n        menu: {\n            spaced: 'بۆشای هه‌بێت',\n            bordered: 'لێواری هه‌بێت',\n            neon: 'نیۆن',\n            translucent: 'كه‌مێك وه‌ك شووشه‌',\n            shadow: 'سێبه‌ر',\n            code: 'كۆد'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'ckb', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n(function (global, factory) {\n    if ( true && typeof module.exports === 'object') {\n        module.exports = global.document ?\n            factory(global, true) :\n            function (w) {\n                if (!w.document) {\n                    throw new Error('SUNEDITOR_LANG a window with a document');\n                }\n                return factory(w);\n            };\n    } else {\n        factory(global);\n    }\n}(typeof window !== 'undefined' ? window : this, function (window, noGlobal) {\n    const lang = {\n        code: 'lv',\n        toolbar: {\n            default: 'Noklusējuma',\n            save: 'Saglabāt',\n            font: 'Fonts',\n            formats: 'Formāti',\n            fontSize: 'Fonta lielums',\n            bold: 'Treknraksts',\n            underline: 'Pasvītrot',\n            italic: 'Slīpraksts',\n            strike: 'Pārsvītrojums',\n            subscript: 'Apakšraksts',\n            superscript: 'Augšraksts',\n            removeFormat: 'Noņemt formātu',\n            fontColor: 'Fonta krāsa',\n            hiliteColor: 'Teksta iezīmēšanas krāsa',\n            indent: 'Palielināt atkāpi',\n            outdent: 'Samazināt atkāpi',\n            align: 'Izlīdzināt',\n            alignLeft: 'Līdzināt pa kreisi',\n            alignRight: 'Līdzināt pa labi',\n            alignCenter: 'Centrēt',\n            alignJustify: 'Taisnot',\n            list: 'Saraksts',\n            orderList: 'Numerācija',\n            unorderList: 'Aizzimes',\n            horizontalRule: 'Horizontāla līnija',\n            hr_solid: 'Ciets',\n            hr_dotted: 'Punktiņš',\n            hr_dashed: 'Braša',\n            table: 'Tabula',\n            link: 'Saite',\n            math: 'Matemātika',\n            image: 'Attēls',\n            video: 'Video',\n            audio: 'Audio',\n            fullScreen: 'Pilnekrāna režīms',\n            showBlocks: 'Parādit blokus',\n            codeView: 'Koda skats',\n            undo: 'Atsaukt',\n            redo: 'Atkārtot',\n            preview: 'Priekšskatījums',\n            print: 'Drukāt',\n            tag_p: 'Paragrāfs',\n            tag_div: 'Normāli (DIV)',\n            tag_h: 'Galvene',\n            tag_blockquote: 'Citāts',\n            tag_pre: 'Kods',\n            template: 'Veidne',\n            lineHeight: 'Līnijas augstums',\n            paragraphStyle: 'Paragrāfa stils',\n            textStyle: 'Teksta stils',\n            imageGallery: 'Attēlu galerija',\n            mention: 'Pieminēt'\n        },\n        dialogBox: {\n            linkBox: {\n                title: 'Ievietot saiti',\n                url: 'Saites URL',\n                text: 'Parādāmais teksts',\n                newWindowCheck: 'Atvērt jaunā logā'\n            },\n            mathBox: {\n                title: 'Matemātika',\n                inputLabel: 'Matemātiskā notācija',\n                fontSizeLabel: 'Fonta lielums',\n                previewLabel: 'Priekšskatījums'\n            },\n            imageBox: {\n                title: 'Ievietot attēlu',\n                file: 'Izvēlieties no failiem',\n                url: 'Attēla URL',\n                altText: 'Alternatīvs teksts'\n            },\n            videoBox: {\n                title: 'Ievietot video',\n                file: 'Izvēlieties no failiem',\n                url: 'Multivides iegulšanas URL, YouTube/Vimeo'\n            },\n            audioBox: {\n                title: 'Ievietot audio',\n                file: 'Izvēlieties no failiem',\n                url: 'Audio URL'\n            },\n            browser: {\n                tags: 'Tagi',\n                search: 'Meklēt'\n            },\n            caption: 'Ievietot aprakstu',\n            close: 'Aizvērt',\n            submitButton: 'Iesniegt',\n            revertButton: 'Atjaunot',\n            proportion: 'Ierobežo proporcijas',\n            basic: 'Nav iesaiņojuma',\n            left: 'Pa kreisi',\n            right: 'Labajā pusē',\n            center: 'Centrs',\n            width: 'Platums',\n            height: 'Augstums',\n            size: 'Izmērs',\n            ratio: 'Attiecība'\n        },\n        controller: {\n            edit: 'Rediģēt',\n            unlink: 'Atsaistīt',\n            remove: 'Noņemt',\n            insertRowAbove: 'Ievietot rindu virs',\n            insertRowBelow: 'Ievietot rindu zemāk',\n            deleteRow: 'Dzēst rindu',\n            insertColumnBefore: 'Ievietot kolonnu pirms',\n            insertColumnAfter: 'Ievietot kolonnu aiz',\n            deleteColumn: 'Dzēst kolonnu',\n            fixColumnWidth: 'Fiksēts kolonnas platums',\n            resize100: 'Mainīt izmēru 100%',\n            resize75: 'Mainīt izmēru 75%',\n            resize50: 'Mainīt izmēru 50%',\n            resize25: 'Mainīt izmēru 25%',\n            autoSize: 'Automātiskais izmērs',\n            mirrorHorizontal: 'Spogulis, horizontāls',\n            mirrorVertical: 'Spogulis, vertikāls',\n            rotateLeft: 'Pagriezt pa kreisi',\n            rotateRight: 'Pagriezt pa labi',\n            maxSize: 'Maksimālais izmērs',\n            minSize: 'Minimālais izmērs',\n            tableHeader: 'Tabulas galvene',\n            mergeCells: 'Apvienot šūnas',\n            splitCells: 'Sadalīt šūnas',\n            HorizontalSplit: 'Horizontāls sadalījums',\n            VerticalSplit: 'Vertikāls sadalījums'\n        },\n        menu: {\n            spaced: 'Ar atstarpi',\n            bordered: 'Robežojās',\n            neon: 'Neona',\n            translucent: 'Caurspīdīgs',\n            shadow: 'Ēna',\n            code: 'Kods'\n        }\n    };\n\n    if (typeof noGlobal === typeof undefined) {\n        if (!window.SUNEDITOR_LANG) {\n            Object.defineProperty(window, 'SUNEDITOR_LANG', {\n                enumerable: true,\n                writable: false,\n                configurable: false,\n                value: {}\n            });\n        }\n\n        Object.defineProperty(window.SUNEDITOR_LANG, 'lv', {\n            enumerable: true,\n            writable: true,\n            configurable: true,\n            value: lang\n        });\n    }\n\n    return lang;\n}));\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(44);\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"buttonList\", function() { return /* reexport */ buttonList_namespaceObject; });\n\n// NAMESPACE OBJECT: ./misc/buttonList.js\nvar buttonList_namespaceObject = {};\n__webpack_require__.r(buttonList_namespaceObject);\n__webpack_require__.d(buttonList_namespaceObject, \"basic\", function() { return basic; });\n__webpack_require__.d(buttonList_namespaceObject, \"complex\", function() { return complex; });\n__webpack_require__.d(buttonList_namespaceObject, \"formatting\", function() { return formatting; });\n__webpack_require__.d(buttonList_namespaceObject, \"default\", function() { return misc_buttonList; });\n\n// CONCATENATED MODULE: ./misc/buttonList.js\nvar basic = [[\"font\", \"fontSize\"], [\"fontColor\"], [\"horizontalRule\"], [\"link\", \"image\"]];\nvar complex = [[\"undo\", \"redo\"], [\"font\", \"fontSize\", \"formatBlock\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], \"/\", [\"fontColor\", \"hiliteColor\"], [\"outdent\", \"indent\"], [\"align\", \"horizontalRule\", \"list\", \"table\"], [\"link\", \"image\", \"video\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"], [\"save\", \"template\"]];\nvar formatting = [[\"undo\", \"redo\"], [\"bold\", \"underline\", \"italic\", \"strike\", \"subscript\", \"superscript\"], [\"removeFormat\"], [\"outdent\", \"indent\"], [\"fullScreen\", \"showBlocks\", \"codeView\"], [\"preview\", \"print\"]];\n/* harmony default export */ var misc_buttonList = ({\n  basic,\n  complex,\n  formatting\n});\n// EXTERNAL MODULE: external \"react\"\nvar external_react_ = __webpack_require__(7);\nvar external_react_default = /*#__PURE__*/__webpack_require__.n(external_react_);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/assets/defaultIcons.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2020 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var defaultIcons = ({\n   // rtl icon\n   rtl: {\n      italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.5 15.8\" xml:space=\"preserve\"><g><path d=\"M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z\"/></g></svg>',\n      indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z\"/></g></svg>',\n      outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><g><path d=\"M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z\"/></g><path d=\"M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z\"/></g></svg>',\n      list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 12.4\" xml:space=\"preserve\"><g><path d=\"M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z\"/></g></svg>',\n      list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z\"/></g><path d=\"M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z\"/><path d=\"M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z\"/><path d=\"M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z\"/></svg>',\n      link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z\"/></g></svg>',\n      unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.7\" xml:space=\"preserve\"><g><path d=\"M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z\"/></g></svg>'\n   },\n   // common, ltr icon\n   redo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z\" transform=\"translate(-4.48 -4.54)\"/></g></svg>',\n   undo: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.59 14.18\"><g><path d=\"M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z\" transform=\"translate(-4.49 -4.53)\"/></g></svg>',\n   bold: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.76 15.75\"><g><path d=\"M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z\" transform=\"translate(-6.4 -3.75)\"/></g></svg>',\n   underline: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 9.78 15.74\"><g><path d=\"M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z\" transform=\"translate(-7.38 -3.76)\"/></g></svg>',\n   italic: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 10.49 15.76\"><g><path d=\"M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z\" transform=\"translate(-7.04 -3.76)\"/></g></svg>',\n   strike: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.9\"><g><path d=\"M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z\" transform=\"translate(-4.41 -4.17)\"/></g></svg>',\n   subscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 14.61\"><g><path d=\"M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z\" transform=\"translate(-4.4 -4.33)\"/></g></svg>',\n   superscript: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.42\"><g><path d=\"M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z\" transform=\"translate(-4.4 -3.91)\"/></g></svg>',\n   erase: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.76\"><g><path d=\"M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z\" transform=\"translate(-4.41 -4.75)\"/></g></svg>',\n   indent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   outdent: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.36\"><g><path d=\"M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   expansion: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   reduction: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   code_view: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 11.8\"><g><path d=\"M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z\" transform=\"translate(-4.41 -5.73)\"/></g></svg>',\n   preview: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.65 15.66\"><g><path d=\"M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z\" transform=\"translate(-4.45 -3.8)\"/></g></svg>',\n   print: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16.05 16.04\"><g><path d=\"M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z\" transform=\"translate(-4.25 -3.61)\"/></g></svg>',\n   template: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.27 15.64\"><g><path d=\"M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z\" transform=\"translate(-5.14 -3.77)\"/><path d=\"M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z\" transform=\"translate(-5.14 -3.77)\"/></g></svg>',\n   line_height: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 13.56\"><g><path d=\"M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z\" transform=\"translate(-4.4 -4.86)\"/></g></svg>',\n   paragraph_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.74\"><g><path d=\"M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z\" transform=\"translate(-6.37 -3.76)\"/></g></svg>',\n   text_style: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.76 15.74\"><g><path d=\"M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z\" transform=\"translate(-5.4 -3.76)\"/></g></svg>',\n   save: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   blockquote: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 475.082 475.081\"><g><path d=\"M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z\"/><path d=\"M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z\"/></g></svg>',\n   arrow_down: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 8.67\"><g><path d=\"M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z\" transform=\"translate(-4.41 -7.29)\"/></g></svg>',\n   align_justify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   align_center: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.77\"><g><path d=\"M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z\" transform=\"translate(-4.41 -4.74)\"/></g></svg>',\n   font_color: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.61\"><g><path d=\"M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z\" transform=\"translate(-4.41 -4.32)\"/></g></svg>',\n   highlight_color:'<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.74\"><g><path d=\"M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   list_bullets: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 12.37\"><g><path d=\"M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z\" transform=\"translate(-4.41 -5.44)\"/></g></svg>',\n   list_number: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.69 15.74\"><g><path d=\"M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z\" transform=\"translate(-4.43 -3.76)\"/></g></svg>',\n   table: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   horizontal_rule: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 2.24\"><g><path d=\"M20.15,12.75V10.51H4.41v2.24H20.15Z\" transform=\"translate(-4.41 -10.51)\"/></g></svg>',\n   show_blocks: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.66 15.67\"><g><path d=\"M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z\" transform=\"translate(-4.44 -3.79)\"/></g></svg>',\n   cancel: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   image: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.77\"><g><path d=\"M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z\" transform=\"translate(-4.4 -3.75)\"/></g></svg>',\n   video: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.55\"><g><path d=\"M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z\" transform=\"translate(-4.41 -4.35)\"/></g></svg>',\n   link: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   math: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.81 15.73\"><g><path d=\"M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z\" transform=\"translate(-6.38 -3.77)\"/></g></svg>',\n   unlink: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.72\"><g><path d=\"M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   table_header: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   merge_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 15.74\"><g><path d=\"M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   split_cell: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 15.74\"><g><path d=\"M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z\" transform=\"translate(-4.4 -3.76)\"/></g></svg>',\n   caption: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 13.79\"><g><path d=\"M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z\" transform=\"translate(-4.41 -4.73)\"/></g></svg>',\n   edit: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.73\"><g><path d=\"M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z\" transform=\"translate(-4.41 -3.77)\"/></g></svg>',\n   delete: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.74\"><g><path d=\"M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   modify: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.7 15.74\"><g><path d=\"M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z\" transform=\"translate(-4.44 -3.76)\"/></g></svg>',\n   revert: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 14.69\"><g><path d=\"M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z\" transform=\"translate(-4.4 -4.28)\"/></g></svg>',\n   auto_size: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 15.74\"><g><path d=\"M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z\" transform=\"translate(-4.41 -3.76)\"/></g></svg>',\n   insert_row_below: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z\"/><path d=\"M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z\"/></g></svg>',\n   insert_row_above: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z\"/><path d=\"M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z\"/></g></svg>',\n   insert_column_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z\"/><path d=\"M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z\"/></g></svg>',\n   insert_column_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z\"/><path d=\"M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z\"/></g></svg>',\n   delete_row: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 13.83\"><g><path d=\"M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z\" transform=\"translate(-4.4 -4.71)\"/></g></svg>',\n   delete_column: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 13.81 15.74\"><g><path d=\"M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z\" transform=\"translate(-5.37 -3.76)\"/></g></svg>',\n   fixed_column_width: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z\" /></svg>',\n   rotate_left: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z\"/><path d=\"M2.2,11.5L2.2,11.5L2.2,11.5z\"/><path d=\"M5.9,3.6L5.9,3.6L5.9,3.6z\"/><path d=\"M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z\"/><path d=\"M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z\"/><path d=\"M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z\"/><path d=\"M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z\"/><path d=\"M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z\"/><path d=\"M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z\"/><path d=\"M11.4,14.7L11.4,14.7L11.4,14.7z\"/><path d=\"M9.5,15.3L9.5,15.3L9.5,15.3z\"/><path d=\"M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z\"/><path d=\"M6.8,15.5L6.8,15.5L6.8,15.5z\"/></g></svg>',\n   rotate_right: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.8 15.8\"><g><path d=\"M9.9,15.3L9.9,15.3L9.9,15.3z\"/><path d=\"M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z\"/><path d=\"M6.5,14.4L6.5,14.4L6.5,14.4z\"/><path d=\"M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z\"/><path d=\"M9,15.5L9,15.5L9,15.5z\"/><path d=\"M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z\"/><path d=\"M9,14.5L9,14.5L9,14.5z\"/><path d=\"M9.6,14.4L9.6,14.4L9.6,14.4z\"/><path d=\"M11.7,14L11.7,14L11.7,14z\"/><path d=\"M15.6,7.4L15.6,7.4L15.6,7.4z\"/><path d=\"M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z\"/><path d=\"M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z\"/><path d=\"M14.6,7.4L14.6,7.4L14.6,7.4z\"/><path d=\"M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z\"/><path d=\"M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z\"/><path d=\"M12.1,13.8L12.1,13.8L12.1,13.8z\"/><path d=\"M11.9,13.3L11.9,13.3L11.9,13.3z\"/><path d=\"M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z\"/></g></svg>',\n   mirror_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 14.75 15.74\"><g><path d=\"M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z\" transform=\"translate(-4.9 -3.76)\"/></g></svg>',\n   mirror_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.74 14.75\"><g><path d=\"M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z\" transform=\"translate(-4.41 -4.25)\"/></g></svg>',\n   checked: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.75 12.1\"><g><path d=\"M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z\" transform=\"translate(-4.38 -5.58)\"/></g></svg>',\n   line_break: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z\"/></svg>',\n   audio: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path d=\"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\" /></svg>',\n   image_gallery: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"30 30 150 150\"><g><path d=\"M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z\"/></g></svg>',\n   // More icons\n   more_text: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_paragraph: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"10 10 180 180\"><g><path d=\"M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_plus: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"35 30 140 140\"><g><path d=\"M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z\"/></g></svg>',\n   more_horizontal: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.76 3.58\"><g><path d=\"M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z\" transform=\"translate(-4.39 -9.84)\"/></g></svg>',\n   more_vertical: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 3.94 15.75\"><g><path d=\"M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z\" transform=\"translate(-10.31 -3.75)\"/></g></svg>',\n   // Not currently used\n   attachment: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 8.38 15.68\"><g><path d=\"M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z\" transform=\"translate(-8.08 -3.78)\"/></g></svg>',\n   map: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 11.7 15.62\"><g><path d=\"M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z\" transform=\"translate(-6.2 -3.76)\"/></g></svg>',\n   magic_stick: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 15.73 15.75\"><g><path d=\"M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z\" transform=\"translate(-4.41 -3.74)\"/></g></svg>',\n   empty_file: '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 12.78 15.75\"><g><path d=\"M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z\" transform=\"translate(-5.89 -3.76)\"/></g></svg>'\n});\n\n// EXTERNAL MODULE: ./node_modules/suneditor/src/lang/en.js\nvar en = __webpack_require__(4);\nvar en_default = /*#__PURE__*/__webpack_require__.n(en);\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/util.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description utility function\r\n */\r\nconst util_util = {\r\n    _d: null,\r\n    _w: null,\r\n    isIE: null,\r\n    isIE_Edge: null,\r\n    isOSX_IOS: null,\r\n    _propertiesInit: function () {\r\n        if (this._d) return;\r\n        this._d =  document;\r\n        this._w = window;\r\n        this.isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n        this.isIE_Edge = (navigator.userAgent.indexOf('Trident') > -1) || (navigator.appVersion.indexOf('Edge') > -1);\r\n        this.isOSX_IOS = /(Mac|iPhone|iPod|iPad)/.test(navigator.platform);\r\n    },\r\n\r\n    /**\r\n     * @description HTML Reserved Word Converter.\r\n     * @param {String} contents \r\n     * @returns {String} HTML string\r\n     * @private\r\n     */\r\n    _HTMLConvertor: function (contents) {\r\n        const ec = {'&': '&amp;', '\\u00A0': '&nbsp;', '\\'': '&apos;', '\"': '&quot;', '<': '&lt;', '>': '&gt;'};\r\n        return contents.replace(/&|\\u00A0|'|\"|<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description Unicode Character 'ZERO WIDTH SPACE' (\\u200B)\r\n     */\r\n    zeroWidthSpace: String.fromCharCode(8203),\r\n\r\n    /**\r\n     * @description Regular expression to find 'zero width space' (/\\u200B/g)\r\n     */\r\n    zeroWidthRegExp: new RegExp(String.fromCharCode(8203), 'g'),\r\n\r\n    /**\r\n     * @description Regular expression to find only 'zero width space' (/^\\u200B+$/)\r\n     */\r\n    onlyZeroWidthRegExp: new RegExp('^' + String.fromCharCode(8203) + '+$'),\r\n\r\n    /**\r\n     * @description A method that checks If the text is blank or to see if it contains 'ZERO WIDTH SPACE' or empty (util.zeroWidthSpace)\r\n     * @param {String|Node} text String value or Node\r\n     * @returns {Boolean}\r\n     */\r\n    onlyZeroWidthSpace: function (text) {\r\n        if (typeof text !== 'string') text = text.textContent;\r\n        return text === '' || this.onlyZeroWidthRegExp.test(text);\r\n    },\r\n\r\n    /**\r\n     * @description Gets XMLHttpRequest object\r\n     * @returns {XMLHttpRequest|ActiveXObject}\r\n     */\r\n    getXMLHttpRequest: function () {\r\n        /** IE */\r\n        if (this._w.ActiveXObject) {\r\n            try {\r\n                return new ActiveXObject('Msxml2.XMLHTTP');\r\n            } catch (e) {\r\n                try {\r\n                    return new ActiveXObject('Microsoft.XMLHTTP');\r\n                } catch (e1) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        /** netscape */\r\n        else if (this._w.XMLHttpRequest) {\r\n            return new XMLHttpRequest();\r\n        }\r\n        /** fail */\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Create Element node\r\n     * @param {String} elementName Element name\r\n     * @returns {Element}\r\n     */\r\n    createElement: function (elementName) {\r\n        return this._d.createElement(elementName);\r\n    },\r\n\r\n    /**\r\n     * @description Create text node\r\n     * @param {String} text text contents\r\n     * @returns {Node}\r\n     */\r\n    createTextNode: function (text) {\r\n        return this._d.createTextNode(text || '');\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * When using an attribute with \"<\" or \">\", use \"HTMLEncoder\" to save. (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLEncoder: function (contents) {\r\n        const ec = {'<': '$lt;', '>': '$gt;'};\r\n        return contents.replace(/<|>/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description The editor checks tags by string.\r\n     * If there is \"<\" or \">\" in the attribute of tag, HTML is broken when checking the tag.\r\n     * Decoder of data stored as \"HTMLEncoder\" (ex: math(katex))\r\n     * @param {String} contents HTML or Text string\r\n     * @returns {String}\r\n     */\r\n    HTMLDecoder: function (contents) {\r\n        const ec = {'$lt;': '<', '$gt;': '>'};\r\n        return contents.replace(/\\$lt;|\\$gt;/g, function (m) {\r\n            return (typeof ec[m] === 'string') ? ec[m] : m;\r\n        });\r\n    },\r\n\r\n    /**\r\n     * @description This method run Object.prototype.hasOwnProperty.call(obj, key)\r\n     * @param {Object} obj Object\r\n     * @param {String} key obj.key\r\n     * @returns {Boolean}\r\n     */\r\n    hasOwn: function (obj, key) {\r\n        return this._hasOwn.call(obj, key);\r\n    },\r\n    _hasOwn: Object.prototype.hasOwnProperty,\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Get the the tag path of the arguments value\r\n     * If not found, return the first found value\r\n     * @param {Array} nameArray File name array\r\n     * @param {String} extension js, css\r\n     * @returns {String}\r\n     */\r\n    getIncludePath: function (nameArray, extension) {\r\n        let path = '';\r\n        const pathList = [];\r\n        const tagName = extension === 'js' ? 'script' : 'link';\r\n        const src = extension === 'js' ? 'src' : 'href';\r\n        \r\n        let fileName = '(?:';\r\n        for (let i = 0, len = nameArray.length; i < len; i++) {\r\n            fileName += nameArray[i] + (i < len - 1 ? '|' : ')');\r\n        }\r\n\r\n        const regExp = new this._w.RegExp('(^|.*[\\\\/])' + fileName + '(\\\\.[^\\\\/]+)?\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n        const extRegExp = new this._w.RegExp('.+\\\\.' + extension + '(?:\\\\?.*|;.*)?$', 'i');\r\n            \r\n        for (let c = this._d.getElementsByTagName(tagName), i = 0; i < c.length; i++) {\r\n            if (extRegExp.test(c[i][src])) {\r\n                pathList.push(c[i]);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < pathList.length; i++) {\r\n            let editorTag = pathList[i][src].match(regExp);\r\n            if (editorTag) {\r\n                path = editorTag[0];\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (path === '') path = pathList.length > 0 ? pathList[0][src] : '';\r\n\r\n        -1 === path.indexOf(':/') && '//' !== path.slice(0, 2) && (path = 0 === path.indexOf('/') ? location.href.match(/^.*?:\\/\\/[^\\/]*/)[0] + path : location.href.match(/^[^\\?]*\\/(?:)/)[0] + path);\r\n\r\n        if (!path) throw '[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +' + name + ', extension: ' + extension + ')';\r\n\r\n        return path;\r\n    },\r\n\r\n    /**\r\n     * @deprecated\r\n     * @description Returns the CSS text that has been applied to the current page.\r\n     * @param {Document|null} doc To get the CSS text of an document(core._wd). If null get the current document.\r\n     * @returns {String} Styles string\r\n     */\r\n    getPageStyle: function (doc) {\r\n        let cssText = '';\r\n        const sheets = (doc || this._d).styleSheets;\r\n        \r\n        for (let i = 0, len = sheets.length, rules; i < len; i++) {\r\n            try {\r\n                rules = sheets[i].cssRules;\r\n            } catch (e) {\r\n                continue;\r\n            }\r\n            \r\n            for (let c = 0, cLen = rules.length; c < cLen; c++) {\r\n                cssText += rules[c].cssText;\r\n            }\r\n        }\r\n\r\n        return cssText;\r\n    },\r\n\r\n    /**\r\n     * @description Get the argument iframe's document object\r\n     * @param {Element} iframe Iframe element (context.element.wysiwygFrame)\r\n     * @returns {Document}\r\n     */\r\n    getIframeDocument: function (iframe) {\r\n        let wDocument = iframe.contentWindow || iframe.contentDocument;\r\n        if (wDocument.document) wDocument = wDocument.document;\r\n        return wDocument;\r\n    },\r\n\r\n    /**\r\n     * @description Get attributes of argument element to string ('class=\"---\" name=\"---\" ')\r\n     * @param {Element} element Element object\r\n     * @param {Array|null} exceptAttrs Array of attribute names to exclude from the result\r\n     * @returns {String}\r\n     */\r\n    getAttributesToString: function (element, exceptAttrs) {\r\n        if (!element.attributes) return '';\r\n\r\n        const attrs = element.attributes;\r\n        let attrString = '';\r\n\r\n        for (let i = 0, len = attrs.length; i < len; i++) {\r\n            if (exceptAttrs && exceptAttrs.indexOf(attrs[i].name) > -1) continue;\r\n            attrString += attrs[i].name + '=\"' + attrs[i].value + '\" ';\r\n        }\r\n\r\n        return attrString;\r\n    },\r\n\r\n    /**\r\n     * @descriptionGets Get the length in bytes of a string.\r\n     * referencing code: \"https://github.com/shaan1974/myrdin/blob/master/expressions/string.js#L11\"\r\n     * @param {String} text String text\r\n     * @returns {Number}\r\n     */\r\n    getByteLength: function(text) {\r\n        const encoder = this._w.encodeURIComponent;\r\n        let cr, cl;\r\n        if (this.isIE_Edge) {\r\n            cl = this._w.unescape(encoder(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        } else {\r\n            cl = (new this._w.TextEncoder('utf-8').encode(text.toString())).length;\r\n            cr = 0;\r\n\r\n            if (encoder(text.toString()).match(/(%0A|%0D)/gi) !== null) {\r\n                cr = encoder(text.toString()).match(/(%0A|%0D)/gi).length;\r\n            }\r\n\r\n            return cl + cr;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the edit region top div element or iframe's body tag.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isWysiwygDiv: function (element) {\r\n        return element && element.nodeType === 1 && (this.hasClass(element, 'se-wrapper-wysiwyg') || /^BODY$/i.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the contenteditable property is false.\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNonEditable: function (element) {\r\n        return element && element.nodeType === 1 && element.getAttribute('contenteditable') === 'false';\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is a node related to the text style.\r\n     * (strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTextStyleElement: function (element) {\r\n        return element && element.nodeType !== 3 && /^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the format element (P, DIV, H[1-6], PRE, LI | class=\"__se__format__replace_xxx\")\r\n     * Format element also contain \"free format Element\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(P|DIV|H[1-6]|PRE|LI|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__replace_.+(\\\\s|$)|(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the range format element. (BLOCKQUOTE, OL, UL, FIGCAPTION, TABLE, THEAD, TBODY, TR, TH, TD | class=\"__se__format__range_xxx\")\r\n     * Range format element is wrap the \"format element\" and \"component\"\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure range format element. (TH, TD | class=\"__se__format__range__closure_xxx\")\r\n     * Closure range format elements is included in the range format element.\r\n     *  - Closure range format element is wrap the \"format element\" and \"component\"\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureRangeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^(TH|TD)$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__range__closure_.+(\\\\s|$)'));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the free format element. (PRE | class=\"__se__format__free_xxx\")\r\n     * Free format elements is included in the format element.\r\n     * Free format elements's line break is \"BR\" tag.\r\n     * ※ Entering the Enter key in the space on the last line ends \"Free Format\" and appends \"Format\".\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && (/^PRE$/i.test(element.nodeName) || this.hasClass(element, '(\\\\s|^)__se__format__free_.+(\\\\s|$)')) && !this.isComponent(element) && !this.isWysiwygDiv(element);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the closure free format element. (class=\"__se__format__free__closure_xxx\")\r\n     * Closure free format elements is included in the free format element.\r\n     *  - Closure free format elements's line break is \"BR\" tag.\r\n     * ※ You cannot exit this format with the Enter key or Backspace key.\r\n     * ※ Use it only in special cases. ([ex] format of table cells)\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isClosureFreeFormatElement: function (element) {\r\n        return element && element.nodeType === 1 && this.hasClass(element, '(\\\\s|^)__se__format__free__closure_.+(\\\\s|$)');\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe, video, audio] cover(class=\"se-component\") and table, hr\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isComponent: function (element) {\r\n        return element && (/se-component/.test(element.className) || /^(TABLE|HR)$/.test(element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the component [img, iframe] cover(class=\"se-component\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMediaComponent: function (element) {\r\n        return element && /se-component/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description It is judged whether it is the not checking node. (class=\"katex\", \"__se__tag\")\r\n     * @param {Node} element The node to check\r\n     * @returns {Boolean}\r\n     */\r\n    isNotCheckingNode: function (element) {\r\n        return element && /katex|__se__tag/.test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element)) element.firstElementChild;\r\n            if (this.isFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a format node (util.isRangeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getRangeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isRangeFormatElement(element) && !/^(THEAD|TBODY|TR)$/i.test(element.nodeName) && validation(element)) return element;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a free format node (util.isFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description If a parent node that contains an argument node finds a closure free format node (util.isClosureFreeFormatElement), it returns that node.\r\n     * @param {Node} element Reference node.\r\n     * @param {Function|null} validation Additional validation function.\r\n     * @returns {Element|null}\r\n     */\r\n    getClosureFreeFormatElement: function (element, validation) {\r\n        if (!element) return null;\r\n        if (!validation) {\r\n            validation = function () { return true; };\r\n        }\r\n\r\n        while (element) {\r\n            if (this.isWysiwygDiv(element)) return null;\r\n            if (this.isClosureFreeFormatElement(element) && validation(element)) return element;\r\n\r\n            element = element.parentNode;\r\n        }\r\n        \r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * @description Add style and className of copyEl to originEl\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyTagAttributes: function (originEl, copyEl) {\r\n        if (copyEl.style.cssText) {\r\n            originEl.style.cssText += copyEl.style.cssText;\r\n        }\r\n\r\n        const classes = copyEl.classList;\r\n        for (let i = 0, len = classes.length; i < len; i++) {\r\n            this.addClass(originEl, classes[i]);\r\n        }\r\n\r\n        if (!originEl.style.cssText) originEl.removeAttribute('style');\r\n        if (!originEl.className.trim()) originEl.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Copy and apply attributes of format tag that should be maintained. (style, class) Ignore \"__se__format__\" class\r\n     * @param {Element} originEl Origin element\r\n     * @param {Element} copyEl Element to copy\r\n     */\r\n    copyFormatAttributes: function (originEl, copyEl) {\r\n        copyEl = copyEl.cloneNode(false);\r\n        copyEl.className = copyEl.className.replace(/(\\s|^)__se__format__[^\\s]+/g, '');\r\n        this.copyTagAttributes(originEl, copyEl);\r\n    },\r\n\r\n    /**\r\n     * @description Get the item from the array that matches the condition.\r\n     * @param {Array|HTMLCollection|NodeList} array Array to get item\r\n     * @param {Function|null} validation Conditional function\r\n     * @param {Boolean} multi If true, returns all items that meet the criteria otherwise, returns an empty array.\r\n     * If false, returns only one item that meet the criteria otherwise return null.\r\n     * @returns {Array|Node|null}\r\n     */\r\n    getArrayItem: function (array, validation, multi) {\r\n        if (!array || array.length === 0) return null;\r\n\r\n        validation = validation || function () { return true; };\r\n        const arr = [];\r\n        \r\n        for (let i = 0, len = array.length, a; i < len; i++) {\r\n            a = array[i];\r\n            if (validation(a)) {\r\n                if (!multi) return a;\r\n                else arr.push(a);\r\n            }\r\n        }\r\n\r\n        return !multi ? null : arr;\r\n    },\r\n\r\n    /**\r\n     * @description Get the index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} element The element to find index\r\n     * @returns {Number}\r\n     */\r\n    getArrayIndex: function (array, element) {\r\n        let idx = -1;\r\n        for (let i = 0, len = array.length; i < len; i++) {\r\n            if (array[i] === element) {\r\n                idx = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Get the next index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    nextIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get the previous index of the argument value in the element array\r\n     * @param {Array|HTMLCollection|NodeList} array Element array\r\n     * @param {Node} item The element to find index\r\n     * @returns {Number}\r\n     */\r\n    prevIdx: function (array, item) {\r\n        let idx = this.getArrayIndex(array, item);\r\n        if (idx === -1) return -1;\r\n        return idx - 1;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the index compared to other sibling nodes.\r\n     * @param {Node} node The Node to find index\r\n     * @returns {Number}\r\n     */\r\n    getPositionIndex: function (node) {\r\n        let idx = 0;\r\n        while ((node = node.previousSibling)) {\r\n            idx += 1;\r\n        }\r\n        return idx;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the \"node\" in the \"parentNode\" in a numerical array.\r\n     * ex) <p><span>aa</span><span>bb</span></p> : getNodePath(node: \"bb\", parentNode: \"<P>\") -> [1, 0]\r\n     * @param {Node} node The Node to find position path\r\n     * @param {Node|null} parentNode Parent node. If null, wysiwyg div area\r\n     * @param {Object|null} _newOffsets If you send an object of the form \"{s: 0, e: 0}\", the text nodes that are attached together are merged into one, centered on the \"node\" argument.\r\n     * \"_newOffsets.s\" stores the length of the combined characters after \"node\" and \"_newOffsets.e\" stores the length of the combined characters before \"node\".\r\n     * Do not use unless absolutely necessary.\r\n     * @returns {Array}\r\n     */\r\n    getNodePath: function (node, parentNode, _newOffsets) {\r\n        const path = [];\r\n        let finds = true;\r\n\r\n        this.getParentElement(node, function (el) {\r\n            if (el === parentNode) finds = false;\r\n            if (finds && !this.isWysiwygDiv(el)) {\r\n                // merge text nodes\r\n                if (_newOffsets && el.nodeType === 3) {\r\n                    let temp = null, tempText = null;\r\n                    _newOffsets.s = _newOffsets.e = 0;\r\n\r\n                    let previous = el.previousSibling;\r\n                    while (previous && previous.nodeType === 3) {\r\n                        tempText = previous.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.s += tempText.length;\r\n                        el.textContent = tempText + el.textContent;\r\n                        temp = previous;\r\n                        previous = previous.previousSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n\r\n                    let next = el.nextSibling;\r\n                    while (next && next.nodeType === 3) {\r\n                        tempText = next.textContent.replace(this.zeroWidthRegExp, '');\r\n                        _newOffsets.e += tempText.length;\r\n                        el.textContent += tempText;\r\n                        temp = next;\r\n                        next = next.nextSibling;\r\n                        this.removeItem(temp);\r\n                    }\r\n                }\r\n\r\n                // index push\r\n                path.push(el);\r\n            }\r\n            return false;\r\n        }.bind(this));\r\n        \r\n        return path.map(this.getPositionIndex).reverse();\r\n    },\r\n\r\n    /**\r\n     * @description Returns the node in the location of the path array obtained from \"util.getNodePath\".\r\n     * @param {Array} offsets Position array, array obtained from \"util.getNodePath\"\r\n     * @param {Node} parentNode Base parent element\r\n     * @returns {Node}\r\n     */\r\n    getNodeFromPath: function (offsets, parentNode) {\r\n        let current = parentNode;\r\n        let nodes;\r\n\r\n        for (let i = 0, len = offsets.length; i < len; i++) {\r\n            nodes = current.childNodes;\r\n            if (nodes.length === 0) break;\r\n            if (nodes.length <= offsets[i]) {\r\n                current = nodes[nodes.length - 1];\r\n            } else {\r\n                current = nodes[offsets[i]];\r\n            }\r\n        }\r\n\r\n        return current;\r\n    },\r\n\r\n    /**\r\n     * @description Compares the style and class for equal values.\r\n     * Returns true if both are text nodes.\r\n     * @param {Node} a Node to compare\r\n     * @param {Node} b Node to compare\r\n     * @returns {Boolean}\r\n     */\r\n    isSameAttributes: function (a, b) {\r\n        if (a.nodeType === 3 && b.nodeType === 3) return true;\r\n        if (a.nodeType === 3 || b.nodeType === 3) return false;\r\n\r\n        const style_a = a.style;\r\n        const style_b = b.style;\r\n        let compStyle = 0;\r\n\r\n        for (let i = 0, len = style_a.length; i < len; i++) {\r\n            if (style_a[style_a[i]] === style_b[style_a[i]]) compStyle++;\r\n        }\r\n\r\n        const class_a = a.classList;\r\n        const class_b = b.classList;\r\n        const reg = this._w.RegExp;\r\n        let compClass = 0;\r\n\r\n        for (let i = 0, len = class_a.length; i < len; i++) {\r\n            if (reg('(\\s|^)' + class_a[i] + '(\\s|$)').test(class_b.value)) compClass++;\r\n        }\r\n\r\n        return (compStyle === style_b.length && compStyle === style_a.length) && (compClass === class_b.length && compClass === class_a.length);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list (ol, ul)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isList: function (node) {\r\n        return node && /^(OL|UL)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a list cell (li)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isListCell: function (node) {\r\n        return node && /^LI$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table (table, thead, tbody, tr, th, td)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isTable: function (node) {\r\n        return node && /^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a table cell (td, th)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isCell: function (node) {\r\n        return node && /^(TD|TH)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a break node (BR)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isBreak: function (node) {\r\n        return node && /^BR$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n\r\n    /**\r\n     * @description Check the node is a anchor node (A)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isAnchor: function (node) {\r\n        return node && /^A$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Check the node is a media node (img, iframe, audio, video, canvas)\r\n     * @param {Node|String} node The element or element name to check\r\n     * @returns {Boolean}\r\n     */\r\n    isMedia: function (node) {\r\n        return node && /^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof node === 'string' ? node : node.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Checks for numeric (with decimal point).\r\n     * @param {String|Number} text Text string or number\r\n     * @returns {Boolean}\r\n     */\r\n    isNumber: function (text) {\r\n        return !!text && /^-?\\d+(\\.\\d+)?$/.test(text + '');\r\n    },\r\n\r\n    /**\r\n     * @description Get a number.\r\n     * @param {String|Number} text Text string or number\r\n     * @param {Number} maxDec Maximum number of decimal places (-1 : Infinity)\r\n     * @returns {Number}\r\n     */\r\n    getNumber: function (text, maxDec) {\r\n        if (!text) return 0;\r\n        \r\n        let number = (text + '').match(/-?\\d+(\\.\\d+)?/);\r\n        if (!number || !number[0]) return 0;\r\n\r\n        number = number[0];\r\n        return maxDec < 0 ? number * 1 : maxDec === 0 ? this._w.Math.round(number * 1) : (number * 1).toFixed(maxDec) * 1;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"children\" of the argument value element (Without text nodes)\r\n     * @param {Element} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildren: function (element, validation) {\r\n        const children = [];\r\n        if (!element || !element.children || element.children.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Get all \"childNodes\" of the argument value element (Include text nodes)\r\n     * @param {Node} element element to get child node\r\n     * @param {Function|null} validation Conditional function\r\n     * @returns {Array}\r\n     */\r\n    getListChildNodes: function (element, validation) {\r\n        const children = [];\r\n        if (!element || element.childNodes.length === 0) return children;\r\n\r\n        validation = validation || function () { return true; };\r\n\r\n        (function recursionFunc(current) {\r\n            if (element !== current && validation(current)) {\r\n                children.push(current);\r\n            }\r\n\r\n            for (let i = 0, len = current.childNodes.length; i < len; i++) {\r\n                recursionFunc(current.childNodes[i]);\r\n            }\r\n        })(element);\r\n\r\n        return children;\r\n    },\r\n\r\n    /**\r\n     * @description Returns the number of parents nodes.\r\n     * \"0\" when the parent node is the WYSIWYG area.\r\n     * \"-1\" when the element argument is the WYSIWYG area.\r\n     * @param {Node} element The element to check\r\n     * @returns {Number}\r\n     */\r\n    getElementDepth: function (element) {\r\n        if (!element || this.isWysiwygDiv(element)) return -1;\r\n\r\n        let depth = 0;\r\n        element = element.parentNode;\r\n\r\n        while (element && !this.isWysiwygDiv(element)) {\r\n            depth += 1;\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return depth;\r\n    },\r\n\r\n    /**\r\n     * @description Compares two elements to find a common ancestor, and returns the order of the two elements.\r\n     * @param {Node} a Node to compare.\r\n     * @param {Node} b Node to compare.\r\n     * @returns {Object} { ancesstor, a, b, result: (a > b ? 1 : a < b ? -1 : 0) };\r\n     */\r\n    compareElements: function (a, b) {\r\n        let aNode = a, bNode = b;\r\n        while (aNode && bNode && aNode.parentNode !== bNode.parentNode) {\r\n            aNode = aNode.parentNode;\r\n            bNode = bNode.parentNode;\r\n        }\r\n\r\n        if (!aNode || !bNode) return { ancestor: null, a: a, b: b, result: 0 };\r\n\r\n        const children = aNode.parentNode.childNodes;\r\n        const aIndex = this.getArrayIndex(children, aNode);\r\n        const bIndex = this.getArrayIndex(children, bNode);\r\n\r\n        return {\r\n            ancestor: aNode.parentNode,\r\n            a: aNode,\r\n            b: bNode,\r\n            result: aIndex > bIndex ? 1 : aIndex < bIndex ? -1 : 0\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Get the parent element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getParentElement: function (element, query) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + query + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        while (element && !check(element)) {\r\n            if (this.isWysiwygDiv(element)) {\r\n                return null;\r\n            }\r\n            element = element.parentNode;\r\n        }\r\n\r\n        return element;\r\n    },\r\n\r\n    /**\r\n     * @description Get the child element of the argument value.\r\n     * A tag that satisfies the query condition is imported.\r\n     * Returns null if not found.\r\n     * @param {Node} element Reference element\r\n     * @param {String|Function} query Query String (nodeName, .className, #ID, :name) or validation function.\r\n     * @param {Boolean} last If true returns the last node among the found child nodes. (default: first node)\r\n     * Not use it like jquery.\r\n     * Only one condition can be entered at a time.\r\n     * @returns {Element|null}\r\n     */\r\n    getChildElement: function (element, query, last) {\r\n        let check;\r\n\r\n        if (typeof query === 'function') {\r\n            check = query;\r\n        } else {\r\n            let attr;\r\n            if (/^\\./.test(query)) {\r\n                attr = 'className';\r\n                query = query.split('.')[1];\r\n            } else if (/^#/.test(query)) {\r\n                attr = 'id';\r\n                query = '^' + query.split('#')[1] + '$';\r\n            } else if (/^:/.test(query)) {\r\n                attr = 'name';\r\n                query = '^' + query.split(':')[1] + '$';\r\n            } else {\r\n                attr = 'nodeName';\r\n                query = '^' + (query === 'text' ? '#' + query : query) + '$';\r\n            }\r\n\r\n            const regExp = new this._w.RegExp(query, 'i');\r\n            check = function (el) {\r\n                return regExp.test(el[attr]);\r\n            };\r\n        }\r\n\r\n        const childList = this.getListChildNodes(element, function (current) {\r\n            return check(current);\r\n        });\r\n\r\n        return childList[last ? childList.length - 1 : 0];\r\n    },\r\n\r\n    /**\r\n     * @description 1. The first node of all the child nodes of the \"first\" element is returned.\r\n     * 2. The last node of all the child nodes of the \"last\" element is returned.\r\n     * 3. When there is no \"last\" element, the first and last nodes of all the children of the \"first\" element are returned.\r\n     * { sc: \"first\", ec: \"last\" }\r\n     * @param {Node} first First element\r\n     * @param {Node|null} last Last element\r\n     * @returns {Object}\r\n     */\r\n    getEdgeChildNodes: function (first, last) {\r\n        if (!first) return;\r\n        if (!last) last = first;\r\n\r\n        while (first && first.nodeType === 1 && first.childNodes.length > 0 && !this.isBreak(first)) first = first.firstChild;\r\n        while (last && last.nodeType === 1 && last.childNodes.length > 0 &&  !this.isBreak(last)) last = last.lastChild;\r\n\r\n        return {\r\n            sc: first,\r\n            ec: last || first\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Returns the position of the left and top of argument. {left:0, top:0}\r\n     * @param {Node} element Target node\r\n     * @param {Element|null} wysiwygFrame When use iframe option, iframe object should be sent (context.element.wysiwygFrame)\r\n     * @returns {Object}\r\n     */\r\n    getOffset: function (element, wysiwygFrame) {\r\n        let offsetLeft = 0;\r\n        let offsetTop = 0;\r\n        let offsetElement = element.nodeType === 3 ? element.parentElement : element;\r\n        const wysiwyg = this.getParentElement(element, this.isWysiwygDiv.bind(this));\r\n\r\n        while (offsetElement && !this.hasClass(offsetElement, 'se-container') && offsetElement !== wysiwyg) {\r\n            offsetLeft += offsetElement.offsetLeft;\r\n            offsetTop += offsetElement.offsetTop;\r\n            offsetElement = offsetElement.offsetParent;\r\n        }\r\n\r\n        const iframe = wysiwygFrame && /iframe/i.test(wysiwygFrame.nodeName);\r\n\r\n        return {\r\n            left: offsetLeft + (iframe ? wysiwygFrame.parentElement.offsetLeft : 0),\r\n            top: (offsetTop - wysiwyg.scrollTop) + (iframe ? wysiwygFrame.parentElement.offsetTop : 0)\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description It compares the start and end indexes of \"a\" and \"b\" and returns the number of overlapping indexes in the range.\r\n     * ex) 1, 5, 4, 6 => \"2\" (4 ~ 5)\r\n     * @param {Number} aStart Start index of \"a\"\r\n     * @param {Number} aEnd End index of \"a\"\r\n     * @param {Number} bStart Start index of \"b\"\r\n     * @param {Number} bEnd Start index of \"b\"\r\n     * @returns {Number}\r\n     */\r\n    getOverlapRangeAtIndex: function (aStart, aEnd, bStart, bEnd) {\r\n        if (aStart <= bEnd ? aEnd < bStart : aEnd > bStart) return 0;\r\n\r\n        const overlap = (aStart > bStart ? aStart : bStart) - (aEnd < bEnd ? aEnd : bEnd);\r\n        return (overlap < 0 ? overlap * -1 : overlap) + 1;\r\n    },\r\n\r\n    /**\r\n     * @description Set the text content value of the argument value element\r\n     * @param {Node} element Element to replace text content\r\n     * @param {String} txt Text to be applied\r\n     */\r\n    changeTxt: function (element, txt) {\r\n        if (!element || !txt) return;\r\n        element.textContent = txt;\r\n    },\r\n\r\n    /**\r\n     * @description Replace element\r\n     * @param {Element} element Target element\r\n     * @param {String|Element} newElement String or element of the new element to apply\r\n     */\r\n    changeElement: function (element, newElement) {\r\n        if (typeof newElement === 'string') {\r\n            if (element.outerHTML) {\r\n                element.outerHTML = newElement;\r\n            } else {\r\n                const doc = this.createElement('DIV');\r\n                doc.innerHTML = newElement;\r\n                newElement = doc.firstChild;\r\n                element.parentNode.replaceChild(newElement, element);\r\n            }\r\n        } else if (newElement.nodeType === 1) {\r\n            element.parentNode.replaceChild(newElement, element);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Set style, if all styles are deleted, the style properties are deleted.\r\n     * @param {Element} element Element to set style\r\n     * @param {String} styleName Style attribute name (marginLeft, textAlign...)\r\n     * @param {String|Number} value Style value\r\n     */\r\n    setStyle: function (element, styleName, value) {\r\n        element.style[styleName] = value;\r\n\r\n        if (!value && !element.style.cssText) {\r\n            element.removeAttribute('style');\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Determine whether any of the matched elements are assigned the given class\r\n     * @param {Element} element Elements to search class name\r\n     * @param {String} className Class name to search for\r\n     * @returns {Boolean}\r\n     */\r\n    hasClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        return (new this._w.RegExp(className)).test(element.className);\r\n    },\r\n\r\n    /**\r\n     * @description Append the className value of the argument value element\r\n     * @param {Element} element Elements to add class name\r\n     * @param {String} className Class name to be add\r\n     */\r\n    addClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) return;\r\n\r\n        element.className += (element.className.length > 0 ? ' ' : '') + className;\r\n    },\r\n\r\n    /**\r\n     * @description Delete the className value of the argument value element\r\n     * @param {Element} element Elements to remove class name\r\n     * @param {String} className Class name to be remove\r\n     */\r\n    removeClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        element.className = element.className.replace(check, ' ').trim();\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description Argument value If there is no class name, insert it and delete the class name if it exists\r\n     * @param {Element} element Elements to replace class name\r\n     * @param {String} className Class name to be change\r\n     */\r\n    toggleClass: function (element, className) {\r\n        if (!element) return;\r\n\r\n        const check = new this._w.RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\r\n        if (check.test(element.className)) {\r\n            element.className = element.className.replace(check, ' ').trim();\r\n        }\r\n        else {\r\n            element.className += ' ' + className;\r\n        }\r\n\r\n        if (!element.className.trim()) element.removeAttribute('class');\r\n    },\r\n\r\n    /**\r\n     * @description In the predefined code view mode, the buttons except the executable button are changed to the 'disabled' state.\r\n     * core.codeViewDisabledButtons (An array of buttons whose class name is not \"se-code-view-enabled\")\r\n     * core.resizingDisabledButtons (An array of buttons whose class name is not \"se-resizing-enabled\")\r\n     * @param {Boolean} disabled Disabled value\r\n     * @param {Array|HTMLCollection|NodeList} buttonList Button array\r\n     */\r\n    setDisabledButtons: function (disabled, buttonList) {\r\n        for (let i = 0, len = buttonList.length; i < len; i++) {\r\n            buttonList[i].disabled = disabled;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete argumenu value element\r\n     * @param {Node} item Node to be remove\r\n     */\r\n    removeItem: function (item) {\r\n        if (!item) return;\r\n        try {\r\n            item.remove();\r\n        } catch (e) {\r\n            if (item.parentNode) item.parentNode.removeChild(item);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * @description Delete all parent nodes that match the condition.\r\n     * Returns an {sc: previousSibling, ec: nextSibling}(the deleted node reference) or null.\r\n     * @param {Node} item Node to be remove\r\n     * @param {Function|null} validation Validation function. default(Deleted if it only have breakLine and blanks)\r\n     * @param {Element|null} stopParent Stop when the parent node reaches stopParent\r\n     * @returns {Object|null} {sc: previousSibling, ec: nextSibling}\r\n     */\r\n    removeItemAllParents: function (item, validation, stopParent) {\r\n        if (!item) return null;\r\n        let cc = null;\r\n        if (!validation) {\r\n            validation = function (current) {\r\n                if (current === stopParent || this.isComponent(current)) return false;\r\n                const text = current.textContent.trim();\r\n                return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n            }.bind(this);\r\n        }\r\n\r\n        (function recursionFunc (element) {\r\n            if (!util_util.isWysiwygDiv(element)) {\r\n                const parent = element.parentNode;\r\n                if (parent && validation(element)) {\r\n                    cc = {\r\n                        sc: element.previousElementSibling,\r\n                        ec: element.nextElementSibling\r\n                    };\r\n                    util_util.removeItem(element);\r\n                    recursionFunc(parent);\r\n                }\r\n            }\r\n        }(item));\r\n\r\n        return cc;\r\n    },\r\n\r\n    /**\r\n     * @description Detach Nested all nested lists under the \"baseNode\".\r\n     * Returns a list with nested removed.\r\n     * @param {Node} baseNode Element on which to base.\r\n     * @param {Boolean} all If true, it also detach all nested lists of a returned list.\r\n     * @returns {Element}\r\n     */\r\n    detachNestedList: function (baseNode, all) {\r\n        const rNode = this._deleteNestedList(baseNode);\r\n        let rangeElement, cNodes;\r\n\r\n        if (rNode) {\r\n            rangeElement = rNode.cloneNode(false);\r\n            cNodes = rNode.childNodes;\r\n            const index = this.getPositionIndex(baseNode);\r\n            while (cNodes[index]) {\r\n                rangeElement.appendChild(cNodes[index]);\r\n            }\r\n        } else {\r\n            rangeElement = baseNode;\r\n        }\r\n        \r\n        let rChildren;\r\n        if (!all) {\r\n            const depth = this.getElementDepth(baseNode) + 2;\r\n            rChildren = this.getListChildren(baseNode, function (current) { return this.isListCell(current) && !current.previousElementSibling && this.getElementDepth(current) === depth; }.bind(this));\r\n        } else {\r\n            rChildren = this.getListChildren(rangeElement, function (current) { return this.isListCell(current) && !current.previousElementSibling; }.bind(this));\r\n        }\r\n\r\n        for (let i = 0, len = rChildren.length; i < len; i++) {\r\n            this._deleteNestedList(rChildren[i]);\r\n        }\r\n        \r\n        if (rNode) {\r\n            rNode.parentNode.insertBefore(rangeElement, rNode.nextSibling);\r\n            if (cNodes && cNodes.length === 0) this.removeItem(rNode);\r\n        }\r\n\r\n        return rangeElement === baseNode ? rangeElement.parentNode : rangeElement;\r\n    },\r\n\r\n    /**\r\n     * @description Sub function of util.detachNestedList method.\r\n     * @private\r\n     */\r\n    _deleteNestedList: function (baseNode) {\r\n        const baseParent = baseNode.parentNode;\r\n        let sibling = baseParent;\r\n        let parent = sibling.parentNode;\r\n        let liSibling, liParent, child, index, c;\r\n        \r\n        while (this.isListCell(parent)) {\r\n            index = this.getPositionIndex(baseNode);\r\n            liSibling = parent.nextElementSibling;\r\n            liParent = parent.parentNode;\r\n            child = sibling;\r\n            while(child) {\r\n                sibling = sibling.nextSibling;\r\n                if (this.isList(child)) {\r\n                    c = child.childNodes;\r\n                    while (c[index]) {\r\n                        liParent.insertBefore(c[index], liSibling);\r\n                    }\r\n                    if (c.length === 0) this.removeItem(child);\r\n                } else {\r\n                    liParent.appendChild(child);\r\n                }\r\n                child = sibling;\r\n            }\r\n            sibling = liParent;\r\n            parent = liParent.parentNode;\r\n        }\r\n\r\n        if (baseParent.children.length === 0) this.removeItem(baseParent);\r\n\r\n        return liParent;\r\n    },\r\n\r\n    /**\r\n     * @description Split all tags based on \"baseNode\"\r\n     * Returns the last element of the splited tag.\r\n     * @param {Node} baseNode Element or text node on which to base\r\n     * @param {Number|null} offset Text offset of \"baseNode\" (Only valid when \"baseNode\" is a text node)\r\n     * @param {Number} depth The nesting depth of the element being split. (default: 0)\r\n     * @returns {Element}\r\n     */\r\n    splitElement: function (baseNode, offset, depth) {\r\n        const bp = baseNode.parentNode;\r\n        let index = 0, newEl, children, temp;\r\n        let next = true;\r\n        if (!depth || depth < 0) depth = 0;\r\n\r\n        if (baseNode.nodeType === 3) {\r\n            index = this.getPositionIndex(baseNode);\r\n            if (offset >= 0) {\r\n                baseNode.splitText(offset);\r\n                const after = this.getNodeFromPath([index + 1], bp);\r\n                if (this.onlyZeroWidthSpace(after)) after.data = this.zeroWidthSpace;\r\n            }\r\n        } else if (baseNode.nodeType === 1) {\r\n            if (!baseNode.previousSibling) {\r\n                if (this.getElementDepth(baseNode) === depth) next = false;\r\n            } else {\r\n                baseNode = baseNode.previousSibling;\r\n            }\r\n        }\r\n\r\n        let depthEl = baseNode;\r\n        while (this.getElementDepth(depthEl) > depth) {\r\n            index = this.getPositionIndex(depthEl) + 1;\r\n            depthEl = depthEl.parentNode;\r\n\r\n            temp = newEl;\r\n            newEl = depthEl.cloneNode(false);\r\n            children = depthEl.childNodes;\r\n\r\n            if (temp) {\r\n                if (this.isListCell(newEl) && this.isList(temp) && temp.firstElementChild) {\r\n                    newEl.innerHTML = temp.firstElementChild.innerHTML;\r\n                    util_util.removeItem(temp.firstElementChild);\r\n                    if (temp.children.length > 0) newEl.appendChild(temp);\r\n                } else {\r\n                    newEl.appendChild(temp);\r\n                }\r\n            }\r\n\r\n            while (children[index]) {\r\n                newEl.appendChild(children[index]);\r\n            }\r\n        }\r\n\r\n        if (depthEl.childNodes.length <= 1 && (!depthEl.firstChild || depthEl.firstChild.textContent.length === 0)) depthEl.innerHTML = '<br>';\r\n\r\n        const pElement = depthEl.parentNode;\r\n        if (next) depthEl = depthEl.nextSibling;\r\n        if (!newEl) return depthEl;\r\n\r\n        this.mergeSameTags(newEl, null, false);\r\n        this.mergeNestedTags(newEl, function (current) { return this.isList(current); }.bind(this));\r\n        \r\n        if (newEl.childNodes.length > 0) pElement.insertBefore(newEl, depthEl);\r\n        else newEl = depthEl;\r\n\r\n        if (bp.childNodes.length === 0) this.removeItem(bp);\r\n\r\n        return newEl;\r\n    },\r\n\r\n    /**\r\n     * @description Use with \"npdePath (util.getNodePath)\" to merge the same attributes and tags if they are present and modify the nodepath.\r\n     * If \"offset\" has been changed, it will return as much \"offset\" as it has been modified.\r\n     * An array containing change offsets is returned in the order of the \"nodePathArray\" array.\r\n     * @param {Element} element Element\r\n     * @param {Array|null} nodePathArray Array of NodePath object ([util.getNodePath(), ..])\r\n     * @param {Boolean} onlyText If true, non-text nodes(!util._isIgnoreNodeChange) like 'span', 'strong'.. are ignored.\r\n     * @returns {Array} [offset, ..]\r\n     */\r\n    mergeSameTags: function (element, nodePathArray, onlyText) {\r\n        const inst = this;\r\n        const nodePathLen = nodePathArray ? nodePathArray.length : 0;\r\n        let offsets = null;\r\n        \r\n        if (nodePathLen) {\r\n            offsets = this._w.Array.apply(null, new this._w.Array(nodePathLen)).map(this._w.Number.prototype.valueOf, 0);\r\n        }\r\n\r\n        (function recursionFunc(current, depth, depthIndex) {\r\n            const children = current.childNodes;\r\n            \r\n            for (let i = 0, len = children.length, child, next; i < len; i++) {\r\n                child = children[i];\r\n                next = children[i + 1];\r\n                if (!child) break;\r\n                if((onlyText && inst._isIgnoreNodeChange(child)) || (!onlyText && (inst.isTable(child) || inst.isListCell(child) || (inst.isFormatElement(child) && !inst.isFreeFormatElement(child))))) {\r\n                    if (inst.isTable(child) || inst.isListCell(child)) {\r\n                        recursionFunc(child, depth + 1, i);\r\n                    }\r\n                    continue;\r\n                }\r\n                if (len === 1 && current.nodeName === child.nodeName && current.parentNode) {\r\n                    // update nodePath\r\n                    if (nodePathLen) {\r\n                        let path, c, p, cDepth, spliceDepth;\r\n                        for (let n = 0; n < nodePathLen; n++) {\r\n                            path = nodePathArray[n];\r\n                            if (path && path[depth] === i) {\r\n                                c = child, p = current, cDepth = depth, spliceDepth = true;\r\n                                while (cDepth >= 0) {\r\n                                    if (inst.getArrayIndex(p.childNodes, c) !== path[cDepth]) {\r\n                                        spliceDepth = false;\r\n                                        break;\r\n                                    }\r\n                                    c = child.parentNode;\r\n                                    p = c.parentNode;\r\n                                    cDepth--;\r\n                                }\r\n                                if (spliceDepth) {\r\n                                    path.splice(depth, 1);\r\n                                    path[depth] = i;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // merge tag\r\n                    inst.copyTagAttributes(child, current);\r\n                    current.parentNode.insertBefore(child, current);\r\n                    inst.removeItem(current);\r\n                }\r\n                if (!next) {\r\n                    if (child.nodeType === 1) recursionFunc(child, depth + 1, i);\r\n                    break;\r\n                }\r\n\r\n                if (child.nodeName === next.nodeName && inst.isSameAttributes(child, next) && child.href === next.href) {\r\n                    const childs = child.childNodes;\r\n                    let childLength = 0;\r\n                    for (let n = 0, nLen = childs.length; n < nLen; n++) {\r\n                        if (childs[n].textContent.length > 0) childLength++;\r\n                    }\r\n\r\n                    const l = child.lastChild;\r\n                    const r = next.firstChild;\r\n                    let addOffset = 0;\r\n                    if (l && r) {\r\n                        const textOffset = l.nodeType === 3 && r.nodeType === 3;\r\n                        addOffset = l.textContent.length;\r\n                        let tempL = l.previousSibling;\r\n                        while(tempL && tempL.nodeType === 3) {\r\n                            addOffset += tempL.textContent.length;\r\n                            tempL = tempL.previousSibling;\r\n                        }\r\n\r\n                        if (childLength > 0 && l.nodeType === 3 && r.nodeType === 3 && (l.textContent.length > 0 || r.textContent.length > 0)) childLength--;\r\n\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        if (textOffset) {\r\n                                            if (l && l.nodeType === 3 && r && r.nodeType === 3) {\r\n                                                offsets[n] += addOffset;\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    if (child.nodeType === 3) {\r\n                        addOffset = child.textContent.length;\r\n                        child.textContent += next.textContent;\r\n                        if (nodePathLen) {\r\n                            let path = null;\r\n                            for (let n = 0; n < nodePathLen; n++) {\r\n                                path = nodePathArray[n];\r\n                                if (path && path[depth] > i) {\r\n                                    if (depth > 0 && path[depth - 1] !== depthIndex) continue;\r\n    \r\n                                    path[depth] -= 1;\r\n                                    if (path[depth + 1] >= 0 && path[depth] === i) {\r\n                                        path[depth + 1] += childLength;\r\n                                        offsets[n] += addOffset;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    } else {\r\n                        child.innerHTML += next.innerHTML;\r\n                    }\r\n                    \r\n                    inst.removeItem(next);\r\n                    i--;\r\n                } else if (child.nodeType === 1) {\r\n                    recursionFunc(child, depth + 1, i);\r\n                }\r\n            }\r\n        })(element, 0, 0);\r\n\r\n        return offsets;\r\n    },\r\n\r\n    /**\r\n     * @description Remove nested tags without other child nodes.\r\n     * @param {Element} element Element object\r\n     * @param {Function|String|null} validation Validation function / String(\"tag1|tag2..\") / If null, all tags are applicable.\r\n     */\r\n    mergeNestedTags: function (element, validation) {\r\n        if (typeof validation === 'string') {\r\n            validation = function (current) { return this.test(current.tagName); }.bind(new this._w.RegExp('^(' + (validation ? validation : '.+') + ')$', 'i'));\r\n        } else if (typeof validation !== 'function') {\r\n            validation = function () { return true; };\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            let children = current.children;\r\n            if (children.length === 1 && children[0].nodeName === current.nodeName && validation(current)) {\r\n                const temp = children[0];\r\n                children = temp.children;\r\n                while (children[0]) {\r\n                    current.appendChild(children[0]);\r\n                }\r\n                current.removeChild(temp);\r\n            }\r\n\r\n            for (let i = 0, len = current.children.length; i < len; i++) {\r\n                recursionFunc(current.children[i]);\r\n            }\r\n        })(element);\r\n    },\r\n\r\n    /**\r\n     * @description Delete a empty child node of argument element\r\n     * @param {Element} element Element node\r\n     * @param {Node|null} notRemoveNode Do not remove node\r\n     */\r\n    removeEmptyNode: function (element, notRemoveNode) {\r\n        const inst = this;\r\n\r\n        if (notRemoveNode) {\r\n            notRemoveNode = inst.getParentElement(notRemoveNode, function (current) {\r\n                return element === current.parentElement;\r\n            });\r\n        }\r\n        \r\n        (function recursionFunc(current) {\r\n            if (inst._notTextNode(current) || current === notRemoveNode || inst.isNonEditable(current)) return 0;\r\n            if (current !== element && inst.onlyZeroWidthSpace(current.textContent) && (!current.firstChild || !inst.isBreak(current.firstChild))) {\r\n                if (current.parentNode) {\r\n                    current.parentNode.removeChild(current);\r\n                    return -1;\r\n                }\r\n            } else {\r\n                const children = current.children;\r\n                for (let i = 0, len = children.length, r = 0; i < len; i++) {\r\n                    if (!children[i + r] || inst.isComponent(children[i + r])) continue;\r\n                    r += recursionFunc(children[i + r]);\r\n                }\r\n            }\r\n\r\n            return 0;\r\n        })(element);\r\n\r\n        if (element.childNodes.length === 0) element.innerHTML = '<br>';\r\n    },\r\n\r\n    /**\r\n     * @description Remove whitespace between tags in HTML string.\r\n     * @param {String} html HTML string\r\n     * @returns {String}\r\n     */\r\n    htmlRemoveWhiteSpace: function (html) {\r\n        if (!html) return '';\r\n        return html.trim().replace(/<\\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code)[^>^<]+>\\s+(?=<)/ig, function (m) { return m.trim(); });\r\n    },\r\n\r\n    /**\r\n     * @description Sort a element array by depth of element.\r\n     * @param {Array} array Array object\r\n     * @param {Boolean} des true: descending order / false: ascending order\r\n     */\r\n    sortByDepth: function (array, des) {\r\n        const t = !des ? -1 : 1;\r\n        const f = t * -1;\r\n\r\n        array.sort(function (a, b) {\r\n            if (!this.isListCell(a) || !this.isListCell(b)) return 0;\r\n            a = this.getElementDepth(a);\r\n            b = this.getElementDepth(b);\r\n            return a > b ? t : a < b ? f : 0;\r\n        }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that need to be added without modification when changing text nodes\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isIgnoreNodeChange: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isNonEditable(element) || !this.isTextStyleElement(element));\r\n    },\r\n\r\n    /**\r\n     * @description Nodes that must remain undetached when changing text nodes (A, Label, Code)\r\n     * @param {Node|String} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isMaintainedNode: function (element) {\r\n        return element && element.nodeType !== 3 && /^(a|label|code)$/i.test(typeof element === 'string' ? element : element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Node with font-size style\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _isSizeNode: function (element) {\r\n        return element && element.nodeType !== 3 && this.isTextStyleElement(element) && !!element.style.fontSize;\r\n    },\r\n\r\n    /**\r\n     * @description Nodes without text\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _notTextNode: function (element) {\r\n        return element && element.nodeType !== 3 && (this.isComponent(element) || /^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof element === 'string' ? element : element.nodeName));\r\n    },\r\n\r\n    /**\r\n     * @description Check disallowed tags\r\n     * @param {Node} element Element to check\r\n     * @returns {Boolean}\r\n     * @private\r\n     */\r\n    _disallowedTags: function (element) {\r\n        return /^(meta|script|link|style|[a-z]+\\:[a-z]+)$/i.test(element.nodeName);\r\n    },\r\n\r\n    /**\r\n     * @description Create whitelist RegExp object.\r\n     * Return RegExp format: new RegExp(\"<\\\\/?\\\\b(?!\" + list + \")\\\\b[^>^<]*+>\", \"gi\")\r\n     * @param {String} list Tags list (\"br|p|div|pre...\")\r\n     * @returns {RegExp}\r\n     */\r\n    createTagsWhitelist: function (list) {\r\n        return new RegExp('<\\\\/?\\\\b(?!\\\\b' + list.replace(/\\|/g, '\\\\b|\\\\b') + '\\\\b)[^>]*>', 'gi');\r\n    },\r\n\r\n    /**\r\n     * @description Fix tags that do not fit the editor format.\r\n     * @param {Element} documentFragment Document fragment \"DOCUMENT_FRAGMENT_NODE\" (nodeType === 11)\r\n     * @param {RegExp} htmlCheckWhitelistRegExp Editor tags whitelist (core._htmlCheckWhitelistRegExp)\r\n     * @private\r\n     */\r\n    _consistencyCheckOfHTML: function (documentFragment, htmlCheckWhitelistRegExp) {\r\n        /**\r\n         * It is can use \".children(util.getListChildren)\" to exclude text nodes, but \"documentFragment.children\" is not supported in IE.\r\n         * So check the node type and exclude the text no (current.nodeType !== 1)\r\n         */\r\n        const removeTags = [], emptyTags = [], wrongList = [], withoutFormatCells = [];\r\n\r\n        // wrong position\r\n        const wrongTags = this.getListChildNodes(documentFragment, function (current) {\r\n            if (current.nodeType !== 1) return false;\r\n\r\n            // white list\r\n            if (!htmlCheckWhitelistRegExp.test(current.nodeName) && current.childNodes.length === 0 && this.isNotCheckingNode(current)) {\r\n                removeTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            const nrtag = !this.getParentElement(current, this.isNotCheckingNode);\r\n            // empty tags\r\n            if ((!this.isTable(current) && !this.isListCell(current)) && (this.isFormatElement(current) || this.isRangeFormatElement(current) || this.isTextStyleElement(current)) && current.childNodes.length === 0 && nrtag) {\r\n                emptyTags.push(current);\r\n                return false;\r\n            }\r\n\r\n            // wrong list\r\n            if (this.isList(current.parentNode) && !this.isList(current) && !this.isListCell(current)) {\r\n                wrongList.push(current);\r\n                return false;\r\n            }\r\n\r\n            // table cells\r\n            if (this.isCell(current)) {\r\n                const fel = current.firstElementChild;\r\n                if (!this.isFormatElement(fel) && !this.isRangeFormatElement(fel) && !this.isComponent(fel)) {\r\n                    withoutFormatCells.push(current);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return current.parentNode !== documentFragment &&\r\n             (this.isFormatElement(current) || this.isComponent(current) || this.isList(current)) &&\r\n             !this.isRangeFormatElement(current.parentNode) && !this.isListCell(current.parentNode) &&\r\n             !this.getParentElement(current, this.isComponent) && nrtag;\r\n        }.bind(this));\r\n\r\n        for (let i = 0, len = removeTags.length; i < len; i++) {\r\n            this.removeItem(removeTags[i]);\r\n        }\r\n        \r\n        const checkTags = [];\r\n        for (let i = 0, len = wrongTags.length, t, p; i < len; i++) {\r\n            t = wrongTags[i];\r\n            p = t.parentNode;\r\n            if (!p || !p.parentNode) continue;\r\n            p.parentNode.insertBefore(t, p);\r\n            checkTags.push(p);\r\n        }\r\n\r\n        for (let i = 0, len = checkTags.length, t; i < len; i++) {\r\n            t = checkTags[i];\r\n            if (this.onlyZeroWidthSpace(t.textContent.trim())) {\r\n                this.removeItem(t);\r\n            }\r\n        }\r\n\r\n        for (let i = 0, len = emptyTags.length; i < len; i++) {\r\n            this.removeItem(emptyTags[i]);\r\n        }\r\n\r\n        for (let i = 0, len = wrongList.length, t, tp, children, p; i < len; i++) {\r\n            t = wrongList[i];\r\n\r\n            tp = this.createElement('LI');\r\n            children = t.childNodes;\r\n            while (children[0]) {\r\n                tp.appendChild(children[0]);\r\n            }\r\n            \r\n            p = t.parentNode;\r\n            if (!p) continue;\r\n            p.insertBefore(tp, t);\r\n            this.removeItem(t);\r\n        }\r\n\r\n        for (let i = 0, len = withoutFormatCells.length, t, f; i < len; i++) {\r\n            t = withoutFormatCells[i];\r\n            f = this.createElement('DIV');\r\n            f.innerHTML = t.textContent.trim().length === 0 ? '<br>' : t.innerHTML;\r\n            t.innerHTML = f.outerHTML;\r\n        }\r\n    },\r\n\r\n    _setDefaultOptionStyle: function (options, defaultStyle) {\r\n        let optionStyle = '';\r\n        if (options.height) optionStyle += 'height:' + options.height + ';';\r\n        if (options.minHeight) optionStyle += 'min-height:' + options.minHeight + ';';\r\n        if (options.maxHeight) optionStyle += 'max-height:' + options.maxHeight + ';';\r\n        if (options.position) optionStyle += 'position:' + options.position + ';';\r\n        if (options.width) optionStyle += 'width:' + options.width + ';';\r\n        if (options.minWidth) optionStyle += 'min-width:' + options.minWidth + ';';\r\n        if (options.maxWidth) optionStyle += 'max-width:' + options.maxWidth + ';';\r\n\r\n        let top = '', frame = '', editor = '';\r\n        defaultStyle = optionStyle + defaultStyle;\r\n        const styleArr = defaultStyle.split(';');\r\n        for (let i = 0, len = styleArr.length, s; i < len; i++) {\r\n            s = styleArr[i].trim();\r\n            if (!s) continue;\r\n            if (/^(min-|max-)?width\\s*:/.test(s)) {\r\n                top += s + ';';\r\n                continue;\r\n            }\r\n            if (/^(min-|max-)?height\\s*:/.test(s)) {\r\n                if (/^height/.test(s) && s.split(':')[1].trim() === 'auto') {\r\n                    options.height = 'auto';\r\n                }\r\n                frame += s + ';';\r\n                continue;\r\n            }\r\n            editor += s + ';';\r\n        }\r\n\r\n        return {\r\n            top: top,\r\n            frame: frame,\r\n            editor: editor\r\n        };\r\n    },\r\n\r\n    _setIframeDocument: function (frame, options) {\r\n        frame.setAttribute('scrolling', 'auto');\r\n        frame.contentDocument.head.innerHTML = '' +\r\n            '<meta charset=\"utf-8\" />' +\r\n            '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n            this._setIframeCssTags(options);\r\n        frame.contentDocument.body.className = options._editableClass;\r\n        frame.contentDocument.body.setAttribute('contenteditable', true);\r\n    },\r\n\r\n    _setIframeCssTags: function (options) {\r\n        const linkNames = options.iframeCSSFileName;\r\n        const wRegExp = this._w.RegExp;\r\n        let tagString = '';\r\n\r\n        for (let f = 0, len = linkNames.length, path; f < len; f++) {\r\n            path = [];\r\n\r\n            if (/(^https?:\\/\\/)|(^data:text\\/css,)/.test(linkNames[f])) {\r\n                path.push(linkNames[f]);\r\n            } else {\r\n                const CSSFileName = new wRegExp('(^|.*[\\\\/])' + linkNames[f] + '(\\\\..+)?\\\\.css(?:\\\\?.*|;.*)?$', 'i');\r\n                for (let c = document.getElementsByTagName('link'), i = 0, len = c.length, styleTag; i < len; i++) {\r\n                    styleTag = c[i].href.match(CSSFileName);\r\n                    if (styleTag) path.push(styleTag[0]);\r\n                }\r\n            }\r\n\r\n            if (!path || path.length === 0) throw '[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property \"iframeCSSFileName\" before creating editor instances.';\r\n\r\n            for (let i = 0, len = path.length; i < len; i++) {\r\n                tagString += '<link href=\"' + path[i] + '\" rel=\"stylesheet\">';\r\n            }\r\n        }\r\n\r\n        return tagString + (options.height === 'auto' ? '<style>\\n/** Iframe height auto */\\nbody{height: min-content; overflow: hidden;}\\n</style>' : '');\r\n    }\r\n};\r\n\r\n/* harmony default export */ var lib_util = (util_util);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/constructor.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ var lib_constructor = ({\r\n    /**\r\n     * @description document create\r\n     * @param {Element} element Textarea\r\n     * @param {Object} options Options\r\n     * @returns {Object}\r\n     */\r\n    init: function (element, options) {\r\n        if (typeof options !== 'object') options = {};\r\n\r\n        const doc = document;\r\n\r\n        /** --- init options --- */\r\n        this._initOptions(element, options);\r\n    \r\n        // suneditor div\r\n        const top_div = doc.createElement('DIV');\r\n        top_div.className = 'sun-editor' + (options.rtl ? ' se-rtl' : '');\r\n        if (element.id) top_div.id = 'suneditor_' + element.id;\r\n    \r\n        // relative div\r\n        const relative = doc.createElement('DIV');\r\n        relative.className = 'se-container';\r\n    \r\n        // toolbar\r\n        const tool_bar = this._createToolBar(doc, options.buttonList, options.plugins, options);\r\n        tool_bar.element.style.visibility = 'hidden';\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(options.katex);\r\n        const arrow = doc.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        // sticky toolbar dummy\r\n        const sticky_dummy = doc.createElement('DIV');\r\n        sticky_dummy.className = 'se-toolbar-sticky-dummy';\r\n    \r\n        // inner editor div\r\n        const editor_div = doc.createElement('DIV');\r\n        editor_div.className = 'se-wrapper';\r\n\r\n        /** --- init elements and create bottom bar --- */\r\n        const initElements = this._initElements(options, top_div, tool_bar.element, arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwyg_div = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let textarea = initElements.codeView;\r\n\r\n        // resizing bar\r\n        const resizing_bar = bottomBar.resizingBar;\r\n        const navigation = bottomBar.navigation;\r\n        const char_wrapper = bottomBar.charWrapper;\r\n        const char_counter = bottomBar.charCounter;\r\n    \r\n        // loading box\r\n        const loading_box = doc.createElement('DIV');\r\n        loading_box.className = 'se-loading-box sun-editor-common';\r\n        loading_box.innerHTML = '<div class=\"se-loading-effect\"></div>';\r\n\r\n        // enter line\r\n        const line_breaker = doc.createElement('DIV');\r\n        line_breaker.className = 'se-line-breaker';\r\n        line_breaker.innerHTML = '<button class=\"se-btn\">' + options.icons.line_break + '</button>';\r\n        const line_breaker_t = doc.createElement('DIV');\r\n        line_breaker_t.className += 'se-line-breaker-component';\r\n        const line_breaker_b = line_breaker_t.cloneNode(true);\r\n        line_breaker_t.innerHTML = line_breaker_b.innerHTML = options.icons.line_break;\r\n    \r\n        // resize operation background\r\n        const resize_back = doc.createElement('DIV');\r\n        resize_back.className = 'se-resizing-back';\r\n\r\n        // toolbar container\r\n        const toolbarContainer = options.toolbarContainer;\r\n        if (toolbarContainer) {\r\n            toolbarContainer.appendChild(tool_bar.element);\r\n        }\r\n    \r\n        /** append html */\r\n        editor_div.appendChild(textarea);\r\n        if (placeholder_span) editor_div.appendChild(placeholder_span);\r\n        if (!toolbarContainer) relative.appendChild(tool_bar.element);\r\n        relative.appendChild(sticky_dummy);\r\n        relative.appendChild(editor_div);\r\n        relative.appendChild(resize_back);\r\n        relative.appendChild(loading_box);\r\n        relative.appendChild(line_breaker);\r\n        relative.appendChild(line_breaker_t);\r\n        relative.appendChild(line_breaker_b);\r\n        if (resizing_bar) relative.appendChild(resizing_bar);\r\n        top_div.appendChild(relative);\r\n\r\n        textarea = this._checkCodeMirror(options, textarea);\r\n    \r\n        return {\r\n            constructed: {\r\n                _top: top_div,\r\n                _relative: relative,\r\n                _toolBar: tool_bar.element,\r\n                _menuTray: tool_bar._menuTray,\r\n                _editorArea: editor_div,\r\n                _wysiwygArea: wysiwyg_div,\r\n                _codeArea: textarea,\r\n                _placeholder: placeholder_span,\r\n                _resizingBar: resizing_bar,\r\n                _navigation: navigation,\r\n                _charWrapper: char_wrapper,\r\n                _charCounter: char_counter,\r\n                _loading: loading_box,\r\n                _lineBreaker: line_breaker,\r\n                _lineBreaker_t: line_breaker_t,\r\n                _lineBreaker_b: line_breaker_b,\r\n                _resizeBack: resize_back,\r\n                _stickyDummy: sticky_dummy,\r\n                _arrow: arrow\r\n            },\r\n            options: options,\r\n            plugins: tool_bar.plugins,\r\n            pluginCallButtons: tool_bar.pluginCallButtons,\r\n            _responsiveButtons: tool_bar.responsiveButtons\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Check the CodeMirror option to apply the CodeMirror and return the CodeMirror element.\r\n     * @param {Object} options options\r\n     * @param {Element} textarea textarea element\r\n     * @private\r\n     */\r\n    _checkCodeMirror: function (options, textarea) {\r\n        if (options.codeMirror) {\r\n            const cmOptions = [{\r\n                mode: 'htmlmixed',\r\n                htmlMode: true,\r\n                lineNumbers: true,\r\n                lineWrapping: true\r\n            }, (options.codeMirror.options || {})].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            if (options.height === 'auto') {\r\n                cmOptions.viewportMargin = Infinity;\r\n                cmOptions.height = 'auto';\r\n            }\r\n            \r\n            const cm = options.codeMirror.src.fromTextArea(textarea, cmOptions);\r\n            cm.display.wrapper.style.cssText = textarea.style.cssText;\r\n            \r\n            options.codeMirrorEditor = cm;\r\n            textarea = cm.display.wrapper;\r\n            textarea.className += ' se-wrapper-code-mirror';\r\n        }\r\n\r\n        return textarea;\r\n    },\r\n\r\n    /**\r\n     * @description Check for a katex object.\r\n     * @param {Object} katex katex object\r\n     * @private\r\n     */\r\n    _checkKatexMath: function (katex) {\r\n        if (!katex) throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a \"katex\" object to the options.');\r\n\r\n        const katexOptions = [{\r\n            throwOnError: false,\r\n        }, (katex.options || {})].reduce(function (init, option) {\r\n            for (let key in option) {\r\n                if (lib_util.hasOwn(option, key)) init[key] = option[key];\r\n            }\r\n            return init;\r\n        }, {});\r\n\r\n        katex.options = katexOptions;\r\n    },\r\n\r\n    /**\r\n     * @description Add or reset options\r\n     * @param {Object} mergeOptions New options property\r\n     * @param {Object} context Context object of core\r\n     * @param {Object} plugins Origin plugins\r\n     * @param {Object} originOptions Origin options\r\n     * @returns {Object} pluginCallButtons\r\n     * @private\r\n     */\r\n    _setOptions: function (mergeOptions, context, plugins, originOptions) {\r\n        this._initOptions(context.element.originElement, mergeOptions);\r\n\r\n        const el = context.element;\r\n        const relative = el.relative;\r\n        const editorArea = el.editorArea;\r\n        const isNewToolbarContainer = mergeOptions.toolbarContainer && mergeOptions.toolbarContainer !== originOptions.toolbarContainer;\r\n        const isNewToolbar = !!mergeOptions.buttonList || mergeOptions.mode !== originOptions.mode || isNewToolbarContainer;\r\n        const isNewPlugins = !!mergeOptions.plugins;\r\n\r\n        const tool_bar = this._createToolBar(document, (isNewToolbar ? mergeOptions.buttonList : originOptions.buttonList), (isNewPlugins ? mergeOptions.plugins : plugins), mergeOptions);\r\n        if (tool_bar.pluginCallButtons.math) this._checkKatexMath(mergeOptions.katex);\r\n        const arrow = document.createElement('DIV');\r\n        arrow.className = 'se-arrow';\r\n\r\n        if (isNewToolbar) {\r\n            tool_bar.element.style.visibility = 'hidden';\r\n            // toolbar container\r\n            if (isNewToolbarContainer) {\r\n                mergeOptions.toolbarContainer.appendChild(tool_bar.element);\r\n                el.toolbar.parentElement.removeChild(el.toolbar);\r\n            } else {\r\n                el.toolbar.parentElement.replaceChild(tool_bar.element, el.toolbar);\r\n            }\r\n\r\n            el.toolbar = tool_bar.element;\r\n            el._menuTray = tool_bar._menuTray;\r\n            el._arrow = arrow;\r\n        }\r\n        \r\n        const initElements = this._initElements(mergeOptions, el.topArea, (isNewToolbar ? tool_bar.element : el.toolbar), arrow);\r\n\r\n        const bottomBar = initElements.bottomBar;\r\n        const wysiwygFrame = initElements.wysiwygFrame;\r\n        const placeholder_span = initElements.placeholder;\r\n        let code = initElements.codeView;\r\n\r\n        if (el.resizingBar) relative.removeChild(el.resizingBar);\r\n        if (bottomBar.resizingBar) relative.appendChild(bottomBar.resizingBar);\r\n\r\n        editorArea.innerHTML = '';\r\n        editorArea.appendChild(code);\r\n        if (placeholder_span) editorArea.appendChild(placeholder_span);\r\n\r\n        code = this._checkCodeMirror(mergeOptions, code);\r\n        \r\n        el.resizingBar = bottomBar.resizingBar;\r\n        el.navigation = bottomBar.navigation;\r\n        el.charWrapper = bottomBar.charWrapper;\r\n        el.charCounter = bottomBar.charCounter;\r\n        el.wysiwygFrame = wysiwygFrame;\r\n        el.code = code;\r\n        el.placeholder = placeholder_span;\r\n\r\n        if (mergeOptions.rtl) lib_util.addClass(el.topArea, 'se-rtl');\r\n        else lib_util.removeClass(el.topArea, 'se-rtl');\r\n\r\n        return {\r\n            callButtons: isNewToolbar ? tool_bar.pluginCallButtons : null,\r\n            plugins: isNewToolbar || isNewPlugins ? tool_bar.plugins : null,\r\n            toolbar: tool_bar\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize property of suneditor elements\r\n     * @param {Object} options Options\r\n     * @param {Element} topDiv Suneditor top div\r\n     * @param {Element} toolBar Tool bar\r\n     * @param {Element} toolBarArrow Tool bar arrow (balloon editor)\r\n     * @returns {Object} Bottom bar elements (resizingBar, navigation, charWrapper, charCounter)\r\n     * @private\r\n     */\r\n    _initElements: function (options, topDiv, toolBar, toolBarArrow) {\r\n        /** top div */\r\n        topDiv.style.cssText = options._editorStyles.top;\r\n\r\n        /** toolbar */\r\n        if (/inline/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-inline';\r\n            toolBar.style.width = options.toolbarWidth;\r\n        } else if (/balloon/i.test(options.mode)) {\r\n            toolBar.className += ' se-toolbar-balloon';\r\n            toolBar.style.width = options.toolbarWidth;\r\n            toolBar.appendChild(toolBarArrow);\r\n        }\r\n\r\n        /** editor */\r\n        // wysiwyg div or iframe\r\n        const wysiwygDiv = document.createElement(!options.iframe ? 'DIV' : 'IFRAME');\r\n        wysiwygDiv.className = 'se-wrapper-inner se-wrapper-wysiwyg';\r\n        \r\n        if (!options.iframe) {\r\n            wysiwygDiv.setAttribute('contenteditable', true);\r\n            wysiwygDiv.setAttribute('scrolling', 'auto');\r\n            wysiwygDiv.className += ' ' + options._editableClass;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame + options._editorStyles.editor;\r\n        } else {\r\n            wysiwygDiv.allowFullscreen = true;\r\n            wysiwygDiv.frameBorder = 0;\r\n            wysiwygDiv.style.cssText = options._editorStyles.frame;\r\n        }\r\n\r\n        // textarea for code view\r\n        const textarea = document.createElement('TEXTAREA');\r\n        textarea.className = 'se-wrapper-inner se-wrapper-code';\r\n        textarea.style.cssText = options._editorStyles.frame;\r\n        textarea.style.display = 'none';\r\n        if (options.height === 'auto') textarea.style.overflow = 'hidden';\r\n\r\n        /** resize bar */\r\n        let resizingBar = null;\r\n        let navigation = null;\r\n        let charWrapper = null;\r\n        let charCounter = null;\r\n        if (options.resizingBar) {\r\n            resizingBar = document.createElement('DIV');\r\n            resizingBar.className = 'se-resizing-bar sun-editor-common';\r\n\r\n            /** navigation */\r\n            navigation = document.createElement('DIV');\r\n            navigation.className = 'se-navigation sun-editor-common';\r\n            resizingBar.appendChild(navigation);\r\n\r\n            /** char counter */\r\n            if (options.charCounter) {\r\n                charWrapper = document.createElement('DIV');\r\n                charWrapper.className = 'se-char-counter-wrapper';\r\n\r\n                if (options.charCounterLabel) {\r\n                    const charLabel = document.createElement('SPAN');\r\n                    charLabel.className = 'se-char-label';\r\n                    charLabel.textContent = options.charCounterLabel;\r\n                    charWrapper.appendChild(charLabel);\r\n                }\r\n    \r\n                charCounter = document.createElement('SPAN');\r\n                charCounter.className = 'se-char-counter';\r\n                charCounter.textContent = '0';\r\n                charWrapper.appendChild(charCounter);\r\n    \r\n                if (options.maxCharCount > 0) {\r\n                    const char_max = document.createElement('SPAN');\r\n                    char_max.textContent = ' / ' + options.maxCharCount;\r\n                    charWrapper.appendChild(char_max);\r\n                }\r\n\r\n                resizingBar.appendChild(charWrapper);\r\n            }\r\n        }\r\n        \r\n        let placeholder = null;\r\n        if (options.placeholder) {\r\n            placeholder = document.createElement('SPAN');\r\n            placeholder.className = 'se-placeholder';\r\n            placeholder.innerText = options.placeholder;\r\n        }\r\n\r\n        return {\r\n            bottomBar: {\r\n                resizingBar: resizingBar,\r\n                navigation: navigation,\r\n                charWrapper: charWrapper,\r\n                charCounter: charCounter\r\n            },\r\n            wysiwygFrame: wysiwygDiv,\r\n            codeView: textarea,\r\n            placeholder: placeholder\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Initialize options\r\n     * @param {Element} element Options object\r\n     * @param {Object} options Options object\r\n     * @private\r\n     */\r\n    _initOptions: function (element, options) {\r\n        /** Values */\r\n        options.lang = options.lang || en_default.a;\r\n        options.defaultTag = typeof options.defaultTag === 'string' ? options.defaultTag : 'p';\r\n        options.value = typeof options.value === 'string' ? options.value : null;\r\n        options.historyStackDelayTime = typeof options.historyStackDelayTime === 'number' ? options.historyStackDelayTime : 400;\r\n        /** Whitelist */\r\n        options._defaultTagsWhitelist = typeof options._defaultTagsWhitelist === 'string' ? options._defaultTagsWhitelist : 'br|p|div|pre|blockquote|h[1-6]|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code';\r\n        options._editorTagsWhitelist = options._defaultTagsWhitelist + (typeof options.addTagsWhitelist === 'string' && options.addTagsWhitelist.length > 0 ? '|' + options.addTagsWhitelist : '');\r\n        options.pasteTagsWhitelist = typeof options.pasteTagsWhitelist === 'string' ? options.pasteTagsWhitelist : options._editorTagsWhitelist;\r\n        options.attributesWhitelist = (!options.attributesWhitelist || typeof options.attributesWhitelist !== 'object') ? null : options.attributesWhitelist;\r\n        /** Layout */\r\n        options.mode = options.mode || 'classic'; // classic, inline, balloon, balloon-always\r\n        options.rtl = !!options.rtl;\r\n        options._editableClass = 'sun-editor-editable' + (options.rtl ? ' se-rtl' : '');\r\n        options.toolbarWidth = options.toolbarWidth ? (lib_util.isNumber(options.toolbarWidth) ? options.toolbarWidth + 'px' : options.toolbarWidth) : 'auto';\r\n        options.toolbarContainer = typeof options.toolbarContainer === 'string' ? document.querySelector(options.toolbarContainer) : options.toolbarContainer;\r\n        options.stickyToolbar = (/balloon/i.test(options.mode) || !!options.toolbarContainer) ? -1 : options.stickyToolbar === undefined ? 0 : (/^\\d+/.test(options.stickyToolbar) ? lib_util.getNumber(options.stickyToolbar, 0) : -1);\r\n        options.iframe = options.fullPage || options.iframe;\r\n        options.fullPage = !!options.fullPage;\r\n        options.iframeCSSFileName = options.iframe ? typeof options.iframeCSSFileName === 'string' ? [options.iframeCSSFileName] : (options.iframeCSSFileName || ['suneditor']) : null;\r\n        options.previewTemplate = typeof options.previewTemplate === 'string' ? options.previewTemplate : null;\r\n        /** CodeMirror object */\r\n        options.codeMirror = options.codeMirror ? options.codeMirror.src ? options.codeMirror : {src: options.codeMirror} : null;\r\n        /** katex object (Math plugin) */\r\n        options.katex = options.katex ? options.katex.src ? options.katex : {src: options.katex} : null;\r\n        /** Display */\r\n        options.position = typeof options.position === 'string' ? options.position : null;\r\n        options.display = options.display || (element.style.display === 'none' || !element.style.display ? 'block' : element.style.display);\r\n        options.popupDisplay = options.popupDisplay || 'full';\r\n        /** Bottom resizing bar */\r\n        options.resizingBar = options.resizingBar === undefined ? (/inline|balloon/i.test(options.mode) ? false : true) : options.resizingBar;\r\n        options.showPathLabel = !options.resizingBar ? false : typeof options.showPathLabel === 'boolean' ? options.showPathLabel : true;\r\n        /** Character count */\r\n        options.charCounter = options.maxCharCount > 0 ? true : typeof options.charCounter === 'boolean' ? options.charCounter : false;\r\n        options.charCounterType = typeof options.charCounterType === 'string' ? options.charCounterType : 'char';\r\n        options.charCounterLabel = typeof options.charCounterLabel === 'string' ? options.charCounterLabel.trim() : null;\r\n        options.maxCharCount = lib_util.isNumber(options.maxCharCount) && options.maxCharCount > -1 ? options.maxCharCount * 1 : null;\r\n        /** Width size */\r\n        options.width = options.width ? (lib_util.isNumber(options.width) ? options.width + 'px' : options.width) : (element.clientWidth ? element.clientWidth + 'px' : '100%');\r\n        options.minWidth = (lib_util.isNumber(options.minWidth) ? options.minWidth + 'px' : options.minWidth) || '';\r\n        options.maxWidth = (lib_util.isNumber(options.maxWidth) ? options.maxWidth + 'px' : options.maxWidth) || '';\r\n        /** Height size */\r\n        options.height = options.height ? (lib_util.isNumber(options.height) ? options.height + 'px' : options.height) : (element.clientHeight ? element.clientHeight + 'px' : 'auto');\r\n        options.minHeight = (lib_util.isNumber(options.minHeight) ? options.minHeight + 'px' : options.minHeight) || '';\r\n        options.maxHeight = (lib_util.isNumber(options.maxHeight) ? options.maxHeight + 'px' : options.maxHeight) || '';\r\n        /** Editing area default style */\r\n        options.defaultStyle = typeof options.defaultStyle === 'string' ? options.defaultStyle : '';\r\n        /** Defining menu items */\r\n        options.font = !options.font ? null : options.font;\r\n        options.fontSize = !options.fontSize ? null : options.fontSize;\r\n        options.formats = !options.formats ? null : options.formats;\r\n        options.colorList = !options.colorList ? null : options.colorList;\r\n        options.lineHeights = !options.lineHeights ? null : options.lineHeights;\r\n        options.paragraphStyles = !options.paragraphStyles ? null : options.paragraphStyles;\r\n        options.textStyles = !options.textStyles ? null : options.textStyles;\r\n        options.fontSizeUnit = typeof options.fontSizeUnit === 'string' ? (options.fontSizeUnit.trim() || 'px') : 'px';\r\n        /** Image */\r\n        options.imageResizing = options.imageResizing === undefined ? true : options.imageResizing;\r\n        options.imageHeightShow = options.imageHeightShow === undefined ? true : !!options.imageHeightShow;\r\n        options.imageWidth = !options.imageWidth ? 'auto' : lib_util.isNumber(options.imageWidth) ? options.imageWidth + 'px' : options.imageWidth;\r\n        options.imageHeight = !options.imageHeight ? 'auto' : lib_util.isNumber(options.imageHeight) ? options.imageHeight + 'px' : options.imageHeight;\r\n        options.imageSizeOnlyPercentage = !!options.imageSizeOnlyPercentage;\r\n        options._imageSizeUnit = options.imageSizeOnlyPercentage ? '%' : 'px';\r\n        options.imageRotation = options.imageRotation !== undefined ? options.imageRotation : !(options.imageSizeOnlyPercentage || !options.imageHeightShow);\r\n        options.imageFileInput = options.imageFileInput === undefined ? true : options.imageFileInput;\r\n        options.imageUrlInput = (options.imageUrlInput === undefined || !options.imageFileInput) ? true : options.imageUrlInput;\r\n        options.imageUploadHeader = options.imageUploadHeader || null;\r\n        options.imageUploadUrl = typeof options.imageUploadUrl === 'string' ? options.imageUploadUrl : null;\r\n        options.imageUploadSizeLimit = /\\d+/.test(options.imageUploadSizeLimit) ? lib_util.getNumber(options.imageUploadSizeLimit, 0) : null;\r\n        options.imageMultipleFile = !!options.imageMultipleFile;\r\n        options.imageAccept = (typeof options.imageAccept !== 'string' || options.imageAccept.trim() === \"*\") ? 'image/*' : options.imageAccept.trim() || 'image/*';\r\n        /** Image - image gallery */\r\n        options.imageGalleryUrl = typeof options.imageGalleryUrl === 'string' ? options.imageGalleryUrl : null;\r\n        /** Video */\r\n        options.videoResizing = options.videoResizing === undefined ? true : options.videoResizing;\r\n        options.videoHeightShow = options.videoHeightShow === undefined ? true : !!options.videoHeightShow;\r\n        options.videoRatioShow = options.videoRatioShow === undefined ? true : !!options.videoRatioShow;\r\n        options.videoWidth = !options.videoWidth || !lib_util.getNumber(options.videoWidth, 0) ? '' : lib_util.isNumber(options.videoWidth) ? options.videoWidth + 'px' : options.videoWidth;\r\n        options.videoHeight = !options.videoHeight || !lib_util.getNumber(options.videoHeight, 0) ? '' : lib_util.isNumber(options.videoHeight) ? options.videoHeight + 'px' : options.videoHeight;\r\n        options.videoSizeOnlyPercentage = !!options.videoSizeOnlyPercentage;\r\n        options._videoSizeUnit = options.videoSizeOnlyPercentage ? '%' : 'px';\r\n        options.videoRotation = options.videoRotation !== undefined ? options.videoRotation : !(options.videoSizeOnlyPercentage || !options.videoHeightShow);\r\n        options.videoRatio = (lib_util.getNumber(options.videoRatio, 4) || 0.5625);\r\n        options.videoRatioList = !options.videoRatioList ? null : options.videoRatioList;\r\n        options.youtubeQuery = (options.youtubeQuery || '').replace('?', '');\r\n        options.videoFileInput = !!options.videoFileInput;\r\n        options.videoUrlInput = (options.videoUrlInput === undefined || !options.videoFileInput) ? true : options.videoUrlInput;\r\n        options.videoUploadHeader = options.videoUploadHeader || null;\r\n        options.videoUploadUrl = typeof options.videoUploadUrl === 'string' ? options.videoUploadUrl : null;\r\n        options.videoUploadSizeLimit = /\\d+/.test(options.videoUploadSizeLimit) ? lib_util.getNumber(options.videoUploadSizeLimit, 0) : null;\r\n        options.videoMultipleFile = !!options.videoMultipleFile;\r\n        options.videoTagAttrs = options.videoTagAttrs || null;\r\n        options.videoIframeAttrs = options.videoIframeAttrs || null;\r\n        options.videoAccept = (typeof options.videoAccept !== 'string' || options.videoAccept.trim() === \"*\") ? 'video/*' : options.videoAccept.trim() || 'video/*';\r\n        /** Audio */\r\n        options.audioWidth = !options.audioWidth ? '' : lib_util.isNumber(options.audioWidth) ? options.audioWidth + 'px' : options.audioWidth;\r\n        options.audioHeight = !options.audioHeight ? '' : lib_util.isNumber(options.audioHeight) ? options.audioHeight + 'px' : options.audioHeight;\r\n        options.audioFileInput = !!options.audioFileInput;\r\n        options.audioUrlInput = (options.audioUrlInput === undefined || !options.audioFileInput) ? true : options.audioUrlInput;\r\n        options.audioUploadHeader = options.audioUploadHeader || null;\r\n        options.audioUploadUrl = typeof options.audioUploadUrl === 'string' ? options.audioUploadUrl : null;\r\n        options.audioUploadSizeLimit = /\\d+/.test(options.audioUploadSizeLimit) ? lib_util.getNumber(options.audioUploadSizeLimit, 0) : null;\r\n        options.audioMultipleFile = !!options.audioMultipleFile;\r\n        options.audioTagAttrs = options.audioTagAttrs || null;\r\n        options.audioAccept = (typeof options.audioAccept !== 'string' || options.audioAccept.trim() === \"*\") ? 'audio/*' : options.audioAccept.trim() || 'audio/*';\r\n        /** Table */\r\n        options.tableCellControllerPosition = typeof options.tableCellControllerPosition === 'string' ? options.tableCellControllerPosition.toLowerCase() : 'cell';\r\n        /** Key actions */\r\n        options.tabDisable = !!options.tabDisable;\r\n        options.shortcutsDisable = (Array.isArray(options.shortcutsDisable) && options.shortcutsDisable.length > 0) ? options.shortcutsDisable.map(function (v) { return v.toLowerCase(); }) : [];\r\n        options.shortcutsHint = options.shortcutsHint === undefined ? true : !!options.shortcutsHint;\r\n        /** Defining save button */\r\n        options.callBackSave = !options.callBackSave ? null : options.callBackSave;\r\n        /** Templates Array */\r\n        options.templates = !options.templates ? null : options.templates;\r\n        /** ETC */\r\n        options.placeholder = typeof options.placeholder === 'string' ? options.placeholder : null;\r\n        options.linkProtocol = typeof options.linkProtocol === 'string' ? options.linkProtocol : null;\r\n        /** Buttons */\r\n        options.buttonList = !!options.buttonList ? JSON.parse(JSON.stringify(options.buttonList)) : [\r\n            ['undo', 'redo'],\r\n            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\r\n            ['removeFormat'],\r\n            ['outdent', 'indent'],\r\n            ['fullScreen', 'showBlocks', 'codeView'],\r\n            ['preview', 'print']\r\n        ];\r\n\r\n        /** RTL - buttons */\r\n        if (options.rtl) {\r\n            options.buttonList = options.buttonList.reverse();\r\n        }\r\n\r\n        /** --- Define icons --- */\r\n        // custom icons\r\n        options.icons = (!options.icons || typeof options.icons !== 'object') ? defaultIcons : [defaultIcons, options.icons].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n        // rtl icons\r\n        options.icons = !options.rtl ? options.icons : [options.icons, options.icons.rtl].reduce(function (_default, _new) {\r\n            for (let key in _new) {\r\n                if (lib_util.hasOwn(_new, key)) _default[key] = _new[key];\r\n            }\r\n            return _default;\r\n        }, {});\r\n\r\n        /** _init options */\r\n        options._editorStyles = lib_util._setDefaultOptionStyle(options, options.defaultStyle);\r\n    },\r\n\r\n    /**\r\n     * @description Suneditor's Default button list\r\n     * @param {Object} options options\r\n     * @private\r\n     */\r\n    _defaultButtons: function (options) {\r\n        const icons = options.icons;\r\n        const lang = options.lang;\r\n        const cmd = lib_util.isOSX_IOS ? '⌘' : 'CTRL';\r\n        const addShift = lib_util.isOSX_IOS ? '⇧' : '+SHIFT';\r\n        const shortcutsDisable = !options.shortcutsHint ? ['bold', 'strike', 'underline', 'italic', 'undo', 'indent'] : options.shortcutsDisable;\r\n        const indentKey = options.rtl ? ['[',']'] : [']','['];\r\n\r\n        return {\r\n            /** default command */\r\n            bold: ['_se_command_bold', lang.toolbar.bold + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('bold') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">B</span>') + '</span>', 'STRONG', '', icons.bold],\r\n            underline: ['_se_command_underline', lang.toolbar.underline + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('underline') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">U</span>') + '</span>', 'U', '', icons.underline],\r\n            italic: ['_se_command_italic', lang.toolbar.italic + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('italic') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">I</span>') + '</span>', 'EM', '', icons.italic],\r\n            strike: ['_se_command_strike', lang.toolbar.strike + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('strike') > -1 ? '' : cmd + addShift + '+<span class=\"se-shortcut-key\">S</span>') + '</span>', 'DEL', '', icons.strike],\r\n            subscript: ['_se_command_subscript', lang.toolbar.subscript, 'SUB', '', icons.subscript],\r\n            superscript: ['_se_command_superscript', lang.toolbar.superscript, 'SUP', '', icons.superscript],\r\n            removeFormat: ['', lang.toolbar.removeFormat, 'removeFormat', '', icons.erase],\r\n            indent: ['_se_command_indent', lang.toolbar.indent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[0] + '</span>') + '</span>', 'indent', '', icons.outdent],\r\n            outdent: ['_se_command_outdent', lang.toolbar.outdent + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('indent') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">' + indentKey[1] + '</span>') + '</span>', 'outdent', '', icons.indent],\r\n            fullScreen: ['se-code-view-enabled se-resizing-enabled _se_command_fullScreen', lang.toolbar.fullScreen, 'fullScreen', '', icons.expansion],\r\n            showBlocks: ['_se_command_showBlocks', lang.toolbar.showBlocks, 'showBlocks', '', icons.show_blocks],\r\n            codeView: ['se-code-view-enabled se-resizing-enabled _se_command_codeView', lang.toolbar.codeView, 'codeView', '', icons.code_view],\r\n            undo: ['_se_command_undo se-resizing-enabled', lang.toolbar.undo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'undo', '', icons.undo],\r\n            redo: ['_se_command_redo se-resizing-enabled', lang.toolbar.redo + '<span class=\"se-shortcut\">' + (shortcutsDisable.indexOf('undo') > -1 ? '' : cmd + '+<span class=\"se-shortcut-key\">Y</span> / ' + cmd + addShift + '+<span class=\"se-shortcut-key\">Z</span>') + '</span>', 'redo', '', icons.redo],\r\n            preview: ['se-resizing-enabled', lang.toolbar.preview, 'preview', '', icons.preview],\r\n            print: ['se-resizing-enabled', lang.toolbar.print, 'print', '', icons.print],\r\n            save: ['_se_command_save se-resizing-enabled', lang.toolbar.save, 'save', '', icons.save],\r\n            /** plugins - command */\r\n            blockquote: ['', lang.toolbar.tag_blockquote, 'blockquote', 'command', icons.blockquote],\r\n            /** plugins - submenu */\r\n            font: ['se-btn-select se-btn-tool-font', lang.toolbar.font, 'font', 'submenu', '<span class=\"txt\">' + lang.toolbar.font + '</span>' + icons.arrow_down],\r\n            formatBlock: ['se-btn-select se-btn-tool-format', lang.toolbar.formats, 'formatBlock', 'submenu', '<span class=\"txt\">' + lang.toolbar.formats + '</span>' + icons.arrow_down],\r\n            fontSize: ['se-btn-select se-btn-tool-size', lang.toolbar.fontSize, 'fontSize', 'submenu', '<span class=\"txt\">' + lang.toolbar.fontSize + '</span>' + icons.arrow_down],\r\n            fontColor: ['', lang.toolbar.fontColor, 'fontColor', 'submenu', icons.font_color],\r\n            hiliteColor: ['', lang.toolbar.hiliteColor, 'hiliteColor', 'submenu', icons.highlight_color],\r\n            align: ['se-btn-align', lang.toolbar.align, 'align', 'submenu', (options.rtl ? icons.align_right : icons.align_left)],\r\n            list: ['', lang.toolbar.list, 'list', 'submenu', icons.list_number],\r\n            horizontalRule: ['btn_line', lang.toolbar.horizontalRule, 'horizontalRule', 'submenu', icons.horizontal_rule],\r\n            table: ['', lang.toolbar.table, 'table', 'submenu', icons.table],\r\n            lineHeight: ['', lang.toolbar.lineHeight, 'lineHeight', 'submenu', icons.line_height],\r\n            template: ['', lang.toolbar.template, 'template', 'submenu', icons.template],\r\n            paragraphStyle: ['', lang.toolbar.paragraphStyle, 'paragraphStyle', 'submenu', icons.paragraph_style],\r\n            textStyle: ['', lang.toolbar.textStyle, 'textStyle', 'submenu', icons.text_style],\r\n            /** plugins - dialog */\r\n            link: ['', lang.toolbar.link, 'link', 'dialog', icons.link],\r\n            image: ['', lang.toolbar.image, 'image', 'dialog', icons.image],\r\n            video: ['', lang.toolbar.video, 'video', 'dialog', icons.video],\r\n            audio: ['', lang.toolbar.audio, 'audio', 'dialog', icons.audio],\r\n            math: ['', lang.toolbar.math, 'math', 'dialog', icons.math],\r\n            /** plugins - fileBrowser */\r\n            imageGallery: ['', lang.toolbar.imageGallery, 'imageGallery', 'fileBrowser', icons.image_gallery]\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a group div containing each module\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createModuleGroup: function () {\r\n        const oDiv = lib_util.createElement('DIV');\r\n        oDiv.className = 'se-btn-module se-btn-module-border';\r\n\r\n        const oUl = lib_util.createElement('UL');\r\n        oUl.className = 'se-menu-list';\r\n        oDiv.appendChild(oUl);\r\n\r\n        return {\r\n            'div': oDiv,\r\n            'ul': oUl\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create a button element\r\n     * @param {string} buttonClass className in button\r\n     * @param {string} title Title in button\r\n     * @param {string} dataCommand The data-command property of the button\r\n     * @param {string} dataDisplay The data-display property of the button ('dialog', 'submenu', 'command')\r\n     * @param {string} innerHTML Html in button\r\n     * @param {string} _disabled Button disabled\r\n     * @param {Object} _icons Icons\r\n     * @returns {Object}\r\n     * @private\r\n     */\r\n    _createButton: function (buttonClass, title, dataCommand, dataDisplay, innerHTML, _disabled, _icons) {\r\n        const oLi = lib_util.createElement('LI');\r\n        const oButton = lib_util.createElement('BUTTON');\r\n\r\n        oButton.setAttribute('type', 'button');\r\n        oButton.setAttribute('class', 'se-btn' + (buttonClass ? ' ' + buttonClass : '') + ' se-tooltip');\r\n        oButton.setAttribute('data-command', dataCommand);\r\n        oButton.setAttribute('data-display', dataDisplay);\r\n        oButton.setAttribute('tabindex', '-1');\r\n        \r\n        if (!innerHTML) innerHTML = '<span class=\"se-icon-text\">!</span>';\r\n        if (/^default\\./i.test(innerHTML)) {\r\n            innerHTML = _icons[innerHTML.replace(/^default\\./i, '')];\r\n        }\r\n        if (/^text\\./i.test(innerHTML)) {\r\n            innerHTML = innerHTML.replace(/^text\\./i, '');\r\n            oButton.className += ' se-btn-more-text';\r\n        }\r\n\r\n        innerHTML += '<span class=\"se-tooltip-inner\"><span class=\"se-tooltip-text\">' + (title || dataCommand) + '</span></span>';\r\n\r\n        if (_disabled) oButton.setAttribute('disabled', true);\r\n        \r\n        oButton.innerHTML = innerHTML;\r\n        oLi.appendChild(oButton);\r\n\r\n        return {\r\n            'li': oLi,\r\n            'button': oButton\r\n        };\r\n    },\r\n\r\n    /**\r\n     * @description Create editor HTML\r\n     * @param {Array} doc document object\r\n     * @param {Array} buttonList option.buttonList\r\n     * @param {Array|Object|null} _plugins Plugins\r\n     * @param {Array} options options\r\n     * @returns {Object} { element: (Element) Toolbar element, plugins: (Array|null) Plugins Array, pluginCallButtons: (Object), responsiveButtons: (Array) }\r\n     * @private\r\n     */\r\n    _createToolBar: function (doc, buttonList, _plugins, options) {\r\n        const separator_vertical = doc.createElement('DIV');\r\n        separator_vertical.className = 'se-toolbar-separator-vertical';\r\n\r\n        const tool_bar = doc.createElement('DIV');\r\n        tool_bar.className = 'se-toolbar sun-editor-common';\r\n\r\n        const _buttonTray = doc.createElement('DIV');\r\n        _buttonTray.className = 'se-btn-tray';\r\n        tool_bar.appendChild(_buttonTray);\r\n\r\n        /** create button list */\r\n        const icons = options.icons;\r\n        const defaultButtonList = this._defaultButtons(options);\r\n        const pluginCallButtons = {};\r\n        const responsiveButtons = [];\r\n        const plugins = {};\r\n        if (_plugins) {\r\n            const pluginsValues = _plugins.length ? _plugins : Object.keys(_plugins).map(function(name) { return _plugins[name]; });\r\n            for (let i = 0, len = pluginsValues.length, p; i < len; i++) {\r\n                p = pluginsValues[i].default || pluginsValues[i];\r\n                plugins[p.name] = p;\r\n            }\r\n        }\r\n\r\n        let module = null;\r\n        let button = null;\r\n        let moduleElement = null;\r\n        let buttonElement = null;\r\n        let pluginName = '';\r\n        let vertical = false;\r\n        const moreLayer = lib_util.createElement('DIV');\r\n        moreLayer.className = 'se-toolbar-more-layer';\r\n\r\n        buttonGroupLoop:\r\n        for (let i = 0, more, moreContainer, moreCommand, buttonGroup, align; i < buttonList.length; i++) {\r\n            more = false;\r\n            align = '';\r\n            buttonGroup = buttonList[i];\r\n            moduleElement = this._createModuleGroup();\r\n\r\n            // button object\r\n            if (typeof buttonGroup === 'object') {\r\n                // buttons loop\r\n                for (let j = 0, moreButton; j < buttonGroup.length; j++) {\r\n                    button = buttonGroup[j];\r\n                    moreButton = false;\r\n\r\n                    if (/^\\%\\d+/.test(button) && j === 0) {\r\n                        buttonGroup[0] = button.replace(/[^\\d]/g, '');\r\n                        responsiveButtons.push(buttonGroup);\r\n                        buttonList.splice(i--, 1);\r\n                        continue buttonGroupLoop;\r\n                    }\r\n                    \r\n                    if (typeof button === 'object') {\r\n                        if (typeof button.add === 'function') {\r\n                            pluginName = button.name;\r\n                            module = defaultButtonList[pluginName];\r\n                            plugins[pluginName] = button;\r\n                        } else {\r\n                            pluginName = button.name;\r\n                            module = [button.buttonClass, button.title, button.name, button.dataDisplay, button.innerHTML, button._disabled];\r\n                        }\r\n                    } else {\r\n                        // align\r\n                        if (/^\\-/.test(button)) {\r\n                            align = button.substr(1);\r\n                            moduleElement.div.style.float = align;\r\n                            continue;\r\n                        }\r\n                        \r\n                        // more button\r\n                        if (/^\\:/.test(button)) {\r\n                            moreButton = true;\r\n                            const matched = button.match(/^\\:([^\\-]+)\\-([^\\-]+)\\-([^\\-]+)/);\r\n                            moreCommand = '__se__' + matched[1].trim();\r\n                            const title = matched[2].trim();\r\n                            const innerHTML = matched[3].trim();\r\n                            module = ['se-btn-more', title, moreCommand, 'MORE', innerHTML];\r\n                        }\r\n                        // buttons\r\n                        else {\r\n                            module = defaultButtonList[button];\r\n                        }\r\n\r\n                        pluginName = button;\r\n                        if (!module) {\r\n                            const custom = plugins[pluginName];\r\n                            if (!custom) throw Error('[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. [' + pluginName + ']');\r\n                            module = [custom.buttonClass, custom.title, custom.name, custom.display, custom.innerHTML, custom._disabled];\r\n                        }\r\n                    }\r\n\r\n                    buttonElement = this._createButton(module[0], module[1], module[2], module[3], module[4], module[5], icons);\r\n                    (more ? moreContainer : moduleElement.ul).appendChild(buttonElement.li);\r\n\r\n                    if (plugins[pluginName]) {\r\n                        pluginCallButtons[pluginName] = buttonElement.button;\r\n                    }\r\n\r\n                    // more button\r\n                    if (moreButton) {\r\n                        more = true;\r\n                        moreContainer = lib_util.createElement('DIV');\r\n                        moreContainer.className = 'se-more-layer ' + moreCommand;\r\n                        moreContainer.innerHTML = '<div class=\"se-more-form\"><ul class=\"se-menu-list\"' + (align ? ' style=\"float: ' + align + ';\"' : '') + '></ul></div>';\r\n                        moreLayer.appendChild(moreContainer);\r\n                        moreContainer = moreContainer.firstElementChild.firstElementChild;\r\n                    }\r\n                }\r\n\r\n                if (vertical) {\r\n                    const sv =  separator_vertical.cloneNode(false);\r\n                    if (align) sv.style.float = align;\r\n                    _buttonTray.appendChild(sv);\r\n                }\r\n                \r\n                _buttonTray.appendChild(moduleElement.div);\r\n                vertical = true;\r\n            }\r\n            /** line break  */\r\n            else if (/^\\/$/.test(buttonGroup)) {\r\n                const enterDiv = doc.createElement('DIV');\r\n                enterDiv.className = 'se-btn-module-enter';\r\n                _buttonTray.appendChild(enterDiv);\r\n                vertical = false;\r\n            }\r\n        }\r\n\r\n        const lastFloat = _buttonTray.lastElementChild.style.float;\r\n        if (!!lastFloat) {\r\n            const sv =  separator_vertical.cloneNode(false);\r\n            sv.style.float = lastFloat;\r\n            _buttonTray.appendChild(sv);\r\n        }\r\n\r\n        if (_buttonTray.children.length === 1) lib_util.removeClass(_buttonTray.firstElementChild, 'se-btn-module-border');\r\n        if (responsiveButtons.length > 0) responsiveButtons.unshift(buttonList);\r\n        if (moreLayer.children.length > 0) _buttonTray.appendChild(moreLayer);\r\n\r\n        // menu tray\r\n        const _menuTray = doc.createElement('DIV');\r\n        _menuTray.className = 'se-menu-tray';\r\n        tool_bar.appendChild(_menuTray);\r\n\r\n        // cover\r\n        const tool_cover = doc.createElement('DIV');\r\n        tool_cover.className = 'se-toolbar-cover';\r\n        tool_bar.appendChild(tool_cover);\r\n\r\n        return {\r\n            'element': tool_bar,\r\n            'plugins': plugins,\r\n            'pluginCallButtons': pluginCallButtons,\r\n            'responsiveButtons': responsiveButtons,\r\n            '_menuTray': _menuTray,\r\n            '_buttonTray': _buttonTray\r\n        };\r\n    }\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/context.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n/**\r\n * @description Elements and variables you should have\r\n * @param {Element} element textarea element\r\n * @param {object} cons Toolbar element you created\r\n * @param {JSON|Object} options Inserted options\r\n * @returns {Object} {Elements, variables of the editor, option}\r\n * @private\r\n */\r\nconst _Context = function (element, cons, options) {\r\n    return {\r\n        element: {\r\n            originElement: element,\r\n            topArea: cons._top,\r\n            relative: cons._relative,\r\n            toolbar: cons._toolBar,\r\n            _buttonTray: cons._toolBar.querySelector('.se-btn-tray'),\r\n            _menuTray: cons._menuTray,\r\n            resizingBar: cons._resizingBar,\r\n            navigation: cons._navigation,\r\n            charWrapper: cons._charWrapper,\r\n            charCounter: cons._charCounter,\r\n            editorArea: cons._editorArea,\r\n            wysiwygFrame: cons._wysiwygArea,\r\n            wysiwyg: cons._wysiwygArea, // if (options.iframe) cons._wysiwygArea.contentDocument.body\r\n            code: cons._codeArea,\r\n            placeholder: cons._placeholder,\r\n            loading: cons._loading,\r\n            lineBreaker: cons._lineBreaker,\r\n            lineBreaker_t: cons._lineBreaker_t,\r\n            lineBreaker_b: cons._lineBreaker_b,\r\n            resizeBackground: cons._resizeBack,\r\n            _stickyDummy: cons._stickyDummy,\r\n            _arrow: cons._arrow\r\n        },\r\n        tool: {\r\n            cover: cons._toolBar.querySelector('.se-toolbar-cover'),\r\n            bold: cons._toolBar.querySelector('._se_command_bold'),\r\n            underline: cons._toolBar.querySelector('._se_command_underline'),\r\n            italic: cons._toolBar.querySelector('._se_command_italic'),\r\n            strike: cons._toolBar.querySelector('._se_command_strike'),\r\n            subscript: cons._toolBar.querySelector('._se_command_subscript'),\r\n            superscript: cons._toolBar.querySelector('._se_command_superscript'),\r\n            undo: cons._toolBar.querySelector('._se_command_undo'),\r\n            redo: cons._toolBar.querySelector('._se_command_redo'),\r\n            save: cons._toolBar.querySelector('._se_command_save'),\r\n            outdent: cons._toolBar.querySelector('._se_command_outdent'),\r\n            indent: cons._toolBar.querySelector('._se_command_indent'),\r\n            fullScreen: cons._toolBar.querySelector('._se_command_fullScreen'),\r\n            showBlocks: cons._toolBar.querySelector('._se_command_showBlocks'),\r\n            codeView: cons._toolBar.querySelector('._se_command_codeView')\r\n        },\r\n        options: options,\r\n        option: options\r\n    };\r\n};\r\n\r\n/* harmony default export */ var lib_context = (_Context);\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/history.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2019 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var lib_history = (function (core, change) {\n    const _w = core._w;\n    const util = core.util;\n    const delayTime = core.context.options.historyStackDelayTime;\n    let editor = core.context.element;\n    let undo = core.context.tool.undo;\n    let redo = core.context.tool.redo;\n\n    let pushDelay = null;\n    let stackIndex = 0;\n    let stack = [];\n\n    function setContentsFromStack () {\n        const item = stack[stackIndex];\n        editor.wysiwyg.innerHTML = item.contents;\n\n        core.setRange(util.getNodeFromPath(item.s.path, editor.wysiwyg), item.s.offset, util.getNodeFromPath(item.e.path, editor.wysiwyg), item.e.offset);\n        core.focus();\n\n        if (stackIndex === 0) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.removeAttribute('disabled');\n        } else if (stackIndex === stack.length - 1) {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.setAttribute('disabled', true);\n        } else {\n            if (undo) undo.removeAttribute('disabled');\n            if (redo) redo.removeAttribute('disabled');\n        }\n\n        core.controllersOff();\n        core._checkComponents();\n        core._setCharCount();\n        core._resourcesStateChange();\n        \n        // onChange\n        change();\n    }\n\n    function pushStack () {\n        core._checkComponents();\n        const current = core.getContents(true);\n        if (!current || (!!stack[stackIndex] && current === stack[stackIndex].contents)) return;\n\n        stackIndex++;\n        const range = core._variable._range;\n\n        if (stack.length > stackIndex) {\n            stack = stack.slice(0, stackIndex);\n            if (redo) redo.setAttribute('disabled', true);\n        }\n\n        if (!range) {\n            stack[stackIndex] = {\n                contents: current,\n                s: { path: [0, 0], offset: [0, 0] },\n                e: { path: 0, offset: 0 }\n            };\n        } else {\n            stack[stackIndex] = {\n                contents: current,\n                s: {\n                    path: util.getNodePath(range.startContainer, null, null),\n                    offset: range.startOffset\n                },\n                e: {\n                    path: util.getNodePath(range.endContainer, null, null),\n                    offset: range.endOffset\n                }\n            };\n        }\n\n        if (stackIndex === 1 && undo) undo.removeAttribute('disabled');\n\n        core._setCharCount();\n        // onChange\n        change();\n    }\n\n    return {\n        /**\n         * @description History stack\n         */\n        stack: stack,\n\n        /**\n         * @description Saving the current status to the history object stack\n         * If \"delay\" is true, it will be saved after (options.historyStackDelayTime || 400) miliseconds\n         * If the function is called again with the \"delay\" argument true before it is saved, the delay time is renewal\n         * You can specify the delay time by sending a number.\n         * @param {Boolean|Number} delay If true, Add stack without delay time.\n         */\n        push: function (delay) {\n            _w.setTimeout(core._resourcesStateChange.bind(core));\n            const time = typeof delay === 'number' ? (delay > 0 ? delay : 0) : (!delay ? 0 : delayTime);\n            \n            if (!time || pushDelay) {\n                _w.clearTimeout(pushDelay);\n                if (!time) {\n                    pushStack();\n                    return;\n                }\n            }\n\n            pushDelay = _w.setTimeout(function () {\n                _w.clearTimeout(pushDelay);\n                pushDelay = null;\n                pushStack();\n            }, time);\n        },\n\n        /**\n         * @description Undo function\n         */\n        undo: function () {\n            if (stackIndex > 0) {\n                stackIndex--;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Redo function\n         */\n        redo: function () {\n            if (stack.length - 1 > stackIndex) {\n                stackIndex++;\n                setContentsFromStack();\n            }\n        },\n\n        /**\n         * @description Go to the history stack for that index.\n         * If \"index\" is -1, go to the last stack\n         * @param {Number} index Stack index\n         */\n        go: function (index) {\n            stackIndex = index < 0 ? (stack.length - 1) : index;\n            setContentsFromStack();\n        },\n        \n        /**\n         * @description Reset the history object\n         */\n        reset: function (ignoreChangeEvent) {\n            if (undo) undo.setAttribute('disabled', true);\n            if (redo) redo.setAttribute('disabled', true);\n            if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            \n            stack.splice(0);\n            stackIndex = 0;\n\n            // pushStack\n            stack[stackIndex] = {\n                contents: core.getContents(true),\n                s: {\n                    path: [0, 0],\n                    offset: 0\n                },\n                e: {\n                    path: [0, 0],\n                    offset: 0\n                }\n            };\n\n            if (!ignoreChangeEvent) change();\n        },\n\n        /**\n         * @description Reset the disabled state of the buttons to fit the current stack.\n         * @private\n         */\n        _resetCachingButton: function () {\n            editor = core.context.element;\n            undo = core.context.tool.undo;\n            redo = core.context.tool.redo;\n\n            if (stackIndex === 0) {\n                if (undo) undo.setAttribute('disabled', true);\n                if (redo && stackIndex === stack.length - 1) redo.setAttribute('disabled', true);\n                if (core.context.tool.save) core.context.tool.save.setAttribute('disabled', true);\n            } else if (stackIndex === stack.length - 1) {\n                if (redo) redo.setAttribute('disabled', true);\n            }\n        },\n\n        /**\n         * @description Remove all stacks and remove the timeout function.\n         * @private\n         */\n        _destroy: function () {\n            if (pushDelay) _w.clearTimeout(pushDelay);\n            stack = null;\n        }\n    };\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/plugins/modules/_notice.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n/* harmony default export */ var _notice = ({\n    name: 'notice',\n    /**\n     * @description Constructor\n     * @param {Object} core Core object \n     */\n    add: function (core) {\n        const context = core.context;\n        context.notice = {};\n\n        /** dialog */\n        let notice_div = core.util.createElement('DIV');\n        let notice_span = core.util.createElement('SPAN');\n        let notice_button = core.util.createElement('BUTTON');\n\n        notice_div.className = 'se-notice';\n        notice_button.className = 'close';\n        notice_button.setAttribute('aria-label', 'Close');\n        notice_button.setAttribute('title', core.lang.dialogBox.close);\n        notice_button.innerHTML = core.icons.cancel;\n        \n        notice_div.appendChild(notice_span);\n        notice_div.appendChild(notice_button);\n\n        context.notice.modal = notice_div;\n        context.notice.message = notice_span;\n\n        /** add event listeners */\n        notice_button.addEventListener('click', this.onClick_cancel.bind(core));\n        \n        /** append html */\n        context.element.editorArea.appendChild(notice_div);\n        \n        /** empty memory */\n        notice_div = null;\n    },\n\n    /**\n     * @description Event when clicking the cancel button\n     * @param {MouseEvent} e Event object\n     */\n    onClick_cancel: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.notice.close.call(this);\n    },\n\n    /**\n     * @description  Open the notice panel\n     * @param {String} text Notice message\n     */\n    open: function (text)  {\n        this.context.notice.message.textContent = text;\n        this.context.notice.modal.style.display = 'block';\n    },\n\n    /**\n     * @description  Open the notice panel\n     */\n    close: function () {\n        this.context.notice.modal.style.display = 'none';\n    }\n});\n\n// CONCATENATED MODULE: ./node_modules/suneditor/src/lib/core.js\n/*\r\n * wysiwyg web editor\r\n *\r\n * suneditor.js\r\n * Copyright 2017 JiHong Lee.\r\n * MIT license.\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * @description SunEditor constuctor function.\r\n * create core object and event registration.\r\n * core, event, functions\r\n * @param {Object} context\r\n * @param {Object} pluginCallButtons\r\n * @param {Object} plugins \r\n * @param {Object} lang\r\n * @param {Object} options\r\n * @param {Object} _responsiveButtons\r\n * @returns {Object} functions Object\r\n */\r\n/* harmony default export */ var lib_core = (function (context, pluginCallButtons, plugins, lang, options, _responsiveButtons) {\r\n    const _d = context.element.originElement.ownerDocument || document;\r\n    const _w = _d.defaultView || window;\r\n    const util = lib_util;\r\n    const icons = options.icons;\r\n\r\n    /**\r\n     * @description editor core object\r\n     * should always bind this object when registering an event in the plug-in.\r\n     */\r\n    const core = {\r\n        _d: _d,\r\n        _w: _w,\r\n        _parser: new _w.DOMParser(),\r\n\r\n        /**\r\n         * @description Document object of the iframe if created as an iframe || _d\r\n         * @private\r\n         */\r\n        _wd: null,\r\n\r\n        /**\r\n         * @description Window object of the iframe if created as an iframe || _w\r\n         * @private\r\n         */\r\n        _ww: null,\r\n        \r\n        /**\r\n         * @description Closest ShadowRoot to editor if found\r\n         * @private\r\n         */\r\n        _shadowRoot: null,\r\n\r\n        /**\r\n         * @description Util object\r\n         */\r\n        util: util,\r\n\r\n        /**\r\n         * @description Functions object\r\n         */\r\n        functions: null,\r\n\r\n        /**\r\n         * @description Notice object\r\n         */\r\n        notice: _notice,\r\n\r\n        /**\r\n         * @description Default icons object\r\n         */\r\n        icons: icons,\r\n\r\n        /**\r\n         * @description History object for undo, redo\r\n         */\r\n        history: null,\r\n        \r\n        /**\r\n         * @description Elements and user options parameters of the suneditor\r\n         */\r\n        context: context,\r\n\r\n        /**\r\n         * @description Plugin buttons\r\n         */\r\n        pluginCallButtons: pluginCallButtons,\r\n\r\n        /**\r\n         * @description Loaded plugins\r\n         */\r\n        plugins: plugins || {},\r\n\r\n        /**\r\n         * @description Whether the plugin is initialized\r\n         */\r\n        initPlugins: {},\r\n\r\n        /**\r\n         * @description Object for managing submenu elements\r\n         * @private\r\n         */\r\n        _targetPlugins: {},\r\n\r\n        /**\r\n         * @description Save rendered submenus and containers\r\n         * @private\r\n         */\r\n        _menuTray: {},\r\n\r\n        /**\r\n         * @description loaded language\r\n         */\r\n        lang: lang,\r\n\r\n        /**\r\n         * @description The selection node (core.getSelectionNode()) to which the effect was last applied\r\n         */\r\n        effectNode: null,\r\n\r\n        /**\r\n         * @description submenu element\r\n         */\r\n        submenu: null,\r\n\r\n        /**\r\n         * @description container element\r\n         */\r\n        container: null,\r\n\r\n        /**\r\n         * @description current subment name\r\n         * @private\r\n         */\r\n        _submenuName: '',\r\n\r\n        /**\r\n         * @description binded submenuOff method\r\n         * @private\r\n         */\r\n        _bindedSubmenuOff: null,\r\n\r\n        /**\r\n         * @description binded containerOff method\r\n         * @private\r\n         */\r\n        _bindedContainerOff: null,\r\n\r\n        /**\r\n         * @description active button element in submenu\r\n         */\r\n        submenuActiveButton: null,\r\n\r\n        /**\r\n         * @description active button element in container\r\n         */\r\n        containerActiveButton: null,\r\n\r\n        /**\r\n         * @description The elements array to be processed unvisible when the controllersOff function is executed (resizing, link modified button, table controller)\r\n         */\r\n        controllerArray: [],\r\n\r\n        /**\r\n         * @description The name of the plugin that called the currently active controller\r\n         */\r\n        currentControllerName: '',\r\n\r\n        /**\r\n         * @description The target element of current controller\r\n         */\r\n        currentControllerTarget: null,\r\n\r\n        /**\r\n         * @description The file component object of current selected file tag (getFileComponent)\r\n         */\r\n        currentFileComponentInfo: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-code-view-enabled\"\r\n         */\r\n        codeViewDisabledButtons: null,\r\n\r\n        /**\r\n         * @description An array of buttons whose class name is not \"se-resizing-enabled\"\r\n         */\r\n        resizingDisabledButtons: null,\r\n\r\n        /**\r\n         * @description active more layer element in submenu\r\n         * @private\r\n         */\r\n        _moreLayerActiveButton: null,\r\n\r\n        /**\r\n         * @description Tag whitelist RegExp object used in \"_consistencyCheckOfHTML\" method\r\n         * ^(options._editorTagsWhitelist)$\r\n         * @private\r\n         */\r\n        _htmlCheckWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description RegExp when using check disallowd tags. (b, i, ins, strike, s)\r\n         * @private\r\n         */\r\n        _disallowedTextTagsRegExp: null,\r\n\r\n        /**\r\n         * @description Editor tags whitelist (RegExp object)\r\n         * util.createTagsWhitelist(options._editorTagsWhitelist)\r\n         */\r\n        editorTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Tag whitelist when pasting (RegExp object)\r\n         * util.createTagsWhitelist(options.pasteTagsWhitelist)\r\n         */\r\n        pasteTagsWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor has focus\r\n         */\r\n        hasFocus: false,\r\n\r\n        /**\r\n         * @description Boolean value of whether the editor is disabled\r\n         */\r\n        isDisabled: false,\r\n\r\n        /**\r\n         * @description Attributes whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesWhitelistRegExp: null,\r\n\r\n        /**\r\n         * @description Attributes of tags whitelist used by the cleanHTML method\r\n         * @private\r\n         */\r\n        _attributesTagsWhitelist: null,\r\n\r\n        /**\r\n         * @description binded controllersOff method\r\n         * @private\r\n         */\r\n        _bindControllersOff: null,\r\n\r\n        /**\r\n         * @description Is inline mode?\r\n         * @private\r\n         */\r\n        _isInline: null,\r\n\r\n        /**\r\n         * @description Is balloon|balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloon: null,\r\n\r\n        /**\r\n         * @description Is balloon-always mode?\r\n         * @private\r\n         */\r\n        _isBalloonAlways: null,\r\n\r\n        /**\r\n         * @description Required value when using inline mode to sticky toolbar\r\n         * @private\r\n         */\r\n        _inlineToolbarAttr: {top: '', width: '', isShow: false},\r\n\r\n        /**\r\n         * @description Variable that controls the \"blur\" event in the editor of inline or balloon mode when the focus is moved to submenu\r\n         * @private\r\n         */\r\n        _notHideToolbar: false,\r\n\r\n        /**\r\n         * @description Variable value that sticky toolbar mode\r\n         * @private\r\n         */\r\n        _sticky: false,\r\n\r\n        /**\r\n         * @description Variables for controlling focus and blur events\r\n         * @private\r\n         */\r\n        _antiBlur: false,\r\n\r\n        /**\r\n         * @description Component line breaker element\r\n         * @private\r\n         */\r\n        _lineBreaker: null,\r\n        _lineBreakerButton: null,\r\n\r\n        /**\r\n         * @description If true, (initialize, reset) all indexes of image, video information\r\n         * @private\r\n         */\r\n        _componentsInfoInit: true,\r\n        _componentsInfoReset: false,\r\n\r\n        /**\r\n         * @description Plugins array with \"active\" method.\r\n         * \"activePlugins\" runs the \"add\" method when creating the editor.\r\n         */\r\n        activePlugins: null,\r\n\r\n        /**\r\n         * @description Information of tags that should maintain HTML structure, style, class name, etc. (In use by \"math\" plugin)\r\n         * When inserting \"html\" such as paste, it is executed on the \"html\" to be inserted. (core.cleanHTML)\r\n         * Basic Editor Actions:\r\n         * 1. All classes not starting with \"__se__\" or \"se-\" in the editor are removed.\r\n         * 2. The style of all tags except the \"span\" tag is removed from the editor.\r\n         * \"managedTagsInfo\" structure ex:\r\n         * managedTagsInfo: {\r\n         *   query: '.__se__xxx, se-xxx'\r\n         *   map: {\r\n         *     '__se__xxx': method.bind(core),\r\n         *     'se-xxx': method.bind(core),\r\n         *   }\r\n         * }\r\n         * @example\r\n         * Define in the following return format in the \"managedTagInfo\" function of the plugin.\r\n         * managedTagInfo() => {\r\n         *  return {\r\n         *    className: 'string', // Class name to identify the tag. (\"__se__xxx\", \"se-xxx\")\r\n         *    // Change the html of the \"element\". (\"element\" is the element found with \"className\".)\r\n         *    // \"method\" is executed by binding \"core\".\r\n         *    method: function (element) {\r\n         *      // this === core\r\n         *      element.innerHTML = // (rendered html);\r\n         *    }\r\n         *  }\r\n         * }\r\n         */\r\n        managedTagsInfo: null,\r\n\r\n        /**\r\n         * @description cashing: options.charCounterType === 'byte-html'\r\n         * @private\r\n         */\r\n        _charTypeHTML: false,\r\n\r\n        /**\r\n         * @description Array of \"checkFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"fileInfoPlugins\" runs the \"add\" method when creating the editor.\r\n         * \"checkFileInfo\" method is always call just before the \"change\" event.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsCheck: null,\r\n\r\n        /**\r\n         * @description Array of \"resetFileInfo\" functions with the core bound\r\n         * (Plugins with \"checkFileInfo\" and \"resetFileInfo\" methods)\r\n         * \"checkFileInfo\" method is always call just before the \"functions.setOptions\" method.\r\n         * @private\r\n         */\r\n        _fileInfoPluginsReset: null,\r\n\r\n        /**\r\n         * @description Variables for file component management\r\n         * @private\r\n         */\r\n        _fileManager: {\r\n            tags: null,\r\n            regExp: null,\r\n            queryString: null,\r\n            pluginRegExp: null,\r\n            pluginMap: null\r\n        },\r\n\r\n        /**\r\n         * @description Elements that need to change text or className for each selection change\r\n         * After creating the editor, \"activePlugins\" are added.\r\n         * @property {Element} STRONG bold button\r\n         * @property {Element} U underline button\r\n         * @property {Element} EM italic button\r\n         * @property {Element} DEL strike button\r\n         * @property {Element} SUB subscript button\r\n         * @property {Element} SUP superscript button\r\n         * @property {Element} OUTDENT outdent button\r\n         * @property {Element} INDENT indent button\r\n         */\r\n        commandMap: null,\r\n\r\n        /**\r\n         * @description Style button related to edit area\r\n         * @property {Element} fullScreen fullScreen button element\r\n         * @property {Element} showBlocks showBlocks button element\r\n         * @property {Element} codeView codeView button element\r\n         * @private\r\n         */\r\n        _styleCommandMap: null,\r\n\r\n        /**\r\n         * @description Map of default command\r\n         * @private\r\n         */\r\n        _defaultCommand: {\r\n            bold: 'STRONG',\r\n            underline: 'U',\r\n            italic: 'EM',\r\n            strike: 'DEL',\r\n            subscript: 'SUB',\r\n            superscript: 'SUP'\r\n        },\r\n\r\n        /**\r\n         * @description Variables used internally in editor operation\r\n         * @property {Boolean} isCodeView State of code view\r\n         * @property {Boolean} isFullScreen State of full screen\r\n         * @property {Number} innerHeight_fullScreen InnerHeight in editor when in full screen\r\n         * @property {Number} resizeClientY Remember the vertical size of the editor before resizing the editor (Used when calculating during resize operation)\r\n         * @property {Number} tabSize Indent size of tab (4)\r\n         * @property {Number} codeIndent Indent size of Code view mode (4)\r\n         * @property {Number} minResizingSize Minimum size of editing area when resized {Number} (.se-wrapper-inner {min-height: 65px;} || 65)\r\n         * @property {Array} currentNodes  An array of the current cursor's node structure\r\n         * @private\r\n         */\r\n        _variable: {\r\n            isCodeView: false,\r\n            isFullScreen: false,\r\n            innerHeight_fullScreen: 0,\r\n            resizeClientY: 0,\r\n            tabSize: 4,\r\n            codeIndent: 4,\r\n            minResizingSize: util.getNumber((context.element.wysiwygFrame.style.minHeight || '65'), 0),\r\n            currentNodes: [],\r\n            currentNodesMap: [],\r\n            _range: null,\r\n            _selectionNode: null,\r\n            _originCssText: context.element.topArea.style.cssText,\r\n            _bodyOverflow: '',\r\n            _editorAreaOriginCssText: '',\r\n            _wysiwygOriginCssText: '',\r\n            _codeOriginCssText: '',\r\n            _fullScreenAttrs: {sticky: false, balloon: false, inline: false},\r\n            _lineBreakComp: null,\r\n            _lineBreakDir: ''\r\n        },\r\n\r\n        /**\r\n         * @description If the plugin is not added, add the plugin and call the 'add' function.\r\n         * If the plugin is added call callBack function.\r\n         * @param {String} pluginName The name of the plugin to call\r\n         * @param {function} callBackFunction Function to be executed immediately after module call\r\n         * @param {Element|null} _target Plugin target button (This is not necessary if you have a button list when creating the editor)\r\n         */\r\n        callPlugin: function (pluginName, callBackFunction, _target) {\r\n            _target = _target || pluginCallButtons[pluginName];\r\n\r\n            if (!this.plugins[pluginName]) {\r\n                throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:\"' + pluginName + '\")');\r\n            } else if (!this.initPlugins[pluginName]) {\r\n                this.plugins[pluginName].add(this, _target);\r\n                this.initPlugins[pluginName] = true;\r\n            } else if (typeof this._targetPlugins[pluginName] === 'object' && !!_target) {\r\n                this.initMenuTarget(pluginName, _target, this._targetPlugins[pluginName]);\r\n            }\r\n\r\n            if (this.plugins[pluginName].active && !this.commandMap[pluginName] && !!_target) {\r\n                this.commandMap[pluginName] = _target;\r\n                this.activePlugins.push(pluginName);\r\n            }\r\n                \r\n            if (typeof callBackFunction === 'function') callBackFunction();\r\n        },\r\n\r\n        /**\r\n         * @description If the module is not added, add the module and call the 'add' function\r\n         * @param {Array} moduleArray module object's Array [dialog, resizing]\r\n         */\r\n        addModule: function (moduleArray) {\r\n            for (let i = 0, len = moduleArray.length, moduleName; i < len; i++) {\r\n                moduleName = moduleArray[i].name;\r\n                if (!this.plugins[moduleName]) {\r\n                    this.plugins[moduleName] = moduleArray[i];\r\n                }\r\n                if (!this.initPlugins[moduleName]) {\r\n                    this.initPlugins[moduleName] = true;\r\n                    if (typeof this.plugins[moduleName].add === 'function') this.plugins[moduleName].add(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Method for managing submenu element.\r\n         * You must add the \"submenu\" element using the this method at custom plugin.\r\n         * @param {String} pluginName Plugin name\r\n         * @param {Element|null} target Target button\r\n         * @param {Element} menu Submenu element\r\n         */\r\n        initMenuTarget: function (pluginName, target, menu) {\r\n            if (!target) {\r\n                this._targetPlugins[pluginName] = menu;\r\n            } else {\r\n                context.element._menuTray.appendChild(menu);\r\n                this._targetPlugins[pluginName] = true;\r\n                this._menuTray[target.getAttribute('data-command')] = menu;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enabled submenu\r\n         * @param {Element} element Submenu's button element to call\r\n         */\r\n        submenuOn: function (element) {\r\n            if (this._bindedSubmenuOff) this._bindedSubmenuOff();\r\n            if (this._bindControllersOff) this.controllersOff();\r\n\r\n            const submenuName = this._submenuName = element.getAttribute('data-command');\r\n            const menu = this.submenu = this._menuTray[submenuName];\r\n            this.submenuActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedSubmenuOff = this.submenuOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedSubmenuOff, false);\r\n\r\n            if (this.plugins[submenuName].on) this.plugins[submenuName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable submenu\r\n         */\r\n        submenuOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedSubmenuOff);\r\n            this._bindedSubmenuOff = null;\r\n\r\n            if (this.submenu) {\r\n                this._submenuName = '';\r\n                this.submenu.style.display = 'none';\r\n                this.submenu = null;\r\n                util.removeClass(this.submenuActiveButton, 'on');\r\n                this.submenuActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Enabled container\r\n         * @param {Element} element Container's button element to call\r\n         */\r\n        containerOn: function (element) {\r\n            if (this._bindedContainerOff) this._bindedContainerOff();\r\n\r\n            const containerName = this._containerName = element.getAttribute('data-command');\r\n            const menu = this.container = this._menuTray[containerName];\r\n            this.containerActiveButton = element;\r\n            this._setMenuPosition(element, menu);\r\n            \r\n            this._bindedContainerOff = this.containerOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindedContainerOff, false);\r\n\r\n            if (this.plugins[containerName].on) this.plugins[containerName].on.call(this);\r\n            this._antiBlur = true;\r\n        },\r\n\r\n        /**\r\n         * @description Disable container\r\n         */\r\n        containerOff: function () {\r\n            this.removeDocEvent('mousedown', this._bindedContainerOff);\r\n            this._bindedContainerOff = null;\r\n\r\n            if (this.container) {\r\n                this._containerName = '';\r\n                this.container.style.display = 'none';\r\n                this.container = null;\r\n                util.removeClass(this.containerActiveButton, 'on');\r\n                this.containerActiveButton = null;\r\n                this._notHideToolbar = false;\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Set the menu position. (submenu, container)\r\n         * @param {*} element Button element\r\n         * @param {*} menu Menu element\r\n         * @private\r\n         */\r\n        _setMenuPosition: function (element, menu) {\r\n            menu.style.visibility = 'hidden';\r\n            menu.style.display = 'block';\r\n            menu.style.height = '';\r\n            util.addClass(element, 'on');\r\n\r\n            const toolbar = this.context.element.toolbar;\r\n            const toolbarW = toolbar.offsetWidth;\r\n            const toolbarOffset = event._getEditorOffsets(context.element.toolbar);\r\n            const menuW = menu.offsetWidth;\r\n            const l = element.parentElement.offsetLeft + 3;\r\n\r\n            // rtl\r\n            if (options.rtl) {\r\n                const elementW = element.offsetWidth;\r\n                const rtlW = menuW > elementW ? menuW - elementW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : elementW - menuW;\r\n                menu.style.left = (l - rtlW + rtlL) + 'px';\r\n                if (toolbarOffset.left > event._getEditorOffsets(menu).left) {\r\n                    menu.style.left = '0px';\r\n                }\r\n            } else {\r\n                const overLeft = toolbarW <= menuW ? 0 : toolbarW - (l + menuW);\r\n                if (overLeft < 0) menu.style.left = (l + overLeft) + 'px';\r\n                else menu.style.left = l + 'px';\r\n            }\r\n\r\n            // get element top\r\n            let t = 0;\r\n            let offsetEl = element;\r\n            while (offsetEl && offsetEl !== toolbar) {\r\n                t += offsetEl.offsetTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            const bt = t;\r\n            if (this._isBalloon) {\r\n                t += toolbar.offsetTop + element.offsetHeight;\r\n            } else {\r\n                t -= element.offsetHeight;\r\n            }\r\n\r\n            // set menu position\r\n            const toolbarTop = toolbarOffset.top;\r\n            let menuHeight = menu.offsetHeight;\r\n            let el = context.element.topArea;\r\n            let scrollTop = 0;\r\n            while (!!el) {\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const menuHeight_bottom = _w.innerHeight - (toolbarTop - scrollTop + bt + element.parentElement.offsetHeight);\r\n            if (menuHeight_bottom < menuHeight) {\r\n                let menuTop = -1 * (menuHeight - bt + 3);\r\n                const insTop = toolbarTop - scrollTop + menuTop;\r\n                const menuHeight_top = menuHeight + (insTop < 0 ? insTop : 0);\r\n                \r\n                if (menuHeight_top > menuHeight_bottom) {\r\n                    menu.style.height = menuHeight_top + 'px';\r\n                    menuTop = -1 * (menuHeight_top - bt + 3);\r\n                } else {\r\n                    menu.style.height = menuHeight_bottom + 'px';\r\n                    menuTop = bt + element.parentElement.offsetHeight;\r\n                }\r\n\r\n                menu.style.top = menuTop + 'px';\r\n            } else {\r\n                menu.style.top = (bt + element.parentElement.offsetHeight) + 'px';\r\n            }\r\n\r\n            menu.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Show controller at editor area (controller elements, function, \"controller target element(@Required)\", \"controller name(@Required)\", etc..)\r\n         * @param {*} arguments controller elements, functions..\r\n         */\r\n        controllersOn: function () {\r\n            if (this._bindControllersOff) this._bindControllersOff();\r\n            this.controllerArray = [];\r\n\r\n            for (let i = 0, arg; i < arguments.length; i++) {\r\n                arg = arguments[i];\r\n                if (!arg) continue;\r\n                \r\n                if (typeof arg === 'string') {\r\n                    this.currentControllerName = arg;\r\n                    continue;\r\n                }\r\n                if (typeof arg === 'function') {\r\n                    this.controllerArray.push(arg);\r\n                    continue;\r\n                }\r\n                if (!util.hasClass(arg, 'se-controller')) {\r\n                    this.currentControllerTarget = arg;\r\n                    this.currentFileComponentInfo = this.getFileComponent(arg);\r\n                    continue;\r\n                }\r\n                if (arg.style) arg.style.display = 'block';\r\n                this.controllerArray.push(arg);\r\n            }\r\n\r\n            this._bindControllersOff = this.controllersOff.bind(this);\r\n            this.addDocEvent('mousedown', this._bindControllersOff, false);\r\n            this.addDocEvent('keydown', this._bindControllersOff, false);\r\n            this._antiBlur = true;\r\n\r\n            if (typeof functions.showController === 'function') functions.showController(this.currentControllerName, this.controllerArray, this);\r\n        },\r\n\r\n        /**\r\n         * @description Hide controller at editor area (link button, image resize button..)\r\n         * @param {KeyboardEvent|MouseEvent|null} e Event object when called from mousedown and keydown events registered in \"core.controllersOn\"\r\n         */\r\n        controllersOff: function (e) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName) && e && e.type === 'keydown' && e.keyCode !== 27) return;\r\n            context.element.lineBreaker_t.style.display = context.element.lineBreaker_b.style.display = 'none';\r\n            this._variable._lineBreakComp = null;\r\n\r\n            this.currentControllerName = '';\r\n            this.currentControllerTarget = null;\r\n            this.currentFileComponentInfo = null;\r\n            this.effectNode = null;\r\n            if (!this._bindControllersOff) return;\r\n\r\n            this.removeDocEvent('mousedown', this._bindControllersOff);\r\n            this.removeDocEvent('keydown', this._bindControllersOff);\r\n            this._bindControllersOff = null;\r\n\r\n            const len = this.controllerArray.length;\r\n            if (len > 0) {\r\n                for (let i = 0; i < len; i++) {\r\n                    if (typeof this.controllerArray[i] === 'function') this.controllerArray[i]();\r\n                    else this.controllerArray[i].style.display = 'none';\r\n                }\r\n\r\n                this.controllerArray = [];\r\n            }\r\n\r\n            this._antiBlur = false;\r\n        },\r\n\r\n        /**\r\n         * @description Specify the position of the controller.\r\n         * @param {Element} controller Controller element.\r\n         * @param {Element} referEl Element that is the basis of the controller's position.\r\n         * @param {String} position Type of position (\"top\" | \"bottom\")\r\n         * When using the \"top\" position, there should not be an arrow on the controller.\r\n         * When using the \"bottom\" position there should be an arrow on the controller.\r\n         * @param {Object} addOffset These are the left and top values that need to be added specially. \r\n         * This argument is required. - {left: 0, top: 0}\r\n         * Please enter the value based on ltr mode.\r\n         * Calculated automatically in rtl mode.\r\n         */\r\n        setControllerPosition: function (controller, referEl, position, addOffset) {\r\n            if (options.rtl) addOffset.left *= -1;\r\n\r\n            const offset = util.getOffset(referEl, context.element.wysiwygFrame);\r\n            controller.style.visibility = 'hidden';\r\n            controller.style.display = 'block';\r\n\r\n            // Height value of the arrow element is 11px\r\n            const topMargin = position === 'top' ? -(controller.offsetHeight + 2) : (referEl.offsetHeight + 12);\r\n            controller.style.top = (offset.top + topMargin + addOffset.top) + 'px';\r\n\r\n            const l = offset.left - context.element.wysiwygFrame.scrollLeft + addOffset.left;\r\n            const controllerW = controller.offsetWidth;\r\n            const referElW = referEl.offsetWidth;\r\n\r\n            // rtl (Width value of the arrow element is 22px)\r\n            if (options.rtl) {\r\n                const rtlW = (controllerW > referElW) ? controllerW - referElW : 0;\r\n                const rtlL = rtlW > 0 ? 0 : referElW - controllerW;\r\n                controller.style.left = (l - rtlW + rtlL) + 'px';\r\n                \r\n                if (rtlW > 0) {\r\n                    controller.firstElementChild.style.left = ((controllerW - 14 < 10 + rtlW) ? (controllerW - 14) : (10 + rtlW)) + 'px';\r\n                }\r\n                \r\n                const overSize = context.element.wysiwygFrame.offsetLeft - controller.offsetLeft;\r\n                if (overSize > 0) {\r\n                    controller.style.left = '0px';\r\n                    controller.firstElementChild.style.left = overSize + 'px';\r\n                }\r\n            } else {\r\n                controller.style.left = l + 'px';\r\n\r\n                const overSize = context.element.wysiwygFrame.offsetWidth - (controller.offsetLeft + controllerW);\r\n                if (overSize < 0) {\r\n                    controller.style.left = (controller.offsetLeft + overSize) + 'px';\r\n                    controller.firstElementChild.style.left = (20 - overSize) + 'px';\r\n                } else {\r\n                    controller.firstElementChild.style.left = '20px';\r\n                }\r\n            }\r\n\r\n            controller.style.visibility = '';\r\n        },\r\n\r\n        /**\r\n         * @description Run event.stopPropagation and event.preventDefault.\r\n         * @param {Object} e Event Object\r\n         */\r\n        eventStop: function (e) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        },\r\n\r\n        /**\r\n         * @description javascript execCommand\r\n         * @param {String} command javascript execCommand function property\r\n         * @param {Boolean|undefined} showDefaultUI javascript execCommand function property\r\n         * @param {String|undefined} value javascript execCommand function property\r\n         */\r\n        execCommand: function (command, showDefaultUI, value) {\r\n            this._wd.execCommand(command, showDefaultUI, (command === 'formatBlock' ? '<' + value + '>' : value));\r\n            // history stack\r\n            this.history.push(true);\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area using \"native focus function\"\r\n         */\r\n        nativeFocus: function () {\r\n            const caption = util.getParentElement(this.getSelectionNode(), 'figcaption');\r\n            if (caption) {\r\n                caption.focus();\r\n            } else {\r\n                context.element.wysiwyg.focus();\r\n            }\r\n\r\n            this._editorRange();\r\n        },\r\n\r\n        /**\r\n         * @description Focus to wysiwyg area\r\n         */\r\n        focus: function () {\r\n            if (context.element.wysiwygFrame.style.display === 'none') return;\r\n\r\n            if (options.iframe) {\r\n                this.nativeFocus();\r\n            } else {\r\n                try {\r\n                    const range = this.getRange();\r\n\r\n                    if (range.startContainer === range.endContainer && util.isWysiwygDiv(range.startContainer)) {\r\n                        const format = util.createElement(options.defaultTag);\r\n                        const br = util.createElement('BR');\r\n                        format.appendChild(br);\r\n                        context.element.wysiwyg.appendChild(format);\r\n                        this.setRange(br, 0, br, 0);\r\n                    } else {\r\n                        this.setRange(range.startContainer, range.startOffset, range.endContainer, range.endOffset);\r\n                    }\r\n                } catch (e) {\r\n                    this.nativeFocus();\r\n                }\r\n            }\r\n\r\n            event._applyTagEffects();\r\n            if (this._isBalloon) event._toggleToolbarBalloon();\r\n        },\r\n\r\n        /**\r\n         * @description If \"focusEl\" is a component, then that component is selected; if it is a format element, the last text is selected\r\n         * If \"focusEdge\" is null, then selected last element\r\n         * @param {Element|null} focusEl Focus element\r\n         */\r\n        focusEdge: function (focusEl) {\r\n            if (!focusEl) focusEl = context.element.wysiwyg.lastElementChild;\r\n\r\n            const fileComponentInfo = this.getFileComponent(focusEl);\r\n            if (fileComponentInfo) {\r\n                this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n            } else if (focusEl) {\r\n                focusEl = util.getChildElement(focusEl, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true);\r\n                if (!focusEl) this.nativeFocus();\r\n                else this.setRange(focusEl, focusEl.textContent.length, focusEl, focusEl.textContent.length);\r\n            } else {\r\n                this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set current editor's range object and return.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @returns {Object} Range object.\r\n         */\r\n        setRange: function (startCon, startOff, endCon, endOff) {\r\n            if (!startCon || !endCon) return;\r\n            if (startOff > startCon.textContent.length) startOff = startCon.textContent.length;\r\n            if (endOff > endCon.textContent.length) endOff = endCon.textContent.length;\r\n            \r\n            const range = this._wd.createRange();\r\n\r\n            try {\r\n                range.setStart(startCon, startOff);\r\n                range.setEnd(endCon, endOff);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.core.focus.error] ' + error);\r\n                this.nativeFocus();\r\n                return;\r\n            }\r\n\r\n            const selection = this.getSelection();\r\n\r\n            if (selection.removeAllRanges) {\r\n                selection.removeAllRanges();\r\n            }\r\n\r\n            selection.addRange(range);\r\n            this._editorRange();\r\n            if (options.iframe) this.nativeFocus();\r\n\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Remove range object and button effect\r\n         */\r\n        removeRange: function () {\r\n            this._variable._range = null;\r\n            this._variable._selectionNode = null;\r\n            this.getSelection().removeAllRanges();\r\n\r\n            const commandMap = this.commandMap;\r\n            const activePlugins = this.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(this, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get current editor's range object\r\n         * @returns {Object}\r\n         */\r\n        getRange: function () {\r\n            const range = this._variable._range || this._createDefaultRange();\r\n            const selection = this.getSelection();\r\n            if (range.collapsed === selection.isCollapsed || !context.element.wysiwyg.contains(selection.focusNode)) return range;\r\n            \r\n            if (selection.rangeCount > 0) {\r\n                this._variable._range = selection.getRangeAt(0);\r\n                return this._variable._range;\r\n            } else {\r\n                const sc = selection.anchorNode, ec = selection.focusNode, so = selection.anchorOffset, eo = selection.focusOffset;\r\n                const compareValue = util.compareElements(sc, ec);\r\n                const rightDir = compareValue.ancestor && (compareValue.result === 0 ? so <= eo : compareValue.result > 1 ? true : false);\r\n                return this.setRange(\r\n                    rightDir ? sc : ec,\r\n                    rightDir ? so : eo,\r\n                    rightDir ? ec : sc,\r\n                    rightDir ? eo : so\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If the \"range\" object is a non-editable area, add a line at the top of the editor and update the \"range\" object.\r\n         * Returns a new \"range\" or argument \"range\".\r\n         * @param {Object} range core.getRange()\r\n         * @param {Element|null} container If there is \"container\" argument, it creates a line in front of the container.\r\n         * @returns {Object} range\r\n         */\r\n        getRange_addLine: function (range, container) {\r\n            if (this._selectionVoid(range)) {\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const op = util.createElement(options.defaultTag);\r\n                op.innerHTML = '<br>';\r\n                wysiwyg.insertBefore(op, container && container !== wysiwyg ? container.nextElementSibling : wysiwyg.firstElementChild);\r\n                this.setRange(op.firstElementChild, 0, op.firstElementChild, 1);\r\n                range = this._variable._range;\r\n            }\r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Get window selection obejct\r\n         * @returns {Object}\r\n         */\r\n        getSelection: function () {\r\n            return this._shadowRoot && this._shadowRoot.getSelection ? this._shadowRoot.getSelection() : this._ww.getSelection();\r\n        },\r\n\r\n        /**\r\n         * @description Get current select node\r\n         * @returns {Node}\r\n         */\r\n        getSelectionNode: function () {\r\n            if (util.isWysiwygDiv(this._variable._selectionNode)) this._editorRange();\r\n            if (!this._variable._selectionNode) {\r\n                const selectionNode = util.getChildElement(context.element.wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false);\r\n                if (!selectionNode) {\r\n                    this._editorRange();\r\n                } else {\r\n                    this._variable._selectionNode = selectionNode;\r\n                    return selectionNode;\r\n                }\r\n            }\r\n            return this._variable._selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Saving the range object and the currently selected node of editor\r\n         * @private\r\n         */\r\n        _editorRange: function () {\r\n            const selection = this.getSelection();\r\n            if (!selection) return null;\r\n            let range = null;\r\n            let selectionNode = null;\r\n\r\n            if (selection.rangeCount > 0) {\r\n                range = selection.getRangeAt(0);\r\n            } else {\r\n                range = this._createDefaultRange();\r\n            }\r\n\r\n            this._variable._range = range;\r\n\r\n            if (range.collapsed) {\r\n                selectionNode = range.commonAncestorContainer;\r\n            } else {\r\n                selectionNode = selection.extentNode || selection.anchorNode;\r\n            }\r\n\r\n            this._variable._selectionNode = selectionNode;\r\n        },\r\n\r\n        /**\r\n         * @description Return the range object of editor's first child node\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _createDefaultRange: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            wysiwyg.focus();\r\n            const range = this._wd.createRange();\r\n\r\n            let focusEl = wysiwyg.firstElementChild;\r\n            if (!focusEl) {\r\n                focusEl = util.createElement(options.defaultTag);\r\n                focusEl.innerHTML = '<br>';\r\n                wysiwyg.appendChild(focusEl);\r\n            }\r\n\r\n            range.setStart(focusEl, 0);\r\n            range.setEnd(focusEl, 0);\r\n            \r\n            return range;\r\n        },\r\n\r\n        /**\r\n         * @description Returns true if there is no valid \"selection\".\r\n         * @param {Object} range core.getRange()\r\n         * @returns {Object} range\r\n         * @private\r\n         */\r\n        _selectionVoid: function (range) {\r\n            const comm = range.commonAncestorContainer;\r\n            return (util.isWysiwygDiv(range.startContainer) && util.isWysiwygDiv(range.endContainer)) || /FIGURE/i.test(comm.nodeName) || this._fileManager.regExp.test(comm.nodeName) || util.isMediaComponent(comm);\r\n        },\r\n\r\n        /**\r\n         * @description Reset range object to text node selected status.\r\n         * @returns {Boolean} Returns false if there is no valid selection.\r\n         * @private\r\n         */\r\n        _resetRangeToTextNode: function () {\r\n            const range = this.getRange();\r\n            if (this._selectionVoid(range)) return false;\r\n            \r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n            let tempCon, tempOffset, tempChild;\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.lastChild;\r\n                startOff = startCon.textContent.length;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            // startContainer\r\n            tempCon = util.isWysiwygDiv(startCon) ? context.element.wysiwyg.firstChild : startCon;\r\n            tempOffset = startOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempCon = tempCon.childNodes[tempOffset] || tempCon.nextElementSibling || tempCon.nextSibling;\r\n                        tempOffset = 0;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.getParentElement(tempCon, util.isCell) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    if (onlyBreak) {\r\n                        if (startCon === endCon) {\r\n                            endCon = tempCon;\r\n                            endOff = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set startContainer\r\n            startCon = tempCon;\r\n            startOff = tempOffset;\r\n\r\n            // endContainer\r\n            tempCon = util.isWysiwygDiv(endCon) ? context.element.wysiwyg.lastChild : endCon;\r\n            tempOffset = endOff;\r\n\r\n            if (util.isBreak(tempCon) || (tempCon.nodeType === 1 && tempCon.childNodes.length > 0)) {\r\n                const onlyBreak = util.isBreak(tempCon);\r\n                if (!onlyBreak) {\r\n                    while (tempCon && !util.isBreak(tempCon) && tempCon.nodeType === 1) {\r\n                        tempChild = tempCon.childNodes;\r\n                        if (tempChild.length === 0) break;\r\n                        tempCon = tempChild[tempOffset > 0 ? tempOffset - 1 : tempOffset] || !/FIGURE/i.test(tempChild[0].nodeName) ? tempChild[0] : (tempCon.previousElementSibling || tempCon.previousSibling || startCon);\r\n                        tempOffset = tempOffset > 0 ? tempCon.textContent.length : tempOffset;\r\n                    }\r\n    \r\n                    let format = util.getFormatElement(tempCon, null);\r\n                    if (format === util.getRangeFormatElement(format, null)) {\r\n                        format = util.createElement(util.isCell(format) ? 'DIV' : options.defaultTag);\r\n                        tempCon.parentNode.insertBefore(format, tempCon);\r\n                        format.appendChild(tempCon);\r\n                    }\r\n                }\r\n\r\n                if (util.isBreak(tempCon)) {\r\n                    const emptyText = util.createTextNode(util.zeroWidthSpace);\r\n                    tempCon.parentNode.insertBefore(emptyText, tempCon);\r\n                    tempCon = emptyText;\r\n                    tempOffset = 1;\r\n                    if (onlyBreak && !tempCon.previousSibling) {\r\n                        util.removeItem(endCon);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // set endContainer\r\n            endCon = tempCon;\r\n            endOff = tempOffset;\r\n\r\n            // set Range\r\n            this.setRange(startCon, startOff, endCon, endOff);\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Returns a \"formatElement\"(util.isFormatElement) array from the currently selected range.\r\n         * @param {Function|null} validation The validation function. (Replaces the default validation function-util.isFormatElement(current))\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElements: function (validation) {\r\n            if (!this._resetRangeToTextNode()) return [];\r\n            let range = this.getRange();\r\n\r\n            if (util.isWysiwygDiv(range.startContainer)) {\r\n                const children = context.element.wysiwyg.children;\r\n                if (children.length === 0) return [];\r\n\r\n                this.setRange(children[0], 0, children[children.length - 1], children[children.length - 1].textContent.trim().length);\r\n                range = this.getRange();\r\n            }\r\n\r\n            const startCon = range.startContainer;\r\n            const endCon = range.endContainer;\r\n            const commonCon = range.commonAncestorContainer;\r\n\r\n            // get line nodes\r\n            const lineNodes = util.getListChildren(commonCon, function (current) {\r\n                return validation ? validation(current) : util.isFormatElement(current);\r\n            });\r\n\r\n            if (!util.isWysiwygDiv(commonCon) && !util.isRangeFormatElement(commonCon)) lineNodes.unshift(util.getFormatElement(commonCon, null));\r\n            if (startCon === endCon || lineNodes.length === 1) return lineNodes;\r\n\r\n            let startLine = util.getFormatElement(startCon, null);\r\n            let endLine = util.getFormatElement(endCon, null);\r\n            let startIdx = null;\r\n            let endIdx = null;\r\n            \r\n            const onlyTable = function (current) {\r\n                return util.isTable(current) ? /^TABLE$/i.test(current.nodeName) : true;\r\n            };\r\n\r\n            let startRangeEl = util.getRangeFormatElement(startLine, onlyTable);\r\n            let endRangeEl = util.getRangeFormatElement(endLine, onlyTable);\r\n            if (util.isTable(startRangeEl) && util.isListCell(startRangeEl.parentNode)) startRangeEl = startRangeEl.parentNode;\r\n            if (util.isTable(endRangeEl) && util.isListCell(endRangeEl.parentNode)) endRangeEl = endRangeEl.parentNode;\r\n            \r\n            const sameRange = startRangeEl === endRangeEl;\r\n            for (let i = 0, len = lineNodes.length, line; i < len; i++) {\r\n                line = lineNodes[i];\r\n\r\n                if (startLine === line || (!sameRange && line === startRangeEl)) {\r\n                    startIdx = i;\r\n                    continue;\r\n                }\r\n\r\n                if (endLine === line || (!sameRange && line === endRangeEl)) {\r\n                    endIdx = i;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (startIdx === null) startIdx = 0;\r\n            if (endIdx === null) endIdx = lineNodes.length - 1;\r\n\r\n            return lineNodes.slice(startIdx, endIdx + 1);\r\n        },\r\n\r\n        /**\r\n         * @description Get format elements and components from the selected area. (P, DIV, H[1-6], OL, UL, TABLE..)\r\n         * If some of the component are included in the selection, get the entire that component.\r\n         * @param {Boolean} removeDuplicate If true, if there is a parent and child tag among the selected elements, the child tag is excluded.\r\n         * @returns {Array}\r\n         */\r\n        getSelectedElementsAndComponents: function (removeDuplicate) {\r\n            const commonCon = this.getRange().commonAncestorContainer;\r\n            const myComponent = util.getParentElement(commonCon, util.isComponent);\r\n            const selectedLines = util.isTable(commonCon) ? \r\n                this.getSelectedElements(null) :\r\n                this.getSelectedElements(function (current) {\r\n                    const component = this.getParentElement(current, this.isComponent);\r\n                    return (this.isFormatElement(current) && (!component || component === myComponent)) || (this.isComponent(current) && !this.getFormatElement(current));\r\n                }.bind(util));\r\n            \r\n            if (removeDuplicate) {\r\n                for (let i = 0, len = selectedLines.length; i < len; i++) {\r\n                    for (let j = i - 1; j >= 0; j--) {\r\n                        if (selectedLines[j].contains(selectedLines[i])) {\r\n                            selectedLines.splice(i, 1);\r\n                            i--; len--;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return selectedLines;\r\n        },\r\n\r\n        /**\r\n         * @description Determine if this offset is the edge offset of container\r\n         * @param {Node} container The node of the selection object. (range.startContainer..)\r\n         * @param {Number} offset The offset of the selection object. (core.getRange().startOffset...)\r\n         * @returns {Boolean}\r\n         */\r\n        isEdgePoint: function (container, offset) {\r\n            return (offset === 0) || (!container.nodeValue && offset === 1) || (offset === container.nodeValue.length);\r\n        },\r\n\r\n        /**\r\n         * @description Show loading box\r\n         */\r\n        showLoading: function () {\r\n            context.element.loading.style.display = 'block';\r\n        },\r\n\r\n        /**\r\n         * @description Close loading box\r\n         */\r\n        closeLoading: function () {\r\n            context.element.loading.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Append format element to sibling node of argument element.\r\n         * If the \"formatNodeName\" argument value is present, the tag of that argument value is inserted,\r\n         * If not, the currently selected format tag is inserted.\r\n         * @param {Element} element Insert as siblings of that element\r\n         * @param {String|Element|null} formatNode Node name or node obejct to be inserted\r\n         * @returns {Element}\r\n         */\r\n        appendFormatTag: function (element, formatNode) {\r\n            const currentFormatEl = util.getFormatElement(this.getSelectionNode(), null);\r\n            const oFormatName = formatNode ? (typeof formatNode === 'string' ? formatNode : formatNode.nodeName) : (util.isFormatElement(currentFormatEl) && !util.isFreeFormatElement(currentFormatEl)) ? currentFormatEl.nodeName : options.defaultTag;\r\n            const oFormat = util.createElement(oFormatName);\r\n            oFormat.innerHTML = '<br>';\r\n\r\n            if ((formatNode && typeof formatNode !== 'string') || (!formatNode && util.isFormatElement(currentFormatEl))) {\r\n                util.copyTagAttributes(oFormat, formatNode || currentFormatEl);\r\n            }\r\n\r\n            if (util.isCell(element)) element.insertBefore(oFormat, element.nextElementSibling);\r\n            else element.parentNode.insertBefore(oFormat, element.nextElementSibling);\r\n\r\n            return oFormat;\r\n        },\r\n\r\n        /**\r\n         * @description The method to insert a element and return. (used elements : table, hr, image, video)\r\n         * If \"element\" is \"HR\", insert and return the new line.\r\n         * @param {Element} element Element to be inserted\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} notSelect If true, Do not automatically select the inserted component.\r\n         * @returns {Element}\r\n         */\r\n        insertComponent: function (element, notHistoryPush, checkCharCount, notSelect) {\r\n            if (checkCharCount && !this.checkCharCount(element, null)) {\r\n                return null;\r\n            }\r\n\r\n            const r = this.removeNode();\r\n            this.getRange_addLine(this.getRange(), r.container);\r\n            let oNode = null;\r\n            let selectionNode = this.getSelectionNode();\r\n            let formatEl = util.getFormatElement(selectionNode, null);\r\n\r\n            if (util.isListCell(formatEl)) {\r\n                this.insertNode(element, selectionNode === formatEl ? null : r.container.nextSibling, false);\r\n                if (!element.nextSibling) element.parentNode.appendChild(util.createElement('BR'));\r\n            } else {\r\n                if (this.getRange().collapsed && (r.container.nodeType === 3 || util.isBreak(r.container))) {\r\n                    const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current); }.bind(util));\r\n                    oNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                    if (oNode) formatEl = oNode.previousSibling;\r\n                }\r\n                this.insertNode(element, formatEl, false);\r\n                if (formatEl && util.onlyZeroWidthSpace(formatEl)) util.removeItem(formatEl);\r\n            }\r\n\r\n            this.setRange(element, 0, element, 0);\r\n\r\n            if (!notSelect) {\r\n                const fileComponentInfo = this.getFileComponent(element);\r\n                if (fileComponentInfo) {\r\n                    this.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                } else if (oNode) {\r\n                    oNode = util.getEdgeChildNodes(oNode, null).sc || oNode;\r\n                    this.setRange(oNode, 0, oNode, 0);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            if (!notHistoryPush) this.history.push(1);\r\n\r\n            return oNode || element;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the file component and that plugin name\r\n         * return: {target, component, pluginName} | null\r\n         * @param {Element} element Target element (figure tag, component div, file tag)\r\n         * @returns {Object|null}\r\n         */\r\n        getFileComponent: function (element) {\r\n            if (!this._fileManager.queryString || !element) return null;\r\n\r\n            let target, pluginName;\r\n            if (/^FIGURE$/i.test(element.nodeName) || /se-component/.test(element.className)) {\r\n                target = element.querySelector(this._fileManager.queryString);\r\n            }\r\n            if (!target && element.nodeName && this._fileManager.regExp.test(element.nodeName)) {\r\n                target = element;\r\n            }\r\n\r\n            if (target) {\r\n                pluginName = this._fileManager.pluginMap[target.nodeName.toLowerCase()];\r\n                if (pluginName) {\r\n                    return {\r\n                        target: target,\r\n                        component: util.getParentElement(target, util.isComponent),\r\n                        pluginName: pluginName\r\n                    };\r\n                }\r\n            }\r\n\r\n            return null;\r\n        },\r\n\r\n        /**\r\n         * @description The component(image, video) is selected and the resizing module is called.\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @param {String} pluginName Plugin name (image, video)\r\n         */\r\n        selectComponent: function (element, pluginName) {\r\n            if (!this.hasFocus) this.focus();\r\n            const plugin = this.plugins[pluginName];\r\n            if (!plugin) return;\r\n            _w.setTimeout(function () {\r\n                if (typeof plugin.select === 'function') this.callPlugin(pluginName, plugin.select.bind(this, element), null);\r\n                this._setComponentLineBreaker(element);\r\n            }.bind(this));\r\n        },\r\n\r\n        /**\r\n         * @description Set line breaker of component\r\n         * @param {Element} element Element tag (img, iframe, video)\r\n         * @private\r\n         */\r\n        _setComponentLineBreaker: function (element) {\r\n            // line breaker\r\n            this._lineBreaker.style.display = 'none';\r\n            const container = util.getParentElement(element, util.isComponent);\r\n            const t_style = context.element.lineBreaker_t.style;\r\n            const b_style = context.element.lineBreaker_b.style;\r\n            const target = this.context.resizing.resizeContainer.style.display === 'block' ? this.context.resizing.resizeContainer : element;\r\n\r\n            const isList = util.isListCell(container.parentNode);\r\n            let componentTop, wScroll, w;\r\n            // top\r\n            if (isList ? !container.previousSibling : !util.isFormatElement(container.previousElementSibling)) {\r\n                this._variable._lineBreakComp = container;\r\n                wScroll = context.element.wysiwyg.scrollTop;\r\n                componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                w = (target.offsetWidth / 2) / 2;\r\n\r\n                t_style.top = (componentTop - wScroll - 12) + 'px';\r\n                t_style.left = (util.getOffset(target).left + w) + 'px';\r\n                t_style.display = 'block';\r\n            } else {\r\n                t_style.display = 'none';\r\n            }\r\n            // bottom\r\n            if (isList ? !container.nextSibling : !util.isFormatElement(container.nextElementSibling)) {\r\n                if (!componentTop) {\r\n                    this._variable._lineBreakComp = container;\r\n                    wScroll = context.element.wysiwyg.scrollTop;\r\n                    componentTop = util.getOffset(element, context.element.wysiwygFrame).top + wScroll;\r\n                    w = (target.offsetWidth / 2) / 2;\r\n                }\r\n\r\n                b_style.top = (componentTop + target.offsetHeight - wScroll - 12) + 'px';\r\n                b_style.left = (util.getOffset(target).left + target.offsetWidth - w - 24) + 'px';\r\n                b_style.display = 'block';\r\n            } else {\r\n                b_style.display = 'none';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Delete selected node and insert argument value node and return.\r\n         * If the \"afterNode\" exists, it is inserted after the \"afterNode\"\r\n         * Inserting a text node merges with both text nodes on both sides and returns a new \"{ container, startOffset, endOffset }\".\r\n         * @param {Node} oNode Element to be inserted\r\n         * @param {Node|null} afterNode If the node exists, it is inserted after the node\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @returns {Object|Node|null}\r\n         */\r\n        insertNode: function (oNode, afterNode, checkCharCount) {\r\n            if (checkCharCount && !this.checkCharCount(oNode, null)) {\r\n                return null;\r\n            }\r\n\r\n            const freeFormat = util.getFreeFormatElement(this.getSelectionNode(), null);\r\n            const isFormats = (!freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) || util.isComponent(oNode);\r\n\r\n            if (!afterNode && isFormats) {\r\n                const range = this.getRange();\r\n                if (range.startOffset !== range.endOffset || range.startContainer !== range.endContainer) {\r\n                    const r = this.removeNode();\r\n                    if (r.container.nodeType === 3 || util.isBreak(r.container)) {\r\n                        const depthFormat = util.getParentElement(r.container, function (current) { return this.isRangeFormatElement(current) || this.isListCell(current); }.bind(util));\r\n                        afterNode = util.splitElement(r.container, r.offset, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                        if (afterNode) afterNode = afterNode.previousSibling;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const range = (!afterNode && !isFormats) ? this.getRange_addLine(this.getRange(), null) : this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const formatRange = range.startContainer === commonCon && util.isFormatElement(commonCon);\r\n            const startCon = formatRange ? commonCon.childNodes[startOff] : range.startContainer;\r\n            const endCon = formatRange ? commonCon.childNodes[endOff] : range.endContainer;\r\n            let parentNode, originAfter = null;\r\n\r\n            if (!afterNode) {\r\n                parentNode = startCon;\r\n                if (startCon.nodeType === 3) {\r\n                    parentNode = startCon.parentNode;\r\n                }\r\n\r\n                /** No Select range node */\r\n                if (range.collapsed) {\r\n                    if (commonCon.nodeType === 3) {\r\n                        if (commonCon.textContent.length > endOff) afterNode = commonCon.splitText(endOff);\r\n                        else afterNode = commonCon.nextSibling;\r\n                    } else {\r\n                        if (!util.isBreak(parentNode)) {\r\n                            let c = parentNode.childNodes[startOff];\r\n                            const focusNode = (c && c.nodeType === 3 && util.onlyZeroWidthSpace(c) && util.isBreak(c.nextSibling)) ? c.nextSibling : c;\r\n                            if (focusNode) {\r\n                                if (!focusNode.nextSibling) {\r\n                                    parentNode.removeChild(focusNode);\r\n                                    afterNode = null;\r\n                                } else {\r\n                                    afterNode = (util.isBreak(focusNode) && !util.isBreak(oNode)) ? focusNode : focusNode.nextSibling;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            afterNode = parentNode;\r\n                            parentNode = parentNode.parentNode;\r\n                        }\r\n                    }\r\n                } else { /** Select range nodes */\r\n                    const isSameContainer = startCon === endCon;\r\n\r\n                    if (isSameContainer) {\r\n                        if (this.isEdgePoint(endCon, endOff)) afterNode = endCon.nextSibling;\r\n                        else afterNode = endCon.splitText(endOff);\r\n\r\n                        let removeNode = startCon;\r\n                        if (!this.isEdgePoint(startCon, startOff)) removeNode = startCon.splitText(startOff);\r\n\r\n                        parentNode.removeChild(removeNode);\r\n                        if (parentNode.childNodes.length === 0 && isFormats) {\r\n                            parentNode.innerHTML = '<br>';\r\n                        }\r\n                    }\r\n                    else {\r\n                        const removedTag = this.removeNode();\r\n                        const container = removedTag.container;\r\n                        const prevContainer = removedTag.prevContainer;\r\n                        if (container && container.childNodes.length === 0 && isFormats) {\r\n                            if (util.isFormatElement(container)) {\r\n                                container.innerHTML = '<br>';\r\n                            } else if (util.isRangeFormatElement(container)) {\r\n                                container.innerHTML = '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n                            }\r\n                        }\r\n\r\n                        if (!isFormats && prevContainer) {\r\n                            parentNode = prevContainer.nodeType === 3 ? prevContainer.parentNode : prevContainer;\r\n                            if (parentNode.contains(container)) {\r\n                                afterNode = container;\r\n                                while (afterNode.parentNode === parentNode) {\r\n                                    afterNode = afterNode.parentNode;\r\n                                }\r\n                            } else {\r\n                                afterNode = null;\r\n                            }\r\n                        } else {\r\n                            parentNode = isFormats ? commonCon : container;\r\n                            afterNode = isFormats ? endCon : null;\r\n                        }\r\n\r\n                        while (afterNode && !util.isFormatElement(afterNode) && afterNode.parentNode !== commonCon) {\r\n                            afterNode = afterNode.parentNode;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // has afterNode\r\n            else {\r\n                parentNode = afterNode.parentNode;\r\n                afterNode = afterNode.nextSibling;\r\n                originAfter = true;\r\n            }\r\n\r\n            // --- insert node ---\r\n            try {\r\n                if (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode) || (!util.isListCell(parentNode) && util.isComponent(oNode))) {\r\n                    const oldParent = parentNode;\r\n                    if (util.isList(afterNode)) {\r\n                        parentNode = afterNode;\r\n                        afterNode = null;\r\n                    } else if (util.isListCell(afterNode)) {\r\n                        parentNode = afterNode.previousElementSibling || afterNode;\r\n                    } else if (!originAfter && !afterNode) {\r\n                        const r = this.removeNode();\r\n                        const container = r.container.nodeType === 3 ? (util.isListCell(util.getFormatElement(r.container, null)) ? r.container : (util.getFormatElement(r.container, null) || r.container.parentNode)) : r.container;\r\n                        const rangeCon = util.isWysiwygDiv(container) || util.isRangeFormatElement(container);\r\n                        parentNode = rangeCon ? container : container.parentNode;\r\n                        afterNode = rangeCon ? null : container.nextSibling;\r\n                    }\r\n\r\n                    if (oldParent.childNodes.length === 0 && parentNode !== oldParent) util.removeItem(oldParent);\r\n                }\r\n\r\n                if (isFormats && !freeFormat && !util.isRangeFormatElement(parentNode) && !util.isListCell(parentNode) && !util.isWysiwygDiv(parentNode)) {\r\n                    afterNode = parentNode.nextElementSibling;\r\n                    parentNode = parentNode.parentNode;\r\n                }\r\n                parentNode.insertBefore(oNode, parentNode === afterNode ? parentNode.lastChild : afterNode);\r\n            } catch (e) {\r\n                parentNode.appendChild(oNode);\r\n            } finally {\r\n                if (freeFormat && (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode))) {\r\n                    oNode = this._setIntoFreeFormat(oNode);\r\n                }\r\n\r\n                if (!util.isComponent(oNode)) {\r\n                    let offset = 1;\r\n                    if (oNode.nodeType === 3) {\r\n                        const previous = oNode.previousSibling;\r\n                        const next = oNode.nextSibling;\r\n                        const previousText = (!previous ||  previous.nodeType === 1 || util.onlyZeroWidthSpace(previous)) ? '' : previous.textContent;\r\n                        const nextText = (!next || next.nodeType === 1 || util.onlyZeroWidthSpace(next)) ? '' : next.textContent;\r\n        \r\n                        if (previous && previousText.length > 0) {\r\n                            oNode.textContent = previousText + oNode.textContent;\r\n                            util.removeItem(previous);\r\n                        }\r\n        \r\n                        if (next && next.length > 0) {\r\n                            oNode.textContent += nextText;\r\n                            util.removeItem(next);\r\n                        }\r\n\r\n                        const newRange = {\r\n                            container: oNode,\r\n                            startOffset: previousText.length,\r\n                            endOffset: oNode.textContent.length - nextText.length\r\n                        };\r\n\r\n                        this.setRange(oNode, newRange.startOffset, oNode, newRange.endOffset);\r\n    \r\n                        return newRange;\r\n                    } else if (!util.isBreak(oNode) && util.isFormatElement(parentNode)) {\r\n                        let zeroWidth = null;\r\n                        if (!oNode.previousSibling || util.isBreak(oNode.previousSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode);\r\n                        }\r\n                        \r\n                        if (!oNode.nextSibling || util.isBreak(oNode.nextSibling)) {\r\n                            zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                            oNode.parentNode.insertBefore(zeroWidth, oNode.nextSibling);\r\n                        }\r\n    \r\n                        if (util._isIgnoreNodeChange(oNode)) {\r\n                            oNode = oNode.nextSibling;\r\n                            offset = 0;\r\n                        }\r\n                    }\r\n    \r\n                    this.setRange(oNode, offset, oNode, offset);\r\n                }\r\n\r\n                // history stack\r\n                this.history.push(true);\r\n\r\n                return oNode;\r\n            }\r\n        },\r\n\r\n        _setIntoFreeFormat: function (oNode) {\r\n            const parentNode = oNode.parentNode;\r\n            let oNodeChildren, lastONode;\r\n            \r\n            while (util.isFormatElement(oNode) || util.isRangeFormatElement(oNode)) {\r\n                oNodeChildren = oNode.childNodes;\r\n                lastONode = null;\r\n                \r\n                while (oNodeChildren[0]) {\r\n                    lastONode = oNodeChildren[0];\r\n                    if (util.isFormatElement(lastONode) || util.isRangeFormatElement(lastONode)) {\r\n                        this._setIntoFreeFormat(lastONode);\r\n                        if (!oNode.parentNode) break;\r\n                        oNodeChildren = oNode.childNodes;\r\n                        continue;\r\n                    }\r\n                    \r\n                    parentNode.insertBefore(lastONode, oNode);\r\n                }\r\n                \r\n                if (oNode.childNodes.length === 0) util.removeItem(oNode);\r\n                oNode = util.createElement('BR');\r\n                parentNode.insertBefore(oNode, lastONode.nextSibling);\r\n            }\r\n\r\n            return oNode;\r\n        },\r\n\r\n        /**\r\n         * @description Delete the currently selected nodes and reset selection range\r\n         * Returns {container: \"the last element after deletion\", offset: \"offset\", prevContainer: \"previousElementSibling Of the deleted area\"}\r\n         * @returns {Object}\r\n         */\r\n        removeNode: function () {\r\n            this._resetRangeToTextNode();\r\n\r\n            const range = this.getRange();\r\n            let container, offset = 0;\r\n            let startCon = range.startContainer;\r\n            let endCon = range.endContainer;\r\n            const startOff = range.startOffset;\r\n            const endOff = range.endOffset;\r\n            const commonCon = (range.commonAncestorContainer.nodeType === 3 && range.commonAncestorContainer.parentNode === startCon.parentNode) ? startCon.parentNode : range.commonAncestorContainer;\r\n\r\n            let beforeNode = null;\r\n            let afterNode = null;\r\n\r\n            const childNodes = util.getListChildNodes(commonCon, null);\r\n            let startIndex = util.getArrayIndex(childNodes, startCon);\r\n            let endIndex = util.getArrayIndex(childNodes, endCon);\r\n\r\n            if (childNodes.length > 0 && startIndex > -1 && endIndex > -1) {\r\n                for (let i = startIndex + 1, startNode = startCon; i >= 0; i--) {\r\n                    if (childNodes[i] === startNode.parentNode && childNodes[i].firstChild === startNode && startOff === 0) {\r\n                        startIndex = i;\r\n                        startNode = startNode.parentNode;\r\n                    }\r\n                }\r\n    \r\n                for (let i = endIndex - 1, endNode = endCon; i > startIndex; i--) {\r\n                    if (childNodes[i] === endNode.parentNode && childNodes[i].nodeType === 1) {\r\n                        childNodes.splice(i, 1);\r\n                        endNode = endNode.parentNode;\r\n                        --endIndex;\r\n                    }\r\n                }\r\n            } else {\r\n                if (childNodes.length === 0) {\r\n                    if (util.isFormatElement(commonCon) || util.isRangeFormatElement(commonCon) || util.isWysiwygDiv(commonCon) || util.isBreak(commonCon) || util.isMedia(commonCon)) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: 0\r\n                        };\r\n                    } else if (commonCon.nodeType === 3) {\r\n                        return {\r\n                            container: commonCon,\r\n                            offset: endOff\r\n                        };\r\n                    }\r\n                    childNodes.push(commonCon);\r\n                    startCon = endCon = commonCon;\r\n                } else {\r\n                    startCon = endCon = childNodes[0];\r\n                    if (util.isBreak(startCon) || util.onlyZeroWidthSpace(startCon)) {\r\n                        return {\r\n                            container: util.isMedia(commonCon) ? commonCon : startCon,\r\n                            offset: 0\r\n                        };\r\n                    }\r\n                }\r\n\r\n                startIndex = endIndex = 0;\r\n            }\r\n\r\n            function remove (item) {\r\n                const format = util.getFormatElement(item, null);\r\n                util.removeItem(item);\r\n\r\n                if(util.isListCell(format)) {\r\n                    const list = util.getArrayItem(format.children, util.isList, false);\r\n                    if (list) {\r\n                        const child = list.firstElementChild;\r\n                        const children = child.childNodes;\r\n                        while (children[0]) {\r\n                            format.insertBefore(children[0], list);\r\n                        }\r\n                        util.removeItemAllParents(child, null, null);\r\n                    }\r\n                }\r\n            }\r\n\r\n            for (let i = startIndex; i <= endIndex; i++) {\r\n                const item = childNodes[i];\r\n\r\n                if (item.length === 0 || (item.nodeType === 3 && item.data === undefined)) {\r\n                    remove(item);\r\n                    continue;\r\n                }\r\n\r\n                if (item === startCon) {\r\n                    if (startCon.nodeType === 1) {\r\n                        beforeNode = util.createTextNode(startCon.textContent);\r\n                    } else {\r\n                        if (item === endCon) {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff) + endCon.substringData(endOff, (endCon.length - endOff)));\r\n                            offset = startOff;\r\n                        } else {\r\n                            beforeNode = util.createTextNode(startCon.substringData(0, startOff));\r\n                        }\r\n                    }\r\n\r\n                    if (beforeNode.length > 0) {\r\n                        startCon.data = beforeNode.data;\r\n                    } else {\r\n                        remove(startCon);\r\n                    }\r\n\r\n                    if (item === endCon) break;\r\n                    continue;\r\n                }\r\n\r\n                if (item === endCon) {\r\n                    if (endCon.nodeType === 1) {\r\n                        afterNode = util.createTextNode(endCon.textContent);\r\n                    } else {\r\n                        afterNode = util.createTextNode(endCon.substringData(endOff, (endCon.length - endOff)));\r\n                    }\r\n\r\n                    if (afterNode.length > 0) {\r\n                        endCon.data = afterNode.data;\r\n                    } else {\r\n                        remove(endCon);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                remove(item);\r\n            }\r\n\r\n            container = endCon && endCon.parentNode ? endCon : startCon && startCon.parentNode ? startCon : (range.endContainer || range.startContainer);\r\n            \r\n            if (!util.isWysiwygDiv(container)) {\r\n                const rc = util.removeItemAllParents(container, function (current) {\r\n                    if (this.isComponent(current)) return false;\r\n                    const text = current.textContent;\r\n                    return text.length === 0 || /^(\\n|\\u200B)+$/.test(text);\r\n                }.bind(util), null);\r\n                \r\n                if (rc) container = rc.sc || rc.ec || context.element.wysiwyg;\r\n            }\r\n\r\n            // set range\r\n            this.setRange(container, offset, container, offset);\r\n            // history stack\r\n            this.history.push(true);\r\n\r\n            return {\r\n                container: container,\r\n                offset: offset,\r\n                prevContainer: startCon && startCon.parentNode ? startCon : null\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Appended all selected format Element to the argument element and insert\r\n         * @param {Element} rangeElement Element of wrap the arguments (BLOCKQUOTE...)\r\n         */\r\n        applyRangeFormatElement: function (rangeElement) {\r\n            this.getRange_addLine(this.getRange(), null);\r\n            const rangeLines = this.getSelectedElementsAndComponents(false);\r\n            if (!rangeLines || rangeLines.length === 0) return;\r\n\r\n            linesLoop:\r\n            for (let i = 0, len = rangeLines.length, line, nested, fEl, lEl, f, l; i < len; i++) {\r\n                line = rangeLines[i];\r\n                if (!util.isListCell(line)) continue;\r\n\r\n                nested = line.lastElementChild;\r\n                if (nested && util.isListCell(line.nextElementSibling) && rangeLines.indexOf(line.nextElementSibling) > -1) {\r\n                    lEl = nested.lastElementChild;\r\n                    if (rangeLines.indexOf(lEl) > -1) {\r\n                        let list = null;\r\n                        while ((list = lEl.lastElementChild)) {\r\n                            if (util.isList(list)) {\r\n                                if (rangeLines.indexOf(list.lastElementChild) > -1) {\r\n                                    lEl = list.lastElementChild;\r\n                                } else {\r\n                                    continue linesLoop;\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        fEl = nested.firstElementChild;\r\n                        f = rangeLines.indexOf(fEl);\r\n                        l = rangeLines.indexOf(lEl);\r\n                        rangeLines.splice(f, (l - f) + 1);\r\n                        len = rangeLines.length;\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n\r\n            let last  = rangeLines[rangeLines.length - 1];\r\n            let standTag, beforeTag, pElement;\r\n\r\n            if (util.isRangeFormatElement(last) || util.isFormatElement(last)) {\r\n                standTag = last;\r\n            } else {\r\n                standTag = util.getRangeFormatElement(last, null) || util.getFormatElement(last, null);\r\n            }\r\n\r\n            if (util.isCell(standTag)) {\r\n                beforeTag = null;\r\n                pElement = standTag;\r\n            } else {\r\n                beforeTag = standTag.nextSibling;\r\n                pElement = standTag.parentNode;\r\n            }\r\n            \r\n            let parentDepth = util.getElementDepth(standTag);\r\n            let listParent = null;\r\n            const lineArr = [];\r\n            const removeItems = function (parent, origin, before) {\r\n                let cc = null;\r\n                if (parent !== origin && !util.isTable(origin)) {\r\n                    if (origin && util.getElementDepth(parent) === util.getElementDepth(origin)) return before;\r\n                    cc = util.removeItemAllParents(origin, null, parent);\r\n                }\r\n\r\n                return cc ? cc.ec : before;\r\n            };\r\n            \r\n            for (let i = 0, len = rangeLines.length, line, originParent, depth, before, nextLine, nextList, nested; i < len; i++) {\r\n                line = rangeLines[i];\r\n                originParent = line.parentNode;\r\n                if (!originParent || rangeElement.contains(originParent)) continue;\r\n\r\n                depth = util.getElementDepth(line);\r\n\r\n                if (util.isList(originParent)) {\r\n                    if (listParent === null) {\r\n                        if (nextList) {\r\n                            listParent = nextList;\r\n                            nested = true;\r\n                            nextList = null;\r\n                        } else {\r\n                            listParent = originParent.cloneNode(false);\r\n                        }\r\n                    }\r\n\r\n                    lineArr.push(line);\r\n                    nextLine = rangeLines[i + 1];\r\n\r\n                    if (i === len - 1 || (nextLine && nextLine.parentNode !== originParent)) {\r\n                        // nested list\r\n                        if (nextLine && line.contains(nextLine.parentNode)) {\r\n                            nextList = nextLine.parentNode.cloneNode(false);\r\n                        }\r\n\r\n                        let list = originParent.parentNode, p;\r\n                        while (util.isList(list)) {\r\n                            p = util.createElement(list.nodeName);\r\n                            p.appendChild(listParent);\r\n                            listParent = p;\r\n                            list = list.parentNode;\r\n                        }\r\n\r\n                        const edge = this.detachRangeFormatElement(originParent, lineArr, null, true, true);\r\n\r\n                        if (parentDepth >= depth) {\r\n                            parentDepth = depth;\r\n                            pElement = edge.cc;\r\n                            beforeTag = removeItems(pElement, originParent, edge.ec);\r\n                            if (beforeTag) pElement = beforeTag.parentNode;\r\n                        } else if (pElement === edge.cc) {\r\n                            beforeTag = edge.ec;\r\n                        }\r\n\r\n                        if (pElement !== edge.cc) {\r\n                            before = removeItems(pElement, edge.cc, before);\r\n                            if (before !== undefined) beforeTag = before;\r\n                            else beforeTag = edge.cc;\r\n                        }\r\n\r\n                        for (let c = 0, cLen = edge.removeArray.length; c < cLen; c++) {\r\n                            listParent.appendChild(edge.removeArray[c]);\r\n                        }\r\n\r\n                        if (!nested) rangeElement.appendChild(listParent);\r\n                        if (nextList) edge.removeArray[edge.removeArray.length - 1].appendChild(nextList);\r\n                        listParent = null;\r\n                        nested = false;\r\n                    }\r\n                } else {\r\n                    if (parentDepth >= depth) {\r\n                        parentDepth = depth;\r\n                        pElement = originParent;\r\n                        beforeTag = line.nextSibling;\r\n                    }\r\n                    \r\n                    rangeElement.appendChild(line);\r\n\r\n                    if (pElement !== originParent) {\r\n                        before = removeItems(pElement, originParent);\r\n                        if (before !== undefined) beforeTag = before;\r\n                    }\r\n                }\r\n            }\r\n\r\n            this.effectNode = null;\r\n            util.mergeSameTags(rangeElement, null, false);\r\n            util.mergeNestedTags(rangeElement, function (current) { return this.isList(current); }.bind(util));\r\n\r\n            // Nested list\r\n            if (beforeTag && util.getElementDepth(beforeTag) > 0 && (util.isList(beforeTag.parentNode) || util.isList(beforeTag.parentNode.parentNode))) {\r\n                const depthFormat = util.getParentElement(beforeTag, function (current) { return this.isRangeFormatElement(current) && !this.isList(current); }.bind(util));\r\n                const splitRange = util.splitElement(beforeTag, null, !depthFormat ? 0 : util.getElementDepth(depthFormat) + 1);\r\n                splitRange.parentNode.insertBefore(rangeElement, splitRange);\r\n            } else { // basic\r\n                pElement.insertBefore(rangeElement, beforeTag);\r\n                removeItems(rangeElement, beforeTag);\r\n            }\r\n\r\n            const edge = util.getEdgeChildNodes(rangeElement.firstElementChild, rangeElement.lastElementChild);\r\n            if (rangeLines.length > 1) {\r\n                this.setRange(edge.sc, 0, edge.ec, edge.ec.textContent.length);\r\n            } else {\r\n                this.setRange(edge.ec, edge.ec.textContent.length, edge.ec, edge.ec.textContent.length);\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description The elements of the \"selectedFormats\" array are detached from the \"rangeElement\" element. (\"LI\" tags are converted to \"P\" tags)\r\n         * When \"selectedFormats\" is null, all elements are detached and return {cc: parentNode, sc: nextSibling, ec: previousSibling, removeArray: [Array of removed elements]}.\r\n         * @param {Element} rangeElement Range format element (PRE, BLOCKQUOTE, OL, UL...)\r\n         * @param {Array|null} selectedFormats Array of format elements (P, DIV, LI...) to remove.\r\n         * If null, Applies to all elements and return {cc: parentNode, sc: nextSibling, ec: previousSibling}\r\n         * @param {Element|null} newRangeElement The node(rangeElement) to replace the currently wrapped node.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @param {Boolean} notHistoryPush When true, it does not update the history stack and the selection object and return EdgeNodes (util.getEdgeChildNodes)\r\n         * @returns {Object}\r\n         */\r\n        detachRangeFormatElement: function (rangeElement, selectedFormats, newRangeElement, remove, notHistoryPush) {\r\n            const range = this.getRange();\r\n            const so = range.startOffset;\r\n            const eo = range.endOffset;\r\n\r\n            let children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n            let parent = rangeElement.parentNode;\r\n            let firstNode = null;\r\n            let lastNode = null;\r\n            let rangeEl = rangeElement.cloneNode(false);\r\n            \r\n            const removeArray = [];\r\n            const newList = util.isList(newRangeElement);\r\n            let insertedNew = false;\r\n            let reset = false;\r\n            let moveComplete = false;\r\n\r\n            function appendNode (parent, insNode, sibling, originNode) {\r\n                if (util.onlyZeroWidthSpace(insNode)) insNode.innerHTML = util.zeroWidthSpace;\r\n\r\n                if (insNode.nodeType === 3) {\r\n                    parent.insertBefore(insNode, sibling);\r\n                    return insNode;\r\n                }\r\n                \r\n                const insChildren = (moveComplete ? insNode : originNode).childNodes;\r\n                let format = insNode.cloneNode(false);\r\n                let first = null;\r\n                let c = null;\r\n\r\n                while (insChildren[0]) {\r\n                    c = insChildren[0];\r\n                    if (util._notTextNode(c) && !util.isBreak(c) && !util.isListCell(format)) {\r\n                        if (format.childNodes.length > 0) {\r\n                            if (!first) first = format;\r\n                            parent.insertBefore(format, sibling);\r\n                            format = insNode.cloneNode(false);\r\n                        }\r\n                        parent.insertBefore(c, sibling);\r\n                        if (!first) first = c;\r\n                    } else {\r\n                        format.appendChild(c);\r\n                    }\r\n                }\r\n\r\n                if (format.childNodes.length > 0) {\r\n                    if (util.isListCell(parent) && util.isListCell(format) && util.isList(sibling)) {\r\n                        if (newList) {\r\n                            first = sibling;\r\n                            while(sibling) {\r\n                                format.appendChild(sibling);\r\n                                sibling = sibling.nextSibling;\r\n                            }\r\n                            parent.parentNode.insertBefore(format, parent.nextElementSibling);\r\n                        } else {\r\n                            const originNext = originNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(originNode, false);\r\n                            if ((rangeElement !== detachRange) || (originNext !== originNode.nextElementSibling)) {\r\n                                const fChildren = format.childNodes;\r\n                                while (fChildren[0]) {\r\n                                    originNode.appendChild(fChildren[0]);\r\n                                }\r\n\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        parent.insertBefore(format, sibling);\r\n                    }\r\n\r\n                    if (!first) first = format;\r\n                }\r\n\r\n                return first;\r\n            }\r\n\r\n            // detach loop\r\n            for (let i = 0, len = children.length, insNode, lineIndex, next; i < len; i++) {\r\n                insNode = children[i];\r\n                if (insNode.nodeType === 3 && util.isList(rangeEl)) continue;\r\n                \r\n                moveComplete = false;\r\n                if (remove && i === 0) {\r\n                    if (!selectedFormats || selectedFormats.length === len || selectedFormats[0] === insNode) {\r\n                        firstNode = rangeElement.previousSibling;\r\n                    } else {\r\n                        firstNode = rangeEl;\r\n                    }\r\n                }\r\n\r\n                if (selectedFormats) lineIndex = selectedFormats.indexOf(insNode);\r\n                if (selectedFormats && lineIndex === -1) {\r\n                    if (!rangeEl) rangeEl = rangeElement.cloneNode(false);\r\n                    rangeEl.appendChild(insNode);\r\n                } else {\r\n                    if (selectedFormats) next = selectedFormats[lineIndex + 1];\r\n                    if (rangeEl && rangeEl.children.length > 0) {\r\n                        parent.insertBefore(rangeEl, rangeElement);\r\n                        rangeEl = null;\r\n                    }\r\n\r\n                    if (!newList && util.isListCell(insNode)) {\r\n                        if (next && util.getElementDepth(insNode) !== util.getElementDepth(next) && (util.isListCell(parent) || util.getArrayItem(insNode.children, util.isList, false))) {\r\n                            const insNext = insNode.nextElementSibling;\r\n                            const detachRange = util.detachNestedList(insNode, false);\r\n                            if ((rangeElement !== detachRange) || insNext !== insNode.nextElementSibling) {\r\n                                rangeElement = detachRange;\r\n                                reset = true;\r\n                            }\r\n                        } else {\r\n                            const inner = insNode;\r\n                            insNode = util.createElement(remove ? inner.nodeName : (util.isList(rangeElement.parentNode) || util.isListCell(rangeElement.parentNode)) ? 'LI' : util.isCell(rangeElement.parentNode) ? 'DIV' : options.defaultTag);\r\n                            const isCell = util.isListCell(insNode);\r\n                            const innerChildren = inner.childNodes;\r\n                            while (innerChildren[0]) {\r\n                                if (util.isList(innerChildren[0]) && !isCell) break;\r\n                                insNode.appendChild(innerChildren[0]);\r\n                            }\r\n                            util.copyFormatAttributes(insNode, inner);\r\n                            moveComplete = true;\r\n                        }\r\n                    } else {\r\n                        insNode = insNode.cloneNode(false);\r\n                    }\r\n\r\n                    if (!reset) {\r\n                        if (!remove) {\r\n                            if (newRangeElement) {\r\n                                if (!insertedNew) {\r\n                                    parent.insertBefore(newRangeElement, rangeElement);\r\n                                    insertedNew = true;\r\n                                }\r\n                                insNode = appendNode(newRangeElement, insNode, null, children[i]);\r\n                            } else {\r\n                                insNode = appendNode(parent, insNode, rangeElement, children[i]);\r\n                            }\r\n    \r\n                            if (!reset) {\r\n                                if (selectedFormats) {\r\n                                    lastNode = insNode;\r\n                                    if (!firstNode) {\r\n                                        firstNode = insNode;\r\n                                    }\r\n                                } else if (!firstNode) {\r\n                                    firstNode = lastNode = insNode;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            removeArray.push(insNode);\r\n                            util.removeItem(children[i]);\r\n                        }\r\n\r\n                        if (reset) {\r\n                            reset = moveComplete = false;\r\n                            children = util.getListChildNodes(rangeElement, function (current) { return current.parentNode === rangeElement; });\r\n                            rangeEl = rangeElement.cloneNode(false);\r\n                            parent = rangeElement.parentNode;\r\n                            i = -1;\r\n                            len = children.length;\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const rangeParent = rangeElement.parentNode;\r\n            let rangeRight = rangeElement.nextSibling;\r\n            if (rangeEl && rangeEl.children.length > 0) {\r\n                rangeParent.insertBefore(rangeEl, rangeRight);\r\n            }\r\n            \r\n            if (newRangeElement) firstNode = newRangeElement.previousSibling;\r\n            else if (!firstNode) firstNode = rangeElement.previousSibling;\r\n            rangeRight = rangeElement.nextSibling;\r\n\r\n            if (rangeElement.children.length === 0 || rangeElement.textContent.length === 0) {\r\n                util.removeItem(rangeElement);\r\n            } else {\r\n                util.removeEmptyNode(rangeElement, null);\r\n            }\r\n\r\n            let edge = null;\r\n            if (remove) {\r\n                edge = {\r\n                    cc: rangeParent,\r\n                    sc: firstNode,\r\n                    ec: rangeRight,\r\n                    removeArray: removeArray\r\n                };\r\n            } else {\r\n                if (!firstNode) firstNode = lastNode;\r\n                if (!lastNode) lastNode = firstNode;\r\n                const childEdge = util.getEdgeChildNodes(firstNode, (lastNode.parentNode ? firstNode : lastNode));\r\n                edge = {\r\n                    cc: (childEdge.sc || childEdge.ec).parentNode,\r\n                    sc: childEdge.sc,\r\n                    ec: childEdge.ec\r\n                };\r\n            }\r\n\r\n            this.effectNode = null;\r\n            if (notHistoryPush) return edge;\r\n            \r\n            if (!remove && edge) {\r\n                if (!selectedFormats) {\r\n                    this.setRange(edge.sc, 0, edge.sc, 0);\r\n                } else {\r\n                    this.setRange(edge.sc, so, edge.ec, eo);\r\n                }\r\n            }\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description \"selectedFormats\" array are detached from the list element.\r\n         * The return value is applied when the first and last lines of \"selectedFormats\" are \"LI\" respectively.\r\n         * @param {Array} selectedFormats Array of format elements (LI, P...) to remove.\r\n         * @param {Boolean} remove If true, deleted without detached.\r\n         * @returns {Object} {sc: <LI>, ec: <LI>}.\r\n         */\r\n        detachList: function (selectedFormats, remove) {\r\n            let rangeArr = {};\r\n            let listFirst = false;\r\n            let listLast = false;\r\n            let first = null;\r\n            let last = null;\r\n            const passComponent = function (current) { return !this.isComponent(current); }.bind(util);\r\n\r\n            for (let i = 0, len = selectedFormats.length, r, o, lastIndex, isList; i < len; i++) {\r\n                lastIndex = i === len - 1;\r\n                o = util.getRangeFormatElement(selectedFormats[i], passComponent);\r\n                isList = util.isList(o);\r\n                if (!r && isList) {\r\n                    r = o;\r\n                    rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                    if (i === 0) listFirst = true;\r\n                } else if (r && isList) {\r\n                    if (r !== o) {\r\n                        const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                        o = selectedFormats[i].parentNode;\r\n                        if (listFirst) {\r\n                            first = edge.sc;\r\n                            listFirst = false;\r\n                        }\r\n                        if (lastIndex) last = edge.ec;\r\n\r\n                        if (isList) {\r\n                            r = o;\r\n                            rangeArr = {r: r, f: [util.getParentElement(selectedFormats[i], 'LI')]};\r\n                            if (lastIndex) listLast = true;\r\n                        } else {\r\n                            r = null;\r\n                        }\r\n                    } else {\r\n                        rangeArr.f.push(util.getParentElement(selectedFormats[i], 'LI'));\r\n                        if (lastIndex) listLast = true;\r\n                    }\r\n                }\r\n\r\n                if (lastIndex && util.isList(r)) {\r\n                    const edge = this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, null, remove, true);\r\n                    if (listLast || len === 1) last = edge.ec;\r\n                    if (listFirst) first = edge.sc || last;\r\n                }\r\n            }\r\n\r\n            return {\r\n                sc: first,\r\n                ec: last\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Add, update, and delete nodes from selected text.\r\n         * 1. If there is a node in the \"appendNode\" argument, a node with the same tags and attributes as \"appendNode\" is added to the selection text.\r\n         * 2. If it is in the same tag, only the tag's attributes are changed without adding a tag.\r\n         * 3. If the \"appendNode\" argument is null, the node of the selection is update or remove without adding a new node.\r\n         * 4. The same style as the style attribute of the \"styleArray\" argument is deleted.\r\n         *    (Styles should be put with attribute names from css. [\"background-color\"])\r\n         * 5. The same class name as the class attribute of the \"styleArray\" argument is deleted.\r\n         *    (The class name is preceded by \".\" [\".className\"])\r\n         * 6. Use a list of styles and classes of \"appendNode\" in \"styleArray\" to avoid duplicate property values.\r\n         * 7. If a node with all styles and classes removed has the same tag name as \"appendNode\" or \"removeNodeArray\", or \"appendNode\" is null, that node is deleted.\r\n         * 8. Regardless of the style and class of the node, the tag with the same name as the \"removeNodeArray\" argument value is deleted.\r\n         * 9. If the \"strictRemove\" argument is true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         *10. It won't work if the parent node has the same class and same value style.\r\n         *    However, if there is a value in \"removeNodeArray\", it works and the text node is separated even if there is no node to replace.\r\n         * @param {Element|null} appendNode The element to be added to the selection. If it is null, only delete the node.\r\n         * @param {Array|null} styleArray The style or className attribute name Array to check (['font-size'], ['.className'], ['font-family', 'color', '.className']...])\r\n         * @param {Array|null} removeNodeArray An array of node names to remove types from, remove all formats when \"appendNode\" is null and there is an empty array or null value. (['span'], ['strong', 'em'] ...])\r\n         * @param {Boolean|null} strictRemove If true, only nodes with all styles and classes removed from the nodes of \"removeNodeArray\" are removed.\r\n         */\r\n        nodeChange: function (appendNode, styleArray, removeNodeArray, strictRemove) {\r\n            this._resetRangeToTextNode();\r\n            let range = this.getRange_addLine(this.getRange(), null);\r\n            styleArray = styleArray && styleArray.length > 0 ? styleArray : false;\r\n            removeNodeArray = removeNodeArray && removeNodeArray.length > 0 ? removeNodeArray : false;\r\n            \r\n            const isRemoveNode = !appendNode;\r\n            const isRemoveFormat = isRemoveNode && !removeNodeArray && !styleArray;\r\n            let startCon = range.startContainer;\r\n            let startOff = range.startOffset;\r\n            let endCon = range.endContainer;\r\n            let endOff = range.endOffset;\r\n\r\n            if ((isRemoveFormat && range.collapsed && util.isFormatElement(startCon.parentNode) && util.isFormatElement(endCon.parentNode)) || (startCon === endCon && startCon.nodeType === 1 && util.isNonEditable(startCon))) {\r\n                return;\r\n            }\r\n\r\n            if (range.collapsed && !isRemoveFormat) {\r\n                if (startCon.nodeType === 1 && !util.isBreak(startCon) && !util.isComponent(startCon)) {\r\n                    let afterNode = null;\r\n                    const focusNode = startCon.childNodes[startOff];\r\n\r\n                    if (focusNode) {\r\n                        if (!focusNode.nextSibling) {\r\n                            afterNode = null;\r\n                        } else {\r\n                            afterNode = util.isBreak(focusNode) ? focusNode : focusNode.nextSibling;\r\n                        }\r\n                    }\r\n\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    startCon.insertBefore(zeroWidth, afterNode);\r\n                    this.setRange(zeroWidth, 1, zeroWidth, 1);\r\n\r\n                    range = this.getRange();\r\n                    startCon = range.startContainer;\r\n                    startOff = range.startOffset;\r\n                    endCon = range.endContainer;\r\n                    endOff = range.endOffset;\r\n                }\r\n            }\r\n\r\n            if (util.isFormatElement(startCon)) {\r\n                startCon = startCon.childNodes[startOff] || startCon.firstChild;\r\n                startOff = 0;\r\n            }\r\n            if (util.isFormatElement(endCon)) {\r\n                endCon = endCon.childNodes[endOff] || endCon.lastChild;\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            if (isRemoveNode) {\r\n                appendNode = util.createElement('DIV');\r\n            }\r\n\r\n            const wRegExp = _w.RegExp;\r\n            const newNodeName = appendNode.nodeName;\r\n\r\n            /* checked same style property */\r\n            if (!isRemoveFormat && startCon === endCon && !removeNodeArray && appendNode) {\r\n                let sNode = startCon;\r\n                let checkCnt = 0;\r\n                const checkAttrs = [];\r\n                \r\n                const checkStyles = appendNode.style;\r\n                for (let i = 0, len = checkStyles.length; i < len; i++) {\r\n                    checkAttrs.push(checkStyles[i]);\r\n                }\r\n\r\n                const ckeckClasses = appendNode.classList;\r\n                for (let i = 0, len = ckeckClasses.length; i < len; i++) {\r\n                    checkAttrs.push('.' + ckeckClasses[i]);\r\n                }\r\n\r\n                if (checkAttrs.length > 0) {\r\n                    while(!util.isFormatElement(sNode) && !util.isWysiwygDiv(sNode)) {\r\n                        for (let i = 0; i < checkAttrs.length; i++) {\r\n                            if (sNode.nodeType === 1) {\r\n                                const s = checkAttrs[i];\r\n                                const classReg = /^\\./.test(s) ? new wRegExp('\\\\s*' + s.replace(/^\\./, '') + '(\\\\s+|$)', 'ig') : false;\r\n    \r\n                                const styleCheck = isRemoveNode ? !!sNode.style[s] : (!!sNode.style[s] && !!appendNode.style[s] && sNode.style[s] === appendNode.style[s]);\r\n                                const classCheck = classReg === false ? false : isRemoveNode ? !!sNode.className.match(classReg) : !!sNode.className.match(classReg) && !!appendNode.className.match(classReg);\r\n                                if (styleCheck || classCheck) {\r\n                                    checkCnt++;\r\n                                }\r\n                            }\r\n                        }\r\n                        sNode = sNode.parentNode;\r\n                    }\r\n    \r\n                    if (checkCnt >= checkAttrs.length) return;\r\n                }\r\n            }\r\n\r\n            let start = {}, end = {};\r\n            let newNode, styleRegExp = '', classRegExp = '', removeNodeRegExp = '';\r\n\r\n            if (styleArray) {\r\n                for (let i = 0, len = styleArray.length, s; i < len; i++) {\r\n                    s = styleArray[i];\r\n                    if (/^\\./.test(s)) {\r\n                        classRegExp += (classRegExp ? '|' : '\\\\s*(?:') + s.replace(/^\\./, '');\r\n                    } else {\r\n                        styleRegExp += (styleRegExp ? '|' : '(?:;|^|\\\\s)(?:') + s;\r\n                    }\r\n                }\r\n\r\n                if (styleRegExp) {\r\n                    styleRegExp += ')\\\\s*:[^;]*\\\\s*(?:;|$)';\r\n                    styleRegExp = new wRegExp(styleRegExp, 'ig');\r\n                }\r\n\r\n                if (classRegExp) {\r\n                    classRegExp += ')(?=\\\\s+|$)';\r\n                    classRegExp = new wRegExp(classRegExp, 'ig');\r\n                }\r\n            }\r\n\r\n            if (removeNodeArray) {\r\n                removeNodeRegExp = '^(?:' + removeNodeArray[0];\r\n                for (let i = 1; i < removeNodeArray.length; i++) {\r\n                    removeNodeRegExp += '|' + removeNodeArray[i];\r\n                }\r\n                removeNodeRegExp += ')$';\r\n                removeNodeRegExp = new wRegExp(removeNodeRegExp, 'i');\r\n            }\r\n\r\n            /** validation check function*/\r\n            const wBoolean = _w.Boolean;\r\n            const _removeCheck = {v: false};\r\n            const validation = function (checkNode) {\r\n                const vNode = checkNode.cloneNode(false);\r\n\r\n                // all path\r\n                if (vNode.nodeType === 3 || util.isBreak(vNode)) return vNode;\r\n                // all remove\r\n                if (isRemoveFormat) return null;\r\n\r\n                // remove node check\r\n                const tagRemove = (!removeNodeRegExp && isRemoveNode) || (removeNodeRegExp && removeNodeRegExp.test(vNode.nodeName));\r\n\r\n                // tag remove\r\n                if (tagRemove && !strictRemove) {\r\n                    _removeCheck.v = true;\r\n                    return null;\r\n                }\r\n\r\n                // style regexp\r\n                const originStyle = vNode.style.cssText;\r\n                let style = '';\r\n                if (styleRegExp && originStyle.length > 0) {\r\n                    style = originStyle.replace(styleRegExp, '').trim();\r\n                    if (style !== originStyle) _removeCheck.v = true;\r\n                }\r\n\r\n                // class check\r\n                const originClasses = vNode.className;\r\n                let classes = '';\r\n                if (classRegExp && originClasses.length > 0) {\r\n                    classes = originClasses.replace(classRegExp, '').trim();\r\n                    if (classes !== originClasses) _removeCheck.v = true;\r\n                }\r\n\r\n                // remove only\r\n                if (isRemoveNode) {\r\n                    if ((classRegExp || !originClasses) && (styleRegExp || !originStyle) && !style && !classes && tagRemove) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n                }\r\n\r\n                // change\r\n                if (style || classes || vNode.nodeName !== newNodeName || (wBoolean(styleRegExp) !== wBoolean(originStyle)) || (wBoolean(classRegExp) !== wBoolean(originClasses))) {\r\n                    if (styleRegExp && originStyle.length > 0) vNode.style.cssText = style;\r\n                    if (!vNode.style.cssText) {\r\n                        vNode.removeAttribute('style');\r\n                    }\r\n\r\n                    if (classRegExp && originClasses.length > 0) vNode.className = classes.trim();\r\n                    if (!vNode.className.trim()) {\r\n                        vNode.removeAttribute('class');\r\n                    }\r\n\r\n                    if (!vNode.style.cssText && !vNode.className && (vNode.nodeName === newNodeName || tagRemove)) {\r\n                        _removeCheck.v = true;\r\n                        return null;\r\n                    }\r\n\r\n                    return vNode;\r\n                }\r\n\r\n                _removeCheck.v = true;\r\n                return null;\r\n            };\r\n\r\n            // get line nodes\r\n            const lineNodes = this.getSelectedElements(null);\r\n            range = this.getRange();\r\n            startCon = range.startContainer;\r\n            startOff = range.startOffset;\r\n            endCon = range.endContainer;\r\n            endOff = range.endOffset;\r\n\r\n            if (!util.getFormatElement(startCon, null)) {\r\n                startCon = util.getChildElement(lineNodes[0], function (current) { return current.nodeType === 3; }, false);\r\n                startOff = 0;\r\n            }\r\n\r\n            if (!util.getFormatElement(endCon, null)) {\r\n                endCon = util.getChildElement(lineNodes[lineNodes.length - 1], function (current) { return current.nodeType === 3; }, false);\r\n                endOff = endCon.textContent.length;\r\n            }\r\n\r\n            \r\n            const oneLine = util.getFormatElement(startCon, null) === util.getFormatElement(endCon, null);\r\n            const endLength = lineNodes.length - (oneLine ? 0 : 1);\r\n\r\n            // node Changes\r\n            newNode = appendNode.cloneNode(false);\r\n\r\n            const isRemoveAnchor = isRemoveFormat || (isRemoveNode && (function (arr) {\r\n                for (let n = 0, len = arr.length; n < len; n++) {\r\n                    if (util._isMaintainedNode(arr[n]) || util._isSizeNode(arr[n])) return true;\r\n                }\r\n                return false;\r\n            })(removeNodeArray));\r\n\r\n            const isSizeNode = util._isSizeNode(newNode);\r\n            const _getMaintainedNode = this._util_getMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n            const _isMaintainedNode = this._util_isMaintainedNode.bind(util, isRemoveAnchor, isSizeNode);\r\n\r\n            // one line\r\n            if (oneLine) {\r\n                const newRange = this._nodeChange_oneLine(lineNodes[0], newNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, range.collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                start.container = newRange.startContainer;\r\n                start.offset = newRange.startOffset;\r\n                end.container = newRange.endContainer;\r\n                end.offset = newRange.endOffset;\r\n                if (start.container === end.container && util.onlyZeroWidthSpace(start.container)) {\r\n                    start.offset = end.offset = 1;\r\n                }\r\n                this._setCommonListStyle(newRange.ancestor, null);\r\n            } else { // multi line \r\n                // end\r\n                if (endLength > 0) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    end = this._nodeChange_endLine(lineNodes[endLength], newNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode);\r\n                }\r\n\r\n                // mid\r\n                for (let i = endLength - 1, newRange; i > 0; i--) {\r\n                    newNode = appendNode.cloneNode(false);\r\n                    newRange = this._nodeChange_middleLine(lineNodes[i], newNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, end.container);\r\n                    if (newRange.endContainer) {\r\n                        end.ancestor = null;\r\n                        end.container = newRange.endContainer;\r\n                    }\r\n                    this._setCommonListStyle(newRange.ancestor, null);\r\n                }\r\n\r\n                // start\r\n                newNode = appendNode.cloneNode(false);\r\n                start = this._nodeChange_startLine(lineNodes[0], newNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, end.container);\r\n\r\n                if (start.endContainer) {\r\n                    end.ancestor = null;\r\n                    end.container = start.endContainer;\r\n                }\r\n\r\n                if (endLength <= 0) {\r\n                    end = start;\r\n                } else if (!end.container) {\r\n                    end.ancestor = null;\r\n                    end.container = start.container;\r\n                    end.offset = start.container.textContent.length;\r\n                }\r\n\r\n                this._setCommonListStyle(start.ancestor, null);\r\n                this._setCommonListStyle(end.ancestor || util.getFormatElement(end.container), null);\r\n            }\r\n\r\n            // set range\r\n            this.controllersOff();\r\n            this.setRange(start.container, start.offset, end.container, end.offset);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description If certain styles are applied to all child nodes of the list cell, the style of the list cell is also changed. (bold, color, size)\r\n         * @param {Element} el List cell element. <li>\r\n         * @param {Element|null} child Variable for recursive call. (\"null\" on the first call)\r\n         * @private\r\n         */\r\n        _setCommonListStyle: function (el, child) {\r\n            if (!util.isListCell(el)) return;\r\n            if (!child) el.removeAttribute('style');\r\n            \r\n            const children = util.getArrayItem((child || el).childNodes, function (current) { return !util.isBreak(current) && !util.onlyZeroWidthSpace(current.textContent.trim()); }, true);\r\n            if (children[0] && children.length === 1){\r\n                child = children[0];\r\n                if (!child || child.nodeType !== 1) return;\r\n\r\n                const childStyle = child.style;\r\n                const elStyle = el.style;\r\n\r\n                // bold\r\n                if (/STRONG/i.test(child.nodeName)) elStyle.fontWeight = 'bold'; // bold\r\n                else if (childStyle.fontWeight) elStyle.fontWeight = childStyle.fontWeight;\r\n\r\n                // styles\r\n                if (childStyle.color) elStyle.color = childStyle.color; // color\r\n                if (childStyle.fontSize) elStyle.fontSize = childStyle.fontSize; // size\r\n\r\n                this._setCommonListStyle(el, child);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Strip remove node\r\n         * @param {Node} removeNode The remove node\r\n         * @private\r\n         */\r\n        _stripRemoveNode: function (removeNode) {\r\n            const element = removeNode.parentNode;\r\n            if (!removeNode || removeNode.nodeType === 3 || !element) return;\r\n            \r\n            const children = removeNode.childNodes;\r\n            while (children[0]) {\r\n                element.insertBefore(children[0], removeNode);\r\n            }\r\n\r\n            element.removeChild(removeNode);\r\n        },\r\n\r\n        /**\r\n         * @description Return the parent maintained tag. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_getMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove) return null;\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) || (!_isSizeNode ? this.getParentElement(element, this._isSizeNode.bind(this)) : null);\r\n        },\r\n\r\n        /**\r\n         * @description Check if element is a tag that should be persisted. (bind and use a util object)\r\n         * @param {Element} element Element\r\n         * @returns {Element}\r\n         * @private\r\n         */\r\n        _util_isMaintainedNode: function (_isRemove, _isSizeNode, element) {\r\n            if (!element || _isRemove || element.nodeType !== 1) return false;\r\n            const anchor = this._isMaintainedNode(element);\r\n            return this.getParentElement(element, this._isMaintainedNode.bind(this)) ? anchor : (anchor || (!_isSizeNode ? this._isSizeNode(element) : false));\r\n        },\r\n\r\n        /**\r\n         * @description wraps text nodes of line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Boolean} collapsed range.collapsed\r\n         * @returns {{ancestor: *, startContainer: *, startOffset: *, endContainer: *, endOffset: *}}\r\n         * @private\r\n         */\r\n        _nodeChange_oneLine: function (element, newInnerNode, validation, startCon, startOff, endCon, endOff, isRemoveFormat, isRemoveNode, collapsed, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon === endCon.parentNode && parentCon.nodeName === newInnerNode.nodeName) {\r\n                if (util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff)) && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                    const children = parentCon.childNodes;\r\n                    let sameTag = true;\r\n    \r\n                    for (let i = 0, len = children.length, c, s, e, z; i < len; i++) {\r\n                        c = children[i];\r\n                        z = !util.onlyZeroWidthSpace(c);\r\n                        if (c === startCon) {\r\n                            s = true;\r\n                            continue;\r\n                        }\r\n                        if (c === endCon) {\r\n                            e = true;\r\n                            continue;\r\n                        }\r\n                        if ((!s && z) || (s && e && z)) {\r\n                            sameTag = false;\r\n                            break;\r\n                        }\r\n                    }\r\n    \r\n                    if (sameTag) {\r\n                        util.copyTagAttributes(parentCon, newInnerNode);\r\n        \r\n                        return {\r\n                            startContainer: startCon,\r\n                            startOffset: startOff,\r\n                            endContainer: endCon,\r\n                            endOffset: endOff\r\n                        };\r\n                    }\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n            const isSameNode = startCon === endCon;\r\n            let startContainer = startCon;\r\n            let startOffset = startOff;\r\n            let endContainer = endCon;\r\n            let endOffset = endOff;\r\n            let startPass = false;\r\n            let endPass = false;\r\n            let pCurrent, newNode, appendNode, cssText, anchorNode;\r\n\r\n            const wRegExp = _w.RegExp;\r\n            function checkCss (vNode) {\r\n                const regExp = new wRegExp('(?:;|^|\\\\s)(?:' + cssText + 'null)\\\\s*:[^;]*\\\\s*(?:;|$)', 'ig');\r\n                let style = '';\r\n\r\n                if (regExp && vNode.style.cssText.length > 0) {\r\n                    style = regExp.test(vNode.style.cssText);\r\n                }\r\n            \r\n                return !style;\r\n            }\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n                    let cloneNode;\r\n\r\n                    // startContainer\r\n                    if (!startPass && child === startContainer) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(0, startOffset));\r\n                        const textNode = util.createTextNode(startContainer.nodeType === 1 ? '' : startContainer.substringData(startOffset, \r\n                                isSameNode ? \r\n                                (endOffset >= startOffset ? endOffset - startOffset : startContainer.data.length - startOffset) : \r\n                                startContainer.data.length - startOffset)\r\n                            );\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== line && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        newInnerNode.appendChild(childNode);\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        if (anchorNode && !_getMaintainedNode(endContainer)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        startContainer = textNode;\r\n                        startOffset = 0;\r\n                        startPass = true;\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(startContainer);\r\n                        if (!isSameNode) continue;\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!endPass && child === endContainer) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(endContainer.nodeType === 1 ? '' : endContainer.substringData(endOffset, (endContainer.length - endOffset)));\r\n                        const textNode = util.createTextNode(isSameNode || endContainer.nodeType === 1 ? '' : endContainer.substringData(0, endOffset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            newNode = child;\r\n                            cssText = '';\r\n                            pCurrent = [];\r\n                            const anchors = [];\r\n                            while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                                if (newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                    if (_isMaintainedNode(newNode)) anchors.push(newNode.cloneNode(false));\r\n                                    else pCurrent.push(newNode.cloneNode(false));\r\n                                    cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                                }\r\n                                newNode = newNode.parentNode;\r\n                            }\r\n                            pCurrent = pCurrent.concat(anchors);\r\n\r\n                            cloneNode = appendNode = newNode = pCurrent.pop() || afterNode;\r\n                            while (pCurrent.length > 0) {\r\n                                newNode = pCurrent.pop();\r\n                                appendNode.appendChild(newNode);\r\n                                appendNode = newNode;\r\n                            }\r\n\r\n                            pNode.appendChild(cloneNode);\r\n                            newNode.textContent = afterNode.data;\r\n                        }\r\n\r\n                        if (anchorNode && cloneNode) {\r\n                            const afterAnchorNode = _getMaintainedNode(cloneNode);\r\n                            if (afterAnchorNode) {\r\n                                anchorNode = afterAnchorNode;\r\n                            }\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        while (newNode !== pNode && newNode !== el && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1 && checkCss(newNode)) {\r\n                                pCurrent.push(vNode);\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || textNode;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            newInnerNode.appendChild(childNode);\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.appendChild(anchorNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                        }\r\n\r\n                        endContainer = textNode;\r\n                        endOffset = textNode.data.length;\r\n                        endPass = true;\r\n\r\n                        if (!isRemoveFormat && collapsed) {\r\n                            newInnerNode = textNode;\r\n                            textNode.textContent = util.zeroWidthSpace;\r\n                        }\r\n\r\n                        if (newNode !== textNode) newNode.appendChild(endContainer);\r\n                        continue;\r\n                    }\r\n\r\n                    // other\r\n                    if (startPass) {\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                pNode.appendChild(child.cloneNode(true));\r\n                                if (!collapsed) {\r\n                                    newInnerNode = newInnerNode.cloneNode(false);\r\n                                    pNode.appendChild(newInnerNode);\r\n                                    nNodeArray.push(newInnerNode);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        cssText = '';\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = endPass ? newNode.cloneNode(false) : validation(newNode);\r\n                            if (newNode.nodeType === 1 && !util.isBreak(child) && vNode && checkCss(newNode)) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                                cssText += newNode.style.cssText.substr(0, newNode.style.cssText.indexOf(':')) + '|';\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n                        \r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!endPass && !anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (childNode === child) {\r\n                            if (!endPass) ancestor = newInnerNode;\r\n                            else ancestor = pNode;\r\n                        } else if (endPass) {\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    cloneNode = child.cloneNode(false);\r\n                    ancestor.appendChild(cloneNode);\r\n                    if (child.nodeType === 1 && !util.isBreak(child)) coverNode = cloneNode;\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    startContainer: startCon,\r\n                    startOffset: startOff,\r\n                    endContainer: endCon,\r\n                    endOffset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    let textNode, textNode_s, textNode_e;\r\n                    \r\n                    if (collapsed) {\r\n                        textNode = util.createTextNode(util.zeroWidthSpace);\r\n                        pNode.replaceChild(textNode, removeNode);\r\n                    } else {\r\n                        const rChildren = removeNode.childNodes;\r\n                        textNode_s = rChildren[0];\r\n                        while (rChildren[0]) {\r\n                            textNode_e = rChildren[0];\r\n                            pNode.insertBefore(textNode_e, removeNode);\r\n                        }\r\n                        util.removeItem(removeNode);\r\n                    }\r\n\r\n                    if (i === 0) {\r\n                        if (collapsed) {\r\n                            startContainer = endContainer = textNode;\r\n                        } else {\r\n                            startContainer = textNode_s;\r\n                            endContainer = textNode_e;\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                if (isRemoveNode) {\r\n                    for (let i = 0; i < nNodeArray.length; i++) {\r\n                        this._stripRemoveNode(nNodeArray[i]);\r\n                    }\r\n                }\r\n                \r\n                if (collapsed) {\r\n                    startContainer = endContainer = newInnerNode;\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n            if (collapsed) {\r\n                startOffset = startContainer.textContent.length;\r\n                endOffset = endContainer.textContent.length;\r\n            }\r\n\r\n            // endContainer reset\r\n            const endConReset = isRemoveFormat || endContainer.textContent.length === 0;\r\n\r\n            if (!util.isBreak(endContainer) && endContainer.textContent.length === 0) {\r\n                util.removeItem(endContainer);\r\n                endContainer = startContainer;\r\n            }\r\n            endOffset = endConReset ? endContainer.textContent.length : endOffset;\r\n\r\n            // node change\r\n            const newStartOffset = {s: 0, e: 0};\r\n            const startPath = util.getNodePath(startContainer, pNode, newStartOffset);\r\n\r\n            const mergeEndCon = !endContainer.parentNode;\r\n            if (mergeEndCon) endContainer = startContainer;\r\n            const newEndOffset = {s: 0, e: 0};\r\n            const endPath = util.getNodePath(endContainer , pNode, (!mergeEndCon && !endConReset) ? newEndOffset : null);\r\n\r\n            startOffset += newStartOffset.s;\r\n            endOffset = (collapsed ? startOffset : mergeEndCon ? startContainer.textContent.length : endConReset ? endOffset + newStartOffset.s : endOffset + newEndOffset.s);\r\n\r\n            // tag merge\r\n            const newOffsets = util.mergeSameTags(pNode, [startPath, endPath], true);\r\n\r\n            element.parentNode.replaceChild(pNode, element);\r\n\r\n            startContainer = util.getNodeFromPath(startPath, pNode);\r\n            endContainer = util.getNodeFromPath(endPath, pNode);\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                startContainer: startContainer,\r\n                startOffset: startOffset + newOffsets[0],\r\n                endContainer: endContainer,\r\n                endOffset: endOffset + newOffsets[1]\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps first line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} startCon The startContainer property of the selection object.\r\n         * @param {Number} startOff The startOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {null|Node} If end container is renewed, returned renewed node\r\n         * @returns {Object} { ancestor, container, offset, endContainer }\r\n         * @private\r\n         */\r\n        _nodeChange_startLine: function (element, newInnerNode, validation, startCon, startOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode, _endContainer) {\r\n            // not add tag\r\n            let parentCon = startCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n\r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.nextSibling && util.onlyZeroWidthSpace(startCon.textContent.slice(0, startOff))) {\r\n                let sameTag = true;\r\n                let s = startCon.previousSibling;\r\n                while (s) {\r\n                    if (!util.onlyZeroWidthSpace(s)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    s = s.previousSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: startCon,\r\n                        offset: startOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = startCon;\r\n            let offset = startOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                cloneChild = child.cloneNode(true);\r\n                                pNode.appendChild(cloneChild);\r\n                                pNode.appendChild(newInnerNode);\r\n                                nNodeArray.push(newInnerNode);\r\n\r\n                                // end container\r\n                                if (_endContainer && child.contains(_endContainer)) {\r\n                                    const endPath = util.getNodePath(_endContainer, child);\r\n                                    _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                                }\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n                        \r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.appendChild(childNode);\r\n                            ancestor = !_isMaintainedNode(newNode) ? newNode : newInnerNode;\r\n                            nNodeArray.push(newInnerNode);\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.appendChild(newInnerNode);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // startContainer\r\n                    if (!passNode && child === container) {\r\n                        let line = pNode;\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const prevNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n\r\n                        if (anchorNode) {\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== line) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== line) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.appendChild(a);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(prevNode)) {\r\n                            ancestor.appendChild(prevNode);\r\n                        }\r\n\r\n                        const prevAnchorNode = _getMaintainedNode(ancestor);\r\n                        if (!!prevAnchorNode) anchorNode = prevAnchorNode;\r\n                        if (anchorNode) line = anchorNode;\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== line && newNode !== null) {\r\n                            vNode = validation(newNode);\r\n                            if (newNode.nodeType === 1 && vNode) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.appendChild(childNode);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        line.appendChild(newInnerNode);\r\n\r\n                        container = textNode;\r\n                        offset = 0;\r\n                        passNode = true;\r\n\r\n                        ancestor.appendChild(container);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.appendChild(vNode);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: startCon,\r\n                    offset: startOff,\r\n                    endContainer: _endContainer\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n\r\n                    const rChildren = removeNode.childNodes;\r\n                    const textNode = rChildren[0];\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === 0) container = textNode;\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = 0;\r\n                }\r\n\r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset,\r\n                endContainer: _endContainer\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description wraps mid lines selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @param {Node} _endContainer Offset node of last line already modified (end.container)\r\n         * @returns {Object} { ancestor, endContainer: \"If end container is renewed, returned renewed node\" }\r\n         * @private\r\n         */\r\n        _nodeChange_middleLine: function (element, newInnerNode, validation, isRemoveFormat, isRemoveNode, _removeCheck, _endContainer) {\r\n            // not add tag\r\n            if (!isRemoveNode) {\r\n                // end container path\r\n                let endPath = null;\r\n                if (_endContainer && element.contains(_endContainer)) endPath = util.getNodePath(_endContainer, element);\r\n\r\n                const tempNode = element.cloneNode(true);\r\n                const newNodeName = newInnerNode.nodeName;\r\n                const newCssText = newInnerNode.style.cssText;\r\n                const newClass = newInnerNode.className;\r\n\r\n                let children = tempNode.childNodes;\r\n                let i = 0, len = children.length;\r\n                for (let child; i < len; i++) {\r\n                    child = children[i];\r\n                    if (child.nodeType === 3) break;\r\n                    if (child.nodeName === newNodeName) {\r\n                        child.style.cssText += newCssText;\r\n                        util.addClass(child, newClass);\r\n                    } else if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        continue;\r\n                    } else if (len === 1) {\r\n                        children = child.childNodes;\r\n                        len = children.length;\r\n                        i = -1;\r\n                        continue;\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (len > 0 && i === len) {\r\n                    element.innerHTML = tempNode.innerHTML;\r\n                    return {\r\n                        ancestor: element,\r\n                        endContainer: endPath ? util.getNodeFromPath(endPath, element) : null\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const pNode = element.cloneNode(false);\r\n            const nNodeArray = [newInnerNode];\r\n            let noneChange = true;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = 0, len = childNodes.length, vNode, cloneChild; i < len; i++) {\r\n                    let child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (!util.isBreak(child) && util._isIgnoreNodeChange(child)) {\r\n                        if (newInnerNode.childNodes.length > 0) {\r\n                            pNode.appendChild(newInnerNode);\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                        }\r\n                        \r\n                        cloneChild = child.cloneNode(true);\r\n                        pNode.appendChild(cloneChild);\r\n                        pNode.appendChild(newInnerNode);\r\n                        nNodeArray.push(newInnerNode);\r\n                        ancestor = newInnerNode;\r\n\r\n                        // end container\r\n                        if (_endContainer && child.contains(_endContainer)) {\r\n                            const endPath = util.getNodePath(_endContainer, child);\r\n                            _endContainer = util.getNodeFromPath(endPath, cloneChild);\r\n                        }\r\n\r\n                        continue;\r\n                    } else {\r\n                        vNode = validation(child);\r\n                        if (vNode) {\r\n                            noneChange = false;\r\n                            ancestor.appendChild(vNode);\r\n                            if (child.nodeType === 1) coverNode = vNode;\r\n                        }\r\n                    }\r\n\r\n                    if (!util.isBreak(child)) recursionFunc(child, coverNode);\r\n                }\r\n            })(element, newInnerNode);\r\n\r\n            // not remove tag\r\n            if (noneChange || (isRemoveNode && !isRemoveFormat && !_removeCheck.v)) return { ancestor: element, endContainer: _endContainer };\r\n\r\n            pNode.appendChild(newInnerNode);\r\n\r\n            if (isRemoveFormat && isRemoveNode) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    while (rChildren[0]) {\r\n                        pNode.insertBefore(rChildren[0], removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            util.removeEmptyNode(pNode, newInnerNode);\r\n            util.mergeSameTags(pNode, null, true);\r\n\r\n            // node change\r\n            element.parentNode.replaceChild(pNode, element);\r\n            return { ancestor: pNode, endContainer: _endContainer };\r\n        },\r\n\r\n        /**\r\n         * @description wraps last line selected text.\r\n         * @param {Element} element The node of the line that contains the selected text node.\r\n         * @param {Element} newInnerNode The dom that will wrap the selected text area\r\n         * @param {Function} validation Check if the node should be stripped.\r\n         * @param {Node} endCon The endContainer property of the selection object.\r\n         * @param {Number} endOff The endOffset property of the selection object.\r\n         * @param {Boolean} isRemoveFormat Is the remove all formats command?\r\n         * @param {Boolean} isRemoveNode \"newInnerNode\" is remove node?\r\n         * @returns {Object} { ancestor, container, offset }\r\n         * @private\r\n         */\r\n        _nodeChange_endLine: function (element, newInnerNode, validation, endCon, endOff, isRemoveFormat, isRemoveNode, _removeCheck, _getMaintainedNode, _isMaintainedNode) {\r\n            // not add tag\r\n            let parentCon = endCon.parentNode;\r\n            while (!parentCon.nextSibling && !parentCon.previousSibling && !util.isFormatElement(parentCon.parentNode) && !util.isWysiwygDiv(parentCon.parentNode)) {\r\n                if (parentCon.nodeName === newInnerNode.nodeName) break;\r\n                parentCon = parentCon.parentNode;\r\n            }\r\n            \r\n            if (!isRemoveNode && parentCon.nodeName === newInnerNode.nodeName && !util.isFormatElement(parentCon) && !parentCon.previousSibling && util.onlyZeroWidthSpace(endCon.textContent.slice(endOff))) {\r\n                let sameTag = true;\r\n                let e = endCon.nextSibling;\r\n                while (e) {\r\n                    if (!util.onlyZeroWidthSpace(e)) {\r\n                        sameTag = false;\r\n                        break;\r\n                    }\r\n                    e = e.nextSibling;\r\n                }\r\n\r\n                if (sameTag) {\r\n                    util.copyTagAttributes(parentCon, newInnerNode);\r\n    \r\n                    return {\r\n                        ancestor: element,\r\n                        container: endCon,\r\n                        offset: endOff\r\n                    };\r\n                }\r\n            }\r\n\r\n            // add tag\r\n            _removeCheck.v = false;\r\n            const el = element;\r\n            const nNodeArray = [newInnerNode];\r\n            const pNode = element.cloneNode(false);\r\n\r\n            let container = endCon;\r\n            let offset = endOff;\r\n            let passNode = false;\r\n            let pCurrent, newNode, appendNode, anchorNode;\r\n\r\n            (function recursionFunc(current, ancestor) {\r\n                const childNodes = current.childNodes;\r\n\r\n                for (let i = childNodes.length - 1, vNode; 0 <= i; i--) {\r\n                    const child = childNodes[i];\r\n                    if (!child) continue;\r\n                    let coverNode = ancestor;\r\n\r\n                    if (passNode && !util.isBreak(child)) {\r\n                        if (child.nodeType === 1) {\r\n                            if (util._isIgnoreNodeChange(child)) {\r\n                                newInnerNode = newInnerNode.cloneNode(false);\r\n                                const cloneChild = child.cloneNode(true);\r\n                                pNode.insertBefore(cloneChild, ancestor);\r\n                                pNode.insertBefore(newInnerNode, cloneChild);\r\n                                nNodeArray.push(newInnerNode);\r\n                            } else {\r\n                                recursionFunc(child, child);\r\n                            }\r\n                            continue;\r\n                        }\r\n\r\n                        newNode = child;\r\n                        pCurrent = [];\r\n                        const anchors = [];\r\n                        while (newNode.parentNode !== null && newNode !== el && newNode !== newInnerNode) {\r\n                            vNode = validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                if (_isMaintainedNode(newNode)) {\r\n                                    if (!anchorNode) anchors.push(vNode);\r\n                                } else {\r\n                                    pCurrent.push(vNode);\r\n                                }\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n                        pCurrent = pCurrent.concat(anchors);\r\n\r\n                        const isTopNode = pCurrent.length > 0;\r\n                        const childNode = pCurrent.pop() || child;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (_isMaintainedNode(newInnerNode.parentNode) && !_isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!anchorNode && _isMaintainedNode(childNode)) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            const aChildren = childNode.childNodes;\r\n                            for (let a = 0, aLen = aChildren.length; a < aLen; a++) {\r\n                                newInnerNode.appendChild(aChildren[a]);\r\n                            }\r\n                            childNode.appendChild(newInnerNode);\r\n                            pNode.insertBefore(childNode, pNode.firstChild);\r\n                            nNodeArray.push(newInnerNode);\r\n                            if (newInnerNode.children.length > 0) ancestor = newNode;\r\n                            else ancestor = newInnerNode;\r\n                        } else if (isTopNode) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (anchorNode && child.nodeType === 3) {\r\n                            if (_getMaintainedNode(child)) {\r\n                                const ancestorAnchorNode = util.getParentElement(ancestor, function (current) {return this._isMaintainedNode(current.parentNode) || current.parentNode === pNode;}.bind(util));\r\n                                anchorNode.appendChild(ancestorAnchorNode);\r\n                                newInnerNode = ancestorAnchorNode.cloneNode(false);\r\n                                nNodeArray.push(newInnerNode);\r\n                                pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                            } else {\r\n                                anchorNode = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // endContainer\r\n                    if (!passNode && child === container) {\r\n                        anchorNode = _getMaintainedNode(child);\r\n                        const afterNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(offset, (container.length - offset)));\r\n                        const textNode = util.createTextNode(container.nodeType === 1 ? '' : container.substringData(0, offset));\r\n\r\n                        if (anchorNode) {\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                            const a = _getMaintainedNode(ancestor);\r\n                            if (a && a.parentNode !== pNode) {\r\n                                let m = a;\r\n                                let p = null;\r\n                                while (m.parentNode !== pNode) {\r\n                                    ancestor = p = m.parentNode.cloneNode(false);\r\n                                    while(m.childNodes[0]) {\r\n                                        p.appendChild(m.childNodes[0]);\r\n                                    }\r\n                                    m.appendChild(p);\r\n                                    m = m.parentNode;\r\n                                }\r\n                                m.parentNode.insertBefore(a, m.parentNode.firstChild);\r\n                            }\r\n                            anchorNode = anchorNode.cloneNode(false);\r\n                        } else if (_isMaintainedNode(newInnerNode.parentNode) && !anchorNode) {\r\n                            newInnerNode = newInnerNode.cloneNode(false);\r\n                            pNode.appendChild(newInnerNode);\r\n                            nNodeArray.push(newInnerNode);\r\n                        }\r\n\r\n                        if (!util.onlyZeroWidthSpace(afterNode)) {\r\n                            ancestor.insertBefore(afterNode, ancestor.firstChild);\r\n                        }\r\n\r\n                        newNode = ancestor;\r\n                        pCurrent = [];\r\n                        while (newNode !== pNode && newNode !== null) {\r\n                            vNode = _isMaintainedNode(newNode) ? null : validation(newNode);\r\n                            if (vNode && newNode.nodeType === 1) {\r\n                                pCurrent.push(vNode);\r\n                            }\r\n                            newNode = newNode.parentNode;\r\n                        }\r\n\r\n                        const childNode = pCurrent.pop() || ancestor;\r\n                        appendNode = newNode = childNode;\r\n                        while (pCurrent.length > 0) {\r\n                            newNode = pCurrent.pop();\r\n                            appendNode.appendChild(newNode);\r\n                            appendNode = newNode;\r\n                        }\r\n\r\n                        if (childNode !== ancestor) {\r\n                            newInnerNode.insertBefore(childNode, newInnerNode.firstChild);\r\n                            ancestor = newNode;\r\n                        } else {\r\n                            ancestor = newInnerNode;\r\n                        }\r\n\r\n                        if (util.isBreak(child)) newInnerNode.appendChild(child.cloneNode(false));\r\n                        \r\n                        if (anchorNode) {\r\n                            anchorNode.insertBefore(newInnerNode, anchorNode.firstChild);\r\n                            pNode.insertBefore(anchorNode, pNode.firstChild);\r\n                            anchorNode = null;\r\n                        } else {\r\n                            pNode.insertBefore(newInnerNode, pNode.firstChild);\r\n                        }\r\n\r\n                        container = textNode;\r\n                        offset = textNode.data.length;\r\n                        passNode = true;\r\n\r\n                        ancestor.insertBefore(container, ancestor.firstChild);\r\n                        continue;\r\n                    }\r\n\r\n                    vNode = !passNode ? child.cloneNode(false) : validation(child);\r\n                    if (vNode) {\r\n                        ancestor.insertBefore(vNode, ancestor.firstChild);\r\n                        if (child.nodeType === 1 && !util.isBreak(child)) coverNode = vNode;\r\n                    }\r\n\r\n                    recursionFunc(child, coverNode);\r\n                }\r\n            })(element, pNode);\r\n\r\n            // not remove tag\r\n            if (isRemoveNode && !isRemoveFormat && !_removeCheck.v) {\r\n                return {\r\n                    ancestor: element,\r\n                    container: endCon,\r\n                    offset: endOff\r\n                };\r\n            }\r\n\r\n            isRemoveFormat = isRemoveFormat && isRemoveNode;\r\n\r\n            if (isRemoveFormat) {\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    let removeNode = nNodeArray[i];\r\n                    \r\n                    const rChildren = removeNode.childNodes;\r\n                    let textNode = null;\r\n                    while (rChildren[0]) {\r\n                        textNode = rChildren[0];\r\n                        pNode.insertBefore(textNode, removeNode);\r\n                    }\r\n                    util.removeItem(removeNode);\r\n\r\n                    if (i === nNodeArray.length - 1) {\r\n                        container = textNode;\r\n                        offset = textNode.textContent.length;\r\n                    }\r\n                }\r\n            } else if (isRemoveNode) {\r\n                newInnerNode = newInnerNode.firstChild;\r\n                for (let i = 0; i < nNodeArray.length; i++) {\r\n                    this._stripRemoveNode(nNodeArray[i]);\r\n                }\r\n            }\r\n\r\n            if (!isRemoveFormat && pNode.childNodes.length === 0) {\r\n                if (element.childNodes) {\r\n                    container = element.childNodes[0];\r\n                } else {\r\n                    container = util.createTextNode(util.zeroWidthSpace);\r\n                    element.appendChild(container);\r\n                }\r\n            } else {\r\n                if (!isRemoveNode && newInnerNode.textContent.length === 0) {\r\n                    util.removeEmptyNode(pNode, null);\r\n                    return {\r\n                        ancestor: null,\r\n                        container: null,\r\n                        offset: 0\r\n                    };\r\n                }\r\n\r\n                util.removeEmptyNode(pNode, newInnerNode);\r\n\r\n                if (util.onlyZeroWidthSpace(pNode.textContent)) {\r\n                    container = pNode.firstChild;\r\n                    offset = container.textContent.length;\r\n                } else if (util.onlyZeroWidthSpace(container)) {\r\n                    container = newInnerNode;\r\n                    offset = 1;\r\n                }\r\n                \r\n                // node change\r\n                const offsets = {s: 0, e: 0};\r\n                const path = util.getNodePath(container, pNode, offsets);\r\n                offset += offsets.s;\r\n\r\n                // tag merge\r\n                const newOffsets = util.mergeSameTags(pNode, [path], true);\r\n\r\n                element.parentNode.replaceChild(pNode, element);\r\n\r\n                container = util.getNodeFromPath(path, pNode);\r\n                offset += newOffsets[0];\r\n            }\r\n\r\n            return {\r\n                ancestor: pNode,\r\n                container: container,\r\n                offset: offset\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Run plugin calls and basic commands.\r\n         * @param {String} command Command string\r\n         * @param {String} display Display type string ('command', 'submenu', 'dialog', 'container')\r\n         * @param {Element} target The element of command button\r\n         */\r\n        actionCall: function (command, display, target) {\r\n            // call plugins\r\n            if (display) {\r\n                if (/more/i.test(display) && target !== this._moreLayerActiveButton) {\r\n                    const layer = context.element.toolbar.querySelector('.' + command);\r\n                    if (layer) {\r\n                        if (this._moreLayerActiveButton) {\r\n                            (context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'))).style.display = 'none';\r\n                            util.removeClass(this._moreLayerActiveButton, 'on');\r\n                        }\r\n                        util.addClass(target, 'on');\r\n                        this._moreLayerActiveButton = target;\r\n                        layer.style.display = 'block';\r\n\r\n                        event._showToolbarBalloon();\r\n                        event._showToolbarInline();\r\n                    }\r\n                    return;\r\n                } else if (/submenu/.test(display) && (this._menuTray[command] === null || target !== this.submenuActiveButton)) {\r\n                    this.callPlugin(command, this.submenuOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/dialog/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this), target);\r\n                    return;\r\n                } else if (/command/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].action.bind(this), target);\r\n                } else if (/container/.test(display) && (this._menuTray[command] === null || target !== this.containerActiveButton)) {\r\n                    this.callPlugin(command, this.containerOn.bind(this, target), target);\r\n                    return;\r\n                } else if (/fileBrowser/.test(display)) {\r\n                    this.callPlugin(command, this.plugins[command].open.bind(this, null), target);\r\n                }\r\n            } // default command\r\n            else if (command) {\r\n                this.commandHandler(target, command);\r\n            }\r\n\r\n            if (/more/i.test(display)) {\r\n                const layer = context.element.toolbar.querySelector('.' + this._moreLayerActiveButton.getAttribute('data-command'));\r\n                if (layer) {\r\n                    util.removeClass(this._moreLayerActiveButton, 'on');\r\n                    this._moreLayerActiveButton = null;\r\n                    layer.style.display = 'none';\r\n\r\n                    event._showToolbarBalloon();\r\n                    event._showToolbarInline();\r\n                }\r\n            } else if (/submenu/.test(display)) {\r\n                this.submenuOff();\r\n            } else {\r\n                this.submenuOff();\r\n                this.containerOff();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Execute command of command button(All Buttons except submenu and dialog)\r\n         * (selectAll, codeView, fullScreen, indent, outdent, undo, redo, removeFormat, print, preview, showBlocks, save, bold, underline, italic, strike, subscript, superscript)\r\n         * @param {Element|null} target The element of command button\r\n         * @param {String} command Property of command button (data-value)\r\n         */\r\n        commandHandler: function (target, command) {\r\n            switch (command) {\r\n                case 'selectAll':\r\n                    const wysiwyg = context.element.wysiwyg;\r\n                    const first = util.getChildElement(wysiwyg.firstChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, false) || wysiwyg.firstChild;\r\n                    const last = util.getChildElement(wysiwyg.lastChild, function (current) { return current.childNodes.length === 0 || current.nodeType === 3; }, true) || wysiwyg.lastChild;\r\n                    if (!first || !last) return;\r\n                    this.setRange(first, 0, last, last.textContent.length);\r\n                    break;\r\n                case 'codeView':\r\n                    this.toggleCodeView();\r\n                    break;\r\n                case 'fullScreen':\r\n                    this.toggleFullScreen(target);\r\n                    break;\r\n                case 'indent':\r\n                case 'outdent':\r\n                    this.indent(command);\r\n                    break;\r\n                case 'undo':\r\n                    this.history.undo();\r\n                    break;\r\n                case 'redo':\r\n                    this.history.redo();\r\n                    break;\r\n                case 'removeFormat':\r\n                    this.removeFormat();\r\n                    this.focus();\r\n                    break;\r\n                case 'print':\r\n                    this.print();\r\n                    break;\r\n                case 'preview':\r\n                    this.preview();\r\n                    break;\r\n                case 'showBlocks':\r\n                    this.toggleDisplayBlocks();\r\n                    break;\r\n                case 'save':\r\n                    if (typeof options.callBackSave === 'function') {\r\n                        options.callBackSave(this.getContents(false));\r\n                    } else if (typeof functions.save === 'function') {\r\n                        functions.save();\r\n                    } else {\r\n                        throw Error('[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)');\r\n                    }\r\n\r\n                    if (context.tool.save) context.tool.save.setAttribute('disabled', true);\r\n                    break;\r\n                default : // 'STRONG', 'U', 'EM', 'DEL', 'SUB', 'SUP'..\r\n                    command = this._defaultCommand[command.toLowerCase()] || command;\r\n                    if (!this.commandMap[command]) this.commandMap[command] = target;\r\n\r\n                    const nodesMap = this._variable.currentNodesMap;\r\n                    const cmd = nodesMap.indexOf(command) > -1 ? null : util.createElement(command);\r\n                    let removeNode = command;\r\n\r\n                    if (/^SUB$/i.test(command) && nodesMap.indexOf('SUP') > -1) {\r\n                        removeNode = 'SUP';\r\n                    } else if (/^SUP$/i.test(command) && nodesMap.indexOf('SUB') > -1) {\r\n                        removeNode = 'SUB';\r\n                    }\r\n\r\n                    this.nodeChange(cmd, null, [removeNode], false);\r\n                    this.focus();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove format of the currently selected range\r\n         */\r\n        removeFormat: function () {\r\n            this.nodeChange(null, null, null, null);\r\n        },\r\n\r\n        /**\r\n         * @description This method implements indentation to selected range.\r\n         * Setted \"margin-left\" to \"25px\" in the top \"P\" tag of the parameter node.\r\n         * @param {String} command Separator (\"indent\" or \"outdent\")\r\n         */\r\n        indent: function (command) {\r\n            const range = this.getRange();\r\n            const rangeLines = this.getSelectedElements(null);\r\n            const cells = [];\r\n            const shift = 'indent' !== command;\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            let sc = range.startContainer;\r\n            let ec = range.endContainer;\r\n            let so = range.startOffset;\r\n            let eo = range.endOffset;\r\n\r\n            for (let i = 0, len = rangeLines.length, f, margin; i < len; i++) {\r\n                f = rangeLines[i];\r\n\r\n                if (!util.isListCell(f) || !this.plugins.list) {\r\n                    margin = /\\d+/.test(f.style[marginDir]) ? util.getNumber(f.style[marginDir], 0) : 0;\r\n                    if (shift) {\r\n                        margin -= 25;\r\n                    } else {\r\n                        margin += 25;\r\n                    }\r\n                    util.setStyle(f, marginDir, (margin <= 0 ? '' : margin + 'px'));\r\n                } else {\r\n                    if (shift || f.previousElementSibling) {\r\n                        cells.push(f);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // list cells\r\n            if (cells.length > 0) {\r\n                this.plugins.list.editInsideList.call(this, shift, cells);\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.setRange(sc, so, ec, eo);\r\n\r\n            // history stack\r\n            this.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Add or remove the class name of \"body\" so that the code block is visible\r\n         */\r\n        toggleDisplayBlocks: function () {\r\n            const wysiwyg = context.element.wysiwyg;\r\n            util.toggleClass(wysiwyg, 'se-show-block');\r\n            if (util.hasClass(wysiwyg, 'se-show-block')) {\r\n                util.addClass(this._styleCommandMap.showBlocks, 'active');\r\n            } else {\r\n                util.removeClass(this._styleCommandMap.showBlocks, 'active');\r\n            }\r\n            this._resourcesStateChange();\r\n        },\r\n\r\n        /**\r\n         * @description Changes to code view or wysiwyg view\r\n         */\r\n        toggleCodeView: function () {\r\n            const isCodeView = this._variable.isCodeView;\r\n            this.controllersOff();\r\n            util.setDisabledButtons(!isCodeView, this.codeViewDisabledButtons);\r\n\r\n            if (isCodeView) {\r\n                this._setCodeDataToEditor();\r\n                context.element.wysiwygFrame.scrollTop = 0;\r\n                context.element.code.style.display = 'none';\r\n                context.element.wysiwygFrame.style.display = 'block';\r\n\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = '0px';\r\n                \r\n                this._variable.isCodeView = false;\r\n                \r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = false;\r\n                    if (/balloon|balloon-always/i.test(options.mode)) {\r\n                        context.element._arrow.style.display = '';\r\n                        this._isInline = false;\r\n                        this._isBalloon = true;\r\n                        event._hideToolbar();    \r\n                    }\r\n                }\r\n\r\n                this.nativeFocus();\r\n                util.removeClass(this._styleCommandMap.codeView, 'active');\r\n\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                this._setEditorDataToCodeView();\r\n                this._variable._codeOriginCssText = this._variable._codeOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: block');\r\n                this._variable._wysiwygOriginCssText = this._variable._wysiwygOriginCssText.replace(/(\\s?display(\\s+)?:(\\s+)?)[a-zA-Z]+(?=;)/, 'display: none');\r\n\r\n                if (options.height === 'auto' && !options.codeMirrorEditor) context.element.code.style.height = context.element.code.scrollHeight > 0 ? (context.element.code.scrollHeight + 'px') : 'auto';\r\n                if (options.codeMirrorEditor) options.codeMirrorEditor.refresh();\r\n                \r\n                this._variable.isCodeView = true;\r\n\r\n                if (!this._variable.isFullScreen) {\r\n                    this._notHideToolbar = true;\r\n                    if (this._isBalloon) {\r\n                        context.element._arrow.style.display = 'none';\r\n                        context.element.toolbar.style.left = '';\r\n                        this._isInline = true;\r\n                        this._isBalloon = false;\r\n                        event._showToolbarInline();\r\n                    }\r\n                }\r\n                \r\n                this._variable._range = null;\r\n                context.element.code.focus();\r\n                util.addClass(this._styleCommandMap.codeView, 'active');\r\n            }\r\n\r\n            this._checkPlaceholder();\r\n\r\n            if (typeof functions.toggleCodeView === 'function') functions.toggleCodeView(this._variable.isCodeView, this);\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the code view and put it in the WYSIWYG area.\r\n         * @private\r\n         */\r\n        _setCodeDataToEditor: function () {\r\n            const code_html = this._getCodeView();\r\n\r\n            if (options.fullPage) {\r\n                const parseDocument = this._parser.parseFromString(code_html, 'text/html');\r\n                const headChildren = parseDocument.head.children;\r\n\r\n                for (let i = 0, len = headChildren.length; i < len; i++) {\r\n                    if (/^script$/i.test(headChildren[i].tagName)) {\r\n                        parseDocument.head.removeChild(headChildren[i]);\r\n                        i--, len--;\r\n                    }\r\n                }\r\n\r\n                this._wd.head.innerHTML = parseDocument.head.innerHTML;\r\n                this._wd.body.innerHTML = this.convertContentsForEditor(parseDocument.body.innerHTML);\r\n\r\n                const attrs = parseDocument.body.attributes;\r\n                for (let i = 0, len = attrs.length; i < len; i++) {\r\n                    if (attrs[i].name === 'contenteditable') continue;\r\n                    this._wd.body.setAttribute(attrs[i].name, attrs[i].value);\r\n                }\r\n                if (!util.hasClass(this._wd.body, 'sun-editor-editable')) {\r\n                    const editableClasses = options._editableClass.split(' ');\r\n                    for (let i = 0; i < editableClasses.length; i++) {\r\n                        util.addClass(this._wd.body, options._editableClass[i]);\r\n                    }\r\n                }\r\n            } else {\r\n                context.element.wysiwyg.innerHTML = code_html.length > 0 ? this.convertContentsForEditor(code_html) : '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Convert the data of the WYSIWYG area and put it in the code view area.\r\n         * @private\r\n         */\r\n        _setEditorDataToCodeView: function () {\r\n            const codeContents = this.convertHTMLForCodeView(context.element.wysiwyg);\r\n            let codeValue = '';\r\n\r\n            if (options.fullPage) {\r\n                const attrs = util.getAttributesToString(this._wd.body, null);\r\n                codeValue = '<!DOCTYPE html>\\n<html>\\n' + this._wd.head.outerHTML.replace(/>(?!\\n)/g, '>\\n') + '<body ' + attrs + '>\\n' + codeContents + '</body>\\n</html>';\r\n            } else {\r\n                codeValue = codeContents;\r\n            }\r\n\r\n            context.element.code.style.display = 'block';\r\n            context.element.wysiwygFrame.style.display = 'none';\r\n\r\n            this._setCodeView(codeValue);\r\n        },\r\n\r\n        /**\r\n         * @description Changes to full screen or default screen\r\n         * @param {Element} element full screen button\r\n         */\r\n        toggleFullScreen: function (element) {\r\n            const topArea = context.element.topArea;\r\n            const toolbar = context.element.toolbar;\r\n            const editorArea = context.element.editorArea;\r\n            const wysiwygFrame = context.element.wysiwygFrame;\r\n            const code = context.element.code;\r\n            const _var = this._variable;\r\n            this.controllersOff();\r\n\r\n            if (!_var.isFullScreen) {\r\n                _var.isFullScreen = true;\r\n                \r\n                _var._fullScreenAttrs.inline = this._isInline;\r\n                _var._fullScreenAttrs.balloon = this._isBalloon;\r\n\r\n                if (this._isInline || this._isBalloon) {\r\n                    this._isInline = false;\r\n                    this._isBalloon = false;\r\n                }\r\n                \r\n                if (!!options.toolbarContainer) context.element.relative.insertBefore(toolbar, editorArea);\r\n\r\n                topArea.style.position = 'fixed';\r\n                topArea.style.top = '0';\r\n                topArea.style.left = '0';\r\n                topArea.style.width = '100%';\r\n                topArea.style.maxWidth = '100%';\r\n                topArea.style.height = '100%';\r\n                topArea.style.zIndex = '2147483647';\r\n\r\n                if (context.element._stickyDummy.style.display !== ( true && '')) {\r\n                    _var._fullScreenAttrs.sticky = true;\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                _var._bodyOverflow = _d.body.style.overflow;\r\n                _d.body.style.overflow = 'hidden';\r\n\r\n                _var._editorAreaOriginCssText = editorArea.style.cssText;\r\n                _var._wysiwygOriginCssText = wysiwygFrame.style.cssText;\r\n                _var._codeOriginCssText = code.style.cssText;\r\n\r\n                editorArea.style.cssText = toolbar.style.cssText = '';\r\n                wysiwygFrame.style.cssText = (wysiwygFrame.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                code.style.cssText = (code.style.cssText.match(/\\s?display(\\s+)?:(\\s+)?[a-zA-Z]+;/) || [''])[0];\r\n                toolbar.style.width = wysiwygFrame.style.height = code.style.height = '100%';\r\n                toolbar.style.position = 'relative';\r\n                toolbar.style.display = 'block';\r\n\r\n                _var.innerHeight_fullScreen = (_w.innerHeight - toolbar.offsetHeight);\r\n                editorArea.style.height = _var.innerHeight_fullScreen + 'px';\r\n\r\n                util.changeElement(element.firstElementChild, icons.reduction);\r\n\r\n                if (options.iframe && options.height === 'auto') {\r\n                    editorArea.style.overflow = 'auto';\r\n                    this._iframeAutoHeight();\r\n                }\r\n\r\n                util.addClass(this._styleCommandMap.fullScreen, 'active');\r\n            } else {\r\n                _var.isFullScreen = false;\r\n\r\n                wysiwygFrame.style.cssText = _var._wysiwygOriginCssText;\r\n                code.style.cssText = _var._codeOriginCssText;\r\n                toolbar.style.cssText = '';\r\n                editorArea.style.cssText = _var._editorAreaOriginCssText;\r\n                topArea.style.cssText = _var._originCssText;\r\n                _d.body.style.overflow = _var._bodyOverflow;\r\n\r\n                if (!!options.toolbarContainer) options.toolbarContainer.appendChild(toolbar);\r\n\r\n                if (options.stickyToolbar > -1) {\r\n                    util.removeClass(toolbar, 'se-toolbar-sticky');\r\n                }\r\n\r\n                if (_var._fullScreenAttrs.sticky && !options.toolbarContainer) {\r\n                    _var._fullScreenAttrs.sticky = false;\r\n                    context.element._stickyDummy.style.display = 'block';\r\n                    util.addClass(toolbar, \"se-toolbar-sticky\");\r\n                }\r\n\r\n                this._isInline = _var._fullScreenAttrs.inline;\r\n                this._isBalloon = _var._fullScreenAttrs.balloon;\r\n                if (this._isInline) event._showToolbarInline();\r\n                if (!!options.toolbarContainer) util.removeClass(toolbar, 'se-toolbar-balloon');\r\n\r\n                event.onScroll_window();\r\n                util.changeElement(element.firstElementChild, icons.expansion);\r\n\r\n                util.removeClass(this._styleCommandMap.fullScreen, 'active');\r\n            }\r\n\r\n            if (typeof functions.toggleFullScreen === 'function') functions.toggleFullScreen(this._variable.isFullScreen, this);\r\n        },\r\n\r\n        /**\r\n         * @description Prints the current contents of the editor.\r\n         */\r\n        print: function () {\r\n            const iframe = util.createElement('IFRAME');\r\n            iframe.style.display = 'none';\r\n            _d.body.appendChild(iframe);\r\n\r\n            const printDocument = util.getIframeDocument(iframe);\r\n            const contentsHTML = this.getContents(true);\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n\r\n                printDocument.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + options._editableClass + '\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n\r\n            this.showLoading();\r\n            _w.setTimeout(function () {\r\n                try {\r\n                    iframe.focus();\r\n                    // IE or Edge\r\n                    if (util.isIE_Edge || !!_d.documentMode || !!_w.StyleMedia) {\r\n                        try {\r\n                            iframe.contentWindow.document.execCommand('print', false, null);\r\n                        } catch (e) {\r\n                            iframe.contentWindow.print();\r\n                        }\r\n                    } else {\r\n                        // Other browsers\r\n                        iframe.contentWindow.print();\r\n                    }\r\n                } catch (error) {\r\n                    throw Error('[SUNEDITOR.core.print.fail] error: ' + error);\r\n                } finally {\r\n                    core.closeLoading();\r\n                    util.removeItem(iframe);\r\n                }\r\n            }, 1000);\r\n        },\r\n\r\n        /**\r\n         * @description Open the preview window.\r\n         */\r\n        preview: function () {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            \r\n            const contentsHTML = options.previewTemplate ? options.previewTemplate.replace(/\\{\\{\\s*contents\\s*\\}\\}/i, this.getContents(true)) : this.getContents(true);\r\n            const windowObject = _w.open('', '_blank');\r\n            windowObject.mimeType = 'text/html';\r\n            const w = context.element.wysiwygFrame.offsetWidth + 'px !important';\r\n            const wDoc = this._wd;\r\n\r\n            if (options.iframe) {\r\n                const arrts = options.fullPage ? util.getAttributesToString(wDoc.body, ['contenteditable']) : 'class=\"' + options._editableClass + '\"';\r\n\r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    wDoc.head.innerHTML +\r\n                    '<style>body {overflow:auto !important; width:' + w + '; border:1px solid #ccc; margin: 10px auto !important; height:auto !important;}</style>' +\r\n                    '</head>' +\r\n                    '<body ' + arrts + '>' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            } else {\r\n                const links = _d.head.getElementsByTagName('link');\r\n                const styles = _d.head.getElementsByTagName('style');\r\n                let linkHTML = '';\r\n                for (let i = 0, len = links.length; i < len; i++) {\r\n                    linkHTML += links[i].outerHTML;\r\n                }\r\n                for (let i = 0, len = styles.length; i < len; i++) {\r\n                    linkHTML += styles[i].outerHTML;\r\n                }\r\n                \r\n                windowObject.document.write('' +\r\n                    '<!DOCTYPE html><html>' +\r\n                    '<head>' +\r\n                    '<meta charset=\"utf-8\" />' +\r\n                    '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">' +\r\n                    '<title>' + lang.toolbar.preview + '</title>' +\r\n                    linkHTML +\r\n                    '</head>' +\r\n                    '<body class=\"' + options._editableClass + '\" style=\"width:' + w + '; border:1px solid #ccc; margin:10px auto !important; height:auto !important;\">' + contentsHTML + '</body>' +\r\n                    '</html>'\r\n                );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the HTML string\r\n         * @param {String|undefined} html HTML string\r\n         */\r\n        setContents: function (html) {\r\n            this.removeRange();\r\n            \r\n            const convertValue = (html === null || html === undefined) ? '' : this.convertContentsForEditor(html);\r\n            this._resetComponents();\r\n\r\n            if (!this._variable.isCodeView) {\r\n                context.element.wysiwyg.innerHTML = convertValue;\r\n                // history stack\r\n                this.history.push(false);\r\n            } else {\r\n                const value = this.convertHTMLForCodeView(convertValue);\r\n                this._setCodeView(value);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Sets the contents of the iframe's head tag and body tag when using the \"iframe\" or \"fullPage\" option.\r\n         * @param {Object} ctx { head: HTML string, body: HTML string}\r\n         */\r\n        setIframeContents: function (ctx) {\r\n            if (!options.iframe) return false;\r\n            if (ctx.head) this._wd.head.innerHTML = ctx.head.replace(/<script\\s*.*>.*<\\/script>/g, '');\r\n            if (ctx.body) this._wd.body.innerHTML = this.convertContentsForEditor(ctx.body);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the current contents\r\n         * @param {Boolean} onlyContents Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {Object}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            const contents = context.element.wysiwyg.innerHTML;\r\n            const renderHTML = util.createElement('DIV');\r\n            renderHTML.innerHTML = contents;\r\n\r\n            const figcaptions = util.getListChildren(renderHTML, function (current) {\r\n                return /FIGCAPTION/i.test(current.nodeName);\r\n            });\r\n\r\n            for (let i = 0, len = figcaptions.length; i < len; i++) {\r\n                figcaptions[i].removeAttribute('contenteditable');\r\n            }\r\n\r\n            if (options.fullPage && !onlyContents) {\r\n                const attrs = util.getAttributesToString(this._wd.body, ['contenteditable']);\r\n                return '<!DOCTYPE html><html>' + this._wd.head.outerHTML + '<body ' + attrs + '>' + renderHTML.innerHTML + '</body></html>';\r\n            } else {\r\n                return renderHTML.innerHTML;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Returns HTML string according to tag type and configuration.\r\n         * Use only \"cleanHTML\"\r\n         * @param {Node} node Node\r\n         * @param {Boolean} requireFormat If true, text nodes that do not have a format node is wrapped with the format tag.\r\n         * @private\r\n         */\r\n        _makeLine: function (node, requireFormat) {\r\n            const defaultTag = options.defaultTag;\r\n            // element\r\n            if (node.nodeType === 1) {\r\n                if (util._disallowedTags(node)) return '';\r\n                if (!requireFormat || (util.isFormatElement(node) || util.isRangeFormatElement(node) || util.isComponent(node) || util.isMedia(node) || (util.isAnchor(node) && util.isMedia(node.firstElementChild)))) {\r\n                    return node.outerHTML;\r\n                } else {\r\n                    return '<' + defaultTag + '>' + node.outerHTML + '</' + defaultTag + '>';\r\n                }\r\n            }\r\n            // text\r\n            if (node.nodeType === 3) {\r\n                if (!requireFormat) return node.textContent;\r\n                const textArray = node.textContent.split(/\\n/g);\r\n                let html = '';\r\n                for (let i = 0, tLen = textArray.length, text; i < tLen; i++) {\r\n                    text = textArray[i].trim();\r\n                    if (text.length > 0) html += '<' + defaultTag + '>' + text + '</' + defaultTag + '>';\r\n                }\r\n                return html;\r\n            }\r\n            // comments\r\n            if (node.nodeType === 8 && this._allowHTMLComments) {\r\n                return '<!--' + node.textContent.trim() + '-->';\r\n            }\r\n\r\n            return '';\r\n        },\r\n\r\n        /**\r\n         * @description Removes attribute values such as style and converts tags that do not conform to the \"html5\" standard.\r\n         * @param {String} text \r\n         * @returns {String} HTML string\r\n         * @private\r\n         */\r\n        _tagConvertor: function (text) {\r\n            if (!this._disallowedTextTagsRegExp) return text;\r\n\r\n            const ec = {'b': 'strong', 'i': 'em', 'ins': 'u', 'strike': 'del', 's': 'del'};\r\n            return text.replace(this._disallowedTextTagsRegExp, function (m, t, n) {\r\n                return t + (typeof ec[n] === 'string' ? ec[n] : n);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Delete disallowed tags\r\n         * @param {String} html HTML string\r\n         * @returns {String}\r\n         * @private\r\n         */\r\n        _deleteDisallowedTags: function (html) {\r\n            return html\r\n                .replace(/\\n/g, '')\r\n                .replace(/<(script|style).*>(\\n|.)*<\\/(script|style)>/gi, '')\r\n                .replace(/<[a-z0-9]+\\:[a-z0-9]+[^>^\\/]*>[^>]*<\\/[a-z0-9]+\\:[a-z0-9]+>/gi, '')\r\n                .replace(this.editorTagsWhitelistRegExp, '');\r\n        },\r\n\r\n        /**\r\n         * @description Gets the clean HTML code for editor\r\n         * @param {String} html HTML string\r\n         * @param {String|RegExp|null} whitelist Regular expression of allowed tags.\r\n         * RegExp object is create by util.createTagsWhitelist method. (core.pasteTagsWhitelistRegExp)\r\n         * @returns {String}\r\n         */\r\n        cleanHTML: function (html, whitelist) {\r\n            html = this._deleteDisallowedTags(html)\r\n                .replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\r\n                    if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n                    let v = null;\r\n                    const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\r\n                    if (tAttr) v = m.match(tAttr);\r\n                    else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n                    if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\r\n                        const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\r\n                        if (sv) {\r\n                            if (!v) v = [];\r\n                            v.push(sv[0]);\r\n                        }\r\n                    }\r\n\r\n                    if (v) {\r\n                        for (let i = 0, len = v.length; i < len; i++) {\r\n                            if (/^class=\"(?!(__se__|se-|katex))/.test(v[i])) continue;\r\n                            t += ' ' + v[i];\r\n                        }\r\n                    }\r\n\r\n                    return t;\r\n                }.bind(this));\r\n\r\n            const dom = _d.createRange().createContextualFragment(html);\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.cleanHTML.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            if (this.managedTagsInfo && this.managedTagsInfo.query) {\r\n                const textCompList = dom.querySelectorAll(this.managedTagsInfo.query);\r\n                for (let i = 0, len = textCompList.length, initMethod, classList; i < len; i++) {\r\n                    classList = [].slice.call(textCompList[i].classList);\r\n                    for (let c = 0, cLen = classList.length; c < cLen; c++) {\r\n                        initMethod = this.managedTagsInfo.map[classList[c]];\r\n                        if (initMethod) {\r\n                            initMethod(textCompList[i]);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            let requireFormat = false;\r\n\r\n            for (let i = 0, len = domTree.length, t; i < len; i++) {\r\n                t = domTree[i];\r\n                if (t.nodeType === 1 && !util.isTextStyleElement(t) && !util.isBreak(t) && !util._disallowedTags(t)) {\r\n                    requireFormat = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], requireFormat);\r\n            }\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(!cleanHTML ? html : !whitelist ? cleanHTML : cleanHTML.replace(typeof whitelist === 'string' ? util.createTagsWhitelist(whitelist) : whitelist, ''));\r\n        },\r\n\r\n        /**\r\n         * @description Converts contents into a format that can be placed in an editor\r\n         * @param {String} contents contents\r\n         * @returns {String}\r\n         */\r\n        convertContentsForEditor: function (contents) {\r\n            contents = this._deleteDisallowedTags(contents)\r\n                .replace(/(<[a-zA-Z0-9]+)[^>]*(?=>)/g, function (m, t) {\r\n                    if (/^<[a-z0-9]+\\:[a-z0-9]+/i.test(m)) return m;\r\n\r\n                    let v = null;\r\n                    const tAttr = this._attributesTagsWhitelist[t.match(/(?!<)[a-zA-Z0-9]+/)[0].toLowerCase()];\r\n                    if (tAttr) v = m.match(tAttr);\r\n                    else v = m.match(this._attributesWhitelistRegExp);\r\n\r\n                    if (/<span/i.test(t) && (!v || !/style=/i.test(v.toString()))) {\r\n                        const sv = m.match(/style\\s*=\\s*\"[^\"]*\"/);\r\n                        if (sv) {\r\n                            if (!v) v = [];\r\n                            v.push(sv[0]);\r\n                        }\r\n                    }\r\n\r\n                    if (v) {\r\n                        for (let i = 0, len = v.length; i < len; i++) {\r\n                            t += ' ' + v[i];\r\n                        }\r\n                    }\r\n\r\n                    return t;\r\n                }.bind(this));\r\n\r\n            const dom = _d.createRange().createContextualFragment(this._deleteDisallowedTags(contents));\r\n\r\n            try {\r\n                util._consistencyCheckOfHTML(dom, this._htmlCheckWhitelistRegExp);\r\n            } catch (error) {\r\n                console.warn('[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] ' + error);\r\n            }\r\n            \r\n            const domTree = dom.childNodes;\r\n            let cleanHTML = '';\r\n            for (let i = 0, len = domTree.length; i < len; i++) {\r\n                cleanHTML += this._makeLine(domTree[i], true);\r\n            }\r\n\r\n            if (cleanHTML.length === 0) return '<' + options.defaultTag + '><br></' + options.defaultTag + '>';\r\n\r\n            cleanHTML = util.htmlRemoveWhiteSpace(cleanHTML);\r\n            return this._tagConvertor(cleanHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Converts wysiwyg area element into a format that can be placed in an editor of code view mode\r\n         * @param {Element|String} html WYSIWYG element (context.element.wysiwyg) or HTML string.\r\n         * @returns {String}\r\n         */\r\n        convertHTMLForCodeView: function (html) {\r\n            let returnHTML = '';\r\n            const wRegExp = _w.RegExp;\r\n            const brReg = new wRegExp('^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$', 'i');\r\n            const isFormatElement = util.isFormatElement.bind(util);\r\n            const wDoc = typeof html === 'string' ? _d.createRange().createContextualFragment(html) : html;\r\n\r\n            let indentSize = this._variable.codeIndent * 1;\r\n            indentSize = indentSize > 0 ? new _w.Array(indentSize + 1).join(' ') : '';\r\n\r\n            (function recursionFunc (element, indent, lineBR) {\r\n                const children = element.childNodes;\r\n                const elementRegTest = brReg.test(element.nodeName);\r\n                const elementIndent = (elementRegTest ? indent : '');\r\n\r\n                for (let i = 0, len = children.length, node, br, nodeRegTest; i < len; i++) {\r\n                    node = children[i];\r\n                    nodeRegTest = brReg.test(node.nodeName);\r\n                    br = nodeRegTest ? '\\n' : '';\r\n                    lineBR = isFormatElement(node) && !elementRegTest && !/^(TH|TD)$/i.test(element.nodeName) ? '\\n' : '';\r\n\r\n                    if (node.nodeType === 8) {\r\n                        returnHTML += '\\n<!-- ' + node.textContent.trim() + ' -->' + br;\r\n                        continue;\r\n                    }\r\n                    if (node.nodeType === 3) {\r\n                        returnHTML += util._HTMLConvertor((/^\\n+$/.test(node.data) ? '' : node.data));\r\n                        continue;\r\n                    }\r\n                    if (node.childNodes.length === 0) {\r\n                        returnHTML += (/^HR$/i.test(node.nodeName) ? '\\n' : '') + elementIndent + node.outerHTML + br;\r\n                        continue;\r\n                    }\r\n                    \r\n                    node.innerHTML = node.innerHTML;\r\n                    const tag = node.nodeName.toLowerCase();\r\n                    returnHTML += (lineBR || (elementRegTest ? '' : br)) + (elementIndent || nodeRegTest ? indent : '') + node.outerHTML.match(wRegExp('<' + tag + '[^>]*>', 'i'))[0] + br;\r\n                    recursionFunc(node, indent + indentSize, '');\r\n                    returnHTML += (nodeRegTest ? indent : '') + '</' + tag + '>' + (lineBR || br || elementRegTest ? '\\n' :  false || /^(TH|TD)$/i.test(node.nodeName) ? '\\n' : '');\r\n                }\r\n            }(wDoc, '', '\\n'));\r\n\r\n            return returnHTML.trim() + '\\n';\r\n        },\r\n\r\n        /**\r\n         * @description Add an event to document.\r\n         * When created as an Iframe, the same event is added to the document in the Iframe.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         * @param {Boolean} useCapture Use event capture\r\n         */\r\n        addDocEvent: function (type, listener, useCapture) {\r\n            _d.addEventListener(type, listener, useCapture);\r\n            if (options.iframe) {\r\n                this._wd.addEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Remove events from document.\r\n         * When created as an Iframe, the event of the document inside the Iframe is also removed.\r\n         * @param {String} type Event type\r\n         * @param {Function} listener Event listener\r\n         */\r\n        removeDocEvent: function (type, listener) {\r\n            _d.removeEventListener(type, listener);\r\n            if (options.iframe) {\r\n                this._wd.removeEventListener(type, listener);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The current number of characters is counted and displayed.\r\n         * @param {String} inputText Text added.\r\n         * @returns {Boolean}\r\n         * @private\r\n         */\r\n        _charCount: function (inputText) {\r\n            const maxCharCount = options.maxCharCount;\r\n            const countType = options.charCounterType;\r\n            let nextCharCount = 0;\r\n            if (!!inputText) nextCharCount = this.getCharLength(inputText, countType);\r\n\r\n            this._setCharCount();\r\n\r\n            if (maxCharCount > 0) {\r\n                let over = false;\r\n                const count = functions.getCharCount(countType);\r\n                \r\n                if (count > maxCharCount) {\r\n                    over = true;\r\n                    if (nextCharCount > 0) {\r\n                        this._editorRange();\r\n                        const range = this.getRange();\r\n                        const endOff = range.endOffset - 1;\r\n                        const text = this.getSelectionNode().textContent;\r\n                        const slicePosition = range.endOffset - (count - maxCharCount);\r\n    \r\n                        this.getSelectionNode().textContent = text.slice(0, slicePosition < 0 ? 0 : slicePosition) + text.slice(range.endOffset, text.length);\r\n                        this.setRange(range.endContainer, endOff, range.endContainer, endOff);\r\n                    }\r\n                } else if ((count + nextCharCount) > maxCharCount) {\r\n                    over = true;\r\n                }\r\n\r\n                if (over) {\r\n                    this._callCounterBlink();\r\n                    if (nextCharCount > 0) return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description When \"element\" is added, if it is greater than \"options.maxCharCount\", false is returned.\r\n         * @param {Node|String} element Element node or String.\r\n         * @param {String|null} charCounterType charCounterType. If it is null, the options.charCounterType\r\n         * @returns {Boolean}\r\n         */\r\n        checkCharCount: function (element, charCounterType) {\r\n            if (options.maxCharCount) {\r\n                const countType = charCounterType || options.charCounterType;\r\n                const length = this.getCharLength((typeof element === 'string' ? element : this._charTypeHTML ? element.outerHTML : element.textContent), countType);\r\n                if (length > 0 && length + functions.getCharCount(countType) > options.maxCharCount) {\r\n                    this._callCounterBlink();\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * @description Get the length of the content.\r\n         * Depending on the option, the length of the character is taken. (charCounterType)\r\n         * @param {String} content Content to count\r\n         * @param {String} charCounterType options.charCounterType\r\n         * @returns {Number}\r\n         */\r\n        getCharLength: function (content, charCounterType) {\r\n            return /byte/.test(charCounterType) ? util.getByteLength(content) : content.length;\r\n        },\r\n\r\n        /**\r\n         * @description Set the char count to charCounter element textContent.\r\n         * @private\r\n         */\r\n        _setCharCount: function () {\r\n            if (context.element.charCounter) {\r\n                _w.setTimeout(function () { context.element.charCounter.textContent = functions.getCharCount(options.charCounterType); });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description The character counter blinks.\r\n         * @private\r\n         */\r\n        _callCounterBlink: function () {\r\n            const charWrapper = context.element.charWrapper;\r\n            if (charWrapper && !util.hasClass(charWrapper, 'se-blink')) {\r\n                util.addClass(charWrapper, 'se-blink');\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(charWrapper, 'se-blink');\r\n                }, 600);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Check the components such as image and video and modify them according to the format.\r\n         * @private\r\n         */\r\n        _checkComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsCheck.length; i < len; i++) {\r\n                this._fileInfoPluginsCheck[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Initialize the information of the components.\r\n         * @private\r\n         */\r\n        _resetComponents: function () {\r\n            for (let i = 0, len = this._fileInfoPluginsReset.length; i < len; i++) {\r\n                this._fileInfoPluginsReset[i]();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set method in the code view area\r\n         * @param {String} value HTML string\r\n         * @private\r\n         */\r\n        _setCodeView: function (value) {\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.getDoc().setValue(value);\r\n            } else {\r\n                context.element.code.value = value;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Get method in the code view area\r\n         * @private\r\n         */\r\n        _getCodeView: function () {\r\n            return options.codeMirrorEditor ? options.codeMirrorEditor.getDoc().getValue() : context.element.code.value;\r\n        },\r\n\r\n        /**\r\n         * @description Initializ core variable\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _init: function (reload, _initHTML) {\r\n            const wRegExp = _w.RegExp;\r\n            this._ww = options.iframe ? context.element.wysiwygFrame.contentWindow : _w;\r\n            this._wd = _d;\r\n            this._charTypeHTML = options.charCounterType === 'byte-html';\r\n\r\n            if (!options.iframe && typeof _w.ShadowRoot === 'function') {\r\n                let child = context.element.wysiwygFrame;\r\n                while (child) {\r\n                    if (child.shadowRoot) {\r\n                        this._shadowRoot = child.shadowRoot;\r\n                        break;\r\n                    } else if (child instanceof _w.ShadowRoot) {\r\n                        this._shadowRoot = child;\r\n                        break;\r\n                    }\r\n                    child = child.parentNode;\r\n                }\r\n            }\r\n\r\n            // set disallow text nodes\r\n            const disallowTextTags = ['b', 'i', 'ins', 's', 'strike'];\r\n            const allowTextTags = !options.addTagsWhitelist ? [] : options.addTagsWhitelist.split('|').filter(function (v) { return /b|i|ins|s|strike/i.test(v); });\r\n            for (let i = 0; i < allowTextTags.length; i++) {\r\n                disallowTextTags.splice(disallowTextTags.indexOf(allowTextTags[i].toLowerCase()), 1);\r\n            }\r\n            this._disallowedTextTagsRegExp = disallowTextTags.length === 0 ? null : new wRegExp('(<\\\\/?)(' + disallowTextTags.join('|') + ')\\\\b\\\\s*(?:[^>^<]+)?\\\\s*(?=>)', 'gi');\r\n\r\n            // set whitelist\r\n            const defaultAttr = 'contenteditable|colspan|rowspan|target|href|src|class|type|controls|data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|origin-size|data-exp|data-font-size';\r\n            this._allowHTMLComments = options._editorTagsWhitelist.indexOf('//') > -1;\r\n            this._htmlCheckWhitelistRegExp = new wRegExp('^(' + options._editorTagsWhitelist.replace('|//', '') + ')$', 'i');\r\n            this.editorTagsWhitelistRegExp = util.createTagsWhitelist(options._editorTagsWhitelist.replace('|//', '|<!--|-->'));\r\n            this.pasteTagsWhitelistRegExp = util.createTagsWhitelist(options.pasteTagsWhitelist);\r\n\r\n            const _attr = options.attributesWhitelist;\r\n            const tagsAttr = {};\r\n            let allAttr = '';\r\n            if (!!_attr) {\r\n                for (let k in _attr) {\r\n                    if (!util.hasOwn(_attr, k)) continue;\r\n                    if (k === 'all') {\r\n                        allAttr = _attr[k] + '|';\r\n                    } else {\r\n                        tagsAttr[k] = new wRegExp('((?:' + _attr[k] + '|' + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n                    }\r\n                }\r\n            }\r\n\r\n            this._attributesWhitelistRegExp = new wRegExp('((?:' + allAttr + defaultAttr + ')\\s*=\\s*\"[^\"]*\")', 'ig');\r\n            this._attributesTagsWhitelist = tagsAttr;\r\n\r\n            // set modes\r\n            this._isInline = /inline/i.test(options.mode);\r\n            this._isBalloon = /balloon|balloon-always/i.test(options.mode);\r\n            this._isBalloonAlways = /balloon-always/i.test(options.mode);\r\n\r\n            // caching buttons\r\n            this._cachingButtons();\r\n\r\n            // file components\r\n            this._fileInfoPluginsCheck = [];\r\n            this._fileInfoPluginsReset = [];\r\n\r\n            // text components\r\n            this.managedTagsInfo = { query: '', map: {} };\r\n            const managedClass = [];\r\n\r\n            // Command and file plugins registration\r\n            this.activePlugins = [];\r\n            this._fileManager.tags = [];\r\n            this._fileManager.pluginMap = {};\r\n\r\n            let filePluginRegExp = [];\r\n            let plugin, button;\r\n            for (let key in plugins) {\r\n                if (!util.hasOwn(plugins, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    this.callPlugin(key, null, button);\r\n                }\r\n                if (typeof plugin.checkFileInfo === 'function' && typeof plugin.resetFileInfo === 'function') {\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileInfoPluginsCheck.push(plugin.checkFileInfo.bind(this));\r\n                    this._fileInfoPluginsReset.push(plugin.resetFileInfo.bind(this));\r\n                }\r\n                if (_w.Array.isArray(plugin.fileTags)) {\r\n                    const fileTags = plugin.fileTags;\r\n                    this.callPlugin(key, null, button);\r\n                    this._fileManager.tags = this._fileManager.tags.concat(fileTags);\r\n                    filePluginRegExp.push(key);\r\n                    for (let tag = 0, tLen = fileTags.length; tag < tLen; tag++) {\r\n                        this._fileManager.pluginMap[fileTags[tag].toLowerCase()] = key;\r\n                    }\r\n                }\r\n                if (plugin.managedTags) {\r\n                    const info = plugin.managedTags();\r\n                    managedClass.push('.' + info.className);\r\n                    this.managedTagsInfo.map[info.className] = info.method.bind(this);\r\n                }\r\n            }\r\n\r\n            this.managedTagsInfo.query = managedClass.toString();\r\n            this._fileManager.queryString = this._fileManager.tags.join(',');\r\n            this._fileManager.regExp = new wRegExp('^(' +  this._fileManager.tags.join('|') + ')$', 'i');\r\n            this._fileManager.pluginRegExp = new wRegExp('^(' +  (filePluginRegExp.length === 0 ? 'undefined' : filePluginRegExp.join('|')) + ')$', 'i');\r\n            \r\n            // cache editor's element\r\n            this._variable._originCssText = context.element.topArea.style.cssText;\r\n            this._placeholder = context.element.placeholder;\r\n            this._lineBreaker = context.element.lineBreaker;\r\n            this._lineBreakerButton = this._lineBreaker.querySelector('button');\r\n\r\n            // Excute history function\r\n            this.history = lib_history(this, this._onChange_historyStack.bind(this));\r\n\r\n            // register notice module\r\n            this.addModule([_notice]);\r\n\r\n            // Init, validate\r\n            if (options.iframe) {\r\n                this._wd = context.element.wysiwygFrame.contentDocument;\r\n                context.element.wysiwyg = this._wd.body;\r\n                if (options._editorStyles.editor) context.element.wysiwyg.style.cssText = options._editorStyles.editor;\r\n                if (options.height === 'auto') this._iframeAuto = this._wd.body;\r\n            }\r\n            \r\n            this._initWysiwygArea(reload, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Caching basic buttons to use\r\n         * @private\r\n         */\r\n        _cachingButtons: function () {\r\n            this.codeViewDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-code-view-enabled\"])');\r\n            this.resizingDisabledButtons = context.element.toolbar.querySelectorAll('.se-toolbar button:not([class~=\"se-resizing-enabled\"])');\r\n            const tool = context.tool;\r\n            this.commandMap = {\r\n                STRONG: tool.bold,\r\n                U: tool.underline,\r\n                EM: tool.italic,\r\n                DEL: tool.strike,\r\n                SUB: tool.subscript,\r\n                SUP: tool.superscript,\r\n                OUTDENT: tool.outdent,\r\n                INDENT: tool.indent\r\n            };\r\n            this._styleCommandMap = {\r\n                fullScreen: tool.fullScreen,\r\n                showBlocks: tool.showBlocks,\r\n                codeView: tool.codeView\r\n            };\r\n        },\r\n\r\n        /**\r\n         * @description Initializ wysiwyg area (Only called from core._init)\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _initWysiwygArea: function (reload, _initHTML) {\r\n            context.element.wysiwyg.innerHTML = reload ? _initHTML : this.convertContentsForEditor(typeof _initHTML === 'string' ? _initHTML : context.element.originElement.value);\r\n        },\r\n\r\n        /**\r\n         * @description Called when there are changes to tags in the wysiwyg region.\r\n         * @private\r\n         */\r\n        _resourcesStateChange: function () {\r\n            this._iframeAutoHeight();\r\n            this._checkPlaceholder();\r\n        },\r\n\r\n        /**\r\n         * @description Called when after execute \"history.push\"\r\n         * @private\r\n         */\r\n        _onChange_historyStack: function () {\r\n            event._applyTagEffects();\r\n            if (context.tool.save) context.tool.save.removeAttribute('disabled');\r\n            if (functions.onChange) functions.onChange(this.getContents(true), this);\r\n        },\r\n\r\n        /**\r\n         * @description Modify the height value of the iframe when the height of the iframe is automatic.\r\n         * @private\r\n         */\r\n        _iframeAutoHeight: function () {\r\n            if (this._iframeAuto) {\r\n                _w.setTimeout(function () { context.element.wysiwygFrame.style.height = core._iframeAuto.offsetHeight + 'px'; });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set display property when there is placeholder.\r\n         * @private\r\n         */\r\n        _checkPlaceholder: function () {\r\n            if (this._placeholder) {\r\n                if (this._variable.isCodeView) {\r\n                    this._placeholder.style.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                if (!util.onlyZeroWidthSpace(wysiwyg.textContent) || wysiwyg.querySelector('.se-component, pre, blockquote, hr, li, table, img, iframe, video') || (wysiwyg.innerText.match(/\\n/g) || '').length > 1) {\r\n                    this._placeholder.style.display = 'none';\r\n                } else {\r\n                    this._placeholder.style.display = 'block';\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description If there is no default format, add a format and move \"selection\".\r\n         * @param {String|null} formatName Format tag name (default: 'P')\r\n         * @private\r\n         */\r\n        _setDefaultFormat: function (formatName) {\r\n            if (this._fileManager.pluginRegExp.test(this.currentControllerName)) return;\r\n\r\n            const range = this.getRange();\r\n            const commonCon = range.commonAncestorContainer;\r\n            const startCon = range.startContainer;\r\n            const rangeEl = util.getRangeFormatElement(commonCon, null);\r\n            let focusNode, offset, format;\r\n\r\n            const fileComponent = util.getParentElement(commonCon, util.isComponent);\r\n            if (fileComponent && !util.isTable(fileComponent)) return;\r\n            if((util.isRangeFormatElement(startCon) || util.isWysiwygDiv(startCon)) && util.isComponent(startCon.childNodes[range.startOffset])) return;\r\n\r\n            if (rangeEl) {\r\n                format = util.createElement(formatName || options.defaultTag);\r\n                format.innerHTML = rangeEl.innerHTML;\r\n                if (format.childNodes.length === 0) format.innerHTML = util.zeroWidthSpace;\r\n\r\n                rangeEl.innerHTML = format.outerHTML;\r\n                format = rangeEl.firstChild;\r\n                focusNode = util.getEdgeChildNodes(format, null).sc;\r\n\r\n                if (!focusNode) {\r\n                    focusNode = util.createTextNode(util.zeroWidthSpace);\r\n                    format.insertBefore(focusNode, format.firstChild);\r\n                }\r\n                \r\n                offset = focusNode.textContent.length;\r\n                this.setRange(focusNode, offset, focusNode, offset);\r\n                return;\r\n            }\r\n\r\n            if(util.isRangeFormatElement(commonCon) && (commonCon.childNodes.length <= 1)) {\r\n                let br = null;\r\n                if (commonCon.childNodes.length === 1 && util.isBreak(commonCon.firstChild)) {\r\n                    br = commonCon.firstChild;\r\n                } else {\r\n                    br = util.createTextNode(util.zeroWidthSpace);\r\n                    commonCon.appendChild(br);\r\n                }\r\n\r\n                this.setRange(br, 1, br, 1);\r\n                return;\r\n            }\r\n\r\n            this.execCommand('formatBlock', false, (formatName || options.defaultTag));\r\n            focusNode = util.getEdgeChildNodes(commonCon, commonCon);\r\n            focusNode = focusNode ? focusNode.ec : commonCon;\r\n\r\n            format = util.getFormatElement(focusNode, null);\r\n            if (!format) {\r\n                this.removeRange();\r\n                this._editorRange();\r\n                return;\r\n            }\r\n            \r\n            if (util.isBreak(format.nextSibling)) util.removeItem(format.nextSibling);\r\n            if (util.isBreak(format.previousSibling)) util.removeItem(format.previousSibling);\r\n            if (util.isBreak(focusNode)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                focusNode.parentNode.insertBefore(zeroWidth, focusNode);\r\n                focusNode = zeroWidth;\r\n            }\r\n\r\n            this.effectNode = null;\r\n            this.nativeFocus();\r\n        },\r\n\r\n        /**\r\n         * @description Initialization after \"setOptions\"\r\n         * @param {Object} el context.element\r\n         * @param {String} _initHTML Initial html string\r\n         * @private\r\n         */\r\n        _setOptionsInit: function (el, _initHTML) {\r\n            this.context = context = lib_context(el.originElement, this._getConstructed(el), options);\r\n            this._componentsInfoReset = true;\r\n            this._editorInit(true, _initHTML);\r\n        },\r\n\r\n        /**\r\n         * @description Initializ editor\r\n         * @param {Boolean} reload Is relooad?\r\n         * @param {String} _initHTML initial html string\r\n         * @private\r\n         */\r\n        _editorInit: function (reload, _initHTML) {\r\n            // initialize core and add event listeners\r\n            this._init(reload, _initHTML);\r\n            event._addEvent();\r\n            this._setCharCount();\r\n            event._offStickyToolbar();\r\n            event.onResize_window();\r\n\r\n            // toolbar visibility\r\n            context.element.toolbar.style.visibility = '';\r\n\r\n            this._checkComponents();\r\n            this._componentsInfoInit = false;\r\n            this._componentsInfoReset = false;\r\n\r\n            this.history.reset(true);\r\n            this._resourcesStateChange();\r\n\r\n            _w.setTimeout(function () {\r\n              if (typeof functions.onload === 'function') functions.onload(core, reload);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @description Create and return an object to cache the new context.\r\n         * @param {Element} contextEl context.element\r\n         * @returns {Object}\r\n         * @private\r\n         */\r\n        _getConstructed: function (contextEl) {\r\n            return {\r\n                _top: contextEl.topArea,\r\n                _relative: contextEl.relative,\r\n                _toolBar: contextEl.toolbar,\r\n                _menuTray: contextEl._menuTray,\r\n                _editorArea: contextEl.editorArea,\r\n                _wysiwygArea: contextEl.wysiwygFrame,\r\n                _codeArea: contextEl.code,\r\n                _placeholder: contextEl.placeholder,\r\n                _resizingBar: contextEl.resizingBar,\r\n                _navigation: contextEl.navigation,\r\n                _charCounter: contextEl.charCounter,\r\n                _charWrapper: contextEl.charWrapper,\r\n                _loading: contextEl.loading,\r\n                _lineBreaker: contextEl.lineBreaker,\r\n                _lineBreaker_t: contextEl.lineBreaker_t,\r\n                _lineBreaker_b: contextEl.lineBreaker_b,\r\n                _resizeBack: contextEl.resizeBackground,\r\n                _stickyDummy: contextEl._stickyDummy,\r\n                _arrow: contextEl._arrow\r\n            };\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @description event function\r\n     */\r\n    const event = {\r\n        _IEisComposing: false, // In IE, there is no \"e.isComposing\" in the key-up event.\r\n        _lineBreakerBind: null,\r\n        _responsiveCurrentSize: 'default',\r\n        _responsiveButtonSize: null,\r\n        _responsiveButtons: null,\r\n        _directionKeyCode: new _w.RegExp('^(8|13|3[2-9]|40|46)$'),\r\n        _nonTextKeyCode: new _w.RegExp('^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$'),\r\n        _historyIgnoreKeyCode: new _w.RegExp('^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$'),\r\n        _onButtonsCheck: new _w.RegExp('^(STRONG|U|EM|DEL|SUB|SUP)$'),\r\n        _frontZeroWidthReg: new _w.RegExp(util.zeroWidthSpace + '+', ''),\r\n        _keyCodeShortcut: {\r\n            65: 'A',\r\n            66: 'B',\r\n            83: 'S',\r\n            85: 'U',\r\n            73: 'I',\r\n            89: 'Y',\r\n            90: 'Z',\r\n            219: '[',\r\n            221: ']'\r\n        },\r\n\r\n        _shortcutCommand: function (keyCode, shift) {\r\n            let command = null;\r\n            const keyStr = event._keyCodeShortcut[keyCode];\r\n\r\n            switch (keyStr) {\r\n                case 'A':\r\n                    command = 'selectAll';\r\n                    break;\r\n                case 'B':\r\n                    if (options.shortcutsDisable.indexOf('bold') === -1) {\r\n                        command = 'STRONG';\r\n                    }\r\n                    break;\r\n                case 'S':\r\n                    if (shift && options.shortcutsDisable.indexOf('strike') === -1) {\r\n                        command = 'DEL';\r\n                    }\r\n                    break;\r\n                case 'U':\r\n                    if (options.shortcutsDisable.indexOf('underline') === -1) {\r\n                        command = 'U';\r\n                    }\r\n                    break;\r\n                case 'I':\r\n                    if (options.shortcutsDisable.indexOf('italic') === -1) {\r\n                        command = 'EM';\r\n                    }\r\n                    break;\r\n                case 'Z':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        if (shift) {\r\n                            command = 'redo';\r\n                        } else {\r\n                            command = 'undo';\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'Y':\r\n                    if (options.shortcutsDisable.indexOf('undo') === -1) {\r\n                        command = 'redo';\r\n                    }\r\n                    break;\r\n                case '[':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'indent' : 'outdent';\r\n                    }\r\n                    break;\r\n                case ']':\r\n                    if (options.shortcutsDisable.indexOf('indent') === -1) {\r\n                        command = options.rtl ? 'outdent' : 'indent';\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (!command) return false;\r\n\r\n            core.commandHandler(core.commandMap[command], command);\r\n            return true;\r\n        },\r\n\r\n        _applyTagEffects: function () {\r\n            let selectionNode = core.getSelectionNode();\r\n            if (selectionNode === core.effectNode) return;\r\n            core.effectNode = selectionNode;\r\n\r\n            const marginDir = options.rtl ? 'marginRight' : 'marginLeft';\r\n            const commandMap = core.commandMap;\r\n            const classOnCheck = this._onButtonsCheck;\r\n            const commandMapNodes = [];\r\n            const currentNodes = [];\r\n\r\n            const activePlugins = core.activePlugins;\r\n            const cLen = activePlugins.length;\r\n            let nodeName = '';\r\n\r\n            while (selectionNode.firstChild) {\r\n                selectionNode = selectionNode.firstChild;\r\n            }\r\n\r\n            for (let element = selectionNode; !util.isWysiwygDiv(element); element = element.parentNode) {\r\n                if (!element) break;\r\n                if (element.nodeType !== 1 || util.isBreak(element)) continue;\r\n                nodeName = element.nodeName.toUpperCase();\r\n                currentNodes.push(nodeName);\r\n\r\n                /* Active plugins */\r\n                for (let c = 0, name; c < cLen; c++) {\r\n                    name = activePlugins[c];\r\n                    if (commandMapNodes.indexOf(name) === -1 && plugins[name].active.call(core, element)) {\r\n                        commandMapNodes.push(name);\r\n                    }\r\n                }\r\n\r\n                if (util.isFormatElement(element)) {\r\n                    /* Outdent */\r\n                    if (commandMapNodes.indexOf('OUTDENT') === -1 && commandMap.OUTDENT) {\r\n                        if (util.isListCell(element) || (element.style[marginDir] && util.getNumber(element.style[marginDir], 0) > 0)) {\r\n                            commandMapNodes.push('OUTDENT');\r\n                            commandMap.OUTDENT.removeAttribute('disabled');\r\n                        }\r\n                    }\r\n\r\n                    /* Indent */\r\n                    if (commandMapNodes.indexOf('INDENT') === -1 && commandMap.INDENT && util.isListCell(element) && !element.previousElementSibling) {\r\n                        commandMapNodes.push('INDENT');\r\n                        commandMap.INDENT.setAttribute('disabled', true);\r\n                    }\r\n\r\n                    continue;\r\n                }\r\n\r\n                /** default active buttons [strong, ins, em, del, sub, sup] */\r\n                if (classOnCheck.test(nodeName)) {\r\n                    commandMapNodes.push(nodeName);\r\n                    util.addClass(commandMap[nodeName], 'active');\r\n                }\r\n            }\r\n\r\n            /** remove class, display text */\r\n            for (let key in commandMap) {\r\n                if (commandMapNodes.indexOf(key) > -1 || !util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            /** save current nodes */\r\n            core._variable.currentNodes = currentNodes.reverse();\r\n            core._variable.currentNodesMap = commandMapNodes;\r\n\r\n            /**  Displays the current node structure to resizingBar */\r\n            if (options.showPathLabel) context.element.navigation.textContent = core._variable.currentNodes.join(' > ');\r\n        },\r\n\r\n        _cancelCaptionEdit: function () {\r\n            this.setAttribute('contenteditable', false);\r\n            this.removeEventListener('blur', event._cancelCaptionEdit);\r\n        },\r\n\r\n        _buttonsEventHandler: function (e) {\r\n            let target = e.target;\r\n            if (core._bindControllersOff) e.stopPropagation();\r\n\r\n            if (/^(input|textarea|select|option)$/i.test(target.nodeName)) {\r\n                core._antiBlur = false;\r\n            } else {\r\n                e.preventDefault();\r\n            }\r\n\r\n            if (util.getParentElement(target, '.se-submenu')) {\r\n                e.stopPropagation();\r\n                core._notHideToolbar = true;\r\n            } else {\r\n                let command = target.getAttribute('data-command');\r\n                let className = target.className;\r\n    \r\n                while (!command && !/se-menu-list/.test(className) && !/sun-editor-common/.test(className)) {\r\n                    target = target.parentNode;\r\n                    command = target.getAttribute('data-command');\r\n                    className = target.className;\r\n                }\r\n    \r\n                if (command === core._submenuName || command === core._containerName) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        },\r\n\r\n        onClick_toolbar: function (e) {\r\n            let target = e.target;\r\n            let display = target.getAttribute('data-display');\r\n            let command = target.getAttribute('data-command');\r\n            let className = target.className;\r\n\r\n            while (target.parentNode && !command && !/se-menu-list/.test(className) && !/se-toolbar/.test(className)) {\r\n                target = target.parentNode;\r\n                command = target.getAttribute('data-command');\r\n                display = target.getAttribute('data-display');\r\n                className = target.className;\r\n            }\r\n\r\n            if (!command && !display) return;\r\n            if (target.disabled) return;\r\n            if (!core.hasFocus) core.nativeFocus();\r\n            if (!core._variable.isCodeView) core._editorRange();\r\n\r\n            core.actionCall(command, display, target);\r\n        },\r\n\r\n        onMouseDown_wysiwyg: function (e) {\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n            \r\n            const tableCell = util.getParentElement(e.target, util.isCell);\r\n            if (tableCell) {\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && tableCell !== tablePlugin._fixedCell && !tablePlugin._shift) {\r\n                    core.callPlugin('table', function () {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, tableCell, false);\r\n                    }, null);\r\n                }\r\n            }\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            if (/FIGURE/i.test(e.target.nodeName)) e.preventDefault();\r\n            if (typeof functions.onMouseDown === 'function') functions.onMouseDown(e, core);\r\n        },\r\n\r\n        onClick_wysiwyg: function (e) {\r\n            const targetElement = e.target;\r\n            if (util.isNonEditable(context.element.wysiwyg)) return;\r\n\r\n            const fileComponentInfo = core.getFileComponent(targetElement);\r\n            if (fileComponentInfo) {\r\n                e.preventDefault();\r\n                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                return;\r\n            }\r\n\r\n            const figcaption = util.getParentElement(targetElement, 'FIGCAPTION');\r\n            if (util.isNonEditable(figcaption)) {\r\n                e.preventDefault();\r\n                figcaption.setAttribute('contenteditable', true);\r\n                figcaption.focus();\r\n\r\n                if (core._isInline && !core._inlineToolbarAttr.isShow) {\r\n                    event._showToolbarInline();\r\n\r\n                    const hideToolbar = function () {\r\n                        event._hideToolbar();\r\n                        figcaption.removeEventListener('blur', hideToolbar);\r\n                    };\r\n\r\n                    figcaption.addEventListener('blur', hideToolbar);\r\n                }\r\n            }\r\n\r\n            _w.setTimeout(core._editorRange.bind(core));\r\n            core._editorRange();\r\n\r\n            const selectionNode = core.getSelectionNode();\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if ((!formatEl || formatEl === rangeEl) && !util.isNonEditable(targetElement) && !util.isList(rangeEl)) {\r\n                const range = core.getRange();\r\n                if (util.getFormatElement(range.startContainer) === util.getFormatElement(range.endContainer)) {\r\n                    if (util.isList(rangeEl)) {\r\n                        const oLi = util.createElement('LI');\r\n                        const prevLi = selectionNode.nextElementSibling;\r\n                        oLi.appendChild(selectionNode);\r\n                        rangeEl.insertBefore(oLi, prevLi);\r\n                    } else if (!util.isWysiwygDiv(selectionNode) && !util.isComponent(selectionNode) && (!util.isTable(selectionNode) || util.isCell(selectionNode))) {\r\n                        core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\r\n                    }\r\n                    \r\n                    e.preventDefault();\r\n                    core.focus();\r\n                }\r\n            } else {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            if (core._isBalloon) _w.setTimeout(event._toggleToolbarBalloon);\r\n            if (typeof functions.onClick === 'function') functions.onClick(e, core);\r\n        },\r\n\r\n        _balloonDelay: null,\r\n        _showToolbarBalloonDelay: function () {\r\n            if (event._balloonDelay) {\r\n                _w.clearTimeout(event._balloonDelay);\r\n            }\r\n\r\n            event._balloonDelay = _w.setTimeout(function () {\r\n                _w.clearTimeout(this._balloonDelay);\r\n                this._balloonDelay = null;\r\n                this._showToolbarBalloon();\r\n            }.bind(event), 350);\r\n        },\r\n\r\n        _toggleToolbarBalloon: function () {\r\n            core._editorRange();\r\n            const range = core.getRange();\r\n            if (core._bindControllersOff || (!core._isBalloonAlways && range.collapsed)) event._hideToolbar();\r\n            else event._showToolbarBalloon(range);\r\n        },\r\n\r\n        _showToolbarBalloon: function (rangeObj) {\r\n            if (!core._isBalloon) return;\r\n\r\n            const range = rangeObj || core.getRange();\r\n            const toolbar = context.element.toolbar;\r\n            const topArea = context.element.topArea;\r\n            const selection = core.getSelection();\r\n\r\n            let isDirTop;\r\n            if (core._isBalloonAlways && range.collapsed) {\r\n                isDirTop = true;\r\n            } else if (selection.focusNode === selection.anchorNode) {\r\n                isDirTop = selection.focusOffset < selection.anchorOffset;\r\n            } else {\r\n                const childNodes = util.getListChildNodes(range.commonAncestorContainer, null);\r\n                isDirTop = util.getArrayIndex(childNodes, selection.focusNode) < util.getArrayIndex(childNodes, selection.anchorNode);\r\n            }\r\n\r\n            let rects = range.getClientRects();\r\n            rects = rects[isDirTop ? 0 : rects.length - 1];\r\n\r\n            let scrollLeft = 0;\r\n            let scrollTop = 0;\r\n            let el = topArea;\r\n            while (!!el) {\r\n                scrollLeft += el.scrollLeft;\r\n                scrollTop += el.scrollTop;\r\n                el = el.parentElement;\r\n            }\r\n\r\n            const editorWidth = topArea.offsetWidth;\r\n            const offsets = event._getEditorOffsets(null);\r\n            const stickyTop = offsets.top;\r\n            const editorLeft = offsets.left;\r\n            \r\n            toolbar.style.top = '-10000px';\r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n\r\n            if (!rects) {\r\n                const node = core.getSelectionNode();\r\n                if (util.isFormatElement(node)) {\r\n                    const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                    core.insertNode(zeroWidth, null, false);\r\n                    core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n                    core._editorRange();\r\n                    rects = core.getRange().getClientRects();\r\n                    rects = rects[isDirTop ? 0 : rects.length - 1];\r\n                }\r\n\r\n                if (!rects) {\r\n                    const nodeOffset = util.getOffset(node, context.element.wysiwygFrame);\r\n                    rects = {\r\n                        left: nodeOffset.left,\r\n                        top: nodeOffset.top,\r\n                        right: nodeOffset.left,\r\n                        bottom: nodeOffset.top + node.offsetHeight,\r\n                        noText: true\r\n                    };\r\n                    scrollLeft = 0;\r\n                    scrollTop = 0;\r\n                }\r\n\r\n                isDirTop = true;\r\n            }\r\n\r\n            const arrowMargin = _w.Math.round(context.element._arrow.offsetWidth / 2);\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = toolbar.offsetHeight;\r\n            const iframeRects = /iframe/i.test(context.element.wysiwygFrame.nodeName) ? context.element.wysiwygFrame.getClientRects()[0] : null;\r\n            if (iframeRects) {\r\n                rects = {\r\n                    left: rects.left + iframeRects.left,\r\n                    top: rects.top + iframeRects.top,\r\n                    right: rects.right + iframeRects.right - iframeRects.width,\r\n                    bottom: rects.bottom + iframeRects.bottom - iframeRects.height\r\n                };\r\n            }\r\n            \r\n            event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            if (toolbarWidth !== toolbar.offsetWidth || toolbarHeight !== toolbar.offsetHeight) {\r\n                event._setToolbarOffset(isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin);\r\n            }\r\n\r\n            if (options.toolbarContainer) {\r\n                const editorParent = topArea.parentElement;\r\n\r\n                let container = options.toolbarContainer;\r\n                let left = container.offsetLeft;\r\n                let top = container.offsetTop;\r\n\r\n                while(!container.parentElement.contains(editorParent) || !/^(BODY|HTML)$/i.test(container.parentElement.nodeName)) {\r\n                    container = container.offsetParent;\r\n                    left += container.offsetLeft;\r\n                    top += container.offsetTop;\r\n                }\r\n\r\n                toolbar.style.left = (toolbar.offsetLeft - left + topArea.offsetLeft) + 'px';\r\n                toolbar.style.top = (toolbar.offsetTop - top + topArea.offsetTop) + 'px';\r\n            }\r\n\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _setToolbarOffset: function (isDirTop, rects, toolbar, editorLeft, editorWidth, scrollLeft, scrollTop, stickyTop, arrowMargin) {\r\n            const padding = 1;\r\n            const toolbarWidth = toolbar.offsetWidth;\r\n            const toolbarHeight = rects.noText && !isDirTop ? 0 : toolbar.offsetHeight;\r\n\r\n            const absoluteLeft = (isDirTop ? rects.left : rects.right) - editorLeft - (toolbarWidth / 2) + scrollLeft;\r\n            const overRight = absoluteLeft + toolbarWidth - editorWidth;\r\n            \r\n            let t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n            let l = absoluteLeft < 0 ? padding : overRight < 0 ? absoluteLeft : absoluteLeft - overRight - padding - 1;\r\n\r\n            let resetTop = false;\r\n            const space = t + (isDirTop ? (event._getEditorOffsets(null).top) : (toolbar.offsetHeight - context.element.wysiwyg.offsetHeight));\r\n            if (!isDirTop && space > 0 && event._getPageBottomSpace() < space) {\r\n                isDirTop = true;\r\n                resetTop = true;\r\n            } else if (isDirTop && _d.documentElement.offsetTop > space) {\r\n                isDirTop = false;\r\n                resetTop = true;\r\n            }\r\n\r\n            if (resetTop) t = (isDirTop ? rects.top - toolbarHeight - arrowMargin : rects.bottom + arrowMargin) - (rects.noText ? 0 : stickyTop) + scrollTop;\r\n\r\n            toolbar.style.left = _w.Math.floor(l) + 'px';\r\n            toolbar.style.top = _w.Math.floor(t) + 'px';\r\n\r\n            if (isDirTop) {\r\n                util.removeClass(context.element._arrow, 'se-arrow-up');\r\n                util.addClass(context.element._arrow, 'se-arrow-down');\r\n                context.element._arrow.style.top = toolbarHeight + 'px';\r\n            } else {\r\n                util.removeClass(context.element._arrow, 'se-arrow-down');\r\n                util.addClass(context.element._arrow, 'se-arrow-up');\r\n                context.element._arrow.style.top = -arrowMargin + 'px';\r\n            }\r\n\r\n            const arrow_left = _w.Math.floor((toolbarWidth / 2) + (absoluteLeft - l));\r\n            context.element._arrow.style.left = (arrow_left + arrowMargin > toolbar.offsetWidth ? toolbar.offsetWidth - arrowMargin : arrow_left < arrowMargin ? arrowMargin : arrow_left) + 'px';\r\n        },\r\n\r\n        _showToolbarInline: function () {\r\n            if (!core._isInline) return;\r\n\r\n            const toolbar = context.element.toolbar;\r\n            if (options.toolbarContainer) toolbar.style.position = 'relative';\r\n            else toolbar.style.position = 'absolute';\r\n            \r\n            toolbar.style.visibility = 'hidden';\r\n            toolbar.style.display = 'block';\r\n            core._inlineToolbarAttr.width = toolbar.style.width = options.toolbarWidth;\r\n            core._inlineToolbarAttr.top = toolbar.style.top = (options.toolbarContainer ? 0 : (-1 - toolbar.offsetHeight)) + 'px';\r\n            \r\n            if (typeof functions.showInline === 'function') functions.showInline(toolbar, context, core);\r\n\r\n            event.onScroll_window();\r\n            core._inlineToolbarAttr.isShow = true;\r\n            toolbar.style.visibility = '';\r\n        },\r\n\r\n        _hideToolbar: function () {\r\n            if (!core._notHideToolbar && !core._variable.isFullScreen) {\r\n                context.element.toolbar.style.display = 'none';\r\n                core._inlineToolbarAttr.isShow = false;\r\n            }\r\n        },\r\n\r\n        onInput_wysiwyg: function (e) {\r\n            core._editorRange();\r\n\r\n            const data = (e.data === null ? '' : e.data === undefined ? ' ' : e.data) || '';       \r\n            if (!core._charCount(data)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onInput === 'function') functions.onInput(e, core);\r\n        },\r\n\r\n        _onShortcutKey: false,\r\n        onKeyDown_wysiwyg: function (e) {\r\n            const keyCode = e.keyCode;\r\n            const shift = e.shiftKey;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            event._IEisComposing = keyCode === 229;\r\n\r\n            core.submenuOff();\r\n\r\n            if (core._isBalloon) {\r\n                event._hideToolbar();\r\n            }\r\n\r\n            /** Shortcuts */\r\n            if (ctrl && event._shortcutCommand(keyCode, shift)) {\r\n                event._onShortcutKey = true;\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            } else if (event._onShortcutKey) {\r\n                event._onShortcutKey = false;\r\n            }\r\n\r\n            /** default key action */\r\n            let selectionNode = core.getSelectionNode();\r\n            const range = core.getRange();\r\n            const selectRange = !range.collapsed || range.startContainer !== range.endContainer;\r\n            const fileComponentName = core._fileManager.pluginRegExp.test(core.currentControllerName) ? core.currentControllerName : '';\r\n            let formatEl = util.getFormatElement(selectionNode, null) || selectionNode;\r\n            let rangeEl = util.getRangeFormatElement(formatEl, null);\r\n\r\n            switch (keyCode) {\r\n                case 8: /** backspace key */\r\n                    if (!selectRange) {\r\n                        if (fileComponentName) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            core.plugins[fileComponentName].destroy.call(core);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    if (!util.isFormatElement(formatEl) && !context.element.wysiwyg.firstElementChild && !util.isComponent(selectionNode)) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core._setDefaultFormat(options.defaultTag);\r\n                        return false;\r\n                    }\r\n\r\n                    if (!selectRange && !formatEl.previousElementSibling && (range.startOffset === 0 && !selectionNode.previousSibling && !util.isListCell(formatEl) && \r\n                     (util.isFormatElement(formatEl) && (!util.isFreeFormatElement(formatEl) || util.isClosureFreeFormatElement(formatEl))))) {\r\n                        // closure range\r\n                        if (util.isClosureRangeFormatElement(formatEl.parentNode)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            return false;\r\n                        }\r\n                        // maintain default format\r\n                        if (util.isWysiwygDiv(formatEl.parentNode) && formatEl.childNodes.length <= 1 && (!formatEl.firstChild || util.onlyZeroWidthSpace(formatEl.textContent))) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n\r\n                            formatEl.innerHTML = '<br>';\r\n                            const attrs = formatEl.attributes;\r\n                            while (attrs[0]) {\r\n                                formatEl.removeAttribute(attrs[0].name);\r\n                            }\r\n                            core.nativeFocus();\r\n\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    // clean remove tag\r\n                    if (formatEl && range.startContainer === range.endContainer && selectionNode.nodeType === 3 && !util.isFormatElement(selectionNode.parentNode)) {\r\n                        if (range.collapsed ? selectionNode.textContent.length === 1 : (range.endOffset - range.startOffset) === selectionNode.textContent.length) {\r\n                            e.preventDefault();\r\n\r\n                            let offset = null;\r\n                            let prev = selectionNode.parentNode.previousSibling;\r\n                            const next = selectionNode.parentNode.nextSibling;\r\n                            if (!prev) {\r\n                                if (!next) {\r\n                                    prev = util.createElement('BR');\r\n                                    formatEl.appendChild(prev);\r\n                                } else {\r\n                                    prev = next;\r\n                                    offset = 0;\r\n                                }\r\n                            }\r\n\r\n                            selectionNode.textContent = '';\r\n                            util.removeItemAllParents(selectionNode, null, formatEl);\r\n                            offset = typeof offset === 'number' ? offset : prev.nodeType === 3 ? prev.textContent.length : 1;\r\n                            core.setRange(prev, offset, prev, offset);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    const commonCon = range.commonAncestorContainer;\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        if (util.isListCell(formatEl) && util.isList(rangeEl) && (util.isListCell(rangeEl.parentNode) || formatEl.previousElementSibling) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.previousSibling || util.isList(selectionNode.previousSibling)))) &&\r\n                         (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.startContainer) : (range.startOffset === 0  && range.collapsed))) {\r\n                            if (range.startContainer !== range.endContainer) {\r\n                                e.preventDefault();\r\n\r\n                                core.removeNode();\r\n                                if (range.startContainer.nodeType === 3) {\r\n                                    core.setRange(range.startContainer, range.startContainer.textContent.length, range.startContainer, range.startContainer.textContent.length);\r\n                                }\r\n                                // history stack\r\n                                core.history.push(true);\r\n                            } else {\r\n                                let prev = formatEl.previousElementSibling || rangeEl.parentNode;\r\n                                if (util.isListCell(prev)) {\r\n                                    e.preventDefault();\r\n\r\n                                    let prevLast = prev;\r\n                                    if (!prev.contains(formatEl) && util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                        prevLast = prevLast.lastElementChild.lastElementChild;\r\n                                        while (util.isListCell(prevLast) && util.isList(prevLast.lastElementChild)) {\r\n                                            prevLast = prevLast.lastElementChild && prevLast.lastElementChild.lastElementChild;\r\n                                        }\r\n                                        prev = prevLast;\r\n                                    }\r\n\r\n                                    let con = prev === rangeEl.parentNode ? rangeEl.previousSibling : prev.lastChild;\r\n                                    if (!con) {\r\n                                        con = util.createTextNode(util.zeroWidthSpace);\r\n                                        rangeEl.parentNode.insertBefore(con, rangeEl.parentNode.firstChild);\r\n                                    }\r\n                                    const offset = con.nodeType === 3 ? con.textContent.length : 1;\r\n                                    const children = formatEl.childNodes;\r\n                                    let after = con;\r\n                                    let child = children[0];\r\n                                    while ((child = children[0])) {\r\n                                        prev.insertBefore(child, after.nextSibling);\r\n                                        after = child;\r\n                                    }\r\n\r\n                                    util.removeItem(formatEl);\r\n                                    if (rangeEl.children.length === 0) util.removeItem(rangeEl);\r\n\r\n                                    core.setRange(con, offset, con, offset);\r\n                                    // history stack\r\n                                    core.history.push(true);\r\n                                }\r\n                            }\r\n                            \r\n                            break;\r\n                        }\r\n\r\n                        // detach range\r\n                        if (!selectRange && range.startOffset === 0) {\r\n                            let detach = true;\r\n                            let comm = commonCon;\r\n                            while (comm && comm !== rangeEl && !util.isWysiwygDiv(comm)) {\r\n                                if (comm.previousSibling) {\r\n                                    if (comm.previousSibling.nodeType === 1 || !util.onlyZeroWidthSpace(comm.previousSibling.textContent.trim())) {\r\n                                        detach = false;\r\n                                        break;\r\n                                    }\r\n                                }\r\n                                comm = comm.parentNode;\r\n                            }\r\n    \r\n                            if (detach && rangeEl.parentNode) {\r\n                                e.preventDefault();\r\n                                core.detachRangeFormatElement(rangeEl, (util.isListCell(formatEl) ? [formatEl] : null), null, false, false);\r\n                                // history stack\r\n                                core.history.push(true);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // component\r\n                    if (!selectRange && (range.startOffset === 0 || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // select file component\r\n                        const ignoreZWS = (commonCon.nodeType === 3 || util.isBreak(commonCon)) && !commonCon.previousSibling && range.startOffset === 0;\r\n                        if (!sel.previousSibling && (util.isComponent(commonCon.previousSibling) || (ignoreZWS && util.isComponent(formatEl.previousSibling)))) {\r\n                            const fileComponentInfo = core.getFileComponent(formatEl.previousSibling);\r\n                            if (fileComponentInfo) {\r\n                                e.preventDefault();\r\n                                e.stopPropagation();\r\n                                if (formatEl.textContent.length === 0) util.removeItem(formatEl);\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n                            break;\r\n                        }\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.previousSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.previousSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    break;\r\n                case 46: /** delete key */\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.plugins[fileComponentName].destroy.call(core);\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange && event._hardDelete()) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        break;\r\n                    }\r\n\r\n                    // component\r\n                    if ((util.isFormatElement(selectionNode) || selectionNode.nextSibling === null || (util.onlyZeroWidthSpace(selectionNode.nextSibling) && selectionNode.nextSibling.nextSibling === null)) && range.startOffset === selectionNode.textContent.length) {\r\n                        let nextEl = formatEl.nextElementSibling;\r\n                        if (!nextEl) {\r\n                            e.preventDefault();\r\n                            break;\r\n                        }\r\n\r\n                        if (util.isComponent(nextEl)) {\r\n                            e.preventDefault();\r\n\r\n                            if (util.onlyZeroWidthSpace(formatEl)) {\r\n                                util.removeItem(formatEl);\r\n                                // table component\r\n                                if (util.isTable(nextEl)) {\r\n                                    let cell = util.getChildElement(nextEl, util.isCell, false);\r\n                                    cell = cell.firstElementChild || cell;\r\n                                    core.setRange(cell, 0, cell, 0);\r\n                                    break;\r\n                                }\r\n                            }\r\n\r\n                            // select file component\r\n                            const fileComponentInfo = core.getFileComponent(nextEl);\r\n                            if (fileComponentInfo) {\r\n                                e.stopPropagation();\r\n                                core.selectComponent(fileComponentInfo.target, fileComponentInfo.pluginName);\r\n                            }\r\n\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!selectRange && (core.isEdgePoint(range.endContainer, range.endOffset) || (selectionNode === formatEl ? !!formatEl.childNodes[range.startOffset] : false))) {\r\n                        const sel = selectionNode === formatEl ? formatEl.childNodes[range.startOffset] : selectionNode;\r\n                        // delete nonEditable\r\n                        if (util.isNonEditable(sel.nextSibling)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                            util.removeItem(sel.nextSibling);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    // nested list\r\n                    formatEl = util.getFormatElement(range.startContainer, null);\r\n                    rangeEl = util.getRangeFormatElement(formatEl, null);\r\n                    if (util.isListCell(formatEl) && util.isList(rangeEl) && (selectionNode === formatEl || (selectionNode.nodeType === 3 && (!selectionNode.nextSibling || util.isList(selectionNode.nextSibling)) &&\r\n                     (util.getFormatElement(range.startContainer, null) !== util.getFormatElement(range.endContainer, null) ? rangeEl.contains(range.endContainer) : (range.endOffset === selectionNode.textContent.length && range.collapsed))))) {\r\n                        if (range.startContainer !== range.endContainer) core.removeNode();\r\n                        \r\n                        let next = util.getArrayItem(formatEl.children, util.isList, false);\r\n                        next = next || formatEl.nextElementSibling || rangeEl.parentNode.nextElementSibling;\r\n                        if (next && (util.isList(next) || util.getArrayItem(next.children, util.isList, false))) {\r\n                            e.preventDefault();\r\n\r\n                            let con, children;\r\n                            if (util.isList(next)) {\r\n                                const child = next.firstElementChild;\r\n                                children = child.childNodes;\r\n                                con = children[0];\r\n                                while (children[0]) {\r\n                                    formatEl.insertBefore(children[0], next);\r\n                                }\r\n                                util.removeItem(child);\r\n                            } else {\r\n                                con = next.firstChild;\r\n                                children = next.childNodes;\r\n                                while (children[0]) {\r\n                                    formatEl.appendChild(children[0]);\r\n                                }\r\n                                util.removeItem(next);\r\n                            }\r\n                            core.setRange(con, 0, con, 0);\r\n                            // history stack\r\n                            core.history.push(true);\r\n                        }\r\n                        break;\r\n                    }\r\n\r\n                    break;\r\n                case 9: /** tab key */\r\n                    if (fileComponentName || options.tabDisable) break;\r\n                    e.preventDefault();\r\n                    if (ctrl || alt || util.isWysiwygDiv(selectionNode)) break;\r\n\r\n                    const isEdge = (!range.collapsed || core.isEdgePoint(range.startContainer, range.startOffset));            \r\n                    const selectedFormats = core.getSelectedElements(null);\r\n                    selectionNode = core.getSelectionNode();\r\n                    const cells = [];\r\n                    let lines = [];\r\n                    let fc = util.isListCell(selectedFormats[0]), lc = util.isListCell(selectedFormats[selectedFormats.length - 1]);\r\n                    let r = {sc: range.startContainer, so: range.startOffset, ec: range.endContainer, eo: range.endOffset};\r\n                    for (let i = 0, len = selectedFormats.length, f; i < len; i++) {\r\n                        f = selectedFormats[i];\r\n                        if (util.isListCell(f)) {\r\n                            if (!f.previousElementSibling && !shift) {\r\n                                continue;\r\n                            } else {\r\n                                cells.push(f);\r\n                            }\r\n                        } else {\r\n                            lines.push(f);\r\n                        }\r\n                    }\r\n                    \r\n                    // Nested list\r\n                    if (cells.length > 0 && isEdge && core.plugins.list) {\r\n                        r = core.plugins.list.editInsideList.call(core, shift, cells);\r\n                    } else {\r\n                        // table\r\n                        const tableCell = util.getParentElement(selectionNode, util.isCell);\r\n                        if (tableCell && isEdge) {\r\n                            const table = util.getParentElement(tableCell, 'table');\r\n                            const cells = util.getListChildren(table, util.isCell);\r\n                            let idx = shift ? util.prevIdx(cells, tableCell) : util.nextIdx(cells, tableCell);\r\n\r\n                            if (idx === cells.length && !shift) idx = 0;\r\n                            if (idx === -1 && shift) idx = cells.length - 1;\r\n\r\n                            let moveCell = cells[idx];\r\n                            if (!moveCell) break;\r\n                            moveCell = moveCell.firstElementChild || moveCell;\r\n                            core.setRange(moveCell, 0, moveCell, 0);\r\n                            break;\r\n                        }\r\n\r\n                        lines = lines.concat(cells);\r\n                        fc = lc = null;\r\n                    }\r\n\r\n                    // Lines tab(4)\r\n                    if (lines.length > 0) {\r\n                        if (!shift) {\r\n                            const tabText = util.createTextNode(new _w.Array(core._variable.tabSize + 1).join('\\u00A0'));\r\n                            if (lines.length === 1) {\r\n                                const textRange = core.insertNode(tabText, null, true);\r\n                                if (!textRange) return false;\r\n                                if (!fc) {\r\n                                    r.sc = tabText;\r\n                                    r.so = textRange.endOffset;\r\n                                }\r\n                                if (!lc) {\r\n                                    r.ec = tabText;\r\n                                    r.eo = textRange.endOffset;\r\n                                }\r\n                            } else {\r\n                                const len = lines.length - 1;\r\n                                for (let i = 0, child; i <= len; i++) {\r\n                                    child = lines[i].firstChild;\r\n                                    if (!child) continue;\r\n    \r\n                                    if (util.isBreak(child)) {\r\n                                        lines[i].insertBefore(tabText.cloneNode(false), child);\r\n                                    } else {\r\n                                        child.textContent = tabText.textContent + child.textContent;\r\n                                    }\r\n                                }\r\n    \r\n                                const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                                const endChild = util.getChildElement(lines[len], 'text', true);\r\n                                if (!fc && firstChild) {\r\n                                    r.sc = firstChild;\r\n                                    r.so = 0;\r\n                                }\r\n                                if (!lc && endChild) {\r\n                                    r.ec = endChild;\r\n                                    r.eo = endChild.textContent.length;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            const len = lines.length - 1;\r\n                            for (let i = 0, line; i <= len; i++) {\r\n                                line = lines[i].childNodes;\r\n                                for (let c = 0, cLen = line.length, child; c < cLen; c++) {\r\n                                    child = line[c];\r\n                                    if (!child) break;\r\n                                    if (util.onlyZeroWidthSpace(child)) continue;\r\n        \r\n                                    if (/^\\s{1,4}$/.test(child.textContent)) {\r\n                                        util.removeItem(child);\r\n                                    } else if (/^\\s{1,4}/.test(child.textContent)) {\r\n                                        child.textContent = child.textContent.replace(/^\\s{1,4}/, '');\r\n                                    }\r\n                                    \r\n                                    break;\r\n                                }\r\n                            }\r\n    \r\n                            const firstChild = util.getChildElement(lines[0], 'text', false);\r\n                            const endChild = util.getChildElement(lines[len], 'text', true);\r\n                            if (!fc && firstChild) {\r\n                                r.sc = firstChild;\r\n                                r.so = 0;\r\n                            }\r\n                            if (!lc && endChild) {\r\n                                r.ec = endChild;\r\n                                r.eo = endChild.textContent.length;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    core.setRange(r.sc, r.so, r.ec, r.eo);\r\n                    // history stack\r\n                    core.history.push(false);\r\n                    \r\n                    break;\r\n                case 13: /** enter key */\r\n                    const freeFormatEl = util.getFreeFormatElement(selectionNode, null);\r\n\r\n                    if (core._charTypeHTML) {\r\n                        let enterHTML = '';\r\n                        if ((!shift && freeFormatEl) || shift) {\r\n                            enterHTML = '<br>';\r\n                        } else {\r\n                            enterHTML = '<' + formatEl.nodeName + '><br></' + formatEl.nodeName + '>';\r\n                        }\r\n\r\n                        if (!core.checkCharCount(enterHTML, 'byte-html')) {\r\n                            e.preventDefault();\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n                    if (!shift && freeFormatEl) {\r\n                        e.preventDefault();\r\n                        const selectionFormat = selectionNode === freeFormatEl;\r\n                        const wSelection = core.getSelection();\r\n                        const children = selectionNode.childNodes, offset = wSelection.focusOffset, prev = selectionNode.previousElementSibling, next = selectionNode.nextSibling;\r\n\r\n                        if (!util.isClosureFreeFormatElement(freeFormatEl) && !!children && ((selectionFormat && range.collapsed && children.length - 1 <= offset + 1 && util.isBreak(children[offset]) && (!children[offset + 1] || ((!children[offset + 2] || util.onlyZeroWidthSpace(children[offset + 2].textContent)) && children[offset + 1].nodeType === 3 && util.onlyZeroWidthSpace(children[offset + 1].textContent))) &&  offset > 0 && util.isBreak(children[offset - 1])) ||\r\n                          (!selectionFormat && util.onlyZeroWidthSpace(selectionNode.textContent) && util.isBreak(prev) && (util.isBreak(prev.previousSibling) || !util.onlyZeroWidthSpace(prev.previousSibling.textContent)) && (!next || (!util.isBreak(next) && util.onlyZeroWidthSpace(next.textContent)))))) {\r\n                            if (selectionFormat) util.removeItem(children[offset - 1]);\r\n                            else util.removeItem(selectionNode);\r\n                            const newEl = core.appendFormatTag(freeFormatEl, util.isFormatElement(freeFormatEl.nextElementSibling) ? freeFormatEl.nextElementSibling : null);\r\n                            util.copyFormatAttributes(newEl, freeFormatEl);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                        \r\n                        if (selectionFormat) {\r\n                            functions.insertHTML(((range.collapsed && util.isBreak(range.startContainer.childNodes[range.startOffset - 1])) ? '<br>' : '<br><br>'), true, false);\r\n\r\n                            let focusNode = wSelection.focusNode;\r\n                            const wOffset = wSelection.focusOffset;\r\n                            if (freeFormatEl === focusNode) {\r\n                                focusNode = focusNode.childNodes[wOffset - offset > 1 ? wOffset - 1 : wOffset];\r\n                            }\r\n\r\n                            core.setRange(focusNode, 1, focusNode, 1);\r\n                        } else {\r\n                            const focusNext = wSelection.focusNode.nextSibling;\r\n                            const br = util.createElement('BR');\r\n                            core.insertNode(br, null, false);\r\n\r\n                            const brPrev = br.previousSibling, brNext = br.nextSibling;\r\n                            if (!util.isBreak(focusNext) && !util.isBreak(brPrev) && (!brNext || util.onlyZeroWidthSpace(brNext))) {\r\n                                br.parentNode.insertBefore(br.cloneNode(false), br);\r\n                                core.setRange(br, 1, br, 1);\r\n                            } else {\r\n                                core.setRange(brNext, 0, brNext, 0);\r\n                            }\r\n                        }\r\n\r\n                        event._onShortcutKey = true;\r\n                        break;\r\n                    }\r\n\r\n                    if (selectRange) break;\r\n                    \r\n                    if (rangeEl && formatEl && !util.isCell(rangeEl) && !/^FIGCAPTION$/i.test(rangeEl.nodeName)) {\r\n                        const range = core.getRange();\r\n                        if(core.isEdgePoint(range.endContainer, range.endOffset) && util.isList(selectionNode.nextSibling)) {\r\n                            e.preventDefault();\r\n                            const newEl = util.createElement('LI');\r\n                            const br = util.createElement('BR');\r\n                            newEl.appendChild(br);\r\n\r\n                            formatEl.parentNode.insertBefore(newEl, formatEl.nextElementSibling);\r\n                            newEl.appendChild(selectionNode.nextSibling);\r\n                            \r\n                            core.setRange(br, 1, br, 1);\r\n                            break;\r\n                        }\r\n\r\n                        if ((range.commonAncestorContainer.nodeType === 3 ? !range.commonAncestorContainer.nextElementSibling : true) && util.onlyZeroWidthSpace(formatEl.innerText.trim())) {\r\n                            e.preventDefault();\r\n                            let newEl = null;\r\n\r\n                            if (util.isListCell(rangeEl.parentNode)) {\r\n                                rangeEl = formatEl.parentNode.parentNode.parentNode;\r\n                                newEl = util.splitElement(formatEl, null, util.getElementDepth(formatEl) - 2);\r\n                                if (!newEl) {\r\n                                    const newListCell = util.createElement('LI');\r\n                                    newListCell.innerHTML = '<br>';\r\n                                    rangeEl.insertBefore(newListCell, newEl);\r\n                                    newEl = newListCell;\r\n                                }\r\n                            } else {\r\n                                const newFormat = util.isCell(rangeEl.parentNode) ? 'DIV' : util.isList(rangeEl.parentNode) ? 'LI' : util.isFormatElement(rangeEl.nextElementSibling) ? rangeEl.nextElementSibling.nodeName : util.isFormatElement(rangeEl.previousElementSibling) ? rangeEl.previousElementSibling.nodeName : options.defaultTag;\r\n                                newEl = util.createElement(newFormat);\r\n                                const edge = core.detachRangeFormatElement(rangeEl, [formatEl], null, true, true);\r\n                                edge.cc.insertBefore(newEl, edge.ec);\r\n                            }\r\n                            \r\n                            newEl.innerHTML = '<br>';\r\n                            util.copyFormatAttributes(newEl, formatEl);\r\n                            util.removeItemAllParents(formatEl, null, null);\r\n                            core.setRange(newEl, 1, newEl, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (rangeEl && util.getParentElement(rangeEl, 'FIGCAPTION') && util.getParentElement(rangeEl, util.isList)) {\r\n                        e.preventDefault();\r\n                        formatEl = core.appendFormatTag(formatEl, null);\r\n                        core.setRange(formatEl, 0, formatEl, 0);\r\n                    }\r\n\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        const compContext = context[fileComponentName];\r\n                        const container = compContext._container;\r\n                        const sibling = container.previousElementSibling || container.nextElementSibling;\r\n\r\n                        let newEl = null;\r\n                        if (util.isListCell(container.parentNode)) {\r\n                            newEl = util.createElement('BR');\r\n                        } else {\r\n                            newEl = util.createElement(util.isFormatElement(sibling) ? sibling.nodeName : options.defaultTag);\r\n                            newEl.innerHTML = '<br>';\r\n                        }\r\n\r\n                        container.parentNode.insertBefore(newEl, container);\r\n                        \r\n                        core.callPlugin(fileComponentName, function () {\r\n                            core.selectComponent(compContext._element, fileComponentName);\r\n                        }, null);\r\n                    }\r\n                    \r\n                    break;\r\n                case 27:\r\n                    if (fileComponentName) {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        core.controllersOff();\r\n                        return false;\r\n                    }\r\n                    break;\r\n            }\r\n\r\n            if (shift && keyCode === 16) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                const tablePlugin = core.plugins.table;\r\n                if (tablePlugin && !tablePlugin._shift && !tablePlugin._ref) {\r\n                    const cell = util.getParentElement(formatEl, util.isCell);\r\n                    if (cell) {\r\n                        tablePlugin.onTableCellMultiSelect.call(core, cell, true);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !selectRange && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && range.collapsed && range.startContainer === range.endContainer && util.isBreak(range.commonAncestorContainer)) {\r\n                const zeroWidth = util.createTextNode(util.zeroWidthSpace);\r\n                core.insertNode(zeroWidth, null, false);\r\n                core.setRange(zeroWidth, 1, zeroWidth, 1);\r\n            }\r\n\r\n            if (typeof functions.onKeyDown === 'function') functions.onKeyDown(e, core);\r\n        },\r\n\r\n        onKeyUp_wysiwyg: function (e) {\r\n            if (event._onShortcutKey) return;\r\n            core._editorRange();\r\n\r\n            const range = core.getRange();\r\n            const keyCode = e.keyCode;\r\n            const ctrl = e.ctrlKey || e.metaKey || keyCode === 91 || keyCode === 92 || keyCode === 224;\r\n            const alt = e.altKey;\r\n            let selectionNode = core.getSelectionNode();\r\n\r\n            if (core._isBalloon && ((core._isBalloonAlways && keyCode !== 27) || !range.collapsed)) {\r\n                if (core._isBalloonAlways) {\r\n                    if (keyCode !== 27) event._showToolbarBalloonDelay();\r\n                } else {\r\n                    event._showToolbarBalloon();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            /** when format tag deleted */\r\n            if (keyCode === 8 && util.isWysiwygDiv(selectionNode) && selectionNode.textContent === '' && selectionNode.children.length === 0) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                selectionNode.innerHTML = '';\r\n\r\n                const oFormatTag = util.createElement(util.isFormatElement(core._variable.currentNodes[0]) ? core._variable.currentNodes[0] : options.defaultTag);\r\n                oFormatTag.innerHTML = '<br>';\r\n\r\n                selectionNode.appendChild(oFormatTag);\r\n                core.setRange(oFormatTag, 0, oFormatTag, 0);\r\n                event._applyTagEffects();\r\n\r\n                core.history.push(false);\r\n                return;\r\n            }\r\n\r\n            const formatEl = util.getFormatElement(selectionNode, null);\r\n            const rangeEl = util.getRangeFormatElement(selectionNode, null);\r\n            if (((!formatEl && range.collapsed) || formatEl === rangeEl) && !util.isComponent(selectionNode) && !util.isList(selectionNode)) {\r\n                core._setDefaultFormat(util.isRangeFormatElement(rangeEl) ? 'DIV' : options.defaultTag);\r\n                selectionNode = core.getSelectionNode();\r\n            }\r\n\r\n            if (event._directionKeyCode.test(keyCode)) {\r\n                event._applyTagEffects();\r\n            }\r\n\r\n            const textKey = !ctrl && !alt && !event._nonTextKeyCode.test(keyCode);\r\n            if (textKey && selectionNode.nodeType === 3 && util.zeroWidthRegExp.test(selectionNode.textContent) && !(e.isComposing !== undefined ? e.isComposing : event._IEisComposing)) {\r\n                let so = range.startOffset, eo = range.endOffset;\r\n                const frontZeroWidthCnt = (selectionNode.textContent.substring(0, eo).match(event._frontZeroWidthReg) || '').length;\r\n                so = range.startOffset - frontZeroWidthCnt;\r\n                eo = range.endOffset - frontZeroWidthCnt;\r\n                selectionNode.textContent = selectionNode.textContent.replace(util.zeroWidthRegExp, '');\r\n                core.setRange(selectionNode, so < 0 ? 0 : so, selectionNode, eo < 0 ? 0 : eo);\r\n            }\r\n\r\n            core._charCount('');\r\n\r\n            // history stack\r\n            core.history.push(true);\r\n\r\n            if (typeof functions.onKeyUp === 'function') functions.onKeyUp(e, core);\r\n        },\r\n\r\n        onScroll_wysiwyg: function (e) {\r\n            core.controllersOff();\r\n            core._lineBreaker.style.display = 'none';\r\n            if (core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onScroll === 'function') functions.onScroll(e, core);\r\n        },\r\n\r\n        onFocus_wysiwyg: function (e) {\r\n            if (core._antiBlur) return;\r\n            core.hasFocus = true;\r\n            if (core._isInline) event._showToolbarInline();\r\n            if (typeof functions.onFocus === 'function') functions.onFocus(e, core);\r\n        },\r\n\r\n        onBlur_wysiwyg: function (e) {\r\n            if (core._antiBlur || core._variable.isCodeView) return;\r\n            core.hasFocus = false;\r\n            core.controllersOff();\r\n            if (core._isInline || core._isBalloon) event._hideToolbar();\r\n            if (typeof functions.onBlur === 'function') functions.onBlur(e, core);\r\n\r\n            // active class reset of buttons\r\n            const commandMap = core.commandMap;\r\n            const activePlugins = core.activePlugins;\r\n            for (let key in commandMap) {\r\n                if (!util.hasOwn(commandMap, key)) continue;\r\n                if (activePlugins.indexOf(key) > -1) {\r\n                    plugins[key].active.call(core, null);\r\n                } else if (commandMap.OUTDENT && /^OUTDENT$/i.test(key)) {\r\n                    commandMap.OUTDENT.setAttribute('disabled', true);\r\n                } else if (commandMap.INDENT && /^INDENT$/i.test(key)) {\r\n                    commandMap.INDENT.removeAttribute('disabled');\r\n                } else {\r\n                    util.removeClass(commandMap[key], 'active');\r\n                }\r\n            }\r\n\r\n            core._variable.currentNodes = [];\r\n            core._variable.currentNodesMap = [];\r\n            if (options.showPathLabel) context.element.navigation.textContent = '';\r\n        },\r\n\r\n        onMouseDown_resizingBar: function (e) {\r\n            e.stopPropagation();\r\n\r\n            core._variable.resizeClientY = e.clientY;\r\n            context.element.resizeBackground.style.display = 'block';\r\n\r\n            function closureFunc() {\r\n                context.element.resizeBackground.style.display = 'none';\r\n                _d.removeEventListener('mousemove', event._resize_editor);\r\n                _d.removeEventListener('mouseup', closureFunc);\r\n            }\r\n\r\n            _d.addEventListener('mousemove', event._resize_editor);\r\n            _d.addEventListener('mouseup', closureFunc);\r\n        },\r\n\r\n        _resize_editor: function (e) {\r\n            const resizeInterval = context.element.editorArea.offsetHeight + (e.clientY - core._variable.resizeClientY);\r\n            context.element.wysiwygFrame.style.height = context.element.code.style.height = (resizeInterval < core._variable.minResizingSize ? core._variable.minResizingSize : resizeInterval) + 'px';\r\n            core._variable.resizeClientY = e.clientY;\r\n        },\r\n\r\n        onResize_window: function () {\r\n            core.controllersOff();\r\n\r\n            const responsiveSize = event._responsiveButtonSize;\r\n            if (responsiveSize) {\r\n                const windowWidth = _w.innerWidth;\r\n                let responsiveWidth = 'default';\r\n                for (let i = 1, len = responsiveSize.length; i < len; i++) {\r\n                    if (windowWidth < responsiveSize[i]) {\r\n                        responsiveWidth = responsiveSize[i] + '';\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (event._responsiveCurrentSize !== responsiveWidth) {\r\n                    event._responsiveCurrentSize = responsiveWidth;\r\n                    functions.setToolbarButtons(event._responsiveButtons[responsiveWidth]);\r\n                }\r\n            }\r\n\r\n            if (context.element.toolbar.offsetWidth === 0) return;\r\n\r\n            if (context.fileBrowser && context.fileBrowser.area.style.display === 'block') {\r\n                context.fileBrowser.body.style.maxHeight = (_w.innerHeight - context.fileBrowser.header.offsetHeight - 50) + 'px';\r\n            }\r\n\r\n            if (core.submenuActiveButton && core.submenu) {\r\n                core._setMenuPosition(core.submenuActiveButton, core.submenu);\r\n            }\r\n\r\n            if (core._variable.isFullScreen) {\r\n                core._variable.innerHeight_fullScreen += (_w.innerHeight - context.element.toolbar.offsetHeight) - core._variable.innerHeight_fullScreen;\r\n                context.element.editorArea.style.height = core._variable.innerHeight_fullScreen + 'px';\r\n                return;\r\n            }\r\n\r\n            if (core._variable.isCodeView && core._isInline) {\r\n                event._showToolbarInline();\r\n                return;\r\n            }\r\n            \r\n            core._iframeAutoHeight();\r\n\r\n            if (core._sticky) {\r\n                context.element.toolbar.style.width = (context.element.topArea.offsetWidth - 2) + 'px';\r\n                event.onScroll_window();\r\n            }\r\n        },\r\n\r\n        onScroll_window: function () {\r\n            if (core._variable.isFullScreen || context.element.toolbar.offsetWidth === 0 || options.stickyToolbar < 0) return;\r\n\r\n            const element = context.element;\r\n            const editorHeight = element.editorArea.offsetHeight;\r\n            const y = (this.scrollY || _d.documentElement.scrollTop) + options.stickyToolbar;\r\n            const editorTop = event._getEditorOffsets(options.toolbarContainer).top - (core._isInline ? element.toolbar.offsetHeight : 0);\r\n            \r\n            if (y < editorTop) {\r\n                event._offStickyToolbar();\r\n            }\r\n            else if (y + core._variable.minResizingSize >= editorHeight + editorTop) {\r\n                if (!core._sticky) event._onStickyToolbar();\r\n                element.toolbar.style.top = (editorHeight + editorTop + options.stickyToolbar -y - core._variable.minResizingSize) + 'px';\r\n            }\r\n            else if (y >= editorTop) {\r\n                event._onStickyToolbar();\r\n            }\r\n        },\r\n\r\n        _getEditorOffsets: function (container) {\r\n            let offsetEl = container || context.element.topArea;\r\n            let t = 0, l = 0, s = 0;\r\n\r\n            while (offsetEl) {\r\n                t += offsetEl.offsetTop;\r\n                l += offsetEl.offsetLeft;\r\n                s += offsetEl.scrollTop;\r\n                offsetEl = offsetEl.offsetParent;\r\n            }\r\n\r\n            return {\r\n                top: t,\r\n                left: l,\r\n                scroll: s\r\n            };\r\n        },\r\n\r\n        _getPageBottomSpace: function () {\r\n            return _d.documentElement.scrollHeight - (event._getEditorOffsets(null).top + context.element.topArea.offsetHeight);\r\n        },\r\n\r\n        _onStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            if (!core._isInline && !options.toolbarContainer) {\r\n                element._stickyDummy.style.height = element.toolbar.offsetHeight + 'px';\r\n                element._stickyDummy.style.display = 'block';\r\n            }\r\n\r\n            element.toolbar.style.top = options.stickyToolbar + 'px';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : element.toolbar.offsetWidth + 'px';\r\n            util.addClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = true;\r\n        },\r\n\r\n        _offStickyToolbar: function () {\r\n            const element = context.element;\r\n\r\n            element._stickyDummy.style.display = 'none';\r\n            element.toolbar.style.top = core._isInline ? core._inlineToolbarAttr.top : '';\r\n            element.toolbar.style.width = core._isInline ? core._inlineToolbarAttr.width : '';\r\n            element.editorArea.style.marginTop = '';\r\n\r\n            util.removeClass(element.toolbar, 'se-toolbar-sticky');\r\n            core._sticky = false;\r\n        },\r\n\r\n        _codeViewAutoHeight: function () {\r\n            context.element.code.style.height = context.element.code.scrollHeight + 'px';\r\n        },\r\n\r\n        // FireFox - table delete, Chrome - image, video, audio\r\n        _hardDelete: function () {\r\n            const range = core.getRange();\r\n            const sc = range.startContainer;\r\n            const ec = range.endContainer;\r\n            \r\n            // table\r\n            const sCell = util.getRangeFormatElement(sc);\r\n            const eCell = util.getRangeFormatElement(ec);\r\n            const sIsCell = util.isCell(sCell);\r\n            const eIsCell = util.isCell(eCell);\r\n            if (((sIsCell && !sCell.previousElementSibling && !sCell.parentElement.previousElementSibling) || (eIsCell && !eCell.nextElementSibling && !eCell.parentElement.nextElementSibling)) && sCell !== eCell) {\r\n                if (!sIsCell) {\r\n                    util.removeItem(util.getParentElement(eCell, util.isComponent));\r\n                } else if (!eIsCell) {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                } else {\r\n                    util.removeItem(util.getParentElement(sCell, util.isComponent));\r\n                    core.nativeFocus();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            // component\r\n            const sComp = sc.nodeType === 1 ? util.getParentElement(sc, '.se-component') : null;\r\n            const eComp = ec.nodeType === 1 ? util.getParentElement(ec, '.se-component') : null;\r\n            if (sComp) util.removeItem(sComp);\r\n            if (eComp) util.removeItem(eComp);\r\n\r\n            return false;\r\n        },\r\n\r\n        onPaste_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (!clipboardData) return true;\r\n            return event._dataTransferAction('paste', e, clipboardData);\r\n        },\r\n\r\n        _setClipboardComponent: function (e, info, clipboardData) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            clipboardData.setData('text/html', info.component.outerHTML);\r\n        },\r\n\r\n        onCopy_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCopy === 'function' && !functions.onCopy(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.addClass(info.component, 'se-component-copy');\r\n                // copy effect\r\n                _w.setTimeout(function () {\r\n                    util.removeClass(info.component, 'se-component-copy');\r\n                }, 150);\r\n            }\r\n        },\r\n\r\n        onCut_wysiwyg: function (e) {\r\n            const clipboardData = util.isIE ? _w.clipboardData : e.clipboardData;\r\n            if (typeof functions.onCut === 'function' && !functions.onCut(e, clipboardData, core)) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            const info = core.currentFileComponentInfo;\r\n            if (info && !util.isIE) {\r\n                event._setClipboardComponent(e, info, clipboardData);\r\n                util.removeItem(info.component);\r\n                core.controllersOff();\r\n            }\r\n\r\n            _w.setTimeout(function () {\r\n                // history stack\r\n                core.history.push(false);\r\n            });\r\n        },\r\n\r\n        onDrop_wysiwyg: function (e) {\r\n            const dataTransfer = e.dataTransfer;\r\n            if (!dataTransfer) return true;\r\n            if (util.isIE) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                return false;\r\n            }\r\n\r\n            core.removeNode();\r\n            event._setDropLocationSelection(e);\r\n            return event._dataTransferAction('drop', e, dataTransfer);\r\n        },\r\n\r\n        _setDropLocationSelection: function (e) {\r\n            if (e.rangeParent) {\r\n                core.setRange(e.rangeParent, e.rangeOffset, e.rangeParent, e.rangeOffset);\r\n            } else if (core._wd.caretRangeFromPoint) {\r\n                const r = core._wd.caretRangeFromPoint(e.clientX, e.clientY);\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            } else {\r\n                const r = core.getRange();\r\n                core.setRange(r.startContainer, r.startOffset, r.endContainer, r.endOffset);\r\n            }\r\n        },\r\n\r\n        _dataTransferAction: function (type, e, data) {\r\n            let plainText, cleanData;\r\n            if (util.isIE) {\r\n                plainText = data.getData('Text');\r\n                \r\n                const range = core.getRange();\r\n                const tempDiv = util.createElement('DIV');\r\n                const tempRange = {\r\n                    sc: range.startContainer,\r\n                    so: range.startOffset,\r\n                    ec: range.endContainer,\r\n                    eo: range.endOffset\r\n                };\r\n\r\n                tempDiv.setAttribute('contenteditable', true);\r\n                tempDiv.style.cssText = 'position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;';\r\n                \r\n                context.element.relative.appendChild(tempDiv);\r\n                tempDiv.focus();\r\n\r\n                _w.setTimeout(function () {\r\n                    cleanData = tempDiv.innerHTML;\r\n                    util.removeItem(tempDiv);\r\n                    core.setRange(tempRange.sc, tempRange.so, tempRange.ec, tempRange.eo);\r\n                    event._setClipboardData(type, e, plainText, cleanData, data);\r\n                });\r\n\r\n                return true;\r\n            } else {\r\n                plainText = data.getData('text/plain');\r\n                cleanData = data.getData('text/html') || plainText;\r\n                if (event._setClipboardData(type, e, plainText, cleanData, data) === false) {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                    return false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _setClipboardData: function (type, e, plainText, cleanData, data) {\r\n            // MS word\r\n            if (/class=[\"']*Mso(Normal|List)/i.test(cleanData) || /content=[\"']*Word.Document/i.test(cleanData) || /content=[\"']*OneNote.File/i.test(cleanData)) {\r\n                cleanData = cleanData.replace(/\\n/g, ' ');\r\n                plainText = plainText.replace(/\\n/g, ' ');\r\n            } else {\r\n                plainText = plainText.replace(/\\n/g, '');\r\n            }\r\n\r\n            cleanData = core.cleanHTML(cleanData, core.pasteTagsWhitelistRegExp);\r\n            const maxCharCount = core._charCount(core._charTypeHTML ? cleanData : plainText);\r\n\r\n            // paste event\r\n            if (type === 'paste' && typeof functions.onPaste === 'function') {\r\n                const value = functions.onPaste(e, cleanData, maxCharCount, core);\r\n                if (!value) return false;\r\n                if (typeof value === 'string') cleanData = value;\r\n            }\r\n            // drop event\r\n            if (type === 'drop' && typeof functions.onDrop === 'function') {\r\n                const value = functions.onDrop(e, cleanData, maxCharCount, core);\r\n                if (!value) return false;\r\n                if (typeof value === 'string') cleanData = value;\r\n            }\r\n\r\n            // files\r\n            const files = data.files;\r\n            if (files.length > 0) {\r\n                if (/^image/.test(files[0].type) && core.plugins.image) {\r\n                    functions.insertImage(files);\r\n                }\r\n                return false;\r\n            }\r\n\r\n            if (!maxCharCount) {\r\n                return false;\r\n            }\r\n\r\n            if (cleanData) {\r\n                functions.insertHTML(cleanData, true, false);\r\n                return false;\r\n            }\r\n        },\r\n\r\n        onMouseMove_wysiwyg: function (e) {\r\n            if (core.isDisabled) return;\r\n            const component = util.getParentElement(e.target, util.isComponent);\r\n            const lineBreakerStyle = core._lineBreaker.style;\r\n\r\n            if (component && !core.currentControllerName) {\r\n                let scrollTop = 0;\r\n                let el = context.element.wysiwyg;\r\n                do {\r\n                    scrollTop += el.scrollTop;\r\n                    el = el.parentElement;\r\n                } while (el && !/^(BODY|HTML)$/i.test(el.nodeName));\r\n\r\n                const wScroll = context.element.wysiwyg.scrollTop;\r\n                const offsets = event._getEditorOffsets(null);\r\n                const componentTop = util.getOffset(component, context.element.wysiwygFrame).top + wScroll;\r\n                const y = e.pageY + scrollTop + (options.iframe && !options.toolbarContainer ? context.element.toolbar.offsetHeight : 0);\r\n                const c = componentTop + (options.iframe ? scrollTop : offsets.top);\r\n\r\n                const isList = util.isListCell(component.parentNode);\r\n                let dir = '', top = '';\r\n                if ((isList ? !component.previousSibling : !util.isFormatElement(component.previousElementSibling)) && y < (c + 20)) {\r\n                    top = componentTop;\r\n                    dir = 't';\r\n                } else if ((isList ? !component.nextSibling : !util.isFormatElement(component.nextElementSibling)) && y > (c + component.offsetHeight - 20)) {\r\n                    top = componentTop + component.offsetHeight;\r\n                    dir = 'b';\r\n                } else {\r\n                    lineBreakerStyle.display = 'none';\r\n                    return;\r\n                }\r\n\r\n                core._variable._lineBreakComp = component;\r\n                core._variable._lineBreakDir = dir;\r\n                lineBreakerStyle.top = (top - wScroll) + 'px';\r\n                core._lineBreakerButton.style.left = (util.getOffset(component).left + (component.offsetWidth / 2) - 15) + 'px';\r\n                lineBreakerStyle.display = 'block';\r\n            } // off line breaker\r\n            else if (lineBreakerStyle.display !== 'none') {\r\n                lineBreakerStyle.display = 'none';\r\n            }\r\n        },\r\n\r\n        _onMouseDown_lineBreak: function (e) {\r\n            e.preventDefault();\r\n        },\r\n\r\n        _onLineBreak: function (e) {\r\n            e.preventDefault();\r\n            \r\n            const component = core._variable._lineBreakComp;\r\n            const dir = !this ? core._variable._lineBreakDir : this;\r\n            const isList = util.isListCell(component.parentNode);\r\n\r\n            const format = util.createElement(isList ? 'BR' : util.isCell(component.parentNode) ? 'DIV' : options.defaultTag);\r\n            if (!isList) format.innerHTML = '<br>';\r\n\r\n            if (core._charTypeHTML && !core.checkCharCount(format.outerHTML, 'byte-html')) return;\r\n\r\n            component.parentNode.insertBefore(format, dir === 't' ? component : component.nextSibling);\r\n            core._lineBreaker.style.display = 'none';\r\n            core._variable._lineBreakComp = null;\r\n\r\n            const focusEl = isList ? format : format.firstChild;\r\n            core.setRange(focusEl, 1, focusEl, 1);\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        _addEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            /** toolbar event */\r\n            context.element.toolbar.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element._menuTray.addEventListener('mousedown', event._buttonsEventHandler, false);\r\n            context.element.toolbar.addEventListener('click', event.onClick_toolbar, false);\r\n            /** editor area */\r\n            eventWysiwyg.addEventListener('mousedown', event.onMouseDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('click', event.onClick_wysiwyg, false);\r\n            eventWysiwyg.addEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keydown', event.onKeyDown_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('keyup', event.onKeyUp_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('paste', event.onPaste_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('copy', event.onCopy_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('cut', event.onCut_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('drop', event.onDrop_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('scroll', event.onScroll_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('focus', event.onFocus_wysiwyg, false);\r\n            eventWysiwyg.addEventListener('blur', event.onBlur_wysiwyg, false);\r\n\r\n            /** line breaker */\r\n            event._lineBreakerBind = { a: event._onLineBreak.bind(''), t: event._onLineBreak.bind('t'), b: event._onLineBreak.bind('b') };\r\n            eventWysiwyg.addEventListener('mousemove', event.onMouseMove_wysiwyg, false);\r\n            core._lineBreakerButton.addEventListener('mousedown', event._onMouseDown_lineBreak, false);\r\n            core._lineBreakerButton.addEventListener('click', event._lineBreakerBind.a, false);\r\n            context.element.lineBreaker_t.addEventListener('mousedown', event._lineBreakerBind.t, false);\r\n            context.element.lineBreaker_b.addEventListener('mousedown', event._lineBreakerBind.b, false);\r\n\r\n            /** Events are registered only when there is a table plugin.  */\r\n            if (core.plugins.table) {\r\n                eventWysiwyg.addEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            }\r\n            \r\n            /** code view area auto line */\r\n            if (options.height === 'auto' && !options.codeMirrorEditor) {\r\n                context.element.code.addEventListener('keydown', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('keyup', event._codeViewAutoHeight, false);\r\n                context.element.code.addEventListener('paste', event._codeViewAutoHeight, false);\r\n            }\r\n\r\n            /** resizingBar */\r\n            if (context.element.resizingBar) {\r\n                if (/\\d+/.test(options.height)) {\r\n                    context.element.resizingBar.addEventListener('mousedown', event.onMouseDown_resizingBar, false);\r\n                } else {\r\n                    util.addClass(context.element.resizingBar, 'se-resizing-none');\r\n                }\r\n            }\r\n            \r\n            /** window event */\r\n            event._setResponsiveToolbar();\r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n\r\n            _w.addEventListener('resize', event.onResize_window, false);\r\n            if (options.stickyToolbar > -1) {\r\n                _w.addEventListener('scroll', event.onScroll_window, false);\r\n            }\r\n        },\r\n\r\n        _removeEvent: function () {\r\n            const eventWysiwyg = options.iframe ? core._ww : context.element.wysiwyg;\r\n\r\n            context.element.toolbar.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element._menuTray.removeEventListener('mousedown', event._buttonsEventHandler);\r\n            context.element.toolbar.removeEventListener('click', event.onClick_toolbar);\r\n\r\n            eventWysiwyg.removeEventListener('mousedown', event.onMouseDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('click', event.onClick_wysiwyg);\r\n            eventWysiwyg.removeEventListener(util.isIE ? 'textinput' : 'input', event.onInput_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keydown', event.onKeyDown_wysiwyg);\r\n            eventWysiwyg.removeEventListener('keyup', event.onKeyUp_wysiwyg);\r\n            eventWysiwyg.removeEventListener('paste', event.onPaste_wysiwyg);\r\n            eventWysiwyg.removeEventListener('copy', event.onCopy_wysiwyg);\r\n            eventWysiwyg.removeEventListener('cut', event.onCut_wysiwyg);\r\n            eventWysiwyg.removeEventListener('drop', event.onDrop_wysiwyg);\r\n            eventWysiwyg.removeEventListener('scroll', event.onScroll_wysiwyg);\r\n\r\n            eventWysiwyg.removeEventListener('mousemove', event.onMouseMove_wysiwyg);\r\n            core._lineBreakerButton.removeEventListener('mousedown', event._onMouseDown_lineBreak);\r\n            core._lineBreakerButton.removeEventListener('click', event._lineBreakerBind.a);\r\n            context.element.lineBreaker_t.removeEventListener('mousedown', event._lineBreakerBind.t);\r\n            context.element.lineBreaker_b.removeEventListener('mousedown', event._lineBreakerBind.b);\r\n            event._lineBreakerBind = null;\r\n            \r\n            eventWysiwyg.removeEventListener('touchstart', event.onMouseDown_wysiwyg, {passive: true, useCapture: false});\r\n            \r\n            eventWysiwyg.removeEventListener('focus', event.onFocus_wysiwyg);\r\n            eventWysiwyg.removeEventListener('blur', event.onBlur_wysiwyg);\r\n\r\n            context.element.code.removeEventListener('keydown', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('keyup', event._codeViewAutoHeight);\r\n            context.element.code.removeEventListener('paste', event._codeViewAutoHeight);\r\n            \r\n            if (context.element.resizingBar) {\r\n                context.element.resizingBar.removeEventListener('mousedown', event.onMouseDown_resizingBar);\r\n            }\r\n            \r\n            _w.removeEventListener('resize', event.onResize_window);\r\n            _w.removeEventListener('scroll', event.onScroll_window);\r\n        },\r\n\r\n        _setResponsiveToolbar: function () {\r\n            if (_responsiveButtons.length === 0) {\r\n                _responsiveButtons = null;\r\n                return;\r\n            }\r\n\r\n            const sizeArray = event._responsiveButtonSize = [];\r\n            const buttonsObj = event._responsiveButtons = {default: _responsiveButtons[0]};\r\n            for (let i = 1, len = _responsiveButtons.length, size, buttonGroup; i < len; i++) {\r\n                buttonGroup = _responsiveButtons[i];\r\n                size = buttonGroup[0] * 1;\r\n                sizeArray.push(size);\r\n                buttonsObj[size] = buttonGroup[1];\r\n            }\r\n\r\n            sizeArray.sort(function (a, b) { return a - b; }).unshift('default');\r\n        }\r\n    };\r\n\r\n    /** functions */\r\n    const functions = {\r\n        /**\r\n         * @description Core, Util object\r\n         */\r\n        core: core,\r\n        util: util,\r\n\r\n        /**\r\n         * @description Event functions\r\n         * @param {Object} e Event Object\r\n         * @param {Object} core Core object\r\n         */\r\n        onload: null,\r\n        onScroll: null,\r\n        onMouseDown: null,\r\n        onClick: null,\r\n        onInput: null,\r\n        onKeyDown: null,\r\n        onKeyUp: null,\r\n        onChange: null,\r\n        onCopy: null,\r\n        onCut: null,\r\n        onFocus: null,\r\n        onBlur: null,\r\n\r\n        /**\r\n         * @description Event functions (drop, paste)\r\n         * When false is returned, the default behavior is stopped.\r\n         * If the string is returned, the cleanData value is modified to the return value.\r\n         * @param {Object} e Event object.\r\n         * @param {String} cleanData HTML string modified for editor format.\r\n         * @param {Boolean} maxChartCount option (true if max character is exceeded)\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean|String}\r\n         */\r\n        onDrop: null,\r\n        onPaste: null,\r\n\r\n        /**\r\n         * @description Called just before the inline toolbar is positioned and displayed on the screen.\r\n         * @param {Element} toolbar Toolbar Element\r\n         * @param {Object} context The editor's context object (editor.getContext())\r\n         * @param {Object} core Core object\r\n         */\r\n        showInline: null,\r\n\r\n        /**\r\n         * @description Called just after the controller is positioned and displayed on the screen.\r\n         * controller - editing elements displayed on the screen [image resizing, table editor, link editor..]]\r\n         * @param {String} name The name of the plugin that called the controller\r\n         * @param {Array} controllers Array of Controller elements\r\n         * @param {Object} core Core object\r\n         */\r\n        showController: null,\r\n\r\n        /**\r\n         * @description An event when toggling between code view and wysiwyg view.\r\n         * @param {Boolean} isCodeView Whether the current code view mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleCodeView: null,\r\n\r\n        /**\r\n         * @description An event when toggling full screen.\r\n         * @param {Boolean} isFullScreen Whether the current full screen mode\r\n         * @param {Object} core Core object\r\n         */\r\n        toggleFullScreen: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the image upload\r\n         * @param {Object} response Response object\r\n         * @param {Object} info Input information\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * @param {Object} core Core object\r\n         */\r\n        imageUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the video upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * @param core Core object\r\n         */\r\n        videoUploadHandler: null,\r\n\r\n        /**\r\n         * @description It replaces the default callback function of the audio upload\r\n         * @param xmlHttp xmlHttpRequest object\r\n         * @param info Input information\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * @param core Core object\r\n         */\r\n        audioUploadHandler: null,\r\n\r\n        /**\r\n         * @description Called before the image is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no image upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - linkValue: Link url value\r\n         * - linkNewWindow: Open in new window Check Value\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update image if true, create image if false\r\n         * - element: If isUpdate is true, the currently selected image.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"imageUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onImageUploadBefore: null,\r\n        /**\r\n         * @description Called before the video is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no video(iframe, video) upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - inputWidth: Value of width input\r\n         * - inputHeight: Value of height input\r\n         * - align: Align Check Value\r\n         * - isUpdate: Update video if true, create video if false\r\n         * - element: If isUpdate is true, the currently selected video.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"videoUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onVideoUploadBefore: null,\r\n        /**\r\n         * @description Called before the audio is uploaded\r\n         * If true is returned, the internal upload process runs normally.\r\n         * If false is returned, no audio upload is performed.\r\n         * If new fileList are returned,  replaced the previous fileList\r\n         * If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         * @param {Array} files Files array\r\n         * @param {Object} info info: {\r\n         * - isUpdate: Update audio if true, create audio if false\r\n         * - element: If isUpdate is true, the currently selected audio.\r\n         * }\r\n         * @param {Object} core Core object\r\n         * @param {Function} uploadHandler If undefined is returned, it waits until \"uploadHandler\" is executed.\r\n         *                \"uploadHandler\" is an upload function with \"core\" and \"info\" bound.\r\n         *                [upload files] : uploadHandler(files or [new File(...),])\r\n         *                [error]        : uploadHandler(\"Error message\")\r\n         *                [Just finish]  : uploadHandler()\r\n         *                [directly register] : uploadHandler(response) // Same format as \"audioUploadUrl\" response\r\n         *                                   ex) {\r\n         *                                      // \"errorMessage\": \"insert error message\",\r\n         *                                      \"result\": [ { \"url\": \"...\", \"name\": \"...\", \"size\": \"999\" }, ]\r\n         *                                   }\r\n         * @returns {Boolean|Array|undefined}\r\n         */\r\n        onAudioUploadBefore: null,\r\n\r\n        /**\r\n         * @description Called when the image is uploaded, updated, deleted\r\n         * @param {Element} targetElement Target element\r\n         * @param {Number} index Uploaded index\r\n         * @param {String} state Upload status ('create', 'update', 'delete')\r\n         * @param {Object} info Image info object\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {Number} remainingFilesCount Count of remaining files to upload (0 when added as a url)\r\n         * @param {Object} core Core object\r\n         */\r\n        onImageUpload: null,\r\n         /**\r\n         * @description Called when the video(iframe, video) is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onVideoUpload: null,\r\n         /**\r\n         * @description Called when the audio is is uploaded, updated, deleted\r\n         * -- arguments is same \"onImageUpload\" --\r\n         */\r\n        onAudioUpload: null,\r\n\r\n        /**\r\n         * @description Called when the image is upload failed\r\n         * @param {String} errorMessage Error message\r\n         * @param {Object} result Response Object\r\n         * @param {Object} core Core object\r\n         * @returns {Boolean}\r\n         */\r\n        onImageUploadError: null,\r\n        /**\r\n         * @description Called when the video(iframe, video) upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onVideoUploadError: null,\r\n        /**\r\n         * @description Called when the audio upload failed\r\n         * -- arguments is same \"onImageUploadError\" --\r\n         */\r\n        onAudioUploadError: null,\r\n\r\n        /**\r\n         * @description Reset the buttons on the toolbar. (Editor is not reloaded)\r\n         * You cannot set a new plugin for the button.\r\n         * @param {Array} buttonList Button list \r\n         */\r\n        setToolbarButtons: function (buttonList) {\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            \r\n            const newToolbar = lib_constructor._createToolBar(_d, buttonList, core.plugins, options);\r\n            _responsiveButtons = newToolbar.responsiveButtons;\r\n            core._moreLayerActiveButton = null;\r\n            event._setResponsiveToolbar();\r\n\r\n            context.element.toolbar.replaceChild(newToolbar._buttonTray, context.element._buttonTray);\r\n            const newContext = lib_context(context.element.originElement, core._getConstructed(context.element), options);\r\n\r\n            context.element = newContext.element;\r\n            context.tool = newContext.tool;\r\n            if (options.iframe) context.element.wysiwyg = core._wd.body;\r\n            core._cachingButtons();\r\n            core.history._resetCachingButton();\r\n\r\n            core.activePlugins = [];\r\n            const oldCallButtons = pluginCallButtons;\r\n            pluginCallButtons = newToolbar.pluginCallButtons;\r\n            let plugin, button, oldButton;\r\n            for (let key in pluginCallButtons) {\r\n                if (!util.hasOwn(pluginCallButtons, key)) continue;\r\n                plugin = plugins[key];\r\n                button = pluginCallButtons[key];\r\n                if (plugin.active && button) {\r\n                    oldButton = oldCallButtons[key];\r\n                    core.callPlugin(key, null, oldButton || button);\r\n                    if (oldButton) {\r\n                        button.parentElement.replaceChild(oldButton, button);\r\n                        pluginCallButtons[key] = oldButton;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (core.hasFocus) event._applyTagEffects();\r\n\r\n            if (core._variable.isCodeView) util.addClass(core._styleCommandMap.codeView, 'active');\r\n            if (core._variable.isFullScreen) util.addClass(core._styleCommandMap.fullScreen, 'active');\r\n            if (util.hasClass(context.element.wysiwyg, 'se-show-block')) util.addClass(core._styleCommandMap.showBlocks, 'active');\r\n        },\r\n\r\n        /**\r\n         * @description Add or reset option property (Editor is reloaded)\r\n         * @param {Object} _options Options\r\n         */\r\n        setOptions: function (_options) {\r\n            event._removeEvent();\r\n            core._resetComponents();\r\n            \r\n            util.removeClass(core._styleCommandMap.showBlocks, 'active');\r\n            util.removeClass(core._styleCommandMap.codeView, 'active');\r\n            core._variable.isCodeView = false;\r\n            core._iframeAuto = null;\r\n\r\n            core.plugins = _options.plugins || core.plugins;\r\n            const mergeOptions = [options, _options].reduce(function (init, option) {\r\n                for (let key in option) {\r\n                    if (!util.hasOwn(option, key)) continue;\r\n                    if (key === 'plugins' && option[key] && init[key]) {\r\n                        let i = init[key], o = option[key];\r\n                        i = i.length ? i : _w.Object.keys(i).map(function(name) { return i[name]; });\r\n                        o = o.length ? o : _w.Object.keys(o).map(function(name) { return o[name]; });\r\n                        init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\r\n                    } else {\r\n                        init[key] = option[key];\r\n                    }\r\n                }\r\n                return init;\r\n            }, {});\r\n\r\n            const el = context.element;\r\n            const _initHTML = el.wysiwyg.innerHTML;\r\n\r\n            // set option\r\n            const cons = lib_constructor._setOptions(mergeOptions, context, core.plugins, options);        \r\n\r\n            if (cons.callButtons) {\r\n                pluginCallButtons = cons.callButtons;\r\n                core.initPlugins = {};\r\n            }\r\n\r\n            if (cons.plugins) {\r\n                core.plugins = plugins = cons.plugins;\r\n            }\r\n\r\n            // reset context\r\n            if (el._menuTray.children.length === 0) this._menuTray = {};\r\n            _responsiveButtons = cons.toolbar.responsiveButtons;\r\n            options = mergeOptions;\r\n            core.lang = lang = options.lang;\r\n\r\n            if (options.iframe) {\r\n                el.wysiwygFrame.addEventListener('load', function () {\r\n                    util._setIframeDocument(this, options);\r\n                    core._setOptionsInit(el, _initHTML);\r\n                });\r\n            }\r\n\r\n            el.editorArea.appendChild(el.wysiwygFrame);\r\n\r\n            if (!options.iframe) {\r\n                core._setOptionsInit(el, _initHTML);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Set \"options.defaultStyle\" style.\r\n         * Define the style of the edit area\r\n         * It can also be defined with the \"setOptions\" method, but the \"setDefaultStyle\" method does not render the editor again.\r\n         * @param {String} style Style string\r\n         */\r\n        setDefaultStyle: function (style) {\r\n            const newStyles = options._editorStyles = util._setDefaultOptionStyle(options, style);\r\n            const el = context.element;\r\n\r\n            // top area\r\n            el.topArea.style.cssText = newStyles.top;\r\n            // code view\r\n            el.code.style.cssText = options._editorStyles.frame;\r\n            el.code.style.display = 'none';\r\n            if (options.height === 'auto') {\r\n                el.code.style.overflow = 'hidden';\r\n            } else {\r\n                el.code.style.overflow = '';\r\n            }\r\n            // wysiwyg frame\r\n            if (!options.iframe) {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame + newStyles.editor;\r\n            } else {\r\n                el.wysiwygFrame.style.cssText = newStyles.frame;\r\n                el.wysiwyg.style.cssText = newStyles.editor;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Open a notice area\r\n         * @param {String} message Notice message\r\n         */\r\n        noticeOpen: function (message) {\r\n            core.notice.open.call(core, message);\r\n        },\r\n\r\n        /**\r\n         * @description Close a notice area\r\n         */\r\n        noticeClose: function () {\r\n            core.notice.close.call(core);\r\n        },\r\n\r\n        /**\r\n         * @description Copying the contents of the editor to the original textarea\r\n         */\r\n        save: function () {\r\n            context.element.originElement.value = core.getContents(false);\r\n        },\r\n\r\n        /**\r\n         * @description Gets the suneditor's context object. Contains settings, plugins, and cached element objects\r\n         * @returns {Object}\r\n         */\r\n        getContext: function () {\r\n            return context;\r\n        },\r\n\r\n        /**\r\n         * @description Gets the contents of the suneditor\r\n         * @param {Boolean} onlyContents - Return only the contents of the body without headers when the \"fullPage\" option is true\r\n         * @returns {String}\r\n         */\r\n        getContents: function (onlyContents) {\r\n            return core.getContents(onlyContents);\r\n        },\r\n\r\n        /**\r\n         * @description Gets only the text of the suneditor contents\r\n         * @returns {String}\r\n         */\r\n        getText: function () {\r\n            return context.element.wysiwyg.textContent;\r\n        },\r\n\r\n        /**\r\n         * @description Get the editor's number of characters or binary data size.\r\n         * You can use the \"charCounterType\" option format.\r\n         * @param {String|null} charCounterType options - charCounterType ('char', 'byte', 'byte-html')\r\n         * If argument is no value, the currently set \"charCounterType\" option is used.\r\n         * @returns {Number}\r\n         */\r\n        getCharCount: function (charCounterType) {\r\n            charCounterType = typeof charCounterType === 'string' ? charCounterType : options.charCounterType;\r\n            return core.getCharLength((core._charTypeHTML ? context.element.wysiwyg.innerHTML : context.element.wysiwyg.textContent), charCounterType);\r\n        },\r\n\r\n        /**\r\n         * @description Gets uploaded images informations\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @returns {Array}\r\n         */\r\n        getImagesInfo: function () {\r\n            return context.image ? context.image._infoList : [];\r\n        },\r\n        \r\n        /**\r\n         * @description Gets uploaded files(plugin using fileManager) information list.\r\n         * image: [img], video: [video, iframe], audio: [audio]\r\n         * When the argument value is 'image', it is the same function as \"getImagesInfo\".\r\n         * - index: data index\r\n         * - name: file name\r\n         * - size: file size\r\n         * - select: select function\r\n         * - delete: delete function\r\n         * - element: target element\r\n         * - src: src attribute of tag\r\n         * @param {String} pluginName Plugin name (image, video, audio)\r\n         * @returns {Array}\r\n         */\r\n        getFilesInfo: function (pluginName) {\r\n            return context[pluginName] ? context[pluginName]._infoList : [];\r\n        },\r\n\r\n        /**\r\n         * @description Upload images using image plugin\r\n         * @param {FileList} files FileList\r\n         */\r\n        insertImage: function (files) {\r\n            if (!core.plugins.image || !files) return;\r\n\r\n            if (!core.initPlugins.image) core.callPlugin('image', core.plugins.image.submitAction.bind(core, files), null);\r\n            else core.plugins.image.submitAction.call(core, files);\r\n            core.focus();\r\n        },\r\n\r\n        /**\r\n         * @description Inserts an HTML element or HTML string or plain string at the current cursor position\r\n         * @param {Element|String} html HTML Element or HTML string or plain string\r\n         * @param {Boolean} notCleaningData If true, inserts the HTML string without refining it with core.cleanHTML.\r\n         * @param {Boolean} checkCharCount If true, if \"options.maxCharCount\" is exceeded when \"element\" is added, null is returned without addition.\r\n         * @param {Boolean} rangeSelection If true, range select the inserted node.\r\n         */\r\n        insertHTML: function (html, notCleaningData, checkCharCount, rangeSelection) {\r\n            if (typeof html === 'string') {\r\n                if (!notCleaningData) html = core.cleanHTML(html, null);\r\n                try {\r\n                    const dom = _d.createRange().createContextualFragment(html);\r\n                    const domTree = dom.childNodes;\r\n\r\n                    if (checkCharCount) {\r\n                        const type = core._charTypeHTML ? 'outerHTML' : 'textContent';\r\n                        let checkHTML = '';\r\n                        for (let i = 0, len = domTree.length; i < len; i++) {\r\n                            checkHTML += domTree[i][type];\r\n                        }\r\n                        if (!core.checkCharCount(checkHTML, null)) return;\r\n                    }\r\n\r\n                    let c, a, t, firstCon;\r\n                    while ((c = domTree[0])) {\r\n                        t = core.insertNode(c, a, false);\r\n                        a = t.container || t;\r\n                        if (!firstCon) firstCon = t;\r\n                    }\r\n\r\n                    const offset = a.nodeType === 3 ? (t.endOffset || a.textContent.length): a.childNodes.length;\r\n                    if (rangeSelection) core.setRange(firstCon.container || firstCon, firstCon.startOffset || 0, a, offset);\r\n                    else core.setRange(a, offset, a, offset);\r\n                } catch (error) {\r\n                    core.execCommand('insertHTML', false, html);\r\n                }\r\n            } else {\r\n                if (util.isComponent(html)) {\r\n                    core.insertComponent(html, false, checkCharCount, false);\r\n                } else {\r\n                    let afterNode = null;\r\n                    if (util.isFormatElement(html) || util.isMedia(html)) {\r\n                        afterNode = util.getFormatElement(core.getSelectionNode(), null);\t\r\n                    }\r\n                    core.insertNode(html, afterNode, checkCharCount);\r\n                }\r\n            }\r\n            \r\n            core.effectNode = null;\r\n            core.focus();\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Change the contents of the suneditor\r\n         * @param {String|undefined} contents Contents to Input\r\n         */\r\n        setContents: function (contents) {\r\n            core.setContents(contents);\r\n        },\r\n\r\n        /**\r\n         * @description Add contents to the suneditor\r\n         * @param {String} contents Contents to Input\r\n         */\r\n        appendContents: function (contents) {\r\n            const convertValue = core.convertContentsForEditor(contents);\r\n            \r\n            if (!core._variable.isCodeView) {\r\n                const temp = util.createElement('DIV');\r\n                temp.innerHTML = convertValue;\r\n\r\n                const wysiwyg = context.element.wysiwyg;\r\n                const children = temp.children;\r\n                for (let i = 0, len = children.length; i < len; i++) {\r\n                    wysiwyg.appendChild(children[i]);\r\n                }\r\n            } else {\r\n                core._setCodeView(core._getCodeView() + '\\n' + core.convertHTMLForCodeView(convertValue));\r\n            }\r\n\r\n            // history stack\r\n            core.history.push(false);\r\n        },\r\n\r\n        /**\r\n         * @description Disable the suneditor\r\n         */\r\n        disabled: function () {\r\n            context.tool.cover.style.display = 'block';\r\n            context.element.wysiwyg.setAttribute('contenteditable', false);\r\n            core.isDisabled = true;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', true);\r\n            } else {\r\n                context.element.code.setAttribute('disabled', 'disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Enable the suneditor\r\n         */\r\n        enabled: function () {\r\n            context.tool.cover.style.display = 'none';\r\n            context.element.wysiwyg.setAttribute('contenteditable', true);\r\n            core.isDisabled = false;\r\n\r\n            if (options.codeMirrorEditor) {\r\n                options.codeMirrorEditor.setOption('readOnly', false);\r\n            } else {\r\n                context.element.code.removeAttribute('disabled');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * @description Show the suneditor\r\n         */\r\n        show: function () {\r\n            const topAreaStyle = context.element.topArea.style;\r\n            if (topAreaStyle.display === 'none') topAreaStyle.display = options.display;\r\n        },\r\n\r\n        /**\r\n         * @description Hide the suneditor\r\n         */\r\n        hide: function () {\r\n            context.element.topArea.style.display = 'none';\r\n        },\r\n\r\n        /**\r\n         * @description Destroy the suneditor\r\n         */\r\n        destroy: function () {\r\n            /** off menus */\r\n            core.submenuOff();\r\n            core.containerOff();\r\n            core.controllersOff();\r\n            if (core.notice) core.notice.close.call(core);\r\n            if (core.modalForm) core.plugins.dialog.close.call(core);\r\n\r\n            /** remove history */\r\n            core.history._destroy();\r\n\r\n            /** remove event listeners */\r\n            event._removeEvent();\r\n            \r\n            /** remove element */\r\n            util.removeItem(context.element.toolbar);\r\n            util.removeItem(context.element.topArea);\r\n\r\n            /** remove object reference */\r\n            for (let k in core) { if (util.hasOwn(core, k)) delete core[k]; }\r\n            for (let k in event) { if (util.hasOwn(event, k)) delete event[k]; }\r\n            for (let k in context) { if (util.hasOwn(context, k)) delete context[k]; }\r\n            for (let k in pluginCallButtons) { if (util.hasOwn(pluginCallButtons, k)) delete pluginCallButtons[k]; }\r\n            \r\n            /** remove user object */\r\n            for (let k in this) { if (util.hasOwn(this, k)) delete this[k]; }\r\n        },\r\n\r\n        /**\r\n         * @description Toolbar methods\r\n         */\r\n        toolbar: {\r\n            /**\r\n             * @description Disable the toolbar\r\n             */\r\n            disabled: function () {\r\n                context.tool.cover.style.display = 'block';\r\n            },\r\n\r\n            /**\r\n             * @description Enable the toolbar\r\n             */\r\n            enabled: function () {\r\n                context.tool.cover.style.display = 'none';\r\n            },\r\n\r\n            /**\r\n             * @description Show the toolbar\r\n             */\r\n            show: function () {\r\n                if (core._isInline) {\r\n                    event._showToolbarInline();\r\n                } else {\r\n                    context.element.toolbar.style.display = '';\r\n                    context.element._stickyDummy.style.display = '';\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @description Hide the toolbar\r\n             */\r\n            hide: function () {\r\n                if (core._isInline) {\r\n                    event._hideToolbar();\r\n                } else {\r\n                    context.element.toolbar.style.display = 'none';\r\n                    context.element._stickyDummy.style.display = 'none';\r\n                }\r\n            },\r\n        }\r\n    };\r\n\r\n    /************ Core init ************/\r\n    // functions\r\n    core.functions = functions;\r\n\r\n    // Create to sibling node\r\n    let contextEl = context.element;\r\n    let originEl = contextEl.originElement;\r\n    let topEl = contextEl.topArea;\r\n    originEl.style.display = 'none';\r\n    topEl.style.display = 'block';\r\n\r\n    // init\r\n    if (options.iframe) {\r\n        contextEl.wysiwygFrame.addEventListener('load', function () {\r\n            util._setIframeDocument(this, options);\r\n            core._editorInit(false, options.value);\r\n            options.value = null;\r\n        });\r\n    }\r\n\r\n    // insert editor element\r\n    if (typeof originEl.nextElementSibling === 'object') {\r\n        originEl.parentNode.insertBefore(topEl, originEl.nextElementSibling);\r\n    } else {\r\n        originEl.parentNode.appendChild(topEl);\r\n    }\r\n\r\n    contextEl.editorArea.appendChild(contextEl.wysiwygFrame);\r\n    contextEl = originEl = topEl = null;\r\n\r\n    // init\r\n    if (!options.iframe) {\r\n        core._editorInit(false, options.value);\r\n        options.value = null;\r\n    }\r\n\r\n    return functions;\r\n});\n// CONCATENATED MODULE: ./node_modules/suneditor/src/suneditor.js\n/*\n * wysiwyg web editor\n *\n * suneditor.js\n * Copyright 2017 JiHong Lee.\n * MIT license.\n */\n\n\n\n\n\n\n\n/* harmony default export */ var suneditor = ({\n    /**\n     * @description Returns the create function with preset options.\n     * If the options overlap, the options of the 'create' function take precedence.\n     * @param {Json} options Initialization options\n     * @returns {Object}\n     */\n    init: function (init_options) {\n        return {\n            create: function (idOrElement, options) {\n                return this.create(idOrElement, options, init_options);\n            }.bind(this)\n        };\n    },\n\n    /**\n     * @description Create the suneditor\n     * @param {String|Element} idOrElement textarea Id or textarea element\n     * @param {JSON|Object} options user options\n     * @returns {Object}\n     */\n    create: function (idOrElement, options, _init_options) {\n        lib_util._propertiesInit();\n\n        if (typeof options !== 'object') options = {};\n        if (_init_options) {\n            options =  [_init_options, options].reduce(function (init, option) {\n                            for (let key in option) {\n                                if (!lib_util.hasOwn(option, key)) continue;\n                                if (key === 'plugins' && option[key] && init[key]) {\n                                    let i = init[key], o = option[key];\n                                    i = i.length ? i : Object.keys(i).map(function(name) { return i[name]; });\n                                    o = o.length ? o : Object.keys(o).map(function(name) { return o[name]; });\n                                    init[key] = (o.filter(function(val) { return i.indexOf(val) === -1; })).concat(i);\n                                } else {\n                                    init[key] = option[key];\n                                }\n                            }\n                            return init;\n                        }, {});\n        }\n        \n        const element = typeof idOrElement === 'string' ? document.getElementById(idOrElement) : idOrElement;\n\n        if (!element) {\n            if (typeof idOrElement === 'string') {\n                throw Error('[SUNEDITOR.create.fail] The element for that id was not found (ID:\"' + idOrElement + '\")');\n            }\n\n            throw Error('[SUNEDITOR.create.fail] suneditor requires textarea\\'s element or id value');\n        }\n\n        const cons = lib_constructor.init(element, options);\n\n        if (cons.constructed._top.id && document.getElementById(cons.constructed._top.id)) {\n            throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:\"' + cons.constructed._top.id + '\")');\n        }\n\n        return lib_core(lib_context(element, cons.constructed, cons.options), cons.pluginCallButtons, cons.plugins, cons.options.lang, options, cons._responsiveButtons);\n    }\n});\n\n// CONCATENATED MODULE: ./misc/getPlugins.js\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar getPlugins = function getPlugins(_ref) {\n  var buttonList = _ref.buttonList,\n      customPlugins = _ref.customPlugins;\n  if (!buttonList) return undefined;\n  if (!isArray(buttonList)) throw new Error(\"Button List must be of type array\");else {\n    var pluginList = [];\n    buttonList = flatten(buttonList);\n    if (buttonList.indexOf(\"align\") >= 0) pluginList.push(__webpack_require__(9).default);\n    if (buttonList.indexOf(\"math\") >= 0) pluginList.push(__webpack_require__(10).default);\n    if (buttonList.indexOf(\"imageGallery\") >= 0) pluginList.push(__webpack_require__(11).default);\n    if (buttonList.indexOf(\"blockquote\") >= 0) pluginList.push(__webpack_require__(12).default);\n    if (buttonList.indexOf(\"font\") >= 0) pluginList.push(__webpack_require__(13).default);\n    if (buttonList.indexOf(\"fontColor\") >= 0) pluginList.push(__webpack_require__(14).default);\n    if (buttonList.indexOf(\"fontSize\") >= 0) pluginList.push(__webpack_require__(15).default);\n    if (buttonList.indexOf(\"formatBlock\") >= 0) pluginList.push(__webpack_require__(16).default);\n    if (buttonList.indexOf(\"hiliteColor\") >= 0) pluginList.push(__webpack_require__(17).default);\n    if (buttonList.indexOf(\"horizontalRule\") >= 0) pluginList.push(__webpack_require__(18).default);\n    if (buttonList.indexOf(\"lineHeight\") >= 0) pluginList.push(__webpack_require__(19).default);\n    if (buttonList.indexOf(\"list\") >= 0) pluginList.push(__webpack_require__(20).default);\n    if (buttonList.indexOf(\"paragraphStyle\") >= 0) pluginList.push(__webpack_require__(21).default);\n    if (buttonList.indexOf(\"table\") >= 0) pluginList.push(__webpack_require__(22).default);\n    if (buttonList.indexOf(\"template\") >= 0) pluginList.push(__webpack_require__(23).default);\n    if (buttonList.indexOf(\"textStyle\") >= 0) pluginList.push(__webpack_require__(24).default);\n    if (buttonList.indexOf(\"image\") >= 0) pluginList.push(__webpack_require__(25).default);\n    if (buttonList.indexOf(\"link\") >= 0) pluginList.push(__webpack_require__(26).default);\n    if (buttonList.indexOf(\"video\") >= 0) pluginList.push(__webpack_require__(27).default);\n    if (buttonList.indexOf(\"audio\") >= 0) pluginList.push(__webpack_require__(28).default);\n    return [].concat(pluginList, _toConsumableArray(customPlugins || []));\n  }\n};\n\nvar flatten = function flatten(arr) {\n  var result = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (!isArray(arr)) {\n    return [].concat(_toConsumableArray(result), [arr]);\n  }\n\n  for (var a = 0; a < arr.length; a++) {\n    result = flatten(arr[a], result);\n  }\n\n  return result;\n};\n\nvar isArray = function isArray(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Array]\";\n};\n\n/* harmony default export */ var misc_getPlugins = (getPlugins);\n// CONCATENATED MODULE: ./misc/getLanguage.js\nvar getLanguage = function getLanguage(lang) {\n  switch (typeof lang) {\n    case 'object':\n      return lang;\n\n    case 'string':\n      switch (lang) {\n        case 'en':\n          return __webpack_require__(4);\n\n        case 'da':\n          return __webpack_require__(29);\n\n        case 'de':\n          return __webpack_require__(30);\n\n        case 'es':\n          return __webpack_require__(31);\n\n        case 'fr':\n          return __webpack_require__(32);\n\n        case 'ja':\n          return __webpack_require__(33);\n\n        case 'ko':\n          return __webpack_require__(34);\n\n        case 'pt_br':\n          return __webpack_require__(35);\n\n        case 'ru':\n          return __webpack_require__(36);\n\n        case 'it':\n          return __webpack_require__(37);\n\n        case 'zh_cn':\n          return __webpack_require__(38);\n\n        case 'ro':\n          return __webpack_require__(39);\n\n        case 'pl':\n          return __webpack_require__(40);\n\n        case 'ckb':\n          return __webpack_require__(41);\n\n        case 'lv':\n          return __webpack_require__(42);\n\n        default:\n          return __webpack_require__(4);\n      }\n\n  }\n\n  return __webpack_require__(4);\n};\n\n/* harmony default export */ var misc_getLanguage = (getLanguage);\n// EXTERNAL MODULE: ./node_modules/prop-types/index.js\nvar prop_types = __webpack_require__(0);\nvar prop_types_default = /*#__PURE__*/__webpack_require__.n(prop_types);\n\n// CONCATENATED MODULE: ./SunEditor.js\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n\nvar SunEditor_SunEditor = /*#__PURE__*/function (_Component) {\n  _inherits(SunEditor, _Component);\n\n  var _super = _createSuper(SunEditor);\n\n  function SunEditor() {\n    var _this;\n\n    _classCallCheck(this, SunEditor);\n\n    _this = _super.call(this);\n    _this.txtArea = /*#__PURE__*/Object(external_react_[\"createRef\"])();\n    return _this;\n  }\n\n  _createClass(SunEditor, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          lang = _this$props.lang,\n          _this$props$setOption = _this$props.setOptions,\n          setOptions = _this$props$setOption === void 0 ? {} : _this$props$setOption,\n          _this$props$width = _this$props.width,\n          width = _this$props$width === void 0 ? \"100%\" : _this$props$width,\n          height = _this$props.height;\n      setOptions.lang = setOptions.lang || misc_getLanguage(lang);\n      setOptions.plugins = misc_getPlugins(setOptions);\n      setOptions.width = setOptions.width || width;\n      if (height) setOptions.height = height;\n      this.editor = suneditor.create(this.txtArea.current);\n      var _this$props2 = this.props,\n          name = _this$props2.name,\n          insertHTML = _this$props2.insertHTML,\n          setContents = _this$props2.setContents,\n          setDefaultStyle = _this$props2.setDefaultStyle,\n          appendContents = _this$props2.appendContents,\n          disable = _this$props2.disable,\n          enable = _this$props2.enable,\n          hide = _this$props2.hide,\n          show = _this$props2.show,\n          _this$props2$showTool = _this$props2.showToolbar,\n          showToolbar = _this$props2$showTool === void 0 ? true : _this$props2$showTool,\n          _this$props2$enableTo = _this$props2.enableToolbar,\n          enableToolbar = _this$props2$enableTo === void 0 ? true : _this$props2$enableTo,\n          onScroll = _this$props2.onScroll,\n          onClick = _this$props2.onClick,\n          onKeyDown = _this$props2.onKeyDown,\n          onKeyUp = _this$props2.onKeyUp,\n          onDrop = _this$props2.onDrop,\n          onChange = _this$props2.onChange,\n          onCopy = _this$props2.onCopy,\n          onCut = _this$props2.onCut,\n          onImageUpload = _this$props2.onImageUpload,\n          onImageUploadError = _this$props2.onImageUploadError,\n          onPaste = _this$props2.onPaste,\n          autoFocus = _this$props2.autoFocus,\n          onBlur = _this$props2.onBlur,\n          onFocus = _this$props2.onFocus,\n          onLoad = _this$props2.onLoad,\n          onInput = _this$props2.onInput,\n          onImageUploadBefore = _this$props2.onImageUploadBefore,\n          onVideoUploadBefore = _this$props2.onVideoUploadBefore,\n          onAudioUploadBefore = _this$props2.onAudioUploadBefore,\n          onVideoUpload = _this$props2.onVideoUpload,\n          onMouseDown = _this$props2.onMouseDown,\n          onAudioUpload = _this$props2.onAudioUpload,\n          onVideoUploadError = _this$props2.onVideoUploadError,\n          onAudioUploadError = _this$props2.onAudioUploadError,\n          placeholder = _this$props2.placeholder,\n          imageUploadHandler = _this$props2.imageUploadHandler,\n          toggleCodeView = _this$props2.toggleCodeView,\n          toggleFullScreen = _this$props2.toggleFullScreen,\n          showInline = _this$props2.showInline,\n          showController = _this$props2.showController;\n      if (onChange || name) this.editor.onChange = function (content) {\n        if (name) _this2.txtArea.current.value = content;\n        if (onChange) onChange(content);\n      };\n      if (onCopy) this.editor.onCopy = function (e, clipboardData) {\n        return onCopy(e, clipboardData);\n      };\n      if (onCut) this.editor.onCut = function (e, clipboardData) {\n        return onCut(e, clipboardData);\n      };\n      if (onMouseDown) this.editor.onMouseDown = function (e) {\n        return onMouseDown(e);\n      };\n      if (onScroll) this.editor.onScroll = function (e) {\n        return onScroll(e);\n      };\n      if (onInput) this.editor.onInput = function (e) {\n        return onInput(e);\n      };\n      if (onClick) this.editor.onClick = function (e) {\n        return onClick(e);\n      };\n      if (onKeyUp) this.editor.onKeyUp = function (e) {\n        return onKeyUp(e);\n      };\n      if (onKeyDown) this.editor.onKeyDown = function (e) {\n        return onKeyDown(e);\n      };\n      if (onBlur) this.editor.onBlur = function (e) {\n        return onBlur(e, _this2.editor.getContents());\n      };\n      if (onFocus) this.editor.onFocus = function (e) {\n        return onFocus(e);\n      };\n      if (onImageUploadBefore) this.editor.onImageUploadBefore = function (files, info, _, uploadHandler) {\n        return onImageUploadBefore(files, info, uploadHandler);\n      };\n      if (onVideoUploadBefore) this.editor.onVideoUploadBefore = function (files, info, _, uploadHandler) {\n        return onVideoUploadBefore(files, info, uploadHandler);\n      };\n      if (onAudioUploadBefore) this.editor.onAudioUploadBefore = function (files, info, _, uploadHandler) {\n        return onAudioUploadBefore(files, info, uploadHandler);\n      };\n      if (onDrop) this.editor.onDrop = function (e, cleanData, maxCharCount) {\n        return onDrop(e, cleanData, maxCharCount);\n      };\n      if (onPaste) this.editor.onPaste = function (e, cleanData, maxCharCount) {\n        return onPaste(e, cleanData, maxCharCount);\n      };\n      if (onImageUpload) this.editor.onImageUpload = function (targetImgElement, index, state, imageInfo, remainingFilesCount) {\n        return onImageUpload(targetImgElement, index, state, imageInfo, remainingFilesCount);\n      };\n      if (onVideoUpload) this.editor.onVideoUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onVideoUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onAudioUpload) this.editor.onAudioUpload = function (targetElement, index, state, info, remainingFilesCount) {\n        return onAudioUpload(targetElement, index, state, info, remainingFilesCount);\n      };\n      if (onImageUploadError) this.editor.onImageUploadError = function (errorMessage, result) {\n        return onImageUploadError(errorMessage, result);\n      };\n      if (onVideoUploadError) this.editor.onVideoUploadError = function (errorMessage, result) {\n        return onVideoUploadError(errorMessage, result);\n      };\n      if (onAudioUploadError) this.editor.onAudioUploadError = function (errorMessage, result) {\n        return onAudioUploadError(errorMessage, result);\n      };\n      if (placeholder) setOptions.placeholder = placeholder;\n      this.editor.setOptions(setOptions);\n\n      this.editor.onload = function (_, reload) {\n        if (reload === false) {\n          if (setContents) {\n            _this2.editor.setContents(setContents);\n\n            _this2.editor.core.focusEdge();\n          }\n\n          if (setDefaultStyle) _this2.editor.setDefaultStyle(setDefaultStyle);\n          if (insertHTML) _this2.editor.insertHTML(insertHTML);\n          if (appendContents) _this2.editor.appendContents(appendContents);\n          if (_this2.editor.util.isIE) _this2.editor.core._createDefaultRange();\n          if (enable === true) _this2.editor.enabled();\n          if (disable === true) _this2.editor.disabled();\n          if (hide === true) _this2.editor.hide();\n          if (show === true) _this2.editor.show();\n          if (showToolbar === true) _this2.editor.toolbar.show();else _this2.editor.toolbar.hide();\n          if (enableToolbar === true) _this2.editor.toolbar.enabled();else _this2.editor.toolbar.disabled();\n          if (autoFocus === false) _this2.editor.core.context.element.wysiwyg.blur();else if (autoFocus === true) _this2.editor.core.context.element.wysiwyg.focus();\n        }\n\n        if (onLoad) onLoad(reload);\n      };\n\n      if (imageUploadHandler && typeof imageUploadHandler === \"function\") this.editor.imageUploadHandler = imageUploadHandler;\n      if (toggleCodeView && typeof toggleCodeView === \"function\") this.editor.toggleCodeView = function (isCodeView) {\n        return toggleCodeView(isCodeView);\n      };\n      if (toggleFullScreen && typeof toggleFullScreen === \"function\") this.editor.toggleFullScreen = function (isFullScreen) {\n        return toggleFullScreen(isFullScreen);\n      };\n      if (showInline && typeof showInline === \"function\") this.editor.showInline = function (toolbar, context) {\n        return showInline(toolbar, context);\n      };\n      if (showController && typeof showController === \"function\") this.editor.showController = function (name, controllers) {\n        return showController(name, controllers);\n      };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Props compared\n      if (prevProps.lang !== this.props.lang) {\n        this.editor.setOptions({\n          lang: misc_getLanguage(this.props.lang)\n        });\n      }\n\n      if (prevProps.placeholder !== this.props.placeholder) {\n        this.editor.setOptions({\n          placeholder: this.props.placeholder\n        });\n      }\n\n      if (prevProps.height !== this.props.height) {\n        this.editor.setOptions({\n          height: this.props.height\n        });\n      }\n\n      if (prevProps.width !== this.props.width) {\n        this.editor.setOptions({\n          width: this.props.width\n        });\n      }\n\n      if (prevProps.setDefaultStyle !== this.props.setDefaultStyle) {\n        this.editor.setDefaultStyle(this.props.setDefaultStyle);\n      }\n\n      if (prevProps.setContents !== this.props.setContents) {\n        !this.editor.core.hasFocus && this.editor.setContents(this.props.setContents);\n      }\n\n      if (prevProps.appendContents !== this.props.appendContents) {\n        this.editor.appendContents(this.props.appendContents);\n        this.editor.core.focusEdge();\n      }\n\n      if (prevProps.insertHTML !== this.props.insertHTML) {\n        this.editor.insertHTML(this.props.insertHTML);\n      }\n\n      if (prevProps.enable !== this.props.enable) {\n        if (this.props.enable === true) this.editor.enabled();else this.editor.disabled();\n      }\n\n      if (prevProps.disable !== this.props.disable) {\n        if (this.props.disable === true) this.editor.disabled();else this.editor.enabled();\n      }\n\n      if (prevProps.showToolbar !== this.props.showToolbar) {\n        if (this.props.showToolbar === true) this.editor.toolbar.show();else this.editor.toolbar.hide(); // showToolbar contributed by https://github.com/nelreina\n      }\n\n      if (prevProps.enableToolbar !== this.props.enableToolbar) {\n        if (this.props.enableToolbar === true) this.editor.toolbar.enabled();else this.editor.toolbar.disabled();\n      }\n\n      if (prevProps.show !== this.props.show) {\n        if (this.props.show === true) this.editor.show();else this.editor.hide();\n      }\n\n      if (prevProps.hide !== this.props.hide) {\n        if (this.props.hide === true) this.editor.hide();else this.editor.show();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.editor) this.editor.destroy(); // Contributed by https://github.com/AramRafeq\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var dynamicName = {};\n      if (this.props.name) dynamicName.name = this.props.name;\n      return /*#__PURE__*/external_react_default.a.createElement(\"textarea\", _extends({\n        ref: this.txtArea\n      }, dynamicName));\n    }\n  }]);\n\n  return SunEditor;\n}(external_react_[\"Component\"]);\n\nSunEditor_SunEditor.propTypes = {\n  imageUploadHandler: prop_types_default.a.func,\n  toggleCodeView: prop_types_default.a.func,\n  toggleFullScreen: prop_types_default.a.func,\n  showInline: prop_types_default.a.func,\n  showController: prop_types_default.a.func,\n  onChange: prop_types_default.a.func,\n  onScroll: prop_types_default.a.func,\n  onClick: prop_types_default.a.func,\n  onKeyUp: prop_types_default.a.func,\n  onKeyDown: prop_types_default.a.func,\n  onInput: prop_types_default.a.func,\n  onDrop: prop_types_default.a.func,\n  onBlur: prop_types_default.a.func,\n  onFocus: prop_types_default.a.func,\n  onLoad: prop_types_default.a.func,\n  onCut: prop_types_default.a.func,\n  onCopy: prop_types_default.a.func,\n  onPaste: prop_types_default.a.func,\n  onImageUploadBefore: prop_types_default.a.func,\n  onImageUpload: prop_types_default.a.func,\n  onImageUploadError: prop_types_default.a.func,\n  onVideoUploadBefore: prop_types_default.a.func,\n  onAudioUploadBefore: prop_types_default.a.func,\n  onVideoUpload: prop_types_default.a.func,\n  onMouseDown: prop_types_default.a.func,\n  onAudioUpload: prop_types_default.a.func,\n  onVideoUploadError: prop_types_default.a.func,\n  onAudioUploadError: prop_types_default.a.func,\n  setOptions: prop_types_default.a.object,\n  setContents: prop_types_default.a.string,\n  name: prop_types_default.a.string,\n  appendContents: prop_types_default.a.string,\n  setDefaultStyle: prop_types_default.a.string,\n  enable: prop_types_default.a.bool,\n  showToolbar: prop_types_default.a.bool,\n  enableToolbar: prop_types_default.a.bool,\n  disable: prop_types_default.a.bool,\n  hide: prop_types_default.a.bool,\n  show: prop_types_default.a.bool,\n  autoFocus: prop_types_default.a.bool,\n  placeholder: prop_types_default.a.string,\n  lang: prop_types_default.a.oneOfType([prop_types_default.a.object, prop_types_default.a.string]),\n  width: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string]),\n  height: prop_types_default.a.oneOfType([prop_types_default.a.number, prop_types_default.a.string])\n};\n/* harmony default export */ var SunEditor_0 = (SunEditor_SunEditor);\n// CONCATENATED MODULE: ./main.js\n\n\n\n/* harmony default export */ var main = __webpack_exports__[\"default\"] = (SunEditor_0);\n\n/***/ })\n/******/ ]);"]},"metadata":{},"sourceType":"script"}